(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{40:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(8),__webpack_require__(0)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(async,$){var pageLoader={init:function(callback){window.react.renderer(window.react.redux.store),window.react.redux.store.dispatch({type:"NAV_CHANGE",payload:{activeItem:$("#__sidebar_route").text(),activeSubItem:$("#__sidebar_sub_route").text(),sessionUser:window.trudeskSessionService.getUser()}}),window.react.redux.store.dispatch({type:"SET_SESSION_USER",payload:{sessionUser:window.trudeskSessionService.getUser()}}),__webpack_require__.e(8).then(function(){var __WEBPACK_AMD_REQUIRE_ARRAY__=[__webpack_require__(365),__webpack_require__(366),__webpack_require__(369),__webpack_require__(370),__webpack_require__(373),__webpack_require__(374),__webpack_require__(92),__webpack_require__(375),__webpack_require__(376),__webpack_require__(377),__webpack_require__(378),__webpack_require__(379),__webpack_require__(380),__webpack_require__(381),__webpack_require__(382)];(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){async.parallel([function(done){a.init(done)},function(done){b.init(done)},function(done){c.init(done)},function(done){d.init(done)},function(done){e.init(done)},function(done){f.init(done)},function(done){g.init(done)},function(done){h.init(done)},function(done){i.init(done)},function(done){j.init(done)},function(done){k.init(done)},function(done){l.init(done)},function(done){return m.init(),n.init(),done()}],function(){if("function"==typeof callback)return callback()})}).apply(null,__WEBPACK_AMD_REQUIRE_ARRAY__)}).catch(__webpack_require__.oe)}};return pageLoader}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},42:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(0),__webpack_require__(2),__webpack_require__(10),__webpack_require__(9),__webpack_require__(38),__webpack_require__(40),__webpack_require__(37),__webpack_require__(52)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,_,angular,helpers,nav,pageLoader,socketClient){$(window).on("statechangecomplete",function(){var $ele=$("#page-content");$ele.ready(function(){angular.bootstrap($ele,["trudesk"])}),socketClient.ui.init(socketClient.socket),socketClient.chat.getOpenWindows(),socketClient.chat.updateOnlineBubbles(),$("body > .side-nav-sub.tether-element").each(function(){$(this).remove()}),helpers.init(!0),helpers.hideAllUiKitDropdowns(),helpers.UI.initSidebar(),helpers.UI.bindExpand(),nav.init(),pageLoader.init(),helpers.UI.cardShow(),helpers.countUpMe(),_.debounce(function(){$.event.trigger("$trudesk:ready")},100)()});var History=window.History,document=window.document;if(!History.enabled)return!1;$(function(){var $content=$(".wrapper > .ajaxyContent:first").filter(":first"),contentNode=$content.get(0),$window=$(window),$body=$(document.body),rootUrl=History.getRootUrl(),scrollOptions={duration:800,easing:"swing"};0===$content.length&&($content=$body),$.expr[":"].internal=function(obj){var url=$(obj).attr("href")||"";return url.substring(0,rootUrl.length)===rootUrl||-1===url.indexOf(":")};$.fn.ajaxify=function(){var $this=$(this);return $this.find("a:internal:not(.no-ajaxy):not(.ajaxify-bound):not(.search-choice-close)").addClass("ajaxify-bound").on("click",function(event){var $this=$(this),url=$this.attr("href"),title=$this.attr("title")||null;return!(2!==event.which&&!event.metaKey)||(History.pushState(null,title,url),event.preventDefault(),!1)}),$this},$body.ajaxify(),$window.bind("statechange",function(){var url=History.getState().url,relativeUrl=url.replace(rootUrl,"");$body.addClass("loading"),$.ajax({url,success:function(data){var result,contentHtml,$scripts,$data=$((result=String(data).replace(/<!DOCTYPE[^>]*>/i,"").replace(/<(html|head|body|title|meta|script)([\s>])/gi,'<div class="document-$1"$2').replace(/<\/(html|head|body|title|meta|script)>/gi,"</div>"),$.trim(result))),$dataContent=$data.find(".document-body:first").find(".wrapper > .ajaxyContent:first").filter(":first");if(($scripts=$dataContent.find(".document-script")).length&&$scripts.detach(),!(contentHtml=$dataContent.html()))return document.location.href=url,!1;$("#page-content").animate({opacity:0},0,function(){var $oldContent=$("#page-content");$oldContent.find("*").off("click click.chosen mouseup mousemove mousedown change"),document.getElementById("settings-container")&&window.react.dom.unmountComponentAtNode(document.getElementById("settings-container")),document.getElementById("accounts-container")&&window.react.dom.unmountComponentAtNode(document.getElementById("accounts-container")),$content.stop(!0,!0),$oldContent.find("*").remove(),$oldContent=null,$content.html(contentHtml).ajaxify().css("opacity",1).show(),document.title=$data.find(".document-title:first").text();try{document.getElementsByTagName("title")[0].innerHTML=document.title.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(Exception){console.log("[AJAXIFY] ERROR: SHOULD HAVE NOT HAPPENED!")}$scripts.each(function(){var $script=$(this),scriptText=$script.text(),scriptNode=document.createElement("script");$script.attr("src")&&($script[0].async||(scriptNode.async=!1),scriptNode.src=$script.attr("src")),scriptNode.appendChild(document.createTextNode(scriptText)),contentNode.appendChild(scriptNode)}),$body.ScrollTo&&$body.ScrollTo(scrollOptions),$body.removeClass("loading"),$window.trigger("statechangecomplete"),void 0!==window._gaq&&window._gaq.push(["_trackPageview",relativeUrl])})},error:function(jqXHR,textStatus,errorThrown){return document.location.href=url,console.log("[trudesk:ajaxify:Load] - Error Loading Document!!!"),console.error(errorThrown),!1}})})})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},43:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 1.0.3
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */function FastClick(a,b){"use strict";function c(a,b){return function(){return a.apply(b,arguments)}}var d;if(b=b||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=b.touchBoundary||10,this.layer=a,this.tapDelay=b.tapDelay||200,!FastClick.notNeeded(a)){for(var e=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],f=this,g=0,h=e.length;h>g;g++)f[e[g]]=c(f[e[g]],f);deviceIsAndroid&&(a.addEventListener("mouseover",this.onMouse,!0),a.addEventListener("mousedown",this.onMouse,!0),a.addEventListener("mouseup",this.onMouse,!0)),a.addEventListener("click",this.onClick,!0),a.addEventListener("touchstart",this.onTouchStart,!1),a.addEventListener("touchmove",this.onTouchMove,!1),a.addEventListener("touchend",this.onTouchEnd,!1),a.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(a.removeEventListener=function(b,c,d){var e=Node.prototype.removeEventListener;"click"===b?e.call(a,b,c.hijacked||c,d):e.call(a,b,c,d)},a.addEventListener=function(b,c,d){var e=Node.prototype.addEventListener;"click"===b?e.call(a,b,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(a,b,c,d)}),"function"==typeof a.onclick&&(d=a.onclick,a.addEventListener("click",function(a){d(a)},!1),a.onclick=null)}}var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===a.type||a.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(a.className)},FastClick.prototype.needsFocus=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},FastClick.prototype.sendClick=function(a,b){"use strict";var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],(c=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},FastClick.prototype.determineEventType=function(a){"use strict";return deviceIsAndroid&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(a){"use strict";var b;deviceIsIOS&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},FastClick.prototype.updateScrollParent=function(a){"use strict";var b,c;if(!(b=a.fastClickScrollParent)||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(a){"use strict";return a.nodeType===Node.TEXT_NODE?a.parentNode:a},FastClick.prototype.onTouchStart=function(a){"use strict";var b,c,d;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],deviceIsIOS){if((d=window.getSelection()).rangeCount&&!d.isCollapsed)return!0;if(!deviceIsIOS4){if(c.identifier&&c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(a){"use strict";var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c},FastClick.prototype.onTouchMove=function(a){"use strict";return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0)},FastClick.prototype.findControl=function(a){"use strict";return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(a){"use strict";var b,c,d,e,f,g=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(f=a.changedTouches[0],(g=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||g).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(d=g.tagName.toLowerCase())){if(b=this.findControl(g)){if(this.focus(g),deviceIsAndroid)return!1;g=b}}else if(this.needsFocus(g))return a.timeStamp-c>100||deviceIsIOS&&window.top!==window&&"input"===d?(this.targetElement=null,!1):(this.focus(g),this.sendClick(g,a),deviceIsIOS&&"select"===d||(this.targetElement=null,a.preventDefault()),!1);return!(!deviceIsIOS||deviceIsIOS4||(e=g.fastClickScrollParent,!e||e.fastClickLastScrollTop===e.scrollTop))||(this.needsClick(g)||(a.preventDefault(),this.sendClick(g,a)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(a){"use strict";return!this.targetElement||(!!a.forwardedTouchEvent||(!(a.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick))||(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1)))},FastClick.prototype.onClick=function(a){"use strict";var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail||((b=this.onMouse(a))||(this.targetElement=null),b)},FastClick.prototype.destroy=function(){"use strict";var a=this.layer;deviceIsAndroid&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(a){"use strict";var b,c,d;if(void 0===window.ontouchstart)return!0;if(c=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(c>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(deviceIsBlackBerry10&&((d=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&d[2]>=3&&(b=document.querySelector("meta[name=viewport]")))){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===a.style.msTouchAction},FastClick.attach=function(a,b){"use strict";return new FastClick(a,b)},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){"use strict";return FastClick}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},44:function(module,exports,__webpack_require__){(function(jQuery){/*! http://mths.be/placeholder v2.0.8 by @mathias */
!function(a,b,c){function e(a,b){var d=this,e=c(d);if(d.value==e.attr("placeholder")&&e.hasClass("placeholder"))if(e.data("placeholder-password")){if(e=e.hide().next().show().attr("id",e.removeAttr("id").data("placeholder-id")),!0===a)return e[0].value=b;e.focus()}else d.value="",e.removeClass("placeholder"),d==g()&&d.select()}function f(){var a,b=this,f=c(b),g=this.id;if(""==b.value){if("password"==b.type){if(!f.data("placeholder-textinput")){try{a=f.clone().attr({type:"text"})}catch(h){a=c("<input>").attr(c.extend(function(a){var b={},d=/^jQuery\d+$/;return c.each(a.attributes,function(a,c){c.specified&&!d.test(c.name)&&(b[c.name]=c.value)}),b}(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":f,"placeholder-id":g}).bind("focus.placeholder",e),f.data({"placeholder-textinput":a,"placeholder-id":g}).before(a)}f=f.removeAttr("id").hide().prev().attr("id",g).show()}f.addClass("placeholder"),f[0].value=f.attr("placeholder")}else f.removeClass("placeholder")}function g(){try{return b.activeElement}catch(a){}}var h,i,j="[object OperaMini]"==Object.prototype.toString.call(a.operamini),k="placeholder"in b.createElement("input")&&!j,l="placeholder"in b.createElement("textarea")&&!j,m=c.fn,n=c.valHooks,o=c.propHooks;k&&l?(i=m.placeholder=function(){return this}).input=i.textarea=!0:((i=m.placeholder=function(){return this.filter((k?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":e,"blur.placeholder":f}).data("placeholder-enabled",!0).trigger("blur.placeholder"),this}).input=k,i.textarea=l,h={get:function(a){var b=c(a),d=b.data("placeholder-password");return d?d[0].value:b.data("placeholder-enabled")&&b.hasClass("placeholder")?"":a.value},set:function(a,b){var d=c(a),h=d.data("placeholder-password");return h?h[0].value=b:d.data("placeholder-enabled")?(""==b?(a.value=b,a!=g()&&f.call(a)):d.hasClass("placeholder")&&e.call(a,!0,b)||(a.value=b),d):a.value=b}},k||(n.input=h,o.value=h),l||(n.textarea=h,o.value=h),c(function(){c(b).delegate("form","submit.placeholder",function(){var a=c(".placeholder",this).each(e);setTimeout(function(){a.each(f)},10)})}),c(a).bind("beforeunload.placeholder",function(){c(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery)}).call(this,__webpack_require__(0))},45:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;/*! pace 0.5.3 */ /*! pace 0.5.3 */
(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,V,W=[].slice,X={}.hasOwnProperty,Y=function(a,b){function c(){this.constructor=a}for(var d in b)X.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},Z=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};for(t={catchupTime:500,initialRate:.03,minTime:500,ghostTime:500,maxProgressPerFrame:10,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},B=function(){var a;return null!=(a="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?a:+new Date},D=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,s=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==D&&(D=function(a){return setTimeout(a,50)},s=function(a){return clearTimeout(a)}),F=function(a){var b,c;return b=B(),(c=function(){var d;return(d=B()-b)>=33?(b=B(),a(d,function(){return D(c)})):setTimeout(c,33-d)})()},E=function(){var a,b,c;return c=arguments[0],b=arguments[1],a=3<=arguments.length?W.call(arguments,2):[],"function"==typeof c[b]?c[b].apply(c,a):c[b]},u=function(){var a,b,c,d,e,f,g;for(b=arguments[0],f=0,g=(d=2<=arguments.length?W.call(arguments,1):[]).length;g>f;f++)if(c=d[f])for(a in c)X.call(c,a)&&(e=c[a],null!=b[a]&&"object"==typeof b[a]&&null!=e&&"object"==typeof e?u(b[a],e):b[a]=e);return b},p=function(a){var b,c,d,e,f;for(c=b=0,e=0,f=a.length;f>e;e++)d=a[e],c+=Math.abs(d),b++;return c/b},w=function(a,b){var c,d,e;if(null==a&&(a="options"),null==b&&(b=!0),e=document.querySelector("[data-pace-"+a+"]")){if(c=e.getAttribute("data-pace-"+a),!b)return c;try{return JSON.parse(c)}catch(f){return d=f,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",d):void 0}}},g=function(){function a(){}return a.prototype.on=function(a,b,c,d){var e;return null==d&&(d=!1),null==this.bindings&&(this.bindings={}),null==(e=this.bindings)[a]&&(e[a]=[]),this.bindings[a].push({handler:b,ctx:c,once:d})},a.prototype.once=function(a,b,c){return this.on(a,b,c,!0)},a.prototype.off=function(a,b){var c,d,e;if(null!=(null!=(d=this.bindings)?d[a]:void 0)){if(null==b)return delete this.bindings[a];for(c=0,e=[];c<this.bindings[a].length;)e.push(this.bindings[a][c].handler===b?this.bindings[a].splice(c,1):c++);return e}},a.prototype.trigger=function(){var a,b,c,d,e,f,g,h,i;if(c=arguments[0],a=2<=arguments.length?W.call(arguments,1):[],null!=(g=this.bindings)?g[c]:void 0){for(e=0,i=[];e<this.bindings[c].length;)d=(h=this.bindings[c][e]).handler,b=h.ctx,f=h.once,d.apply(null!=b?b:this,a),i.push(f?this.bindings[c].splice(e,1):e++);return i}},a}(),null==window.Pace&&(window.Pace={}),u(Pace,g.prototype),C=Pace.options=u({},t,window.paceOptions,w()),P=0,R=(T=["ajax","document","eventLag","elements"]).length;R>P;P++)!0===C[J=T[P]]&&(C[J]=t[J]);i=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return Y(b,a),b}(Error),b=function(){function a(){this.progress=0}return a.prototype.getElement=function(){var a;if(null==this.el){if(!(a=document.querySelector(C.target)))throw new i;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=a.firstChild?a.insertBefore(this.el,a.firstChild):a.appendChild(this.el)}return this.el},a.prototype.finish=function(){var a;return(a=this.getElement()).className=a.className.replace("pace-active",""),a.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},a.prototype.update=function(a){return this.progress=a,this.render()},a.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(a){i=a}return this.el=void 0},a.prototype.render=function(){var a,b;return null!=document.querySelector(C.target)&&((a=this.getElement()).children[0].style.width=this.progress+"%",(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(a.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?b="99":(b=this.progress<10?"0":"",b+=0|this.progress),a.children[0].setAttribute("data-progress",""+b)),this.lastRenderedProgress=this.progress)},a.prototype.done=function(){return this.progress>=100},a}(),h=function(){function a(){this.bindings={}}return a.prototype.trigger=function(a,b){var c,d,e,f,g;if(null!=this.bindings[a]){for(g=[],d=0,e=(f=this.bindings[a]).length;e>d;d++)c=f[d],g.push(c.call(this,b));return g}},a.prototype.on=function(a,b){var c;return null==(c=this.bindings)[a]&&(c[a]=[]),this.bindings[a].push(b)},a}(),O=window.XMLHttpRequest,N=window.XDomainRequest,M=window.WebSocket,v=function(a,b){var d,e,f;for(d in f=[],b.prototype)try{e=b.prototype[d],f.push(null==a[d]&&"function"!=typeof e?a[d]=e:void 0)}catch(g){g}return f},z=[],Pace.ignore=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?W.call(arguments,1):[],z.unshift("ignore"),c=b.apply(null,a),z.shift(),c},Pace.track=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?W.call(arguments,1):[],z.unshift("track"),c=b.apply(null,a),z.shift(),c},I=function(a){var b;if(null==a&&(a="GET"),"track"===z[0])return"force";if(!z.length&&C.ajax){if("socket"===a&&C.ajax.trackWebSockets)return!0;if(b=a.toUpperCase(),Z.call(C.ajax.trackMethods,b)>=0)return!0}return!1},j=function(a){function b(){var a,c=this;b.__super__.constructor.apply(this,arguments),a=function(a){var b;return b=a.open,a.open=function(d,e){return I(d)&&c.trigger("request",{type:d,url:e,request:a}),b.apply(a,arguments)}},window.XMLHttpRequest=function(b){var c;return c=new O(b),a(c),c},v(window.XMLHttpRequest,O),null!=N&&(window.XDomainRequest=function(){var b;return b=new N,a(b),b},v(window.XDomainRequest,N)),null!=M&&C.ajax.trackWebSockets&&(window.WebSocket=function(a,b){var d;return d=null!=b?new M(a,b):new M(a),I("socket")&&c.trigger("request",{type:"socket",url:a,protocols:b,request:d}),d},v(window.WebSocket,M))}return Y(b,h),b}(),Q=null,H=function(a){var b,c,d,e;for(c=0,d=(e=C.ajax.ignoreURLs).length;d>c;c++)if("string"==typeof(b=e[c])){if(-1!==a.indexOf(b))return!0}else if(b.test(a))return!0;return!1},(x=function(){return null==Q&&(Q=new j),Q})().on("request",function(b){var c,d,e,f,g;return f=b.type,e=b.request,g=b.url,H(g)?void 0:Pace.running||!1===C.restartOnRequestAfter&&"force"!==I(f)?void 0:(d=arguments,"boolean"==typeof(c=C.restartOnRequestAfter||0)&&(c=0),setTimeout(function(){var c,g,h,i,j;if("socket"===f?e.readyState<2:0<(h=e.readyState)&&4>h){for(Pace.restart(),j=[],c=0,g=(i=Pace.sources).length;g>c;c++){if((J=i[c])instanceof a){J.watch.apply(J,d);break}j.push(void 0)}return j}},c))}),a=function(){function a(){var a=this;this.elements=[],x().on("request",function(){return a.watch.apply(a,arguments)})}return a.prototype.watch=function(a){var b,c,d,e;return d=a.type,b=a.request,e=a.url,H(e)?void 0:(c="socket"===d?new m(b):new n(b),this.elements.push(c))},a}(),n=function(){return function(a){var b,d,e,f,g,h=this;if(this.progress=0,null!=window.ProgressEvent)for(a.addEventListener("progress",function(a){return h.progress=a.lengthComputable?100*a.loaded/a.total:h.progress+(100-h.progress)/2}),d=0,e=(g=["load","abort","timeout","error"]).length;e>d;d++)b=g[d],a.addEventListener(b,function(){return h.progress=100});else f=a.onreadystatechange,a.onreadystatechange=function(){var b;return 0===(b=a.readyState)||4===b?h.progress=100:3===a.readyState&&(h.progress=50),"function"==typeof f?f.apply(null,arguments):void 0}}}(),m=function(){return function(a){var b,c,d,e,f=this;for(this.progress=0,c=0,d=(e=["error","open"]).length;d>c;c++)b=e[c],a.addEventListener(b,function(){return f.progress=100})}}(),d=function(){return function(a){var b,c,d,f;for(null==a&&(a={}),this.elements=[],null==a.selectors&&(a.selectors=[]),c=0,d=(f=a.selectors).length;d>c;c++)b=f[c],this.elements.push(new e(b))}}(),e=function(){function a(a){this.selector=a,this.progress=0,this.check()}return a.prototype.check=function(){var a=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return a.check()},C.elements.checkInterval)},a.prototype.done=function(){return this.progress=100},a}(),c=function(){function a(){var a,b,c=this;this.progress=null!=(b=this.states[document.readyState])?b:100,a=document.onreadystatechange,document.onreadystatechange=function(){return null!=c.states[document.readyState]&&(c.progress=c.states[document.readyState]),"function"==typeof a?a.apply(null,arguments):void 0}}return a.prototype.states={loading:0,interactive:50,complete:100},a}(),f=function(){return function(){var a,b,c,d,e,f=this;this.progress=0,a=0,e=[],d=0,c=B(),b=setInterval(function(){var g;return g=B()-c-50,c=B(),e.push(g),e.length>C.eventLag.sampleCount&&e.shift(),a=p(e),++d>=C.eventLag.minSamples&&a<C.eventLag.lagThreshold?(f.progress=100,clearInterval(b)):f.progress=3/(a+3)*100},50)}}(),l=function(){function a(a){this.source=a,this.last=this.sinceLastUpdate=0,this.rate=C.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=E(this.source,"progress"))}return a.prototype.tick=function(a,b){var c;return null==b&&(b=E(this.source,"progress")),b>=100&&(this.done=!0),b===this.last?this.sinceLastUpdate+=a:(this.sinceLastUpdate&&(this.rate=(b-this.last)/this.sinceLastUpdate),this.catchup=(b-this.progress)/C.catchupTime,this.sinceLastUpdate=0,this.last=b),b>this.progress&&(this.progress+=this.catchup*a),c=1-Math.pow(this.progress/100,C.easeFactor),this.progress+=c*this.rate*a,this.progress=Math.min(this.lastProgress+C.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},a}(),K=null,G=null,q=null,L=null,o=null,r=null,Pace.running=!1,y=function(){return C.restartOnPushState?Pace.restart():void 0},null!=window.history.pushState&&(S=window.history.pushState,window.history.pushState=function(){return y(),S.apply(window.history,arguments)}),null!=window.history.replaceState&&(V=window.history.replaceState,window.history.replaceState=function(){return y(),V.apply(window.history,arguments)}),k={ajax:a,elements:d,document:c,eventLag:f},(A=function(){var a,c,d,e,f,g,h,i;for(Pace.sources=K=[],c=0,e=(g=["ajax","elements","document","eventLag"]).length;e>c;c++)!1!==C[a=g[c]]&&K.push(new k[a](C[a]));for(d=0,f=(i=null!=(h=C.extraSources)?h:[]).length;f>d;d++)J=i[d],K.push(new J(C));return Pace.bar=q=new b,G=[],L=new l})(),Pace.stop=function(){return Pace.trigger("stop"),Pace.running=!1,q.destroy(),r=!0,null!=o&&("function"==typeof s&&s(o),o=null),A()},Pace.restart=function(){return Pace.trigger("restart"),Pace.stop(),Pace.start()},Pace.go=function(){var a;return Pace.running=!0,q.render(),a=B(),r=!1,o=F(function(b,c){var d,e,f,g,h,i,j,m,n,o,p,s,t,u,v;for(100-q.progress,e=o=0,f=!0,i=p=0,t=K.length;t>p;i=++p)for(J=K[i],n=null!=G[i]?G[i]:G[i]=[],j=s=0,u=(h=null!=(v=J.elements)?v:[J]).length;u>s;j=++s)g=h[j],f&=(m=null!=n[j]?n[j]:n[j]=new l(g)).done,m.done||(e++,o+=m.tick(b));return d=o/e,q.update(L.tick(b,d)),q.done()||f||r?(q.update(100),Pace.trigger("done"),setTimeout(function(){return q.finish(),Pace.running=!1,Pace.trigger("hide")},Math.max(C.ghostTime,Math.max(C.minTime-(B()-a),0)))):c()})},Pace.start=function(a){u(C,a),Pace.running=!0;try{q.render()}catch(b){i=b}return document.querySelector(".pace")?(Pace.trigger("start"),Pace.go()):setTimeout(Pace.start,50)},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return Pace}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this)},46:function(module,exports,__webpack_require__){(function(jQuery){
/*! Idle Timer - v1.1.0 - 2016-03-21
* https://github.com/thorst/jquery-idletimer
* Copyright (c) 2016 Paul Irish; Licensed MIT */
var $;($=jQuery).idleTimer=function(firstParam,elem){var opts;"object"==typeof firstParam?(opts=firstParam,firstParam=null):"number"==typeof firstParam&&(opts={timeout:firstParam},firstParam=null),elem=elem||document,opts=$.extend({idle:!1,timeout:3e4,events:"mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove"},opts);var jqElem=$(elem),obj=jqElem.data("idleTimerObj")||{},toggleIdleState=function(e){var obj=$.data(elem,"idleTimerObj")||{};obj.idle=!obj.idle,obj.olddate=+new Date;var event=$.Event((obj.idle?"idle":"active")+".idleTimer");$(elem).trigger(event,[elem,$.extend({},obj),e])},handleEvent=function(e){var obj=$.data(elem,"idleTimerObj")||{};if(("storage"!==e.type||e.originalEvent.key===obj.timerSyncId)&&null==obj.remaining){if("mousemove"===e.type){if(e.pageX===obj.pageX&&e.pageY===obj.pageY)return;if(void 0===e.pageX&&void 0===e.pageY)return;if(+new Date-obj.olddate<200)return}clearTimeout(obj.tId),obj.idle&&toggleIdleState(e),obj.lastActive=+new Date,obj.pageX=e.pageX,obj.pageY=e.pageY,"storage"!==e.type&&obj.timerSyncId&&"undefined"!=typeof localStorage&&localStorage.setItem(obj.timerSyncId,obj.lastActive),obj.tId=setTimeout(toggleIdleState,obj.timeout)}},reset=function(){var obj=$.data(elem,"idleTimerObj")||{};obj.idle=obj.idleBackup,obj.olddate=+new Date,obj.lastActive=obj.olddate,obj.remaining=null,clearTimeout(obj.tId),obj.idle||(obj.tId=setTimeout(toggleIdleState,obj.timeout))};if(null===firstParam&&void 0!==obj.idle)return reset(),jqElem;if(null===firstParam);else{if(null!==firstParam&&void 0===obj.idle)return!1;if("destroy"===firstParam)return function(){var obj=$.data(elem,"idleTimerObj")||{};clearTimeout(obj.tId),jqElem.removeData("idleTimerObj"),jqElem.off("._idleTimer")}(),jqElem;if("pause"===firstParam)return function(){var obj=$.data(elem,"idleTimerObj")||{};null==obj.remaining&&(obj.remaining=obj.timeout-(+new Date-obj.olddate),clearTimeout(obj.tId))}(),jqElem;if("resume"===firstParam)return function(){var obj=$.data(elem,"idleTimerObj")||{};null!=obj.remaining&&(obj.idle||(obj.tId=setTimeout(toggleIdleState,obj.remaining)),obj.remaining=null)}(),jqElem;if("reset"===firstParam)return reset(),jqElem;if("getRemainingTime"===firstParam)return function(){var obj=$.data(elem,"idleTimerObj")||{};if(obj.idle)return 0;if(null!=obj.remaining)return obj.remaining;var remaining=obj.timeout-(+new Date-obj.lastActive);return remaining<0&&(remaining=0),remaining}();if("getElapsedTime"===firstParam)return+new Date-obj.olddate;if("getLastActiveTime"===firstParam)return obj.lastActive;if("isIdle"===firstParam)return obj.idle}return jqElem.on($.trim((opts.events+" ").split(" ").join("._idleTimer ")),function(e){handleEvent(e)}),opts.timerSyncId&&$(window).bind("storage",handleEvent),(obj=$.extend({},{olddate:+new Date,lastActive:+new Date,idle:opts.idle,idleBackup:opts.idle,timeout:opts.timeout,remaining:null,timerSyncId:opts.timerSyncId,tId:null,pageX:null,pageY:null})).idle||(obj.tId=setTimeout(toggleIdleState,obj.timeout)),$.data(elem,"idleTimerObj",obj),jqElem},$.fn.idleTimer=function(firstParam){return this[0]?$.idleTimer(firstParam,this[0]):this}}).call(this,__webpack_require__(0))},47:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react=__webpack_require__(49),react_default=__webpack_require__.n(react),react_dom=__webpack_require__(68),react_dom_default=__webpack_require__.n(react_dom),redux=__webpack_require__(97),es=__webpack_require__(51),redux_saga_es=__webpack_require__(383),redux_saga_thunk=__webpack_require__(204),handleActions=__webpack_require__(384),immutable_es=__webpack_require__(90),lib=__webpack_require__(288);const ERROR="ERROR",SUCCESS="SUCCESS",SHOW_MODAL=Object(lib.defineAction)("SHOW_MODAL"),HIDE_MODAL=Object(lib.defineAction)("HIDE_MODAL"),CLEAR_MODAL=Object(lib.defineAction)("CLEAR_MODAL"),SHOW_NOTICE=Object(lib.defineAction)("SHOW_NOTICE",[SUCCESS]),CLEAR_NOTICE=Object(lib.defineAction)("CLEAR_NOTICE"),SET_SESSION_USER=Object(lib.defineAction)("SET_SESSION_USER"),FETCH_ROLES=Object(lib.defineAction)("FETCH_ROLES",[SUCCESS,ERROR]),UPDATE_ROLE_ORDER=Object(lib.defineAction)("UPDATE_ROLE_ORDER",[SUCCESS,ERROR]),NAV_CHANGE=Object(lib.defineAction)("NAV_CHANGE"),CREATE_TICKET=Object(lib.defineAction)("CREATE_TICKET",["PENDING",SUCCESS,ERROR]),CREATE_TICKET_TYPE=Object(lib.defineAction)("CREATE_TICKET_TYPE",[SUCCESS,ERROR]),RENAME_TICKET_TYPE=Object(lib.defineAction)("RENAME_TICKET_TYPE",[SUCCESS,ERROR]),DELETE_TICKET_TYPE=Object(lib.defineAction)("DELETE_TICKET_TYPE",[SUCCESS,ERROR]),CREATE_PRIORITY=Object(lib.defineAction)("CREATE_PRIORITY",[SUCCESS,ERROR]),UPDATE_PRIORITY=Object(lib.defineAction)("UPDATE_PRIORITY",[SUCCESS,ERROR]),DELETE_PRIORITY=Object(lib.defineAction)("DELETE_PRIORITY",[SUCCESS,ERROR]),GET_TAGS_WITH_PAGE=Object(lib.defineAction)("GET_TAGS_WITH_PAGE",[SUCCESS,ERROR]),TAGS_UPDATE_CURRENT_PAGE=Object(lib.defineAction)("TAGS_UPDATE_CURRENT_PAGE",[SUCCESS,ERROR]),CREATE_TAG=Object(lib.defineAction)("CREATE_TAG",[SUCCESS,ERROR]),FETCH_ACCOUNTS=Object(lib.defineAction)("FETCH_ACCOUNTS",["PENDING",SUCCESS,ERROR]),CREATE_ACCOUNT=Object(lib.defineAction)("CREATE_ACCOUNT",["PENDING",SUCCESS,ERROR]),SAVE_EDIT_ACCOUNT=Object(lib.defineAction)("SAVE_EDIT_ACCOUNT",["PENDING",SUCCESS,ERROR]),DELETE_ACCOUNT=Object(lib.defineAction)("DELETE_ACCOUNT",["PENDING",SUCCESS,ERROR]),ENABLE_ACCOUNT=Object(lib.defineAction)("ENABLE_ACCOUNT",[SUCCESS,ERROR]),UNLOAD_ACCOUNTS=Object(lib.defineAction)("UNLOAD_ACCOUNTS",[SUCCESS]),FETCH_SETTINGS=Object(lib.defineAction)("FETCH_SETTINGS",[SUCCESS,ERROR]),UPDATE_SETTING=Object(lib.defineAction)("UPDATE_SETTING",[SUCCESS,ERROR]),UPDATE_MULTIPLE_SETTINGS=Object(lib.defineAction)("UPDATE_MULTIPLE_SETTINGS",[SUCCESS,ERROR]),UPDATE_COLORSCHEME=Object(lib.defineAction)("UPDATE_COLORSCHEME",[SUCCESS,ERROR]),FETCH_MONGODB_TOOLS=Object(lib.defineAction)("FETCH_MONGODB_TOOLS",[SUCCESS,ERROR]),FETCH_BACKUPS=Object(lib.defineAction)("FETCH_BACKUPS",[SUCCESS,ERROR]),BACKUP_NOW=Object(lib.defineAction)("BACKUP_NOW",["PENDING",SUCCESS,ERROR]),FETCH_DELETED_TICKETS=Object(lib.defineAction)("FETCH_DELETED_TICKETS",["PENDING",SUCCESS,ERROR]),RESTORE_DELETED_TICKET=Object(lib.defineAction)("RESTORE_DELETED_TICKET",[SUCCESS,ERROR]),CHANGE_DELETED_TICKETS_PAGE=Object(lib.defineAction)("CHANGE_DELETED_TICKETS_PAGE"),UPDATE_PERMISSIONS=Object(lib.defineAction)("UPDATE_PERMISSIONS",["PENDING",SUCCESS,ERROR]),CREATE_ROLE=Object(lib.defineAction)("CREATE_ROLE",[SUCCESS,ERROR]),DELETE_ROLE=Object(lib.defineAction)("DELETE_ROLE",[SUCCESS,ERROR]),initialState={sessionUser:null,roles:Object(immutable_es.a)([]),roleOrder:Object(immutable_es.b)({}),notice:null};var shared=Object(handleActions.a)({[SET_SESSION_USER]:(state,action)=>({...state,sessionUser:action.payload.sessionUser}),[SHOW_NOTICE]:(state,action)=>({...state,notice:Object(immutable_es.c)(action.payload)}),[CLEAR_NOTICE]:state=>({...state,notice:null}),[FETCH_ROLES.SUCCESS]:(state,action)=>({...state,roles:Object(immutable_es.c)(action.response.roles),roleOrder:Object(immutable_es.c)(action.response.roleOrder)}),[UPDATE_ROLE_ORDER.SUCCESS]:(state,action)=>({...state,roleOrder:Object(immutable_es.c)(action.response.roleOrder)})},initialState);const common_initialState={};var common=function(state=common_initialState,action){return action.type,state},uikit_combined_min=__webpack_require__(5),uikit_combined_min_default=__webpack_require__.n(uikit_combined_min);const modalReducer_initialState={modalType:null,modalProps:{}};var modalReducer=Object(handleActions.a)({[SHOW_MODAL]:(state,action)=>({modalType:action.payload.modalType,modalProps:action.payload.modalProps}),[HIDE_MODAL]:(state,action)=>{const modal=document.getElementById("uk-modal");if(modal){const modalTag=modal.getAttribute("data-modal-tag");modalTag===action.payload?uikit_combined_min_default.a.modal(modal).hide():modalTag||uikit_combined_min_default.a.modal(modal).hide()}return state},[CLEAR_MODAL]:()=>({...modalReducer_initialState})},modalReducer_initialState);var reducers_sidebarReducer=Object(handleActions.a)({[NAV_CHANGE]:(state,action)=>({activeItem:action.payload.activeItem,activeSubItem:action.payload.activeSubItem,plugins:null})},{activeItem:"",activeSubItem:"",plugins:null}),lodash=__webpack_require__(14),helpers=__webpack_require__(9),helpers_default=__webpack_require__.n(helpers);const settings_initialState={loaded:!1,settings:Object(immutable_es.b)({}),hasMongoDBTools:!1,backingup:!1,backups:Object(immutable_es.a)([]),deletedTicketsCount:0,allDeletedTickets:Object(immutable_es.a)([]),deletedTickets:Object(immutable_es.a)([])};var reducers_settings=Object(handleActions.a)({[FETCH_SETTINGS.SUCCESS]:(state,action)=>({...state,settings:Object(immutable_es.c)(action.response.settings.data),loaded:!0}),[UPDATE_SETTING.SUCCESS]:(state,action)=>{const updatedSetting=Object(lodash.find)(action.response.updatedSettings,{name:action.payload.name});return{...state,loaded:state.loaded,settings:state.settings.setIn(["settings",action.payload.stateName],updatedSetting)}},[UPDATE_SETTING.ERROR]:(state,action)=>(helpers_default.a.UI.showSnackbar("Error: "+action.error,!0),{...state,loaded:state.loaded,settings:state.settings}),[UPDATE_MULTIPLE_SETTINGS.SUCCESS]:state=>({...state,loaded:state.loaded,settings:state.settings}),[FETCH_MONGODB_TOOLS.SUCCESS]:(state,action)=>({...state,hasMongoDBTools:action.response.success}),[FETCH_BACKUPS.SUCCESS]:(state,action)=>({...state,backups:Object(immutable_es.c)(action.response.files)}),[BACKUP_NOW.PENDING]:state=>({...state,backingup:!0}),[BACKUP_NOW.SUCCESS]:state=>({...state,backingup:!1}),[BACKUP_NOW.ERROR]:state=>({...state,backingup:!1}),[FETCH_DELETED_TICKETS.SUCCESS]:(state,action)=>({...state,deletedTicketsCount:action.response.deletedTickets.length,allDeletedTickets:Object(immutable_es.c)(action.response.deletedTickets),deletedTickets:Object(immutable_es.c)(action.response.deletedTickets.slice(0,15))}),[RESTORE_DELETED_TICKET.SUCCESS]:(state,action)=>{const deletedIdx=state.deletedTickets.findIndex(i=>i.get("_id")===action.payload._id),allDeletedIdx=state.allDeletedTickets.findIndex(i=>i.get("_id")===action.payload._id);return{...state,allDeletedTickets:state.allDeletedTickets.splice(allDeletedIdx,1),deletedTickets:state.deletedTickets.splice(deletedIdx,1)}},[CHANGE_DELETED_TICKETS_PAGE]:(state,action)=>{const pageIndex=action.payload.pageIndex;return{...state,deletedTickets:state.allDeletedTickets.slice(15*pageIndex,15*(pageIndex+1))}}},settings_initialState);const tagsReducer_initialState={loading:!0,totalCount:0,tags:Object(immutable_es.a)([]),currentPage:0};var reducers_tagsReducer=Object(handleActions.a)({[GET_TAGS_WITH_PAGE.SUCCESS]:(state,action)=>({...state,loading:!1,totalCount:action.response.count,tags:Object(immutable_es.c)(action.response.tags)}),[GET_TAGS_WITH_PAGE.ERROR]:(state,action)=>({...state,loading:!1}),[TAGS_UPDATE_CURRENT_PAGE]:(state,action)=>({...state,currentPage:action.payload.currentPage})},tagsReducer_initialState);const accountsReducer_initialState={accounts:Object(immutable_es.a)([])};var accountsReducer=Object(handleActions.a)({[FETCH_ACCOUNTS.SUCCESS]:(state,action)=>{let arr=state.accounts.toArray();return action.payload.response.users.map(i=>{arr.push(i)}),{...state,accounts:Object(immutable_es.c)(arr)}},[CREATE_ACCOUNT.SUCCESS]:(state,action)=>{const resAccount=action.response.account,insertedAccount=state.accounts.push(Object(immutable_es.c)(resAccount));return{...state,accounts:insertedAccount.sortBy(account=>account.get("fullname"))}},[SAVE_EDIT_ACCOUNT.SUCCESS]:(state,action)=>{const resUser=action.response.user,accountIndex=state.accounts.findIndex(u=>u.get("_id")===resUser._id);return{...state,accounts:state.accounts.set(accountIndex,Object(immutable_es.c)(resUser))}},[DELETE_ACCOUNT.PENDING]:(state,action)=>{const accountIndex=state.accounts.findIndex(u=>u.get("username")===action.payload.username);return{...state,accounts:state.accounts.setIn([accountIndex,"loading"],!0)}},[DELETE_ACCOUNT.SUCCESS]:(state,action)=>{const isDisabled=action.response.disabled,accountIndex=state.accounts.findIndex(u=>u.get("username")===action.payload.username);let withDisabled;return withDisabled=(withDisabled=state.accounts.setIn([accountIndex,"deleted"],isDisabled)).setIn([accountIndex,"loading"],!1),isDisabled||(withDisabled=state.accounts.delete(accountIndex)),{...state,accounts:withDisabled}},[ENABLE_ACCOUNT.SUCCESS]:(state,action)=>{const accountIndex=state.accounts.findIndex(u=>u.get("username")===action.payload.username);return{...state,accounts:state.accounts.setIn([accountIndex,"deleted"],!1)}},[UNLOAD_ACCOUNTS.SUCCESS]:state=>({...state,accounts:state.accounts.clear()})},accountsReducer_initialState);var reducers=Object(redux.c)({shared,common,modal:modalReducer,sidebar:reducers_sidebarReducer,accountsState:accountsReducer,settings:reducers_settings,tagsSettings:reducers_tagsReducer}),effects=__webpack_require__(67),axios=__webpack_require__(62),axios_default=__webpack_require__.n(axios);axios_default.a.defaults.headers.post["Content-Type"]="application/json";let api={tickets:{}};api.tickets.create=(payload=>axios_default.a.post("/api/v1/tickets/create",payload).then(res=>res.data)),api.tickets.renameTicketType=((id,name)=>axios_default.a.put("/api/v1/tickets/types/"+id,{name}).then(res=>res.data)),api.tickets.createTicketType=(({name})=>axios_default.a.post("/api/v1/tickets/types/create",{name}).then(res=>res.data)),api.tickets.addPriorityToType=(({typeId,priority})=>axios_default.a.post(`/api/v1/tickets/type/${typeId}/addpriority`,{priority}).then(res=>res.data)),api.tickets.removePriorityFromType=(({typeId,priority})=>axios_default.a.post(`/api/v1/tickets/type/${typeId}/removepriority`,{priority}).then(res=>res.data)),api.tickets.deleteTicketType=(({id,newTypeId})=>axios_default.a.delete(`/api/v1/tickets/types/${id}`,{data:{newTypeId}}).then(res=>res.data)),api.tickets.createPriority=(({name,overdueIn,htmlColor})=>axios_default.a.post("/api/v1/tickets/priority/create",{name,overdueIn,htmlColor}).then(res=>res.data)),api.tickets.updatePriority=(({id,name,overdueIn,htmlColor})=>axios_default.a.put(`/api/v1/tickets/priority/${id}`,{name,overdueIn,htmlColor}).then(res=>res.data)),api.tickets.deletePriority=(({id,newPriority})=>axios_default.a.post(`/api/v1/tickets/priority/${id}/delete`,{newPriority}).then(res=>res.data)),api.tickets.getTagsWithPage=(({limit,page})=>(limit=limit||10,page=page||0,axios_default.a.get(`/api/v1/tags/limit?limit=${limit}&page=${page}`).then(res=>res.data))),api.tickets.createTag=(({name})=>axios_default.a.post("/api/v1/tags/create",{tag:name}).then(res=>res.data)),api.accounts={},api.accounts.create=(payload=>axios_default.a.post("/api/v1/users/create",payload).then(res=>res.data)),api.accounts.getWithPage=(payload=>{const limit=payload&&payload.limit?payload.limit:25,page=payload&&payload.page?payload.page:0;let search=payload&&payload.search?payload.search:"";return search&&(search=`&search=${search}`),axios_default.a.get(`/api/v1/users?limit=${limit}&page=${page}${search}`).then(res=>res.data)}),api.accounts.updateUser=(payload=>axios_default.a.put(`/api/v1/users/${payload.aUsername}`,payload).then(res=>res.data)),api.accounts.deleteAccount=(({username})=>axios_default.a.delete(`/api/v1/users/${username}`).then(res=>res.data)),api.accounts.enableAccount=(({username})=>axios_default.a.get(`/api/v1/users/${username}/enable`).then(res=>res.data)),api.settings={},api.settings.update=(settings=>axios_default.a.put("/api/v1/settings",settings).then(res=>res.data)),api.settings.hasMongoDBTools=(()=>axios_default.a.get("/api/v1/backup/hastools").then(res=>res.data)),api.settings.fetchBackups=(()=>axios_default.a.get("/api/v1/backups").then(res=>res.data)),api.settings.backupNow=(()=>axios_default.a.post("/api/v1/backup").then(res=>res.data)),api.settings.getBackups=(()=>axios_default.a.get("/api/v1/backups").then(res=>res.data)),api.settings.fetchDeletedTickets=(()=>axios_default.a.get("/api/v1/tickets/deleted").then(res=>res.data)),api.settings.restoreDeletedTicket=(({_id})=>axios_default.a.post("/api/v1/tickets/deleted/restore",{_id}).then(res=>res.data)),api.settings.updateRoleOrder=(({roleOrder})=>axios_default.a.put("/api/v1/settings/updateroleorder",{roleOrder}).then(res=>res.data)),api.settings.updatePermissions=(payload=>axios_default.a.put(`/api/v1/roles/${payload._id}`,payload).then(res=>res.data)),api.settings.createRole=(({name})=>axios_default.a.post("/api/v1/roles",{name}).then(res=>res.data)),api.settings.deleteRole=(({_id,newRoleId})=>axios_default.a.delete(`/api/v1/roles/${_id}`,{data:{newRoleId}}).then(res=>res.data)),api.common={},api.common.fetchRoles=(()=>axios_default.a.get("/api/v1/roles").then(res=>res.data));var client_api=api,browser=__webpack_require__(308),browser_default=__webpack_require__.n(browser);const BASE="trudesk",COLOURS={debug:"blue",info:"green",warn:"pink",error:"red"};var logger=new class{generateMessage(level,message,source){const namespace=`${BASE}:${level}`,createDebug=browser_default()(namespace);createDebug.color=COLOURS[level],source?createDebug(source,message):createDebug(message)}debug(message,source){return this.generateMessage("debug",message,source)}info(message,source){return this.generateMessage("info",message,source)}warn(message,source){return this.generateMessage("warn",message,source)}error(message,source){return this.generateMessage("error",message,source)}};function*fetchRoles({payload}){try{const response=yield Object(effects.b)(client_api.common.fetchRoles,payload);yield Object(effects.c)({type:FETCH_ROLES.SUCCESS,response})}catch(error){const errorText=error.response.data.error;logger.error(errorText,error.response),helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),yield Object(effects.c)({type:FETCH_ROLES.ERROR,error})}}function*watcher(){yield Object(effects.e)(FETCH_ROLES.ACTION,fetchRoles)}function fetchSettings(){return axios_default.a.get("/api/v1/settings").then(res=>res.data).catch(error=>{throw error.response})}function*fetchFlow({payload}){try{const response=yield Object(effects.b)(fetchSettings,payload);yield Object(effects.c)({type:FETCH_SETTINGS.SUCCESS,response})}catch(error){yield Object(effects.c)({type:FETCH_SETTINGS.ERROR,error})}}function*updateSetting({payload,meta}){try{const response=yield Object(effects.b)(client_api.settings.update,[payload]);payload.noSnackbar||helpers_default.a.UI.showSnackbar("Setting Saved Successfully",!1),yield Object(effects.c)({type:UPDATE_SETTING.SUCCESS,response,payload,meta})}catch(error){yield Object(effects.c)({type:UPDATE_SETTING.ERROR,error,meta})}}function*updateMultipleSettings({payload}){try{const response=yield Object(effects.b)(client_api.settings.update,payload);yield Object(effects.c)({type:UPDATE_MULTIPLE_SETTINGS.SUCCESS,response}),helpers_default.a.UI.showSnackbar("Setting saved successfully.",!1),yield Object(effects.c)({type:FETCH_SETTINGS.ACTION})}catch(error){helpers_default.a.UI.showSnackbar(error,!0),yield Object(effects.c)({type:UPDATE_MULTIPLE_SETTINGS.ERROR,error})}}function*updateColorScheme({payload}){try{const response=yield Object(effects.b)(client_api.settings.update,payload);yield Object(effects.c)({type:UPDATE_COLORSCHEME.SUCCESS,response}),helpers_default.a.UI.showSnackbar("Setting saved successfully. Reloading...",!1),setTimeout(function(){window.location.reload()},1e3)}catch(error){helpers_default.a.UI.showSnackbar(error,!0),yield Object(effects.c)({type:UPDATE_MULTIPLE_SETTINGS.ERROR,error})}}function*checkMongoDBTools({payload}){try{const response=yield Object(effects.b)(client_api.settings.hasMongoDBTools,payload);yield Object(effects.c)({type:FETCH_MONGODB_TOOLS.SUCCESS,response})}catch(error){yield Object(effects.c)({type:FETCH_MONGODB_TOOLS.ERROR,error})}}function*fetchBackups(){try{const response=yield Object(effects.b)(client_api.settings.fetchBackups);yield Object(effects.c)({type:FETCH_BACKUPS.SUCCESS,response})}catch(error){const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),yield Object(effects.c)({type:FETCH_BACKUPS.ERROR,error})}}function*backupNow(){try{yield Object(effects.c)({type:BACKUP_NOW.PENDING});const response=yield Object(effects.b)(client_api.settings.backupNow);yield Object(effects.c)({type:BACKUP_NOW.SUCCESS,response}),yield Object(effects.c)({type:FETCH_BACKUPS.ACTION}),helpers_default.a.UI.showSnackbar("Backup completed successfully")}catch(error){if(!error.response)return logger.error(error);const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),yield Object(effects.c)({type:BACKUP_NOW.ERROR,error})}}function*fetchDeletedTickets(){try{yield Object(effects.c)({type:FETCH_DELETED_TICKETS.PENDING});const response=yield Object(effects.b)(client_api.settings.fetchDeletedTickets);yield Object(effects.c)({type:FETCH_DELETED_TICKETS.SUCCESS,response})}catch(error){const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),yield Object(effects.c)({type:FETCH_DELETED_TICKETS.ERROR,error})}}function*restoreDeletedTicket({payload}){try{const response=yield Object(effects.b)(client_api.settings.restoreDeletedTicket,payload);yield Object(effects.c)({type:RESTORE_DELETED_TICKET.SUCCESS,response,payload}),helpers_default.a.UI.showSnackbar("Ticket Restored")}catch(error){const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),yield Object(effects.c)({type:RESTORE_DELETED_TICKET.ERROR,error})}}function*updateRoleOrder({payload}){try{const response=yield Object(effects.b)(client_api.settings.updateRoleOrder,payload);yield Object(effects.c)({type:UPDATE_ROLE_ORDER.SUCCESS,response})}catch(error){const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),yield Object(effects.c)({type:UPDATE_ROLE_ORDER.ERROR,error})}}function*updatePermissions({payload}){try{yield Object(effects.c)({type:UPDATE_PERMISSIONS.PENDING});const response=yield Object(effects.b)(client_api.settings.updatePermissions,payload);yield Object(effects.c)({type:UPDATE_PERMISSIONS.SUCCESS,response}),helpers_default.a.UI.showSnackbar("Updated Role. Flushing Permissions...")}catch(error){const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),yield Object(effects.c)({type:UPDATE_PERMISSIONS.ERROR,error})}}function*createRole({payload}){try{const response=yield Object(effects.b)(client_api.settings.createRole,payload);yield Object(effects.c)({type:CREATE_ROLE.SUCCESS,response}),yield Object(effects.c)({type:FETCH_ROLES.ACTION}),yield Object(effects.c)({type:HIDE_MODAL})}catch(error){const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),yield Object(effects.c)({type:CREATE_ROLE.ERROR,error})}}function*deleteRole({payload}){try{const response=yield Object(effects.b)(client_api.settings.deleteRole,payload);yield Object(effects.c)({type:DELETE_ROLE.SUCCESS,response}),yield Object(effects.c)({type:FETCH_ROLES.ACTION}),yield Object(effects.c)({type:HIDE_MODAL}),helpers_default.a.UI.showSnackbar("Role successfully deleted")}catch(error){const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),yield Object(effects.c)({type:DELETE_ROLE.ERROR,error})}}function*settingsWatcher(){yield Object(effects.e)(FETCH_SETTINGS.ACTION,fetchFlow),yield Object(effects.e)(UPDATE_SETTING.ACTION,updateSetting),yield Object(effects.e)(UPDATE_MULTIPLE_SETTINGS.ACTION,updateMultipleSettings),yield Object(effects.e)(UPDATE_COLORSCHEME.ACTION,updateColorScheme),yield Object(effects.e)(FETCH_MONGODB_TOOLS.ACTION,checkMongoDBTools),yield Object(effects.e)(FETCH_BACKUPS.ACTION,fetchBackups),yield Object(effects.e)(BACKUP_NOW.ACTION,backupNow),yield Object(effects.e)(FETCH_DELETED_TICKETS.ACTION,fetchDeletedTickets),yield Object(effects.e)(RESTORE_DELETED_TICKET.ACTION,restoreDeletedTicket),yield Object(effects.e)(UPDATE_ROLE_ORDER.ACTION,updateRoleOrder),yield Object(effects.e)(UPDATE_PERMISSIONS.ACTION,updatePermissions),yield Object(effects.e)(CREATE_ROLE.ACTION,createRole),yield Object(effects.e)(DELETE_ROLE.ACTION,deleteRole)}function*createTicket({payload}){try{const response=yield Object(effects.b)(client_api.tickets.create,payload);yield Object(effects.c)({type:CREATE_TICKET.SUCCESS,response}),yield Object(effects.c)({type:HIDE_MODAL.ACTION})}catch(error){const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),logger.error(errorText,error.response),yield Object(effects.c)({type:CREATE_TICKET.ERROR,error})}}function*createTicketType({payload}){try{const response=yield Object(effects.b)(client_api.tickets.createTicketType,payload);yield Object(effects.c)({type:CREATE_TICKET_TYPE.SUCCESS,response}),yield Object(effects.c)({type:HIDE_MODAL.ACTION}),yield Object(effects.c)({type:FETCH_SETTINGS.ACTION})}catch(error){const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),logger.error(errorText,error.response),yield Object(effects.c)({type:CREATE_TICKET_TYPE.ERROR,error})}}function*deleteTicketType({payload}){try{const response=yield Object(effects.b)(client_api.tickets.deleteTicketType,payload);yield Object(effects.c)({type:DELETE_TICKET_TYPE.SUCCESS,response}),yield Object(effects.c)({type:HIDE_MODAL.ACTION}),yield Object(effects.c)({type:FETCH_SETTINGS.ACTION})}catch(error){const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),logger.error(errorText,error.response),yield Object(effects.c)({type:DELETE_TICKET_TYPE.ERROR,error})}}function*getTagsWithPage({payload}){try{const response=yield Object(effects.b)(client_api.tickets.getTagsWithPage,payload);yield Object(effects.c)({type:GET_TAGS_WITH_PAGE.SUCCESS,response})}catch(error){if(!error.response)return logger.error(error);const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),yield Object(effects.c)({type:GET_TAGS_WITH_PAGE.ERROR,error})}}function*createPriority({payload}){try{const response=yield Object(effects.b)(client_api.tickets.createPriority,payload);yield Object(effects.c)({type:CREATE_PRIORITY.SUCCESS,response}),yield Object(effects.c)({type:HIDE_MODAL.ACTION}),yield Object(effects.c)({type:FETCH_SETTINGS.ACTION})}catch(error){const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),logger.error(errorText,error.response),yield Object(effects.c)({type:CREATE_PRIORITY.ERROR,error})}}function*updatePriority({payload}){try{const response=yield Object(effects.b)(client_api.tickets.updatePriority,payload);yield Object(effects.c)({type:UPDATE_PRIORITY.SUCCESS,response}),yield Object(effects.c)({type:FETCH_SETTINGS.ACTION})}catch(error){const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),yield Object(effects.c)({type:UPDATE_PRIORITY.ERROR,error})}}function*deletePriority({payload}){try{const response=yield Object(effects.b)(client_api.tickets.deletePriority,payload);yield Object(effects.c)({type:DELETE_PRIORITY.SUCCESS,response}),yield Object(effects.c)({type:HIDE_MODAL.ACTION}),yield Object(effects.c)({type:FETCH_SETTINGS.ACTION})}catch(error){const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),logger.error(errorText,error.response),yield Object(effects.c)({type:DELETE_PRIORITY.ERROR,error})}}function*createTag({payload}){try{const response=yield Object(effects.b)(client_api.tickets.createTag,{name:payload.name});yield Object(effects.c)({type:CREATE_TAG.SUCCESS,response}),yield Object(effects.c)({type:HIDE_MODAL.ACTION}),Object(lodash.isUndefined)(payload.currentPage)||(yield Object(effects.c)({type:GET_TAGS_WITH_PAGE.ACTION,payload:{limit:16,page:payload.currentPage}})),helpers_default.a.UI.showSnackbar(`Tag ${payload.name} successfully created`)}catch(error){if(!error.response)return logger.error(error);const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),yield Object(effects.c)({type:CREATE_TAG.ERROR,error})}}function*tickets_watcher(){yield Object(effects.e)(CREATE_TICKET.ACTION,createTicket),yield Object(effects.e)(CREATE_TICKET_TYPE.ACTION,createTicketType),yield Object(effects.e)(DELETE_TICKET_TYPE.ACTION,deleteTicketType),yield Object(effects.e)(CREATE_PRIORITY.ACTION,createPriority),yield Object(effects.e)(UPDATE_PRIORITY.ACTION,updatePriority),yield Object(effects.e)(DELETE_PRIORITY.ACTION,deletePriority),yield Object(effects.e)(GET_TAGS_WITH_PAGE.ACTION,getTagsWithPage),yield Object(effects.e)(CREATE_TAG.ACTION,createTag)}function*fetchAccounts({payload,meta}){try{const response=yield Object(effects.b)(client_api.accounts.getWithPage,payload);yield Object(effects.c)({type:FETCH_ACCOUNTS.SUCCESS,payload:{response,payload},meta})}catch(error){let errorText="";error.response&&(errorText=error.response.data.error),helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),logger.error(errorText,error.response||error),yield Object(effects.c)({type:FETCH_ACCOUNTS.ERROR,error})}}function*createAccount({payload}){try{const response=yield Object(effects.b)(client_api.accounts.create,payload);yield Object(effects.c)({type:CREATE_ACCOUNT.SUCCESS,response}),yield Object(effects.c)({type:HIDE_MODAL.ACTION}),helpers_default.a.UI.showSnackbar("Account created successfully")}catch(error){const errorText=error.response.data.error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),logger.error(errorText,error.response||error),yield Object(effects.c)({type:CREATE_ACCOUNT.ERROR,error})}}function*saveEditAccount({payload}){try{const response=yield Object(effects.b)(client_api.accounts.updateUser,payload);yield Object(effects.c)({type:SAVE_EDIT_ACCOUNT.SUCCESS,response}),yield Object(effects.c)({type:HIDE_MODAL.ACTION})}catch(error){let errorText="";error.response&&(errorText=error.response.data.error),helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),logger.error(errorText,error.response||error),yield Object(effects.c)({type:SAVE_EDIT_ACCOUNT.ERROR,error})}}function*deleteAccount({payload}){try{yield Object(effects.c)({type:DELETE_ACCOUNT.PENDING,payload});const response=yield Object(effects.b)(client_api.accounts.deleteAccount,payload);yield Object(effects.c)({type:DELETE_ACCOUNT.SUCCESS,response,payload}),response.disabled?helpers_default.a.UI.showSnackbar("Account is linked to existing tickets. Account Disabled"):helpers_default.a.UI.showSnackbar("Account deleted successfully")}catch(error){const errorText=error.response?error.response.data.error:error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),logger.error(errorText,error.response||error),yield Object(effects.c)({type:DELETE_ACCOUNT.ERROR,error})}}function*enableAccount({payload}){try{const response=yield Object(effects.b)(client_api.accounts.enableAccount,payload);yield Object(effects.c)({type:ENABLE_ACCOUNT.SUCCESS,response,payload}),helpers_default.a.UI.showSnackbar("Account has been enabled")}catch(error){const errorText=error.response?error.response.data.error:error;helpers_default.a.UI.showSnackbar(`Error: ${errorText}`,!0),logger.error(errorText,error.response||error),yield Object(effects.c)({type:ENABLE_ACCOUNT.ERROR,error})}}function*unloadThunk({payload,meta}){try{yield Object(effects.c)({type:UNLOAD_ACCOUNTS.SUCCESS,payload,meta})}catch(error){logger.error(error)}}function*accounts_watcher(){yield Object(effects.e)(CREATE_ACCOUNT.ACTION,createAccount),yield Object(effects.e)(FETCH_ACCOUNTS.ACTION,fetchAccounts),yield Object(effects.e)(SAVE_EDIT_ACCOUNT.ACTION,saveEditAccount),yield Object(effects.d)(DELETE_ACCOUNT.ACTION,deleteAccount),yield Object(effects.d)(ENABLE_ACCOUNT.ACTION,enableAccount),yield Object(effects.e)(UNLOAD_ACCOUNTS.ACTION,unloadThunk)}var prop_types=__webpack_require__(50),prop_types_default=__webpack_require__.n(prop_types),index_module=__webpack_require__(56),mobx_module=__webpack_require__(55),createAction=__webpack_require__(385);const showModal=Object(createAction.a)(SHOW_MODAL.ACTION,(modalType,modalProps)=>({modalType,modalProps})),hideModal=Object(createAction.a)(HIDE_MODAL.ACTION),clearModal=Object(createAction.a)(CLEAR_MODAL.ACTION),common_showNotice=Object(createAction.a)(SHOW_NOTICE.ACTION),clearNotice=Object(createAction.a)(CLEAR_NOTICE.ACTION),common_fetchRoles=Object(createAction.a)(FETCH_ROLES.ACTION),common_updateRoleOrder=Object(createAction.a)(UPDATE_ROLE_ORDER.ACTION);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Drowdown_Dropdown=function(_React$Component){function Dropdown(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Dropdown),_possibleConstructorReturn(this,_getPrototypeOf(Dropdown).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Dropdown,react_default.a.Component),Constructor=Dropdown,(protoProps=[{key:"render",value:function(){var _this$props=this.props,small=_this$props.small,children=_this$props.children,className=(small?" uk-dropdown-small ":" ")+(_this$props.extraClass||"");return react_default.a.createElement("div",{className:"nopadding-left nopadding-right uk-dropdown uk-margin-top-remove"+className},react_default.a.createElement("ul",{className:"uk-nav uk-topbar nomargin"},children))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Dropdown}();Drowdown_Dropdown.propTypes={small:prop_types_default.a.bool,extraClass:prop_types_default.a.string,children:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.node),prop_types_default.a.node]).isRequired};var Drowdown=Drowdown_Dropdown;function DropdownItem_typeof(obj){return(DropdownItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function DropdownItem_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function DropdownItem_possibleConstructorReturn(self,call){return!call||"object"!==DropdownItem_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function DropdownItem_getPrototypeOf(o){return(DropdownItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function DropdownItem_setPrototypeOf(o,p){return(DropdownItem_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var DropdownItem_DropdownItem=function(_React$Component){function DropdownItem(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DropdownItem),DropdownItem_possibleConstructorReturn(this,DropdownItem_getPrototypeOf(DropdownItem).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&DropdownItem_setPrototypeOf(subClass,superClass)}(DropdownItem,react_default.a.Component),Constructor=DropdownItem,(protoProps=[{key:"onClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var _this$props=this.props,closeOnClick=_this$props.closeOnClick,text=_this$props.text,href=_this$props.href,extraClass=_this$props.extraClass;return react_default.a.createElement("li",{className:closeOnClick?"uk-dropdown-close":""},react_default.a.createElement("a",{href,"close-uk-dropdown":closeOnClick.toString(),className:(href?"":"no-ajaxy")+(extraClass?" "+extraClass:""),onClick:this.props.onClick},text))}}])&&DropdownItem_defineProperties(Constructor.prototype,protoProps),staticProps&&DropdownItem_defineProperties(Constructor,staticProps),DropdownItem}();DropdownItem_DropdownItem.propTypes={href:prop_types_default.a.string,text:prop_types_default.a.string.isRequired,extraClass:prop_types_default.a.string,onClick:prop_types_default.a.func,closeOnClick:prop_types_default.a.bool},DropdownItem_DropdownItem.defaultProps={closeOnClick:!0};var Drowdown_DropdownItem=DropdownItem_DropdownItem;function DropdownSeperator_typeof(obj){return(DropdownSeperator_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function DropdownSeperator_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function DropdownSeperator_possibleConstructorReturn(self,call){return!call||"object"!==DropdownSeperator_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function DropdownSeperator_getPrototypeOf(o){return(DropdownSeperator_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function DropdownSeperator_setPrototypeOf(o,p){return(DropdownSeperator_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var DropdownSeperator=function(_React$Component){function DropdownSeparator(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DropdownSeparator),DropdownSeperator_possibleConstructorReturn(this,DropdownSeperator_getPrototypeOf(DropdownSeparator).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&DropdownSeperator_setPrototypeOf(subClass,superClass)}(DropdownSeparator,react_default.a.Component),Constructor=DropdownSeparator,(protoProps=[{key:"render",value:function(){return react_default.a.createElement("li",null,react_default.a.createElement("hr",{style:{margin:"5px 0"}}))}}])&&DropdownSeperator_defineProperties(Constructor.prototype,protoProps),staticProps&&DropdownSeperator_defineProperties(Constructor,staticProps),DropdownSeparator}();function DropdownHeader_typeof(obj){return(DropdownHeader_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function DropdownHeader_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function DropdownHeader_possibleConstructorReturn(self,call){return!call||"object"!==DropdownHeader_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function DropdownHeader_getPrototypeOf(o){return(DropdownHeader_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function DropdownHeader_setPrototypeOf(o,p){return(DropdownHeader_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var DropdownHeader_DropdownHeader=function(_React$Component){function DropdownHeader(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DropdownHeader),DropdownHeader_possibleConstructorReturn(this,DropdownHeader_getPrototypeOf(DropdownHeader).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&DropdownHeader_setPrototypeOf(subClass,superClass)}(DropdownHeader,react_default.a.Component),Constructor=DropdownHeader,(protoProps=[{key:"render",value:function(){return react_default.a.createElement("li",{className:"uk-nav-header"},this.props.text)}}])&&DropdownHeader_defineProperties(Constructor.prototype,protoProps),staticProps&&DropdownHeader_defineProperties(Constructor,staticProps),DropdownHeader}();DropdownHeader_DropdownHeader.propTypes={text:prop_types_default.a.string.isRequired};var Drowdown_DropdownHeader=DropdownHeader_DropdownHeader;function DropdownTrigger_typeof(obj){return(DropdownTrigger_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function DropdownTrigger_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function DropdownTrigger_possibleConstructorReturn(self,call){return!call||"object"!==DropdownTrigger_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function DropdownTrigger_getPrototypeOf(o){return(DropdownTrigger_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function DropdownTrigger_setPrototypeOf(o,p){return(DropdownTrigger_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var DropdownTrigger_DropdownTrigger=function(_React$Component){function DropdownTrigger(props){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DropdownTrigger),DropdownTrigger_possibleConstructorReturn(this,DropdownTrigger_getPrototypeOf(DropdownTrigger).call(this,props))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&DropdownTrigger_setPrototypeOf(subClass,superClass)}(DropdownTrigger,react_default.a.Component),Constructor=DropdownTrigger,(protoProps=[{key:"componentDidMount",value:function(){this.drop&&uikit_combined_min_default.a.dropdown(this.drop,{mode:this.props.mode,pos:this.props.pos,offset:this.props.offset})}},{key:"componentWillUnmount",value:function(){this.drop&&(this.drop=null)}},{key:"render",value:function(){var _this=this;return react_default.a.createElement("div",{ref:function(i){return _this.drop=i},className:"uk-position-relative"+(this.props.extraClass?" "+this.props.extraClass:""),"aria-haspopup":!0,"aria-expanded":!1},this.props.children)}}])&&DropdownTrigger_defineProperties(Constructor.prototype,protoProps),staticProps&&DropdownTrigger_defineProperties(Constructor,staticProps),DropdownTrigger}();DropdownTrigger_DropdownTrigger.propTypes={mode:prop_types_default.a.string,pos:prop_types_default.a.string,offset:prop_types_default.a.number,extraClass:prop_types_default.a.string,children:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.node),prop_types_default.a.node]).isRequired},DropdownTrigger_DropdownTrigger.defaultProps={mode:"click",pos:"bottom-left"};var Drowdown_DropdownTrigger=DropdownTrigger_DropdownTrigger;function PDropdownTrigger_typeof(obj){return(PDropdownTrigger_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function PDropdownTrigger_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function PDropdownTrigger_possibleConstructorReturn(self,call){return!call||"object"!==PDropdownTrigger_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function PDropdownTrigger_getPrototypeOf(o){return(PDropdownTrigger_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function PDropdownTrigger_setPrototypeOf(o,p){return(PDropdownTrigger_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var PDropdownTrigger_PDropdownTrigger=function(_React$Component){function PDropdownTrigger(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PDropdownTrigger),PDropdownTrigger_possibleConstructorReturn(this,PDropdownTrigger_getPrototypeOf(PDropdownTrigger).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&PDropdownTrigger_setPrototypeOf(subClass,superClass)}(PDropdownTrigger,react_default.a.Component),Constructor=PDropdownTrigger,(protoProps=[{key:"render",value:function(){return react_default.a.createElement("div",{"data-notifications":this.props.target},this.props.children)}}])&&PDropdownTrigger_defineProperties(Constructor.prototype,protoProps),staticProps&&PDropdownTrigger_defineProperties(Constructor,staticProps),PDropdownTrigger}();PDropdownTrigger_PDropdownTrigger.propTypes={target:prop_types_default.a.string.isRequired,children:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.node),prop_types_default.a.node]).isRequired};var PDropdown_PDropdownTrigger=PDropdownTrigger_PDropdownTrigger;function OffCanvasTrigger_typeof(obj){return(OffCanvasTrigger_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function OffCanvasTrigger_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function OffCanvasTrigger_possibleConstructorReturn(self,call){return!call||"object"!==OffCanvasTrigger_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function OffCanvasTrigger_getPrototypeOf(o){return(OffCanvasTrigger_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function OffCanvasTrigger_setPrototypeOf(o,p){return(OffCanvasTrigger_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var OffCanvasTrigger_OffCanvasTrigger=function(_React$Component){function OffCanvasTrigger(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,OffCanvasTrigger),OffCanvasTrigger_possibleConstructorReturn(this,OffCanvasTrigger_getPrototypeOf(OffCanvasTrigger).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&OffCanvasTrigger_setPrototypeOf(subClass,superClass)}(OffCanvasTrigger,react_default.a.Component),Constructor=OffCanvasTrigger,(protoProps=[{key:"render",value:function(){return react_default.a.createElement("div",{"data-uk-offcanvas":"{target: '#".concat(this.props.target,"', mode: 'slide'}")},this.props.children)}}])&&OffCanvasTrigger_defineProperties(Constructor.prototype,protoProps),staticProps&&OffCanvasTrigger_defineProperties(Constructor,staticProps),OffCanvasTrigger}();OffCanvasTrigger_OffCanvasTrigger.propTypes={target:prop_types_default.a.string.isRequired,children:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.node),prop_types_default.a.node]).isRequired};var OffCanvas_OffCanvasTrigger=OffCanvasTrigger_OffCanvasTrigger,moment_timezone=__webpack_require__(91),moment_timezone_default=__webpack_require__.n(moment_timezone),navigation=__webpack_require__(38),navigation_default=__webpack_require__.n(navigation);function PDropdown_typeof(obj){return(PDropdown_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function PDropdown_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function PDropdown_possibleConstructorReturn(self,call){return!call||"object"!==PDropdown_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function PDropdown_getPrototypeOf(o){return(PDropdown_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function PDropdown_setPrototypeOf(o,p){return(PDropdown_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var PDropdown_PDropDown=function(_React$Component){function PDropDown(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PDropDown),PDropdown_possibleConstructorReturn(this,PDropdown_getPrototypeOf(PDropDown).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&PDropdown_setPrototypeOf(subClass,superClass)}(PDropDown,react_default.a.Component),Constructor=PDropDown,(protoProps=[{key:"componentDidMount",value:function(){navigation_default.a.notifications()}},{key:"componentDidUpdate",value:function(){navigation_default.a.notifications()}},{key:"render",value:function(){var _this$props=this.props,title=_this$props.title,titleHref=_this$props.titleHref,topOffset=_this$props.topOffset,leftOffset=_this$props.leftOffset,rightComponent=_this$props.rightComponent,children=_this$props.children,footerComponent=_this$props.footerComponent;return react_default.a.createElement("div",{id:this.props.id,className:"p-dropdown","data-top-offset":topOffset,"data-left-offset":leftOffset},react_default.a.createElement("div",{className:"actions"},titleHref&&react_default.a.createElement("a",{href:titleHref},title),!titleHref&&react_default.a.createElement("span",{style:{paddingLeft:"5px"}},title),rightComponent&&react_default.a.createElement("div",{className:"uk-float-right"},rightComponent)),react_default.a.createElement("div",{className:"items close-on-click"},react_default.a.createElement("ul",null,children)),footerComponent&&react_default.a.createElement("div",{className:"bottom-actions actions uk-float-left",style:{borderBottom:"none",borderTop:"1px solid rgba(0,0,0,0.2)"}},footerComponent))}}])&&PDropdown_defineProperties(Constructor.prototype,protoProps),staticProps&&PDropdown_defineProperties(Constructor,staticProps),PDropDown}();PDropdown_PDropDown.propTypes={id:prop_types_default.a.string.isRequired,title:prop_types_default.a.string.isRequired,titleHref:prop_types_default.a.string,topOffset:prop_types_default.a.string,leftOffset:prop_types_default.a.string,rightComponent:prop_types_default.a.element,footerComponent:prop_types_default.a.element,children:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.node),prop_types_default.a.node]).isRequired},PDropdown_PDropDown.defaultProps={topOffset:"0",leftOffset:"0"};var _class,_class2,_descriptor,_temp,PDropdown=PDropdown_PDropDown,socket=__webpack_require__(37),socket_default=__webpack_require__.n(socket);__webpack_require__(52);function notificationsDropdown_typeof(obj){return(notificationsDropdown_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function notificationsDropdown_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function notificationsDropdown_getPrototypeOf(o){return(notificationsDropdown_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function notificationsDropdown_setPrototypeOf(o,p){return(notificationsDropdown_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function notificationsDropdown_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var target,property,decorators,descriptor,context,desc,notificationsDropdown_NotificationsDropdownPartial=Object(index_module.a)((_temp=function(_React$Component){function NotificationsDropdownPartial(props){var _this,self,call,target,property,descriptor,context;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NotificationsDropdownPartial),self=this,_this=!(call=notificationsDropdown_getPrototypeOf(NotificationsDropdownPartial).call(this,props))||"object"!==notificationsDropdown_typeof(call)&&"function"!=typeof call?notificationsDropdown_assertThisInitialized(self):call,target=_this,property="notifications",descriptor=_descriptor,context=notificationsDropdown_assertThisInitialized(notificationsDropdown_assertThisInitialized(_this)),descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0}),_this.onSocketUpdateNotifications=_this.onSocketUpdateNotifications.bind(notificationsDropdown_assertThisInitialized(notificationsDropdown_assertThisInitialized(_this))),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&notificationsDropdown_setPrototypeOf(subClass,superClass)}(NotificationsDropdownPartial,react_default.a.Component),Constructor=NotificationsDropdownPartial,staticProps=[{key:"clearNotificationsClicked",value:function(e){e.preventDefault(),e.stopPropagation(),socket_default.a.ui.clearNotifications()}},{key:"markNotificationRead",value:function(e,notification){e.preventDefault(),e.stopPropagation(),socket_default.a.ui.markNotificationRead(notification._id),History.pushState(null,null,"/tickets/".concat(notification.data.ticket.uid))}}],(protoProps=[{key:"componentDidMount",value:function(){socket_default.a.ui.socket.on("updateNotifications",this.onSocketUpdateNotifications)}},{key:"componentWillUnmount",value:function(){socket_default.a.ui.socket.off("updateNotifications",this.onSocketUpdateNotifications)}},{key:"onSocketUpdateNotifications",value:function(data){helpers_default.a.arrayIsEqual(this.notifications,data.items)||(this.notifications=data.items)}},{key:"render",value:function(){var _this$props=this.props,shortDateFormat=_this$props.shortDateFormat,timezone=_this$props.timezone;return react_default.a.createElement(PDropdown,{id:"notifications",title:"Notifications",topOffset:"-10",leftOffset:"4",rightComponent:react_default.a.createElement("a",{className:"hoverUnderline no-ajaxy",onClick:function(e){return NotificationsDropdownPartial.clearNotificationsClicked(e)}},"Clear Notifications"),footerComponent:react_default.a.createElement("div",{className:"uk-text-center"+(this.notifications.length<1?" hide":"")},react_default.a.createElement("a",{className:"no-ajaxy hoverUnderline",onClick:this.props.onViewAllNotificationsClick},"View All Notifications"))},this.notifications.map(function(notification){var formattedTimestamp=moment_timezone_default.a.utc(notification.created).tz(timezone).format("YYYY-MM-DDThh:mm"),formattedDate=moment_timezone_default.a.utc(notification.created).tz(timezone).format(shortDateFormat);return react_default.a.createElement("li",{key:notification._id},react_default.a.createElement("a",{className:"item no-ajaxy",onClick:function(e){return NotificationsDropdownPartial.markNotificationRead(e,notification)}},react_default.a.createElement("div",{className:"uk-clearfix"},notification.unread&&react_default.a.createElement("div",{className:"messageUnread"}),0===notification.type&&react_default.a.createElement("div",{className:"messageIcon left"},react_default.a.createElement("i",{className:"fa fa-check green"})),1===notification.type&&react_default.a.createElement("div",{className:"messageIcon left"},react_default.a.createElement("i",{className:"fa fa-comment-o green",style:{marginTop:"-5px"}})),2===notification.type&&react_default.a.createElement("div",{className:"messageIcon left"},react_default.a.createElement("i",{className:"fa fa-exclamation red"})),react_default.a.createElement("div",{className:"messageAuthor"},react_default.a.createElement("strong",null,notification.title)),react_default.a.createElement("div",{className:"messageSnippet"},react_default.a.createElement("span",null,notification.message)),react_default.a.createElement("div",{className:"messageDate"},react_default.a.createElement("time",{dateTime:formattedTimestamp,className:"timestamp"},formattedDate)))))},this))}}])&&notificationsDropdown_defineProperties(Constructor.prototype,protoProps),staticProps&&notificationsDropdown_defineProperties(Constructor,staticProps),NotificationsDropdownPartial}(),target=(_class2=_temp).prototype,property="notifications",decorators=[mobx_module.k],descriptor={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}},desc={},Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),_descriptor=desc,_class=_class2))||_class;notificationsDropdown_NotificationsDropdownPartial.propTypes={timezone:prop_types_default.a.string.isRequired,shortDateFormat:prop_types_default.a.string.isRequired,onViewAllNotificationsClick:prop_types_default.a.func.isRequired};var conversationsDropdown_class,conversationsDropdown_class2,conversationsDropdown_descriptor,notificationsDropdown=notificationsDropdown_NotificationsDropdownPartial;function conversationsDropdown_typeof(obj){return(conversationsDropdown_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function conversationsDropdown_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function conversationsDropdown_getPrototypeOf(o){return(conversationsDropdown_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function conversationsDropdown_setPrototypeOf(o,p){return(conversationsDropdown_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function conversationsDropdown_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var conversationsDropdown_ConversationsDropdownPartial=Object(index_module.a)((conversationsDropdown_descriptor=function(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}((conversationsDropdown_class2=function(_React$Component){function ConversationsDropdownPartial(props){var _this,self,call,target,property,descriptor,context;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ConversationsDropdownPartial),self=this,_this=!(call=conversationsDropdown_getPrototypeOf(ConversationsDropdownPartial).call(this,props))||"object"!==conversationsDropdown_typeof(call)&&"function"!=typeof call?conversationsDropdown_assertThisInitialized(self):call,target=_this,property="conversations",descriptor=conversationsDropdown_descriptor,context=conversationsDropdown_assertThisInitialized(conversationsDropdown_assertThisInitialized(_this)),descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0}),_this.onUpdateConversationsNotifications=_this.onUpdateConversationsNotifications.bind(conversationsDropdown_assertThisInitialized(conversationsDropdown_assertThisInitialized(_this))),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&conversationsDropdown_setPrototypeOf(subClass,superClass)}(ConversationsDropdownPartial,react_default.a.Component),Constructor=ConversationsDropdownPartial,staticProps=[{key:"onConversationClicked",value:function(e,id){e.preventDefault(),History.pushState(null,null,"/messages/".concat(id))}}],(protoProps=[{key:"componentDidMount",value:function(){socket_default.a.ui.socket.on("updateConversationsNotifications",this.onUpdateConversationsNotifications)}},{key:"componentWillUnmount",value:function(){socket_default.a.ui.socket.off("updateConversationsNotifications",this.onUpdateConversationsNotifications)}},{key:"onUpdateConversationsNotifications",value:function(data){helpers_default.a.arrayIsEqual(this.conversations,data.conversations)||(this.conversations=data.conversations)}},{key:"render",value:function(){var _this$props=this.props,timezone=_this$props.timezone,shortDateFormat=_this$props.shortDateFormat;return react_default.a.createElement(PDropdown,{id:"conversations",title:"Conversations",titleHref:"/messages",topOffset:"-10",leftOffset:"4",rightComponent:react_default.a.createElement("a",{href:"/messages/startconversation",className:"hoverUnderline"},"Start Conversation")},react_default.a.createElement("div",{className:"items close-on-click"},react_default.a.createElement("ul",null,this.conversations.map(function(conversation){var profilePic=conversation.partner.image||"defaultProfile.jpg",formattedTimestamp=moment_timezone_default.a.utc(conversation.updatedAt).tz(timezone).format("YYYY-MM-DDThh:mm"),formattedDate=moment_timezone_default.a.utc(conversation.updatedAt).tz(timezone).format(shortDateFormat);return react_default.a.createElement("li",{key:conversation._id},react_default.a.createElement("a",{className:"no-ajaxy messageNotification uk-position-relative",onClick:function(e){return ConversationsDropdownPartial.onConversationClicked(e,conversation._id)}},react_default.a.createElement("div",{className:"uk-clearfix"},react_default.a.createElement("div",{className:"profilePic uk-float-left"},react_default.a.createElement("img",{src:"/uploads/users/".concat(profilePic),alt:"Profile Picture"})),react_default.a.createElement("div",{className:"messageAuthor"},react_default.a.createElement("strong",null,conversation.partner.fullname)),react_default.a.createElement("div",{className:"messageSnippet"},react_default.a.createElement("span",null,conversation.recentMessage)),react_default.a.createElement("div",{className:"messageDate",style:{position:"absolute",top:"10px",right:"15px"}},react_default.a.createElement("time",{dateTime:formattedTimestamp},formattedDate)))))}))))}}])&&conversationsDropdown_defineProperties(Constructor.prototype,protoProps),staticProps&&conversationsDropdown_defineProperties(Constructor,staticProps),ConversationsDropdownPartial}()).prototype,"conversations",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),conversationsDropdown_class=conversationsDropdown_class2))||conversationsDropdown_class;conversationsDropdown_ConversationsDropdownPartial.propTypes={timezone:prop_types_default.a.string.isRequired,shortDateFormat:prop_types_default.a.string.isRequired};var conversationsDropdown=conversationsDropdown_ConversationsDropdownPartial;function OffCanvas_typeof(obj){return(OffCanvas_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function OffCanvas_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function OffCanvas_possibleConstructorReturn(self,call){return!call||"object"!==OffCanvas_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function OffCanvas_getPrototypeOf(o){return(OffCanvas_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function OffCanvas_setPrototypeOf(o,p){return(OffCanvas_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var OffCanvas_OffCanvas=function(_React$Component){function OffCanvas(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,OffCanvas),OffCanvas_possibleConstructorReturn(this,OffCanvas_getPrototypeOf(OffCanvas).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&OffCanvas_setPrototypeOf(subClass,superClass)}(OffCanvas,react_default.a.Component),Constructor=OffCanvas,(protoProps=[{key:"render",value:function(){var _this$props=this.props,title=_this$props.title,id=_this$props.id,children=_this$props.children;return react_default.a.createElement("div",{id,className:"uk-offcanvas"},react_default.a.createElement("div",{className:"uk-offcanvas-bar uk-offcanvas-bar-flip scrollable"},title&&react_default.a.createElement("div",{className:"uk-offcanvas-title"},react_default.a.createElement("h3",null,title)),children))}}])&&OffCanvas_defineProperties(Constructor.prototype,protoProps),staticProps&&OffCanvas_defineProperties(Constructor,staticProps),OffCanvas}();OffCanvas_OffCanvas.propTypes={title:prop_types_default.a.string,id:prop_types_default.a.string.isRequired,children:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.node),prop_types_default.a.node]).isRequired};var onlineUserList_class,onlineUserList_class2,onlineUserList_descriptor,components_OffCanvas=OffCanvas_OffCanvas;function onlineUserList_typeof(obj){return(onlineUserList_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function onlineUserList_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function onlineUserList_getPrototypeOf(o){return(onlineUserList_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function onlineUserList_setPrototypeOf(o,p){return(onlineUserList_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function onlineUserList_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var onlineUserList_OnlineUserListPartial=Object(index_module.a)((onlineUserList_descriptor=function(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}((onlineUserList_class2=function(_React$Component){function OnlineUserListPartial(props){var _this,self,call,target,property,descriptor,context;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,OnlineUserListPartial),self=this,_this=!(call=onlineUserList_getPrototypeOf(OnlineUserListPartial).call(this,props))||"object"!==onlineUserList_typeof(call)&&"function"!=typeof call?onlineUserList_assertThisInitialized(self):call,target=_this,property="activeUsers",descriptor=onlineUserList_descriptor,context=onlineUserList_assertThisInitialized(onlineUserList_assertThisInitialized(_this)),descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0}),_this.onSocketUpdateUsers=_this.onSocketUpdateUsers.bind(onlineUserList_assertThisInitialized(onlineUserList_assertThisInitialized(_this))),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&onlineUserList_setPrototypeOf(subClass,superClass)}(OnlineUserListPartial,react_default.a.Component),Constructor=OnlineUserListPartial,staticProps=[{key:"onUserClicked",value:function(e,id){e.preventDefault(),socket_default.a.socket.emit("spawnChatWindow",id),uikit_combined_min_default.a.offcanvas.hide()}},{key:"fromNow",value:function(timezone,date){return Object(lodash.isUndefined)(date)?"Never":(moment_timezone_default.a.updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmos",y:"1y",yy:"%dyrs"}}),moment_timezone_default.a.utc(date).tz(timezone).fromNow())}}],(protoProps=[{key:"componentDidMount",value:function(){socket_default.a.socket.on("updateUsers",this.onSocketUpdateUsers)}},{key:"componentWillUnmount",value:function(){socket_default.a.socket.off("updateUsers",this.onSocketUpdateUsers)}},{key:"onSocketUpdateUsers",value:function(data){this.activeUsers.replace(data)}},{key:"isActiveUser",value:function(username){return!!this.activeUsers.get(username)}},{key:"render",value:function(){var _this2=this,_this$props=this.props,timezone=_this$props.timezone,users=_this$props.users;return react_default.a.createElement(components_OffCanvas,{title:"Online Users",id:"online-user-list"},react_default.a.createElement("div",{style:{padding:"0 5px"}},react_default.a.createElement("div",{className:"active-now"},react_default.a.createElement("h5",null,"Active Now"),react_default.a.createElement("div",{className:"online-list-wrapper"},react_default.a.createElement("ul",{className:"online-list"},Object(mobx_module.f)(this.activeUsers).map(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if(!_this2.props.sessionUser||value.user._id!==_this2.props.sessionUser._id){var image=value.user.image||"defaultProfile.jpg";return react_default.a.createElement("li",{key},react_default.a.createElement("a",{className:"no-ajaxy",onClick:function(e){return OnlineUserListPartial.onUserClicked(e,value.user._id)}},react_default.a.createElement("div",{className:"user-list-user"},react_default.a.createElement("div",{className:"image"},react_default.a.createElement("img",{src:"/uploads/users/".concat(image),alt:"Profile Pic"})),react_default.a.createElement("span",{className:"online-status","data-user-status-id":value.user._id}),react_default.a.createElement("div",{className:"user-name"},value.user.fullname))))}})))),react_default.a.createElement("h5",null,"More Conversations"),react_default.a.createElement("div",{className:"user-list-wrapper",style:{lineHeight:"normal"}},react_default.a.createElement("div",{className:"online-list-search-box search-box",style:{borderTop:"1px solid rgba(0,0,0,0.1)",borderRight:"none"}},react_default.a.createElement("input",{type:"text",placeholder:"Search"})),react_default.a.createElement("ul",{className:"user-list"},users.map(function(user){if(!_this2.props.sessionUser||user._id!==_this2.props.sessionUser._id){var image=user.image||"defaultProfile.jpg";return react_default.a.createElement("li",{key:user._id,"data-search-term":user.fullname.toLowerCase()},react_default.a.createElement("a",{className:"no-ajaxy",onClick:function(e){return OnlineUserListPartial.onUserClicked(e,user._id)}},react_default.a.createElement("div",{className:"user-list-user"},react_default.a.createElement("div",{className:"image"},react_default.a.createElement("img",{src:"/uploads/users/".concat(image),alt:"Profile Picture"}))),react_default.a.createElement("span",{className:"online-status-offline"+(_this2.isActiveUser(user.username)?" success-text":""),"data-user-status-id":user._id},_this2.isActiveUser(user.username)?"Now":OnlineUserListPartial.fromNow(timezone,user.lastOnline)),react_default.a.createElement("div",{className:"user-name"},user.fullname)))}})))))}}])&&onlineUserList_defineProperties(Constructor.prototype,protoProps),staticProps&&onlineUserList_defineProperties(Constructor,staticProps),OnlineUserListPartial}()).prototype,"activeUsers",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),onlineUserList_class=onlineUserList_class2))||onlineUserList_class;onlineUserList_OnlineUserListPartial.propTypes={sessionUser:prop_types_default.a.object,timezone:prop_types_default.a.string.isRequired,users:prop_types_default.a.array.isRequired};var onlineUserList=onlineUserList_OnlineUserListPartial,js_cookie=__webpack_require__(23),js_cookie_default=__webpack_require__.n(js_cookie);function NoticeBanner_typeof(obj){return(NoticeBanner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function NoticeBanner_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function NoticeBanner_possibleConstructorReturn(self,call){return!call||"object"!==NoticeBanner_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function NoticeBanner_getPrototypeOf(o){return(NoticeBanner_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function NoticeBanner_setPrototypeOf(o,p){return(NoticeBanner_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var NoticeBanner_NoticeBanner=function(_React$Component){function NoticeBanner(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NoticeBanner),NoticeBanner_possibleConstructorReturn(this,NoticeBanner_getPrototypeOf(NoticeBanner).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&NoticeBanner_setPrototypeOf(subClass,superClass)}(NoticeBanner,react_default.a.Component),Constructor=NoticeBanner,(protoProps=[{key:"render",value:function(){var notice=this.props.notice,dateFormatted=helpers_default.a.formatDate(notice.get("activeDate,"),helpers_default.a.getShortDateFormat()+", "+helpers_default.a.getTimeFormat());return react_default.a.createElement("div",{style:{width:"100%",height:"30px",background:notice.get("color"),color:notice.get("fontColor"),fontSize:"13px",fontWeight:"500",textAlign:"center",paddingTop:"7px"}},dateFormatted," Important: ",notice.get("message"))}}])&&NoticeBanner_defineProperties(Constructor.prototype,protoProps),staticProps&&NoticeBanner_defineProperties(Constructor,staticProps),NoticeBanner}();NoticeBanner_NoticeBanner.propTypes={notice:prop_types_default.a.object.isRequired};var TopbarContainer_class,TopbarContainer_class2,TopbarContainer_descriptor,_descriptor2,components_NoticeBanner=NoticeBanner_NoticeBanner;function TopbarContainer_typeof(obj){return(TopbarContainer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function TopbarContainer_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function TopbarContainer_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function TopbarContainer_getPrototypeOf(o){return(TopbarContainer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function TopbarContainer_setPrototypeOf(o,p){return(TopbarContainer_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function TopbarContainer_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function TopbarContainer_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var TopbarContainer_TopbarContainer=Object(index_module.a)((TopbarContainer_descriptor=TopbarContainer_applyDecoratedDescriptor((TopbarContainer_class2=function(_React$Component){function TopbarContainer(props){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TopbarContainer),self=this,TopbarContainer_initializerDefineProperty(_this=!(call=TopbarContainer_getPrototypeOf(TopbarContainer).call(this,props))||"object"!==TopbarContainer_typeof(call)&&"function"!=typeof call?TopbarContainer_assertThisInitialized(self):call,"notificationCount",TopbarContainer_descriptor,TopbarContainer_assertThisInitialized(TopbarContainer_assertThisInitialized(_this))),TopbarContainer_initializerDefineProperty(_this,"activeUserCount",_descriptor2,TopbarContainer_assertThisInitialized(TopbarContainer_assertThisInitialized(_this))),_this.onSocketUpdateNotifications=_this.onSocketUpdateNotifications.bind(TopbarContainer_assertThisInitialized(TopbarContainer_assertThisInitialized(_this))),_this.onSocketUpdateUsers=_this.onSocketUpdateUsers.bind(TopbarContainer_assertThisInitialized(TopbarContainer_assertThisInitialized(_this))),_this.onSocketShowNotice=_this.onSocketShowNotice.bind(TopbarContainer_assertThisInitialized(TopbarContainer_assertThisInitialized(_this))),_this.onSocketClearNotice=_this.onSocketClearNotice.bind(TopbarContainer_assertThisInitialized(TopbarContainer_assertThisInitialized(_this))),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&TopbarContainer_setPrototypeOf(subClass,superClass)}(TopbarContainer,react_default.a.Component),Constructor=TopbarContainer,staticProps=[{key:"onConversationsClicked",value:function(e){e.preventDefault(),socket_default.a.ui.socket.emit("updateMailNotifications")}}],(protoProps=[{key:"componentDidMount",value:function(){socket_default.a.socket.on("updateNotifications",this.onSocketUpdateNotifications),socket_default.a.socket.on("updateUsers",this.onSocketUpdateUsers),socket_default.a.socket.on("$trudesk:notice:show",this.onSocketShowNotice),socket_default.a.socket.on("updateClearNotice",this.onSocketClearNotice),socket_default.a.ui.updateNotifications(),socket_default.a.ui.updateUsers(),this.showNotice(this.props.viewdata.notice,this.props.viewdata.noticeCookieName)}},{key:"componentWillUnmount",value:function(){socket_default.a.socket.off("updateNotifications",this.onSocketUpdateNotifications),socket_default.a.socket.off("updateUsers",this.onSocketUpdateUsers),socket_default.a.socket.off("$trudesk:notice:show",this.onSocketShowNotice),socket_default.a.socket.off("updateClearNotice",this.onSocketClearNotice)}},{key:"showNotice",value:function(notice,cookieName){(this.props.showNotice(notice),cookieName)&&("false"!==js_cookie_default.a.get(cookieName)&&this.props.showModal("NOTICE_ALERT",{modalTag:"NOTICE_ALERT",notice,noticeCookieName:cookieName,shortDateFormat:this.props.viewdata.shortDateFormat,timeFormat:this.props.viewdata.timeFormat}))}},{key:"onSocketShowNotice",value:function(data){this.props.showNotice(data);var cookieName=data.name+"_"+helpers_default.a.formatDate(data.activeDate,"MMMDDYYYY_HHmmss");this.showNotice(data,cookieName),helpers_default.a.resizeAll()}},{key:"onSocketClearNotice",value:function(){this.props.clearNotice(),this.props.hideModal("NOTICE_ALERT"),helpers_default.a.resizeAll()}},{key:"onSocketUpdateNotifications",value:function(data){data.count!==this.notificationCount&&(this.notificationCount=data.count)}},{key:"onSocketUpdateUsers",value:function(data){delete data[this.props.sessionUser.username];var count=Object(lodash.size)(data);count!==this.activeUserCount&&(this.activeUserCount=count)}},{key:"render",value:function(){var _this2=this,_this$props=this.props,viewdata=_this$props.viewdata,sessionUser=_this$props.sessionUser;return react_default.a.createElement("div",null,this.props.notice&&react_default.a.createElement(components_NoticeBanner,{notice:this.props.notice}),react_default.a.createElement("div",{className:"uk-grid top-nav"},react_default.a.createElement("div",{className:"uk-width-1-1"},react_default.a.createElement("div",{className:"top-bar","data-topbar":!0},react_default.a.createElement("div",{className:"title-area uk-float-left"},react_default.a.createElement("div",{className:"logo"},react_default.a.createElement("img",{src:viewdata.logoImage,alt:"Logo",className:"site-logo"}))),react_default.a.createElement("section",{className:"top-bar-section uk-clearfix"},react_default.a.createElement("div",{className:"top-menu uk-float-right"},react_default.a.createElement("ul",{className:"uk-subnav uk-margin-bottom-remove"},sessionUser&&helpers_default.a.canUser("tickets:create")&&react_default.a.createElement("div",null,react_default.a.createElement("li",{className:"top-bar-icon nopadding"},react_default.a.createElement("button",{title:"Create Ticket",className:"anchor",onClick:function(){return _this2.props.showModal("CREATE_TICKET")}},react_default.a.createElement("i",{className:"material-icons"},""))),react_default.a.createElement("li",{className:"top-bar-icon nopadding"},react_default.a.createElement("i",{className:"material-icons"},"more_vert"))),react_default.a.createElement("li",{className:"top-bar-icon"},react_default.a.createElement(PDropdown_PDropdownTrigger,{target:"conversations"},react_default.a.createElement("a",{title:"Conversations",className:"no-ajaxy uk-vertical-align",onClick:function(e){return TopbarContainer.onConversationsClicked(e)}},react_default.a.createElement("i",{className:"material-icons"},"sms")))),react_default.a.createElement("li",{className:"top-bar-icon"},react_default.a.createElement(PDropdown_PDropdownTrigger,{target:"notifications"},react_default.a.createElement("a",{title:"Notifications",className:"no-ajaxy uk-vertical-align"},react_default.a.createElement("i",{className:"material-icons"},""),react_default.a.createElement("span",{className:"alert uk-border-circle label "+(this.notificationCount<1?"hide":"")},this.notificationCount)))),react_default.a.createElement("li",{className:"top-bar-icon"},react_default.a.createElement(OffCanvas_OffCanvasTrigger,{target:"online-user-list"},react_default.a.createElement("a",{title:"Online Users",className:"no-ajaxy"},react_default.a.createElement("i",{className:"material-icons"},"perm_contact_calendar"),react_default.a.createElement("span",{className:"online-user-count alert uk-border-circle label "+(this.activeUserCount<1?"hide":"")},this.activeUserCount)))),react_default.a.createElement("li",{className:"profile-area profile-name"},react_default.a.createElement("span",null,viewdata.loggedInAccount.fullname),react_default.a.createElement("div",{className:"uk-position-relative uk-display-inline-block"},react_default.a.createElement(Drowdown_DropdownTrigger,{pos:"bottom-right"},react_default.a.createElement("a",{href:"#",title:viewdata.loggedInAccount.fullname,className:"profile-pic no-ajaxy uk-vertical-align-middle"},react_default.a.createElement("img",{src:"/uploads/users/"+(viewdata.loggedInAccount.image||"defaultProfile.jpg"),alt:"Profile Picture"})),react_default.a.createElement(Drowdown,{small:!0},react_default.a.createElement(Drowdown_DropdownHeader,{text:viewdata.loggedInAccount.fullname}),react_default.a.createElement(Drowdown_DropdownItem,{text:"Profile",href:"/profile"}),react_default.a.createElement(DropdownSeperator,null),react_default.a.createElement(Drowdown_DropdownItem,{text:"Logout",href:"/logout"})))))),react_default.a.createElement(notificationsDropdown,{shortDateFormat:viewdata.shortDateFormat,timezone:viewdata.timezone,onViewAllNotificationsClick:function(){return _this2.props.showModal("VIEW_ALL_NOTIFICATIONS")}}),react_default.a.createElement(conversationsDropdown,{shortDateFormat:viewdata.shortDateFormat,timezone:viewdata.timezone}))))),react_default.a.createElement(onlineUserList,{timezone:viewdata.timezone,users:viewdata.users,sessionUser:this.props.sessionUser})))}}])&&TopbarContainer_defineProperties(Constructor.prototype,protoProps),staticProps&&TopbarContainer_defineProperties(Constructor,staticProps),TopbarContainer}()).prototype,"notificationCount",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_descriptor2=TopbarContainer_applyDecoratedDescriptor(TopbarContainer_class2.prototype,"activeUserCount",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),TopbarContainer_class=TopbarContainer_class2))||TopbarContainer_class;TopbarContainer_TopbarContainer.propTypes={sessionUser:prop_types_default.a.object,viewdata:prop_types_default.a.object.isRequired,showModal:prop_types_default.a.func.isRequired,hideModal:prop_types_default.a.func.isRequired,showNotice:prop_types_default.a.func.isRequired,clearNotice:prop_types_default.a.func.isRequired,notice:prop_types_default.a.object};var Topbar_TopbarContainer=Object(es.b)(function(state){return{sessionUser:state.shared.sessionUser,notice:state.shared.notice,viewdata:state.common}},{showModal,hideModal,showNotice:common_showNotice,clearNotice})(TopbarContainer_TopbarContainer);function SidebarItem_typeof(obj){return(SidebarItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function SidebarItem_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SidebarItem_possibleConstructorReturn(self,call){return!call||"object"!==SidebarItem_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function SidebarItem_getPrototypeOf(o){return(SidebarItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function SidebarItem_setPrototypeOf(o,p){return(SidebarItem_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var SidebarItem_NavButton=function(_Component){function NavButton(props){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NavButton),SidebarItem_possibleConstructorReturn(this,SidebarItem_getPrototypeOf(NavButton).call(this,props))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SidebarItem_setPrototypeOf(subClass,superClass)}(NavButton,react["Component"]),Constructor=NavButton,(protoProps=[{key:"componentDidUpdate",value:function(){helpers_default.a.UI.bindAccordion(),helpers_default.a.UI.tetherUpdate()}},{key:"renderAnchorLink",value:function(){return react_default.a.createElement("a",{href:this.props.href,className:this.props.class},react_default.a.createElement("i",{className:"material-icons"},this.props.icon),this.props.text)}},{key:"render",value:function(){return this.props.hasSubmenu?react_default.a.createElement("li",{className:"hasSubMenu"+(this.props.active?" active":""),"data-nav-id":this.props.subMenuTarget,"data-nav-accordion":!0,"data-nav-accordion-target":"side-nav-accordion-"+this.props.subMenuTarget},this.renderAnchorLink(),this.props.children):react_default.a.createElement("li",{className:this.props.active?" active ":""},this.renderAnchorLink(),this.props.children)}}])&&SidebarItem_defineProperties(Constructor.prototype,protoProps),staticProps&&SidebarItem_defineProperties(Constructor,staticProps),NavButton}();SidebarItem_NavButton.propTypes={href:prop_types_default.a.string.isRequired,icon:prop_types_default.a.string.isRequired,text:prop_types_default.a.string.isRequired,class:prop_types_default.a.string,hasSubmenu:prop_types_default.a.bool,subMenuTarget:prop_types_default.a.string,active:prop_types_default.a.bool,children:prop_types_default.a.node};var SidebarItem=SidebarItem_NavButton;function NavSeperator_typeof(obj){return(NavSeperator_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function NavSeperator_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function NavSeperator_possibleConstructorReturn(self,call){return!call||"object"!==NavSeperator_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function NavSeperator_getPrototypeOf(o){return(NavSeperator_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function NavSeperator_setPrototypeOf(o,p){return(NavSeperator_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Nav_NavSeperator=function(_React$Component){function NavSeperator(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NavSeperator),NavSeperator_possibleConstructorReturn(this,NavSeperator_getPrototypeOf(NavSeperator).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&NavSeperator_setPrototypeOf(subClass,superClass)}(NavSeperator,react_default.a.Component),Constructor=NavSeperator,(protoProps=[{key:"render",value:function(){return react_default.a.createElement("hr",null)}}])&&NavSeperator_defineProperties(Constructor.prototype,protoProps),staticProps&&NavSeperator_defineProperties(Constructor,staticProps),NavSeperator}(),isArray=__webpack_require__(57),isArray_default=__webpack_require__.n(isArray),jquery=__webpack_require__(0),jquery_default=__webpack_require__.n(jquery);function Submenu_typeof(obj){return(Submenu_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Submenu_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Submenu_possibleConstructorReturn(self,call){return!call||"object"!==Submenu_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Submenu_getPrototypeOf(o){return(Submenu_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Submenu_setPrototypeOf(o,p){return(Submenu_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Submenu_Submenu=function(_Component){function Submenu(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Submenu),Submenu_possibleConstructorReturn(this,Submenu_getPrototypeOf(Submenu).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Submenu_setPrototypeOf(subClass,superClass)}(Submenu,react["Component"]),Constructor=Submenu,(protoProps=[{key:"componentDidMount",value:function(){this.buildFloatingMenu(this.props.id)}},{key:"componentDidUpdate",value:function(){this.buildFloatingMenu(this.props.id)}},{key:"shouldComponentUpdate",value:function(nextProps){return this.props.children!==nextProps.children}},{key:"buildFloatingMenu",value:function(navId){if(this.props.children){var $sideBarToRight=jquery_default()(".sidebar-to-right");$sideBarToRight.find("#side-nav-sub-"+navId).remove();var ul=jquery_default()('<ul id="side-nav-sub-'+this.props.id+'" class="side-nav-sub side-nav-floating"></ul>'),li=null;if(isArray_default()(this.props.children))for(var i=0;i<this.props.children.length;i++)this.props.children[i]&&("NavSeperator"===this.props.children[i].type.name?ul.append("<hr />"):(this.props.children[i].props.hasSeperator&&ul.append("<hr />"),li=jquery_default()('<li class="'+(this.props.children[i].props.active?" active ":"")+'"><a href="'+this.props.children[i].props.href+'"><span>'+this.props.children[i].props.text+"</span></a></li>"),ul.append(li)));else{if("NavSeperator"===this.props.children.type.name)return;li=jquery_default()('<li class="'+(this.props.children.props.active?" active ":"")+'"><a href="'+this.props.children.props.href+'"><span>'+this.props.children.props.text+"</span></a></li>"),ul.append(li)}$sideBarToRight.append(ul),helpers_default.a.UI.setupSidebarTether(),jquery_default()("body").ajaxify()}}},{key:"render",value:function(){return react_default.a.createElement("ul",{id:"side-nav-accordion-"+this.props.id,className:"side-nav-sub side-nav-accordion"+(!0===this.props.subMenuOpen?" subMenuOpen":"")},this.props.children)}}])&&Submenu_defineProperties(Constructor.prototype,protoProps),staticProps&&Submenu_defineProperties(Constructor,staticProps),Submenu}();Submenu_Submenu.propTypes={id:prop_types_default.a.string.isRequired,subMenuOpen:prop_types_default.a.bool,children:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.node),prop_types_default.a.node]).isRequired};var Nav_Submenu=Submenu_Submenu;function SubmenuItem_typeof(obj){return(SubmenuItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function SubmenuItem_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SubmenuItem_possibleConstructorReturn(self,call){return!call||"object"!==SubmenuItem_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function SubmenuItem_getPrototypeOf(o){return(SubmenuItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function SubmenuItem_setPrototypeOf(o,p){return(SubmenuItem_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var SubmenuItem_SubmenuItem=function(_React$Component){function SubmenuItem(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SubmenuItem),SubmenuItem_possibleConstructorReturn(this,SubmenuItem_getPrototypeOf(SubmenuItem).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SubmenuItem_setPrototypeOf(subClass,superClass)}(SubmenuItem,react_default.a.Component),Constructor=SubmenuItem,(protoProps=[{key:"render",value:function(){return react_default.a.createElement("div",null,this.props.hasSeperator&&react_default.a.createElement("hr",null),react_default.a.createElement("li",{className:this.props.active?" active ":""},react_default.a.createElement("a",{href:this.props.href},react_default.a.createElement("i",{className:"material-icons fa-sub-icon"},this.props.icon),this.props.text)))}}])&&SubmenuItem_defineProperties(Constructor.prototype,protoProps),staticProps&&SubmenuItem_defineProperties(Constructor,staticProps),SubmenuItem}();SubmenuItem_SubmenuItem.propTypes={href:prop_types_default.a.string.isRequired,text:prop_types_default.a.string.isRequired,icon:prop_types_default.a.string.isRequired,hasSeperator:prop_types_default.a.bool,active:prop_types_default.a.bool};var Nav_SubmenuItem=SubmenuItem_SubmenuItem;const updateNavChange=Object(createAction.a)(NAV_CHANGE.ACTION,values=>({activeItem:values.activeItem,activeSubItem:values.activeSubItem,sessionUser:values.sessionUser}));function Sidebar_typeof(obj){return(Sidebar_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Sidebar_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Sidebar_possibleConstructorReturn(self,call){return!call||"object"!==Sidebar_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Sidebar_getPrototypeOf(o){return(Sidebar_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Sidebar_setPrototypeOf(o,p){return(Sidebar_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Sidebar_Sidebar=function(_React$Component){function Sidebar(props){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Sidebar),Sidebar_possibleConstructorReturn(this,Sidebar_getPrototypeOf(Sidebar).call(this,props))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Sidebar_setPrototypeOf(subClass,superClass)}(Sidebar,react_default.a.Component),Constructor=Sidebar,(protoProps=[{key:"componentDidMount",value:function(){var _this=this;helpers_default.a.UI.getPlugins(function(err,result){!err&&result.plugins&&_this.setState({plugins:result.plugins})})}},{key:"componentDidUpdate",value:function(){helpers_default.a.UI.initSidebar(),helpers_default.a.UI.bindExpand()}},{key:"renderPlugins",value:function(){var _this$state=this.state,plugins=_this$state.plugins,sessionUser=_this$state.sessionUser,activeItem=_this$state.activeItem,activeSubItem=_this$state.activeSubItem;return react_default.a.createElement(SidebarItem,{text:"Plugins",icon:"extension",href:"/plugins",class:"navPlugins tether-plugins",hasSubmenu:plugins&&plugins.length>0,subMenuTarget:"plugins",active:"plugins"===activeItem},plugins&&plugins.length>0&&react_default.a.createElement(Nav_Submenu,{id:"plugins",subMenuOpen:"plugins"===activeItem},plugins.map(function(item){if(-1!==item.permissions.split(" ").indexOf(sessionUser.role))return react_default.a.createElement(Nav_SubmenuItem,{key:item.name,text:item.menu.main.name,icon:item.menu.main.icon,href:item.menu.main.link,active:activeSubItem===item.name})})))}},{key:"render",value:function(){var _this$props=this.props,activeItem=_this$props.activeItem,activeSubItem=_this$props.activeSubItem,sessionUser=_this$props.sessionUser;return react_default.a.createElement("ul",{className:"side-nav"},sessionUser&&helpers_default.a.canUser("agent:*",!0)&&react_default.a.createElement(SidebarItem,{text:"Dashboard",icon:"dashboard",href:"/dashboard",class:"navHome",active:"dashboard"===activeItem}),sessionUser&&helpers_default.a.canUser("tickets:view")&&react_default.a.createElement(SidebarItem,{text:"Tickets",icon:"assignment",href:"/tickets",class:"navTickets no-ajaxy",hasSubmenu:!0,subMenuTarget:"tickets",active:"tickets"===activeItem},react_default.a.createElement(Nav_Submenu,{id:"tickets"},react_default.a.createElement(Nav_SubmenuItem,{text:"Active",icon:"timer",href:"/tickets/active",active:"tickets-active"===activeSubItem}),react_default.a.createElement(Nav_SubmenuItem,{text:"Assigned",icon:"assignment_ind",href:"/tickets/assigned",active:"tickets-assigned"===activeSubItem}),react_default.a.createElement(Nav_SubmenuItem,{text:"Unassigned",icon:"person_add_disabled",href:"/tickets/unassigned",active:"tickets-unassigned"===activeSubItem}),react_default.a.createElement(Nav_NavSeperator,null),react_default.a.createElement(Nav_SubmenuItem,{text:"New",icon:"",href:"/tickets/new",active:"tickets-new"===activeSubItem}),react_default.a.createElement(Nav_SubmenuItem,{text:"Pending",icon:"",href:"/tickets/pending",active:"tickets-pending"===activeSubItem}),react_default.a.createElement(Nav_SubmenuItem,{text:"Open",icon:"",href:"/tickets/open",active:"tickets-open"===activeSubItem}),react_default.a.createElement(Nav_SubmenuItem,{text:"Closed",icon:"",href:"/tickets/closed",active:"tickets-closed"===activeSubItem}))),react_default.a.createElement(SidebarItem,{text:"Messages",icon:"chat",href:"/messages",class:"navMessages",active:"messages"===activeItem}),sessionUser&&helpers_default.a.canUser("accounts:view")&&react_default.a.createElement(SidebarItem,{text:"Accounts",icon:"",href:"/accounts",class:"navAccounts",active:"accounts"===activeItem}),sessionUser&&helpers_default.a.canUser("groups:view")&&react_default.a.createElement(SidebarItem,{text:"Customer Groups",icon:"supervisor_account",href:"/groups",class:"navGroups",active:"groups"===activeItem}),sessionUser&&helpers_default.a.canUser("reports:view")&&react_default.a.createElement(SidebarItem,{text:"Reports",icon:"assessment",href:"/reports/generate",class:"navReports no-ajaxy",hasSubmenu:!0,subMenuTarget:"reports",active:"reports"===activeItem},react_default.a.createElement(Nav_Submenu,{id:"reports"},react_default.a.createElement(Nav_SubmenuItem,{text:"Generate",icon:"timeline",href:"/reports/generate",active:"reports-generate"===activeSubItem}),react_default.a.createElement(Nav_NavSeperator,null),react_default.a.createElement(Nav_SubmenuItem,{text:"Group Breakdown",icon:"supervisor_account",href:"/reports/breakdown/group",active:"reports-breakdown-group"===activeSubItem}),react_default.a.createElement(Nav_SubmenuItem,{text:"User Breakdown",icon:"perm_identity",href:"/reports/breakdown/user",active:"reports-breakdown-user"===activeSubItem}))),sessionUser&&helpers_default.a.canUser("notices:view")&&react_default.a.createElement(SidebarItem,{text:"Notices",icon:"warning",href:"/notices",class:"navNotices",active:"notices"===activeItem}),react_default.a.createElement(Nav_NavSeperator,null),sessionUser&&helpers_default.a.canUser("settings:edit")&&react_default.a.createElement(SidebarItem,{text:"Settings",icon:"settings",href:"/settings/general",class:"navSettings no-ajaxy",hasSubmenu:!0,subMenuTarget:"settings",active:"settings"===activeItem},react_default.a.createElement(Nav_Submenu,{id:"settings"},react_default.a.createElement(Nav_SubmenuItem,{text:"General",icon:"tune",href:"/settings",active:"settings-general"===activeSubItem}),react_default.a.createElement(Nav_SubmenuItem,{text:"Appearance",icon:"style",href:"/settings/appearance",active:"settings-appearance"===activeSubItem}),react_default.a.createElement(Nav_SubmenuItem,{text:"Tickets",icon:"assignment",href:"/settings/tickets",active:"settings-tickets"===activeSubItem}),react_default.a.createElement(Nav_SubmenuItem,{text:"Permissions",icon:"lock",href:"/settings/permissions",active:"settings-permissions"===activeSubItem}),react_default.a.createElement(Nav_SubmenuItem,{text:"Mailer",icon:"email",href:"/settings/mailer",active:"settings-mailer"===activeSubItem}),react_default.a.createElement(Nav_SubmenuItem,{text:"Push Service",icon:"mobile_friendly",href:"/settings/tps",active:"settings-tps"===activeSubItem}),react_default.a.createElement(Nav_SubmenuItem,{text:"Backup/Restore",icon:"archive",href:"/settings/backup",active:"settings-backup"===activeSubItem}),react_default.a.createElement(Nav_SubmenuItem,{text:"Legal",icon:"gavel",href:"/settings/legal",active:"settings-legal"===activeSubItem}),sessionUser&&helpers_default.a.canUser("settings:logs")&&react_default.a.createElement(Nav_SubmenuItem,{text:"Logs",icon:"remove_from_queue",href:"/settings/logs",hasSeperator:!0,active:"settings-logs"===activeSubItem}))),react_default.a.createElement(SidebarItem,{href:"/about",icon:"help",text:"About",active:"about"===activeItem}))}}])&&Sidebar_defineProperties(Constructor.prototype,protoProps),staticProps&&Sidebar_defineProperties(Constructor,staticProps),Sidebar}();Sidebar_Sidebar.propTypes={updateNavChange:prop_types_default.a.func.isRequired,activeItem:prop_types_default.a.string.isRequired,activeSubItem:prop_types_default.a.string.isRequired,sessionUser:prop_types_default.a.object,plugins:prop_types_default.a.array};var Nav_Sidebar=Object(es.b)(function(state){return{activeItem:state.sidebar.activeItem,activeSubItem:state.sidebar.activeSubItem,sessionUser:state.shared.sessionUser}},{updateNavChange})(Sidebar_Sidebar);function Button_typeof(obj){return(Button_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Button_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Button_possibleConstructorReturn(self,call){return!call||"object"!==Button_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Button_getPrototypeOf(o){return(Button_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Button_setPrototypeOf(o,p){return(Button_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Button_Button=function(_React$Component){function Button(props){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Button),Button_possibleConstructorReturn(this,Button_getPrototypeOf(Button).call(this,props))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Button_setPrototypeOf(subClass,superClass)}(Button,react_default.a.Component),Constructor=Button,(protoProps=[{key:"componentDidMount",value:function(){helpers_default.a.UI.waves()}},{key:"render",value:function(){var _this$props=this.props,type=_this$props.type,small=_this$props.small,flat=_this$props.flat,style=_this$props.style,text=_this$props.text,onClick=_this$props.onClick,waves=_this$props.waves,disabled=_this$props.disabled,extraClass=_this$props.extraClass,styleOverride=_this$props.styleOverride,hasDropdown=_this$props.hasDropdown,classBuild=(small?" md-btn-small ":"")+(flat?" md-btn-flat ":"")+(waves?" md-btn-wave ":"")+(style&&style&&flat?" md-btn-flat-"+style:style?" md-btn-"+style:"")+(disabled?" disabled ":"")+" "+extraClass,renderStyleOverride=styleOverride;return small&&(renderStyleOverride?Object(lodash.merge)(renderStyleOverride,{maxHeight:"27px"}):renderStyleOverride={maxHeight:"27px"},hasDropdown&&Object(lodash.merge)(renderStyleOverride,{paddingRight:"12px"})),react_default.a.createElement("button",{className:"uk-clearfix md-btn"+classBuild,onClick,type:type||"button",disabled,style:renderStyleOverride},react_default.a.createElement("div",{className:"uk-float-left uk-width-1-1 uk-text-center"}," ",text),hasDropdown&&react_default.a.createElement("i",{className:"material-icons",style:{fontSize:"18px",margin:"5px 0 0 5px"}},""))}}])&&Button_defineProperties(Constructor.prototype,protoProps),staticProps&&Button_defineProperties(Constructor,staticProps),Button}();Button_Button.propTypes={type:prop_types_default.a.string,text:prop_types_default.a.string.isRequired,flat:prop_types_default.a.bool,style:prop_types_default.a.string,styleOverride:prop_types_default.a.object,hasDropdown:prop_types_default.a.bool,small:prop_types_default.a.bool,waves:prop_types_default.a.bool,disabled:prop_types_default.a.bool,extraClass:prop_types_default.a.string,onClick:prop_types_default.a.func},Button_Button.defaultProps={disabled:!1,hasDropdown:!1,flat:!1,waves:!0,type:"button"};var components_Button=Button_Button;function BaseModal_typeof(obj){return(BaseModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function BaseModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function BaseModal_getPrototypeOf(o){return(BaseModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function BaseModal_setPrototypeOf(o,p){return(BaseModal_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function BaseModal_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var BaseModal_BaseModal=function(_React$Component){function BaseModal(props){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseModal),self=this,(_this=!(call=BaseModal_getPrototypeOf(BaseModal).call(this,props))||"object"!==BaseModal_typeof(call)&&"function"!=typeof call?BaseModal_assertThisInitialized(self):call).state={modal:null},_this.clearModal=_this.clearModal.bind(BaseModal_assertThisInitialized(BaseModal_assertThisInitialized(_this))),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&BaseModal_setPrototypeOf(subClass,superClass)}(BaseModal,react_default.a.Component),Constructor=BaseModal,(protoProps=[{key:"componentDidMount",value:function(){var _this2=this;this.setState({modal:uikit_combined_min_default.a.modal(this.modal,this.props.options)},function(){_this2.state.modal.show(),jquery_default()(_this2.modal).on("hide.uk.modal",_this2.clearModal)})}},{key:"show",value:function(){this.state.modal&&this.state.modal.show()}},{key:"hide",value:function(){this.props.hideModal()}},{key:"clearModal",value:function(){this.props.clearModal()}},{key:"render",value:function(){var _this3=this;return react_default.a.createElement("div",{id:"uk-modal",className:"uk-modal"+(this.props.parentExtraClass?" "+this.props.parentExtraClass:""),ref:function(i){return _this3.modal=i},"data-modal-tag":this.props.modalTag},react_default.a.createElement("div",{className:"uk-modal-dialog"+(this.props.large?" uk-modal-dialog-large":"")+(this.props.extraClass?" "+this.props.extraClass:"")},this.props.children))}}])&&BaseModal_defineProperties(Constructor.prototype,protoProps),staticProps&&BaseModal_defineProperties(Constructor,staticProps),BaseModal}();BaseModal_BaseModal.propTypes={large:prop_types_default.a.bool,options:prop_types_default.a.object,modalTag:prop_types_default.a.string,hideModal:prop_types_default.a.func.isRequired,clearModal:prop_types_default.a.func.isRequired,parentExtraClass:prop_types_default.a.string,extraClass:prop_types_default.a.string,children:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.node),prop_types_default.a.node]).isRequired};var Modals_BaseModal=Object(es.b)(null,{hideModal,clearModal})(BaseModal_BaseModal);function NoticeAlertModal_typeof(obj){return(NoticeAlertModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function NoticeAlertModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function NoticeAlertModal_possibleConstructorReturn(self,call){return!call||"object"!==NoticeAlertModal_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function NoticeAlertModal_getPrototypeOf(o){return(NoticeAlertModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function NoticeAlertModal_setPrototypeOf(o,p){return(NoticeAlertModal_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var NoticeAlertModal_NoticeAlertModal=function(_React$Component){function NoticeAlertModal(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NoticeAlertModal),NoticeAlertModal_possibleConstructorReturn(this,NoticeAlertModal_getPrototypeOf(NoticeAlertModal).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&NoticeAlertModal_setPrototypeOf(subClass,superClass)}(NoticeAlertModal,react_default.a.Component),Constructor=NoticeAlertModal,(protoProps=[{key:"onConfirmClick",value:function(e){e.preventDefault();var expiresDate=new Date;expiresDate.setDate(expiresDate.getDate()+1),js_cookie_default.a.set(this.props.noticeCookieName,"false",{expires:expiresDate}),this.props.hideModal("NOTICE_ALERT")}},{key:"render",value:function(){var _this=this,_this$props=this.props,notice=_this$props.notice,dateFormat=_this$props.shortDateFormat+", "+_this$props.timeFormat;return react_default.a.createElement(Modals_BaseModal,_extends({},this.props,{options:{bgclose:!1},large:!0}),react_default.a.createElement("div",null,react_default.a.createElement("div",{style:{width:"100%",height:"50px",backgroundColor:notice.color,marginBottom:"5px",position:"absolute",top:0,left:0,padding:"7px 25px"}},react_default.a.createElement("h4",{style:{fontSize:"24px",marginTop:"7px",fontWeight:"300",color:notice.fontColor}},notice.name)),react_default.a.createElement("div",{style:{paddingBottom:"25px"}},react_default.a.createElement("p",{style:{marginTop:"50px",color:"#222",fontSize:"18px",paddingBottom:"15px"}},helpers_default.a.formatDate(notice.activeDate,dateFormat),react_default.a.createElement("br",null),"Important: ",notice.message),react_default.a.createElement(components_Button,{text:"Confirm",flat:!0,style:"success",extraClass:"uk-float-right",styleOverride:{marginBottom:0},waves:!0,onClick:function(e){return _this.onConfirmClick(e)}}))))}}])&&NoticeAlertModal_defineProperties(Constructor.prototype,protoProps),staticProps&&NoticeAlertModal_defineProperties(Constructor,staticProps),NoticeAlertModal}();NoticeAlertModal_NoticeAlertModal.propTypes={notice:prop_types_default.a.object.isRequired,noticeCookieName:prop_types_default.a.string.isRequired,shortDateFormat:prop_types_default.a.string.isRequired,timeFormat:prop_types_default.a.string.isRequired,hideModal:prop_types_default.a.func.isRequired};var Modals_NoticeAlertModal=Object(es.b)(null,{hideModal})(NoticeAlertModal_NoticeAlertModal);const tickets_createTicket=Object(createAction.a)(CREATE_TICKET.ACTION),tickets_createTicketType=Object(createAction.a)(CREATE_TICKET_TYPE.ACTION,input=>({name:input.name})),tickets_deleteTicketType=(Object(createAction.a)(RENAME_TICKET_TYPE.ACTION,input=>({name:input.name})),Object(createAction.a)(DELETE_TICKET_TYPE.ACTION,(id,newTypeId)=>({id,newTypeId}))),tickets_createPriority=Object(createAction.a)(CREATE_PRIORITY.ACTION,({name,overdueIn,htmlColor})=>({name,overdueIn,htmlColor})),tickets_updatePriority=Object(createAction.a)(UPDATE_PRIORITY.ACTION,({id,name,overdueIn,htmlColor})=>({id,name,overdueIn,htmlColor})),tickets_deletePriority=Object(createAction.a)(DELETE_PRIORITY.ACTION,({id,newPriority})=>({id,newPriority})),tickets_getTagsWithPage=Object(createAction.a)(GET_TAGS_WITH_PAGE.ACTION,({limit,page})=>({limit,page})),tagsUpdateCurrentPage=Object(createAction.a)(TAGS_UPDATE_CURRENT_PAGE.ACTION,currentPage=>({currentPage})),tickets_createTag=Object(createAction.a)(CREATE_TAG.ACTION,({name,currentPage})=>({name,currentPage}));function CreateTicketTypeModal_typeof(obj){return(CreateTicketTypeModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function CreateTicketTypeModal_extends(){return(CreateTicketTypeModal_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function CreateTicketTypeModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function CreateTicketTypeModal_possibleConstructorReturn(self,call){return!call||"object"!==CreateTicketTypeModal_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function CreateTicketTypeModal_getPrototypeOf(o){return(CreateTicketTypeModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function CreateTicketTypeModal_setPrototypeOf(o,p){return(CreateTicketTypeModal_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var CreateTicketTypeModal_CreateTicketTypeModal=function(_React$Component){function CreateTicketTypeModal(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CreateTicketTypeModal),(_this=CreateTicketTypeModal_possibleConstructorReturn(this,CreateTicketTypeModal_getPrototypeOf(CreateTicketTypeModal).call(this,props))).state={typeName:""},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&CreateTicketTypeModal_setPrototypeOf(subClass,superClass)}(CreateTicketTypeModal,react_default.a.Component),Constructor=CreateTicketTypeModal,(protoProps=[{key:"componentDidMount",value:function(){helpers_default.a.UI.inputs(),helpers_default.a.formvalidator()}},{key:"onTypeNameChanged",value:function(e){this.setState({typeName:e.target.value})}},{key:"onCreateTicketTypeSubmit",value:function(e){if(e.preventDefault(),!jquery_default()(e.target).isValid(null,null,!1))return!0;this.props.createTicketType({name:this.state.typeName})}},{key:"render",value:function(){var _this2=this;return react_default.a.createElement(Modals_BaseModal,CreateTicketTypeModal_extends({},this.props,{ref:function(i){return _this2.base=i}}),react_default.a.createElement("form",{className:"uk-form-stacked",onSubmit:function(e){return _this2.onCreateTicketTypeSubmit(e)}},react_default.a.createElement("div",null,react_default.a.createElement("h2",{className:"nomargin mb-5"},"Create Ticket Type"),react_default.a.createElement("p",{className:"uk-text-small uk-text-muted"},"Create a ticket type"),react_default.a.createElement("label",{htmlFor:"typeName"},"Type name"),react_default.a.createElement("input",{value:this.state.typeName,onChange:function(e){return _this2.onTypeNameChanged(e)},type:"text",className:"md-input",name:"typeName","data-validation":"length","data-validation-length":"min3","data-validation-error-msg":"Please enter a valid type name. Type name must contain at least 3 characters"})),react_default.a.createElement("div",{className:"uk-modal-footer uk-text-right"},react_default.a.createElement(components_Button,{text:"Close",flat:!0,waves:!0,extraClass:"uk-modal-close"}),react_default.a.createElement(components_Button,{text:"Create",style:"success",type:"submit"}))))}}])&&CreateTicketTypeModal_defineProperties(Constructor.prototype,protoProps),staticProps&&CreateTicketTypeModal_defineProperties(Constructor,staticProps),CreateTicketTypeModal}();CreateTicketTypeModal_CreateTicketTypeModal.propTypes={onTypeCreated:prop_types_default.a.func,createTicketType:prop_types_default.a.func.isRequired};var Modals_CreateTicketTypeModal=Object(es.b)(null,{createTicketType:tickets_createTicketType})(CreateTicketTypeModal_CreateTicketTypeModal);function SingleSelect_typeof(obj){return(SingleSelect_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function SingleSelect_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SingleSelect_getPrototypeOf(o){return(SingleSelect_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function SingleSelect_setPrototypeOf(o,p){return(SingleSelect_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function SingleSelect_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var SingleSelect_SingleSelect=function(_React$Component){function SingleSelect(props){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SingleSelect),self=this,(_this=!(call=SingleSelect_getPrototypeOf(SingleSelect).call(this,props))||"object"!==SingleSelect_typeof(call)&&"function"!=typeof call?SingleSelect_assertThisInitialized(self):call).value="",_this.props.defaultValue&&(_this.value=_this.props.defaultValue),_this.onSelectChange=_this.onSelectChange.bind(SingleSelect_assertThisInitialized(SingleSelect_assertThisInitialized(_this))),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SingleSelect_setPrototypeOf(subClass,superClass)}(SingleSelect,react_default.a.Component),Constructor=SingleSelect,(protoProps=[{key:"componentDidMount",value:function(){helpers_default.a.UI.selectize();var $select=jquery_default()(this.select);this.updateSelectizeItems(),$select.on("change",this.onSelectChange),this.props.multiple&&(this.value=[]),this.props.defaultValue&&(this.value=this.props.defaultValue)}},{key:"componentWillUnmount",value:function(){var selectize=this.select.selectize;selectize&&selectize.destroy()}},{key:"onSelectChange",value:function(e){""!==e.target.value&&(this.props.multiple?this.value=this.select.selectize.items:this.value=e.target.value,this.value&&this.props.onSelectChange&&this.props.onSelectChange(e))}},{key:"componentDidUpdate",value:function(prevProps){prevProps.defaultValue===this.props.defaultValue||this.value||(this.value=this.props.defaultValue),this.updateSelectizeItems()}},{key:"updateSelectizeItems",value:function(){if(this.select&&this.select.selectize){var self=this;Object(lodash.each)(this.select.selectize.options,function(i){-1===Object(lodash.findIndex)(self.props.items,function(o){return i.value===o.value})&&self.select.selectize.removeOption(i.value,!0)}),this.select.selectize.addOption(this.props.items),this.select.selectize.refreshOptions(!1),this.select.selectize.addItem(this.value,!0),Object(lodash.each)(this.props.items,function(i){self.select.selectize.updateOption(i.value,i)}),this.props.disabled?this.select.selectize.disable():this.select.selectize.enable()}}},{key:"render",value:function(){var _this2=this,width="100%";this.props.width&&(width=this.props.width);var value=this.props.multiple&&!Object(lodash.isArray)(this.value)?[this.value]:this.value;return react_default.a.createElement("div",{className:"uk-clearfix"},react_default.a.createElement("div",{className:"uk-width-1-1 uk-float-right",style:{paddingRight:"10px",width}},react_default.a.createElement("select",{className:"selectize",ref:function(select){_this2.select=select},"data-md-selectize-inline":!0,"data-md-selectize-notextbox":this.props.showTextbox?"false":"true",value,onChange:function(){},disabled:this.props.disabled,"data-md-selectize-bottom":"true",multiple:this.props.multiple,"data-md-selectize-top-offset":"-32"})))}}])&&SingleSelect_defineProperties(Constructor.prototype,protoProps),staticProps&&SingleSelect_defineProperties(Constructor,staticProps),SingleSelect}();SingleSelect_SingleSelect.propTypes={width:prop_types_default.a.string,items:prop_types_default.a.arrayOf(prop_types_default.a.object).isRequired,multiple:prop_types_default.a.bool,showTextbox:prop_types_default.a.bool,defaultValue:prop_types_default.a.string,disabled:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.bool]),onSelectChange:prop_types_default.a.func},SingleSelect_SingleSelect.defaultProps={showTextbox:!0,disabled:!1,multiple:!1};var components_SingleSelect=SingleSelect_SingleSelect;function DeleteTicketTypeModal_typeof(obj){return(DeleteTicketTypeModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function DeleteTicketTypeModal_extends(){return(DeleteTicketTypeModal_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function DeleteTicketTypeModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function DeleteTicketTypeModal_possibleConstructorReturn(self,call){return!call||"object"!==DeleteTicketTypeModal_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function DeleteTicketTypeModal_getPrototypeOf(o){return(DeleteTicketTypeModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function DeleteTicketTypeModal_setPrototypeOf(o,p){return(DeleteTicketTypeModal_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var DeleteTicketTypeModal_DeleteTicketTypeModal=function(_React$Component){function DeleteTicketTypeModal(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DeleteTicketTypeModal),(_this=DeleteTicketTypeModal_possibleConstructorReturn(this,DeleteTicketTypeModal_getPrototypeOf(DeleteTicketTypeModal).call(this,props))).state={selectedType:""},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&DeleteTicketTypeModal_setPrototypeOf(subClass,superClass)}(DeleteTicketTypeModal,react_default.a.Component),Constructor=DeleteTicketTypeModal,(protoProps=[{key:"getTicketTypes",value:function(){return this.props.settings&&this.props.settings.get("ticketTypes")?this.props.settings.get("ticketTypes").toArray():[]}},{key:"onSelectChanged",value:function(e){this.setState({selectedType:e.target.value})}},{key:"onFormSubmit",value:function(e){if(e.preventDefault(),!this.state.selectedType)return helpers_default.a.UI.showSnackbar("Unable to get new ticket type. Aborting...",!0),!0;this.props.deleteTicketType(this.props.type.get("_id"),this.state.selectedType)}},{key:"render",value:function(){var _this2=this,type=this.props.type,mappedTypes=this.getTicketTypes().filter(function(obj){return type.get("name")!==obj.get("name")}).map(function(item){return{text:item.get("name"),value:item.get("_id")}});return react_default.a.createElement(Modals_BaseModal,DeleteTicketTypeModal_extends({},this.props,{options:{bgclose:!1}}),react_default.a.createElement("form",{className:"uk-form-stacked",onSubmit:function(e){return _this2.onFormSubmit(e)}},react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("h2",null,"Remove Ticket Type"),react_default.a.createElement("span",null,"Please select the ticket type you wish to reassign tickets to in order to delete this ticket type.")),react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("div",{className:"uk-float-left",style:{width:"100%"}},react_default.a.createElement("label",{className:"uk-form-label nopadding nomargin"},"Type"),react_default.a.createElement(components_SingleSelect,{showTextbox:!1,items:mappedTypes,onSelectChange:function(e){return _this2.onSelectChanged(e)},value:this.state.selectedType}))),react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("span",{className:"uk-text-danger"},"WARNING: This will change all tickets with type ",react_default.a.createElement("strong",null,type.get("name"))," to the selected ticket type.",react_default.a.createElement("br",null),react_default.a.createElement("strong",null,"This is permanent!"))),react_default.a.createElement("div",{className:"uk-modal-footer uk-text-right"},react_default.a.createElement(components_Button,{text:"Cancel",flat:!0,waves:!0,extraClass:"uk-modal-close"}),react_default.a.createElement(components_Button,{text:"Delete",style:"danger",flat:!0,type:"submit"}))))}}])&&DeleteTicketTypeModal_defineProperties(Constructor.prototype,protoProps),staticProps&&DeleteTicketTypeModal_defineProperties(Constructor,staticProps),DeleteTicketTypeModal}();DeleteTicketTypeModal_DeleteTicketTypeModal.propTypes={type:prop_types_default.a.object.isRequired,settings:prop_types_default.a.object.isRequired,deleteTicketType:prop_types_default.a.func.isRequired};var Modals_DeleteTicketTypeModal=Object(es.b)(function(state){return{settings:state.settings.settings}},{deleteTicketType:tickets_deleteTicketType})(DeleteTicketTypeModal_DeleteTicketTypeModal),some=__webpack_require__(313),some_default=__webpack_require__.n(some),velocity_min=__webpack_require__(18),velocity_min_default=__webpack_require__.n(velocity_min);const settings_fetchSettings=Object(createAction.a)(FETCH_SETTINGS.ACTION),settings_updateSetting=Object(createAction.a)(UPDATE_SETTING.ACTION,input=>({name:input.name,value:input.value,stateName:input.stateName,noSnackbar:!!input.noSnackbar&&input.noSnackbar}),()=>({thunk:!0})),settings_updateMultipleSettings=Object(createAction.a)(UPDATE_MULTIPLE_SETTINGS.ACTION),settings_updateColorScheme=Object(createAction.a)(UPDATE_COLORSCHEME.ACTION),fetchMongoDBTools=Object(createAction.a)(FETCH_MONGODB_TOOLS.ACTION),settings_fetchBackups=Object(createAction.a)(FETCH_BACKUPS.ACTION),settings_backupNow=Object(createAction.a)(BACKUP_NOW.ACTION),settings_fetchDeletedTickets=Object(createAction.a)(FETCH_DELETED_TICKETS.ACTION),settings_restoreDeletedTicket=Object(createAction.a)(RESTORE_DELETED_TICKET.ACTION),changeDeletedTicketsPage=Object(createAction.a)(CHANGE_DELETED_TICKETS_PAGE.ACTION,pageIndex=>({pageIndex})),settings_createRole=Object(createAction.a)(CREATE_ROLE.ACTION),settings_updatePermissions=Object(createAction.a)(UPDATE_PERMISSIONS.ACTION),settings_deleteRole=Object(createAction.a)(DELETE_ROLE.ACTION);function AddPriorityToTypeModal_typeof(obj){return(AddPriorityToTypeModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function AddPriorityToTypeModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function AddPriorityToTypeModal_possibleConstructorReturn(self,call){return!call||"object"!==AddPriorityToTypeModal_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function AddPriorityToTypeModal_getPrototypeOf(o){return(AddPriorityToTypeModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function AddPriorityToTypeModal_setPrototypeOf(o,p){return(AddPriorityToTypeModal_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var AddPriorityToTypeModal_AddPriorityToTypeModal=function(_React$Component){function AddPriorityToTypeModal(props){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AddPriorityToTypeModal),AddPriorityToTypeModal_possibleConstructorReturn(this,AddPriorityToTypeModal_getPrototypeOf(AddPriorityToTypeModal).call(this,props))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&AddPriorityToTypeModal_setPrototypeOf(subClass,superClass)}(AddPriorityToTypeModal,react_default.a.Component),Constructor=AddPriorityToTypeModal,(protoProps=[{key:"getPriorities",value:function(){return this.props.settings&&this.props.settings.get("priorities")?this.props.settings.get("priorities").toArray():[]}},{key:"onAddClick",value:function(e,type,priority){var _this=this;e.preventDefault();var $addButton=jquery_default()(e.target),$check=$addButton.siblings("i.material-icons");client_api.tickets.addPriorityToType({typeId:type.get("_id"),priority:priority.get("_id")}).then(function(){velocity_min_default()($addButton,{opacity:0},{duration:350,complete:function(){$addButton.addClass("hide")}}),$check.length>0&&velocity_min_default()($check,{opacity:1},{delay:360,duration:200,begin:function(){$check.show()}}),_this.props.fetchSettings()}).catch(function(error){var errorText=error.response.data.error;logger.error(errorText,error.response),helpers_default.a.UI.showSnackbar("Error: ".concat(errorText),!0)})}},{key:"render",value:function(){var _this2=this,type=this.props.type;return react_default.a.createElement(Modals_BaseModal,null,react_default.a.createElement("form",{className:"uk-form-stacked"},react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("h2",null,"Add Priorities"),react_default.a.createElement("span",null,"Please select the priorities you wish to add to type: ",type.get("name"))),react_default.a.createElement("div",{className:"priority-loop zone"},this.getPriorities().map(function(priority){return some_default()(type.get("priorities").toJS(),priority.toObject())?react_default.a.createElement("div",{key:priority.get("_id"),className:"z-box uk-clearfix"},react_default.a.createElement("div",{className:"uk-float-left"},react_default.a.createElement("h5",{style:{color:priority.get("htmlColor"),fontWeight:"bold"}},priority.get("name")),react_default.a.createElement("p",{className:"uk-text-muted"},"SLA Overdue: ",react_default.a.createElement("strong",null,priority.get("durationFormatted")))),react_default.a.createElement("div",{className:"uk-float-right"},react_default.a.createElement("i",{className:"material-icons uk-text-success mt-10 mr-15",style:{fontSize:"28px"}},"check"))):react_default.a.createElement("div",{key:priority.get("_id"),className:"z-box uk-clearfix"},react_default.a.createElement("div",{className:"uk-float-left"},react_default.a.createElement("h5",{style:{color:priority.get("htmlColor"),fontWeight:"bold"}},priority.get("name")),react_default.a.createElement("p",{className:"uk-text-muted"},"SLA Overdue: ",react_default.a.createElement("strong",null,priority.get("durationFormatted")))),react_default.a.createElement("div",{className:"uk-float-right"},react_default.a.createElement("a",{type:"button",className:"uk-button uk-button-success mt-10 mr-10 no-ajaxy",onClick:function(e){return _this2.onAddClick(e,type,priority)}},"Add"),react_default.a.createElement("i",{className:"material-icons uk-text-success mt-10 mr-15",style:{display:"none",opacity:0,fontSize:"28px"}},"check")))})),react_default.a.createElement("div",{className:"uk-modal-footer uk-text-right"},react_default.a.createElement(components_Button,{type:"button",flat:!0,waves:!0,text:"Close",extraClass:"uk-modal-close"}))))}}])&&AddPriorityToTypeModal_defineProperties(Constructor.prototype,protoProps),staticProps&&AddPriorityToTypeModal_defineProperties(Constructor,staticProps),AddPriorityToTypeModal}();AddPriorityToTypeModal_AddPriorityToTypeModal.propTypes={settings:prop_types_default.a.object.isRequired,type:prop_types_default.a.object.isRequired,fetchSettings:prop_types_default.a.func.isRequired};var Modals_AddPriorityToTypeModal=Object(es.b)(function(state){return{settings:state.settings.settings}},{fetchSettings:settings_fetchSettings})(AddPriorityToTypeModal_AddPriorityToTypeModal);function ColorSelector_typeof(obj){return(ColorSelector_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ColorSelector_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ColorSelector_possibleConstructorReturn(self,call){return!call||"object"!==ColorSelector_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ColorSelector_getPrototypeOf(o){return(ColorSelector_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ColorSelector_setPrototypeOf(o,p){return(ColorSelector_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var ColorSelector_ColorSelector=function(_React$Component){function ColorSelector(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ColorSelector),(_this=ColorSelector_possibleConstructorReturn(this,ColorSelector_getPrototypeOf(ColorSelector).call(this,props))).state={selectedColor:""},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ColorSelector_setPrototypeOf(subClass,superClass)}(ColorSelector,react_default.a.Component),Constructor=ColorSelector,staticProps=[{key:"getRandomColor",value:function(){for(var color="#",i=0;i<6;i++)color+="0123456789ABCDEF"[Math.floor(16*Math.random())];return color}},{key:"getContrast",value:function(hexcolor){if(3===(hexcolor=hexcolor.replace("#","")).length){var v=hexcolor[0];hexcolor=hexcolor+v+v+v}return(299*parseInt(hexcolor.substr(0,2),16)+587*parseInt(hexcolor.substr(2,2),16)+114*parseInt(hexcolor.substr(4,2),16))/1e3>=128?"#444":"#f7f8fa"}}],(protoProps=[{key:"componentDidMount",value:function(){helpers_default.a.UI.inputs(),this.setState({selectedColor:this.props.defaultColor},this.updateColorButton)}},{key:"componentDidUpdate",value:function(prevProps){this.props.defaultColor!==prevProps.defaultColor&&this.setState({selectedColor:this.props.defaultColor},this.updateColorButton)}},{key:"generateRandomColor",value:function(event){var _this2=this;if(event.preventDefault(),jquery_default()(event.target).length>0){var color=ColorSelector.getRandomColor();this.props.onChange&&(event.target.value=color,this.props.onChange(event)),this.setState({selectedColor:color},function(){_this2.updateColorButton()})}}},{key:"updateColorButton",value:function(){var fgColor=ColorSelector.getContrast(this.state.selectedColor.substring(1));jquery_default()(this.colorButton).css({background:this.state.selectedColor,color:fgColor})}},{key:"onInputValueChange",value:function(e){var val=e.target.value;this.props.onChange&&this.props.onChange(e),this.setState({selectedColor:val},this.updateColorButton)}},{key:"revertColor",value:function(){this.setState({selectedColor:this.props.defaultColor},this.updateColorButton)}},{key:"render",value:function(){var _this3=this;return react_default.a.createElement("div",{className:this.props.parentClass},react_default.a.createElement("div",{className:"uk-float-left uk-width-1-4"},react_default.a.createElement("button",{ref:function(colorButton){_this3.colorButton=colorButton},className:"uk-button uk-button-small uk-color-button mr-5 mt-10",style:{float:"right"},onClick:function(e){_this3.generateRandomColor(e)}},react_default.a.createElement("i",{className:"material-icons"},"refresh"))),react_default.a.createElement("div",{className:"md-input-wrapper uk-float-left md-input-filled",style:{width:this.props.hideRevert?"70%":"50%"}},react_default.a.createElement("label",null,"Color"),this.props.validationEnabled&&react_default.a.createElement("input",{name:this.props.inputName?this.props.inputName:"",type:"text",className:"md-input",value:this.state.selectedColor,onChange:function(e){_this3.onInputValueChange(e)},"data-validation":"custom","data-validation-regexp":"^\\#([0-9a-fA-F]){3,6}$","data-validation-error-msg":"Invalid HEX Color"}),!this.props.validationEnabled&&react_default.a.createElement("input",{name:this.props.inputName?this.props.inputName:"",type:"text",className:"md-input",value:this.state.selectedColor,onChange:function(e){_this3.onInputValueChange(e)}}),react_default.a.createElement("div",{className:"md-input-bar"})),!this.props.hideRevert&&react_default.a.createElement("button",{className:"md-btn md-btn-small md-btn-flat mt-10 uk-float-right uk-width-1-4",onClick:function(){_this3.revertColor()}},"Revert"))}}])&&ColorSelector_defineProperties(Constructor.prototype,protoProps),staticProps&&ColorSelector_defineProperties(Constructor,staticProps),ColorSelector}();ColorSelector_ColorSelector.propTypes={inputName:prop_types_default.a.string,defaultColor:prop_types_default.a.string.isRequired,hideRevert:prop_types_default.a.bool,parentClass:prop_types_default.a.string,onChange:prop_types_default.a.func,validationEnabled:prop_types_default.a.bool},ColorSelector_ColorSelector.defaultProps={defaultColor:"#878982",hideRevert:!1,validationEnabled:!1};var CreatePriorityModal_class,CreatePriorityModal_class2,CreatePriorityModal_descriptor,CreatePriorityModal_descriptor2,_descriptor3,components_ColorSelector=ColorSelector_ColorSelector;function CreatePriorityModal_typeof(obj){return(CreatePriorityModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function CreatePriorityModal_extends(){return(CreatePriorityModal_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function CreatePriorityModal_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function CreatePriorityModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function CreatePriorityModal_getPrototypeOf(o){return(CreatePriorityModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function CreatePriorityModal_setPrototypeOf(o,p){return(CreatePriorityModal_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function CreatePriorityModal_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function CreatePriorityModal_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var CreatePriorityModal_CreatePriorityModal=Object(index_module.a)((CreatePriorityModal_descriptor=CreatePriorityModal_applyDecoratedDescriptor((CreatePriorityModal_class2=function(_React$Component){function CreatePriorityModal(){var _getPrototypeOf2,_this,self,call;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CreatePriorityModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return self=this,CreatePriorityModal_initializerDefineProperty(_this=!(call=(_getPrototypeOf2=CreatePriorityModal_getPrototypeOf(CreatePriorityModal)).call.apply(_getPrototypeOf2,[this].concat(args)))||"object"!==CreatePriorityModal_typeof(call)&&"function"!=typeof call?CreatePriorityModal_assertThisInitialized(self):call,"name",CreatePriorityModal_descriptor,CreatePriorityModal_assertThisInitialized(CreatePriorityModal_assertThisInitialized(_this))),CreatePriorityModal_initializerDefineProperty(_this,"overdueIn",CreatePriorityModal_descriptor2,CreatePriorityModal_assertThisInitialized(CreatePriorityModal_assertThisInitialized(_this))),CreatePriorityModal_initializerDefineProperty(_this,"htmlColor",_descriptor3,CreatePriorityModal_assertThisInitialized(CreatePriorityModal_assertThisInitialized(_this))),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&CreatePriorityModal_setPrototypeOf(subClass,superClass)}(CreatePriorityModal,react_default.a.Component),Constructor=CreatePriorityModal,(protoProps=[{key:"componentDidMount",value:function(){helpers_default.a.UI.inputs(),helpers_default.a.formvalidator()}},{key:"onCreatePrioritySubmit",value:function(e){if(e.preventDefault(),!jquery_default()(e.target).isValid(null,null,!1))return!0;this.props.createPriority({name:this.name,overdueIn:this.overdueIn,htmlColor:this.htmlColor})}},{key:"render",value:function(){var _this2=this;return react_default.a.createElement(Modals_BaseModal,CreatePriorityModal_extends({},this.props,{ref:function(i){return _this2.base=i}}),react_default.a.createElement("form",{className:"uk-form-stacked",onSubmit:function(e){return _this2.onCreatePrioritySubmit(e)}},react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("h2",null,"Create Priority")),react_default.a.createElement("div",null,react_default.a.createElement("div",{className:"uk-clearfix"},react_default.a.createElement("div",{className:"z-box uk-grid uk-grid-collpase uk-clearfix"},react_default.a.createElement("div",{className:"uk-width-1-3"},react_default.a.createElement("label",null,"Priority Name"),react_default.a.createElement("input",{type:"text",className:"md-input",value:this.name,onChange:function(e){return _this2.name=e.target.value},"data-validation":"length","data-validation-length":"min3","data-validation-error-msg":"Invalid name (3+ characters)"})),react_default.a.createElement("div",{className:"uk-width-1-3"},react_default.a.createElement("label",null,"SLA Overdue (minutes)"),react_default.a.createElement("input",{type:"text",className:"md-input",value:this.overdueIn,onChange:function(e){return _this2.overdueIn=e.target.value},"data-validation":"number","data-validation-allowing":"range[1;525600]","data-validation-error-msg":"Invalid SLA Time (1-525600)"})),react_default.a.createElement("div",{className:"uk-width-1-3"},react_default.a.createElement(components_ColorSelector,{hideRevert:!0,defaultColor:"#29B995",validationEnabled:!0,onChange:function(e){return _this2.htmlColor=e.target.value}}))),react_default.a.createElement("div",{className:"uk-modal-footer uk-text-right"},react_default.a.createElement(components_Button,{text:"Cancel",type:"button",extraClass:"uk-modal-close",flat:!0,waves:!0}),react_default.a.createElement(components_Button,{text:"Create",type:"submit",flat:!0,waves:!0,style:"success"}))))))}}])&&CreatePriorityModal_defineProperties(Constructor.prototype,protoProps),staticProps&&CreatePriorityModal_defineProperties(Constructor,staticProps),CreatePriorityModal}()).prototype,"name",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),CreatePriorityModal_descriptor2=CreatePriorityModal_applyDecoratedDescriptor(CreatePriorityModal_class2.prototype,"overdueIn",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2880}}),_descriptor3=CreatePriorityModal_applyDecoratedDescriptor(CreatePriorityModal_class2.prototype,"htmlColor",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"#29B995"}}),CreatePriorityModal_class=CreatePriorityModal_class2))||CreatePriorityModal_class;CreatePriorityModal_CreatePriorityModal.propTypes={onPriorityCreated:prop_types_default.a.func,createPriority:prop_types_default.a.func.isRequired};var Modals_CreatePriorityModal=Object(es.b)(null,{createPriority:tickets_createPriority})(CreatePriorityModal_CreatePriorityModal);function DeletePriorityModal_typeof(obj){return(DeletePriorityModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function DeletePriorityModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function DeletePriorityModal_possibleConstructorReturn(self,call){return!call||"object"!==DeletePriorityModal_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function DeletePriorityModal_getPrototypeOf(o){return(DeletePriorityModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function DeletePriorityModal_setPrototypeOf(o,p){return(DeletePriorityModal_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var DeletePriorityModal_DeletePriorityModal=function(_React$Component){function DeletePriorityModal(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DeletePriorityModal),(_this=DeletePriorityModal_possibleConstructorReturn(this,DeletePriorityModal_getPrototypeOf(DeletePriorityModal).call(this,props))).state={selectedPriority:""},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&DeletePriorityModal_setPrototypeOf(subClass,superClass)}(DeletePriorityModal,react_default.a.Component),Constructor=DeletePriorityModal,(protoProps=[{key:"onSubmit",value:function(e){if(e.preventDefault(),!this.state.selectedPriority)return helpers_default.a.UI.showSnackbar("Unable to get new priority. Aborting...",!0),!0;this.props.deletePriority({id:this.props.priority.get("_id"),newPriority:this.state.selectedPriority})}},{key:"getPriorities",value:function(){return this.props.settings&&this.props.settings.get("priorities")?this.props.settings.get("priorities").toArray():[]}},{key:"onSelectChanged",value:function(e){this.setState({selectedPriority:e.target.value})}},{key:"render",value:function(){var _this2=this,priority=this.props.priority,mappedPriorities=this.getPriorities().filter(function(obj){return priority.get("name")!==obj.get("name")}).map(function(p){return{text:p.get("name"),value:p.get("_id")}});return react_default.a.createElement(Modals_BaseModal,null,react_default.a.createElement("div",null,react_default.a.createElement("form",{onSubmit:function(e){return _this2.onSubmit(e)}},react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("h2",null,"Remove Priority"),react_default.a.createElement("span",null,"Please select the priority you wish to reassign tickets to in order to delete this priority"),react_default.a.createElement("hr",{style:{margin:"10px 0"}})),react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("div",{className:"uk-float-left",style:{width:"100%"}},react_default.a.createElement("label",{className:"uk-form-label"},"Priority"),react_default.a.createElement(components_SingleSelect,{items:mappedPriorities,showTextbox:!1,width:"100%",value:this.state.selectedPriority,onSelectChange:function(e){return _this2.onSelectChanged(e)}}))),react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("span",{className:"uk-text-danger"},"WARNING: This will change all tickets with a priority of: ",react_default.a.createElement("strong",null,priority.get("name"))," to the selected priority above.")),react_default.a.createElement("div",{className:"uk-modal-footer uk-text-right"},react_default.a.createElement(components_Button,{type:"button",flat:!0,waves:!0,text:"Cancel",extraClass:"uk-modal-close"}),react_default.a.createElement(components_Button,{type:"submit",flat:!0,waves:!0,text:"Delete",style:"danger"})))))}}])&&DeletePriorityModal_defineProperties(Constructor.prototype,protoProps),staticProps&&DeletePriorityModal_defineProperties(Constructor,staticProps),DeletePriorityModal}();DeletePriorityModal_DeletePriorityModal.propTypes={priority:prop_types_default.a.object.isRequired,settings:prop_types_default.a.object.isRequired,deletePriority:prop_types_default.a.func.isRequired};var Modals_DeletePriorityModal=Object(es.b)(function(state){return{settings:state.settings.settings}},{deletePriority:tickets_deletePriority})(DeletePriorityModal_DeletePriorityModal);function CreateTagModal_typeof(obj){return(CreateTagModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function CreateTagModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function CreateTagModal_possibleConstructorReturn(self,call){return!call||"object"!==CreateTagModal_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function CreateTagModal_getPrototypeOf(o){return(CreateTagModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function CreateTagModal_setPrototypeOf(o,p){return(CreateTagModal_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var CreateTagModal_CreateTagModal=function(_React$Component){function CreateTagModal(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CreateTagModal),(_this=CreateTagModal_possibleConstructorReturn(this,CreateTagModal_getPrototypeOf(CreateTagModal).call(this,props))).state={name:""},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&CreateTagModal_setPrototypeOf(subClass,superClass)}(CreateTagModal,react_default.a.Component),Constructor=CreateTagModal,(protoProps=[{key:"onNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"onSubmit",value:function(e){if(e.preventDefault(),"settings"===this.props.page)return this.props.createTag({name:this.state.name,currentPage:this.props.currentPage});this.props.createTag({name:this.state.name})}},{key:"render",value:function(){var _this2=this;return react_default.a.createElement(Modals_BaseModal,null,react_default.a.createElement("form",{className:"uk-form-stacked",onSubmit:function(e){return _this2.onSubmit(e)}},react_default.a.createElement("div",null,react_default.a.createElement("h2",{className:"nomargin mb-5"},"Create Tag"),react_default.a.createElement("p",{className:"uk-text-muted"},"Tags categorize tickets, making it easy to identify issues"),react_default.a.createElement("label",null,"Tag Name"),react_default.a.createElement("input",{type:"text",className:"md-input",name:"name","data-validation":"length","data-validation-length":"min2","data-validation-error-msg":"Please enter a valid tag name. Tag name must contain at least 2 characters.",value:this.state.name,onChange:function(e){return _this2.onNameChange(e)}})),react_default.a.createElement("div",{className:"uk-modal-footer uk-text-right"},react_default.a.createElement(components_Button,{text:"Close",extraClass:"uk-modal-close",flat:!0,waves:!0}),react_default.a.createElement(components_Button,{text:"Create",type:"submit",flat:!0,waves:!0,style:"success"}))))}}])&&CreateTagModal_defineProperties(Constructor.prototype,protoProps),staticProps&&CreateTagModal_defineProperties(Constructor,staticProps),CreateTagModal}();CreateTagModal_CreateTagModal.propTypes={createTag:prop_types_default.a.func.isRequired,page:prop_types_default.a.string,currentPage:prop_types_default.a.number};var Modals_CreateTagModal=Object(es.b)(null,{createTag:tickets_createTag})(CreateTagModal_CreateTagModal);function Grid_typeof(obj){return(Grid_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Grid_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Grid_possibleConstructorReturn(self,call){return!call||"object"!==Grid_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Grid_getPrototypeOf(o){return(Grid_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Grid_setPrototypeOf(o,p){return(Grid_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Grid_Grid=function(_React$Component){function Grid(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Grid),Grid_possibleConstructorReturn(this,Grid_getPrototypeOf(Grid).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Grid_setPrototypeOf(subClass,superClass)}(Grid,react_default.a.Component),Constructor=Grid,(protoProps=[{key:"render",value:function(){return react_default.a.createElement("div",{className:"uk-grid uk-clearfix"+(this.props.gutterSize?" uk-grid-"+this.props.gutterSize:"")+(this.props.collapse?" uk-grid-collapse":"")+(this.props.extraClass?" "+this.props.extraClass:""),style:this.props.style},this.props.children)}}])&&Grid_defineProperties(Constructor.prototype,protoProps),staticProps&&Grid_defineProperties(Constructor,staticProps),Grid}();Grid_Grid.propTypes={extraClass:prop_types_default.a.string,gutterSize:prop_types_default.a.string,collapse:prop_types_default.a.bool,style:prop_types_default.a.object,children:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.node),prop_types_default.a.node]).isRequired},Grid_Grid.defaultProps={collapse:!1};var components_Grid=Grid_Grid;function GridItem_typeof(obj){return(GridItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function GridItem_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function GridItem_possibleConstructorReturn(self,call){return!call||"object"!==GridItem_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function GridItem_getPrototypeOf(o){return(GridItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function GridItem_setPrototypeOf(o,p){return(GridItem_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var GridItem_GridItem=function(_React$Component){function GridItem(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GridItem),GridItem_possibleConstructorReturn(this,GridItem_getPrototypeOf(GridItem).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&GridItem_setPrototypeOf(subClass,superClass)}(GridItem,react_default.a.Component),Constructor=GridItem,(protoProps=[{key:"render",value:function(){var _this$props=this.props,width=_this$props.width,xLargeWidth=_this$props.xLargeWidth,extraClass=_this$props.extraClass;return react_default.a.createElement("div",{className:"uk-width-"+width+(xLargeWidth?" uk-width-xLarge-"+xLargeWidth:"")+(extraClass?" "+extraClass:""),style:this.props.style},this.props.children)}}])&&GridItem_defineProperties(Constructor.prototype,protoProps),staticProps&&GridItem_defineProperties(Constructor,staticProps),GridItem}();GridItem_GridItem.propTypes={width:prop_types_default.a.string.isRequired,xLargeWidth:prop_types_default.a.string,extraClass:prop_types_default.a.string,style:prop_types_default.a.object,children:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.node),prop_types_default.a.node]).isRequired};var Grid_GridItem=GridItem_GridItem;function SpinLoader_typeof(obj){return(SpinLoader_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function SpinLoader_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SpinLoader_possibleConstructorReturn(self,call){return!call||"object"!==SpinLoader_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function SpinLoader_getPrototypeOf(o){return(SpinLoader_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function SpinLoader_setPrototypeOf(o,p){return(SpinLoader_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var SpinLoader_SpinLoader=function(_React$Component){function SpinLoader(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SpinLoader),SpinLoader_possibleConstructorReturn(this,SpinLoader_getPrototypeOf(SpinLoader).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SpinLoader_setPrototypeOf(subClass,superClass)}(SpinLoader,react_default.a.Component),Constructor=SpinLoader,(protoProps=[{key:"render",value:function(){return react_default.a.createElement("div",{className:"card-spinner "+(this.props.extraClass||"")+(this.props.active?"":" hide "),style:this.props.style},react_default.a.createElement("div",{className:"spinner",style:this.props.spinnerStyle}))}}])&&SpinLoader_defineProperties(Constructor.prototype,protoProps),staticProps&&SpinLoader_defineProperties(Constructor,staticProps),SpinLoader}();SpinLoader_SpinLoader.propTypes={active:prop_types_default.a.bool,extraClass:prop_types_default.a.string,style:prop_types_default.a.object,spinnerStyle:prop_types_default.a.object};var components_SpinLoader=SpinLoader_SpinLoader,easymde_min=__webpack_require__(93),easymde_min_default=__webpack_require__.n(easymde_min);__webpack_require__(94),__webpack_require__(95);function EasyMDE_typeof(obj){return(EasyMDE_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function EasyMDE_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function EasyMDE_possibleConstructorReturn(self,call){return!call||"object"!==EasyMDE_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function EasyMDE_getPrototypeOf(o){return(EasyMDE_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function EasyMDE_setPrototypeOf(o,p){return(EasyMDE_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var EasyMDE_EasyMDE=function(_React$Component){function EasyMDE(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EasyMDE),(_this=EasyMDE_possibleConstructorReturn(this,EasyMDE_getPrototypeOf(EasyMDE).call(this,props))).state={value:"",loaded:!1},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&EasyMDE_setPrototypeOf(subClass,superClass)}(EasyMDE,react_default.a.Component),Constructor=EasyMDE,staticProps=[{key:"getDerivedStateFromProps",value:function(nextProps,state){return void 0===nextProps.defaultValue||state.loaded||nextProps.defaultValue===state.value?null:{value:nextProps.defaultValue,loaded:!0}}},{key:"attachFileDesc",value:function(textarea){var $el=jquery_default()(textarea),attachFileDiv=jquery_default()("<div></div>");attachFileDiv.addClass("attachFileDesc").html("<p>Attach images by dragging & dropping or pasting from clipboard.</p>"),$el.siblings(".CodeMirror").addClass("hasFileDesc"),$el.siblings(".editor-statusbar").addClass("hasFileDesc").prepend(attachFileDiv)}},{key:"getMdeToolbarItems",value:function(){return[{name:"bold",action:easymde_min_default.a.toggleBold,className:"material-icons mi-bold no-ajaxy",title:"Bold"},{name:"italic",action:easymde_min_default.a.toggleItalic,className:"material-icons mi-italic no-ajaxy",title:"Italic"},{name:"Title",action:easymde_min_default.a.toggleHeadingSmaller,className:"material-icons mi-title no-ajaxy",title:"Title"},"|",{name:"Code",action:easymde_min_default.a.toggleCodeBlock,className:"material-icons mi-code no-ajaxy",title:"Code"},{name:"Quote",action:easymde_min_default.a.toggleBlockquote,className:"material-icons mi-quote no-ajaxy",title:"Quote"},{name:"Generic List",action:easymde_min_default.a.toggleUnorderedList,className:"material-icons mi-list no-ajaxy",title:"Generic List"},{name:"Numbered List",action:easymde_min_default.a.toggleOrderedList,className:"material-icons mi-numlist no-ajaxy",title:"Numbered List"},"|",{name:"Create Link",action:easymde_min_default.a.drawLink,className:"material-icons mi-link no-ajaxy",title:"Create Link"},"|",{name:"Toggle Preview",action:easymde_min_default.a.togglePreview,className:"material-icons mi-preview no-disable no-mobile no-ajaxy",title:"Toggle Preview"}]}}],(protoProps=[{key:"componentDidMount",value:function(){var _this2=this;if(this.easymde=new easymde_min_default.a({element:this.element,forceSync:!0,minHeight:this.props.height,toolbar:EasyMDE.getMdeToolbarItems(),autoDownloadFontAwesome:!1,status:!1,spellChecker:!1}),this.easymde.codemirror.on("change",function(){_this2.onTextareaChanged(_this2.easymde.value())}),this.easymde&&this.props.allowImageUpload){if(!this.props.inlineImageUploadUrl)return logger.error("Invalid inlineImageUploadUrl Prop.");var $el=jquery_default()(this.element);$el.hasClass("hasInlineUpload")||($el.addClass("hasInlineUpload"),window.inlineAttachment.editors.codemirror4.attach(this.easymde.codemirror,{onFileUploadResponse:function(xhr){var result=JSON.parse(xhr.responseText),filename=result[this.settings.jsonFieldName];if(result&&filename){var newValue;newValue="function"==typeof this.settings.urlText?this.settings.urlText.call(this,filename,result):this.settings.urlText.replace(this.filenameTag,filename);var text=this.editor.getValue().replace(this.lastValue,newValue);this.editor.setValue(text),this.settings.onFileUploaded.call(this,filename)}return!1},onFileUploadError:function(xhr){var result=xhr.responseText,text=this.editor.getValue()+" "+result;this.editor.setValue(text)},extraHeaders:this.props.inlineImageUploadHeaders,errorText:"Error uploading file: ",uploadUrl:this.props.inlineImageUploadUrl,jsonFieldName:"filename",urlText:"![Image]({filename})"}),EasyMDE.attachFileDesc(this.element))}}},{key:"componentDidUpdate",value:function(){this.easymde&&this.easymde.value()!==this.state.value&&this.easymde.value(this.state.value)}},{key:"componentWillUnmount",value:function(){this.easymde&&(this.easymde.codemirror.off("change"),this.easymde=null)}},{key:"onTextareaChanged",value:function(value){this.setState({value}),this.props.onChange&&this.props.onChange(value)}},{key:"render",value:function(){var _this3=this;return setTimeout(function(){_this3.easymde.codemirror.refresh()},250),react_default.a.createElement("div",null,react_default.a.createElement("textarea",{ref:function(i){return _this3.element=i},value:this.state.value,onChange:function(e){return _this3.onTextareaChanged(e)}}),react_default.a.createElement("div",{className:"editor-statusbar uk-float-left uk-width-1-1"}))}}])&&EasyMDE_defineProperties(Constructor.prototype,protoProps),staticProps&&EasyMDE_defineProperties(Constructor,staticProps),EasyMDE}();EasyMDE_EasyMDE.propTypes={height:prop_types_default.a.string,value:prop_types_default.a.string,onChange:prop_types_default.a.func,defaultValue:prop_types_default.a.string,allowImageUpload:prop_types_default.a.bool,inlineImageUploadUrl:prop_types_default.a.string,inlineImageUploadHeaders:prop_types_default.a.object},EasyMDE_EasyMDE.defaultProps={height:"150px",allowImageUpload:!1};var CreateTicketModal_class,CreateTicketModal_class2,CreateTicketModal_descriptor,CreateTicketModal_descriptor2,components_EasyMDE=EasyMDE_EasyMDE;function CreateTicketModal_typeof(obj){return(CreateTicketModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function CreateTicketModal_extends(){return(CreateTicketModal_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function CreateTicketModal_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function CreateTicketModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function CreateTicketModal_getPrototypeOf(o){return(CreateTicketModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function CreateTicketModal_setPrototypeOf(o,p){return(CreateTicketModal_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function CreateTicketModal_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function CreateTicketModal_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var CreateTicketModal_CreateTicketModal=Object(index_module.a)((CreateTicketModal_descriptor=CreateTicketModal_applyDecoratedDescriptor((CreateTicketModal_class2=function(_React$Component){function CreateTicketModal(props){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CreateTicketModal),self=this,CreateTicketModal_initializerDefineProperty(_this=!(call=CreateTicketModal_getPrototypeOf(CreateTicketModal).call(this,props))||"object"!==CreateTicketModal_typeof(call)&&"function"!=typeof call?CreateTicketModal_assertThisInitialized(self):call,"priorities",CreateTicketModal_descriptor,CreateTicketModal_assertThisInitialized(CreateTicketModal_assertThisInitialized(_this))),CreateTicketModal_initializerDefineProperty(_this,"selectedPriority",CreateTicketModal_descriptor2,CreateTicketModal_assertThisInitialized(CreateTicketModal_assertThisInitialized(_this))),_this.issueText="",_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&CreateTicketModal_setPrototypeOf(subClass,superClass)}(CreateTicketModal,react_default.a.Component),Constructor=CreateTicketModal,(protoProps=[{key:"componentDidMount",value:function(){var _this2=this;helpers_default.a.UI.inputs(),helpers_default.a.formvalidator(),this.defaultTicketTypeWatcher=Object(mobx_module.n)(function(){return _this2.props.viewdata.defaultTicketType},function(){_this2.priorities=Object(lodash.orderBy)(_this2.props.viewdata.defaultTicketType.priorities,["migrationNum"]),_this2.selectedPriority=Object(lodash.head)(_this2.priorities)?Object(lodash.head)(_this2.priorities)._id:""})}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){this.defaultTicketTypeWatcher&&this.defaultTicketTypeWatcher()}},{key:"onTicketTypeSelectChange",value:function(e){var _this3=this;this.priorityWrapper.classList.add("hide"),this.priorityLoader.classList.remove("hide"),axios_default.a.get("/api/v1/tickets/type/".concat(e.target.value)).then(function(res){var type=res.data.type;type&&type.priorities&&(_this3.priorities=Object(lodash.orderBy)(type.priorities,["migrationNum"]),_this3.selectedPriority=Object(lodash.head)(Object(lodash.orderBy)(type.priorities,["migrationNum"]))?Object(lodash.head)(Object(lodash.orderBy)(type.priorities,["migrationNum"]))._id:"",setTimeout(function(){_this3.priorityLoader.classList.add("hide"),_this3.priorityWrapper.classList.remove("hide")},500))}).catch(function(error){_this3.priorityLoader.classList.add("hide"),logger.error(error),helpers_default.a.UI.showSnackbar("Error: ".concat(error.response.data.error))})}},{key:"onPriorityRadioChange",value:function(e){this.selectedPriority=e.target.value}},{key:"onFormSubmit",value:function(e){e.preventDefault();var $form=jquery_default()(e.target),data={};if(!(this.issueText.length<1)){var $mdeError,minIssueLength=this.props.viewdata.ticketSettings.minIssue,$issueTextbox=jquery_default()(this.issueMde.element),$errorBorderWrap=$issueTextbox.parents(".error-border-wrap");if(this.issueText.length<minIssueLength){$errorBorderWrap.css({border:"1px solid #E74C3C"});var mdeError=jquery_default()('<div class="mde-error uk-float-left uk-text-left">Please enter a valid issue. Issue must contain at least '.concat(minIssueLength," characters</div>"));($mdeError=$issueTextbox.siblings(".editor-statusbar").find(".mde-error")).length<1&&$issueTextbox.siblings(".editor-statusbar").prepend(mdeError)}else{if($errorBorderWrap.css("border","none"),($mdeError=$issueTextbox.parent().find(".mde-error")).length>0&&$mdeError.remove(),!$form.isValid(null,null,!1))return!0;data.subject=e.target.subject.value,data.group=this.groupSelect.value,data.type=this.typeSelect.value,data.tags=this.tagSelect.value,data.priority=this.selectedPriority,data.issue=this.issueMde.easymde.value(),data.socketid=socket_default.a.ui.socket.io.engine.id,this.props.createTicket(data)}}}},{key:"render",value:function(){var _this4=this;console.log("RENDER");var viewdata=this.props.viewdata,mappedGroups=this.props.viewdata.groups.map(function(grp){return{text:grp.name,value:grp._id}}),mappedTicketTypes=this.props.viewdata.ticketTypes.map(function(type){return{text:type.name,value:type._id}}),mappedTicketTags=this.props.viewdata.ticketTags.map(function(tag){return{text:tag.name,value:tag._id}});return react_default.a.createElement(Modals_BaseModal,CreateTicketModal_extends({},this.props,{options:{bgclose:!1}}),react_default.a.createElement("form",{className:"uk-form-stacked",onSubmit:function(e){return _this4.onFormSubmit(e)}},react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",null,"Subject"),react_default.a.createElement("input",{type:"text",name:"subject",className:"md-input","data-validation":"length","data-validation-length":"min".concat(viewdata.ticketSettings.minSubject),"data-validation-error-msg":"Please enter a valid Subject. Subject must contain at least ".concat(viewdata.ticketSettings.minSubject," characters.")})),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",{className:"uk-form-label"},"Group"),react_default.a.createElement(components_SingleSelect,{showTextbox:!1,items:mappedGroups,defaultValue:Object(lodash.head)(mappedGroups)?Object(lodash.head)(mappedGroups).value:"",width:"100%",ref:function(i){return _this4.groupSelect=i}})),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement(components_Grid,null,react_default.a.createElement(Grid_GridItem,{width:"1-3"},react_default.a.createElement("label",{className:"uk-form-label"},"Type"),react_default.a.createElement(components_SingleSelect,{showTextbox:!1,items:mappedTicketTypes,width:"100%",defaultValue:this.props.viewdata.defaultTicketType._id,onSelectChange:function(e){_this4.onTicketTypeSelectChange(e)},ref:function(i){return _this4.typeSelect=i}})),react_default.a.createElement(Grid_GridItem,{width:"2-3"},react_default.a.createElement("label",{className:"uk-form-label"},"Tags"),react_default.a.createElement(components_SingleSelect,{showTextbox:!1,items:mappedTicketTags,width:"100%",multiple:!0,ref:function(i){return _this4.tagSelect=i}})))),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",{className:"uk-form-label"},"Priority"),react_default.a.createElement("div",{ref:function(i){return _this4.priorityLoader=i},style:{height:"32px",width:"32px",position:"relative"},className:"hide"},react_default.a.createElement(components_SpinLoader,{style:{background:"transparent"},spinnerStyle:{width:"24px",height:"24px"},active:!0})),react_default.a.createElement("div",{ref:function(i){return _this4.priorityWrapper=i},className:"uk-clearfix"},this.priorities.map(function(priority){return react_default.a.createElement("div",{key:priority._id,className:"uk-float-left"},react_default.a.createElement("span",{className:"icheck-inline"},react_default.a.createElement("input",{id:"p___"+priority._id,name:"priority",type:"radio",className:"with-gap",value:priority._id,onChange:function(e){_this4.onPriorityRadioChange(e)},checked:_this4.selectedPriority===priority._id,"data-md-icheck":!0}),react_default.a.createElement("label",{htmlFor:"p___"+priority._id,className:"mb-10 inline-label"},react_default.a.createElement("span",{className:"uk-badge",style:{backgroundColor:priority.htmlColor}},priority.name))))}))),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("span",null,"Description"),react_default.a.createElement("div",{className:"error-border-wrap uk-clearfix"},react_default.a.createElement(components_EasyMDE,{ref:function(i){return _this4.issueMde=i},onChange:function(val){return _this4.issueText=val},allowImageUpload:!0,inlineImageUploadUrl:"/tickets/uploadmdeimage",inlineImageUploadHeaders:{ticketid:"uploads"}})),react_default.a.createElement("span",{style:{marginTop:"6px",display:"inline-block",fontSize:"11px"},className:"uk-text-muted"},"Please try to be as specific as possible. Please include any details you think may be relevant, such as troubleshooting steps you've taken.")),react_default.a.createElement("div",{className:"uk-modal-footer uk-text-right"},react_default.a.createElement(components_Button,{text:"Cancel",flat:!0,waves:!0,extraClass:"uk-modal-close"}),react_default.a.createElement(components_Button,{text:"Create",style:"primary",flat:!0,type:"submit"}))))}}])&&CreateTicketModal_defineProperties(Constructor.prototype,protoProps),staticProps&&CreateTicketModal_defineProperties(Constructor,staticProps),CreateTicketModal}()).prototype,"priorities",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),CreateTicketModal_descriptor2=CreateTicketModal_applyDecoratedDescriptor(CreateTicketModal_class2.prototype,"selectedPriority",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),CreateTicketModal_class=CreateTicketModal_class2))||CreateTicketModal_class;CreateTicketModal_CreateTicketModal.propTypes={viewdata:prop_types_default.a.object.isRequired,createTicket:prop_types_default.a.func.isRequired};var CreateRoleModal_class,CreateRoleModal_class2,CreateRoleModal_descriptor,Modals_CreateTicketModal=Object(es.b)(function(state){return{viewdata:state.common}},{createTicket:tickets_createTicket})(CreateTicketModal_CreateTicketModal);function CreateRoleModal_typeof(obj){return(CreateRoleModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function CreateRoleModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function CreateRoleModal_getPrototypeOf(o){return(CreateRoleModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function CreateRoleModal_setPrototypeOf(o,p){return(CreateRoleModal_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function CreateRoleModal_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var CreateRoleModal_CreateRoleModal=Object(index_module.a)((CreateRoleModal_descriptor=function(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}((CreateRoleModal_class2=function(_React$Component){function CreateRoleModal(){var _getPrototypeOf2,_this,self,call,target,property,descriptor,context;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CreateRoleModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return self=this,_this=!(call=(_getPrototypeOf2=CreateRoleModal_getPrototypeOf(CreateRoleModal)).call.apply(_getPrototypeOf2,[this].concat(args)))||"object"!==CreateRoleModal_typeof(call)&&"function"!=typeof call?CreateRoleModal_assertThisInitialized(self):call,target=_this,property="name",descriptor=CreateRoleModal_descriptor,context=CreateRoleModal_assertThisInitialized(CreateRoleModal_assertThisInitialized(_this)),descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0}),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&CreateRoleModal_setPrototypeOf(subClass,superClass)}(CreateRoleModal,react_default.a.Component),Constructor=CreateRoleModal,(protoProps=[{key:"onNameChange",value:function(e){this.name=e.target.value}},{key:"onCreateRoleClicked",value:function(e){e.preventDefault(),this.props.createRole({name:this.name})}},{key:"render",value:function(){var _this2=this;return react_default.a.createElement(Modals_BaseModal,null,react_default.a.createElement("div",{className:"uk-form-stacked"},react_default.a.createElement("div",null,react_default.a.createElement("h2",{className:"nomargin mb-5"},"Create Role"),react_default.a.createElement("p",{className:"uk-text-muted"},"Once created, the role will become editable in the permission editor"),react_default.a.createElement("label",null,"Role Name"),react_default.a.createElement("input",{type:"text",className:"md-input",name:"name","data-validation":"length","data-validation-length":"min3","data-validation-error-msg":"Please enter a valid role name. Role name must contain at least 3 characters.",value:this.name,onChange:function(e){return _this2.onNameChange(e)}})),react_default.a.createElement("div",{className:"uk-modal-footer uk-text-right"},react_default.a.createElement(components_Button,{text:"Close",extraClass:"uk-modal-close",flat:!0,waves:!0}),react_default.a.createElement(components_Button,{text:"Create",type:"button",flat:!0,waves:!0,style:"success",onClick:function(e){return _this2.onCreateRoleClicked(e)}}))))}}])&&CreateRoleModal_defineProperties(Constructor.prototype,protoProps),staticProps&&CreateRoleModal_defineProperties(Constructor,staticProps),CreateRoleModal}()).prototype,"name",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),CreateRoleModal_class=CreateRoleModal_class2))||CreateRoleModal_class;CreateRoleModal_CreateRoleModal.propTypes={createRole:prop_types_default.a.func.isRequired};var DeleteRoleModal_class,DeleteRoleModal_class2,DeleteRoleModal_descriptor,Modals_CreateRoleModal=Object(es.b)(null,{createRole:settings_createRole})(CreateRoleModal_CreateRoleModal);function DeleteRoleModal_typeof(obj){return(DeleteRoleModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function DeleteRoleModal_extends(){return(DeleteRoleModal_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function DeleteRoleModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function DeleteRoleModal_getPrototypeOf(o){return(DeleteRoleModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function DeleteRoleModal_setPrototypeOf(o,p){return(DeleteRoleModal_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function DeleteRoleModal_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var DeleteRoleModal_DeleteRoleModal=Object(index_module.a)((DeleteRoleModal_descriptor=function(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}((DeleteRoleModal_class2=function(_React$Component){function DeleteRoleModal(){var _getPrototypeOf2,_this,self,call,target,property,descriptor,context;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DeleteRoleModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return self=this,_this=!(call=(_getPrototypeOf2=DeleteRoleModal_getPrototypeOf(DeleteRoleModal)).call.apply(_getPrototypeOf2,[this].concat(args)))||"object"!==DeleteRoleModal_typeof(call)&&"function"!=typeof call?DeleteRoleModal_assertThisInitialized(self):call,target=_this,property="selectedRole",descriptor=DeleteRoleModal_descriptor,context=DeleteRoleModal_assertThisInitialized(DeleteRoleModal_assertThisInitialized(_this)),descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0}),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&DeleteRoleModal_setPrototypeOf(subClass,superClass)}(DeleteRoleModal,react_default.a.Component),Constructor=DeleteRoleModal,(protoProps=[{key:"onSelectChanged",value:function(e){this.selectedRole=e.target.value}},{key:"onFormSubmit",value:function(e){e.preventDefault(),this.props.deleteRole({_id:this.props.role.get("_id"),newRoleId:this.selectedRole})}},{key:"render",value:function(){var _this2=this,role=this.props.role,mappedRoles=this.props.shared.roles.filter(function(obj){return obj.get("_id")!==role.get("_id")}).map(function(r){return{text:r.get("name"),value:r.get("_id")}}).toArray();return react_default.a.createElement(Modals_BaseModal,DeleteRoleModal_extends({},this.props,{options:{bgclose:!1}}),react_default.a.createElement("form",{className:"uk-form-stacked",onSubmit:function(e){return _this2.onFormSubmit(e)}},react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("h2",null,"Remove Role"),react_default.a.createElement("span",null,"Please select the role you wish to assign ALL users to")),react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("div",{className:"uk-float-left",style:{width:"100%"}},react_default.a.createElement("label",{className:"uk-form-label nopadding nomargin"},"Type"),react_default.a.createElement(components_SingleSelect,{showTextbox:!1,items:mappedRoles,onSelectChange:function(e){return _this2.onSelectChanged(e)},value:this.selectedRole}))),react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("span",{className:"uk-text-danger"},"WARNING: This will change all accounts with role ",react_default.a.createElement("strong",null,role.get("name"))," to the selected role above.",role.get("isAdmin")&&react_default.a.createElement("span",{className:"uk-text-danger"},"The role you are about to remove is an admin role. Please ensure there is another Admin role or you could be locked out!"),react_default.a.createElement("br",null),react_default.a.createElement("br",null),react_default.a.createElement("strong",{style:{fontSize:"18px"}},"This is permanent!"))),react_default.a.createElement("div",{className:"uk-modal-footer uk-text-right"},react_default.a.createElement(components_Button,{text:"Cancel",flat:!0,waves:!0,extraClass:"uk-modal-close"}),react_default.a.createElement(components_Button,{text:"Delete",style:"danger",flat:!0,type:"submit"}))))}}])&&DeleteRoleModal_defineProperties(Constructor.prototype,protoProps),staticProps&&DeleteRoleModal_defineProperties(Constructor,staticProps),DeleteRoleModal}()).prototype,"selectedRole",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),DeleteRoleModal_class=DeleteRoleModal_class2))||DeleteRoleModal_class;DeleteRoleModal_DeleteRoleModal.propTypes={role:prop_types_default.a.object,deleteRole:prop_types_default.a.func.isRequired,shared:prop_types_default.a.object.isRequired};var ViewAllNotificationsModal_class,ViewAllNotificationsModal_class2,ViewAllNotificationsModal_descriptor,Modals_DeleteRoleModal=Object(es.b)(function(state){return{shared:state.shared}},{deleteRole:settings_deleteRole})(DeleteRoleModal_DeleteRoleModal);function ViewAllNotificationsModal_typeof(obj){return(ViewAllNotificationsModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ViewAllNotificationsModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ViewAllNotificationsModal_getPrototypeOf(o){return(ViewAllNotificationsModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ViewAllNotificationsModal_setPrototypeOf(o,p){return(ViewAllNotificationsModal_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function ViewAllNotificationsModal_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var ViewAllNotificationsModal_ViewAllNotificationsModal=Object(index_module.a)((ViewAllNotificationsModal_descriptor=function(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}((ViewAllNotificationsModal_class2=function(_React$Component){function ViewAllNotificationsModal(){var _getPrototypeOf2,_this,self,call,target,property,descriptor,context;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ViewAllNotificationsModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return self=this,_this=!(call=(_getPrototypeOf2=ViewAllNotificationsModal_getPrototypeOf(ViewAllNotificationsModal)).call.apply(_getPrototypeOf2,[this].concat(args)))||"object"!==ViewAllNotificationsModal_typeof(call)&&"function"!=typeof call?ViewAllNotificationsModal_assertThisInitialized(self):call,target=_this,property="notifications",descriptor=ViewAllNotificationsModal_descriptor,context=ViewAllNotificationsModal_assertThisInitialized(ViewAllNotificationsModal_assertThisInitialized(_this)),descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0}),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ViewAllNotificationsModal_setPrototypeOf(subClass,superClass)}(ViewAllNotificationsModal,react_default.a.Component),Constructor=ViewAllNotificationsModal,(protoProps=[{key:"componentDidMount",value:function(){var _this2=this;helpers_default.a.hideAllpDropDowns(),axios_default.a.get("/api/v1/users/notifications").then(function(res){_this2.notifications=res.data.notifications}).catch(function(err){helpers_default.a.UI.showSnackbar("Error: ".concat(err.response),!0),logger.error(err.response)})}},{key:"onNotificationClick",value:function(e,notification){if(e.preventDefault(),!(notification&&notification.data&&notification.data.ticket&&notification.data.ticket.uid))return!1;this.props.hideModal(),socket_default.a.socket.emit("markNotificationRead",notification._id),History.pushState(null,null,"/tickets/".concat(notification.data.ticket.uid))}},{key:"render",value:function(){var _this3=this;return react_default.a.createElement(Modals_BaseModal,{large:!0},react_default.a.createElement("div",{className:"uk-modal-header"},react_default.a.createElement("h2",null,"Notifications")),react_default.a.createElement("div",{className:"uk-modal-content",style:{height:"400px",overflow:"auto"}},react_default.a.createElement("table",{className:"notificationsTable"},react_default.a.createElement("thead",null,react_default.a.createElement("tr",null,react_default.a.createElement("th",{className:"type"},"Type"),react_default.a.createElement("th",{className:"title"},"Title"),react_default.a.createElement("th",{className:"date"},"Date"))),react_default.a.createElement("tbody",null,this.notifications.map(function(notification){var formattedDate=helpers_default.a.formatDate(notification.created,helpers_default.a.getShortDateFormat()+" "+helpers_default.a.getTimeFormat());return react_default.a.createElement("tr",{key:notification._id,className:"notification-row",onClick:function(e){return _this3.onNotificationClick(e,notification)}},react_default.a.createElement("td",{className:"type"},react_default.a.createElement("i",{className:"fa fa-2x fa-check"})),react_default.a.createElement("td",{className:"title"},react_default.a.createElement("p",null,notification.title),react_default.a.createElement("div",{className:"body"},notification.message)),react_default.a.createElement("td",{className:"date"},react_default.a.createElement("time",{dateTime:helpers_default.a.formatDate(notification.created,"YYY-MM-DDThh:mm")},formattedDate)))})))),react_default.a.createElement("div",{className:"uk-modal-footer uk-text-right"},react_default.a.createElement(components_Button,{text:"Close",flat:!0,waves:!0,onClick:function(){return _this3.props.hideModal()}})))}}])&&ViewAllNotificationsModal_defineProperties(Constructor.prototype,protoProps),staticProps&&ViewAllNotificationsModal_defineProperties(Constructor,staticProps),ViewAllNotificationsModal}()).prototype,"notifications",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ViewAllNotificationsModal_class=ViewAllNotificationsModal_class2))||ViewAllNotificationsModal_class;ViewAllNotificationsModal_ViewAllNotificationsModal.propTypes={hideModal:prop_types_default.a.func.isRequired};var Modals_ViewAllNotificationsModal=Object(es.b)(null,{hideModal})(ViewAllNotificationsModal_ViewAllNotificationsModal);const accounts_fetchAccounts=Object(createAction.a)(FETCH_ACCOUNTS.ACTION,payload=>payload,()=>({thunk:!0})),accounts_createAccount=Object(createAction.a)(CREATE_ACCOUNT.ACTION),accounts_saveEditAccount=Object(createAction.a)(SAVE_EDIT_ACCOUNT.ACTION),accounts_deleteAccount=Object(createAction.a)(DELETE_ACCOUNT.ACTION),accounts_enableAccount=Object(createAction.a)(ENABLE_ACCOUNT.ACTION),unloadAccounts=Object(createAction.a)(UNLOAD_ACCOUNTS.ACTION,payload=>payload,()=>({thunk:!0}));function MultiSelect_typeof(obj){return(MultiSelect_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function MultiSelect_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function MultiSelect_possibleConstructorReturn(self,call){return!call||"object"!==MultiSelect_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function MultiSelect_getPrototypeOf(o){return(MultiSelect_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function MultiSelect_setPrototypeOf(o,p){return(MultiSelect_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var MultiSelect_MultiSelect=function(_React$Component){function MultiSelect(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MultiSelect),MultiSelect_possibleConstructorReturn(this,MultiSelect_getPrototypeOf(MultiSelect).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&MultiSelect_setPrototypeOf(subClass,superClass)}(MultiSelect,react_default.a.Component),Constructor=MultiSelect,(protoProps=[{key:"componentDidMount",value:function(){var $select=jquery_default()(this.select);helpers_default.a.UI.multiSelect({afterSelect:this.props.onChange,afterDeselect:this.props.onChange}),this.props.initialSelected&&($select.multiSelect("select",this.props.initialSelected),$select.multiSelect("refresh")),this.props.disabled&&($select.attr("disabled","disabled"),$select.multiSelect("refresh"))}},{key:"getSelected",value:function(){var $select=jquery_default()(this.select);return $select?$select.val():[]}},{key:"render",value:function(){var _this=this,_this$props=this.props,id=_this$props.id,items=_this$props.items;return react_default.a.createElement("select",{id,multiple:"multiple",className:"multiselect",ref:function(r){return _this.select=r}},items&&items.map(function(item,i){return react_default.a.createElement("option",{key:i,value:item.value},item.text)}))}}])&&MultiSelect_defineProperties(Constructor.prototype,protoProps),staticProps&&MultiSelect_defineProperties(Constructor,staticProps),MultiSelect}();MultiSelect_MultiSelect.propTypes={id:prop_types_default.a.string,items:prop_types_default.a.array.isRequired,initialSelected:prop_types_default.a.array,onChange:prop_types_default.a.func.isRequired,disabled:prop_types_default.a.bool};var CreateAccountModal_class,CreateAccountModal_class2,CreateAccountModal_descriptor,CreateAccountModal_descriptor2,CreateAccountModal_descriptor3,_descriptor4,_descriptor5,_descriptor6,components_MultiSelect=MultiSelect_MultiSelect;function CreateAccountModal_typeof(obj){return(CreateAccountModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function CreateAccountModal_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function CreateAccountModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function CreateAccountModal_getPrototypeOf(o){return(CreateAccountModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function CreateAccountModal_setPrototypeOf(o,p){return(CreateAccountModal_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function CreateAccountModal_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function CreateAccountModal_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var CreateAccountModal_CreateAccountModal=Object(index_module.a)((CreateAccountModal_descriptor=CreateAccountModal_applyDecoratedDescriptor((CreateAccountModal_class2=function(_React$Component){function CreateAccountModal(){var _getPrototypeOf2,_this,self,call;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CreateAccountModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return self=this,CreateAccountModal_initializerDefineProperty(_this=!(call=(_getPrototypeOf2=CreateAccountModal_getPrototypeOf(CreateAccountModal)).call.apply(_getPrototypeOf2,[this].concat(args)))||"object"!==CreateAccountModal_typeof(call)&&"function"!=typeof call?CreateAccountModal_assertThisInitialized(self):call,"username",CreateAccountModal_descriptor,CreateAccountModal_assertThisInitialized(CreateAccountModal_assertThisInitialized(_this))),CreateAccountModal_initializerDefineProperty(_this,"password",CreateAccountModal_descriptor2,CreateAccountModal_assertThisInitialized(CreateAccountModal_assertThisInitialized(_this))),CreateAccountModal_initializerDefineProperty(_this,"passwordConfirm",CreateAccountModal_descriptor3,CreateAccountModal_assertThisInitialized(CreateAccountModal_assertThisInitialized(_this))),CreateAccountModal_initializerDefineProperty(_this,"fullname",_descriptor4,CreateAccountModal_assertThisInitialized(CreateAccountModal_assertThisInitialized(_this))),CreateAccountModal_initializerDefineProperty(_this,"email",_descriptor5,CreateAccountModal_assertThisInitialized(CreateAccountModal_assertThisInitialized(_this))),CreateAccountModal_initializerDefineProperty(_this,"title",_descriptor6,CreateAccountModal_assertThisInitialized(CreateAccountModal_assertThisInitialized(_this))),_this.selectedRole="",_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&CreateAccountModal_setPrototypeOf(subClass,superClass)}(CreateAccountModal,react_default.a.Component),Constructor=CreateAccountModal,(protoProps=[{key:"componentDidMount",value:function(){helpers_default.a.UI.inputs(),helpers_default.a.formvalidator()}},{key:"componentDidUpdate",value:function(){helpers_default.a.UI.reRenderInputs()}},{key:"onInputChanged",value:function(e,name){this[name]=e.target.value}},{key:"onRoleSelectChange",value:function(e){this.selectedRole=e.target.value,!this.selectedRole||this.selectedRole.length<1?this.roleSelectErrorMessage.classList.remove("hide"):this.roleSelectErrorMessage.classList.add("hide")}},{key:"onGroupSelectChange",value:function(values){var selectedGroups=this.groupSelect.getSelected();!selectedGroups||selectedGroups.length<1?this.groupSelectErrorMessage.classList.remove("hide"):this.groupSelectErrorMessage.classList.add("hide")}},{key:"onFormSubmit",value:function(e){e.preventDefault();var isValid=!0;jquery_default()(e.target).isValid(null,null,!1)||(isValid=!1),!this.selectedRole||this.selectedRole.length<1?(this.roleSelectErrorMessage.classList.remove("hide"),isValid&&(isValid=!1)):this.roleSelectErrorMessage.classList.add("hide");var selectedGroups=this.groupSelect.getSelected();if(!selectedGroups||selectedGroups.length<1?(this.groupSelectErrorMessage.classList.remove("hide"),isValid&&(isValid=!1)):this.groupSelectErrorMessage.classList.add("hide"),isValid){var payload={aUsername:this.username,aPass:this.password,aPassConfirm:this.passwordConfirm,aFullname:this.fullname,aTitle:this.title,aEmail:this.email,aRole:this.selectedRole,aGrps:this.groupSelect.getSelected()};this.props.createAccount(payload)}}},{key:"render",value:function(){var _this2=this,roles=this.props.common.roles.map(function(role){return{text:role.name,value:role._id}}),groups=this.props.common.groups.map(function(group){return{text:group.name,value:group._id}});return react_default.a.createElement(Modals_BaseModal,{parentExtraClass:"pt-0",extraClass:"p-0 pb-25"},react_default.a.createElement("div",{className:"user-heading",style:{minHeight:"130px",background:"#1976d2",padding:"24px"}},react_default.a.createElement("div",{className:"uk-width-1-1"},react_default.a.createElement("div",{style:{width:"82px",height:"82px",float:"left",marginRight:"24px",position:"relative"}},react_default.a.createElement("div",{className:"mediumProfilePic",style:{position:"relative"}},react_default.a.createElement("img",{src:"/uploads/users/defaultProfile.jpg",alt:"Profile Picture"}))),react_default.a.createElement("div",{className:"user-heading-content"},react_default.a.createElement("h2",null,react_default.a.createElement("span",{className:"uk-text-truncate"},"Create Account"),react_default.a.createElement("span",{className:"sub-heading"},"Please provide account details below"))))),react_default.a.createElement("div",{style:{margin:"24px 24px 0 24px"}},react_default.a.createElement("form",{className:"uk-form-stacked",onSubmit:function(e){return _this2.onFormSubmit(e)}},react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",{className:"uk-form-label"},"Username"),react_default.a.createElement("input",{type:"text",className:"md-input",value:this.username,onChange:function(e){return _this2.onInputChanged(e,"username")},"data-validation":"length","data-validation-length":"min4","data-validation-error-msg":"Username must contain at least 4 characters."})),react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("div",{className:"uk-float-left",style:{width:"50%",paddingRight:"20px"}},react_default.a.createElement("label",{className:"uk-form-label"},"Name"),react_default.a.createElement("input",{type:"text",className:"md-input",value:this.fullname,onChange:function(e){return _this2.onInputChanged(e,"fullname")},"data-validation":"length","data-validation-length":"min2","data-validation-error-msg":"Name must contain at least 2 characters."})),react_default.a.createElement("div",{className:"uk-float-left uk-width-1-2"},react_default.a.createElement("label",{className:"uk-form-label"},"Title"),react_default.a.createElement("input",{type:"text",className:"md-input",value:this.title,onChange:function(e){return _this2.onInputChanged(e,"title")}}))),react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("div",{className:"uk-float-left",style:{width:"50%",paddingRight:"20px"}},react_default.a.createElement("label",{className:"uk-form-label"},"Password"),react_default.a.createElement("input",{type:"password",className:"md-input",name:"password_confirmation",value:this.password,onChange:function(e){return _this2.onInputChanged(e,"password")},"data-validation":"length","data-validation-length":"min6","data-validation-error-msg":"Password must contain at least 6 characters."})),react_default.a.createElement("div",{className:"uk-float-left uk-width-1-2"},react_default.a.createElement("label",{className:"uk-form-label"},"Confirm Password"),react_default.a.createElement("input",{type:"password",className:"md-input",name:"password",value:this.passwordConfirm,onChange:function(e){return _this2.onInputChanged(e,"passwordConfirm")},"data-validation":"confirmation","data-validation-error-msg":"Password does not match"}))),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",{className:"uk-form-label"},"Email"),react_default.a.createElement("input",{type:"email",className:"md-input",value:this.email,onChange:function(e){return _this2.onInputChanged(e,"email")},"data-validation":"email"})),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",{className:"uk-form-label"},"Role"),react_default.a.createElement(components_SingleSelect,{items:roles,width:"100",showTextbox:!1,onSelectChange:function(e){return _this2.onRoleSelectChange(e)}}),react_default.a.createElement("span",{className:"hide help-block",style:{display:"inline-block",marginTop:"10px",fontWeight:"bold",color:"#d85030"},ref:function(r){return _this2.roleSelectErrorMessage=r}},"Please select a role for this user")),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",{className:"uk-form-label"},"Groups"),react_default.a.createElement(components_MultiSelect,{items:groups,onChange:function(e){return _this2.onGroupSelectChange(e)},ref:function(r){return _this2.groupSelect=r}}),react_default.a.createElement("span",{className:"hide help-block",style:{display:"inline-block",marginTop:"3px",fontWeight:"bold",color:"#d85030"},ref:function(r){return _this2.groupSelectErrorMessage=r}},"Please select a group for this user.")),react_default.a.createElement("div",{className:"uk-modal-footer uk-text-right"},react_default.a.createElement(components_Button,{text:"Close",flat:!0,waves:!0,extraClass:"uk-modal-close"}),react_default.a.createElement(components_Button,{text:"Create Account",flat:!0,waves:!0,style:"success",type:"submit"})))))}}])&&CreateAccountModal_defineProperties(Constructor.prototype,protoProps),staticProps&&CreateAccountModal_defineProperties(Constructor,staticProps),CreateAccountModal}()).prototype,"username",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),CreateAccountModal_descriptor2=CreateAccountModal_applyDecoratedDescriptor(CreateAccountModal_class2.prototype,"password",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),CreateAccountModal_descriptor3=CreateAccountModal_applyDecoratedDescriptor(CreateAccountModal_class2.prototype,"passwordConfirm",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_descriptor4=CreateAccountModal_applyDecoratedDescriptor(CreateAccountModal_class2.prototype,"fullname",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_descriptor5=CreateAccountModal_applyDecoratedDescriptor(CreateAccountModal_class2.prototype,"email",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_descriptor6=CreateAccountModal_applyDecoratedDescriptor(CreateAccountModal_class2.prototype,"title",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),CreateAccountModal_class=CreateAccountModal_class2))||CreateAccountModal_class;CreateAccountModal_CreateAccountModal.propTypes={common:prop_types_default.a.object.isRequired,createAccount:prop_types_default.a.func.isRequired};var EditAccountModal_class,EditAccountModal_class2,EditAccountModal_descriptor,EditAccountModal_descriptor2,EditAccountModal_descriptor3,EditAccountModal_descriptor4,EditAccountModal_descriptor5,Modals_CreateAccountModal=Object(es.b)(function(state){return{common:state.common}},{createAccount:accounts_createAccount})(CreateAccountModal_CreateAccountModal);function EditAccountModal_typeof(obj){return(EditAccountModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function EditAccountModal_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function EditAccountModal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function EditAccountModal_getPrototypeOf(o){return(EditAccountModal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function EditAccountModal_setPrototypeOf(o,p){return(EditAccountModal_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function EditAccountModal_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function EditAccountModal_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var EditAccountModal_EditAccountModal=Object(index_module.a)((EditAccountModal_descriptor=EditAccountModal_applyDecoratedDescriptor((EditAccountModal_class2=function(_React$Component){function EditAccountModal(){var _getPrototypeOf2,_this,self,call;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EditAccountModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return self=this,EditAccountModal_initializerDefineProperty(_this=!(call=(_getPrototypeOf2=EditAccountModal_getPrototypeOf(EditAccountModal)).call.apply(_getPrototypeOf2,[this].concat(args)))||"object"!==EditAccountModal_typeof(call)&&"function"!=typeof call?EditAccountModal_assertThisInitialized(self):call,"name",EditAccountModal_descriptor,EditAccountModal_assertThisInitialized(EditAccountModal_assertThisInitialized(_this))),EditAccountModal_initializerDefineProperty(_this,"title",EditAccountModal_descriptor2,EditAccountModal_assertThisInitialized(EditAccountModal_assertThisInitialized(_this))),EditAccountModal_initializerDefineProperty(_this,"password",EditAccountModal_descriptor3,EditAccountModal_assertThisInitialized(EditAccountModal_assertThisInitialized(_this))),EditAccountModal_initializerDefineProperty(_this,"confirmPassword",EditAccountModal_descriptor4,EditAccountModal_assertThisInitialized(EditAccountModal_assertThisInitialized(_this))),EditAccountModal_initializerDefineProperty(_this,"email",EditAccountModal_descriptor5,EditAccountModal_assertThisInitialized(EditAccountModal_assertThisInitialized(_this))),_this.selectedRole="",_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&EditAccountModal_setPrototypeOf(subClass,superClass)}(EditAccountModal,react_default.a.Component),Constructor=EditAccountModal,(protoProps=[{key:"componentDidMount",value:function(){this.name=this.props.user.fullname,this.title=this.props.user.title,this.email=this.props.user.email,helpers_default.a.UI.inputs(),helpers_default.a.UI.reRenderInputs()}},{key:"componentDidUpdate",value:function(){helpers_default.a.UI.reRenderInputs()}},{key:"onFileBtnClick",value:function(e){e.stopPropagation(),this.uploadImageInput&&this.uploadImageInput.click()}},{key:"onImageUploadChanged",value:function(e){var self=e.target,that=this,formData=new FormData;formData.append("username",this.props.user.username),formData.append("_id",this.props.user._id),formData.append("image",self.files[0]),axios_default.a.post("/accounts/uploadImage",formData).then(function(res){var timestamp=(new Date).getTime();that.uploadProfileImage.setAttribute("src","".concat(res.data,"?").concat(timestamp))}).catch(function(err){logger.error(err)})}},{key:"onInputChanged",value:function(e,stateName){this[stateName]=e.target.value}},{key:"onRoleSelectChange",value:function(e){this.selectedRole=e.target.value}},{key:"onSubmitSaveAccount",value:function(e){if(e.preventDefault(),this.props.edit){var data={aUsername:this.props.user.username,aFullname:this.name,aTitle:this.title,aEmail:this.email,aGrps:this.groupSelect.getSelected(),saveGroups:!0,aRole:this.selectedRole,aPass:this.password.length>1?this.password:void 0,aPassConfirm:this.confirmPassword.length>1?this.confirmPassword:void 0};this.props.saveEditAccount(data)}}},{key:"render",value:function(){var _this2=this,_this$props=this.props,user=_this$props.user,edit=_this$props.edit,profilePicture=user.image||"defaultProfile.jpg",roles=helpers_default.a.getRolesByHierarchy().map(function(role){return{text:role.name,value:role._id}}),groups=this.props.common.groups.map(function(group){return{text:group.name,value:group._id}});return react_default.a.createElement(Modals_BaseModal,{parentExtraClass:"pt-0",extraClass:"p-0 pb-25"},react_default.a.createElement("div",{className:"user-heading",style:{minHeight:"130px",background:"#1976d2",padding:"24px"}},react_default.a.createElement("div",{className:"uk-width-1-1"},react_default.a.createElement("div",{style:{width:"82px",height:"82px",float:"left",marginRight:"24px",position:"relative"}},edit&&react_default.a.createElement("form",{className:"form nomargin",encType:"multipart/form-data"},react_default.a.createElement("div",{className:"mediumProfilePic",style:{position:"relative"}},react_default.a.createElement("input",{name:"_id",type:"hidden",value:user._id,readOnly:!0}),react_default.a.createElement("input",{name:"username",type:"hidden",value:user.username,readOnly:!0}),react_default.a.createElement("input",{type:"file",style:{display:"none"},ref:function(r){return _this2.uploadImageInput=r},onChange:function(e){return _this2.onImageUploadChanged(e)}}),react_default.a.createElement("img",{src:"/uploads/users/".concat(profilePicture),alt:"Profile Picture",ref:function(r){return _this2.uploadProfileImage=r}})),react_default.a.createElement("div",{className:"profile-picture-controls"},react_default.a.createElement("span",{className:"btn-file",onClick:function(e){return _this2.onFileBtnClick(e)}},react_default.a.createElement("i",{className:"material-icons"},"file_upload")))),!edit&&react_default.a.createElement("div",{className:"mediumProfilePic",style:{position:"relative"}},react_default.a.createElement("img",{src:"/uploads/users/".concat(profilePicture),alt:"Profile Picture",ref:function(r){return _this2.uploadProfileImage=r}}))),react_default.a.createElement("div",{className:"user-heading-content"},react_default.a.createElement("h2",null,react_default.a.createElement("span",{className:"uk-text-truncate"},user.username),react_default.a.createElement("span",{className:"sub-heading"},user.title))))),react_default.a.createElement("div",{style:{margin:"24px 24px 0 24px"}},react_default.a.createElement("form",{className:"uk-form-stacked",onSubmit:function(e){return _this2.onSubmitSaveAccount(e)}},react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("div",{className:"uk-float-left",style:{width:"50%",paddingRight:"20px"}},react_default.a.createElement("label",{className:"uk-form-label"},"Name"),react_default.a.createElement("input",{type:"text",className:"md-input",value:this.name,onChange:function(e){return _this2.onInputChanged(e,"name")},disabled:!edit})),react_default.a.createElement("div",{className:"uk-float-left uk-width-1-2"},react_default.a.createElement("label",{className:"uk-form-label"},"Title"),react_default.a.createElement("input",{type:"text",className:"md-input",value:this.title,onChange:function(e){return _this2.onInputChanged(e,"title")},disabled:!edit}))),edit&&react_default.a.createElement("div",null,react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("div",{className:"uk-float-left",style:{width:"50%",paddingRight:"20px"}},react_default.a.createElement("label",{className:"uk-form-label"},"Password"),react_default.a.createElement("input",{type:"password",className:"md-input"})),react_default.a.createElement("div",{className:"uk-float-left uk-width-1-2"},react_default.a.createElement("label",{className:"uk-form-label"},"Confirm Password"),react_default.a.createElement("input",{type:"password",className:"md-input"})))),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",{className:"uk-form-label"},"Email"),react_default.a.createElement("input",{type:"email",className:"md-input",value:this.email,onChange:function(e){return _this2.onInputChanged(e,"email")},disabled:!edit})),edit&&react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",{className:"uk-form-label"},"Role"),react_default.a.createElement(components_SingleSelect,{items:roles,width:"100",showTextbox:!1,defaultValue:user.role._id,onSelectChange:function(e){return _this2.onRoleSelectChange(e)},disabled:!edit})),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",{className:"uk-form-label"},"Groups"),react_default.a.createElement(components_MultiSelect,{items:groups,initialSelected:user.groups.map(function(i){return i._id}),onChange:function(){},ref:function(r){return _this2.groupSelect=r},disabled:!edit})),react_default.a.createElement("div",{className:"uk-modal-footer uk-text-right"},react_default.a.createElement(components_Button,{text:"Close",flat:!0,waves:!0,extraClass:"uk-modal-close"}),react_default.a.createElement(components_Button,{text:"Save Account",flat:!0,waves:!0,style:"primary",type:"submit",disabled:!edit})))))}}])&&EditAccountModal_defineProperties(Constructor.prototype,protoProps),staticProps&&EditAccountModal_defineProperties(Constructor,staticProps),EditAccountModal}()).prototype,"name",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),EditAccountModal_descriptor2=EditAccountModal_applyDecoratedDescriptor(EditAccountModal_class2.prototype,"title",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),EditAccountModal_descriptor3=EditAccountModal_applyDecoratedDescriptor(EditAccountModal_class2.prototype,"password",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),EditAccountModal_descriptor4=EditAccountModal_applyDecoratedDescriptor(EditAccountModal_class2.prototype,"confirmPassword",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),EditAccountModal_descriptor5=EditAccountModal_applyDecoratedDescriptor(EditAccountModal_class2.prototype,"email",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),EditAccountModal_class=EditAccountModal_class2))||EditAccountModal_class;EditAccountModal_EditAccountModal.propTypes={edit:prop_types_default.a.bool.isRequired,user:prop_types_default.a.object.isRequired,common:prop_types_default.a.object.isRequired,saveEditAccount:prop_types_default.a.func.isRequired},EditAccountModal_EditAccountModal.defaultProps={edit:!1};var MODAL_COMPONENTS={NOTICE_ALERT:Modals_NoticeAlertModal,CREATE_TICKET:Modals_CreateTicketModal,CREATE_TICKET_TYPE:Modals_CreateTicketTypeModal,DELETE_TICKET_TYPE:Modals_DeleteTicketTypeModal,ADD_PRIORITY_TO_TYPE:Modals_AddPriorityToTypeModal,CREATE_PRIORITY:Modals_CreatePriorityModal,DELETE_PRIORITY:Modals_DeletePriorityModal,CREATE_TAG:Modals_CreateTagModal,CREATE_ROLE:Modals_CreateRoleModal,DELETE_ROLE:Modals_DeleteRoleModal,VIEW_ALL_NOTIFICATIONS:Modals_ViewAllNotificationsModal,CREATE_ACCOUNT:Modals_CreateAccountModal,EDIT_ACCOUNT:Object(es.b)(function(state){return{common:state.common}},{saveEditAccount:accounts_saveEditAccount})(EditAccountModal_EditAccountModal)},Modals_ModalRoot=function(_ref){var modalType=_ref.modalType,modalProps=_ref.modalProps;if(!modalType)return react_default.a.createElement("div",{id:"modal-wrap"});var SpecificModal=MODAL_COMPONENTS[modalType];return react_default.a.createElement(SpecificModal,modalProps)};Modals_ModalRoot.propTypes={modalType:prop_types_default.a.string,modalProps:prop_types_default.a.object};var Modals=Object(es.b)(function(state){return state.modal})(Modals_ModalRoot);function Menu_typeof(obj){return(Menu_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Menu_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Menu_possibleConstructorReturn(self,call){return!call||"object"!==Menu_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Menu_getPrototypeOf(o){return(Menu_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Menu_setPrototypeOf(o,p){return(Menu_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Menu_Menu=function(_React$Component){function Menu(props){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Menu),Menu_possibleConstructorReturn(this,Menu_getPrototypeOf(Menu).call(this,props))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Menu_setPrototypeOf(subClass,superClass)}(Menu,react_default.a.Component),Constructor=Menu,(protoProps=[{key:"componentDidMount",value:function(){if(this.props.draggable){var menu=jquery_default()(this.menu);this.menuSortable=uikit_combined_min_default.a.sortable(menu,{handleClass:"drag-handle"}),this.props.onMenuDrag&&this.menuSortable.on("change.uk.sortable",this.props.onMenuDrag)}}},{key:"componentDidUpdate",value:function(){if(this.props.draggable&&!this.menuSortable){var menu=jquery_default()(this.menu);this.menuSortable=uikit_combined_min_default.a.sortable(menu,{handleClass:"drag-handle"}),this.props.onMenuDrag&&this.menuSortable.on("change.uk.sortable",this.props.onMenuDrag)}}},{key:"render",value:function(){var _this=this,hideBorders=this.props.hideBorders;return react_default.a.createElement("ul",{ref:function(i){return _this.menu=i},className:"settings-categories scrollable"+(hideBorders?" noborder ":""),style:{overflow:"hidden auto"}},this.props.children)}}])&&Menu_defineProperties(Constructor.prototype,protoProps),staticProps&&Menu_defineProperties(Constructor,staticProps),Menu}();Menu_Menu.propTypes={hideBorders:prop_types_default.a.bool,children:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.node),prop_types_default.a.node]).isRequired,draggable:prop_types_default.a.bool,onMenuDrag:prop_types_default.a.func},Menu_Menu.defaultProps={draggable:!1};var Settings_Menu=Menu_Menu;function MenuItem_typeof(obj){return(MenuItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function MenuItem_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function MenuItem_possibleConstructorReturn(self,call){return!call||"object"!==MenuItem_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function MenuItem_getPrototypeOf(o){return(MenuItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function MenuItem_setPrototypeOf(o,p){return(MenuItem_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var MenuItem_MenuItem=function(_React$Component){function MenuItem(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MenuItem),MenuItem_possibleConstructorReturn(this,MenuItem_getPrototypeOf(MenuItem).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&MenuItem_setPrototypeOf(subClass,superClass)}(MenuItem,react_default.a.Component),Constructor=MenuItem,(protoProps=[{key:"render",value:function(){var _this$props=this.props,title=_this$props.title,active=_this$props.active,onClick=_this$props.onClick,draggable=_this$props.draggable;return react_default.a.createElement("li",{className:active?" active":"",onClick,"data-key":this.props.dragKey},react_default.a.createElement("div",{className:"setting-category"},draggable&&react_default.a.createElement("span",{className:"drag-handle uk-display-inline-block uk-float-left mr-10"},react_default.a.createElement("i",{className:"material-icons"},"drag_handle")),react_default.a.createElement("h3",null,title)))}}])&&MenuItem_defineProperties(Constructor.prototype,protoProps),staticProps&&MenuItem_defineProperties(Constructor,staticProps),MenuItem}();MenuItem_MenuItem.propTypes={title:prop_types_default.a.string.isRequired,active:prop_types_default.a.bool,onClick:prop_types_default.a.func.isRequired,draggable:prop_types_default.a.bool,dragKey:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.number])};var Settings_MenuItem=MenuItem_MenuItem;function SettingItem_typeof(obj){return(SettingItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function SettingItem_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SettingItem_possibleConstructorReturn(self,call){return!call||"object"!==SettingItem_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function SettingItem_getPrototypeOf(o){return(SettingItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function SettingItem_setPrototypeOf(o,p){return(SettingItem_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var SettingItem_SettingItem=function(_React$Component){function SettingItem(props){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SettingItem),SettingItem_possibleConstructorReturn(this,SettingItem_getPrototypeOf(SettingItem).call(this,props))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SettingItem_setPrototypeOf(subClass,superClass)}(SettingItem,react_default.a.Component),Constructor=SettingItem,(protoProps=[{key:"render",value:function(){var _this$props=this.props,title=_this$props.title,subtitle=_this$props.subtitle,component=_this$props.component,tooltip=_this$props.tooltip;return react_default.a.createElement("div",{className:"setting-item-wrap uk-margin-medium-bottom"},react_default.a.createElement("div",{className:"panel trupanel nopadding no-hover-shadow",style:{minHeight:"60px"}},react_default.a.createElement("div",{className:"left"},react_default.a.createElement("h6",{style:{padding:"0 0 0 15px",margin:"15px 0 0 0",fontSize:"16px",lineHeight:"14px"}},title,tooltip&&react_default.a.createElement("i",{className:"material-icons",style:{color:"#888",fontSize:"16px",cursor:"pointer",lineHeight:"3px",marginLeft:"4px"},"data-uk-tooltip":"{cls:'long-text'}",title:tooltip},"error")),react_default.a.createElement("h5",{style:{padding:"0 0 10px 15px",margin:"2px 0 0 0",fontSize:"12px"},className:"uk-text-muted"},subtitle)),react_default.a.createElement("div",{className:"right uk-width-1-3",style:{position:"relative",paddingTop:"5px"}},react_default.a.createElement("div",{className:"uk-float-left",style:{paddingRight:"11px",minWidth:"130px",width:"100%"}},component)),this.props.children&&react_default.a.createElement("div",null,react_default.a.createElement("hr",{className:"nomargin-top clear"}),react_default.a.createElement("div",{className:"panel-body2",style:{padding:this.props.subPanelPadding||"20px 15px 15px 15px"}},react_default.a.createElement("div",{className:"uk-position-relative"},react_default.a.Children.map(this.props.children,function(child,k){return react_default.a.createElement("div",{key:k,className:"uk-clearfix"},child)})))),this.props.footer&&react_default.a.createElement("div",{style:{padding:"0 15px 25px 15px",marginTop:"-15px"}},this.props.footer)))}}])&&SettingItem_defineProperties(Constructor.prototype,protoProps),staticProps&&SettingItem_defineProperties(Constructor,staticProps),SettingItem}();SettingItem_SettingItem.propTypes={title:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.object]).isRequired,subtitle:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.object]),tooltip:prop_types_default.a.string,component:prop_types_default.a.element,footer:prop_types_default.a.element,subPanelPadding:prop_types_default.a.string,children:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.node),prop_types_default.a.node])};var Settings_SettingItem=SettingItem_SettingItem;function InputWithSave_typeof(obj){return(InputWithSave_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function InputWithSave_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function InputWithSave_possibleConstructorReturn(self,call){return!call||"object"!==InputWithSave_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function InputWithSave_getPrototypeOf(o){return(InputWithSave_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function InputWithSave_setPrototypeOf(o,p){return(InputWithSave_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var InputWithSave_InputWithSave=function(_React$Component){function InputWithSave(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,InputWithSave),(_this=InputWithSave_possibleConstructorReturn(this,InputWithSave_getPrototypeOf(InputWithSave).call(this,props))).state={value:_this.props.value},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&InputWithSave_setPrototypeOf(subClass,superClass)}(InputWithSave,react_default.a.Component),Constructor=InputWithSave,staticProps=[{key:"getDerivedStateFromProps",value:function(nextProps,state){return state.value?null:{value:nextProps.value}}}],(protoProps=[{key:"componentDidMount",value:function(){helpers_default.a.UI.inputs()}},{key:"onSaveClicked",value:function(){this.props.updateSetting({name:this.props.settingName,value:this.state.value,stateName:this.props.stateName})}},{key:"updateValue",value:function(evt){this.setState({value:evt.target.value})}},{key:"render",value:function(){var _this2=this,width="100%";return this.props.width&&(width=this.props.width),react_default.a.createElement("div",{className:"uk-width-1-1 uk-float-right",style:{width}},react_default.a.createElement("div",{className:"uk-width-3-4 uk-float-left",style:{paddingRight:"10px"}},react_default.a.createElement("input",{id:this.props.stateName,className:"md-input md-input-width-medium",type:"text",value:this.state.value,onChange:function(evt){return _this2.updateValue(evt)}})),react_default.a.createElement("div",{className:"uk-width-1-4 uk-float-right",style:{marginTop:"10px",textAlign:"center"}},react_default.a.createElement("button",{className:"md-btn md-btn-small",onClick:function(e){return _this2.onSaveClicked(e)}},this.props.saveLabel?this.props.saveLabel:"Save")))}}])&&InputWithSave_defineProperties(Constructor.prototype,protoProps),staticProps&&InputWithSave_defineProperties(Constructor,staticProps),InputWithSave}();InputWithSave_InputWithSave.propTypes={updateSetting:prop_types_default.a.func.isRequired,settingName:prop_types_default.a.string.isRequired,stateName:prop_types_default.a.string.isRequired,saveLabel:prop_types_default.a.string,value:prop_types_default.a.string,width:prop_types_default.a.string};var Settings_InputWithSave=Object(es.b)(null,{updateSetting:settings_updateSetting})(InputWithSave_InputWithSave);function EnableSwitch_typeof(obj){return(EnableSwitch_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function EnableSwitch_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function EnableSwitch_possibleConstructorReturn(self,call){return!call||"object"!==EnableSwitch_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function EnableSwitch_getPrototypeOf(o){return(EnableSwitch_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function EnableSwitch_setPrototypeOf(o,p){return(EnableSwitch_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var EnableSwitch_EnableSwitch=function(_React$Component){function EnableSwitch(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EnableSwitch),EnableSwitch_possibleConstructorReturn(this,EnableSwitch_getPrototypeOf(EnableSwitch).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&EnableSwitch_setPrototypeOf(subClass,superClass)}(EnableSwitch,react_default.a.Component),Constructor=EnableSwitch,(protoProps=[{key:"render",value:function(){var combinedStyle=Object(lodash.merge)({margin:"17px 0 0 0"},this.props.style);return react_default.a.createElement("div",{className:"uk-float-right md-switch md-green",style:combinedStyle},react_default.a.createElement("label",null,this.props.label,react_default.a.createElement("input",{type:"checkbox",id:this.props.stateName,name:this.props.stateName,onChange:this.props.onChange,checked:this.props.checked,disabled:this.props.disabled}),react_default.a.createElement("span",{className:"lever"})))}}])&&EnableSwitch_defineProperties(Constructor.prototype,protoProps),staticProps&&EnableSwitch_defineProperties(Constructor,staticProps),EnableSwitch}();EnableSwitch_EnableSwitch.propTypes={stateName:prop_types_default.a.string.isRequired,label:prop_types_default.a.string.isRequired,style:prop_types_default.a.object,onChange:prop_types_default.a.func,checked:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.bool]),disabled:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.bool])};var Settings_EnableSwitch=EnableSwitch_EnableSwitch;function SettingSubItem_typeof(obj){return(SettingSubItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function SettingSubItem_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SettingSubItem_possibleConstructorReturn(self,call){return!call||"object"!==SettingSubItem_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function SettingSubItem_getPrototypeOf(o){return(SettingSubItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function SettingSubItem_setPrototypeOf(o,p){return(SettingSubItem_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var SettingSubItem_SettingSubItem=function(_React$Component){function SettingSubItem(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SettingSubItem),SettingSubItem_possibleConstructorReturn(this,SettingSubItem_getPrototypeOf(SettingSubItem).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SettingSubItem_setPrototypeOf(subClass,superClass)}(SettingSubItem,react_default.a.Component),Constructor=SettingSubItem,(protoProps=[{key:"render",value:function(){var _this$props=this.props,parentClass=_this$props.parentClass,title=_this$props.title,titleCss=_this$props.titleCss,subtitle=_this$props.subtitle,component=_this$props.component,tooltip=_this$props.tooltip,headCss=titleCss||{fontWeight:"normal"};return react_default.a.createElement("div",{className:parentClass},react_default.a.createElement("div",{className:"uk-float-left uk-width-1-2"},react_default.a.createElement("h5",{style:headCss},title,tooltip&&react_default.a.createElement("i",{className:"material-icons",style:{color:"#888",fontSize:"14px",cursor:"pointer",lineHeight:"3px",marginLeft:"4px"},"data-uk-tooltip":!0,title:tooltip},"error")),react_default.a.createElement("div",{className:"p uk-text-muted"},subtitle)),react_default.a.createElement("div",{className:"uk-float-right uk-width-1-2 uk-clearfix",style:{position:"relative",marginTop:"5px"}},react_default.a.createElement("div",{className:"uk-width-1-1 uk-float-right"},component)))}}])&&SettingSubItem_defineProperties(Constructor.prototype,protoProps),staticProps&&SettingSubItem_defineProperties(Constructor,staticProps),SettingSubItem}();SettingSubItem_SettingSubItem.propTypes={parentClass:prop_types_default.a.string,title:prop_types_default.a.string.isRequired,titleCss:prop_types_default.a.object,subtitle:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.node,prop_types_default.a.element]),tooltip:prop_types_default.a.string,component:prop_types_default.a.element},SettingSubItem_SettingSubItem.defaultProps={parentClass:""};var Settings_SettingSubItem=SettingSubItem_SettingSubItem;function zone_typeof(obj){return(zone_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function zone_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function zone_possibleConstructorReturn(self,call){return!call||"object"!==zone_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function zone_getPrototypeOf(o){return(zone_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function zone_setPrototypeOf(o,p){return(zone_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var zone_Zone=function(_React$Component){function Zone(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Zone),zone_possibleConstructorReturn(this,zone_getPrototypeOf(Zone).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&zone_setPrototypeOf(subClass,superClass)}(Zone,react_default.a.Component),Constructor=Zone,(protoProps=[{key:"render",value:function(){var extraClass=this.props.extraClass;return react_default.a.createElement("div",{className:"zone uk-clearfix "+(extraClass||"")},this.props.children)}}])&&zone_defineProperties(Constructor.prototype,protoProps),staticProps&&zone_defineProperties(Constructor,staticProps),Zone}();zone_Zone.propTypes={extraClass:prop_types_default.a.string,children:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.node),prop_types_default.a.node]).isRequired};var zone=zone_Zone;function ZoneBox_typeof(obj){return(ZoneBox_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ZoneBox_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ZoneBox_possibleConstructorReturn(self,call){return!call||"object"!==ZoneBox_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ZoneBox_getPrototypeOf(o){return(ZoneBox_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ZoneBox_setPrototypeOf(o,p){return(ZoneBox_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var ZoneBox_ZoneBox=function(_React$Component){function ZoneBox(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ZoneBox),ZoneBox_possibleConstructorReturn(this,ZoneBox_getPrototypeOf(ZoneBox).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ZoneBox_setPrototypeOf(subClass,superClass)}(ZoneBox,react_default.a.Component),Constructor=ZoneBox,(protoProps=[{key:"render",value:function(){var extraClass=this.props.extraClass;return react_default.a.createElement("div",{className:"z-box uk-clearfix "+(extraClass||"")},this.props.children)}}])&&ZoneBox_defineProperties(Constructor.prototype,protoProps),staticProps&&ZoneBox_defineProperties(Constructor,staticProps),ZoneBox}();ZoneBox_ZoneBox.propTypes={extraClass:prop_types_default.a.string,children:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.node),prop_types_default.a.node]).isRequired};var components_ZoneBox=ZoneBox_ZoneBox;function General_typeof(obj){return(General_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function General_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function General_possibleConstructorReturn(self,call){return!call||"object"!==General_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function General_getPrototypeOf(o){return(General_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function General_setPrototypeOf(o,p){return(General_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var General_GeneralSettings=function(_React$Component){function GeneralSettings(props){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GeneralSettings),General_possibleConstructorReturn(this,General_getPrototypeOf(GeneralSettings).call(this,props))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&General_setPrototypeOf(subClass,superClass)}(GeneralSettings,react_default.a.Component),Constructor=GeneralSettings,(protoProps=[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"getSettingsValue",value:function(name){return this.props.settings.getIn(["settings",name,"value"])?this.props.settings.getIn(["settings",name,"value"]):""}},{key:"updateSetting",value:function(stateName,name,value){this.props.updateSetting({stateName,name,value})}},{key:"getTimezones",value:function(){return moment_timezone_default.a.tz.names().map(function(name){var year=(new Date).getUTCFullYear(),timezoneAtBeginningOfyear=moment_timezone_default.a.tz(year+"-01-01",name);return{utc:timezoneAtBeginningOfyear.utcOffset(),text:"(GMT"+timezoneAtBeginningOfyear.format("Z")+") "+name,value:name}}).sort(function(a,b){return a.utc-b.utc})}},{key:"onTimezoneChange",value:function(e){e.target.value&&this.updateSetting("timezone","gen:timezone",e.target.value)}},{key:"render",value:function(){var _this=this,active=this.props.active,SiteTitle=react_default.a.createElement(Settings_InputWithSave,{stateName:"siteTitle",settingName:"gen:sitetitle",value:this.getSettingsValue("siteTitle")}),SiteUrl=react_default.a.createElement(Settings_InputWithSave,{stateName:"siteUrl",settingName:"gen:siteurl",value:this.getSettingsValue("siteUrl")}),Timezone=react_default.a.createElement(components_SingleSelect,{stateName:"timezone",settingName:"gen:timezone",items:this.getTimezones(),defaultValue:this.getSettingsValue("timezone"),onSelectChange:function(e){_this.onTimezoneChange(e)},showTextbox:!0}),AllowUserRegistration=react_default.a.createElement(Settings_EnableSwitch,{stateName:"allowUserRegistration",label:"Enable",checked:this.getSettingsValue("allowUserRegistration"),onChange:function(e){_this.updateSetting("allowUserRegistration","allowUserRegistration:enable",e.target.checked)}});return react_default.a.createElement("div",{className:active?"active":"hide"},react_default.a.createElement(Settings_SettingItem,{title:"Site Title",subtitle:react_default.a.createElement("div",null,"Title of site. Used as page title. ",react_default.a.createElement("i",null,"default: Trudesk")),component:SiteTitle}),react_default.a.createElement(Settings_SettingItem,{title:"Site Url",subtitle:react_default.a.createElement("div",null,"Publicly accessible URL of this site. ",react_default.a.createElement("i",null,"ex: ",this.props.viewdata.hosturl)),component:SiteUrl}),react_default.a.createElement(Settings_SettingItem,{title:"Time Zone",subtitle:"Set the local timezone for date display",tooltip:"Requires Server Restart",component:Timezone}),react_default.a.createElement(Settings_SettingItem,{title:"Time & Date Format",subtitle:react_default.a.createElement("a",{href:"https://momentjs.com/docs/#/displaying/format/",rel:"noopener noreferrer",target:"_blank"},"Moment.js Format Options")},react_default.a.createElement(zone,null,react_default.a.createElement(components_ZoneBox,null,react_default.a.createElement(Settings_SettingSubItem,{title:"Time Format",subtitle:"Set the format for time display",component:react_default.a.createElement(Settings_InputWithSave,{stateName:"timeFormat",settingName:"gen:timeFormat",value:this.getSettingsValue("timeFormat"),width:"60%"})})),react_default.a.createElement(components_ZoneBox,null,react_default.a.createElement(Settings_SettingSubItem,{title:"Short Date Format",subtitle:"Set the format for short dates",component:react_default.a.createElement(Settings_InputWithSave,{stateName:"shortDateFormat",settingName:"gen:shortDateFormat",value:this.getSettingsValue("shortDateFormat"),width:"60%"})})),react_default.a.createElement(components_ZoneBox,null,react_default.a.createElement(Settings_SettingSubItem,{title:"Long Date Format",subtitle:"Set the format for long dates",component:react_default.a.createElement(Settings_InputWithSave,{stateName:"longDateFormat",settingName:"gen:longDateFormat",value:this.getSettingsValue("longDateFormat"),width:"60%"})})))),react_default.a.createElement(Settings_SettingItem,{title:"Allow User Registration",subtitle:"Allow users to create accounts on the login screen.",component:AllowUserRegistration}))}}])&&General_defineProperties(Constructor.prototype,protoProps),staticProps&&General_defineProperties(Constructor,staticProps),GeneralSettings}();General_GeneralSettings.propTypes={active:prop_types_default.a.bool,updateSetting:prop_types_default.a.func.isRequired,viewdata:prop_types_default.a.object.isRequired,settings:prop_types_default.a.object.isRequired};var General=Object(es.b)(function(state){return{viewdata:state.common,settings:state.settings.settings}},{updateSetting:settings_updateSetting})(General_GeneralSettings);function UploadButtonWithX_typeof(obj){return(UploadButtonWithX_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function UploadButtonWithX_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function UploadButtonWithX_possibleConstructorReturn(self,call){return!call||"object"!==UploadButtonWithX_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function UploadButtonWithX_getPrototypeOf(o){return(UploadButtonWithX_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function UploadButtonWithX_setPrototypeOf(o,p){return(UploadButtonWithX_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var UploadButtonWithX_UploadButtonWithX=function(_React$Component){function UploadButtonWithX(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,UploadButtonWithX),UploadButtonWithX_possibleConstructorReturn(this,UploadButtonWithX_getPrototypeOf(UploadButtonWithX).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&UploadButtonWithX_setPrototypeOf(subClass,superClass)}(UploadButtonWithX,react_default.a.Component),Constructor=UploadButtonWithX,(protoProps=[{key:"componentDidMount",value:function(){var $uploadButton=jquery_default()(this.uploadButton),$buttonX=jquery_default()(this.buttonX),$uploadSelect=jquery_default()(this.uploadSelect),uploadLogoSettings={action:this.props.uploadAction,allow:this.props.extAllowed,loadstart:function(){$uploadButton.text("Uploading..."),$uploadButton.attr("disabled",!0),$uploadButton.addClass("disable")},allcomplete:function(){$uploadButton.text("Upload Logo"),$uploadButton.attr("disabled",!1),$uploadButton.removeClass("disable"),helpers_default.a.UI.showSnackbar("Upload Complete. Reloading...",!1),setTimeout(function(){window.location.reload()},1e3),$buttonX.removeClass("hide")}};uikit_combined_min_default.a.uploadSelect($uploadSelect,uploadLogoSettings)}},{key:"render",value:function(){var _this=this,_this$props=this.props,buttonText=_this$props.buttonText,showX=_this$props.showX,onXClick=_this$props.onXClick;return react_default.a.createElement("div",null,react_default.a.createElement("button",{ref:function(x){_this.buttonX=x},className:"md-btn md-btn-danger md-btn-small right ".concat(showX?"":"hide"),onClick:onXClick,style:{marginTop:"8px"}},"X"),react_default.a.createElement("button",{ref:function(button){_this.uploadButton=button},className:"uk-form-file md-btn md-btn-small right",style:{marginTop:"8px",textTransform:"none"}},buttonText,react_default.a.createElement("input",{ref:function(select){_this.uploadSelect=select},type:"file"})))}}])&&UploadButtonWithX_defineProperties(Constructor.prototype,protoProps),staticProps&&UploadButtonWithX_defineProperties(Constructor,staticProps),UploadButtonWithX}();UploadButtonWithX_UploadButtonWithX.propTypes={buttonText:prop_types_default.a.string.isRequired,uploadAction:prop_types_default.a.string.isRequired,extAllowed:prop_types_default.a.string.isRequired,showX:prop_types_default.a.oneOfType([prop_types_default.a.bool,prop_types_default.a.string]),onXClick:prop_types_default.a.func};var Settings_UploadButtonWithX=UploadButtonWithX_UploadButtonWithX;function Appearance_typeof(obj){return(Appearance_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Appearance_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Appearance_possibleConstructorReturn(self,call){return!call||"object"!==Appearance_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Appearance_getPrototypeOf(o){return(Appearance_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Appearance_setPrototypeOf(o,p){return(Appearance_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var colorMap={light:{headerBG:"#42464d",headerPrimary:"#f6f7f8",primary:"#606771",secondary:"#f7f8fa",tertiary:"#e74c3c",quaternary:"#e6e7e8"},dark:{headerBG:"#242a31",headerPrimary:"#f6f7f8",primary:"#f6f7f8",secondary:"#2f3640",tertiary:"#e74c3c",quaternary:"#454f5d"},bluejean:{headerBG:"#112d4e",headerPrimary:"#f9f7f7",primary:"#112d4e",secondary:"#f9f7f7",tertiary:"#3f72af",quaternary:"#dbe2ef"},midnight:{headerBG:"#2c2e3e",headerPrimary:"#f6f6f6",primary:"#444a54",secondary:"#c8c8c8",tertiary:"#ee2b47",quaternary:"#2c2e3e"},moonlight:{headerBG:"#2e3238",headerPrimary:"#eeeeee",primary:"#444a54",secondary:"#c8c8c8",tertiary:"#7971ea",quaternary:"#444a54"},purplerain:{headerBG:"#393041",headerPrimary:"#f6f6f6",primary:"#393041",secondary:"#d2cbd8",tertiary:"#f67280",quaternary:"#52455f"},sandstone:{headerBG:"#625757",headerPrimary:"#f9f9f9",primary:"#625757",secondary:"#dfdfdf",tertiary:"#ef5a5a",quaternary:"#6f6363"},winterfire:{headerBG:"#404969",headerPrimary:"#ebf0f6",primary:"#404969",secondary:"#ebf0f6",tertiary:"#ff7f50",quaternary:"#4a5479"}},Appearance_AppearanceSettings=function(_React$Component){function AppearanceSettings(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AppearanceSettings),(_this=Appearance_possibleConstructorReturn(this,Appearance_getPrototypeOf(AppearanceSettings).call(this,props))).state={selectedColorScheme:"light"},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Appearance_setPrototypeOf(subClass,superClass)}(AppearanceSettings,react_default.a.Component),Constructor=AppearanceSettings,(protoProps=[{key:"componentDidUpdate",value:function(){var colorScheme=this.calcColorScheme();this.state.selectedColorScheme!==colorScheme&&this.setState({selectedColorScheme:colorScheme})}},{key:"getSettingsValue",value:function(name){return this.props.settings.getIn(["settings",name,"value"])?this.props.settings.getIn(["settings",name,"value"]):""}},{key:"updateSetting",value:function(name,value,stateName){this.props.updateSetting({name,value,stateName})}},{key:"calcColorScheme",value:function(){var colorScheme="light";return"#2f3640"===this.getSettingsValue("colorSecondary")?colorScheme="dark":"#112d4e"===this.getSettingsValue("colorHeaderBG")?colorScheme="bluejean":"#ee2b47"===this.getSettingsValue("colorTertiary")?colorScheme="midnight":"#2e3238"===this.getSettingsValue("colorHeaderBG")?colorScheme="moonlight":"#f67280"===this.getSettingsValue("colorTertiary")?colorScheme="purplerain":"#625757"===this.getSettingsValue("colorHeaderBG")?colorScheme="sandstone":"#404969"===this.getSettingsValue("colorHeaderBG")&&(colorScheme="winterfire"),colorScheme}},{key:"onBuiltInColorSelectChange",value:function(e){e.target&&e.target.value&&(this.headerBGColorSelect.setState({selectedColor:colorMap[e.target.value].headerBG},this.headerBGColorSelect.updateColorButton),this.headerPrimaryColorSelect.setState({selectedColor:colorMap[e.target.value].headerPrimary},this.headerPrimaryColorSelect.updateColorButton),this.primaryColorSelect.setState({selectedColor:colorMap[e.target.value].primary},this.primaryColorSelect.updateColorButton),this.secondaryColorSelect.setState({selectedColor:colorMap[e.target.value].secondary},this.secondaryColorSelect.updateColorButton),this.tertiaryColorSelect.setState({selectedColor:colorMap[e.target.value].tertiary},this.tertiaryColorSelect.updateColorButton),this.quaternaryColorSelect.setState({selectedColor:colorMap[e.target.value].quaternary},this.quaternaryColorSelect.updateColorButton))}},{key:"saveColorScheme",value:function(){var colors=[{name:"color:headerbg",value:this.headerBGColorSelect.state.selectedColor},{name:"color:headerprimary",value:this.headerPrimaryColorSelect.state.selectedColor},{name:"color:primary",value:this.primaryColorSelect.state.selectedColor},{name:"color:secondary",value:this.secondaryColorSelect.state.selectedColor},{name:"color:tertiary",value:this.tertiaryColorSelect.state.selectedColor},{name:"color:quaternary",value:this.quaternaryColorSelect.state.selectedColor}];this.props.updateColorScheme(colors)}},{key:"render",value:function(){var _this2=this,active=this.props.active;return react_default.a.createElement("div",{className:active?"active":"hide"},react_default.a.createElement(Settings_SettingItem,{title:"Site Logo",subtitle:react_default.a.createElement("div",null,"Upload site logo to display in top navigation. ",react_default.a.createElement("i",null,"Note: Resize to max width of 140px")),component:react_default.a.createElement(Settings_UploadButtonWithX,{buttonText:"Upload Logo",uploadAction:"/settings/general/uploadlogo",extAllowed:"*.(jpg|jpeg|gif|png)",showX:this.getSettingsValue("hasCustomLogo"),onXClick:function(){_this2.updateSetting("gen:customlogo",!1,"hasCustomLogo"),setTimeout(function(){window.location.reload()},1e3)}})}),react_default.a.createElement(Settings_SettingItem,{title:"Page Logo",subtitle:react_default.a.createElement("div",null,"Upload logo to display within page views. ",react_default.a.createElement("i",null,"Note: Used on login page (515px x 125px)")),component:react_default.a.createElement(Settings_UploadButtonWithX,{buttonText:"Upload Logo",uploadAction:"/settings/general/uploadpagelogo",extAllowed:"*.(jpg|jpeg|gif|png)",showX:this.getSettingsValue("hasCustomPageLogo"),onXClick:function(){_this2.updateSetting("gen:custompagelogo",!1,"hasCustomPageLogo")}})}),react_default.a.createElement(Settings_SettingItem,{title:"Favicon",subtitle:"Upload a custom favicon",component:react_default.a.createElement(Settings_UploadButtonWithX,{buttonText:"Upload Favicon",uploadAction:"/settings/general/uploadfavicon",extAllowed:"*.(jpg|jpeg|gif|png|ico)",showX:this.getSettingsValue("hasCustomFavicon"),onXClick:function(){_this2.updateSetting("gen:customfavicon",!1,"hasCustomFavicon"),setTimeout(function(){window.location.reload()},1e3)}})}),react_default.a.createElement(Settings_SettingItem,{title:"Color Scheme",subtitle:"Select the colors for your color scheme.",component:react_default.a.createElement(components_Button,{text:"Save",flat:!0,style:"success",extraClass:"uk-float-right mt-10",onClick:function(){_this2.saveColorScheme()}})},react_default.a.createElement(zone,null,react_default.a.createElement(components_ZoneBox,null,react_default.a.createElement(Settings_SettingSubItem,{title:"Built-in Color Scheme",subtitle:"Select a predefined color scheme",component:react_default.a.createElement(components_SingleSelect,{width:"60%",showTextbox:!1,items:[{text:"Light (Default)",value:"light"},{text:"Dark",value:"dark"},{text:"Blue Jean",value:"bluejean"},{text:"Midnight",value:"midnight"},{text:"Moonlight",value:"moonlight"},{text:"Purple Rain",value:"purplerain"},{text:"Sandstone",value:"sandstone"},{text:"Winter's Fire",value:"winterfire"}],defaultValue:this.state.selectedColorScheme,onSelectChange:function(e){_this2.onBuiltInColorSelectChange(e)}})})),react_default.a.createElement(components_ZoneBox,null,react_default.a.createElement(Settings_SettingSubItem,{title:"Header Background",subtitle:"Background color of the header",component:react_default.a.createElement(components_ColorSelector,{ref:function(cs){_this2.headerBGColorSelect=cs},defaultColor:this.getSettingsValue("colorHeaderBG"),parentClass:"uk-width-2-3 uk-float-right"})})),react_default.a.createElement(components_ZoneBox,null,react_default.a.createElement(Settings_SettingSubItem,{title:"Header Primary",subtitle:"Text and icon color within the header",component:react_default.a.createElement(components_ColorSelector,{ref:function(cs){_this2.headerPrimaryColorSelect=cs},defaultColor:this.getSettingsValue("colorHeaderPrimary"),parentClass:"uk-width-2-3 uk-float-right"})})),react_default.a.createElement(components_ZoneBox,null,react_default.a.createElement(Settings_SettingSubItem,{title:"Primary",subtitle:"Most text and icons",component:react_default.a.createElement(components_ColorSelector,{ref:function(cs){_this2.primaryColorSelect=cs},defaultColor:this.getSettingsValue("colorPrimary"),parentClass:"uk-width-2-3 uk-float-right"})})),react_default.a.createElement(components_ZoneBox,null,react_default.a.createElement(Settings_SettingSubItem,{title:"Secondary",subtitle:"The main background color",component:react_default.a.createElement(components_ColorSelector,{ref:function(cs){_this2.secondaryColorSelect=cs},defaultColor:this.getSettingsValue("colorSecondary"),parentClass:"uk-width-2-3 uk-float-right"})})),react_default.a.createElement(components_ZoneBox,null,react_default.a.createElement(Settings_SettingSubItem,{title:"Tertiary",subtitle:"Accent color, used for links, some buttons, and notifications",component:react_default.a.createElement(components_ColorSelector,{ref:function(cs){_this2.tertiaryColorSelect=cs},defaultColor:this.getSettingsValue("colorTertiary"),parentClass:"uk-width-2-3 uk-float-right"})})),react_default.a.createElement(components_ZoneBox,null,react_default.a.createElement(Settings_SettingSubItem,{title:"Quaternary",subtitle:"Sidebar background color",component:react_default.a.createElement(components_ColorSelector,{ref:function(cs){_this2.quaternaryColorSelect=cs},defaultColor:this.getSettingsValue("colorQuaternary"),parentClass:"uk-width-2-3 uk-float-right"})})))))}}])&&Appearance_defineProperties(Constructor.prototype,protoProps),staticProps&&Appearance_defineProperties(Constructor,staticProps),AppearanceSettings}();Appearance_AppearanceSettings.propTypes={active:prop_types_default.a.bool,settings:prop_types_default.a.object.isRequired,updateSetting:prop_types_default.a.func.isRequired,updateMultipleSettings:prop_types_default.a.func.isRequired,updateColorScheme:prop_types_default.a.func.isRequired};var Appearance=Object(es.b)(function(state){return{settings:state.settings.settings}},{updateSetting:settings_updateSetting,updateMultipleSettings:settings_updateMultipleSettings,updateColorScheme:settings_updateColorScheme})(Appearance_AppearanceSettings),findIndex=__webpack_require__(148),findIndex_default=__webpack_require__.n(findIndex),velocity_react=__webpack_require__(319);function body_typeof(obj){return(body_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function body_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function body_possibleConstructorReturn(self,call){return!call||"object"!==body_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function body_getPrototypeOf(o){return(body_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function body_setPrototypeOf(o,p){return(body_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var body_SplitSettingsPanelBody=function(_React$Component){function SplitSettingsPanelBody(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SplitSettingsPanelBody),body_possibleConstructorReturn(this,body_getPrototypeOf(SplitSettingsPanelBody).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&body_setPrototypeOf(subClass,superClass)}(SplitSettingsPanelBody,react_default.a.Component),Constructor=SplitSettingsPanelBody,(protoProps=[{key:"render",value:function(){var active=this.props.active;return react_default.a.createElement(velocity_react.VelocityComponent,{animation:{opacity:active?1:0},duration:750},react_default.a.createElement("div",{className:active?"":"hide"},this.props.component))}}])&&body_defineProperties(Constructor.prototype,protoProps),staticProps&&body_defineProperties(Constructor,staticProps),SplitSettingsPanelBody}();body_SplitSettingsPanelBody.propTypes={active:prop_types_default.a.bool.isRequired,component:prop_types_default.a.node.isRequired};var body=body_SplitSettingsPanelBody;function SplitSettingsPanel_typeof(obj){return(SplitSettingsPanel_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function SplitSettingsPanel_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SplitSettingsPanel_possibleConstructorReturn(self,call){return!call||"object"!==SplitSettingsPanel_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function SplitSettingsPanel_getPrototypeOf(o){return(SplitSettingsPanel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function SplitSettingsPanel_setPrototypeOf(o,p){return(SplitSettingsPanel_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var SplitSettingsPanel_SplitSettingsPanel=function(_React$Component){function SplitSettingsPanel(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SplitSettingsPanel),(_this=SplitSettingsPanel_possibleConstructorReturn(this,SplitSettingsPanel_getPrototypeOf(SplitSettingsPanel).call(this,props))).state={activeChild:""},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SplitSettingsPanel_setPrototypeOf(subClass,superClass)}(SplitSettingsPanel,react_default.a.Component),Constructor=SplitSettingsPanel,(protoProps=[{key:"componentDidMount",value:function(){helpers_default.a.setupScrollers()}},{key:"componentDidUpdate",value:function(){-1===findIndex_default()(this.props.menuItems,["key",this.state.activeChild])&&this.props.menuItems.length>0&&this.setState({activeChild:this.props.menuItems[0].key})}},{key:"switchChild",value:function(key){this.setState({activeChild:key})}},{key:"render",value:function(){var _this2=this,_this$props=this.props,title=_this$props.title,subtitle=_this$props.subtitle,rightComponent=_this$props.rightComponent,menuItems=_this$props.menuItems,tooltip=_this$props.tooltip;return react_default.a.createElement("div",{className:"setting-item-wrap uk-margin-medium-bottom"},react_default.a.createElement("div",{className:"panel trupanel nopadding no-hover-shadow uk-overflow-hidden",style:{minHeight:"60px",height:"auto"}},react_default.a.createElement("div",{className:"left"},react_default.a.createElement("h6",{style:{padding:"0 0 0 15px",margin:"15px 0 0 0",fontSize:"16px",lineHeight:"14px"}},title,tooltip&&react_default.a.createElement("i",{className:"material-icons",style:{color:"#888",fontSize:"16px",cursor:"pointer",lineHeight:"3px",marginLeft:"4px"},"data-uk-tooltip":"{cls:'long-text'}",title:tooltip},"error")),react_default.a.createElement("h5",{style:{padding:"0 0 10px 15px",margin:"2px 0 0 0",fontSize:"12px"},className:"uk-text-muted"},subtitle)),react_default.a.createElement("div",{className:"right"},react_default.a.createElement("div",{style:{margin:"12px 10px 0 0"}},rightComponent)),react_default.a.createElement("hr",{className:"nomargin-top clear"}),react_default.a.createElement("div",{className:"panel-body2"},react_default.a.createElement("div",{className:"uk-grid uk-grid-collapse"},react_default.a.createElement("div",{className:"split-panel-categories uk-width-1-4 uk-width-large-1-5 scrollable br",style:{minHeight:"300px",overflow:"hidden auto"}},react_default.a.createElement(Settings_Menu,{hideBorders:!0,draggable:this.props.menuDraggable,onMenuDrag:this.props.menuOnDrag},menuItems.map(function(item){return react_default.a.createElement(Settings_MenuItem,{active:_this2.state.activeChild===item.key,key:item.key,dragKey:item.key,title:item.title,onClick:function(){_this2.switchChild(item.key)},draggable:_this2.props.menuDraggable})}))),react_default.a.createElement("div",{className:"uk-width-3-4 uk-width-large-4-5"+(this.props.scrollable?" scrollable":""),style:{padding:"20px 15px 15px 15px",maxHeight:this.props.maxHeight||"auto"}},menuItems.map(function(menuItem){return react_default.a.createElement(body,{active:_this2.state.activeChild===menuItem.key,key:menuItem.key,component:menuItem.bodyComponent})})))),this.props.footer&&react_default.a.createElement("div",{className:"panel-footer"},this.props.footer)))}}])&&SplitSettingsPanel_defineProperties(Constructor.prototype,protoProps),staticProps&&SplitSettingsPanel_defineProperties(Constructor,staticProps),SplitSettingsPanel}();SplitSettingsPanel_SplitSettingsPanel.propTypes={title:prop_types_default.a.string.isRequired,subtitle:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.element]),tooltip:prop_types_default.a.string,rightComponent:prop_types_default.a.element,scrollable:prop_types_default.a.bool,maxHeight:prop_types_default.a.string,footer:prop_types_default.a.element,menuItems:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.object),prop_types_default.a.object]).isRequired,menuDraggable:prop_types_default.a.bool,menuOnDrag:prop_types_default.a.func};var Settings_SplitSettingsPanel=SplitSettingsPanel_SplitSettingsPanel;function permSwitchPartial_typeof(obj){return(permSwitchPartial_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function permSwitchPartial_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function permSwitchPartial_possibleConstructorReturn(self,call){return!call||"object"!==permSwitchPartial_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function permSwitchPartial_getPrototypeOf(o){return(permSwitchPartial_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function permSwitchPartial_setPrototypeOf(o,p){return(permSwitchPartial_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var permSwitchPartial_PermSwitchPartial=function(_React$Component){function PermSwitchPartial(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PermSwitchPartial),permSwitchPartial_possibleConstructorReturn(this,permSwitchPartial_getPrototypeOf(PermSwitchPartial).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&permSwitchPartial_setPrototypeOf(subClass,superClass)}(PermSwitchPartial,react_default.a.Component),Constructor=PermSwitchPartial,(protoProps=[{key:"render",value:function(){var _this$props=this.props,title=_this$props.title,checked=_this$props.checked,onChange=_this$props.onChange,disabled=_this$props.disabled;return react_default.a.createElement("div",null,react_default.a.createElement("div",{style:{padding:"0 10px"}},react_default.a.createElement("div",{className:"uk-clearfix"},react_default.a.createElement("div",{className:"left"},react_default.a.createElement("h6",{style:{padding:"0 0 0 15px",margin:"20px 0",fontSize:"16px",lineHeight:"14px"}},title)),react_default.a.createElement("div",{className:"right",style:{position:"relative"}},react_default.a.createElement("div",{className:"md-switch md-green",style:{margin:"18px 0 0 0"}},react_default.a.createElement("label",null,"Allow",react_default.a.createElement("input",{type:"checkbox",checked,onChange,disabled}),react_default.a.createElement("span",{className:"lever"})))))),react_default.a.createElement("hr",{className:"nomargin-top clear"}))}}])&&permSwitchPartial_defineProperties(Constructor.prototype,protoProps),staticProps&&permSwitchPartial_defineProperties(Constructor,staticProps),PermSwitchPartial}();permSwitchPartial_PermSwitchPartial.propTypes={title:prop_types_default.a.string.isRequired,checked:prop_types_default.a.oneOfType([prop_types_default.a.bool,prop_types_default.a.string]),onChange:prop_types_default.a.func.isRequired,disabled:prop_types_default.a.oneOfType([prop_types_default.a.bool,prop_types_default.a.string])};var permissionGroupPartial_class,permissionGroupPartial_class2,permissionGroupPartial_descriptor,permissionGroupPartial_descriptor2,permissionGroupPartial_descriptor3,permissionGroupPartial_descriptor4,permissionGroupPartial_descriptor5,permissionGroupPartial_descriptor6,_descriptor7,permSwitchPartial=permSwitchPartial_PermSwitchPartial;function permissionGroupPartial_typeof(obj){return(permissionGroupPartial_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function permissionGroupPartial_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function permissionGroupPartial_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function permissionGroupPartial_getPrototypeOf(o){return(permissionGroupPartial_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function permissionGroupPartial_setPrototypeOf(o,p){return(permissionGroupPartial_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function permissionGroupPartial_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function permissionGroupPartial_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var permissionGroupPartial_PermissionGroupPartial=Object(index_module.a)((permissionGroupPartial_descriptor=permissionGroupPartial_applyDecoratedDescriptor((permissionGroupPartial_class2=function(_React$Component){function PermissionGroupPartial(){var _getPrototypeOf2,_this,self,call;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PermissionGroupPartial);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return self=this,permissionGroupPartial_initializerDefineProperty(_this=!(call=(_getPrototypeOf2=permissionGroupPartial_getPrototypeOf(PermissionGroupPartial)).call.apply(_getPrototypeOf2,[this].concat(args)))||"object"!==permissionGroupPartial_typeof(call)&&"function"!=typeof call?permissionGroupPartial_assertThisInitialized(self):call,"all",permissionGroupPartial_descriptor,permissionGroupPartial_assertThisInitialized(permissionGroupPartial_assertThisInitialized(_this))),permissionGroupPartial_initializerDefineProperty(_this,"create",permissionGroupPartial_descriptor2,permissionGroupPartial_assertThisInitialized(permissionGroupPartial_assertThisInitialized(_this))),permissionGroupPartial_initializerDefineProperty(_this,"view",permissionGroupPartial_descriptor3,permissionGroupPartial_assertThisInitialized(permissionGroupPartial_assertThisInitialized(_this))),permissionGroupPartial_initializerDefineProperty(_this,"update",permissionGroupPartial_descriptor4,permissionGroupPartial_assertThisInitialized(permissionGroupPartial_assertThisInitialized(_this))),permissionGroupPartial_initializerDefineProperty(_this,"delete",permissionGroupPartial_descriptor5,permissionGroupPartial_assertThisInitialized(permissionGroupPartial_assertThisInitialized(_this))),permissionGroupPartial_initializerDefineProperty(_this,"special",permissionGroupPartial_descriptor6,permissionGroupPartial_assertThisInitialized(permissionGroupPartial_assertThisInitialized(_this))),permissionGroupPartial_initializerDefineProperty(_this,"roleSpecials",_descriptor7,permissionGroupPartial_assertThisInitialized(permissionGroupPartial_assertThisInitialized(_this))),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&permissionGroupPartial_setPrototypeOf(subClass,superClass)}(PermissionGroupPartial,react_default.a.Component),Constructor=PermissionGroupPartial,(protoProps=[{key:"componentDidMount",value:function(){this.all=this.props.grants.all||"",this.create=this.props.grants.create||"",this.view=this.props.grants.view||"",this.update=this.props.grants.update||"",this.delete=this.props.grants.delete||"",this.special=this.props.grants.special||[],this.roleSpecials=this.props.roleSpecials||[]}},{key:"componentDidUpdate",value:function(prevProps){prevProps.roleSpecials!==this.props.roleSpecials&&(this.roleSpecials=this.props.roleSpecials),prevProps.grants!==this.props.grants&&(prevProps.grants.all!==this.props.grants.all&&(this.all=this.props.grants.all),!0===this.all?(!0!==this.create&&(this.create=!0),!0!==this.view&&(this.view=!0),!0!==this.update&&(this.update=!0),!0!==this.delete&&(this.delete=!0),helpers_default.a.arrayIsEqual(this.special,["*"])||(this.special=["*"])):(prevProps.grants.create!==this.props.grants.create&&(this.create=this.props.grants.create),prevProps.grants.view!==this.props.grants.view&&(this.view=this.props.grants.view),prevProps.grants.update!==this.props.grants.update&&(this.update=this.props.grants.update),prevProps.grants.delete!==this.props.grants.delete&&(this.delete=this.props.grants.delete),prevProps.grants.special!==this.props.grants.special&&(this.special=this.props.grants.special)))}},{key:"onEnableSwitchChanged",value:function(e,name){"all"===name?(this.all=e.target.checked,this.create=e.target.checked,this.view=e.target.checked,this.update=e.target.checked,this.delete=e.target.checked,e.target.checked?this.special.replace(["*"]):this.special.clear()):this[name]=e.target.checked}},{key:"hasSpecial",value:function(perm){return!(!this.special.length<0)&&(!!helpers_default.a.arrayIsEqual(this.special,["*"])||-1!==this.special.indexOf(perm))}},{key:"onSpecialChanged",value:function(e,perm){if(perm&&!this.all){var arr=this.special;e.target.checked?arr.push(perm):arr=Object(lodash.without)(arr,perm),this.special.replace(Object(lodash.uniq)(arr))}}},{key:"render",value:function(){var _this2=this,_this$props=this.props,title=_this$props.title,subtitle=_this$props.subtitle,role=_this$props.role;return react_default.a.createElement("div",null,react_default.a.createElement(Settings_SettingItem,{title,subtitle,subPanelPadding:"0",component:react_default.a.createElement(Settings_EnableSwitch,{stateName:"all_perm_".concat(title,"_").concat(role.get("_id")),label:"All",checked:this.all,onChange:function(e){return _this2.onEnableSwitchChanged(e,"all")}})},react_default.a.createElement(permSwitchPartial,{title:"Create",checked:this.create,onChange:function(e){return _this2.onEnableSwitchChanged(e,"create")},disabled:this.all}),react_default.a.createElement(permSwitchPartial,{title:"View",onChange:function(e){return _this2.onEnableSwitchChanged(e,"view")},checked:this.view,disabled:this.all}),react_default.a.createElement(permSwitchPartial,{title:"Update",onChange:function(e){return _this2.onEnableSwitchChanged(e,"update")},checked:this.update,disabled:this.all}),react_default.a.createElement(permSwitchPartial,{title:"Delete",onChange:function(e){return _this2.onEnableSwitchChanged(e,"delete")},checked:this.delete,disabled:this.all}),this.roleSpecials.length>0&&react_default.a.createElement("div",null,react_default.a.createElement("div",{className:"panel-body2 bg-warn",style:{padding:"0 10px"}},react_default.a.createElement("div",{className:"uk-clearfix"},react_default.a.createElement("div",{className:"left"},react_default.a.createElement("h6",{className:"text-dark",style:{padding:"0 0 0 15px",margin:"20px 0",fontSize:"18px",lineHeight:"14px"}},"Special Permissions")))),this.roleSpecials.map(function(perm){return react_default.a.createElement(permSwitchPartial,{key:"".concat(perm.title,"_").concat(perm.perm),title:perm.title,checked:_this2.hasSpecial(perm.perm),onChange:function(e){return _this2.onSpecialChanged(e,perm.perm)},disabled:_this2.all})}))))}}])&&permissionGroupPartial_defineProperties(Constructor.prototype,protoProps),staticProps&&permissionGroupPartial_defineProperties(Constructor,staticProps),PermissionGroupPartial}()).prototype,"all",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),permissionGroupPartial_descriptor2=permissionGroupPartial_applyDecoratedDescriptor(permissionGroupPartial_class2.prototype,"create",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),permissionGroupPartial_descriptor3=permissionGroupPartial_applyDecoratedDescriptor(permissionGroupPartial_class2.prototype,"view",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),permissionGroupPartial_descriptor4=permissionGroupPartial_applyDecoratedDescriptor(permissionGroupPartial_class2.prototype,"update",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),permissionGroupPartial_descriptor5=permissionGroupPartial_applyDecoratedDescriptor(permissionGroupPartial_class2.prototype,"delete",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),permissionGroupPartial_descriptor6=permissionGroupPartial_applyDecoratedDescriptor(permissionGroupPartial_class2.prototype,"special",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_descriptor7=permissionGroupPartial_applyDecoratedDescriptor(permissionGroupPartial_class2.prototype,"roleSpecials",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),permissionGroupPartial_class=permissionGroupPartial_class2))||permissionGroupPartial_class;permissionGroupPartial_PermissionGroupPartial.propTypes={title:prop_types_default.a.string.isRequired,subtitle:prop_types_default.a.string,roleSpecials:prop_types_default.a.array,role:prop_types_default.a.object.isRequired,grants:prop_types_default.a.object.isRequired};var permissionBody_class,permissionBody_class2,permissionBody_descriptor,permissionBody_descriptor2,permissionBody_descriptor3,permissionBody_descriptor4,permissionBody_descriptor5,permissionBody_descriptor6,permissionBody_descriptor7,_descriptor8,_descriptor9,permissionGroupPartial=permissionGroupPartial_PermissionGroupPartial;function permissionBody_typeof(obj){return(permissionBody_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function permissionBody_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function permissionBody_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function permissionBody_getPrototypeOf(o){return(permissionBody_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function permissionBody_setPrototypeOf(o,p){return(permissionBody_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function permissionBody_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function permissionBody_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var permissionBody_PermissionBody=Object(index_module.a)((permissionBody_descriptor=permissionBody_applyDecoratedDescriptor((permissionBody_class2=function(_React$Component){function PermissionBody(){var _getPrototypeOf2,_this,self,call;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PermissionBody);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return self=this,permissionBody_initializerDefineProperty(_this=!(call=(_getPrototypeOf2=permissionBody_getPrototypeOf(PermissionBody)).call.apply(_getPrototypeOf2,[this].concat(args)))||"object"!==permissionBody_typeof(call)&&"function"!=typeof call?permissionBody_assertThisInitialized(self):call,"isAdmin",permissionBody_descriptor,permissionBody_assertThisInitialized(permissionBody_assertThisInitialized(_this))),permissionBody_initializerDefineProperty(_this,"isAgent",permissionBody_descriptor2,permissionBody_assertThisInitialized(permissionBody_assertThisInitialized(_this))),permissionBody_initializerDefineProperty(_this,"hasHierarchy",permissionBody_descriptor3,permissionBody_assertThisInitialized(permissionBody_assertThisInitialized(_this))),_this.grants=[],permissionBody_initializerDefineProperty(_this,"ticketGrants",permissionBody_descriptor4,permissionBody_assertThisInitialized(permissionBody_assertThisInitialized(_this))),permissionBody_initializerDefineProperty(_this,"commentGrants",permissionBody_descriptor5,permissionBody_assertThisInitialized(permissionBody_assertThisInitialized(_this))),permissionBody_initializerDefineProperty(_this,"accountGrants",permissionBody_descriptor6,permissionBody_assertThisInitialized(permissionBody_assertThisInitialized(_this))),permissionBody_initializerDefineProperty(_this,"groupGrants",permissionBody_descriptor7,permissionBody_assertThisInitialized(permissionBody_assertThisInitialized(_this))),permissionBody_initializerDefineProperty(_this,"reportGrants",_descriptor8,permissionBody_assertThisInitialized(permissionBody_assertThisInitialized(_this))),permissionBody_initializerDefineProperty(_this,"noticeGrants",_descriptor9,permissionBody_assertThisInitialized(permissionBody_assertThisInitialized(_this))),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&permissionBody_setPrototypeOf(subClass,superClass)}(PermissionBody,react_default.a.Component),Constructor=PermissionBody,staticProps=[{key:"mapTicketSpecials",value:function(){return[{title:"Notes",perm:"notes"},{title:"Manage Public Tickets",perm:"public"}]}},{key:"mapAccountSpecials",value:function(){return[{title:"Import",perm:"import"}]}},{key:"mapNoticeSpecials",value:function(){return[{title:"Activate",perm:"activate"},{title:"Deactivate",perm:"deactivate"}]}},{key:"buildPermArray",value:function(permGroup){var arr=[];return permGroup.all?arr=["*"]:(permGroup.create&&arr.push("create"),permGroup.view&&arr.push("view"),permGroup.update&&arr.push("update"),permGroup.delete&&arr.push("delete"),permGroup.special&&arr.push(permGroup.special.join(" "))),arr}}],(protoProps=[{key:"componentDidMount",value:function(){this.isAdmin=this.props.role.get("isAdmin")||!1,this.isAgent=this.props.role.get("isAgent")||!1,this.hasHierarchy=this.props.role.get("hierarchy")||!1,this.grants=this.props.role.get("grants").toArray()||[],this.parseGrants()}},{key:"componentDidUpdate",value:function(){""===this.isAdmin&&(this.isAdmin=this.props.role.get("isAdmin")||!1),""===this.isAgent&&(this.isAgent=this.props.role.get("isAgent")||!1),""===this.hasHierarchy&&(this.hasHierarchy=this.props.role.get("hierarchy")||!1),this.grants.length<1&&(this.grants=this.props.role.get("grants").toArray()||[]),this.parseGrants()}},{key:"parseGrants",value:function(){if(this.grants){var parsedGrants=helpers_default.a.parseRoleGrants(this.grants);parsedGrants.tickets&&!Object(lodash.isEqual)(parsedGrants.tickets,this.ticketGrants)&&(this.ticketGrants=parsedGrants.tickets),parsedGrants.comments&&!Object(lodash.isEqual)(parsedGrants.comments,this.commentGrants)&&(this.commentGrants=parsedGrants.comments),parsedGrants.accounts&&!Object(lodash.isEqual)(parsedGrants.accounts,this.accountGrants)&&(this.accountGrants=parsedGrants.accounts),parsedGrants.groups&&!Object(lodash.isEqual)(parsedGrants.groups,this.groupGrants)&&(this.groupGrants=parsedGrants.groups),parsedGrants.reports&&!Object(lodash.isEqual)(parsedGrants.reports,this.reportGrants)&&(this.reportGrants=parsedGrants.reports),parsedGrants.notices&&!Object(lodash.isEqual)(parsedGrants.notices,this.noticeGrants)&&(this.noticeGrants=parsedGrants.notices)}}},{key:"onEnableSwitchChanged",value:function(e,name){this[name]=e.target.checked}},{key:"onSubmit",value:function(e){e.preventDefault();var obj={};obj._id=this.props.role.get("_id"),this.isAdmin&&(obj.admin=["*"],obj.settings=["*"]),this.isAgent&&(obj.agent=["*"]),obj.hierarchy=this.hasHierarchy,obj.tickets=PermissionBody.buildPermArray(this.ticketPermGroup),obj.comments=PermissionBody.buildPermArray(this.commentPermGroup),obj.accounts=PermissionBody.buildPermArray(this.accountPermGroup),obj.groups=PermissionBody.buildPermArray(this.groupPermGroup),obj.reports=PermissionBody.buildPermArray(this.reportPermGroup),obj.notices=PermissionBody.buildPermArray(this.noticePermGroup),this.props.updatePermissions(obj)}},{key:"showDeletePermissionRole",value:function(e){e.preventDefault(),this.props.showModal("DELETE_ROLE",{role:this.props.role})}},{key:"render",value:function(){var _this2=this;return react_default.a.createElement("div",null,react_default.a.createElement("form",{onSubmit:function(e){return _this2.onSubmit(e)}},react_default.a.createElement(Settings_SettingItem,{title:"Admin",tooltip:"Role is considered an admin. Enabling management of the trudesk instance.",subtitle:"Is this role defined as an admin role?",component:react_default.a.createElement(Settings_EnableSwitch,{stateName:"isAdmin_"+this.props.role.get("_id"),label:"Enable",checked:this.isAdmin,onChange:function(e){return _this2.onEnableSwitchChanged(e,"isAdmin")}})}),react_default.a.createElement(Settings_SettingItem,{title:"Support Agent",subtitle:"Is this role defined as an agent role?",tooltip:"Role is considered an agent role. Enabling agent views and displaying in agent lists.",component:react_default.a.createElement(Settings_EnableSwitch,{stateName:"isAgent_"+this.props.role.get("_id"),label:"Enable",checked:this.isAgent,onChange:function(e){return _this2.onEnableSwitchChanged(e,"isAgent")}})}),react_default.a.createElement(Settings_SettingItem,{title:"Enable Hierarchy",subtitle:"Allow this role to manage resources owned by roles defined under it.",component:react_default.a.createElement(Settings_EnableSwitch,{stateName:"hasHierarchy_"+this.props.role.get("_id"),label:"Enable",checked:this.hasHierarchy,onChange:function(e){return _this2.onEnableSwitchChanged(e,"hasHierarchy")}})}),react_default.a.createElement(permissionGroupPartial,{ref:function(i){return _this2.ticketPermGroup=i},title:"Tickets",role:this.props.role,grants:this.ticketGrants,roleSpecials:PermissionBody.mapTicketSpecials(),subtitle:"Ticket Permissions"}),react_default.a.createElement(permissionGroupPartial,{ref:function(i){return _this2.commentPermGroup=i},title:"Comments",role:this.props.role,grants:this.commentGrants,subtitle:"Ticket Comments Permissions"}),react_default.a.createElement(permissionGroupPartial,{ref:function(i){return _this2.accountPermGroup=i},title:"Accounts",role:this.props.role,roleSpecials:PermissionBody.mapAccountSpecials(),grants:this.accountGrants,subtitle:"Account Permissions"}),react_default.a.createElement(permissionGroupPartial,{ref:function(i){return _this2.groupPermGroup=i},title:"Groups",role:this.props.role,grants:this.groupGrants,subtitle:"Group Permissions"}),react_default.a.createElement(permissionGroupPartial,{ref:function(i){return _this2.reportPermGroup=i},title:"Reports",role:this.props.role,grants:this.reportGrants,subtitle:"Report Permissions"}),react_default.a.createElement(permissionGroupPartial,{ref:function(i){return _this2.noticePermGroup=i},title:"Notices",role:this.props.role,grants:this.noticeGrants,roleSpecials:PermissionBody.mapNoticeSpecials(),subtitle:"Notice Permissions"}),react_default.a.createElement("div",{className:"uk-margin-large-bottom"},react_default.a.createElement("h2",{className:"text-light"},"Danger Zone"),react_default.a.createElement("div",{className:"danger-zone"},react_default.a.createElement("div",{className:"dz-box uk-clearfix"},react_default.a.createElement("div",{className:"uk-float-left"},react_default.a.createElement("h5",null,"Delete this permission role?"),react_default.a.createElement("p",null,"Once you delete a permission role, there is no going back. Please be certain.")),react_default.a.createElement("div",{className:"uk-float-right",style:{paddingTop:"10px"}},react_default.a.createElement(components_Button,{text:"Delete",small:!0,style:"danger",onClick:function(e){return _this2.showDeletePermissionRole(e)}}))))),react_default.a.createElement("div",null,react_default.a.createElement("div",{className:"box uk-clearfix"},react_default.a.createElement("div",{className:"uk-float-right",style:{paddingTop:"10px"}},react_default.a.createElement(components_Button,{type:"submit",style:"success",waves:!0,text:"Save Permissions"}))))))}}])&&permissionBody_defineProperties(Constructor.prototype,protoProps),staticProps&&permissionBody_defineProperties(Constructor,staticProps),PermissionBody}()).prototype,"isAdmin",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),permissionBody_descriptor2=permissionBody_applyDecoratedDescriptor(permissionBody_class2.prototype,"isAgent",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),permissionBody_descriptor3=permissionBody_applyDecoratedDescriptor(permissionBody_class2.prototype,"hasHierarchy",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),permissionBody_descriptor4=permissionBody_applyDecoratedDescriptor(permissionBody_class2.prototype,"ticketGrants",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{all:!1,create:!1,view:!1,update:!1,delete:!1,special:[]}}}),permissionBody_descriptor5=permissionBody_applyDecoratedDescriptor(permissionBody_class2.prototype,"commentGrants",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{all:!1,create:!1,view:!1,update:!1,delete:!1,special:[]}}}),permissionBody_descriptor6=permissionBody_applyDecoratedDescriptor(permissionBody_class2.prototype,"accountGrants",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{all:!1,create:!1,view:!1,update:!1,delete:!1,special:[]}}}),permissionBody_descriptor7=permissionBody_applyDecoratedDescriptor(permissionBody_class2.prototype,"groupGrants",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{all:!1,create:!1,view:!1,update:!1,delete:!1,special:[]}}}),_descriptor8=permissionBody_applyDecoratedDescriptor(permissionBody_class2.prototype,"reportGrants",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{all:!1,create:!1,view:!1,update:!1,delete:!1,special:[]}}}),_descriptor9=permissionBody_applyDecoratedDescriptor(permissionBody_class2.prototype,"noticeGrants",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{all:!1,create:!1,view:!1,update:!1,delete:!1,special:[]}}}),permissionBody_class=permissionBody_class2))||permissionBody_class;permissionBody_PermissionBody.propTypes={role:prop_types_default.a.object.isRequired,updatePermissions:prop_types_default.a.func.isRequired,showModal:prop_types_default.a.func.isRequired};var permissionBody=Object(es.b)(null,{updatePermissions:settings_updatePermissions,showModal})(permissionBody_PermissionBody);function Permissions_typeof(obj){return(Permissions_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Permissions_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Permissions_possibleConstructorReturn(self,call){return!call||"object"!==Permissions_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Permissions_getPrototypeOf(o){return(Permissions_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Permissions_setPrototypeOf(o,p){return(Permissions_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Permissions_PermissionsSettingsContainer=function(_React$Component){function PermissionsSettingsContainer(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PermissionsSettingsContainer),Permissions_possibleConstructorReturn(this,Permissions_getPrototypeOf(PermissionsSettingsContainer).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Permissions_setPrototypeOf(subClass,superClass)}(PermissionsSettingsContainer,react_default.a.Component),Constructor=PermissionsSettingsContainer,(protoProps=[{key:"componentDidMount",value:function(){this.props.fetchRoles()}},{key:"getSetting",value:function(name){return this.props.settings.getIn(["settings",name,"value"])?this.props.settings.getIn(["settings",name,"value"]):""}},{key:"onRoleOrderChanged",value:function(e){for(var children=jquery_default()(e.target).children("li"),arr=[],i=0;i<children.length;i++)arr.push(jquery_default()(children[i]).attr("data-key"));this.props.updateRoleOrder({roleOrder:arr})}},{key:"getRoleMenu",value:function(){var _this=this;return this.props.roleOrder&&this.props.roleOrder.get("order")&&this.props.roles?this.props.roleOrder.get("order").map(function(o){return _this.props.roles.find(function(v){return v.get("_id")===o})}).toArray():[]}},{key:"onCreateRoleClicked",value:function(e){e.preventDefault(),this.props.showModal("CREATE_ROLE")}},{key:"onDefaultUserRoleChange",value:function(e){this.props.updateSetting({name:"role:user:default",value:e.target.value,stateName:"defaultUserRole"})}},{key:"render",value:function(){var _this2=this,mappedRoles=this.props.roles.map(function(role){return{text:role.get("name"),value:role.get("_id")}}).toArray();return react_default.a.createElement("div",{className:this.props.active?"":"hide"},react_default.a.createElement(Settings_SettingItem,{title:"Default New User Role",subtitle:"Role assigned to users created during sign-up and public tickets",component:react_default.a.createElement(components_SingleSelect,{items:mappedRoles,defaultValue:this.getSetting("defaultUserRole"),onSelectChange:function(e){_this2.onDefaultUserRoleChange(e)},width:"50%",showTextbox:!1})}),react_default.a.createElement(Settings_SplitSettingsPanel,{title:"Permissions",tooltip:"Permission order is top down. ex: Admins at top; Users at bottom.",subtitle:react_default.a.createElement("div",null,"Create/Modify Role Permissions"," ",react_default.a.createElement("span",{className:"uk-text-danger"},"Note: Changes take affect after page refresh")),rightComponent:react_default.a.createElement(components_Button,{text:"Create",style:"success",flat:!0,waves:!0,onClick:function(e){return _this2.onCreateRoleClicked(e)}}),menuItems:this.getRoleMenu().map(function(role){return{key:role.get("_id"),title:role.get("name"),bodyComponent:react_default.a.createElement(permissionBody,{role})}}),menuDraggable:!0,menuOnDrag:function(e){_this2.onRoleOrderChanged(e)}}))}}])&&Permissions_defineProperties(Constructor.prototype,protoProps),staticProps&&Permissions_defineProperties(Constructor,staticProps),PermissionsSettingsContainer}();Permissions_PermissionsSettingsContainer.propTypes={active:prop_types_default.a.bool.isRequired,roles:prop_types_default.a.object.isRequired,roleOrder:prop_types_default.a.object.isRequired,settings:prop_types_default.a.object.isRequired,fetchRoles:prop_types_default.a.func.isRequired,updateRoleOrder:prop_types_default.a.func.isRequired,showModal:prop_types_default.a.func.isRequired,updateSetting:prop_types_default.a.func.isRequired};var Permissions=Object(es.b)(function(state){return{roles:state.shared.roles,roleOrder:state.shared.roleOrder,settings:state.settings.settings}},{fetchRoles:common_fetchRoles,updateRoleOrder:common_updateRoleOrder,showModal,updateSetting:settings_updateSetting})(Permissions_PermissionsSettingsContainer);function NumberWithSave_typeof(obj){return(NumberWithSave_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function NumberWithSave_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function NumberWithSave_possibleConstructorReturn(self,call){return!call||"object"!==NumberWithSave_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function NumberWithSave_getPrototypeOf(o){return(NumberWithSave_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function NumberWithSave_setPrototypeOf(o,p){return(NumberWithSave_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var NumberWithSave_NumberWithSave=function(_React$Component){function NumberWithSave(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NumberWithSave),(_this=NumberWithSave_possibleConstructorReturn(this,NumberWithSave_getPrototypeOf(NumberWithSave).call(this,props))).state={value:_this.props.value},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&NumberWithSave_setPrototypeOf(subClass,superClass)}(NumberWithSave,react_default.a.Component),Constructor=NumberWithSave,staticProps=[{key:"getDerivedStateFromProps",value:function(nextProps,state){return state.value?null:{value:nextProps.value}}}],(protoProps=[{key:"componentDidMount",value:function(){helpers_default.a.UI.inputs()}},{key:"onSaveClicked",value:function(){this.props.updateSetting({name:this.props.settingName,value:this.state.value,stateName:this.props.stateName})}},{key:"updateValue",value:function(evt){this.setState({value:evt.target.value})}},{key:"render",value:function(){var _this2=this,width="75%";return this.props.width&&(width=this.props.width),react_default.a.createElement("div",{className:"uk-width-3-4 uk-float-right"},react_default.a.createElement("div",{className:"uk-width-1-4 uk-float-right",style:{marginTop:"10px",textAlign:"center"}},react_default.a.createElement("button",{className:"md-btn md-btn-small",onClick:function(e){return _this2.onSaveClicked(e)}},"Save")),react_default.a.createElement("div",{className:"uk-width-3-4 uk-float-right",style:{paddingRight:"10px",width}},react_default.a.createElement("input",{id:this.props.stateName,className:"md-input",type:"number",value:this.state.value,onChange:function(evt){return _this2.updateValue(evt)}})))}}])&&NumberWithSave_defineProperties(Constructor.prototype,protoProps),staticProps&&NumberWithSave_defineProperties(Constructor,staticProps),NumberWithSave}();NumberWithSave_NumberWithSave.propTypes={updateSetting:prop_types_default.a.func.isRequired,settingName:prop_types_default.a.string.isRequired,stateName:prop_types_default.a.string.isRequired,value:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.number]),width:prop_types_default.a.string};var Settings_NumberWithSave=Object(es.b)(null,{updateSetting:settings_updateSetting})(NumberWithSave_NumberWithSave);function ButtonGroup_typeof(obj){return(ButtonGroup_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ButtonGroup_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ButtonGroup_possibleConstructorReturn(self,call){return!call||"object"!==ButtonGroup_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ButtonGroup_getPrototypeOf(o){return(ButtonGroup_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ButtonGroup_setPrototypeOf(o,p){return(ButtonGroup_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var ButtonGroup_ButtonGroup=function(_React$Component){function ButtonGroup(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ButtonGroup),ButtonGroup_possibleConstructorReturn(this,ButtonGroup_getPrototypeOf(ButtonGroup).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ButtonGroup_setPrototypeOf(subClass,superClass)}(ButtonGroup,react_default.a.Component),Constructor=ButtonGroup,(protoProps=[{key:"render",value:function(){return react_default.a.createElement("div",{className:"md-btn-group mt-5"+(this.props.classNames?" "+this.props.classNames:"")},this.props.children)}}])&&ButtonGroup_defineProperties(Constructor.prototype,protoProps),staticProps&&ButtonGroup_defineProperties(Constructor,staticProps),ButtonGroup}();ButtonGroup_ButtonGroup.propTypes={classNames:prop_types_default.a.string};var components_ButtonGroup=ButtonGroup_ButtonGroup;function editPriorityPartial_typeof(obj){return(editPriorityPartial_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function editPriorityPartial_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function editPriorityPartial_possibleConstructorReturn(self,call){return!call||"object"!==editPriorityPartial_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function editPriorityPartial_getPrototypeOf(o){return(editPriorityPartial_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function editPriorityPartial_setPrototypeOf(o,p){return(editPriorityPartial_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var editPriorityPartial_EditPriorityPartial=function(_React$Component){function EditPriorityPartial(props){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EditPriorityPartial),editPriorityPartial_possibleConstructorReturn(this,editPriorityPartial_getPrototypeOf(EditPriorityPartial).call(this,props))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&editPriorityPartial_setPrototypeOf(subClass,superClass)}(EditPriorityPartial,react_default.a.Component),Constructor=EditPriorityPartial,(protoProps=[{key:"toggleEditPriority",value:function(){var $parent=jquery_default()(this.editPriorityRef).parent(),$v=$parent.find(".view-priority"),$e=$parent.find(".edit-priority");$v&&$e&&($v.toggleClass("hide"),$e.toggleClass("hide"))}},{key:"onSubmitEditPriority",value:function(e,priority){var _this=this;if(e.preventDefault(),!jquery_default()(e.target).isValid(null,null,!1))return!0;var id=priority.get("_id"),name=e.target.name.value,overdueIn=e.target.overdueIn.value,htmlColor=e.target.htmlColor.value,self=this;client_api.tickets.updatePriority({id,name,overdueIn,htmlColor}).then(function(res){logger.debug(res),self.toggleEditPriority(),_this.props.fetchSettings()}).catch(function(err){if(err.response){var errorText=err.response.data.error;logger.error(errorText,err.response),helpers_default.a.UI.showSnackbar("Error: ".concat(errorText),!0)}else logger.error(err)})}},{key:"render",value:function(){var _this2=this,priority=this.props.priority;return react_default.a.createElement("div",{className:"edit-priority hide",style:{paddingTop:"2px"},ref:function(i){return _this2.editPriorityRef=i}},react_default.a.createElement("form",{onSubmit:function(e){return _this2.onSubmitEditPriority(e,priority)}},react_default.a.createElement("div",{className:"uk-grid uk-grid-collapse uk-clearfix"},react_default.a.createElement("div",{className:"uk-width-1-4"},react_default.a.createElement("label",null,"Priority Name"),react_default.a.createElement("input",{name:"name",type:"text",className:"md-input",defaultValue:priority.get("name")})),react_default.a.createElement("div",{className:"uk-width-1-4 uk-padding-small-sides"},react_default.a.createElement("label",null,"SLA Overdue (minutes)"),react_default.a.createElement("input",{name:"overdueIn",type:"text",className:"md-input",defaultValue:priority.get("overdueIn")})),react_default.a.createElement("div",{className:"uk-width-1-4 uk-padding-small-sides"},react_default.a.createElement(components_ColorSelector,{inputName:"htmlColor",defaultColor:priority.get("htmlColor"),hideRevert:!0,validationEnabled:!0})),react_default.a.createElement("div",{className:"uk-width-1-4"},react_default.a.createElement("div",{className:"md-btn-group uk-float-right uk-text-right mt-5"},react_default.a.createElement(components_Button,{small:!0,text:"Cancel",onClick:function(){return _this2.toggleEditPriority()}}),react_default.a.createElement(components_Button,{text:"Save",small:!0,style:"success",type:"submit"}))))))}}])&&editPriorityPartial_defineProperties(Constructor.prototype,protoProps),staticProps&&editPriorityPartial_defineProperties(Constructor,staticProps),EditPriorityPartial}();editPriorityPartial_EditPriorityPartial.propTypes={priority:prop_types_default.a.object.isRequired,fetchSettings:prop_types_default.a.func.isRequired};var editPriorityPartial=Object(es.b)(null,{fetchSettings:settings_fetchSettings})(editPriorityPartial_EditPriorityPartial);function ticketTypeBody_typeof(obj){return(ticketTypeBody_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ticketTypeBody_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ticketTypeBody_possibleConstructorReturn(self,call){return!call||"object"!==ticketTypeBody_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ticketTypeBody_getPrototypeOf(o){return(ticketTypeBody_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ticketTypeBody_setPrototypeOf(o,p){return(ticketTypeBody_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var ticketTypeBody_TicketTypeBody=function(_React$Component){function TicketTypeBody(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TicketTypeBody),(_this=ticketTypeBody_possibleConstructorReturn(this,ticketTypeBody_getPrototypeOf(TicketTypeBody).call(this,props))).prioritiesRef={},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ticketTypeBody_setPrototypeOf(subClass,superClass)}(TicketTypeBody,react_default.a.Component),Constructor=TicketTypeBody,(protoProps=[{key:"componentDidMount",value:function(){helpers_default.a.UI.inputs()}},{key:"handleTypeRename",value:function(event){var _this2=this;event.preventDefault();var name=event.target.name.value;client_api.tickets.renameTicketType(this.props.type.get("_id"),name).then(function(response){response.success&&helpers_default.a.UI.showSnackbar("Type Updated Successfully"),_this2.props.fetchSettings()}).catch(function(err){helpers_default.a.UI.showSnackbar(err,!0)})}},{key:"onAddPriorityClick",value:function(e,type){this.props.showModal("ADD_PRIORITY_TO_TYPE",{type})}},{key:"toggleEditPriority",value:function(e,k){var obj=this.prioritiesRef[k],$v=jquery_default()(obj).find(".view-priority"),$e=jquery_default()(obj).find(".edit-priority");$v&&$e&&($v.toggleClass("hide"),$e.toggleClass("hide"))}},{key:"onRemoveTicketTypePriorityClicked",value:function(e,priorityId){var _this3=this;e.preventDefault(),client_api.tickets.removePriorityFromType({typeId:this.props.type.get("_id"),priority:priorityId}).then(function(){helpers_default.a.UI.showSnackbar("Priority removed from type: ".concat(_this3.props.type.get("name"))),_this3.props.fetchSettings()}).catch(function(error){if(error.response){var errorText=error.response.data.error;logger.error(errorText,error.response),helpers_default.a.UI.showSnackbar("Error: ".concat(errorText),!0)}else logger.error(error)})}},{key:"showDeleteTicketTypeModal",value:function(e,type){this.props.showModal("DELETE_TICKET_TYPE",{type})}},{key:"render",value:function(){var _this4=this,type=this.props.type;return react_default.a.createElement("div",null,react_default.a.createElement("div",{className:"ticket-type-general-wrapper"},react_default.a.createElement("h2",{className:"text-light"},"General"),react_default.a.createElement("hr",{style:{margin:"5px 0 25px 0"}}),react_default.a.createElement("form",{onSubmit:function(e){_this4.handleTypeRename(e)}},react_default.a.createElement("div",{className:"uk-input-group"},react_default.a.createElement("label",{htmlFor:"ticket-type-name"},"Type Name"),react_default.a.createElement("input",{name:"name",type:"text",className:"md-input",defaultValue:type.get("name")}),react_default.a.createElement("div",{className:"uk-input-group-addon"},react_default.a.createElement("button",{type:"submit",className:"md-btn md-btn-small"},"Rename"))))),react_default.a.createElement("div",{className:"ticket-type-priorities-wrapper uk-margin-medium-top"},react_default.a.createElement("h2",{className:"text-light uk-display-inline-block"},"Priorities",react_default.a.createElement("i",{className:"material-icons",style:{color:"#888",fontSize:"16px",cursor:"pointer",lineHeight:"18px",marginLeft:"5px"},"data-uk-tooltip":"{cls:'long-text'}",title:"Priorities linked to this type. <br /> Editing a priority will update all types linked."},"help")),react_default.a.createElement("div",{className:"uk-float-right"},react_default.a.createElement(components_Button,{text:"Add",style:"success",flat:!0,waves:!0,onClick:function(e){return _this4.onAddPriorityClick(e,type)}})),react_default.a.createElement("hr",{style:{margin:"5px 0 25px 0"}}),react_default.a.createElement("div",{className:"priority-loop zone"},type.get("priorities").map(function(item){return react_default.a.createElement("div",{key:item.get("_id"),ref:function(i){return _this4.prioritiesRef[item.get("_id")]=i},className:"z-box uk-clearfix"},react_default.a.createElement("div",{className:"view-priority uk-clearfix"},react_default.a.createElement(Settings_SettingSubItem,{title:item.get("name"),titleCss:{color:item.get("htmlColor")},subtitle:react_default.a.createElement("div",null,"SLA Overdue: ",react_default.a.createElement("strong",null,item.get("durationFormatted"))),component:react_default.a.createElement(components_ButtonGroup,{classNames:"uk-float-right"},react_default.a.createElement(components_Button,{text:"Edit",small:!0,onClick:function(e){return _this4.toggleEditPriority(e,item.get("_id"))}}),react_default.a.createElement(components_Button,{text:"Remove",small:!0,style:"danger",onClick:function(e){return _this4.onRemoveTicketTypePriorityClicked(e,item.get("_id"))}}))})),react_default.a.createElement(editPriorityPartial,{priority:item}))}))),react_default.a.createElement("div",{className:"uk-margin-large-top"},react_default.a.createElement("h2",{className:"text-light"},"Danger Zone"),react_default.a.createElement("div",{className:"danger-zone"},react_default.a.createElement("div",{className:"dz-box uk-clearfix"},react_default.a.createElement("div",{className:"uk-float-left"},react_default.a.createElement("h5",null,"Delete this type"),react_default.a.createElement("p",null,"Once you delete a ticket type, there is no going back. Please be certain.")),react_default.a.createElement("div",{className:"uk-float-right",style:{paddingTop:"10px"}},react_default.a.createElement(components_Button,{text:"Delete",small:!0,style:"danger",onClick:function(e){return _this4.showDeleteTicketTypeModal(e,type)}}))))))}}])&&ticketTypeBody_defineProperties(Constructor.prototype,protoProps),staticProps&&ticketTypeBody_defineProperties(Constructor,staticProps),TicketTypeBody}();ticketTypeBody_TicketTypeBody.propTypes={type:prop_types_default.a.object.isRequired,updatePriority:prop_types_default.a.func.isRequired,fetchSettings:prop_types_default.a.func.isRequired,showModal:prop_types_default.a.func.isRequired};var ticketTypeBody=Object(es.b)(null,{updatePriority:tickets_updatePriority,fetchSettings:settings_fetchSettings,showModal})(ticketTypeBody_TicketTypeBody);function Tickets_typeof(obj){return(Tickets_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Tickets_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Tickets_getPrototypeOf(o){return(Tickets_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Tickets_setPrototypeOf(o,p){return(Tickets_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function Tickets_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Tickets_TicketsSettings=function(_React$Component){function TicketsSettings(props){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TicketsSettings),self=this,(_this=!(call=Tickets_getPrototypeOf(TicketsSettings).call(this,props))||"object"!==Tickets_typeof(call)&&"function"!=typeof call?Tickets_assertThisInitialized(self):call).getTicketTags=_this.getTicketTags.bind(Tickets_assertThisInitialized(Tickets_assertThisInitialized(_this))),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Tickets_setPrototypeOf(subClass,superClass)}(TicketsSettings,react_default.a.Component),Constructor=TicketsSettings,staticProps=[{key:"toggleEditPriority",value:function(e){var $parent=jquery_default()(e.target).parents(".priority-wrapper"),$v=$parent.find(".view-priority"),$e=$parent.find(".edit-priority");$v&&$e&&($v.toggleClass("hide"),$e.toggleClass("hide"))}},{key:"toggleEditTag",value:function(e){var $parent=jquery_default()(e.target).parents(".tag-wrapper"),$v=$parent.find(".view-tag"),$e=$parent.find(".edit-tag");$v&&$e&&($v.toggleClass("hide"),$e.toggleClass("hide"))}}],(protoProps=[{key:"componentDidMount",value:function(){this.getTicketTags(null,0);var $tagPagination=jquery_default()("#tagPagination");this.tagsPagination=uikit_combined_min_default.a.pagination($tagPagination,{items:this.props.tagsSettings.totalCount?this.props.tagsSettings.totalCount:0,itemsOnPage:16}),$tagPagination.on("select.uk.pagination",this.getTicketTags)}},{key:"componentDidUpdate",value:function(prevProps){prevProps.tagsSettings.totalCount!==this.props.tagsSettings.totalCount&&(this.tagsPagination.pages=Math.ceil(this.props.tagsSettings.totalCount/16)?Math.ceil(this.props.tagsSettings.totalCount/16):1,this.tagsPagination.render(),this.tagsPagination.currentPage>this.tagsPagination.pages-1&&this.tagsPagination.selectPage(this.tagsPagination.pages-1))}},{key:"getSetting",value:function(name){return this.props.settings.getIn(["settings",name,"value"])?this.props.settings.getIn(["settings",name,"value"]):""}},{key:"getTicketTypes",value:function(){return this.props.settings&&this.props.settings.get("ticketTypes")?this.props.settings.get("ticketTypes").toArray():[]}},{key:"getPriorities",value:function(){return this.props.settings&&this.props.settings.get("priorities")?this.props.settings.get("priorities").toArray():[]}},{key:"getTicketTags",value:function(e,page){e&&e.preventDefault(),this.props.tagsUpdateCurrentPage(page),this.props.getTagsWithPage({limit:16,page})}},{key:"onDefaultTicketTypeChange",value:function(e){this.props.updateSetting({name:"ticket:type:default",value:e.target.value,stateName:"defaultTicketType"})}},{key:"onAllowPublicTicketsChange",value:function(e){this.props.updateSetting({name:"allowPublicTickets:enable",value:e.target.checked,stateName:"allowPublicTickets",noSnackbar:!0})}},{key:"onShowOverdueChange",value:function(e){this.props.updateSetting({name:"showOverdueTickets:enable",value:e.target.checked,stateName:"showOverdueTickets",noSnackbar:!0})}},{key:"showModal",value:function(e,modal,props){e.preventDefault(),this.props.showModal(modal,props)}},{key:"onRemovePriorityClicked",value:function(e,priority){e.preventDefault(),this.props.showModal("DELETE_PRIORITY",{priority})}},{key:"onSubmitUpdateTag",value:function(e,tagId){var _this2=this;e.preventDefault(),e.persist();var name=e.target.name.value;if(name.length<2)return helpers_default.a.UI.showSnackbar("Invalid Tag Name",!0);axios_default.a.put("/api/v1/tags/".concat(tagId),{name}).then(function(res){TicketsSettings.toggleEditTag(e),helpers_default.a.UI.showSnackbar("Tag: ".concat(res.data.tag.name," updated successfully")),_this2.getTicketTags(null,_this2.tagsPagination.currentPage)}).catch(function(err){if(!err.response)return logger.error(err);var errorText=err.response.data.error;logger.error(errorText,err.response),helpers_default.a.UI.showSnackbar("Error: ".concat(errorText),!0)})}},{key:"onRemoveTagClicked",value:function(e,tag){var _this3=this;uikit_combined_min_default.a.modal.confirm("Really delete tag <strong>".concat(tag.get(),'</strong><br />\n        <i style="font-size: 13px; color: #e53935">This will remove the tag from all associated tickets.</i>'),function(){axios_default.a.delete("/api/v1/tags/".concat(tag.get("_id"))).then(function(res){res.data.success&&(helpers_default.a.UI.showSnackbar("Successfully removed tag: ".concat(tag.get("name"))),_this3.getTicketTags(null,_this3.tagsPagination.currentPage))}).catch(function(error){var errorText=error.response.data.error;helpers_default.a.UI.showSnackbar("Error: ".concat(errorText),!0),logger.error(errorText,error.response)})},{labels:{Ok:"Yes",Cancel:"No"},confirmButtonClass:"md-btn-danger"})}},{key:"render",value:function(){var _this4=this,_this$props=this.props,active=_this$props.active,viewdata=_this$props.viewdata,mappedTypes=this.getTicketTypes().map(function(type){return{text:type.get("name"),value:type.get("_id")}});return react_default.a.createElement("div",{className:active?"active":"hide"},react_default.a.createElement(Settings_SettingItem,{title:"Default Ticket Type",subtitle:"Default ticket type for newly created tickets.",component:react_default.a.createElement(components_SingleSelect,{items:mappedTypes,defaultValue:this.getSetting("defaultTicketType"),onSelectChange:function(e){_this4.onDefaultTicketTypeChange(e)},width:"50%",showTextbox:!1})}),react_default.a.createElement(Settings_SettingItem,{title:"Allow Public Tickets",subtitle:react_default.a.createElement("div",null,"Allow the creation of tickets by users that are unregistered. (",react_default.a.createElement("a",{href:viewdata.hosturl+"/newissue"},viewdata.hosturl+"/newissue"),")"),component:react_default.a.createElement(Settings_EnableSwitch,{stateName:"allowPublicTickets",label:"Enable",checked:this.getSetting("allowPublicTickets"),onChange:function(e){_this4.onAllowPublicTicketsChange(e)}})}),react_default.a.createElement(Settings_SettingItem,{title:"Show Overdue Tickets",subtitle:"Enable/Disable flashing of tickets based on SLA time of type priority.",tooltip:"If disabled, priority SLA times will not mark tickets overdue.",component:react_default.a.createElement(Settings_EnableSwitch,{stateName:"showOverdueTickets",label:"Enable",checked:this.getSetting("showOverdueTickets"),onChange:function(e){_this4.onShowOverdueChange(e)}})}),react_default.a.createElement(Settings_SettingItem,{title:"Minimum Subject Length",subtitle:"Minimum character limit for ticket subject",component:react_default.a.createElement(Settings_NumberWithSave,{stateName:"minSubjectLength",settingName:"ticket:minlength:subject",value:this.getSetting("minSubjectLength"),width:"40%"})}),react_default.a.createElement(Settings_SettingItem,{title:"Minimum Issue Length",subtitle:"Minimum character limit for ticket issue",component:react_default.a.createElement(Settings_NumberWithSave,{stateName:"minIssueLength",settingName:"ticket:minlength:issue",value:this.getSetting("minIssueLength"),width:"40%"})}),react_default.a.createElement(Settings_SplitSettingsPanel,{title:"Ticket Types",subtitle:"Create/Modify Ticket Types",rightComponent:react_default.a.createElement(components_Button,{text:"Create",style:"success",flat:!0,extraClass:"md-btn-wave",onClick:function(e){_this4.showModal(e,"CREATE_TICKET_TYPE")}}),menuItems:this.getTicketTypes().map(function(type){return{key:type.get("_id"),title:type.get("name"),bodyComponent:react_default.a.createElement(ticketTypeBody,{type})}})}),react_default.a.createElement(Settings_SettingItem,{title:"Ticket Priorities",subtitle:"Ticket priorities set the level of SLAs for each ticket.",component:react_default.a.createElement(components_Button,{text:"Create",style:"success",flat:!0,waves:!0,extraClass:"mt-10 right",onClick:function(e){return _this4.showModal(e,"CREATE_PRIORITY")}})},react_default.a.createElement(zone,null,this.getPriorities().map(function(p){var disableRemove=!!p.get("default")&&p.get("default");return react_default.a.createElement(components_ZoneBox,{key:p.get("_id"),extraClass:"priority-wrapper"},react_default.a.createElement(Settings_SettingSubItem,{parentClass:"view-priority",title:p.get("name"),titleCss:{color:p.get("htmlColor")},subtitle:react_default.a.createElement("div",null,"SLA Overdue: ",react_default.a.createElement("strong",null,p.get("durationFormatted"))),component:react_default.a.createElement(components_ButtonGroup,{classNames:"uk-float-right"},react_default.a.createElement(components_Button,{text:"Edit",small:!0,onClick:function(e){return TicketsSettings.toggleEditPriority(e)}}),react_default.a.createElement(components_Button,{text:"Remove",small:!0,style:"danger",disabled:disableRemove,onClick:function(e){return _this4.onRemovePriorityClicked(e,p)}}))}),react_default.a.createElement(editPriorityPartial,{priority:p}))}))),react_default.a.createElement(Settings_SettingItem,{title:"Ticket Tags",subtitle:"Create/Modify Ticket Tags",component:react_default.a.createElement(components_Button,{text:"Create",style:"success",flat:!0,waves:!0,extraClass:"mt-10 right",onClick:function(e){return _this4.showModal(e,"CREATE_TAG",{page:"settings",currentPage:_this4.props.tagsSettings.currentPage})}}),footer:react_default.a.createElement("ul",{id:"tagPagination",className:"uk-pagination"})},react_default.a.createElement(components_Grid,{extraClass:"zone uk-margin-medium-bottom"},this.props.tagsSettings.tags.size<1&&react_default.a.createElement("div",{style:{width:"100%",padding:"55px",textAlign:"center"}},react_default.a.createElement("h3",{style:{fontSize:"24px",fontWeight:"300"}},"No Tags Found")),react_default.a.createElement(components_SpinLoader,{active:this.props.tagsSettings.loading,extraClass:"panel-bg"}),this.props.tagsSettings.tags.map(function(i){return react_default.a.createElement(Grid_GridItem,{width:"1-2",key:i.get("_id"),extraClass:"tag-wrapper br bb"},react_default.a.createElement(components_Grid,{extraClass:"view-tag"},react_default.a.createElement(Grid_GridItem,{width:"1-1"},react_default.a.createElement(components_ZoneBox,null,react_default.a.createElement(components_Grid,null,react_default.a.createElement(Grid_GridItem,{width:"1-2"},react_default.a.createElement("h5",{style:{fontSize:"16px",lineHeight:"31px",margin:0,padding:0,fontWeight:300}},i.get("name"))),react_default.a.createElement(Grid_GridItem,{width:"1-2",extraClass:"uk-text-right"},react_default.a.createElement(components_ButtonGroup,{classNames:"mt-5"},react_default.a.createElement(components_Button,{text:"edit",flat:!0,waves:!0,small:!0,onClick:function(e){return TicketsSettings.toggleEditTag(e)}}),react_default.a.createElement(components_Button,{text:"remove",flat:!0,waves:!0,style:"danger",small:!0,onClick:function(e){return _this4.onRemoveTagClicked(e,i)}}))))))),react_default.a.createElement(components_Grid,{extraClass:"edit-tag z-box uk-clearfix nbt hide",style:{paddingTop:"5px"}},react_default.a.createElement(Grid_GridItem,{width:"1-1"},react_default.a.createElement("form",{onSubmit:function(e){return _this4.onSubmitUpdateTag(e,i.get("_id"))}},react_default.a.createElement(components_Grid,null,react_default.a.createElement(Grid_GridItem,{width:"2-3"},react_default.a.createElement("input",{type:"text",className:"md-input",name:"name",defaultValue:i.get("name")})),react_default.a.createElement(Grid_GridItem,{width:"1-3",style:{paddingTop:"10px"}},react_default.a.createElement(components_ButtonGroup,{classNames:"uk-float-right uk-text-right"},react_default.a.createElement(components_Button,{text:"cancel",flat:!0,waves:!0,small:!0,onClick:function(e){return TicketsSettings.toggleEditTag(e)}}),react_default.a.createElement(components_Button,{type:"submit",text:"save",flat:!0,waves:!0,small:!0,style:"success"}))))))))}))))}}])&&Tickets_defineProperties(Constructor.prototype,protoProps),staticProps&&Tickets_defineProperties(Constructor,staticProps),TicketsSettings}();Tickets_TicketsSettings.propTypes={active:prop_types_default.a.bool.isRequired,viewdata:prop_types_default.a.object.isRequired,settings:prop_types_default.a.object.isRequired,tagsSettings:prop_types_default.a.object.isRequired,updateSetting:prop_types_default.a.func.isRequired,getTagsWithPage:prop_types_default.a.func.isRequired,tagsUpdateCurrentPage:prop_types_default.a.func.isRequired,showModal:prop_types_default.a.func.isRequired};var Tickets=Object(es.b)(function(state){return{viewdata:state.common,settings:state.settings.settings,tagsSettings:state.tagsSettings}},{updateSetting:settings_updateSetting,getTagsWithPage:tickets_getTagsWithPage,tagsUpdateCurrentPage,showModal})(Tickets_TicketsSettings);function mailer_typeof(obj){return(mailer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function mailer_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function mailer_possibleConstructorReturn(self,call){return!call||"object"!==mailer_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function mailer_getPrototypeOf(o){return(mailer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function mailer_setPrototypeOf(o,p){return(mailer_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var mailer_MailerSettings_Mailer=function(_React$Component){function MailerSettings_Mailer(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MailerSettings_Mailer),(_this=mailer_possibleConstructorReturn(this,mailer_getPrototypeOf(MailerSettings_Mailer).call(this,props))).state={mailerSSL:"",mailerHost:"",mailerPort:"",mailerUsername:"",mailerPassword:"",mailerFrom:""},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&mailer_setPrototypeOf(subClass,superClass)}(MailerSettings_Mailer,react_default.a.Component),Constructor=MailerSettings_Mailer,staticProps=[{key:"getDerivedStateFromProps",value:function(nextProps,state){if(nextProps.settings){var stateObj=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}({},state);return""===state.mailerSSL&&(stateObj.mailerSSL=nextProps.settings.getIn(["settings","mailerSSL","value"])||""),state.mailerHost||(stateObj.mailerHost=nextProps.settings.getIn(["settings","mailerHost","value"])||""),state.mailerPort||(stateObj.mailerPort=nextProps.settings.getIn(["settings","mailerPort","value"])||""),state.mailerUsername||(stateObj.mailerUsername=nextProps.settings.getIn(["settings","mailerUsername","value"])||""),state.mailerPassword||(stateObj.mailerPassword=nextProps.settings.getIn(["settings","mailerPassword","value"])||""),state.mailerFrom||(stateObj.mailerFrom=nextProps.settings.getIn(["settings","mailerFrom","value"])||""),stateObj}return null}}],(protoProps=[{key:"componentDidMount",value:function(){helpers_default.a.UI.inputs()}},{key:"componentDidUpdate",value:function(){helpers_default.a.UI.reRenderInputs()}},{key:"getSetting",value:function(name){return this.props.settings.getIn(["settings",name,"value"])?this.props.settings.getIn(["settings",name,"value"]):""}},{key:"onEnableMailerChanged",value:function(e){this.props.updateSetting({name:"mailer:enable",stateName:"mailerEnabled",value:e.target.checked,noSnackbar:!0})}},{key:"onMailerSSLChanged",value:function(e){this.setState({mailerSSL:e.target.checked})}},{key:"onInputValueChanged",value:function(e,stateName){this.setState(_defineProperty({},stateName,e.target.value))}},{key:"onMailerSubmit",value:function(e){e.preventDefault();var mailSettings=[{name:"mailer:host",value:this.state.mailerHost},{name:"mailer:port",value:this.state.mailerPort},{name:"mailer:username",value:this.state.mailerUsername},{name:"mailer:password",value:this.state.mailerPassword},{name:"mailer:from",value:this.state.mailerFrom},{name:"mailer:ssl",value:this.state.mailerSSL}];this.props.updateMultipleSettings(mailSettings)}},{key:"testMailerSettings",value:function(e){e.preventDefault(),helpers_default.a.UI.showSnackbar("Testing..."),axios_default.a.post("/api/v1/settings/testmailer",{}).then(function(){helpers_default.a.UI.showSnackbar("Successfully Connected")}).catch(function(err){if(!err.response)return logger.error(err);helpers_default.a.UI.showSnackbar("Connection Failed. Did you apply settings?",!0),logger.error(err.response.data.error,err.response)})}},{key:"render",value:function(){var _this2=this;return react_default.a.createElement(Settings_SettingItem,{title:"Mailer",subtitle:"Preferences for trudesk to send email notifications to users.",component:react_default.a.createElement(Settings_EnableSwitch,{stateName:"mailerEnabled",label:"Enabled",onChange:function(e){return _this2.onEnableMailerChanged(e)},checked:this.getSetting("mailerEnabled")})},react_default.a.createElement("form",{onSubmit:function(e){return _this2.onMailerSubmit(e)}},react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("div",{className:"uk-right"},react_default.a.createElement(Settings_EnableSwitch,{stateName:"mailerSSL",label:"Use SSLv3",style:{position:"absolute",top:"5px",right:"-5px",zIndex:"99",margin:"0"},checked:this.state.mailerSSL,disabled:!this.getSetting("mailerEnabled"),onChange:function(e){return _this2.onMailerSSLChanged(e)}})),react_default.a.createElement("label",null,"Mail Server"),react_default.a.createElement("input",{type:"text",className:"md-input md-input-width-medium",name:"mailerHost",disabled:!this.getSetting("mailerEnabled"),value:this.state.mailerHost,onChange:function(e){return _this2.onInputValueChanged(e,"mailerHost")}})),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",null,"Port"),react_default.a.createElement("input",{type:"text",className:"md-input md-input-width-medium",name:"mailerPort",disabled:!this.getSetting("mailerEnabled"),value:this.state.mailerPort,onChange:function(e){return _this2.onInputValueChanged(e,"mailerPort")}})),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",null,"Auth Username"),react_default.a.createElement("input",{type:"text",className:"md-input md-input-width-medium",name:"mailerUsername",disabled:!this.getSetting("mailerEnabled"),value:this.state.mailerUsername,onChange:function(e){return _this2.onInputValueChanged(e,"mailerUsername")}})),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",null,"Auth Password"),react_default.a.createElement("input",{type:"password",className:"md-input md-input-width-medium",name:"mailerPassword",disabled:!this.getSetting("mailerEnabled"),value:this.state.mailerPassword,onChange:function(e){return _this2.onInputValueChanged(e,"mailerPassword")}})),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",null,"From Address"),react_default.a.createElement("input",{type:"text",className:"md-input md-input-width-medium",name:"mailerFrom",disabled:!this.getSetting("mailerEnabled"),value:this.state.mailerFrom,onChange:function(e){return _this2.onInputValueChanged(e,"mailerFrom")}})),react_default.a.createElement("div",{className:"uk-clearfix"},react_default.a.createElement(components_Button,{text:"Test Settings",type:"button",flat:!0,waves:!0,style:"primary",extraClass:"uk-float-left",disabled:!this.getSetting("mailerEnabled"),onClick:function(e){return _this2.testMailerSettings(e)}}),react_default.a.createElement(components_Button,{text:"Apply",type:"submit",style:"success",extraClass:"uk-float-right",disabled:!this.getSetting("mailerEnabled"),waves:!0,flat:!0}))))}}])&&mailer_defineProperties(Constructor.prototype,protoProps),staticProps&&mailer_defineProperties(Constructor,staticProps),MailerSettings_Mailer}();mailer_MailerSettings_Mailer.propTypes={settings:prop_types_default.a.object.isRequired,updateSetting:prop_types_default.a.func.isRequired,updateMultipleSettings:prop_types_default.a.func.isRequired};var mailer=Object(es.b)(function(state){return{settings:state.settings.settings}},{updateSetting:settings_updateSetting,updateMultipleSettings:settings_updateMultipleSettings})(mailer_MailerSettings_Mailer);function mailerCheck_typeof(obj){return(mailerCheck_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function mailerCheck_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function mailerCheck_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function mailerCheck_possibleConstructorReturn(self,call){return!call||"object"!==mailerCheck_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function mailerCheck_getPrototypeOf(o){return(mailerCheck_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function mailerCheck_setPrototypeOf(o,p){return(mailerCheck_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var mailerCheck_Mailer_MailerCheck=function(_React$Component){function Mailer_MailerCheck(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Mailer_MailerCheck),(_this=mailerCheck_possibleConstructorReturn(this,mailerCheck_getPrototypeOf(Mailer_MailerCheck).call(this,props))).state={mailerCheckHost:"",mailerCheckPort:"",mailerCheckUsername:"",mailerCheckPassword:"",mailerCheckPolling:"",mailerCheckCreateAccount:"",mailerCheckDeleteMessage:"",mailerCheckTicketType:"",mailerCheckTicketPriority:"",typePriorities:[]},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&mailerCheck_setPrototypeOf(subClass,superClass)}(Mailer_MailerCheck,react_default.a.Component),Constructor=Mailer_MailerCheck,staticProps=[{key:"getDerivedStateFromProps",value:function(nextProps,state){if(nextProps.settings){var stateObj=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){mailerCheck_defineProperty(target,key,source[key])})}return target}({},state);return state.mailerCheckHost||(stateObj.mailerCheckHost=nextProps.settings.getIn(["settings","mailerCheckHost","value"])||""),state.mailerCheckPort||(stateObj.mailerCheckPort=nextProps.settings.getIn(["settings","mailerCheckPort","value"])||""),state.mailerCheckUsername||(stateObj.mailerCheckUsername=nextProps.settings.getIn(["settings","mailerCheckUsername","value"])||""),state.mailerCheckPassword||(stateObj.mailerCheckPassword=nextProps.settings.getIn(["settings","mailerCheckPassword","value"])||""),""===state.mailerCheckPolling&&(stateObj.mailerCheckPolling=parseInt(nextProps.settings.getIn(["settings","mailerCheckPolling","value"]))/6e4||""),""===state.mailerCheckCreateAccount&&(stateObj.mailerCheckCreateAccount=nextProps.settings.getIn(["settings","mailerCheckCreateAccount","value"])||""),""===state.mailerCheckDeleteMessage&&(stateObj.mailerCheckDeleteMessage=nextProps.settings.getIn(["settings","mailerCheckDeleteMessage","value"])||""),state.mailerCheckTicketType||(stateObj.mailerCheckTicketType=nextProps.settings.getIn(["settings","mailerCheckTicketType","value"])||""),stateObj.mailerCheckTicketType&&(stateObj.typePriorities=Mailer_MailerCheck.getTypePriorities(nextProps.settings.get("ticketTypes"),stateObj.mailerCheckTicketType)),state.mailerCheckTicketPriority||(stateObj.mailerCheckTicketPriority=nextProps.settings.getIn(["settings","mailerCheckTicketPriority","value"])||""),stateObj}return null}},{key:"getTypePriorities",value:function(ticketTypes,typeId){return ticketTypes||typeId?ticketTypes.filter(function(item){return item.get("_id")===typeId}).first().get("priorities").map(function(p){return{text:p.get("name"),value:p.get("_id")}}).toArray():[]}}],(protoProps=[{key:"componentDidMount",value:function(){helpers_default.a.UI.inputs()}},{key:"componentDidUpdate",value:function(){helpers_default.a.UI.reRenderInputs()}},{key:"getSetting",value:function(stateName){return this.props.settings.getIn(["settings",stateName,"value"])?this.props.settings.getIn(["settings",stateName,"value"]):""}},{key:"getTicketTypes",value:function(){return this.props.settings.get("ticketTypes")?this.props.settings.get("ticketTypes").toArray():[]}},{key:"onFormSubmit",value:function(e){e.preventDefault();var mailCheckSettings=[{name:"mailer:check:polling",value:6e4*this.state.mailerCheckPolling},{name:"mailer:check:host",value:this.state.mailerCheckHost},{name:"mailer:check:port",value:this.state.mailerCheckPort},{name:"mailer:check:username",value:this.state.mailerCheckUsername},{name:"mailer:check:password",value:this.state.mailerCheckPassword},{name:"mailer:check:ticketype",value:this.state.mailerCheckTicketType},{name:"mailer:check:ticketpriority",value:this.state.mailerCheckTicketPriority},{name:"mailer:check:createaccount",value:this.state.mailerCheckCreateAccount},{name:"mailer:check:deletemessage",value:this.state.mailerCheckDeleteMessage}];this.props.updateMultipleSettings(mailCheckSettings)}},{key:"onEnableMailerCheckChanged",value:function(e){this.props.updateSetting({name:"mailer:check:enable",stateName:"mailerCheckEnabled",value:e.target.checked,noSnackbar:!0}).then(function(){uikit_combined_min_default.a.modal.confirm("Setting will take affect after server restart. <br /><br />Would you like to restart the server now?",function(){axios_default.a.get("/api/v1/admin/restart").catch(function(error){helpers_default.a.hideLoader(),logger.error(error.response),logger.error("Unable to restart server. Server must run under PM2 and Account must have admin rights."),helpers_default.a.UI.showSnackbar("Unable to restart server. Are you an Administrator?",!0)})},{labels:{Ok:"Yes",Cancel:"No"},confirmButtonClass:"md-btn-primary"})})}},{key:"onInputValueChanged",value:function(e,stateName){this.setState(mailerCheck_defineProperty({},stateName,e.target.value))}},{key:"onPollingChanged",value:function(e){this.setState({mailerCheckPolling:e.target.value})}},{key:"onCheckboxChanged",value:function(e,stateName){this.setState(mailerCheck_defineProperty({},stateName,e.target.checked))}},{key:"onTicketTypeSelectChanged",value:function(e){this.setState({mailerCheckTicketType:e.target.value,typePriorities:Mailer_MailerCheck.getTypePriorities(this.props.settings.get("ticketTypes"),e.target.value)})}},{key:"onSingleSelectChanged",value:function(e,stateName){this.setState(mailerCheck_defineProperty({},stateName,e.target.value))}},{key:"render",value:function(){var _this2=this,mappedTicketTypes=this.getTicketTypes().map(function(type){return{text:type.get("name"),value:type.get("_id")}});return react_default.a.createElement(Settings_SettingItem,{title:"Mailer Check",subtitle:react_default.a.createElement("div",null,"Poll an IMAP mailbox for messages to convert to tickets - ",react_default.a.createElement("i",null,"Settings are applied after server restart")),component:react_default.a.createElement(Settings_EnableSwitch,{stateName:"mailerCheckEnabled",label:"Enabled",checked:this.getSetting("mailerCheckEnabled"),onChange:function(e){return _this2.onEnableMailerCheckChanged(e)}})},react_default.a.createElement("div",null,react_default.a.createElement("form",{onSubmit:function(e){return _this2.onFormSubmit(e)}},react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",null,"Mail Server"),react_default.a.createElement("input",{type:"text",className:"md-input md-input-width-medium",name:"mailerCheckHost",value:this.state.mailerCheckHost,onChange:function(e){return _this2.onInputValueChanged(e,"mailerCheckHost")},disabled:!this.getSetting("mailerCheckEnabled")})),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",null,"Port"),react_default.a.createElement("input",{type:"text",className:"md-input md-input-width-medium",name:"mailerCheckPort",value:this.state.mailerCheckPort,onChange:function(e){return _this2.onInputValueChanged(e,"mailerCheckPort")},disabled:!this.getSetting("mailerCheckEnabled")})),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",null,"Username"),react_default.a.createElement("input",{type:"text",className:"md-input md-input-width-medium",name:"mailerCheckUsername",value:this.state.mailerCheckUsername,onChange:function(e){return _this2.onInputValueChanged(e,"mailerCheckUsername")},disabled:!this.getSetting("mailerCheckEnabled")})),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",null,"Password"),react_default.a.createElement("input",{type:"password",className:"md-input md-input-width-medium",name:"mailerCheckPassword",value:this.state.mailerCheckPassword,onChange:function(e){return _this2.onInputValueChanged(e,"mailerCheckPassword")},disabled:!this.getSetting("mailerCheckEnabled")})),react_default.a.createElement("div",{className:"uk-clearfix uk-margin-medium-bottom"},react_default.a.createElement("div",{className:"uk-float-left"},react_default.a.createElement("h6",{style:{padding:0,margin:"5px 0 0 0",fontSize:"16px",lineHeight:"14px"}},"Polling Interval",react_default.a.createElement("i",{className:"material-icons",style:{color:"#888",fontSize:"16px",cursor:"pointer",lineHeight:"20px",marginLeft:"5px"},"data-uk-tooltip":"{cls:'long-text'}",title:"Caution: Polling too often can cause hight CPU usage"},"error")),react_default.a.createElement("h5",{style:{padding:"0 0 10px 0",margin:"2px 0 0 0",fontSize:"12px"},className:"uk-text-muted"},"How often to poll the server for new messages (Minutes)")),react_default.a.createElement("div",{className:"uk-float-right",style:{position:"relative"}},react_default.a.createElement("div",{className:"uk-float-left",style:{width:"90px",paddingRight:"10px"}},react_default.a.createElement("input",{type:"number",className:"md-input md-input-width-small",name:"mailerCheckPolling",disabled:!this.getSetting("mailerCheckEnabled"),value:this.state.mailerCheckPolling,onChange:function(e){return _this2.onPollingChanged(e)}}))),react_default.a.createElement("hr",{style:{float:"left",marginTop:"10px"}})),react_default.a.createElement("div",{className:"uk-clearfix uk-margin-medium-bottom"},react_default.a.createElement("div",{className:"uk-float-left"},react_default.a.createElement("h6",{style:{padding:0,margin:"5px 0 0 0",fontSize:"16px",lineHeight:"14px"}},"Create Account"),react_default.a.createElement("h5",{style:{padding:"0 0 10px 0",margin:"2px 0 0 0",fontSize:"12px"},className:"uk-text-muted"},"Create a user account if account does not exist.")),react_default.a.createElement("div",{className:"uk-float-right"},react_default.a.createElement(Settings_EnableSwitch,{label:"Enable",stateName:"mailerCheckCreateAccount",checked:this.state.mailerCheckCreateAccount,onChange:function(e){return _this2.onCheckboxChanged(e,"mailerCheckCreateAccount")},disabled:!this.getSetting("mailerCheckEnabled")})),react_default.a.createElement("hr",{style:{float:"left",marginTop:"10px"}})),react_default.a.createElement("div",{className:"uk-clearfix uk-margin-medium-bottom"},react_default.a.createElement("div",{className:"uk-float-left"},react_default.a.createElement("h6",{style:{padding:0,margin:"5px 0 0 0",fontSize:"16px",lineHeight:"14px"}},"Delete Message"),react_default.a.createElement("h5",{style:{padding:"0 0 10px 0",margin:"2px 0 0 0",fontSize:"12px"},className:"uk-text-muted"},"Delete email message from INBOX once processed")),react_default.a.createElement("div",{className:"uk-float-right"},react_default.a.createElement(Settings_EnableSwitch,{label:"Enable",stateName:"mailerCheckDeleteMessage",checked:this.state.mailerCheckDeleteMessage,onChange:function(e){return _this2.onCheckboxChanged(e,"mailerCheckDeleteMessage")},disabled:!this.getSetting("mailerCheckEnabled")})),react_default.a.createElement("hr",{style:{float:"left",marginTop:"10px"}})),react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("label",null,"Default Ticket Type"),react_default.a.createElement(components_SingleSelect,{showTextbox:!1,width:"100%",items:mappedTicketTypes,defaultValue:this.state.mailerCheckTicketType,disabled:!this.getSetting("mailerCheckEnabled"),onSelectChange:function(e){return _this2.onTicketTypeSelectChanged(e)}})),react_default.a.createElement("div",{className:"uk-margin-medium-bottom uk-clearfix"},react_default.a.createElement("label",null,"Default Ticket Priority"),react_default.a.createElement(components_SingleSelect,{showTextbox:!1,width:"100%",items:this.state.typePriorities,defaultValue:this.state.mailerCheckTicketPriority,disabled:!this.getSetting("mailerCheckEnabled"),onSelectChange:function(e){return _this2.onSingleSelectChanged(e,"mailerCheckTicketPriority")}})),react_default.a.createElement("div",{className:"uk-clearfix"},react_default.a.createElement(components_Button,{text:"Apply",type:"submit",extraClass:"uk-float-right",flat:!0,waves:!0,style:"success",disabled:!this.getSetting("mailerCheckEnabled")})))))}}])&&mailerCheck_defineProperties(Constructor.prototype,protoProps),staticProps&&mailerCheck_defineProperties(Constructor,staticProps),Mailer_MailerCheck}();mailerCheck_Mailer_MailerCheck.propTypes={settings:prop_types_default.a.object.isRequired,updateSetting:prop_types_default.a.func.isRequired,updateMultipleSettings:prop_types_default.a.func.isRequired};var mailerSettingsTemplates_class,mailerSettingsTemplates_class2,mailerSettingsTemplates_descriptor,mailerSettingsTemplates_descriptor2,mailerCheck=Object(es.b)(function(state){return{settings:state.settings.settings}},{updateSetting:settings_updateSetting,updateMultipleSettings:settings_updateMultipleSettings})(mailerCheck_Mailer_MailerCheck);function mailerSettingsTemplates_typeof(obj){return(mailerSettingsTemplates_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function mailerSettingsTemplates_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function mailerSettingsTemplates_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function mailerSettingsTemplates_getPrototypeOf(o){return(mailerSettingsTemplates_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function mailerSettingsTemplates_setPrototypeOf(o,p){return(mailerSettingsTemplates_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function mailerSettingsTemplates_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function mailerSettingsTemplates_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var mailerSettingsTemplates_templateBody=function(_ref){var template=_ref.template,handleSaveSubject=_ref.handleSaveSubject,handleOpenEditor=_ref.handleOpenEditor;return react_default.a.createElement("div",null,react_default.a.createElement("h3",{className:"font-light mb-5"},"Template Description"),react_default.a.createElement("p",{className:"mb-10",style:{fontSize:"13px"}},template.description),react_default.a.createElement("hr",{className:"uk-margin-medium-bottom"}),react_default.a.createElement("form",{onSubmit:handleSaveSubject},react_default.a.createElement("input",{name:"id",type:"hidden",value:template._id}),react_default.a.createElement("div",{className:"uk-input-group"},react_default.a.createElement("div",{className:"md-input-wrapper"},react_default.a.createElement("label",null,"Mail Subject"),react_default.a.createElement("input",{name:"subject",type:"text",className:"md-input",defaultValue:template.subject})),react_default.a.createElement("span",{className:"uk-input-group-addon"},react_default.a.createElement(components_Button,{type:"submit",text:"Save",small:!0})))),react_default.a.createElement(zone,{extraClass:"uk-margin-medium-top"},react_default.a.createElement(components_ZoneBox,null,react_default.a.createElement("div",{className:"uk-float-left"},react_default.a.createElement("h6",{style:{margin:0,fontSize:"16px",lineHeight:"14px"}},"Edit Template"),react_default.a.createElement("h5",{className:"uk-text-muted",style:{margin:"2px 0 0 0",fontSize:"12px"}},"Customize template")),react_default.a.createElement("div",{className:"uk-float-right uk-width-1-3 uk-clearfix"},react_default.a.createElement("div",{className:"uk-width-1-1 uk-float-right",style:{textAlign:"right"}},react_default.a.createElement("button",{className:"md-btn md-btn-small right",style:{textTransform:"none"},onClick:handleOpenEditor},"Open Editor"))))))};mailerSettingsTemplates_templateBody.propTypes={template:prop_types_default.a.object.isRequired,handleSaveSubject:prop_types_default.a.func.isRequired,handleOpenEditor:prop_types_default.a.func.isRequired};var mailerSettingsTemplates_MailerSettings_Templates=Object(index_module.a)((mailerSettingsTemplates_descriptor=mailerSettingsTemplates_applyDecoratedDescriptor((mailerSettingsTemplates_class2=function(_React$Component){function MailerSettings_Templates(){var _getPrototypeOf2,_this,self,call;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MailerSettings_Templates);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return self=this,mailerSettingsTemplates_initializerDefineProperty(_this=!(call=(_getPrototypeOf2=mailerSettingsTemplates_getPrototypeOf(MailerSettings_Templates)).call.apply(_getPrototypeOf2,[this].concat(args)))||"object"!==mailerSettingsTemplates_typeof(call)&&"function"!=typeof call?mailerSettingsTemplates_assertThisInitialized(self):call,"betaEnabled",mailerSettingsTemplates_descriptor,mailerSettingsTemplates_assertThisInitialized(mailerSettingsTemplates_assertThisInitialized(_this))),mailerSettingsTemplates_initializerDefineProperty(_this,"templates",mailerSettingsTemplates_descriptor2,mailerSettingsTemplates_assertThisInitialized(mailerSettingsTemplates_assertThisInitialized(_this))),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&mailerSettingsTemplates_setPrototypeOf(subClass,superClass)}(MailerSettings_Templates,react_default.a.Component),Constructor=MailerSettings_Templates,staticProps=[{key:"onOpenEditor",value:function(e,name){e.preventDefault();var url="/settings/editor/".concat(name,"/");History.pushState(null,null,url)}}],(protoProps=[{key:"componentDidMount",value:function(){helpers_default.a.UI.inputs()}},{key:"componentDidUpdate",value:function(prevProps){helpers_default.a.UI.reRenderInputs(),prevProps.settings!==this.props.settings&&(this.betaEnabled!==this.getSetting("emailBeta")&&(this.betaEnabled=this.getSetting("emailBeta")),this.props.settings.get("mailTemplates").toArray()!==this.templates&&(this.templates=this.props.settings.get("mailTemplates").toArray()))}},{key:"getSetting",value:function(name){return void 0!==this.props.settings.getIn(["settings",name,"value"])?this.props.settings.getIn(["settings",name,"value"]):""}},{key:"onEmailBetaChange",value:function(e){var self=this,val=e.target.checked;this.props.updateSetting({name:"beta:email",value:val,stateName:"betaEmail",noSnackbar:!0}).then(function(){self.betaEnabled=val})}},{key:"onSaveSubject",value:function(e){e.preventDefault();var subject=e.target.subject;subject&&axios_default.a.put("/api/v1/settings/mailer/template/".concat(e.target.id.value),{subject:subject.value}).then(function(res){res.data&&res.data.success&&helpers_default.a.UI.showSnackbar("Template subject saved successfully")}).catch(function(error){var errorText=error.response?error.response.error:error;helpers_default.a.UI.showSnackbar("Error: ".concat(errorText),!0),logger.error(errorText,error)})}},{key:"mapTemplateMenu",value:function(){var _this2=this;return this.templates.map(function(template,idx){var templateJS=template.toJS();return{key:idx,title:template.get("displayName"),bodyComponent:mailerSettingsTemplates_templateBody({template:templateJS,handleSaveSubject:function(e){return _this2.onSaveSubject(e)},handleOpenEditor:function(e){return MailerSettings_Templates.onOpenEditor(e,templateJS.name)}})}})}},{key:"render",value:function(){var _this3=this,mappedValues=this.mapTemplateMenu();return react_default.a.createElement("div",null,react_default.a.createElement(Settings_SettingItem,{title:"Enable New Email Templates",subtitle:react_default.a.createElement("div",null,"The new email notification system is currently in beta. Please See"," ",react_default.a.createElement("a",{href:"https://forum.trudesk.io/t/beta-email-notification-templates"},"Email Notification Templates")," ","for more information."),component:react_default.a.createElement(Settings_EnableSwitch,{stateName:"emailBeta",label:"Enable",checked:this.betaEnabled,onChange:function(e){return _this3.onEmailBetaChange(e)}})}),react_default.a.createElement(Settings_SplitSettingsPanel,{title:"Notification Templates",subtitle:react_default.a.createElement("div",null,"Customize email notification templates.",react_default.a.createElement("strong",null," Note: Not all templates have been converted for the beta")),rightComponent:react_default.a.createElement("h4",{className:"uk-display-block uk-text-danger mt-20 mr-20"},"BETA FEATURE"),menuItems:mappedValues}))}}])&&mailerSettingsTemplates_defineProperties(Constructor.prototype,protoProps),staticProps&&mailerSettingsTemplates_defineProperties(Constructor,staticProps),MailerSettings_Templates}()).prototype,"betaEnabled",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mailerSettingsTemplates_descriptor2=mailerSettingsTemplates_applyDecoratedDescriptor(mailerSettingsTemplates_class2.prototype,"templates",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mailerSettingsTemplates_class=mailerSettingsTemplates_class2))||mailerSettingsTemplates_class;mailerSettingsTemplates_MailerSettings_Templates.propTypes={updateSetting:prop_types_default.a.func.isRequired,settings:prop_types_default.a.object.isRequired};var mailerSettingsTemplates=Object(es.b)(function(state){return{settings:state.settings.settings}},{updateSetting:settings_updateSetting})(mailerSettingsTemplates_MailerSettings_Templates);function Mailer_typeof(obj){return(Mailer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Mailer_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Mailer_possibleConstructorReturn(self,call){return!call||"object"!==Mailer_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Mailer_getPrototypeOf(o){return(Mailer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Mailer_setPrototypeOf(o,p){return(Mailer_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Mailer_MailerSettingsContainer=function(_React$Component){function MailerSettingsContainer(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MailerSettingsContainer),Mailer_possibleConstructorReturn(this,Mailer_getPrototypeOf(MailerSettingsContainer).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Mailer_setPrototypeOf(subClass,superClass)}(MailerSettingsContainer,react_default.a.Component),Constructor=MailerSettingsContainer,(protoProps=[{key:"render",value:function(){var active=this.props.active;return react_default.a.createElement("div",{className:active?"active":"hide"},react_default.a.createElement(mailerSettingsTemplates,null),react_default.a.createElement(mailer,null),react_default.a.createElement(mailerCheck,null))}}])&&Mailer_defineProperties(Constructor.prototype,protoProps),staticProps&&Mailer_defineProperties(Constructor,staticProps),MailerSettingsContainer}();Mailer_MailerSettingsContainer.propTypes={active:prop_types_default.a.bool.isRequired};var Mailer=Mailer_MailerSettingsContainer;function TPS_typeof(obj){return(TPS_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function TPS_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function TPS_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function TPS_possibleConstructorReturn(self,call){return!call||"object"!==TPS_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function TPS_getPrototypeOf(o){return(TPS_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function TPS_setPrototypeOf(o,p){return(TPS_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var TPS_TPSSettingsContainer=function(_React$Component){function TPSSettingsContainer(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TPSSettingsContainer),(_this=TPS_possibleConstructorReturn(this,TPS_getPrototypeOf(TPSSettingsContainer).call(this,props))).state={tpsUsername:"",tpsApiKey:""},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&TPS_setPrototypeOf(subClass,superClass)}(TPSSettingsContainer,react_default.a.Component),Constructor=TPSSettingsContainer,staticProps=[{key:"getDerivedStateFromProps",value:function(nextProps,state){if(nextProps.settings){var stateObj=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){TPS_defineProperty(target,key,source[key])})}return target}({},state);return state.tpsUsername||(stateObj.tpsUsername=nextProps.settings.getIn(["settings","tpsUsername","value"])||""),state.tpsApiKey||(stateObj.tpsApiKey=nextProps.settings.getIn(["settings","tpsApiKey","value"])||""),stateObj}return null}}],(protoProps=[{key:"componentDidMount",value:function(){helpers_default.a.UI.inputs()}},{key:"componentDidUpdate",value:function(){helpers_default.a.UI.reRenderInputs()}},{key:"getSetting",value:function(stateName){return this.props.settings.getIn(["settings",stateName,"value"])?this.props.settings.getIn(["settings",stateName,"value"]):""}},{key:"onTPSEnabledChanged",value:function(e){this.props.updateSetting({stateName:"tpsEnabled",name:"tps:enable",value:e.target.checked,noSnackbar:!0})}},{key:"onInputChanged",value:function(e,stateName){this.setState(TPS_defineProperty({},stateName,e.target.value))}},{key:"onFormSubmit",value:function(e){e.preventDefault();var settings=[{name:"tps:username",value:this.state.tpsUsername},{name:"tps:apikey",value:this.state.tpsApiKey}];this.props.updateMultipleSettings(settings)}},{key:"render",value:function(){var _this2=this,active=this.props.active;return react_default.a.createElement("div",{className:active?"active":"hide"},react_default.a.createElement(Settings_SettingItem,{title:"TPS",subtitle:react_default.a.createElement("div",null,"Trudesk Push Service authentication for mobile push notifications.",react_default.a.createElement("a",{href:"http://push.trudesk.io/signup",rel:"noopener noreferrer",target:"_blank"},"Get API Key")),component:react_default.a.createElement(Settings_EnableSwitch,{stateName:"tpsEnabled",label:"Enable",checked:this.getSetting("tpsEnabled"),onChange:function(e){return _this2.onTPSEnabledChanged(e)}})},react_default.a.createElement("form",{onSubmit:function(e){return _this2.onFormSubmit(e)}},react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",null,"Username"),react_default.a.createElement("input",{type:"text",className:"md-input md-input-width-medium",value:this.state.tpsUsername,disabled:!this.getSetting("tpsEnabled"),onChange:function(e){return _this2.onInputChanged(e,"tpsUsername")}})),react_default.a.createElement("div",{className:"uk-margin-medium-bottom"},react_default.a.createElement("label",null,"API Key"),react_default.a.createElement("input",{type:"text",className:"md-input md-input-width-medium",value:this.state.tpsApiKey,disabled:!this.getSetting("tpsEnabled"),onChange:function(e){return _this2.onInputChanged(e,"tpsApiKey")}})),react_default.a.createElement("div",{className:"uk-clearfix"},react_default.a.createElement(components_Button,{text:"Apply",type:"submit",flat:!0,waves:!0,disabled:!this.getSetting("tpsEnabled"),style:"success",extraClass:"uk-float-right"})))))}}])&&TPS_defineProperties(Constructor.prototype,protoProps),staticProps&&TPS_defineProperties(Constructor,staticProps),TPSSettingsContainer}();TPS_TPSSettingsContainer.propTypes={active:prop_types_default.a.bool.isRequired,updateSetting:prop_types_default.a.func.isRequired,updateMultipleSettings:prop_types_default.a.func.isRequired,settings:prop_types_default.a.object.isRequired};var TPS=Object(es.b)(function(state){return{settings:state.settings.settings}},{updateSetting:settings_updateSetting,updateMultipleSettings:settings_updateMultipleSettings})(TPS_TPSSettingsContainer);function BackupRestore_typeof(obj){return(BackupRestore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function BackupRestore_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function BackupRestore_getPrototypeOf(o){return(BackupRestore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function BackupRestore_setPrototypeOf(o,p){return(BackupRestore_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function BackupRestore_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var BackupRestore_BackupRestoreSettingsContainer=function(_React$Component){function BackupRestoreSettingsContainer(props){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BackupRestoreSettingsContainer),self=this,(_this=!(call=BackupRestore_getPrototypeOf(BackupRestoreSettingsContainer).call(this,props))||"object"!==BackupRestore_typeof(call)&&"function"!=typeof call?BackupRestore_assertThisInitialized(self):call).initBackupUpload=_this.initBackupUpload.bind(BackupRestore_assertThisInitialized(BackupRestore_assertThisInitialized(_this))),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&BackupRestore_setPrototypeOf(subClass,superClass)}(BackupRestoreSettingsContainer,react_default.a.Component),Constructor=BackupRestoreSettingsContainer,(protoProps=[{key:"componentDidMount",value:function(){this.props.fetchMongoDBTools(),this.props.fetchBackups(),this.props.fetchDeletedTickets()}},{key:"componentDidUpdate",value:function(prevProps){var _this2=this;if(this.initBackupUpload(),!this.deletedTicketsPagination){var $deletedTicketPagination=jquery_default()(".deletedTicketPagination");$deletedTicketPagination.length>0&&(this.deletedTicketsPagination=uikit_combined_min_default.a.pagination($deletedTicketPagination,{items:this.props.settings.deletedTicketsCount,itemsOnPage:15}),$deletedTicketPagination.on("select.uk.pagination",function(e,pageIndex){_this2.props.changeDeletedTicketsPage(pageIndex)}))}prevProps.settings.deletedTicketsCount!==this.props.settings.deletedTicketsCount&&(this.deletedTicketsPagination.pages=Math.ceil(this.props.settings.deletedTicketsCount/15)?Math.ceil(this.props.settings.deletedTicketsCount/15):1,this.deletedTicketsPagination.render(),this.deletedTicketsPagination.currentPage>this.deletedTicketsPagination.pages-1&&this.deletedTicketsPagination.selectPage(this.deletedTicketsPagination.pages-1))}},{key:"componentWillUnmount",value:function(){this.deletedTicketsPagination&&(this.deletedTicketsPagination.element.off("select.uk.pagination"),this.deletedTicketsPagination=null)}},{key:"initBackupUpload",value:function(){var $progressBar=jquery_default()(this.backupUploadProgressbar),$uploadSelect=jquery_default()(this.backupUploadSelect),$uploadButton=jquery_default()(this.backupUploadBtn),bar=$progressBar.find(".uk-progress-bar");if(!($progressBar.length<1||$uploadSelect.length<1||$uploadButton.length<1)){var self=this,settings={action:"/api/v1/backup/upload",allow:"*.zip",type:"json",loadstart:function(){bar.css("width","0%").text("0%"),$progressBar.removeClass("hide"),$uploadButton.addClass("hide")},notallowed:function(){helpers_default.a.UI.showSnackbar("Invalid File Type. Please upload a Zip file.",!0)},error:function(err){logger.error(err),helpers_default.a.UI.showSnackbar("An unknown error occurred. Check Console",!0)},progress:function(percent){percent=Math.ceil(percent),bar.css("width",percent+"%").text(percent+"%")},allcomplete:function(response){logger.debug(response),response.success||helpers_default.a.UI.showSnackbar(response.error,!0),bar.css("width","100%").text("100%"),setTimeout(function(){$progressBar.addClass("hide"),$uploadButton.removeClass("hide"),$uploadSelect.val(null),self.props.fetchBackups(),helpers_default.a.UI.playSound("success")},1500)}};uikit_combined_min_default.a.uploadSelect($uploadSelect,settings)}}},{key:"onBackupNowClicked",value:function(e){e.preventDefault(),this.props.backupNow()}},{key:"oneRestoreClicked",value:function(e,backup){if(backup){var filename=backup.get("filename");uikit_combined_min_default.a.modal.confirm('<h2>Are you sure?</h2>\n        <p style="font-size: 15px;">\n            <span class="uk-text-danger" style="font-size: 15px;">This is a permanent action.</span> \n            This will earse the database and restore it with the selected backup file: <strong>'.concat(filename,'</strong>\n        </p>\n        <p style="font-size: 12px;">\n            Any users currently logged in will be presented with a blocking restore page. Preventing any further actions.\n            Once complete all users are required to log in again.</p><br />\n        <p style="font-size: 12px; font-style: italic;">\n            This process may take a while depending on the size of the backup.\n        </p>'),function(){socket_default.a.ui.emitShowRestoreOverlay(),axios_default.a.post("/api/v1/backup/restore",{file:filename}).then(function(){helpers_default.a.UI.showSnackbar("Restore Complete. Logging all users out..."),setTimeout(function(){socket_default.a.ui.emitRestoreComplete()},2e3)}).catch(function(err){logger.error(err),helpers_default.a.UI.showSnackbar("An error occurred. Check console.",!0)})},{labels:{Ok:"Yes",Cancel:"No"},confirmButtonClass:"md-btn-danger"})}}},{key:"onDeleteBackupClicked",value:function(e,backup){var _this3=this;uikit_combined_min_default.a.modal.confirm('<h2 class="text-light">Are you sure?</h2>\n        <p style="font-size: 14px;">This action is permanent and will destroy the backup file: \n            <strong>'.concat(backup.get("filename"),"</strong>\n        </p>"),function(){axios_default.a.delete("/api/v1/backup/".concat(backup.get("filename"))).then(function(res){res.data&&res.data.success?(_this3.props.fetchBackups(),helpers_default.a.UI.showSnackbar("Backup successfully deleted")):helpers_default.a.UI.showSnackbar("Unable to delete backup",!0)}).catch(function(err){logger.error(err),helpers_default.a.UI.showSnackbar("Error: ".concat(err.response.data.error),!0)})},{labels:{Ok:"Yes",Cancel:"No"},confirmButtonClass:"md-btn-danger"})}},{key:"onRestoreTicketClicked",value:function(e,ticket){ticket&&this.props.restoreDeletedTicket({_id:ticket.get("_id")})}},{key:"render",value:function(){var _this4=this,active=this.props.active;return react_default.a.createElement("div",{className:active?"active":"hide"},!this.props.settings.hasMongoDBTools&&react_default.a.createElement(Settings_SettingItem,{title:"MongoDB Tools Not Found",subtitle:"Unable to locate MongoDB tools. Please make sure MongoDB tools are installed."},react_default.a.createElement("div",null,react_default.a.createElement("h4",null,"Installing MongoDB Tools"),react_default.a.createElement("p",{style:{margin:"0 0 5px 0",fontSize:"13px"}},"MongoDB Tools are required to perform backup and restore. See below for instructions on installing MongoDB Tools."),react_default.a.createElement("br",null),react_default.a.createElement("h5",null,react_default.a.createElement("strong",null,"Ubuntu 16.04")),react_default.a.createElement("pre",{style:{whiteSpace:"pre-line"}},"wget https://repo.mongodb.org/apt/ubuntu/dists/xenial/mongodb-org/3.6/multiverse/binary-amd64/mongodb-org-tools_3.6.9_amd64.deb && \\ dpkg -i mongodb-org-tools_3.6.9_amd64.deb"),react_default.a.createElement("br",null),react_default.a.createElement("h5",null,react_default.a.createElement("strong",null,"Ubuntu 18.04")),react_default.a.createElement("pre",{style:{whiteSpace:"pre-line"}},"sudo apt install -y mongo-tools"),react_default.a.createElement("br",null),react_default.a.createElement("h5",null,react_default.a.createElement("strong",null,"Fedora 29")),react_default.a.createElement("pre",null,"dnf install -y mongo-tools"),react_default.a.createElement("br",null),react_default.a.createElement("h5",null,react_default.a.createElement("strong",null,"Alpine Linux")),react_default.a.createElement("pre",null,"apk add mongodb-tools"))),this.props.settings.hasMongoDBTools&&react_default.a.createElement("div",null,react_default.a.createElement(Settings_SettingItem,{title:"Backup Now",subtitle:"Backup all site data. (Database, Attachments, Assets)",component:react_default.a.createElement("div",{className:"uk-float-right mt-10"},react_default.a.createElement("div",{className:"uk-progress uk-progress-success uk-progress-striped uk-active"+(this.props.settings.backingup?"":" hide "),style:{height:"31px",background:"transparent"}},react_default.a.createElement("div",{className:"uk-progress-bar uk-float-right",style:{width:"115px",fontSize:"11px",textTransform:"uppercase",lineHeight:"31px"}},"Please Wait...")),!this.props.settings.backingup&&react_default.a.createElement(components_Button,{text:"Backup Now",style:"success",small:!0,styleOverride:{width:"115px"},onClick:function(e){return _this4.onBackupNowClicked(e)}}))}),react_default.a.createElement(Settings_SettingItem,{title:"Backups",subtitle:"Currently stored backups",component:react_default.a.createElement("div",{className:"uk-float-right mt-10",style:{width:"85px"}},react_default.a.createElement("div",{className:"uk-progress hide",style:{height:"31px"},ref:function(i){return _this4.backupUploadProgressbar=i}},react_default.a.createElement("div",{className:"uk-progress-bar",style:{width:0,lineHeight:"31px",fontSize:"11px"}},"0%")),react_default.a.createElement("form",{className:"uk-form-stacked"},react_default.a.createElement("button",{className:"md-btn md-btn-small md-btn-primary uk-form-file no-ajaxy",style:{width:"85px"},ref:function(i){return _this4.backupUploadBtn=i}},"Upload",react_default.a.createElement("input",{ref:function(i){return _this4.backupUploadSelect=i},type:"file",name:"backupUploadSelect"}))))},this.props.settings.backups.size<1&&react_default.a.createElement(zone,null,react_default.a.createElement(components_ZoneBox,null,react_default.a.createElement("h2",{className:"uk-text-muted uk-text-center"},"No Backups"))),this.props.settings.backups.size>0&&react_default.a.createElement("table",{className:"uk-table mt-0"},react_default.a.createElement("thead",null,react_default.a.createElement("tr",null,react_default.a.createElement("th",null,"Filename"),react_default.a.createElement("th",null,"Size"),react_default.a.createElement("th",null))),react_default.a.createElement("tbody",null,this.props.settings.backups.map(function(backup){return react_default.a.createElement("tr",{key:backup.get("filename")},react_default.a.createElement("td",{className:"valign-middle",style:{width:"60%",height:"60px"}},backup.get("filename")),react_default.a.createElement("td",{className:"valign-middle"},backup.get("sizeFormat")),react_default.a.createElement("td",{className:"uk-text-right valign-middle"},react_default.a.createElement(components_ButtonGroup,null,react_default.a.createElement("a",{href:"/backups/".concat(backup.get("filename")),className:"md-btn md-btn-small md-btn-wave no-ajaxy",download:backup.get("filename")},"download"),react_default.a.createElement(components_Button,{text:"Restore",small:!0,waves:!0,onClick:function(e){return _this4.oneRestoreClicked(e,backup)}}),react_default.a.createElement(components_Button,{text:"Delete",small:!0,style:"danger",waves:!0,onClick:function(e){return _this4.onDeleteBackupClicked(e,backup)}}))))}))))),react_default.a.createElement(Settings_SettingItem,{title:"Restore Deleted Tickets",subtitle:"Tickets marked as deleted are shown below."},this.props.settings.deletedTickets.size<1&&react_default.a.createElement(zone,null,react_default.a.createElement(components_ZoneBox,null,react_default.a.createElement("h2",{className:"uk-text-muted uk-text-center"},"No Deleted Tickets"))),this.props.settings.deletedTickets.size>0&&react_default.a.createElement("div",null,react_default.a.createElement("table",{className:"uk-table mt-0 mb-5"},react_default.a.createElement("thead",null,react_default.a.createElement("tr",null,react_default.a.createElement("th",null,"UID"),react_default.a.createElement("th",null,"Subject"),react_default.a.createElement("th",null,"Group"),react_default.a.createElement("th",null,"Date"),react_default.a.createElement("th",null))),react_default.a.createElement("tbody",null,this.props.settings.deletedTickets.map(function(ticket){return react_default.a.createElement("tr",{key:ticket.get("_id")},react_default.a.createElement("td",{className:"valign-middle",style:{width:"10%",height:"60px"}},ticket.get("uid")),react_default.a.createElement("td",{className:"valign-middle",style:{width:"30%"}},ticket.get("subject")),react_default.a.createElement("td",{className:"valign-middle",style:{width:"30%"}},ticket.getIn(["group","name"])),react_default.a.createElement("td",{className:"valign-middle",style:{width:"30%"}},ticket.get("date")),react_default.a.createElement("td",{className:"uk-text-right valign-middle"},react_default.a.createElement(components_ButtonGroup,null,react_default.a.createElement(components_Button,{text:"Restore",small:!0,waves:!0,onClick:function(e){return _this4.onRestoreTicketClicked(e,ticket)}}))))}))),react_default.a.createElement("div",{className:"uk-pagination deletedTicketPagination"}))))}}])&&BackupRestore_defineProperties(Constructor.prototype,protoProps),staticProps&&BackupRestore_defineProperties(Constructor,staticProps),BackupRestoreSettingsContainer}();BackupRestore_BackupRestoreSettingsContainer.propTypes={active:prop_types_default.a.bool.isRequired,fetchMongoDBTools:prop_types_default.a.func.isRequired,fetchBackups:prop_types_default.a.func.isRequired,fetchDeletedTickets:prop_types_default.a.func.isRequired,changeDeletedTicketsPage:prop_types_default.a.func.isRequired,backupNow:prop_types_default.a.func.isRequired,restoreDeletedTicket:prop_types_default.a.func.isRequired,settings:prop_types_default.a.object.isRequired};var BackupRestore=Object(es.b)(function(state){return{settings:state.settings}},{fetchBackups:settings_fetchBackups,fetchMongoDBTools,backupNow:settings_backupNow,fetchDeletedTickets:settings_fetchDeletedTickets,restoreDeletedTicket:settings_restoreDeletedTicket,changeDeletedTicketsPage})(BackupRestore_BackupRestoreSettingsContainer);function Legal_typeof(obj){return(Legal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Legal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Legal_possibleConstructorReturn(self,call){return!call||"object"!==Legal_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Legal_getPrototypeOf(o){return(Legal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Legal_setPrototypeOf(o,p){return(Legal_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Legal_LegalSettingsContainer=function(_React$Component){function LegalSettingsContainer(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LegalSettingsContainer),(_this=Legal_possibleConstructorReturn(this,Legal_getPrototypeOf(LegalSettingsContainer).call(this,props))).state={privacyPolicy:""},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Legal_setPrototypeOf(subClass,superClass)}(LegalSettingsContainer,react_default.a.Component),Constructor=LegalSettingsContainer,(protoProps=[{key:"getSetting",value:function(name){return this.props.settings.getIn(["settings",name,"value"])?this.props.settings.getIn(["settings",name,"value"]):""}},{key:"onSavePrivacyPolicyClicked",value:function(e){e.preventDefault(),this.props.updateSetting({stateName:"privacyPolicy",name:"legal:privacypolicy",value:this.state.privacyPolicy,noSnackbar:!0}).then(function(){helpers_default.a.UI.showSnackbar("Privacy Policy Updated")})}},{key:"render",value:function(){var _this2=this,active=this.props.active;return react_default.a.createElement("div",{className:active?"":"hide"},react_default.a.createElement(Settings_SettingItem,{title:"Privacy Policy",subtitle:"Paste in HTML/Text of your privacy policy."},react_default.a.createElement("div",null,react_default.a.createElement(components_EasyMDE,{defaultValue:this.getSetting("privacyPolicy"),onChange:function(v){return _this2.setState({privacyPolicy:v})}})),react_default.a.createElement("div",{className:"uk-clearfix"},react_default.a.createElement(components_Button,{text:"Save",extraClass:"uk-float-right",flat:!0,style:"success",waves:!0,onClick:function(e){return _this2.onSavePrivacyPolicyClicked(e)}}))))}}])&&Legal_defineProperties(Constructor.prototype,protoProps),staticProps&&Legal_defineProperties(Constructor,staticProps),LegalSettingsContainer}();Legal_LegalSettingsContainer.propTypes={active:prop_types_default.a.bool,settings:prop_types_default.a.object.isRequired,updateSetting:prop_types_default.a.func.isRequired};var Legal=Object(es.b)(function(state){return{settings:state.settings.settings}},{updateSetting:settings_updateSetting})(Legal_LegalSettingsContainer);function SettingsContainer_typeof(obj){return(SettingsContainer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function SettingsContainer_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SettingsContainer_possibleConstructorReturn(self,call){return!call||"object"!==SettingsContainer_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function SettingsContainer_getPrototypeOf(o){return(SettingsContainer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function SettingsContainer_setPrototypeOf(o,p){return(SettingsContainer_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var SettingsContainer_SettingsContainer=function(_React$Component){function SettingsContainer(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SettingsContainer),(_this=SettingsContainer_possibleConstructorReturn(this,SettingsContainer_getPrototypeOf(SettingsContainer).call(this,props))).state={title:"Settings",activeCategory:"settings-general"},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SettingsContainer_setPrototypeOf(subClass,superClass)}(SettingsContainer,react_default.a.Component),Constructor=SettingsContainer,(protoProps=[{key:"componentDidMount",value:function(){var location=window.location.pathname.replace(/^(\/settings(\/?))/,"");location&&this.setState({activeCategory:"settings-"+location}),this.props.fetchSettings()}},{key:"onMenuItemClick",value:function(e,category){var _this2=this;this.state.activeCategory!=="settings-"+category&&this.setState({activeCategory:"settings-"+category},function(){_this2.page&&(_this2.page.scrollTop=0)})}},{key:"render",value:function(){var _this3=this;return react_default.a.createElement("div",{className:"uk-grid uk-grid-collapse"},react_default.a.createElement("div",{className:"uk-width-1-6 uk-width-xLarge-1-10 message-list full-height","data-offset":"68"},react_default.a.createElement("div",{className:"page-title noshadow nopadding-right",style:{borderTop:"none",borderBottom:"none",height:"68px",paddingLeft:"20px"}},react_default.a.createElement("div",{style:{position:"relative"}},react_default.a.createElement("p",{style:{fontSize:"24px"}},this.state.title))),react_default.a.createElement("div",{className:"page-content-left noborder full-height"},react_default.a.createElement(Settings_Menu,null,react_default.a.createElement(Settings_MenuItem,{title:"General",active:"settings-general"===this.state.activeCategory,onClick:function(e){_this3.onMenuItemClick(e,"general")}}),react_default.a.createElement(Settings_MenuItem,{title:"Appearance",active:"settings-appearance"===this.state.activeCategory,onClick:function(e){_this3.onMenuItemClick(e,"appearance")}}),react_default.a.createElement(Settings_MenuItem,{title:"Permissions",active:"settings-permissions"===this.state.activeCategory,onClick:function(e){_this3.onMenuItemClick(e,"permissions")}}),react_default.a.createElement(Settings_MenuItem,{title:"Tickets",active:"settings-tickets"===this.state.activeCategory,onClick:function(e){_this3.onMenuItemClick(e,"tickets")}}),react_default.a.createElement(Settings_MenuItem,{title:"Mailer",active:"settings-mailer"===this.state.activeCategory,onClick:function(e){_this3.onMenuItemClick(e,"mailer")}}),react_default.a.createElement(Settings_MenuItem,{title:"Push Service",active:"settings-tps"===this.state.activeCategory,onClick:function(e){_this3.onMenuItemClick(e,"tps")}}),react_default.a.createElement(Settings_MenuItem,{title:"Backup/Restore",active:"settings-backup"===this.state.activeCategory,onClick:function(e){_this3.onMenuItemClick(e,"backup")}}),react_default.a.createElement(Settings_MenuItem,{title:"Legal",active:"settings-legal"===this.state.activeCategory,onClick:function(e){_this3.onMenuItemClick(e,"legal")}})))),react_default.a.createElement("div",{className:"uk-width-5-6 uk-width-xLarge-9-10"},react_default.a.createElement("div",{className:"page-title-right noshadow page-title-border-bottom",style:{borderTop:"none",height:"69px"}}),react_default.a.createElement("div",{className:"page-wrapper full-height scrollable no-overflow-x",ref:function(i){return _this3.page=i}},react_default.a.createElement("div",{className:"settings-wrap"},react_default.a.createElement(General,{active:"settings-general"===this.state.activeCategory}),react_default.a.createElement(Appearance,{active:"settings-appearance"===this.state.activeCategory}),react_default.a.createElement(Permissions,{active:"settings-permissions"===this.state.activeCategory}),react_default.a.createElement(Tickets,{active:"settings-tickets"===this.state.activeCategory}),react_default.a.createElement(Mailer,{active:"settings-mailer"===this.state.activeCategory}),react_default.a.createElement(TPS,{active:"settings-tps"===this.state.activeCategory}),react_default.a.createElement(BackupRestore,{active:"settings-backup"===this.state.activeCategory}),react_default.a.createElement(Legal,{active:"settings-legal"===this.state.activeCategory})))))}}])&&SettingsContainer_defineProperties(Constructor.prototype,protoProps),staticProps&&SettingsContainer_defineProperties(Constructor,staticProps),SettingsContainer}();SettingsContainer_SettingsContainer.propTypes={fetchSettings:prop_types_default.a.func.isRequired,sidebar:prop_types_default.a.object.isRequired};var Settings_SettingsContainer=Object(es.b)(function(state){return{sidebar:state.sidebar}},{fetchSettings:settings_fetchSettings})(SettingsContainer_SettingsContainer);function TruCard_typeof(obj){return(TruCard_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function TruCard_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function TruCard_possibleConstructorReturn(self,call){return!call||"object"!==TruCard_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function TruCard_getPrototypeOf(o){return(TruCard_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function TruCard_setPrototypeOf(o,p){return(TruCard_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var TruCard_TruCard=function(_React$Component){function TruCard(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TruCard),TruCard_possibleConstructorReturn(this,TruCard_getPrototypeOf(TruCard).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&TruCard_setPrototypeOf(subClass,superClass)}(TruCard,react_default.a.Component),Constructor=TruCard,(protoProps=[{key:"render",value:function(){return react_default.a.createElement("div",{className:"tru-card-wrapper uk-position-relative"},this.props.loaderActive&&react_default.a.createElement(components_SpinLoader,{active:this.props.loaderActive}),react_default.a.createElement("div",{className:"tru-card tru-card-hover"},react_default.a.createElement("div",{className:"tru-card-head "+(this.props.extraHeadClass||"")},this.props.menu&&react_default.a.createElement("div",{className:"tru-card-head-menu"},react_default.a.createElement(Drowdown_DropdownTrigger,{pos:"bottom-right",mode:"click"},react_default.a.createElement("i",{className:"material-icons tru-icon"},"more_vert"),react_default.a.createElement(Drowdown,{small:!0},this.props.menu.map(function(child){return child})))),react_default.a.createElement("div",{className:"uk-text-center"},this.props.header)),react_default.a.createElement("div",{className:"tru-card-content"},this.props.content)))}}])&&TruCard_defineProperties(Constructor.prototype,protoProps),staticProps&&TruCard_defineProperties(Constructor,staticProps),TruCard}();TruCard_TruCard.propTypes={menu:prop_types_default.a.arrayOf(prop_types_default.a.element),header:prop_types_default.a.element.isRequired,extraHeadClass:prop_types_default.a.string,content:prop_types_default.a.element.isRequired,loaderActive:prop_types_default.a.bool},TruCard_TruCard.defaultProps={loaderActive:!1};var components_TruCard=TruCard_TruCard;function PageTitle_typeof(obj){return(PageTitle_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function PageTitle_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function PageTitle_possibleConstructorReturn(self,call){return!call||"object"!==PageTitle_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function PageTitle_getPrototypeOf(o){return(PageTitle_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function PageTitle_setPrototypeOf(o,p){return(PageTitle_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var PageTitle_PageTitle=function(_React$Component){function PageTitle(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PageTitle),PageTitle_possibleConstructorReturn(this,PageTitle_getPrototypeOf(PageTitle).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&PageTitle_setPrototypeOf(subClass,superClass)}(PageTitle,react_default.a.Component),Constructor=PageTitle,(protoProps=[{key:"render",value:function(){var _this$props=this.props,title=_this$props.title,rightComponent=_this$props.rightComponent,shadow=_this$props.shadow;return react_default.a.createElement("div",{className:"nopadding"},react_default.a.createElement("div",{className:"uk-width-1-1 page-title dt-borderBottom pl-25 uk-clearfix"+(shadow?"":" noshadow")},react_default.a.createElement("p",{className:"uk-float-left"},title),react_default.a.createElement("div",{className:"uk-float-right uk-clearfix uk-width-1-2"},rightComponent)))}}])&&PageTitle_defineProperties(Constructor.prototype,protoProps),staticProps&&PageTitle_defineProperties(Constructor,staticProps),PageTitle}();PageTitle_PageTitle.propTypes={title:prop_types_default.a.string.isRequired,shadow:prop_types_default.a.bool,rightComponent:prop_types_default.a.element},PageTitle_PageTitle.defaultProps={shadow:!1};var components_PageTitle=PageTitle_PageTitle;function PageContent_typeof(obj){return(PageContent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function PageContent_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function PageContent_possibleConstructorReturn(self,call){return!call||"object"!==PageContent_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function PageContent_getPrototypeOf(o){return(PageContent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function PageContent_setPrototypeOf(o,p){return(PageContent_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var PageContent_PageContent=function(_React$Component){function PageContent(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PageContent),PageContent_possibleConstructorReturn(this,PageContent_getPrototypeOf(PageContent).apply(this,arguments))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&PageContent_setPrototypeOf(subClass,superClass)}(PageContent,react_default.a.Component),Constructor=PageContent,(protoProps=[{key:"componentDidMount",value:function(){helpers_default.a.resizeFullHeight(),helpers_default.a.setupScrollers()}},{key:"render",value:function(){return react_default.a.createElement("div",{id:this.props.id,className:"page-content no-border-top full-height scrollable p-25"},react_default.a.createElement("div",{className:"pb-100"},this.props.children))}}])&&PageContent_defineProperties(Constructor.prototype,protoProps),staticProps&&PageContent_defineProperties(Constructor,staticProps),PageContent}();PageContent_PageContent.propTypes={id:prop_types_default.a.string,children:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.node),prop_types_default.a.node]).isRequired};var Accounts_class,Accounts_class2,Accounts_descriptor,Accounts_descriptor2,Accounts_descriptor3,components_PageContent=PageContent_PageContent,react_infinite_scroller=__webpack_require__(363),react_infinite_scroller_default=__webpack_require__.n(react_infinite_scroller);function Accounts_typeof(obj){return(Accounts_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Accounts_initializerDefineProperty(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function Accounts_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Accounts_getPrototypeOf(o){return(Accounts_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Accounts_setPrototypeOf(o,p){return(Accounts_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function Accounts_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Accounts_applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var Accounts_AccountsContainer=Object(index_module.a)((Accounts_descriptor=Accounts_applyDecoratedDescriptor((Accounts_class2=function(_React$Component){function AccountsContainer(props){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AccountsContainer),self=this,Accounts_initializerDefineProperty(_this=!(call=Accounts_getPrototypeOf(AccountsContainer).call(this,props))||"object"!==Accounts_typeof(call)&&"function"!=typeof call?Accounts_assertThisInitialized(self):call,"initialLoad",Accounts_descriptor,Accounts_assertThisInitialized(Accounts_assertThisInitialized(_this))),Accounts_initializerDefineProperty(_this,"hasMore",Accounts_descriptor2,Accounts_assertThisInitialized(Accounts_assertThisInitialized(_this))),Accounts_initializerDefineProperty(_this,"pageStart",Accounts_descriptor3,Accounts_assertThisInitialized(Accounts_assertThisInitialized(_this))),_this.getUsersWithPage=_this.getUsersWithPage.bind(Accounts_assertThisInitialized(Accounts_assertThisInitialized(_this))),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Accounts_setPrototypeOf(subClass,superClass)}(AccountsContainer,react_default.a.Component),Constructor=AccountsContainer,(protoProps=[{key:"componentDidMount",value:function(){this.initialLoad=!1}},{key:"componentDidUpdate",value:function(){helpers_default.a.resizeFullHeight()}},{key:"componentWillUnmount",value:function(){this.props.unloadAccounts()}},{key:"onEditAccountClicked",value:function(e,user){e.preventDefault(e);var canEditAccount=helpers_default.a.hasHierarchyOverRole(user.getIn(["role","_id"]));this.props.showModal("EDIT_ACCOUNT",{edit:canEditAccount,user:user.toJS(),roles:this.props.common.roles,groups:this.props.common.groups})}},{key:"onDeleteAccountClicked",value:function(e,user){e.preventDefault(),this.props.deleteAccount({username:user.get("username")})}},{key:"onEnableAccountClicked",value:function(e,user){e.preventDefault(),this.props.enableAccount({username:user.get("username")})}},{key:"getUsersWithPage",value:function(page){var _this2=this;this.props.fetchAccounts({page,limit:25}).then(function(_ref){_ref.response.count<25&&(_this2.hasMore=!1)})}},{key:"onSearchKeyUp",value:function(e){var _this3=this,keyCode=e.keyCode||e.which,search=e.target.value;13===keyCode&&(search.length>2?this.props.unloadAccounts().then(function(){_this3.props.fetchAccounts({limit:1e3,search}).then(function(_ref2){var response=_ref2.response;_this3.pageStart=-1,response.count<25&&(_this3.hasMore=!1)})}):0===search.length&&this.props.unloadAccounts().then(function(){_this3.pageStart=-1,_this3.getUsersWithPage(0)}))}},{key:"render",value:function(){var _this4=this,items=this.props.accountsState.accounts.map(function(user){var userImage=user.get("image")||"defaultProfile.jpg",actionMenu=[react_default.a.createElement(Drowdown_DropdownItem,{key:0,text:"Edit",onClick:function(e){return _this4.onEditAccountClicked(e,user)}})];user.get("deleted")?actionMenu.push(react_default.a.createElement(Drowdown_DropdownItem,{key:2,text:"Enable",onClick:function(e){return _this4.onEnableAccountClicked(e,user)}})):actionMenu.push(react_default.a.createElement(Drowdown_DropdownItem,{key:1,text:"Delete",extraClass:"uk-text-danger",onClick:function(e){return _this4.onDeleteAccountClicked(e,user)}}));var isAdmin=user.getIn(["role","isAdmin"])||!1,isAgent=user.getIn(["role","isAgent"])||!1,isDeleted=user.get("deleted")||!1;return react_default.a.createElement(Grid_GridItem,{key:user.get("_id"),width:"1-5",xLargeWidth:"1-6",extraClass:"mb-25"},react_default.a.createElement(components_TruCard,{loaderActive:user.get("loading"),menu:actionMenu,extraHeadClass:(isAdmin?"tru-card-head-admin":"")+(!isAdmin&&isAgent?"tru-card-head-agent":"")+(isDeleted?" tru-card-head-deleted":""),header:react_default.a.createElement("div",null,react_default.a.createElement("div",{className:"account-image relative uk-display-inline-block"},react_default.a.createElement("img",{src:"/uploads/users/".concat(userImage),alt:"ProfilePic",className:"tru-card-head-avatar"}),react_default.a.createElement("span",{"data-user-status-id":user.get("_id"),className:"user-status-large user-offline uk-border-circle"})),react_default.a.createElement("h3",{className:"tru-card-head-text uk-text-center"},user.get("fullname"),react_default.a.createElement("span",{className:"uk-text-truncate"},user.get("title")))),content:react_default.a.createElement("ul",{className:"tru-list"},react_default.a.createElement("li",null,react_default.a.createElement("div",{className:"tru-list-content"},react_default.a.createElement("span",{className:"tru-list-heading"},"Role"),react_default.a.createElement("span",{className:"uk-text-small uk-text-muted"},user.getIn(["role","name"])))),react_default.a.createElement("li",null,react_default.a.createElement("div",{className:"tru-list-content"},react_default.a.createElement("span",{className:"tru-list-heading"},"Email"),react_default.a.createElement("span",{className:"uk-text-small uk-text-muted"},react_default.a.createElement("a",{href:"mailto:".concat(user.get("email"))},user.get("email"))))),react_default.a.createElement("li",null,react_default.a.createElement("div",{className:"tru-list-content"},react_default.a.createElement("span",{className:"tru-list-heading"},"Groups"),react_default.a.createElement("span",{className:"uk-text-small uk-text-muted uk-text-truncate"},user.get("groups").map(function(group){return group.get("name")+(user.get("groups").toArray().length>1?", ":"")})))))}))});return react_default.a.createElement("div",null,react_default.a.createElement(components_PageTitle,{title:"Accounts",rightComponent:react_default.a.createElement("div",{className:"uk-grid uk-grid-collapse"},react_default.a.createElement("div",{className:"uk-width-3-4 pr-10"},react_default.a.createElement("div",{className:"md-input-wrapper",style:{marginTop:"10px"}},react_default.a.createElement("label",{className:"uk-form-label"},"Find Account"),react_default.a.createElement("input",{type:"text",className:"md-input uk-margin-remove",onKeyUp:function(e){return _this4.onSearchKeyUp(e)}}),react_default.a.createElement("div",{className:"md-input-bar"}))),react_default.a.createElement("div",{className:"uk-width-1-4 mt-15 pr-20 uk-clearfix"},react_default.a.createElement(components_ButtonGroup,{classNames:"uk-clearfix uk-float-right"},react_default.a.createElement(components_Button,{text:"Create",hasDropdown:!1,flat:!1,small:!0,waves:!1,extraClass:"hover-accent",onClick:function(){return _this4.props.showModal("CREATE_ACCOUNT")}}),helpers_default.a.canUser("accounts:import",!0)&&react_default.a.createElement(Drowdown_DropdownTrigger,{mode:"click",pos:"bottom-right",offset:5,extraClass:"uk-float-right"},react_default.a.createElement(components_Button,{text:"",hasDropdown:!0,small:!0,waves:!1,styleOverride:{padding:"0 5px 0 0"},extraClass:"pr-5 no-border-radius nbl bg-accent md-color-white hover-accent"}),react_default.a.createElement(Drowdown,{small:!0},react_default.a.createElement(Drowdown_DropdownHeader,{text:"Account Actions"}),react_default.a.createElement(Drowdown_DropdownItem,{text:"Import",href:"/accounts/import"}))))))}),react_default.a.createElement(components_PageContent,{id:"accounts-page-content"},react_default.a.createElement(react_infinite_scroller_default.a,{pageStart:this.pageStart,loadMore:this.getUsersWithPage,hasMore:this.hasMore,initialLoad:this.initialLoad,threshold:25,loader:react_default.a.createElement("div",{className:"uk-width-1-1 uk-text-center",key:0},react_default.a.createElement("i",{className:"uk-icon-refresh uk-icon-spin"})),useWindow:!1,getScrollParent:function(){return document.getElementById("accounts-page-content")}},react_default.a.createElement(components_Grid,{gutterSize:"medium"},items))))}}])&&Accounts_defineProperties(Constructor.prototype,protoProps),staticProps&&Accounts_defineProperties(Constructor,staticProps),AccountsContainer}()).prototype,"initialLoad",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Accounts_descriptor2=Accounts_applyDecoratedDescriptor(Accounts_class2.prototype,"hasMore",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Accounts_descriptor3=Accounts_applyDecoratedDescriptor(Accounts_class2.prototype,"pageStart",[mobx_module.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),Accounts_class=Accounts_class2))||Accounts_class;Accounts_AccountsContainer.propTypes={fetchAccounts:prop_types_default.a.func.isRequired,deleteAccount:prop_types_default.a.func.isRequired,enableAccount:prop_types_default.a.func.isRequired,unloadAccounts:prop_types_default.a.func.isRequired,showModal:prop_types_default.a.func.isRequired,common:prop_types_default.a.object.isRequired,shared:prop_types_default.a.object.isRequired,accountsState:prop_types_default.a.object.isRequired};var Accounts=Object(es.b)(function(state){return{shared:state.shared,accountsState:state.accountsState,common:state.common}},{fetchAccounts:accounts_fetchAccounts,deleteAccount:accounts_deleteAccount,enableAccount:accounts_enableAccount,unloadAccounts,showModal})(Accounts_AccountsContainer),renderer=function(store){if(document.getElementById("accounts-container")){var AccountsContainerWithProvider=react_default.a.createElement(es.a,{store},react_default.a.createElement(Accounts,null));react_dom_default.a.render(AccountsContainerWithProvider,document.getElementById("accounts-container"))}if(document.getElementById("settings-container")){var SettingsContainerWithProvider=react_default.a.createElement(es.a,{store},react_default.a.createElement(Settings_SettingsContainer,null));react_dom_default.a.render(SettingsContainerWithProvider,document.getElementById("settings-container"))}};var sagaMiddleware=Object(redux_saga_es.a)(),composeSetup=redux.d;localStorage.setItem("debug","trudesk:*");var preloadedState={common:window.trudesk.__PRELOADED_STATE__};delete window.trudesk,jquery_default()("script#preloader").remove();var app_store=Object(redux.e)(reducers,preloadedState,composeSetup(Object(redux.a)(redux_saga_thunk.middleware,sagaMiddleware)));window.react.redux={store:app_store},sagaMiddleware.run(function*(){yield Object(effects.a)([watcher(),tickets_watcher(),settingsWatcher(),accounts_watcher()])});var sidebarWithProvider=react_default.a.createElement(es.a,{store:app_store},react_default.a.createElement(Nav_Sidebar,null));if(react_dom_default.a.render(sidebarWithProvider,document.getElementById("side-nav")),document.getElementById("modal-wrapper")){var RootModal=react_default.a.createElement(es.a,{store:app_store},react_default.a.createElement(Modals,null));react_dom_default.a.render(RootModal,document.getElementById("modal-wrapper"))}if(document.getElementById("topbar")){var TopbarRoot=react_default.a.createElement(es.a,{store:app_store},react_default.a.createElement(Topbar_TopbarContainer,null));react_dom_default.a.render(TopbarRoot,document.getElementById("topbar"))}window.react.renderer=renderer,window.react.dom=react_dom_default.a,renderer(app_store)}}]);