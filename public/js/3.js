(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[3],{

/***/ "./src/public/js/angularjs/controllers.js":
/*!************************************************!*\
  !*** ./src/public/js/angularjs/controllers.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n  .                              .o8                     oooo\r\n.o8                             \"888                     `888\r\n.o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n\"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n========================================================================\r\nCreated:    02/10/2015\r\nAuthor:     Chris Brame\r\n\r\n**/\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"),\r\n  __webpack_require__(/*! angular */ \"./src/public/js/vendor/angular/angular.min.js\"),\r\n  __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"),\r\n\r\n  __webpack_require__(/*! angularjs/controllers/common */ \"./src/public/js/angularjs/controllers/common.js\"),\r\n  __webpack_require__(/*! angularjs/controllers/profile */ \"./src/public/js/angularjs/controllers/profile.js\"),\r\n  __webpack_require__(/*! angularjs/controllers/accounts */ \"./src/public/js/angularjs/controllers/accounts.js\"),\r\n  __webpack_require__(/*! angularjs/controllers/groups */ \"./src/public/js/angularjs/controllers/groups.js\"),\r\n  __webpack_require__(/*! angularjs/controllers/tickets */ \"./src/public/js/angularjs/controllers/tickets.js\"),\r\n  __webpack_require__(/*! angularjs/controllers/singleTicket */ \"./src/public/js/angularjs/controllers/singleTicket.js\"),\r\n  __webpack_require__(/*! angularjs/controllers/messages */ \"./src/public/js/angularjs/controllers/messages.js\"),\r\n  __webpack_require__(/*! angularjs/controllers/notices */ \"./src/public/js/angularjs/controllers/notices.js\"),\r\n  __webpack_require__(/*! angularjs/controllers/plugins */ \"./src/public/js/angularjs/controllers/plugins.js\"),\r\n  __webpack_require__(/*! angularjs/controllers/reports */ \"./src/public/js/angularjs/controllers/reports.js\"),\r\n  __webpack_require__(/*! angularjs/controllers/settings */ \"./src/public/js/angularjs/controllers/settings.js\"),\r\n  __webpack_require__(/*! angularjs/controllers/settings-backup */ \"./src/public/js/angularjs/controllers/settings-backup.js\"),\r\n  __webpack_require__(/*! angularjs/controllers/editor */ \"./src/public/js/angularjs/controllers/editor.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function ($, angular, _) {\r\n  return angular\r\n    .module('trudesk.controllers', [\r\n      'trudesk.controllers.common',\r\n\r\n      'trudesk.controllers.profile',\r\n      'trudesk.controllers.accounts',\r\n      'trudesk.controllers.groups',\r\n      'trudesk.controllers.tickets',\r\n      'trudesk.controllers.singleTicket',\r\n      'trudesk.controllers.messages',\r\n      'trudesk.controllers.notices',\r\n      'trudesk.controllers.plugins',\r\n      'trudesk.controllers.reports',\r\n      'trudesk.controllers.settings',\r\n      'trudesk.controllers.settings.backup',\r\n      'trudesk.controllers.editor'\r\n    ])\r\n    .controller('TrudeskController', function ($rootScope, $scope) {\r\n      $scope.submitForm = function (formName, $event) {\r\n        if (_.isNull(formName) || _.isUndefined(formName)) return true\r\n\r\n        $event.preventDefault()\r\n\r\n        var form = $('#' + formName)\r\n        if (!_.isUndefined(form)) {\r\n          form.submit()\r\n        }\r\n      }\r\n    })\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/angularjs/controllers.js?");

/***/ }),

/***/ "./src/public/js/angularjs/controllers/accounts.js":
/*!*********************************************************!*\
  !*** ./src/public/js/angularjs/controllers/accounts.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n      .                              .o8                     oooo\r\n   .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n   888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n   888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n   888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n   \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    02/10/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__(/*! angular */ \"./src/public/js/vendor/angular/angular.min.js\"),\r\n  __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"),\r\n  __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"),\r\n  __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"),\r\n  __webpack_require__(/*! uikit */ \"./src/public/js/vendor/uikit/js/uikit_combined.min.js\"),\r\n  __webpack_require__(/*! pages/accounts */ \"./src/public/js/pages/accounts.js\"),\r\n  __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\"),\r\n  __webpack_require__(/*! selectize */ \"./src/public/js/vendor/selectize/selectize.js\"),\r\n  __webpack_require__(/*! formvalidator */ \"./src/public/js/vendor/formvalidator/jquery.form-validator.js\"),\r\n  __webpack_require__(/*! multiselect */ \"./src/public/js/vendor/multiselect/js/jquery.multi-select.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function (angular, _, $, helpers, UIkit, accountsPage) {\r\n  return angular\r\n    .module('trudesk.controllers.accounts', [])\r\n    .controller('accountsCtrl', function ($scope, $http, $timeout, $window, $log) {\r\n      function checkGroupValidation () {\r\n        var data = {}\r\n        var form = $('#createAccountForm')\r\n        data.aGrps = form.find('select[name=\"caGrps[]\"]').val()\r\n\r\n        if (!data.aGrps || data.aGrps.length < 1) {\r\n          // Validate Group\r\n          $('label[for=\"caGrps\"]').css('color', '#d85030')\r\n          $('select[name=\"caGrps[]\"] + .selectize-control > .selectize-input').css('border-bottom', '1px solid #d85030')\r\n          $('.aGrps-error-message')\r\n            .removeClass('hide')\r\n            .css('display', 'block')\r\n            .css('color', '#d85030')\r\n            .css('font-weight', 'bold')\r\n          return false\r\n        }\r\n\r\n        $('label[for=\"caGrps\"]').css('color', '#4d4d4d')\r\n        $('select[name=\"caGrps[]\"] + .selectize-control > .selectize-input').css(\r\n          'border-bottom',\r\n          '1px solid rgba(0,0,0,.12)'\r\n        )\r\n        $('.aGrps-error-message').addClass('hide')\r\n        return true\r\n      }\r\n\r\n      $scope.createAccount = function (event) {\r\n        var data = {}\r\n        var form = $('#createAccountForm')\r\n        // if (!form.isValid(null, null, false)) return true;\r\n        if (!form.isValid(null, null, false)) {\r\n          checkGroupValidation()\r\n          return false\r\n        }\r\n\r\n        if (!checkGroupValidation()) {\r\n          event.preventDefault()\r\n          return false\r\n        }\r\n\r\n        event.preventDefault()\r\n        form.serializeArray().map(function (x) {\r\n          data[x.name] = x.value\r\n        })\r\n        data.aGrps = form.find('select[name=\"caGrps[]\"]').val()\r\n        $http({\r\n          method: 'POST',\r\n          url: '/api/v1/users/create',\r\n          data: data,\r\n          headers: { 'Content-Type': 'application/json' }\r\n        })\r\n          .success(function (data) {\r\n            if (!data.success) {\r\n              if (data.error) {\r\n                helpers.UI.showSnackbar('Error: ' + data.error, true)\r\n                return\r\n              }\r\n\r\n              helpers.UI.showSnackbar('Error Creating Account', true)\r\n            }\r\n\r\n            helpers.UI.showSnackbar({ text: 'Account Created' })\r\n\r\n            // Refresh UserGrid\r\n            History.pushState(\r\n              null,\r\n              null,\r\n              '/accounts/?refresh=' + (Math.floor(Math.random() * (99999 - 10000 + 1)) + 10000)\r\n            )\r\n\r\n            UIkit.modal('#accountCreateModal').hide()\r\n          })\r\n          .error(function (err) {\r\n            $log.log('[trudesk:accounts:createAccount]', err)\r\n            helpers.UI.showSnackbar('An error occurred while creating the account. Check Console.', true)\r\n          })\r\n      }\r\n\r\n      var running = false\r\n      $scope.deleteAccount = function ($event) {\r\n        if (running) {\r\n          return true\r\n        }\r\n\r\n        $event.preventDefault()\r\n        var self = $($event.target)\r\n        var username = self.attr('data-username')\r\n        if (_.isUndefined(username)) {\r\n          return true\r\n        }\r\n\r\n        running = true\r\n        $http\r\n          .delete('/api/v1/users/' + username)\r\n          .success(function (data) {\r\n            if (!data.success) {\r\n              helpers.UI.showSnackbar(data.error, true)\r\n              running = false\r\n              return true\r\n            }\r\n\r\n            if (data.disabled) {\r\n              self.parents('.tru-card-head').addClass('tru-card-head-deleted')\r\n              self.addClass('hide')\r\n              self\r\n                .parents('.uk-nav')\r\n                .find('.enable-account-action')\r\n                .removeClass('hide')\r\n\r\n              helpers.UI.showSnackbar('Account ' + username + ' Successfully Disabled', false)\r\n            } else {\r\n              self\r\n                .parents('.tru-card[data-card-username]')\r\n                .parent()\r\n                .remove()\r\n              UIkit.$html.trigger('changed.uk.dom')\r\n\r\n              helpers.UI.showSnackbar('Account ' + username + ' Successfully Deleted', false)\r\n            }\r\n\r\n            running = false\r\n          })\r\n          .error(function (err) {\r\n            $log.log('[trudesk:accounts:deleteAccount] - Error: ' + err.error)\r\n            helpers.UI.showSnackbar(err.error, true)\r\n\r\n            running = false\r\n          })\r\n      }\r\n\r\n      $scope.enableAccount = function ($event) {\r\n        $event.preventDefault()\r\n        var self = $($event.target)\r\n        var username = self.attr('data-username')\r\n        if (_.isUndefined(username)) {\r\n          return true\r\n        }\r\n\r\n        $http\r\n          .get('/api/v1/users/' + username + '/enable')\r\n          .success(function (data) {\r\n            if (!data.success) {\r\n              helpers.UI.showSnackbar(data.error, true)\r\n              return\r\n            }\r\n\r\n            self.parents('.tru-card-head').removeClass('tru-card-head-deleted')\r\n            self.addClass('hide')\r\n            self\r\n              .parents('.uk-nav')\r\n              .find('.delete-account-action')\r\n              .removeClass('hide')\r\n\r\n            helpers.UI.showSnackbar('Account successfully enabled', false)\r\n          })\r\n          .error(function (err) {\r\n            $log.log('[trudesk:accounts:enableAccount] - Error: ' + err.error)\r\n            helpers.UI.showSnackbar(err.error, true)\r\n          })\r\n      }\r\n\r\n      $scope.editAccount = function ($event) {\r\n        $event.preventDefault()\r\n\r\n        var self = $($event.target)\r\n        var username = self.attr('data-username')\r\n        if (_.isUndefined(username)) return true\r\n\r\n        var $menu = self.parents('.tru-card-head-menu')\r\n        if (!_.isUndefined($menu)) {\r\n          $menu.find('.uk-dropdown').removeClass('uk-dropdown-shown uk-dropdown-active')\r\n        }\r\n\r\n        $http\r\n          .get('/api/v1/users/' + username)\r\n          .success(function (data) {\r\n            var editAccountModal = $('#editAccountModal')\r\n            var form = editAccountModal.find('form#editAccountForm')\r\n            var user = data.user\r\n            if (_.isUndefined(user) || _.isNull(user)) return true\r\n\r\n            var loggedInAccount = $window.trudeskSessionService.getUser()\r\n            if (loggedInAccount === null) return true\r\n\r\n            var $userHeadingContent = $('.user-heading-content')\r\n            $userHeadingContent.find('.js-username').text(user.username)\r\n            if (!user.title) {\r\n              $userHeadingContent.find('.js-user-title').text('')\r\n            } else {\r\n              $userHeadingContent.find('.js-user-title').text(user.title)\r\n            }\r\n\r\n            var isEditingSelf = false\r\n            if (user.username === loggedInAccount.username) {\r\n              isEditingSelf = true\r\n            }\r\n\r\n            if (\r\n              !isEditingSelf &&\r\n              (loggedInAccount.role === 'user' || loggedInAccount.role === 'support') &&\r\n              (user.role === 'admin' || user.role === 'mod')\r\n            ) {\r\n              // Disable editing user with higher roles.\r\n              form\r\n                .find('#aPass')\r\n                .parent()\r\n                .hide()\r\n              form\r\n                .find('#aPassConfirm')\r\n                .parent()\r\n                .hide()\r\n              form\r\n                .find('#aRole')\r\n                .parent()\r\n                .hide()\r\n              form.find('#aFullname').attr('disabled', 'disabled')\r\n              form.find('#aTitle').attr('disabled', 'disabled')\r\n              form.find('#aEmail').attr('disabled', 'disabled')\r\n              form.find('#aGrps').attr('disabled', 'disabled')\r\n              form\r\n                .find('#aSaveButton')\r\n                .addClass('disabled')\r\n                .attr('disabled', 'disabled')\r\n            } else {\r\n              form\r\n                .find('#aPass')\r\n                .parent()\r\n                .show()\r\n              form\r\n                .find('#aPassConfirm')\r\n                .parent()\r\n                .show()\r\n              form\r\n                .find('#aRole')\r\n                .parent()\r\n                .show()\r\n              form.find('#aFullname').attr('disabled', false)\r\n              form.find('#aTitle').attr('disabled', false)\r\n              form.find('#aEmail').attr('disabled', false)\r\n              form.find('#aGrps').attr('disabled', false)\r\n              form\r\n                .find('#aSaveButton')\r\n                .removeClass('disabled')\r\n                .attr('disabled', false)\r\n            }\r\n\r\n            form.find('#aId').val(user._id)\r\n            form\r\n              .find('#aUsername')\r\n              .val(user.username)\r\n              .prop('disabled', true)\r\n              .parent()\r\n              .addClass('md-input-filled')\r\n            form\r\n              .find('#aFullname')\r\n              .val(user.fullname)\r\n              .parent()\r\n              .addClass('md-input-filled')\r\n            form\r\n              .find('#aTitle')\r\n              .val(user.title)\r\n              .parent()\r\n              .addClass('md-input-filled')\r\n            form\r\n              .find('#aEmail')\r\n              .val(user.email)\r\n              .parent()\r\n              .addClass('md-input-filled')\r\n            form.find('#aRole option[value=\"' + user.role + '\"]').prop('selected', true)\r\n            if (form.find('#aRole').length > 0) {\r\n              var $selectizeRole = form.find('#aRole')[0].selectize\r\n              $selectizeRole.setValue(user.role, true)\r\n\r\n              if (loggedInAccount.role === 'support' || loggedInAccount.role === 'user') {\r\n                $selectizeRole.removeOption('admin')\r\n                $selectizeRole.removeOption('mod')\r\n              }\r\n\r\n              if (loggedInAccount.role === 'mod') {\r\n                $selectizeRole.removeOption('admin')\r\n              }\r\n\r\n              $selectizeRole.refreshItems()\r\n            }\r\n\r\n            form.find('#aGrps').multiSelect('deselect_all')\r\n            form.find('#aGrps').multiSelect('select', data.groups)\r\n            form.find('#aGrps').multiSelect('refresh')\r\n\r\n            // Profile Picture\r\n            var aImageUploadForm = $('form#aUploadImageForm')\r\n            var image = aImageUploadForm.find('img')\r\n            var inputId = aImageUploadForm.find('input#imageUpload_id')\r\n            var inputUsername = aImageUploadForm.find('input#imageUpload_username')\r\n            inputId.val(user._id)\r\n            inputUsername.val(user.username)\r\n            if (user.image) {\r\n              image.attr(\r\n                'src',\r\n                '/uploads/users/' + user.image + '?r=' + (Math.floor(Math.random() * (99999 - 10000 + 1)) + 10000)\r\n              )\r\n            } else {\r\n              image.attr(\r\n                'src',\r\n                '/uploads/users/defaultProfile.jpg?r=' + (Math.floor(Math.random() * (99999 - 10000 + 1)) + 10000)\r\n              )\r\n            }\r\n\r\n            var modal = UIkit.modal('#editAccountModal')\r\n            if (!modal.isActive()) modal.show()\r\n          })\r\n          .error(function (err) {\r\n            $log.log('[trudesk:Accounts:editAccount] - Error: ' + err.error)\r\n            helpers.UI.showSnackbar(err.error, true)\r\n          })\r\n      }\r\n\r\n      $scope.saveAccount = function () {\r\n        var form = $('#editAccountForm')\r\n        var data = form.serializeObject()\r\n        data.aUsername = form.find('#aUsername').val()\r\n        data.aGrps = form.find('#aGrps').val()\r\n        data.saveGroups = true\r\n        data.aRole = form.find('#aRole').val().length > 0 ? form.find('#aRole').val() : undefined\r\n        data.aPass = form.find('#aPass').val().length > 0 ? form.find('#aPass').val() : undefined\r\n        data.aPassConfirm = form.find('#aPassConfirm').val().length > 0 ? form.find('#aPassConfirm').val() : undefined\r\n\r\n        $http({\r\n          method: 'PUT',\r\n          url: '/api/v1/users/' + data.aUsername,\r\n          data: data,\r\n          headers: { 'Content-Type': 'application/json' }\r\n        })\r\n          .success(function (data) {\r\n            if (!data.success) {\r\n              if (data.error) {\r\n                helpers.UI.showSnackbar('Error: ' + data.error, true)\r\n                return\r\n              }\r\n\r\n              helpers.UI.showSnackbar('Error Saving Account', true)\r\n            }\r\n\r\n            helpers.UI.showSnackbar('Account Saved', false)\r\n\r\n            UIkit.modal('#editAccountModal').hide()\r\n\r\n            accountsPage.init(null, true)\r\n          })\r\n          .error(function (err) {\r\n            $log.log('[trudesk:accounts:saveAccount] - ' + err.error.message)\r\n            helpers.UI.showSnackbar('Error: ' + err.error.message, true)\r\n          })\r\n      }\r\n\r\n      $scope.accountEditPic = function () {\r\n        throttledAccountPicClick()\r\n      }\r\n\r\n      $scope.selectAccountsImport = function (event, type) {\r\n        if ($(event.currentTarget).hasClass('card-disabled')) {\r\n          return false\r\n        }\r\n\r\n        switch (type) {\r\n          case 'csv':\r\n            $('#csv_wizard_card').removeClass('uk-hidden')\r\n            $('#json-import-selector').addClass('card-disabled')\r\n            $('#ldap-import-selector').addClass('card-disabled')\r\n            break\r\n          case 'json':\r\n            $('#json_wizard_card').removeClass('uk-hidden')\r\n            $('#csv-import-selector').addClass('card-disabled')\r\n            $('#ldap-import-selector').addClass('card-disabled')\r\n            break\r\n          case 'ldap':\r\n            $('#ldap_wizard_card').removeClass('uk-hidden')\r\n            $('#csv-import-selector').addClass('card-disabled')\r\n            $('#json-import-selector').addClass('card-disabled')\r\n        }\r\n      }\r\n\r\n      $scope.resetWizardSelection = function () {\r\n        $('#csv_wizard_card').addClass('uk-hidden')\r\n        $('#json_wizard_card').addClass('uk-hidden')\r\n        $('#ldap_wizard_card').addClass('uk-hidden')\r\n\r\n        $('#csv-import-selector').removeClass('card-disabled')\r\n        $('#json-import-selector').removeClass('card-disabled')\r\n        $('#ldap-import-selector').removeClass('card-disabled')\r\n      }\r\n\r\n      function throttledAccountPicClick () {\r\n        $timeout(function () {\r\n          var $profileImageInput = $('#profileImageInput')\r\n          $profileImageInput.on('click', function (event) {\r\n            // This function is a firefox hack to stop it from spawning 100000 file dialogs\r\n            event.stopPropagation()\r\n          })\r\n\r\n          $profileImageInput.trigger('click')\r\n        }, 0)\r\n      }\r\n    })\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/angularjs/controllers/accounts.js?");

/***/ }),

/***/ "./src/public/js/angularjs/controllers/common.js":
/*!*******************************************************!*\
  !*** ./src/public/js/angularjs/controllers/common.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n      .                              .o8                     oooo\r\n   .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n   888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n   888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n   888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n   \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    02/10/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__(/*! angular */ \"./src/public/js/vendor/angular/angular.min.js\"),\r\n  __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"),\r\n  __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"),\r\n  __webpack_require__(/*! modules/socket */ \"./src/public/js/modules/socket.js\"),\r\n  __webpack_require__(/*! uikit */ \"./src/public/js/vendor/uikit/js/uikit_combined.min.js\"),\r\n  __webpack_require__(/*! modules/tour */ \"./src/public/js/modules/tour.js\"),\r\n  __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"),\r\n  __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function (angular, _, $, socket, UI, tour, helpers) {\r\n  return angular\r\n    .module('trudesk.controllers.common', ['trudesk.controllers.messages'])\r\n    .controller('commonCtrl', function ($scope, $window, $http, $cookies, $timeout, $log) {\r\n      $scope.showCreateTagWindow = function ($event) {\r\n        $event.preventDefault()\r\n        var createTagModal = $('#createTagModal')\r\n        if (createTagModal.length > 0) {\r\n          UI.modal(createTagModal, { bgclose: false }).show()\r\n        }\r\n      }\r\n\r\n      $scope.createTag = function (page, $event) {\r\n        $event.preventDefault()\r\n        var form = $('#createTagForm')\r\n        if (!form.isValid(null, null, false)) {\r\n          return true\r\n        }\r\n\r\n        var tagName = form.find('input[name=\"tagName\"]').val()\r\n        if (!tagName || tagName.length < 2) return true\r\n\r\n        $http\r\n          .post(\r\n            '/api/v1/tags/create',\r\n            {\r\n              tag: tagName\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback (response) {\r\n              var data = response.data\r\n              helpers.UI.showSnackbar('Tag: ' + tagName + ' created successfully', false)\r\n              if (page === 'settings') {\r\n                var time = new Date().getTime()\r\n                History.pushState(null, null, '/settings/tickets/?refresh=' + time)\r\n              } else if (page === 'singleticket') {\r\n                var tagModal = $('#createTagModal')\r\n                var tagFormField = $('select#tags')\r\n                tagFormField.append(\r\n                  '<option id=\"TAG__' + data.tag._id + '\" value=\"' + data.tag._id + '\">' + data.tag.name + '</option>'\r\n                )\r\n                tagFormField.find('option#TAG__' + data.tag._id).prop('selected', true)\r\n                tagFormField.trigger('chosen:updated')\r\n                form.find('#tag').val('')\r\n                if (tagModal.length > 0) UI.modal(tagModal).hide()\r\n                $timeout(function () {\r\n                  $scope.showTags($event)\r\n                }, 250)\r\n              }\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar('Unable to create tag. Check console', true)\r\n              $log.error(err)\r\n            }\r\n          )\r\n      }\r\n\r\n      // NG Init function\r\n      $scope.setDefaultCreateTicketValues = function () {\r\n        $timeout(\r\n          function () {\r\n            UI.$html.on('show.uk.modal', function (event) {\r\n              var modal = $(event.target)\r\n              var options\r\n\r\n              var first\r\n              if (modal.length > 0 && modal.attr('id') === 'ticketCreateModal') {\r\n                var codeMirror = modal.find('form#createTicketForm').find('.CodeMirror')[0].CodeMirror\r\n                codeMirror.setValue('')\r\n                modal.find('.error-border-wrap').css({ border: 'none' })\r\n                modal.find('.mde-error').remove()\r\n\r\n                // Needed on a timeout to allow blinking cursor to render\r\n                $timeout(function () {\r\n                  codeMirror.refresh()\r\n                }, 150)\r\n\r\n                var $group = modal.find('select#group')\r\n                if (angular.isDefined($group[0])) {\r\n                  var $groupSelectize = $group[0].selectize\r\n                  options = $groupSelectize.options\r\n                  first = _.chain(options)\r\n                    .map(function (v, k) {\r\n                      if (angular.isDefined(v.$order) && v.$order === 1) {\r\n                        return k\r\n                      }\r\n                    })\r\n                    .first()\r\n                    .value()\r\n                  if (first) {\r\n                    $groupSelectize.addItem(first, true)\r\n                  }\r\n\r\n                  $groupSelectize.refreshItems()\r\n                }\r\n\r\n                var $type = modal.find('select#type')\r\n                var $priorities = modal.find('#priority-wrapper')\r\n                if (angular.isDefined($priorities[0])) {\r\n                  $priorities.empty()\r\n                }\r\n\r\n                if (angular.isDefined($type[0])) {\r\n                  var $typeSelectize = $type[0].selectize\r\n                  $typeSelectize.on('change', function (value) {\r\n                    // Load Priorities on Change.\r\n                    var $priorityLoader = $('#priorityLoader')\r\n                    $priorityLoader.show()\r\n                    $priorities.empty()\r\n                    $timeout(function () {\r\n                      $http.get('/api/v1/tickets/type/' + value).then(\r\n                        function success (response) {\r\n                          if (\r\n                            response.data &&\r\n                            response.data.type &&\r\n                            response.data.type.priorities &&\r\n                            response.data.success\r\n                          ) {\r\n                            var typePriorities = response.data.type.priorities\r\n                            if (angular.isUndefined($priorities[0])) {\r\n                              return\r\n                            }\r\n\r\n                            var priorities = _.sortBy(typePriorities, 'migrationNum')\r\n                            $priorities.empty()\r\n                            _.each(priorities, function (priority, idx) {\r\n                              var checked = idx === 0 ? 'checked' : ''\r\n                              if (angular.isUndefined(priority.htmlColor)) {\r\n                                priority.htmlColor = '#29b955'\r\n                              }\r\n\r\n                              var html =\r\n                                '<span class=\"icheck-inline\">' +\r\n                                '<input class=\"with-gap\" type=\"radio\" name=\"priority\" id=\"priority_' +\r\n                                priority._id +\r\n                                '\" value=\"' +\r\n                                priority._id +\r\n                                '\" data-md-icheck ' +\r\n                                checked +\r\n                                ' />' +\r\n                                '<label for=\"priority_' +\r\n                                priority._id +\r\n                                '\" class=\"mb-10 inline-label\"><span class=\"uk-badge\" style=\"background-color: ' +\r\n                                priority.htmlColor +\r\n                                '\">' +\r\n                                priority.name +\r\n                                '</span></label>' +\r\n                                '</span>'\r\n\r\n                              $priorities.append(html)\r\n                            })\r\n\r\n                            $priorityLoader.hide()\r\n                          }\r\n                        },\r\n                        function error (err) {\r\n                          $log.error(err)\r\n                        }\r\n                      )\r\n                    }, 250)\r\n                  })\r\n\r\n                  options = $typeSelectize.options\r\n                  var defaultType = $type.attr('data-default')\r\n                  if (defaultType) {\r\n                    var selectDefault = _.find(options, { value: defaultType }).value\r\n\r\n                    if (selectDefault) {\r\n                      $typeSelectize.addItem(selectDefault, true)\r\n                    }\r\n                  } else {\r\n                    first = _.chain(options)\r\n                      .map(function (v, k) {\r\n                        if (angular.isDefined(v.$order) && v.$order === 1) return k\r\n                      })\r\n                      .first()\r\n                      .value()\r\n\r\n                    if (first) {\r\n                      $typeSelectize.addItem(first, true)\r\n                    }\r\n                  }\r\n\r\n                  $typeSelectize.refreshItems()\r\n                }\r\n\r\n                // Now load priorities for the given type...\r\n                // NOTE: This ends up being handled in the onChange event during modal load.\r\n                // if (angular.isDefined($priorities[0])) {\r\n                //     $priorities.empty();\r\n                //     var json = $priorities.attr('data-default-priorities');\r\n                //     var parsedPriorities = angular.fromJson(json);\r\n                //     var priorities = _.sortBy(parsedPriorities, 'migrationNum');\r\n                //     _.each(priorities, function(priority, idx) {\r\n                //         var checked = (idx === 0) ? 'checked' : '';\r\n                //         if (angular.isUndefined(priority.htmlColor))\r\n                //             priority.htmlColor = '#29b955';\r\n                //\r\n                //         var html = '<span class=\"icheck-inline\">\\n' +\r\n                //             '<input class=\"with-gap\" type=\"radio\" name=\"priority\" id=\"priority_' + priority._id + '\" value=\"' + priority._id + '\" data-md-icheck ' + checked + ' />\\n' +\r\n                //             '<label for=\"priority_' + priority._id + '\" class=\"mb-10 inline-label\"><span class=\"uk-badge\" style=\"background-color: ' + priority.htmlColor +'\">' + priority.name + '</span></label>\\n' +\r\n                //             '</span>';\r\n                //\r\n                //         $priorities.append(html);\r\n                //     });\r\n                // }\r\n              }\r\n            })\r\n          },\r\n          0,\r\n          false\r\n        )\r\n      }\r\n\r\n      $scope.loadNoticeAlertWindow = function () {\r\n        // Load the function In the next Tick...\r\n        $timeout(\r\n          function () {\r\n            // Bind to Events\r\n            UI.$html.on('hide.uk.modal', function (event) {\r\n              var modal = $(event.target)\r\n              if (modal.length > 0) {\r\n                var form = modal.find('form')[0]\r\n                if (!_.isUndefined(form)) {\r\n                  form.reset()\r\n                }\r\n                modal.find('option').prop('selected', false)\r\n                var $select = modal.find('form').find('select')\r\n                $select.each(function () {\r\n                  var vm = this\r\n                  var self = $(vm)\r\n                  var $selectize = self[0].selectize\r\n                  // $selectize.addOption({value: -1, text: \"Select Group...\"});\r\n                  // $selectize.refreshOptions();\r\n                  // $selectize.setValue(-1);\r\n                  if (!_.isUndefined($selectize)) {\r\n                    $selectize.clear()\r\n                  }\r\n                })\r\n                var $mdInputFilled = modal.find('*.md-input-filled')\r\n                $mdInputFilled.each(function () {\r\n                  var vm = this\r\n                  var self = $(vm)\r\n                  self.removeClass('md-input-filled')\r\n                })\r\n              }\r\n            })\r\n\r\n            $scope.noticeAlertWindow = $('#noticeAlertWindow')\r\n            if ($scope.noticeAlertWindow.length > 0) {\r\n              var cookieName = $('#__noticeCookieName').text()\r\n              if (angular.isUndefined(cookieName) || _.isEmpty(cookieName)) return true\r\n              var shouldShowNotice =\r\n                $cookies.get(cookieName) === 'true' || angular.isUndefined($cookies.get(cookieName))\r\n\r\n              if (shouldShowNotice) {\r\n                var modal = UI.modal($scope.noticeAlertWindow, {\r\n                  bgclose: false\r\n                })\r\n\r\n                modal.show()\r\n              }\r\n            }\r\n          },\r\n          0,\r\n          false\r\n        )\r\n      }\r\n\r\n      $scope.confirmNoticeClick = function () {\r\n        if ($scope.noticeAlertWindow.length < 1) return\r\n        var cookieName = $('#__noticeCookieName').text()\r\n        var expiresDate = new Date()\r\n        expiresDate.setDate(expiresDate.getDate() + 1)\r\n        $cookies.put(cookieName, 'false', { expires: expiresDate })\r\n\r\n        UI.modal($scope.noticeAlertWindow).hide()\r\n      }\r\n\r\n      $scope.clearNotifications = function ($event) {\r\n        $event.preventDefault()\r\n        $event.stopPropagation()\r\n\r\n        socket.ui.clearNotifications()\r\n      }\r\n\r\n      // Fired from Topbar.hbs\r\n      $scope.loadTour = function () {\r\n        $timeout(\r\n          function () {\r\n            var showTour = $('#__tourEnabled').text() === 'true'\r\n            if (showTour) {\r\n              if ($window.location.pathname !== '/dashboard') {\r\n                $window.location.href = '/dashboard'\r\n              } else {\r\n                tour.init()\r\n              }\r\n            }\r\n          },\r\n          0,\r\n          false\r\n        )\r\n      }\r\n\r\n      $scope.markRead = function ($event) {\r\n        var $id = $($event.currentTarget).attr('data-notificationid')\r\n        if ($id.length < 1) return\r\n\r\n        socket.ui.markNotificationRead($id)\r\n      }\r\n\r\n      $scope.closeNoticeAlert = function ($event) {\r\n        $event.preventDefault()\r\n        UI.modal('#noticeAlertWindow').hide()\r\n      }\r\n\r\n      $scope.showPrivacyPolicyModal = function ($event) {\r\n        $event.preventDefault()\r\n\r\n        $scope.privacyPolicyWindow = $('#privacyPolicyWindow')\r\n        if ($scope.privacyPolicyWindow.length > 0) {\r\n          var modal = UI.modal($scope.privacyPolicyWindow, {\r\n            bgclose: true\r\n          })\r\n\r\n          modal.show()\r\n        }\r\n      }\r\n\r\n      $scope.showAllNotifications = function ($event) {\r\n        $event.preventDefault()\r\n\r\n        $scope.showAllNotificationsWindow = $('#viewAllNotificationsModal')\r\n        if ($scope.showAllNotificationsWindow.length > 0) {\r\n          socket.ui.emitUpdateAllNotifications()\r\n\r\n          var modal = UI.modal($scope.showAllNotificationsWindow, {\r\n            bgclose: true\r\n          })\r\n\r\n          helpers.hideAllpDropDowns()\r\n          modal.show()\r\n        }\r\n      }\r\n    })\r\n    .directive('closeUkDropdown', function ($document, $timeout) {\r\n      return {\r\n        restrict: 'A',\r\n        link: function (scope, element) {\r\n          // $document.off('mouseup', mouseup);\r\n          // $document.on('mouseup', mouseup);\r\n\r\n          element.off('mouseup', mouseup)\r\n          element.on('mouseup', mouseup)\r\n\r\n          function mouseup () {\r\n            var thisDropdown = element.parents('.uk-dropdown')\r\n\r\n            thisDropdown.removeClass('uk-dropdown-shown')\r\n\r\n            $timeout(function () {\r\n              thisDropdown.removeClass('uk-dropdown-active')\r\n              thisDropdown\r\n                .parents('*[data-uk-dropdown]')\r\n                .removeClass('uk-open')\r\n                .attr('aria-expanded', false)\r\n            }, 280)\r\n          }\r\n        }\r\n      }\r\n    })\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/angularjs/controllers/common.js?");

/***/ }),

/***/ "./src/public/js/angularjs/controllers/editor.js":
/*!*******************************************************!*\
  !*** ./src/public/js/angularjs/controllers/editor.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\r\n *       .                             .o8                     oooo\r\n *    .o8                             \"888                     `888\r\n *  .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n *    888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n *    888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n *    888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n *    \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n *  ========================================================================\r\n *  Author:     Chris Brame\r\n *  Updated:    1/20/19 10:03 PM\r\n *  Copyright (c) 2014-2019. All rights reserved.\r\n */\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__(/*! angular */ \"./src/public/js/vendor/angular/angular.min.js\"),\r\n  __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"),\r\n  __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"),\r\n  __webpack_require__(/*! modules/socket */ \"./src/public/js/modules/socket.js\"),\r\n  __webpack_require__(/*! uikit */ \"./src/public/js/vendor/uikit/js/uikit_combined.min.js\"),\r\n  __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"),\r\n  __webpack_require__(/*! grapesjs */ \"./src/public/js/vendor/grapesjs/grapes.min.js\"),\r\n  __webpack_require__(/*! grapesjsEmail */ \"./src/public/js/vendor/grapesjs/grapesjs-preset-email.min.js\"),\r\n  __webpack_require__(/*! handlebars */ \"./src/public/js/vendor/handlebars/handlebars.js\"),\r\n  __webpack_require__(/*! moment */ \"./src/public/js/vendor/moment/moment.js\"),\r\n  __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function (angular, _, $, socket, UIKit, helpers, grapesjs, grapesjsEmail, Handlebars, moment) {\r\n  return angular\r\n    .module('trudesk.controllers.editor', [])\r\n    .controller('editorController', function ($scope, $window, $http, $cookies, $timeout, $log) {\r\n      $timeout(function () {\r\n        Handlebars.registerHelper('formatDate', function (date, format) {\r\n          return moment\r\n            .utc(date)\r\n            .tz(helpers.getTimezone())\r\n            .format(format)\r\n        })\r\n\r\n        var longDateFormat = helpers.getLongDateFormat()\r\n        var timeFormat = helpers.getTimeFormat()\r\n        var longDateWithTimeFormat = longDateFormat + ' ' + timeFormat\r\n\r\n        $(document).ready(function () {\r\n          var template = $scope.template\r\n          var editor = grapesjs.init({\r\n            container: '#web-editor',\r\n            plugins: ['gjs-preset-newsletter'],\r\n            pluginOpts: {\r\n              'gjs-preset-newsletter': {\r\n                modalTitleImport: 'Import template'\r\n              }\r\n            },\r\n            canvas: {\r\n              // Workaround for a bug preventing links from being deleted\r\n              // https://github.com/artf/grapesjs/issues/1699\r\n              notTextable: ['button', 'a', 'input[type=checkbox]', 'input[type=radio]']\r\n            },\r\n            storageManager: {\r\n              type: 'remote',\r\n              autosave: false,\r\n              urlStore: '/api/v1/editor/save',\r\n              urlLoad: '/api/v1/editor/load/' + template,\r\n              contentTypeJson: true,\r\n              storeStyles: false,\r\n              storeComponents: false,\r\n              params: { template: template }\r\n            },\r\n            assetManager: {\r\n              upload: '/api/v1/editor/assets/upload',\r\n              multiUpload: false\r\n            },\r\n            commands: {\r\n              defaults: [\r\n                {\r\n                  id: 'store-data',\r\n                  run: function (editor, sender) {\r\n                    sender.set('active', 0)\r\n                    editor.store()\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          })\r\n\r\n          // Make sure the editor is really fresh\r\n          editor.DomComponents.clear()\r\n          editor.CssComposer.clear()\r\n          editor.UndoManager.clear()\r\n          editor.setComponents()\r\n          editor.setStyle()\r\n\r\n          var pfx = editor.getConfig().stylePrefix\r\n          var modal = editor.Modal\r\n          var cmdm = editor.Commands\r\n          var codeViewer = editor.CodeManager.getViewer('CodeMirror').clone()\r\n          var pnm = editor.Panels\r\n          var container = document.createElement('div')\r\n          var btnEdit = document.createElement('button')\r\n\r\n          codeViewer.set({\r\n            codeName: 'htmlmixed',\r\n            readOnly: 0,\r\n            theme: 'hopscotch',\r\n            autoBeautify: true,\r\n            autoCloseTags: true,\r\n            autoCloseBrackets: true,\r\n            lineWrapping: true,\r\n            styleActiveLine: true,\r\n            smartIndent: true,\r\n            indentWithTabs: true\r\n          })\r\n\r\n          btnEdit.innerHTML = 'Edit'\r\n          btnEdit.className = pfx + 'btn-prim ' + pfx + 'btn-import'\r\n          btnEdit.onclick = function () {\r\n            var code = codeViewer.editor.getValue()\r\n            editor.DomComponents.getWrapper().set('content', '')\r\n            editor.setComponents(code.trim())\r\n            modal.close()\r\n          }\r\n\r\n          cmdm.add('html-edit', {\r\n            run: function (editor, sender) {\r\n              sender && sender.set('active', 0)\r\n              var viewer = codeViewer.editor\r\n              modal.setTitle('Edit code')\r\n              if (!viewer) {\r\n                var txtarea = document.createElement('textarea')\r\n                container.appendChild(txtarea)\r\n                container.appendChild(btnEdit)\r\n                codeViewer.init(txtarea)\r\n                viewer = codeViewer.editor\r\n              }\r\n              var InnerHtml = editor.getHtml()\r\n              var Css = editor.getCss()\r\n              modal.setContent('')\r\n              modal.setContent(container)\r\n              codeViewer.setContent('<style>' + Css + '</style>' + InnerHtml)\r\n              modal.open()\r\n              viewer.refresh()\r\n            }\r\n          })\r\n\r\n          // pnm.addButton('options', [\r\n          //   {\r\n          //     id: 'edit',\r\n          //     className: 'fa fa-edit',\r\n          //     command: 'html-edit',\r\n          //     attributes: {\r\n          //       title: 'Edit'\r\n          //     }\r\n          //   }\r\n          // ])\r\n\r\n          var comps = editor.DomComponents\r\n          var defaultType = comps.getType('default')\r\n          var defaultModel = defaultType.model\r\n\r\n          var context = {\r\n            ticket: {\r\n              owner: {},\r\n              priority: {\r\n                name: 'Normal',\r\n                htmlColor: 'green'\r\n              },\r\n              issue: '{{{ticket.issue}}}',\r\n              comments: [\r\n                {\r\n                  date: new Date(),\r\n                  owner: {\r\n                    fullname: '{{FULLNAME}}',\r\n                    email: '{{EMAIL}}'\r\n                  },\r\n                  comment: '{{COMMENT TEXT}}'\r\n                },\r\n                {\r\n                  date: new Date(),\r\n                  owner: {\r\n                    fullname: '{{FULLNAME}}',\r\n                    email: '{{EMAIL}}'\r\n                  },\r\n                  comment: '{{COMMENT TEXT}}'\r\n                }\r\n              ]\r\n            }\r\n          }\r\n\r\n          comps.addType('handlebars', {\r\n            model: defaultModel.extend(\r\n              {\r\n                defaults: Object.assign({}, defaultModel.prototype.defaults, {\r\n                  tagName: 'handlebars',\r\n                  droppable: true,\r\n                  editable: true\r\n                }),\r\n                toHTML: function () {\r\n                  // If I have components I'll follow the original method\r\n                  // otherwise return the template\r\n                  if (this.components().length) {\r\n                    return defaultModel.prototype.toHTML.apply(this, arguments)\r\n                  } else {\r\n                    return this.get('components')\r\n                  }\r\n                }\r\n              },\r\n              {\r\n                // isComponent is mandatory when you define new components\r\n                isComponent: function (el) {\r\n                  if (el.tagName === 'HANDLEBARS') return { type: 'handlebars' }\r\n                }\r\n              }\r\n            ),\r\n            view: defaultType.view.extend({\r\n              onRender: function () {\r\n                var $el = this.$el\r\n                var model = this.model\r\n                var html = model.toHTML()\r\n                var template = Handlebars.compile(html)\r\n                $el.empty()\r\n                $el.append(template(context))\r\n                return this\r\n              }\r\n            })\r\n          })\r\n\r\n          editor.BlockManager.add('profilePicture', {\r\n            label: 'Ticket Owner-Profile Pic',\r\n            category: 'Ticket Components',\r\n            attributes: { class: 'fa fa-image' },\r\n            content: {\r\n              type: 'handlebars',\r\n              components:\r\n                '<span>\\n' +\r\n                '{{#if ticket.owner.image}}\\n' +\r\n                '<img src=\"{{base_url}}/uploads/users/{{ticket.owner.image}}\" style=\"box-sizing: border-box; width: 50px; height: 50px; border-radius: 25px 25px 25px 25px;\" width=\"50\" height=\"50\">\\n' +\r\n                '{{else}}\\n' +\r\n                '<img src=\"{{base_url}}/uploads/users/defaultProfile.jpg\" style=\"box-sizing: border-box; width: 50px; height: 50px; border-radius: 25px 25px 25px 25px;\" width=\"50\" height=\"50\">\\n' +\r\n                '{{/if}}\\n' +\r\n                '</span>\\n'\r\n            }\r\n          })\r\n\r\n          editor.BlockManager.add('ticket-comments', {\r\n            label: 'Ticket Comments Loop',\r\n            category: 'Ticket Components',\r\n            attributes: { class: 'fa fa-comment' },\r\n            content: {\r\n              type: 'handlebars',\r\n              style: { width: '100%' },\r\n              components:\r\n                '<div style=\"width: 100%;\">\\n' +\r\n                '{{#each ticket.comments}}' +\r\n                '<table style=\"box-sizing: border-box; margin: 0 auto 15px auto; padding: 5px 5px 5px 5px; width: 100%; border-bottom: 1px solid #ccc;\" width=\"100%\" height=\"auto\">\\n' +\r\n                '                  <tbody style=\"box-sizing: border-box;\">\\n' +\r\n                '                    <tr style=\"box-sizing: border-box;\">\\n' +\r\n                '                      <td style=\"box-sizing: border-box; padding: 0; margin: 0; vertical-align: top; width: 65px;\" width=\"65\" valign=\"top\">\\n' +\r\n                '                        <span style=\"box-sizing: border-box;\">\\n' +\r\n                '                          {{#if owner.image}}\\n' +\r\n                '                          <img src=\"{{base_url}}/uploads/users/{{owner.image}}\" style=\"box-sizing: border-box; width: 50px; height: 50px; border-radius: 25px 25px 25px 25px;\" width=\"50\" height=\"50\">\\n' +\r\n                '                          {{else}}\\n' +\r\n                '                          <img src=\"{{base_url}}/uploads/users/defaultProfile.jpg\" style=\"box-sizing: border-box; width: 50px; height: 50px; border-radius: 25px 25px 25px 25px;\" width=\"50\" height=\"50\">\\n' +\r\n                '                          {{/if}}\\n' +\r\n                '                        </span>\\n' +\r\n                '                      </td>\\n' +\r\n                '                      <td style=\"box-sizing: border-box; padding: 0; margin: 0; vertical-align: top; width: auto; text-align: left;\" valign=\"top\" align=\"left\">\\n' +\r\n                '                        <div style=\"box-sizing: border-box; padding: 3px 10px; font-family: Helvetica, serif; font-size: 14px; font-weight: 600; color: rgb(111, 119, 125); text-align: left;\">{{owner.fullname}}\\n' +\r\n                '                        </div>\\n' +\r\n                '                        <a href=\"mailto:{{email}}\" style=\"box-sizing: border-box; color: rgb(231, 76, 60); font-size: 13px; padding: 0 0 0 0; margin: 0 0 0 10px;\">{{owner.email}}</a>\\n' +\r\n                '                         <div style=\"box-sizing: border-box; margin-left: 10px; margin-top: 3px; display: block; font-size: 13px; font-family: Helvetica, Arial, sans-serif; color: rgb(111, 119, 125); width: 100%;\">{{formatDate date \"' +\r\n                longDateWithTimeFormat +\r\n                '\"}}</div>\\n' +\r\n                '                        <div style=\"box-sizing: border-box; margin-top: 10px; padding: 3px 10px; font-family: Helvetica, serif; font-size: 14px; color: #666666;\">{{{comment}}}\\n' +\r\n                '                        </div>\\n' +\r\n                '                      </td>\\n' +\r\n                '                    </tr>\\n' +\r\n                '                  </tbody>\\n' +\r\n                '                </table>\\n' +\r\n                '{{/each}}\\n' +\r\n                '</div>'\r\n            }\r\n          })\r\n\r\n          editor.BlockManager.add('email-with-fullname', {\r\n            label: 'Owner Fullname - Email',\r\n            category: 'Ticket Components',\r\n            attributes: { class: 'fa fa-envelope' },\r\n            content: {\r\n              editable: true,\r\n              type: 'link',\r\n              style: {\r\n                color: 'rgb(231, 76, 60)',\r\n                'font-size': '13px',\r\n                display: 'inline-block'\r\n              },\r\n              attributes: { href: 'mailto:{{ticket.owner.email}}' },\r\n              content: '{{ticket.owner.fullname}} - {{ticket.owner.email}}'\r\n            }\r\n          })\r\n\r\n          editor.BlockManager.add('view-ticket-button', {\r\n            label: 'View Ticket Button',\r\n            category: 'Ticket Components',\r\n            attributes: { class: 'fa fa-hand-pointer-o' },\r\n            content: {\r\n              type: 'link',\r\n              style: {\r\n                padding: '10px 20px',\r\n                display: 'inline-block',\r\n                color: 'rgb(255, 255, 255)',\r\n                'font-size': '16px',\r\n                'font-weight': 'bold',\r\n                'text-align': 'center',\r\n                'text-decoration': 'none',\r\n                background: 'rgb(231, 76, 60)',\r\n                'border-radius': '3px'\r\n              },\r\n              attributes: { href: '{{base_url}}/tickets/{{ticket.uid}}' },\r\n              content: 'View Ticket #{{ticket.uid}}'\r\n            }\r\n          })\r\n\r\n          pnm.addButton('options', {\r\n            id: 'save',\r\n            className: 'fa fa-save',\r\n            command: 'store-data',\r\n            attributes: { title: 'Save' }\r\n          })\r\n\r\n          $http.get('/api/v1/editor/assets').then(\r\n            function (res) {\r\n              editor.AssetManager.add(res.data.assets)\r\n            },\r\n            function (err) {\r\n              $log.error(err)\r\n              helpers.UI.showSnackbar(err.error, true)\r\n            }\r\n          )\r\n\r\n          editor.AssetManager.addType('image', {\r\n            view: {\r\n              onRemove: function (e) {\r\n                var model = this.model\r\n\r\n                UIKit.modal.confirm(\r\n                  'Are you sure you want to delete asset?',\r\n                  function () {\r\n                    $http\r\n                      .post(\r\n                        '/api/v1/editor/assets/remove',\r\n                        {\r\n                          fileUrl: model.id\r\n                        },\r\n                        {\r\n                          headers: { 'Content-Type': 'application/json' }\r\n                        }\r\n                      )\r\n                      .then(\r\n                        function () {\r\n                          model.collection.remove(model)\r\n                        },\r\n                        function (err) {\r\n                          $log.error(err)\r\n                          helpers.UI.showSnackbar(err.error, true)\r\n                        }\r\n                      )\r\n                  },\r\n                  {\r\n                    labels: { Ok: 'Yes', Cancel: 'No' },\r\n                    confirmButtonClass: 'md-btn-danger'\r\n                  }\r\n                )\r\n              }\r\n            }\r\n          })\r\n\r\n          editor.on('asset:upload:error', function (err) {\r\n            var errObj = angular.fromJson(err)\r\n            $log.error(errObj)\r\n            helpers.UI.showSnackbar('Error: ' + errObj.error.message, true)\r\n          })\r\n\r\n          editor.on('storage:start:store', function (objectToStore) {\r\n            objectToStore.assets = '[]'\r\n            objectToStore.fullHtml =\r\n              '<!DOCTYPE html>\\n' +\r\n              '<html lang=\"en\" xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\">\\n' +\r\n              '<head>\\n' +\r\n              '    <meta charset=\"utf-8\">\\n' +\r\n              '    <meta name=\"viewport\" content=\"width=device-width\">\\n' +\r\n              '    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\\n' +\r\n              '    <meta name=\"x-apple-disable-message-reformatting\">\\n' +\r\n              '</head>\\n' +\r\n              '<body>' +\r\n              editor.runCommand('gjs-get-inlined-html') +\r\n              '</body>\\n' +\r\n              '</html>'\r\n          })\r\n\r\n          editor.on('storage:end:store', function (result) {\r\n            if (result.success) {\r\n              helpers.UI.showSnackbar('Saved template successfully.')\r\n            }\r\n          })\r\n\r\n          editor.on('storage:error', function (err) {\r\n            var errObj = angular.fromJson(err)\r\n            $log.error(errObj)\r\n            helpers.UI.showSnackbar('Error: ' + errObj.error.message, true)\r\n            if (errObj.invalid) {\r\n              $('#web-editor').remove()\r\n              $('#web-editor-invalid-notification')\r\n                .removeClass('hide')\r\n                .parent()\r\n                .css('position', 'relative')\r\n              setTimeout(function () {\r\n                $window.location.href = '/settings/mailer'\r\n              }, 3000)\r\n            }\r\n          })\r\n        })\r\n      }, 0)\r\n    })\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/angularjs/controllers/editor.js?");

/***/ }),

/***/ "./src/public/js/angularjs/controllers/groups.js":
/*!*******************************************************!*\
  !*** ./src/public/js/angularjs/controllers/groups.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n      .                              .o8                     oooo\r\n   .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n   888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n   888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n   888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n   \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    02/10/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__(/*! angular */ \"./src/public/js/vendor/angular/angular.min.js\"),\r\n  __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"),\r\n  __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"),\r\n  __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"),\r\n  __webpack_require__(/*! uikit */ \"./src/public/js/vendor/uikit/js/uikit_combined.min.js\"),\r\n  __webpack_require__(/*! jquery_custom */ \"./src/public/js/plugins/jquery.custom.js\"),\r\n  __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\"),\r\n  __webpack_require__(/*! multiselect */ \"./src/public/js/vendor/multiselect/js/jquery.multi-select.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function (angular, _, $, helpers, UIkit) {\r\n  return angular\r\n    .module('trudesk.controllers.groups', [])\r\n    .controller('groupsCtrl', function ($scope, $http, $timeout, $log) {\r\n      $scope.editGroup = function ($event) {\r\n        if (_.isNull($event.target) || _.isUndefined($event.target)) {\r\n          return false\r\n        }\r\n        var self = $($event.target)\r\n        var groupId = self.attr('data-group-id')\r\n\r\n        $http\r\n          .get('/api/v1/groups/' + groupId)\r\n          .success(function (data) {\r\n            var group = data.group\r\n            var form = $('#editGroupForm')\r\n            form.find('#__EditId').text(group._id)\r\n            form\r\n              .find('#gName')\r\n              .val(group.name)\r\n              .parent()\r\n              .addClass('md-input-filled')\r\n            var mappedMembers = _.map(group.members, '_id')\r\n            var mappedSendMailTo = _.map(group.sendMailTo, '_id')\r\n\r\n            form.find('#gMembers').multiSelect('deselect_all')\r\n            form.find('#gMembers').multiSelect('select', mappedMembers)\r\n            form.find('#gSendMailTo').multiSelect('deselect_all')\r\n            form.find('#gSendMailTo').multiSelect('select', mappedSendMailTo)\r\n\r\n            UIkit.modal('#groupEditModal').show()\r\n          })\r\n          .error(function (err) {\r\n            $log.log('[trudesk:groups:editGroup] - Error: ' + err)\r\n            helpers.UI.showSnackbar(err, true)\r\n          })\r\n      }\r\n\r\n      $scope.saveEditGroup = function ($event) {\r\n        var id = $($event.target)\r\n          .parents('form')\r\n          .find('#__EditId')\r\n          .text()\r\n        if (_.isUndefined(id)) {\r\n          helpers.UI.showSnackbar('Unable to get Group ID', true)\r\n          return false\r\n        }\r\n        var $form = $('#editGroupForm')\r\n        var formData = $form.serializeObject()\r\n        var members = $form.find('#gMembers').val()\r\n        var sendMailTo = $form.find('#gSendMailTo').val()\r\n\r\n        var apiData = {\r\n          name: formData.gName,\r\n          members: members,\r\n          sendMailTo: sendMailTo\r\n        }\r\n\r\n        $http({\r\n          method: 'PUT',\r\n          url: '/api/v1/groups/' + id,\r\n          data: apiData,\r\n          headers: { 'Content-Type': 'application/json' }\r\n        })\r\n          .success(function () {\r\n            helpers.UI.showSnackbar('Group Saved Successfully', false)\r\n            UIkit.modal('#groupEditModal').hide()\r\n            // Refresh Grid\r\n            refreshGrid()\r\n          })\r\n          .error(function (err) {\r\n            $log.log('[trudesk:groups:saveEditGroup] - Error: ' + err)\r\n            helpers.UI.showSnackbar(err.error, true)\r\n          })\r\n      }\r\n\r\n      $scope.createGroup = function () {\r\n        var formData = $('#createGroupForm').serializeObject()\r\n        var apiData = {\r\n          name: formData.gName,\r\n          members: formData.gMembers,\r\n          sendMailTo: formData.gSendMailTo\r\n        }\r\n\r\n        $http({\r\n          method: 'POST',\r\n          url: '/api/v1/groups/create',\r\n          data: apiData,\r\n          headers: { 'Content-Type': 'application/json' }\r\n        })\r\n          .success(function () {\r\n            helpers.UI.showSnackbar('Group Created Successfully', false)\r\n            UIkit.modal('#groupCreateModal').hide()\r\n            // Refresh Grid\r\n            $timeout(function () {\r\n              refreshGrid()\r\n            }, 0)\r\n          })\r\n          .error(function (err) {\r\n            $log.log('[trudesk:groups:createGroup] - Error: ' + err)\r\n            helpers.UI.showSnackbar(err, true)\r\n          })\r\n      }\r\n\r\n      $scope.deleteGroup = function (event) {\r\n        event.preventDefault()\r\n        var self = $(event.currentTarget)\r\n        var groupID = self.attr('data-group-id')\r\n        var card = self.parents('.tru-card-wrapper')\r\n        if (groupID) {\r\n          UIkit.modal.confirm(\r\n            'Are you sure you want to delete group: <strong>' + card.find('h3').attr('data-group-name') + '</strong>',\r\n            function () {\r\n              helpers.showLoader(0.8)\r\n              $http\r\n                .delete('/api/v1/groups/' + groupID)\r\n                .success(function () {\r\n                  helpers.hideLoader()\r\n                  helpers.UI.showSnackbar('Group Successfully Deleted', false)\r\n\r\n                  card.remove()\r\n                  UIkit.$html.trigger('changed.uk.dom')\r\n                })\r\n                .error(function (err) {\r\n                  helpers.hideLoader()\r\n                  $log.log('[trudesk:groups:deleteGroup] - Error: ' + err.error)\r\n                  helpers.UI.showSnackbar(err.error, true)\r\n                })\r\n            },\r\n            {\r\n              labels: { Ok: 'Yes', Cancel: 'No' },\r\n              confirmButtonClass: 'md-btn-danger'\r\n            }\r\n          )\r\n        }\r\n      }\r\n\r\n      function refreshGrid () {\r\n        var $cards = $('#group_list').find('.tru-card-wrapper')\r\n        $cards.each(function () {\r\n          var vm = this\r\n          var self = $(vm)\r\n          self.remove()\r\n        })\r\n\r\n        $http\r\n          .get('/api/v1/groups/all')\r\n          .success(function (data) {\r\n            var $groupList = $('#group_list')\r\n\r\n            var html = ''\r\n            _.each(data.groups, function (group) {\r\n              html += buildHTML(group)\r\n            })\r\n\r\n            var $injector = angular.injector(['ng', 'trudesk'])\r\n            $injector.invoke([\r\n              '$compile',\r\n              '$rootScope',\r\n              function ($compile, $rootScope) {\r\n                var $scope = $groupList.append(html).scope()\r\n                $compile($groupList)($scope || $rootScope)\r\n                $rootScope.$digest()\r\n              }\r\n            ])\r\n\r\n            UIkit.$html.trigger('changed.uk.dom')\r\n          })\r\n          .error(function (err) {\r\n            $log.log('[trudesk:groups:refreshGrid] - Error: ' + err.error)\r\n            helpers.UI.showSnackbar(err.error, true)\r\n          })\r\n      }\r\n\r\n      function buildHTML (group) {\r\n        var html = ''\r\n        html += '<div class=\"tru-card-wrapper\" data-uk-filter=\"' + group.name + '\">'\r\n        html += '<div class=\"tru-card tru-card-hover\">'\r\n        html += '<div class=\"tru-card-head\">'\r\n        html += '<div class=\"tru-card-head-menu\" data-uk-dropdown=\"{pos: \\'bottom-right\\',mode:\\'click\\'}\">'\r\n        html += '<i class=\"material-icons tru-icon\">&#xE5D4;</i>'\r\n        html += '<div class=\"uk-dropdown uk-dropdown-small\">'\r\n        html += '<ul class=\"uk-nav\">'\r\n        html +=\r\n          '<li><a href=\"#\" class=\"no-ajaxy\" data-group-id=\"' +\r\n          group._id +\r\n          '\" ng-click=\"editGroup($event)\">Edit</a></li>'\r\n        html +=\r\n          '<li><a href=\"#\" class=\"no-ajaxy\" data-group-id=\"' +\r\n          group._id +\r\n          '\" ng-click=\"deleteGroup($event)\">Remove</a></li>'\r\n        html += '</ul>'\r\n        html += '</div>'\r\n        html += '</div>'\r\n        html += '<h3 class=\"tru-card-head-text uk-text-center\" style=\"padding-top:60px;\">'\r\n        html += group.name\r\n        html += '<span class=\"uk-text-truncate\">'\r\n        html += _.size(group.members).toString() + ' ' + (_.size(group.members) === 1 ? 'member' : 'members')\r\n        html += '</span>'\r\n        html += '</h3>'\r\n        html += '</div>'\r\n        html += '</div>'\r\n        html += '</div>'\r\n\r\n        return html\r\n      }\r\n    })\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/angularjs/controllers/groups.js?");

/***/ }),

/***/ "./src/public/js/angularjs/controllers/messages.js":
/*!*********************************************************!*\
  !*** ./src/public/js/angularjs/controllers/messages.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n .                              .o8                     oooo\r\n .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n 888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n 888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n 888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    05/22/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__(/*! angular */ \"./src/public/js/vendor/angular/angular.min.js\"),\r\n  __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"),\r\n  __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"),\r\n  __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"),\r\n  __webpack_require__(/*! modules/socket */ \"./src/public/js/modules/socket.js\"),\r\n  __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\"),\r\n  __webpack_require__(/*! angularjs/services/session */ \"./src/public/js/angularjs/services/session.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function (angular, _, $, helpers, socket) {\r\n  return angular\r\n    .module('trudesk.controllers.messages', ['trudesk.services.session'])\r\n    .controller('messagesCtrl', function (SessionService, $scope, $document, $http, $window, $cookies, $timeout, $log) {\r\n      $scope.loadConversation = function (convoId) {\r\n        History.pushState(null, null, '/messages/' + convoId)\r\n      }\r\n\r\n      $scope.sendChatMessage = function (cid, toUserId, event) {\r\n        var form = $(event.target)\r\n        if (form.length < 1) return false\r\n\r\n        var input = form.find('input[name=\"chatMessage\"]')\r\n\r\n        if (input.val().length < 1) {\r\n          return false\r\n        }\r\n\r\n        socket.chat.sendChatMessage(cid, toUserId, input.val(), function (err) {\r\n          if (err) $log.warn(err)\r\n          input.val('')\r\n\r\n          socket.chat.stopTyping(cid, toUserId)\r\n        })\r\n\r\n        event.preventDefault()\r\n      }\r\n\r\n      $scope.onKeyDown = function (cid, toUserId, $event) {\r\n        if ($event.keyCode !== 13) {\r\n          socket.chat.startTyping(cid, toUserId)\r\n        }\r\n      }\r\n\r\n      $scope.showUserList = function ($event, callback) {\r\n        if (!_.isUndefined($event)) {\r\n          $event.preventDefault()\r\n        }\r\n        var convoList = $document[0].getElementById('convo-list')\r\n        convoList.style.transition = 'opacity 0.25s'\r\n        convoList.style.opacity = 0\r\n\r\n        var allUserList = $document[0].getElementById('new-convo-user-list')\r\n        allUserList.style.opacity = 0\r\n        allUserList.classList.remove('hide')\r\n        allUserList.style.display = 'block'\r\n        allUserList.style.transition = 'opacity 0.25s'\r\n\r\n        $timeout(function () {\r\n          convoList.style.display = 'none'\r\n\r\n          allUserList.style.opacity = 1\r\n\r\n          var actions = $document[0].getElementById('convo-actions').children\r\n          ;[].forEach.call(actions, function (el) {\r\n            if (el.style.display === 'none') {\r\n              el.style.display = 'block'\r\n            } else {\r\n              el.style.display = 'none'\r\n            }\r\n          })\r\n\r\n          // if ($('.all-user-list').getNiceScroll(0) != false) {\r\n          //     $('.all-user-list').getNiceScroll(0).resize();\r\n          // }\r\n\r\n          if (_.isFunction(callback)) {\r\n            return callback()\r\n          }\r\n        }, 200)\r\n      }\r\n\r\n      $scope.hideUserList = function ($event) {\r\n        if (!_.isUndefined($event)) {\r\n          $event.preventDefault()\r\n        }\r\n        var allUserList = $document[0].getElementById('new-convo-user-list')\r\n        allUserList.style.transition = 'opacity 0.25s'\r\n        allUserList.style.opacity = 0\r\n\r\n        var convoList = $document[0].getElementById('convo-list')\r\n        convoList.style.transition = 'opacity 0.25s'\r\n        convoList.style.opacity = 0\r\n\r\n        $timeout(function () {\r\n          allUserList.style.display = 'none'\r\n          convoList.style.display = 'block'\r\n\r\n          convoList.style.opacity = 1\r\n\r\n          $document[0].querySelector('.search-box > input').value = ''\r\n          $('.all-user-list li').each(function () {\r\n            var vm = this\r\n            $(vm).show()\r\n          })\r\n\r\n          var actions = $document[0].getElementById('convo-actions').children\r\n          ;[].forEach.call(actions, function (el) {\r\n            if (el.style.display === 'none') {\r\n              el.style.display = 'block'\r\n            } else {\r\n              el.style.display = 'none'\r\n            }\r\n          })\r\n        }, 200)\r\n      }\r\n\r\n      $scope.showNewConvo = $('#__showNewConvo').text()\r\n      if ($scope.showNewConvo.length > 0) {\r\n        $scope.showUserList(undefined, function () {\r\n          return _.defer(function () {\r\n            helpers.resizeFullHeight()\r\n            helpers.hideAllpDropDowns()\r\n          }, 500)\r\n        })\r\n      }\r\n\r\n      $scope.startNewConversation = function (userId) {\r\n        var $loggedInAccountId = SessionService.getUser()._id\r\n        $http\r\n          .post('/api/v1/messages/conversation/start', {\r\n            owner: $loggedInAccountId,\r\n            participants: [userId, $loggedInAccountId]\r\n          })\r\n          .then(\r\n            function (response) {\r\n              var conversation = response.data.conversation\r\n              if (!_.isUndefined(conversation)) {\r\n                History.pushState(null, null, '/messages/' + conversation._id)\r\n              }\r\n            },\r\n            function (err) {\r\n              $log.error('[trudesk.Messages.startNewConversation()] - Error: ')\r\n              $log.error(err)\r\n            }\r\n          )\r\n      }\r\n    })\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/angularjs/controllers/messages.js?");

/***/ }),

/***/ "./src/public/js/angularjs/controllers/notices.js":
/*!********************************************************!*\
  !*** ./src/public/js/angularjs/controllers/notices.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n      .                              .o8                     oooo\r\n   .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n   888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n   888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n   888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n   \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    02/10/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! angular */ \"./src/public/js/vendor/angular/angular.min.js\"), __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"), __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"), __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"), __webpack_require__(/*! modules/socket */ \"./src/public/js/modules/socket.js\"), __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (\r\n  angular,\r\n  _,\r\n  $,\r\n  helpers,\r\n  socketClient\r\n) {\r\n  return angular.module('trudesk.controllers.notices', []).controller('noticesCtrl', function ($scope, $http, $log) {\r\n    $scope.editNotice = function ($event) {\r\n      if (\r\n        _.isNull($event.target) ||\r\n        _.isUndefined($event.target) ||\r\n        $event.target.tagName.toLowerCase() === 'label' ||\r\n        $event.target.tagName.toLowerCase() === 'input'\r\n      ) {\r\n        return true\r\n      }\r\n\r\n      // currentTarget = ng-click() bound to. \"<tr>\"\r\n      var id = $event.currentTarget.dataset.noticeoid\r\n      if (!id) return true\r\n\r\n      History.pushState(null, null, '/notices/' + id)\r\n    }\r\n\r\n    $scope.submitCreateNoticeForm = function (event) {\r\n      event.preventDefault()\r\n      var formData = $('#createNoticeForm').serializeObject()\r\n      if (!formData.nName || !formData.nMessage) return false\r\n      var apiData = {\r\n        name: formData.nName,\r\n        message: formData.nMessage,\r\n        color: formData.nColor,\r\n        fontColor: formData.nFontColor,\r\n        alertWindow: formData.nAlertWindow === 'on'\r\n      }\r\n\r\n      $http({\r\n        method: 'POST',\r\n        url: '/api/v1/notices/create',\r\n        data: apiData,\r\n        headers: { 'Content-Type': 'application/json' }\r\n      })\r\n        .success(function () {\r\n          helpers.UI.showSnackbar('Notice Created Successfully.', false)\r\n\r\n          History.pushState(null, null, '/notices/')\r\n        })\r\n        .error(function (err) {\r\n          $log.log('[trudesk:notices:submitCreateNoticeForm] - ' + err)\r\n          helpers.UI.showSnackbar(err, true)\r\n        })\r\n    }\r\n\r\n    $scope.submitEditNoticeForm = function (event) {\r\n      event.preventDefault()\r\n      var noticeId = $('#__noticeId').text()\r\n      var formData = $('#editNoticeForm').serializeObject()\r\n      var apiData = {\r\n        name: formData.nName,\r\n        message: formData.nMessage,\r\n        color: formData.nColor,\r\n        fontColor: formData.nFontColor,\r\n        alertWindow: formData.nAlertWindow === 'on'\r\n      }\r\n\r\n      $http({\r\n        method: 'PUT',\r\n        url: '/api/v1/notices/' + noticeId,\r\n        data: apiData,\r\n        headers: { 'Content-Type': 'application/json' }\r\n      })\r\n        .success(function () {\r\n          helpers.UI.showSnackbar('Notice Saved Successfully.', false)\r\n\r\n          History.pushState(null, null, '/notices/')\r\n        })\r\n        .error(function (err) {\r\n          $log.log('[trudesk:notices:submitEditNoticeForm] - ' + err)\r\n          helpers.UI.showSnackbar(err, true)\r\n        })\r\n    }\r\n\r\n    $scope.activateNotice = function () {\r\n      var id = getChecked()\r\n      if (id.length < 1) return true\r\n      id = id[0]\r\n      var $data = { active: true }\r\n\r\n      $http\r\n        .get('/api/v1/notices/clearactive')\r\n        .success(function () {\r\n          $http({\r\n            method: 'PUT',\r\n            url: '/api/v1/notices/' + id,\r\n            data: $data,\r\n            headers: { 'Content-Type': 'application/json' }\r\n          })\r\n            .success(function () {\r\n              socketClient.ui.setShowNotice(id)\r\n\r\n              helpers.UI.showSnackbar('Notice has been activated', false)\r\n\r\n              clearChecked()\r\n              History.pushState(null, null, '/notices/')\r\n            })\r\n            .error(function (err) {\r\n              $log.log('[trudesk:notices:activateNotice] - ' + err)\r\n              helpers.UI.showSnackbar(err, true)\r\n            })\r\n        })\r\n        .error(function () {})\r\n\r\n      helpers.hideAllpDropDowns()\r\n    }\r\n\r\n    $scope.clearNotice = function () {\r\n      $http\r\n        .get('/api/v1/notices/clearactive')\r\n        .success(function () {\r\n          socketClient.ui.setClearNotice()\r\n\r\n          helpers.UI.showSnackbar('Notice has been deactivated', false)\r\n        })\r\n        .error(function (err) {\r\n          $log.log('[trudesk:notices:clearNotice] - ' + err)\r\n          helpers.UI.showSnackbar({\r\n            text: 'Error: ' + err.message,\r\n            actionTextColor: '#B92929'\r\n          })\r\n        })\r\n\r\n      helpers.hideAllpDropDowns()\r\n    }\r\n\r\n    $scope.deleteNotices = function () {\r\n      var ids = getChecked()\r\n      _.each(ids, function (id) {\r\n        $http\r\n          .delete('/api/v1/notices/' + id)\r\n          .success(function (data) {\r\n            if (!data.success) {\r\n              helpers.UI.showSnackbar({\r\n                text: 'Error: ' + data.error,\r\n                actionTextColor: '#B92929'\r\n              })\r\n              return\r\n            }\r\n\r\n            removeCheckedFromGrid(id)\r\n            helpers.resizeDataTables('.noticesList')\r\n            helpers.UI.showSnackbar({ text: 'Notice Successfully Deleted' })\r\n          })\r\n          .error(function (err) {\r\n            $log.log('[trudesk:notices:deleteNotices] - ' + err)\r\n            helpers.UI.showSnackbar({\r\n              text: 'Error: ' + err,\r\n              actionTextColor: '#B92929'\r\n            })\r\n          })\r\n      })\r\n    }\r\n\r\n    function clearChecked () {\r\n      $('#noticesTable input[type=\"checkbox\"]:checked').each(function () {\r\n        var vm = this\r\n\r\n        var self = $(vm)\r\n\r\n        self.prop('checked', false)\r\n      })\r\n    }\r\n\r\n    function getChecked () {\r\n      var checkedIds = []\r\n      $('#noticesTable input[type=\"checkbox\"]:checked').each(function () {\r\n        var vm = this\r\n\r\n        var self = $(vm)\r\n\r\n        var $noticeTR = self.parents('tr')\r\n        if (!_.isUndefined($noticeTR)) {\r\n          var noticeOId = $noticeTR.attr('data-noticeOId')\r\n\r\n          if (!_.isUndefined(noticeOId) && noticeOId.length > 0) {\r\n            checkedIds.push(noticeOId)\r\n          }\r\n        }\r\n      })\r\n\r\n      return checkedIds\r\n    }\r\n\r\n    function removeCheckedFromGrid (id) {\r\n      $('#noticesTable #c_' + id + '[type=\"checkbox\"]:checked').each(function () {\r\n        var vm = this\r\n\r\n        var self = $(vm)\r\n\r\n        var $noticeTR = self.parents('tr')\r\n        if (!_.isUndefined($noticeTR)) {\r\n          $noticeTR.remove()\r\n        }\r\n      })\r\n    }\r\n  })\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/angularjs/controllers/notices.js?");

/***/ }),

/***/ "./src/public/js/angularjs/controllers/plugins.js":
/*!********************************************************!*\
  !*** ./src/public/js/angularjs/controllers/plugins.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n      .                              .o8                     oooo\r\n   .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n   888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n   888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n   888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n   \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    02/10/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! angular */ \"./src/public/js/vendor/angular/angular.min.js\"), __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"), __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"), __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"), __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (angular, _, $, helpers) {\r\n  return angular\r\n    .module('trudesk.controllers.plugins', [])\r\n    .controller('pluginsCtrl', function ($scope, $http, $log, $timeout, $window) {\r\n      var $tableBody = $('#plugin_list_table > tbody')\r\n\r\n      $scope.installedPlugins = []\r\n\r\n      var pluginUrl = 'http://_plugins.trudesk.io'\r\n\r\n      $scope.init = function () {\r\n        $scope.installedPlugins = angular.fromJson($scope.installedPlugins)\r\n        $http({\r\n          method: 'GET',\r\n          url: pluginUrl + '/api/plugins',\r\n          headers: { 'Content-Type': 'apllication/json' }\r\n        })\r\n          .success(function (data) {\r\n            if (!data.success) {\r\n              if (data.error) {\r\n                helpers.UI.showSnackbar({\r\n                  text: 'Error: ' + data.error,\r\n                  actionTextColor: '#B92929'\r\n                })\r\n                return\r\n              }\r\n\r\n              helpers.UI.showSnackbar({\r\n                text: 'Error getting plugin list!',\r\n                actionTextColor: '#B92929'\r\n              })\r\n            }\r\n\r\n            var plugins = _.sortBy(data.plugins, 'name')\r\n            $tableBody.children().remove()\r\n            var html = ''\r\n\r\n            _.each(plugins, function (p) {\r\n              var description = 'No Description Set'\r\n              if (p.pluginjson.description) description = p.pluginjson.description\r\n\r\n              var loadedPlugin = _.findWhere($scope.installedPlugins, {\r\n                name: p.name\r\n              })\r\n              var hasPluginInstalled = angular.isDefined(loadedPlugin)\r\n              var update = false\r\n              if (hasPluginInstalled) {\r\n                update = compareVersions(loadedPlugin.version, '<', p.pluginjson.version)\r\n              }\r\n              var canUserManage = helpers.canUser('plugins:manage')\r\n\r\n              html += '<tr data-plugin-id=\"' + p._id + '\" data-plugin-name=\"' + p.name.toLowerCase() + '\">'\r\n              html += '<td style=\"vertical-align: middle;\">' + p.name.toLowerCase() + '</td>'\r\n              html += '<td style=\"vertical-align: middle;\">' + description + '</td>'\r\n              html += '<td style=\"vertical-align: middle;\">' + p.pluginjson.version + '</td>'\r\n              if (canUserManage) {\r\n                if (hasPluginInstalled) {\r\n                  html +=\r\n                    '<td style=\"text-align: right;\"><button class=\"uk-button uk-button-danger uk-button-small\" ng-click=\"removePlugin(\\'' +\r\n                    p._id +\r\n                    '\\')\">Remove</button>'\r\n                  if (update) {\r\n                    html +=\r\n                      '<button class=\"uk-button uk-button-primary uk-button-small\" style=\"margin-left: 5px;\" ng-click=\"installPlugin(\\'' +\r\n                      p._id +\r\n                      '\\')\">Update</button>'\r\n                  }\r\n                  html += '</td>'\r\n                } else {\r\n                  html +=\r\n                    '<td style=\"text-align: right;\"><button class=\"uk-button uk-button-success uk-button-small\" ng-click=\"installPlugin(\\'' +\r\n                    p._id +\r\n                    '\\')\">Install</button></td>'\r\n                }\r\n              } else {\r\n                html += '<td></td>'\r\n              }\r\n\r\n              html += '</tr>'\r\n            })\r\n\r\n            var $injector = angular.injector(['ng', 'trudesk'])\r\n            $injector.invoke([\r\n              '$compile',\r\n              '$rootScope',\r\n              function ($compile, $rootScope) {\r\n                var $scope = $tableBody.append(html).scope()\r\n                $compile($tableBody)($scope || $rootScope)\r\n                $rootScope.$digest()\r\n              }\r\n            ])\r\n          })\r\n          .error(function (err) {\r\n            if (err) {\r\n              $log.error('[trudesk:plugins:init] - ' + err.error.message)\r\n              helpers.UI.showSnackbar({\r\n                text: 'Error: ' + err.error.message,\r\n                actionTextColor: '#B92929'\r\n              })\r\n            }\r\n\r\n            var html =\r\n              '<tr style=\"background: #B92929 !important;\"><td style=\"color: #fff;\">Unable to load plugin list!</td><td></td><td></td><td></td></tr>'\r\n\r\n            $tableBody.children().remove()\r\n            $tableBody.append(html)\r\n          })\r\n      }\r\n\r\n      $scope.installPlugin = function (pluginId) {\r\n        $http({\r\n          url: '/api/v1/plugins/install/' + pluginId,\r\n          method: 'GET',\r\n          headers: { 'Content-Type': 'apllication/json' }\r\n        })\r\n          .success(function (data) {\r\n            if (!data.success) {\r\n              if (data.error) {\r\n                helpers.UI.showSnackbar({\r\n                  text: 'Error: ' + data.error,\r\n                  actionTextColor: '#B92929'\r\n                })\r\n                return\r\n              }\r\n\r\n              helpers.UI.showSnackbar({\r\n                text: 'Error installing plugin!',\r\n                actionTextColor: '#B92929'\r\n              })\r\n            }\r\n\r\n            // Real Success\r\n            helpers.UI.showSnackbar({\r\n              text: 'Installed Plugin. Restarting Server...'\r\n            })\r\n            $('#serverRestarting').removeClass('hide')\r\n            $timeout(function () {\r\n              $window.location.reload()\r\n            }, 5000)\r\n          })\r\n          .error(function (err) {\r\n            if (err) {\r\n              $log.error('[trudesk:plugins:installPlugin] - ' + err.error.message)\r\n              helpers.UI.showSnackbar({\r\n                text: 'Error: ' + err.error.message,\r\n                actionTextColor: '#B92929'\r\n              })\r\n            }\r\n          })\r\n      }\r\n\r\n      $scope.removePlugin = function (pluginId) {\r\n        $http({\r\n          url: '/api/v1/plugins/remove/' + pluginId,\r\n          method: 'DELETE'\r\n        })\r\n          .success(function (data) {\r\n            if (!data.success) {\r\n              if (data.error) {\r\n                helpers.UI.showSnackbar({\r\n                  text: 'Error: ' + data.error,\r\n                  actionTextColor: '#B92929'\r\n                })\r\n                return\r\n              }\r\n\r\n              helpers.UI.showSnackbar({\r\n                text: 'Error removing plugin!',\r\n                actionTextColor: '#B92929'\r\n              })\r\n            }\r\n\r\n            // Real Success\r\n            helpers.UI.showSnackbar({\r\n              text: 'Removed Plugin. Restarting Server...'\r\n            })\r\n            $('#serverRestarting').removeClass('hide')\r\n            $timeout(function () {\r\n              $window.location.reload()\r\n            }, 5000)\r\n          })\r\n          .error(function (err) {\r\n            if (err) {\r\n              $log.error('[trudesk:plugins:removePlugin] - ' + err.error.message)\r\n              helpers.UI.showSnackbar({\r\n                text: 'Error: ' + err.error.message,\r\n                actionTextColor: '#B92929'\r\n              })\r\n            }\r\n          })\r\n      }\r\n\r\n      function compareVersions (v1, comparator, v2) {\r\n        'use strict'\r\n        comparator = comparator === '=' ? '==' : comparator\r\n        if (['==', '===', '<', '<=', '>', '>=', '!=', '!=='].indexOf(comparator) === -1) {\r\n          throw new Error('Invalid comparator. ' + comparator)\r\n        }\r\n\r\n        var v1parts = v1.split('.')\r\n        var v2parts = v2.split('.')\r\n        var maxLen = Math.max(v1parts.length, v2parts.length)\r\n        var part1, part2\r\n        var cmp = 0\r\n        for (var i = 0; i < maxLen && !cmp; i++) {\r\n          part1 = parseInt(v1parts[i], 10) || 0\r\n          part2 = parseInt(v2parts[i], 10) || 0\r\n          if (part1 < part2) {\r\n            cmp = 1\r\n          }\r\n          if (part1 > part2) {\r\n            cmp = -1\r\n          }\r\n        }\r\n        // eslint-disable-next-line\r\n        return eval('0' + comparator + cmp)\r\n      }\r\n    })\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/angularjs/controllers/plugins.js?");

/***/ }),

/***/ "./src/public/js/angularjs/controllers/profile.js":
/*!********************************************************!*\
  !*** ./src/public/js/angularjs/controllers/profile.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n      .                              .o8                     oooo\r\n   .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n   888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n   888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n   888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n   \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    02/10/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__(/*! angular */ \"./src/public/js/vendor/angular/angular.min.js\"),\r\n  __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"),\r\n  __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"),\r\n  __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"),\r\n  __webpack_require__(/*! uikit */ \"./src/public/js/vendor/uikit/js/uikit_combined.min.js\"),\r\n  __webpack_require__(/*! qrcode */ \"./src/public/js/vendor/qrcode/jquery.qrcode.min.js\"),\r\n  __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\"),\r\n  __webpack_require__(/*! angularjs/services/session */ \"./src/public/js/angularjs/services/session.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function (angular, _, $, helpers, UIKit) {\r\n  return angular\r\n    .module('trudesk.controllers.profile', ['trudesk.services.session'])\r\n    .controller('profileCtrl', function (SessionService, $scope, $window, $http, $log, $timeout) {\r\n      $scope.init = function () {\r\n        // Fix Inputs if input is preloaded with a value\r\n        fixInputLabels()\r\n      }\r\n\r\n      function fixInputLabels () {\r\n        $timeout(function () {\r\n          $('input.md-input').each(function () {\r\n            var vm = this\r\n            var self = $(vm)\r\n            if (!_.isEmpty(self.val())) {\r\n              var s = self.parent('.md-input-wrapper')\r\n              if (s.length > 0) {\r\n                s.addClass('md-input-filled')\r\n              }\r\n            }\r\n          })\r\n        }, 0)\r\n      }\r\n\r\n      $scope.updateUser = function ($event) {\r\n        $event.preventDefault()\r\n\r\n        var id = $('div[data-user_id]').attr('data-user_id')\r\n        if (_.isUndefined(id)) return\r\n        var data = getFormData()\r\n\r\n        $http\r\n          .put('/api/v1/users/' + data.username, {\r\n            aId: id,\r\n            aFullname: data.fullname,\r\n            aPass: data.password,\r\n            aPassConfirm: data.cPassword,\r\n            aEmail: data.email,\r\n\r\n            saveGroups: false\r\n          })\r\n          .success(function () {\r\n            resetForm()\r\n            helpers.UI.showSnackbar({\r\n              text: 'Profile Successfully Saved',\r\n              textColor: '#f8f8f2'\r\n            })\r\n          })\r\n          .error(function (e) {\r\n            $log.log('[trudesk:profile:updateUser] - ' + e.error.message)\r\n            helpers.UI.showSnackbar('Error ' + e.error.message, true)\r\n          })\r\n      }\r\n\r\n      $scope.showTour = function () {\r\n        var username = SessionService.getUser().username\r\n        $http\r\n          .put('/api/v1/users/' + username + '/updatepreferences', {\r\n            preference: 'tourCompleted',\r\n            value: false\r\n          })\r\n          .success(function () {\r\n            $window.location.href = '/'\r\n          })\r\n          .error(function (e) {\r\n            $log.log('[trudesk:profile:showTour] - ' + e.error.message)\r\n            helpers.UI.showSnackbar('Error ' + e.error.message, true)\r\n          })\r\n      }\r\n\r\n      $scope.back = function ($event) {\r\n        History.go(-1)\r\n        $event.preventDefault()\r\n      }\r\n\r\n      $scope.generateApiKey = function ($event) {\r\n        $event.preventDefault()\r\n\r\n        var id = $('div[data-user_id]').attr('data-user_id')\r\n        if (_.isUndefined(id)) return\r\n\r\n        $http\r\n          .post('/api/v1/users/' + id + '/generateapikey')\r\n          .success(function (tokenJson) {\r\n            $('#aApiKey').val(tokenJson.token)\r\n            $('.removeApiButton').removeClass('hide')\r\n            $('.generateApiButton').addClass('hide')\r\n            // helpers.showFlash('API Key Successfully Generated');\r\n            helpers.UI.showSnackbar('API Key Successfully Generated', false)\r\n          })\r\n          .error(function (e) {\r\n            $log.log('[trudesk:profile:generateApiKey] - ' + e)\r\n            // helpers.showFlash('Error: ' + e, true);\r\n            helpers.UI.showSnackbar('Error: Unable to generate API Key!', true)\r\n          })\r\n      }\r\n\r\n      $scope.removeApiKey = function ($event) {\r\n        $event.preventDefault()\r\n\r\n        var id = $('div[data-user_id]').attr('data-user_id')\r\n        if (_.isUndefined(id)) return\r\n\r\n        $http\r\n          .post('/api/v1/users/' + id + '/removeapikey')\r\n          .success(function () {\r\n            $('#aApiKey').val('')\r\n            $('.generateApiButton').removeClass('hide')\r\n            $('.removeApiButton').addClass('hide')\r\n            helpers.UI.showSnackbar('API Key Successfully Revoked', false)\r\n          })\r\n          .error(function (e) {\r\n            $log.log('[trudesk:profile:removeApiKey]', e)\r\n            helpers.UI.showSnackbar('Error: Unable to remove API Key!', true)\r\n          })\r\n      }\r\n\r\n      $scope.otpChange = function (event) {\r\n        var $totpSettings = $('.totp-settings-wrap')\r\n        var $totpPanel = $totpSettings.find('.panel-body2')\r\n        var $tOTPKey = $totpSettings.find('#tOTPKey')\r\n        var $qrCode = $totpSettings.find('#totp-qrcode')\r\n        event.preventDefault()\r\n\r\n        if ($scope.otpEnabled) {\r\n          UIKit.modal.confirm(\r\n            '<span style=\"font-size: 16px; color: #FF9800;\">WARNING: Disabling Two Factor Authentication will remove your shared secret. A new key will generate when re-enabled.</span><br />' +\r\n              'Are you sure you want to disable two factor authentication?',\r\n            function () {\r\n              removeL2Auth(function (err) {\r\n                if (err) {\r\n                  $log.error(err)\r\n                }\r\n\r\n                angular.element(event.target).attr('checked', false)\r\n                $totpPanel.slideUp(400, function () {\r\n                  $totpPanel.css({ overflow: 'hidden', margin: 0 })\r\n                  $qrCode.find('canvas').remove()\r\n                  $tOTPKey.val()\r\n                  $timeout(function () {\r\n                    $scope.otpEnabled = false\r\n                  }, 0)\r\n                })\r\n              })\r\n            },\r\n            {\r\n              labels: { Ok: 'Yes', Cancel: 'No' }\r\n            }\r\n          )\r\n        } else {\r\n          generateL2Auth(function (err, key) {\r\n            if (err) {\r\n              $log.error(err)\r\n              helpers.UI.showSnackbar('An unknown error occurred. Check console.', true)\r\n              return\r\n            }\r\n\r\n            $timeout(function () {\r\n              $scope.otpEnabled = true\r\n              angular.element(event.target).prop('checked', true)\r\n            }, 0)\r\n\r\n            var host = $('div[data-host]').attr('data-host')\r\n            var username = SessionService.getUser().username\r\n            var qrKey =\r\n              'otpauth://totp/' +\r\n              host +\r\n              '-' +\r\n              username +\r\n              ':' +\r\n              host +\r\n              '-' +\r\n              username +\r\n              '?secret=' +\r\n              key +\r\n              '&issuer=Trudesk'\r\n            $qrCode.qrcode({ width: 242, height: 242, text: qrKey })\r\n            $tOTPKey.val(key)\r\n            $totpPanel.css({ margin: '10px 7px 7px 7px' })\r\n            $totpPanel.find('input').removeClass('hide')\r\n            $totpPanel.removeClass('hide')\r\n            fixInputLabels()\r\n            $totpPanel.slideDown()\r\n            // }\r\n          })\r\n        }\r\n      }\r\n\r\n      function generateL2Auth (completed) {\r\n        var id = SessionService.getUser()._id\r\n        if (_.isUndefined(id)) {\r\n          return helpers.UI.showSnackbar('Unable to get user ID.', true)\r\n        }\r\n\r\n        $http.post('/api/v1/users/' + id + '/generatel2auth').then(\r\n          function success (response) {\r\n            if (!response.data.success) {\r\n              helpers.UI.showSnackbar('Error: Unknown error has occurred.', true)\r\n              if (_.isFunction(completed)) {\r\n                return completed('Error: Unknown error has occurred.')\r\n              }\r\n            } else {\r\n              // Success\r\n              if (_.isFunction(completed)) {\r\n                completed(null, response.data.generatedKey)\r\n              }\r\n            }\r\n          },\r\n          function error (err) {\r\n            $log.error('[trudesk:profile:generateL2Auth]')\r\n            $log.error(err)\r\n            helpers.UI.showSnackbar('Error: Could not generate new secret! Check Console', true)\r\n            if (_.isFunction(completed)) {\r\n              completed(err)\r\n            }\r\n          }\r\n        )\r\n      }\r\n\r\n      function removeL2Auth (completed) {\r\n        var id = SessionService.getUser()._id\r\n        if (_.isUndefined(id)) {\r\n          return helpers.UI.showSnackbar('Unable to get user ID.', true)\r\n        }\r\n\r\n        $http\r\n          .post('/api/v1/users/' + id + '/removel2auth')\r\n          .success(function () {\r\n            if (_.isFunction(completed)) {\r\n              completed()\r\n            }\r\n          })\r\n          .error(function (e) {\r\n            $log.error('[trudesk:profile:removeL2Auth]')\r\n            $log.error(e)\r\n            helpers.UI.showSnackbar('Error: Could not remove. Check Console', true)\r\n            if (_.isFunction(completed)) {\r\n              completed(e)\r\n            }\r\n          })\r\n      }\r\n\r\n      function getFormData () {\r\n        var data = {}\r\n        data.username = $('#aUsername').val()\r\n        data.fullname = $('#aFullname').val()\r\n        data.password = $('#aPass').val()\r\n        data.cPassword = $('#aPassConfirm').val()\r\n        data.email = $('#aEmail').val()\r\n\r\n        return data\r\n      }\r\n\r\n      function resetForm () {\r\n        $('#aPass').val('')\r\n        $('#aPassConfirm').val('')\r\n      }\r\n    })\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/angularjs/controllers/profile.js?");

/***/ }),

/***/ "./src/public/js/angularjs/controllers/reports.js":
/*!********************************************************!*\
  !*** ./src/public/js/angularjs/controllers/reports.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n      .                              .o8                     oooo\r\n   .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n   888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n   888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n   888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n   \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    01/24/2016\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! angular */ \"./src/public/js/vendor/angular/angular.min.js\"), __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"), __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"), __webpack_require__(/*! moment */ \"./src/public/js/vendor/moment/moment.js\"), __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"), __webpack_require__(/*! formvalidator */ \"./src/public/js/vendor/formvalidator/jquery.form-validator.js\"), __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (\r\n  angular,\r\n  _,\r\n  $,\r\n  moment,\r\n  helpers\r\n) {\r\n  return angular\r\n    .module('trudesk.controllers.reports', [])\r\n    .controller('reportsCtrl', function ($scope, $http, $log, $timeout, $window) {\r\n      $.formUtils.addValidator({\r\n        name: 'shortDate',\r\n        validatorFunction: function (value) {\r\n          return moment(value, helpers.getShortDateFormat(), true).isValid()\r\n        },\r\n        errorMessage: 'Invalid Date (' + helpers.getShortDateFormat() + ')',\r\n        errorMessageKey: 'invalidShortDate'\r\n      })\r\n\r\n      var $filterDateStart = $('.filterDate_Start')\r\n      $filterDateStart.each(function (index, element) {\r\n        var $e = $(element)\r\n        $e.off('hide.uk.datepicker')\r\n        $e.on('hide.uk.datepicker', function (e) {\r\n          $timeout(function () {\r\n            $(e.target).validate()\r\n          }, 0)\r\n        })\r\n      })\r\n\r\n      var $filterDateEnd = $('.filterDate_End')\r\n      $filterDateEnd.each(function (index, element) {\r\n        var $e = $(element)\r\n        $e.off('hide.uk.datepicker')\r\n        $e.on('hide.uk.datepicker', function (e) {\r\n          $timeout(function () {\r\n            $(e.target).validate()\r\n          }, 0)\r\n        })\r\n      })\r\n\r\n      function changeView (selector) {\r\n        var $activeReportType = $('.active_report_type')\r\n        var $selector = $(selector)\r\n        if ($selector.hasClass('active_report_type')) return true\r\n        $activeReportType.animate({ opacity: 0 }, 100, function () {\r\n          $activeReportType.removeClass('active_report_type')\r\n          $activeReportType.addClass('hide')\r\n          $selector.css({ opacity: 0 })\r\n          $selector.removeClass('hide')\r\n          $selector.addClass('active_report_type')\r\n          helpers.resizeFullHeight()\r\n          $selector.animate({ opacity: 1 }, 600)\r\n        })\r\n      }\r\n\r\n      $scope.selectReport = function (event, type) {\r\n        event.preventDefault()\r\n\r\n        switch (type.toLowerCase()) {\r\n          case 'tickets_by_group':\r\n            changeView('#report_tickets_by_group')\r\n            break\r\n          case 'tickets_by_priorities':\r\n            changeView('#report_tickets_by_priorities')\r\n            break\r\n          case 'tickets_by_status':\r\n            changeView('#report_tickets_by_status')\r\n            break\r\n          case 'tickets_by_tags':\r\n            changeView('#report_tickets_by_tags')\r\n            break\r\n          case 'tickets_by_types':\r\n            changeView('#report_tickets_by_types')\r\n            break\r\n          case 'tickets_by_users':\r\n            changeView('#report_tickets_by_users')\r\n            break\r\n          default:\r\n            break\r\n        }\r\n      }\r\n\r\n      $scope.submitGenerateReport = function (event, type) {\r\n        var form = $(event.target).parents('form')\r\n        if (!form.isValid(null, null, false)) return true\r\n\r\n        event.preventDefault()\r\n\r\n        var data = {}\r\n        form.serializeArray().map(function (x) {\r\n          data[x.name] = x.value\r\n        })\r\n\r\n        // Standardize the Dates\r\n        var startDate = moment(data['filterDate_Start'], helpers.getShortDateFormat()).format('MM-DD-YYYY')\r\n        var endDate = moment(data['filterDate_End'], helpers.getShortDateFormat()).format('MM-DD-YYYY')\r\n\r\n        var groups = []\r\n\r\n        switch (type.toLowerCase()) {\r\n          case 'group':\r\n            showLoader()\r\n            groups = form.find('select#groups').val()\r\n            $http({\r\n              method: 'POST',\r\n              url: '/api/v1/reports/generate/tickets_by_group',\r\n              data: {\r\n                startDate: startDate,\r\n                endDate: endDate,\r\n                groups: groups\r\n              },\r\n              headers: { 'Content-Type': 'application/json' }\r\n            })\r\n              .then(\r\n                function successCallback (response) {\r\n                  downloadReport(response, 'report_tickets_by_group__' + data['filterDate_Start'])\r\n                },\r\n                function errorCallback (response) {\r\n                  $log.log(response.statusText)\r\n                  $log.error(response)\r\n                }\r\n              )\r\n              .then(function () {\r\n                hideLoader()\r\n              })\r\n            break\r\n          case 'priorities':\r\n            showLoader()\r\n            var priorities = form.find('select#priorities').val()\r\n            groups = form.find('select#groups').val()\r\n            $http({\r\n              method: 'POST',\r\n              url: '/api/v1/reports/generate/tickets_by_priority',\r\n              data: {\r\n                startDate: startDate,\r\n                endDate: endDate,\r\n                groups: groups,\r\n                priorities: priorities\r\n              },\r\n              headers: { 'Content-Type': 'application/json' }\r\n            })\r\n              .then(\r\n                function successCallback (response) {\r\n                  downloadReport(response, 'report_tickets_by_priorities__' + data['filterDate_Start'])\r\n                },\r\n                function errorCallback (response) {\r\n                  $log.log(response.statusText)\r\n                }\r\n              )\r\n              .then(function () {\r\n                hideLoader()\r\n              })\r\n            break\r\n          case 'status':\r\n            showLoader()\r\n            var status = form.find('select#status').val()\r\n            groups = form.find('select#groups').val()\r\n            $http({\r\n              method: 'POST',\r\n              url: '/api/v1/reports/generate/tickets_by_status',\r\n              data: {\r\n                startDate: startDate,\r\n                endDate: endDate,\r\n                groups: groups,\r\n                status: status\r\n              },\r\n              headers: { 'Content-Type': 'application/json' }\r\n            })\r\n              .then(\r\n                function successCallback (response) {\r\n                  downloadReport(response, 'report_tickets_by_status__' + data['filterDate_Start'])\r\n                },\r\n                function errorCallback (response) {\r\n                  $log.log(response.statusText)\r\n                }\r\n              )\r\n              .then(function () {\r\n                hideLoader()\r\n              })\r\n            break\r\n          case 'tags':\r\n            showLoader()\r\n            var tags = form.find('select#tags').val()\r\n            groups = form.find('select#groups').val()\r\n            $http({\r\n              method: 'POST',\r\n              url: '/api/v1/reports/generate/tickets_by_tags',\r\n              data: {\r\n                startDate: startDate,\r\n                endDate: endDate,\r\n                groups: groups,\r\n                tags: tags\r\n              },\r\n              headers: { 'Content-Type': 'application/json' }\r\n            })\r\n              .then(\r\n                function successCallback (response) {\r\n                  downloadReport(response, 'report_tickets_by_tags__' + data['filterDate_Start'])\r\n                },\r\n                function errorCallback (response) {\r\n                  $log.log(response.statusText)\r\n                }\r\n              )\r\n              .then(function () {\r\n                hideLoader()\r\n              })\r\n            break\r\n          case 'types':\r\n            showLoader()\r\n            var types = form.find('select#types').val()\r\n            groups = form.find('select#groups').val()\r\n            $http({\r\n              method: 'POST',\r\n              url: '/api/v1/reports/generate/tickets_by_type',\r\n              data: {\r\n                startDate: startDate,\r\n                endDate: endDate,\r\n                groups: groups,\r\n                types: types\r\n              },\r\n              headers: { 'Content-Type': 'application/json' }\r\n            })\r\n              .then(\r\n                function successCallback (response) {\r\n                  downloadReport(response, 'report_tickets_by_types__' + data['filterDate_Start'])\r\n                },\r\n                function errorCallback (response) {\r\n                  $log.log(response.statusText)\r\n                }\r\n              )\r\n              .then(function () {\r\n                hideLoader()\r\n              })\r\n            break\r\n          case 'users':\r\n            showLoader()\r\n            var users = form.find('select#users').val()\r\n            groups = form.find('select#groups').val()\r\n            $http({\r\n              method: 'POST',\r\n              url: '/api/v1/reports/generate/tickets_by_user',\r\n              data: {\r\n                startDate: startDate,\r\n                endDate: endDate,\r\n                groups: groups,\r\n                users: users\r\n              },\r\n              headers: { 'Content-Type': 'application/json' }\r\n            })\r\n              .then(\r\n                function successCallback (response) {\r\n                  downloadReport(response, 'report_tickets_by_users__' + data['filterDate_Start'])\r\n                },\r\n                function errorCallback (response) {\r\n                  $log.log(response.statusText)\r\n                }\r\n              )\r\n              .then(function () {\r\n                hideLoader()\r\n              })\r\n            break\r\n          default:\r\n            break\r\n        }\r\n      }\r\n\r\n      function showLoader () {\r\n        var $loader = $('#loader-wrapper')\r\n        $loader.css({ opacity: 0, display: 'block' })\r\n        $loader.animate({ opacity: 0.8 }, 600)\r\n      }\r\n\r\n      function hideLoader () {\r\n        var $loader = $('#loader-wrapper')\r\n        $loader.animate({ opacity: 0 }, 200, function () {\r\n          $loader.hide()\r\n        })\r\n      }\r\n\r\n      function downloadReport (response, filename) {\r\n        var headers = response.headers()\r\n        var blob = new Blob([response.data], { type: headers['content-type'] })\r\n        var link = $window.document.createElement('a')\r\n        link.href = $window.URL.createObjectURL(blob)\r\n        link.download = filename + '.csv'\r\n        link.click()\r\n        link.remove()\r\n      }\r\n    })\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/angularjs/controllers/reports.js?");

/***/ }),

/***/ "./src/public/js/angularjs/controllers/settings-backup.js":
/*!****************************************************************!*\
  !*** ./src/public/js/angularjs/controllers/settings-backup.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n     .                              .o8                     oooo\r\n   .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n   888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n   888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n   888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n   \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    12/19/2018\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! angular */ \"./src/public/js/vendor/angular/angular.min.js\"), __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"), __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"), __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"), __webpack_require__(/*! modules/socket */ \"./src/public/js/modules/socket.js\"), __webpack_require__(/*! uikit */ \"./src/public/js/vendor/uikit/js/uikit_combined.min.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (\r\n  angular,\r\n  _,\r\n  $,\r\n  helpers,\r\n  socket,\r\n  UIkit\r\n) {\r\n  return angular\r\n    .module('trudesk.controllers.settings.backup', ['ngSanitize'])\r\n    .controller('BackupCtrl', function ($scope, $http, $timeout, $log) {\r\n      function initBackupUpload () {\r\n        var progressbar = $('#backupUploadProgress')\r\n\r\n        var $backupUploadSelect = $('#backup-upload-select')\r\n\r\n        var $uploadButton = $backupUploadSelect.parent()\r\n\r\n        var bar = progressbar.find('.uk-progress-bar')\r\n\r\n        var settings = {\r\n          action: '/api/v1/backup/upload',\r\n          allow: '*.zip',\r\n          type: 'json',\r\n\r\n          loadstart: function () {\r\n            bar.css('width', '0%').text('0%')\r\n            progressbar.removeClass('hide')\r\n            $uploadButton.addClass('hide')\r\n          },\r\n          notallowed: function () {\r\n            helpers.UI.showSnackbar('Invalid File Type. Please upload a Zip file.', true)\r\n          },\r\n          error: function (err) {\r\n            $log.error(err)\r\n            helpers.UI.showSnackbar('An unknown error occurred. Check Console', true)\r\n          },\r\n          progress: function (percent) {\r\n            percent = Math.ceil(percent)\r\n            bar.css('width', percent + '%').text(percent + '%')\r\n          },\r\n\r\n          allcomplete: function (response) {\r\n            $log.log(response)\r\n            if (!response.success) {\r\n              helpers.UI.showSnackbar(response.error, true)\r\n            }\r\n\r\n            bar.css('width', '100%').text('100%')\r\n\r\n            $timeout(function () {\r\n              progressbar.addClass('hide')\r\n              $uploadButton.removeClass('hide')\r\n              $scope.getBackups()\r\n              $backupUploadSelect.val(null)\r\n              helpers.UI.playSound('success')\r\n            }, 1500)\r\n          }\r\n        }\r\n\r\n        UIkit.uploadSelect($backupUploadSelect, settings)\r\n      }\r\n\r\n      $scope.init = function () {\r\n        $timeout(function () {\r\n          initBackupUpload()\r\n\r\n          $scope.checkTools()\r\n          $scope.getBackups()\r\n          $scope.getDeletedTickets()\r\n        }, 0)\r\n      }\r\n\r\n      $scope.backupFiles = []\r\n\r\n      $scope.loadingTools = true\r\n      $scope.checkTools = function () {\r\n        $http\r\n          .get('/api/v1/backup/hastools')\r\n          .then(\r\n            function success (res) {\r\n              $scope.hasTools = res.data && res.data.success\r\n            },\r\n            function error () {\r\n              $scope.hasTools = false\r\n            }\r\n          )\r\n          .then(function () {\r\n            $scope.loadingTools = false\r\n            $scope.showNoTools = !$scope.loading && !$scope.hasTools\r\n          })\r\n      }\r\n\r\n      $scope.getBackups = function () {\r\n        $http.get('/api/v1/backups').then(\r\n          function success (res) {\r\n            if (res.data && res.data.success === true) {\r\n              $scope.backupFiles = res.data.files\r\n            }\r\n          },\r\n          function error (err) {\r\n            $log.error(err)\r\n          }\r\n        )\r\n      }\r\n\r\n      $scope.startbackup = function (e) {\r\n        var $button = $(e.currentTarget)\r\n        // $button.prop('disabled', true).addClass('disabled').text('Please Wait...');\r\n        $button\r\n          .hide()\r\n          .parent()\r\n          .find('.uk-progress')\r\n          .removeClass('hide')\r\n        $http.post('/api/v1/backup').then(\r\n          function success (res) {\r\n            $log.log(res)\r\n            $button\r\n              .parent()\r\n              .find('.uk-progress')\r\n              .addClass('hide')\r\n            $button.show()\r\n            helpers.UI.showSnackbar('Backup completed successfully.', false)\r\n            helpers.UI.playSound('success')\r\n            $scope.getBackups()\r\n          },\r\n          function error (err) {\r\n            helpers.UI.playSound('error')\r\n            helpers.UI.showSnackbar('Error: ' + err, true)\r\n            $log.error(err)\r\n          }\r\n        )\r\n      }\r\n\r\n      $scope.deleteBackup = function (idx) {\r\n        var file = $scope.backupFiles[idx]\r\n        if (!file) {\r\n          return false\r\n        }\r\n\r\n        var filename = file.filename\r\n\r\n        UIkit.modal.confirm(\r\n          '<h2 class=\"text-light\">Are you sure?</h2><p style=\"font-size: 14px;\">This action is permanent and will destroy the backup file: <strong>' +\r\n            filename +\r\n            '</p>',\r\n          function () {\r\n            $http.delete('/api/v1/backup/' + filename).then(\r\n              function success (res) {\r\n                $log.log(res)\r\n                if (res.data && res.data.success) {\r\n                  $scope.getBackups()\r\n                  helpers.UI.showSnackbar('Backup successfully deleted', false)\r\n                } else {\r\n                  helpers.UI.showSnackbar('Unable to delete backup', true)\r\n                }\r\n              },\r\n              function error (err) {\r\n                $log.error(err)\r\n              }\r\n            )\r\n          },\r\n          {\r\n            labels: { Ok: 'Yes', Cancel: 'No' },\r\n            confirmButtonClass: 'md-btn-danger'\r\n          }\r\n        )\r\n      }\r\n\r\n      $scope.restoreFile = function (idx) {\r\n        var file = $scope.backupFiles[idx]\r\n        if (!file) {\r\n          return false\r\n        }\r\n\r\n        var filename = file.filename\r\n\r\n        UIkit.modal.confirm(\r\n          '<h2>Are you sure?</h2>' +\r\n            '<p style=\"font-size: 15px;\"><span class=\"uk-text-danger\" style=\"font-size: 15px;\">This is a permanent action.</span> All data will be wiped from the database and restored with the selected backup file: <strong>' +\r\n            filename +\r\n            '</strong></p>' +\r\n            '<p style=\"font-size: 12px;\">Any users currently logged in will be presented with a blocking restore page. Preventing any further actions.' +\r\n            'Once complete all users are required to log in again.</p><br /><p style=\"font-size: 12px; font-style: italic;\">This process may take a while depending on the size of the backup.</p>',\r\n          function () {\r\n            socket.ui.emitShowRestoreOverlay()\r\n\r\n            $http\r\n              .post('/api/v1/backup/restore', {\r\n                file: filename\r\n              })\r\n              .then(\r\n                function success (res) {\r\n                  $log.log(res)\r\n                  helpers.UI.showSnackbar('Restore Complete. Logging all users out...', false)\r\n                  $timeout(function () {\r\n                    socket.ui.emitRestoreComplete()\r\n                  }, 2000)\r\n                },\r\n                function error (err) {\r\n                  $log.error(err)\r\n                  helpers.UI.showSnackbar('An Error Occurred. Check Console.', true)\r\n                }\r\n              )\r\n          },\r\n          {\r\n            labels: { Ok: 'Yes', Cancel: 'No' },\r\n            confirmButtonClass: 'md-btn-danger'\r\n          }\r\n        )\r\n      }\r\n\r\n      $scope.deletedTickets = []\r\n      $scope.allDeletedTickets = []\r\n      $scope.getDeletedTickets = function () {\r\n        $http.get('/api/v1/tickets/deleted').then(\r\n          function successCallback (response) {\r\n            if (!response.data || !response.data.deletedTickets) return\r\n\r\n            $scope.allDeletedTickets = response.data.deletedTickets\r\n            $scope.deletedTickets = $scope.allDeletedTickets.slice(0, 25)\r\n\r\n            var $deletedTicketPagination = $('.deletedTicketPagination')\r\n            UIkit.pagination($deletedTicketPagination, {\r\n              items: $scope.allDeletedTickets.length,\r\n              itemsOnPage: 25\r\n            })\r\n\r\n            $deletedTicketPagination.on('select.uk.pagination', function (e, pageIndex) {\r\n              $timeout(function () {\r\n                $scope.deletedTickets = $scope.allDeletedTickets.slice(pageIndex * 25, (pageIndex + 1) * 25)\r\n              }, 0)\r\n            })\r\n          },\r\n          function errorCallback (err) {\r\n            helpers.UI.showSnackbar('Error: ' + err.error, true)\r\n            $log.error(err)\r\n          }\r\n        )\r\n      }\r\n\r\n      $scope.restoreDeletedTicket = function (idx) {\r\n        var ticket = $scope.deletedTickets[idx]\r\n        if (!ticket) return false\r\n\r\n        $http\r\n          .post(\r\n            '/api/v1/tickets/deleted/restore',\r\n            {\r\n              _id: ticket._id\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback (response) {\r\n              if (response.data.success) {\r\n                helpers.UI.showSnackbar('Ticket #' + ticket.uid + ' restored')\r\n                $scope.deletedTickets.splice(idx, 1)\r\n              }\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar('Error: ' + err.error)\r\n              $log.error(err)\r\n            }\r\n          )\r\n      }\r\n    })\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/angularjs/controllers/settings-backup.js?");

/***/ }),

/***/ "./src/public/js/angularjs/controllers/settings.js":
/*!*********************************************************!*\
  !*** ./src/public/js/angularjs/controllers/settings.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n      .                              .o8                     oooo\r\n   .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n   888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n   888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n   888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n   \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    02/10/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__(/*! angular */ \"./src/public/js/vendor/angular/angular.min.js\"),\r\n  __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"),\r\n  __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"),\r\n  __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"),\r\n  __webpack_require__(/*! modules/ui */ \"./src/public/js/modules/ui.js\"),\r\n  __webpack_require__(/*! uikit */ \"./src/public/js/vendor/uikit/js/uikit_combined.min.js\"),\r\n  __webpack_require__(/*! easymde */ \"./src/public/js/vendor/easymde/dist/easymde.min.js\"),\r\n  __webpack_require__(/*! moment */ \"./src/public/js/vendor/moment/moment.js\"),\r\n  __webpack_require__(/*! moment_timezone */ \"./src/public/js/vendor/moment/moment-timezone-with-data.js\"),\r\n  __webpack_require__(/*! velocity */ \"./src/public/js/vendor/velocity/velocity.min.js\"),\r\n  __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\"),\r\n  __webpack_require__(/*! angularjs/services */ \"./src/public/js/angularjs/services.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function (angular, _, $, helpers, ui, UIkit, EasyMDE, moment) {\r\n  return angular\r\n    .module('trudesk.controllers.settings', ['ngSanitize', 'trudesk.services.settings'])\r\n    .directive('selectize', function ($timeout) {\r\n      return {\r\n        restrict: 'A',\r\n        require: '?ngModel',\r\n        link: function (scope, element, attrs, ngModel) {\r\n          $timeout(function () {\r\n            // var $element = $(element).selectize(scope.$eval(attrs.selectize));\r\n            if (!ngModel) return\r\n            $(element)\r\n              .selectize()\r\n              .on('change', function () {\r\n                scope.$apply(function () {\r\n                  var newValue = $(element)\r\n                    .selectize()\r\n                    .val()\r\n                  ngModel.$setViewValue(newValue)\r\n                })\r\n              })\r\n          })\r\n        }\r\n      }\r\n    })\r\n    .controller('settingsCtrl', function (SettingsService, $scope, $http, $timeout, $log, $window) {\r\n      var mdeToolbarItems = [\r\n        {\r\n          name: 'bold',\r\n          action: EasyMDE.toggleBold,\r\n          className: 'material-icons mi-bold no-ajaxy',\r\n          title: 'Bold'\r\n        },\r\n        {\r\n          name: 'italic',\r\n          action: EasyMDE.toggleItalic,\r\n          className: 'material-icons mi-italic no-ajaxy',\r\n          title: 'Italic'\r\n        },\r\n        {\r\n          name: 'Title',\r\n          action: EasyMDE.toggleHeadingSmaller,\r\n          className: 'material-icons mi-title no-ajaxy',\r\n          title: 'Title'\r\n        },\r\n        '|',\r\n        {\r\n          name: 'Code',\r\n          action: EasyMDE.toggleCodeBlock,\r\n          className: 'material-icons mi-code no-ajaxy',\r\n          title: 'Code'\r\n        },\r\n        {\r\n          name: 'Quote',\r\n          action: EasyMDE.toggleBlockquote,\r\n          className: 'material-icons mi-quote no-ajaxy',\r\n          title: 'Quote'\r\n        },\r\n        {\r\n          name: 'Generic List',\r\n          action: EasyMDE.toggleUnorderedList,\r\n          className: 'material-icons mi-list no-ajaxy',\r\n          title: 'Generic List'\r\n        },\r\n        {\r\n          name: 'Numbered List',\r\n          action: EasyMDE.toggleOrderedList,\r\n          className: 'material-icons mi-numlist no-ajaxy',\r\n          title: 'Numbered List'\r\n        },\r\n        '|',\r\n        {\r\n          name: 'Create Link',\r\n          action: EasyMDE.drawLink,\r\n          className: 'material-icons mi-link no-ajaxy',\r\n          title: 'Create Link'\r\n        },\r\n        '|',\r\n        {\r\n          name: 'Toggle Preview',\r\n          action: EasyMDE.togglePreview,\r\n          className: 'material-icons mi-preview no-disable no-mobile no-ajaxy',\r\n          title: 'Toggle Preview'\r\n        }\r\n      ]\r\n\r\n      var privacyPolicyMDE = null\r\n\r\n      $scope.init = function () {\r\n        // Set using Service due to handlebars escaping backslashes\r\n        $scope.timeFormat = SettingsService.getSettings().timeFormat.value\r\n        $scope.shortDateFormat = SettingsService.getSettings().shortDateFormat.value\r\n        $scope.longDateFormat = SettingsService.getSettings().longDateFormat.value\r\n\r\n        $scope.mailerCheckPolling = $scope.mailerCheckPolling / 60000\r\n\r\n        var $uploadButton = $('#logo-upload-select').parent()\r\n        var uploadLogoSettings = {\r\n          action: '/settings/general/uploadlogo',\r\n          allow: '*.(jpg|jpeg|gif|png)',\r\n          loadstart: function () {\r\n            $uploadButton.text('Uploading...')\r\n            $uploadButton.attr('disabled', true)\r\n            $uploadButton.addClass('disable')\r\n          },\r\n          allcomplete: function () {\r\n            $uploadButton.text('Upload Logo')\r\n            $uploadButton.attr('disabled', false)\r\n            $uploadButton.removeClass('disable')\r\n            helpers.UI.showSnackbar('Upload Complete', false)\r\n            // remove page refresh once SettingsService merge\r\n            // $('img.site-logo').attr('src', '/assets/topLogo.png?refresh=' + new Date().getTime());\r\n            $window.location.reload()\r\n            $('button#remove-custom-logo-btn').removeClass('hide')\r\n          }\r\n        }\r\n\r\n        UIkit.uploadSelect($('#logo-upload-select'), uploadLogoSettings)\r\n\r\n        var $pageUploadButton = $('#page-logo-upload-select').parent()\r\n        var pageUploadLogoSettings = {\r\n          action: '/settings/general/uploadpagelogo',\r\n          allow: '*.(jpg|jpeg|gif|png)',\r\n          loadstart: function () {\r\n            $uploadButton.text('Uploading...')\r\n            $uploadButton.attr('disabled', true)\r\n            $uploadButton.addClass('disable')\r\n          },\r\n          allcomplete: function () {\r\n            $pageUploadButton.text('Upload Logo')\r\n            $pageUploadButton.attr('disabled', false)\r\n            $pageUploadButton.removeClass('disable')\r\n            helpers.UI.showSnackbar('Upload Complete', false)\r\n            // remove page refresh once SettingsService merge\r\n            // $('img.site-logo').attr('src', '/assets/topLogo.png?refresh=' + new Date().getTime());\r\n            $window.location.reload()\r\n            $('button#remove-custom-page-logo-btn').removeClass('hide')\r\n          }\r\n        }\r\n\r\n        UIkit.uploadSelect($('#page-logo-upload-select'), pageUploadLogoSettings)\r\n\r\n        var uploadFaviconSettings = {\r\n          action: '/settings/general/uploadfavicon',\r\n          allow: '*.(jpg|jpeg|gif|png|ico)',\r\n          loadstart: function () {\r\n            $uploadButton.text('Uploading...')\r\n            $uploadButton.attr('disabled', true)\r\n            $uploadButton.addClass('disable')\r\n          },\r\n          allcomplete: function () {\r\n            $uploadButton.text('Upload Logo')\r\n            $uploadButton.attr('disabled', false)\r\n            $uploadButton.removeClass('disable')\r\n            helpers.UI.showSnackbar('Upload Complete', false)\r\n            // remove page refresh once SettingsService merge\r\n            // $('img.site-logo').attr('src', '/assets/topLogo.png?refresh=' + new Date().getTime());\r\n            $window.location.reload()\r\n            $('button#remove-custom-logo-btn').removeClass('hide')\r\n          }\r\n        }\r\n\r\n        UIkit.uploadSelect($('#favicon-upload-select'), uploadFaviconSettings)\r\n\r\n        // Fix Inputs if input is preloaded with a value\r\n        $timeout(function () {\r\n          $('input.md-input').each(function () {\r\n            var vm = this\r\n            var self = $(vm)\r\n            if (!_.isEmpty(self.val())) {\r\n              var s = self.parent('.md-input-wrapper')\r\n              if (s.length > 0) {\r\n                s.addClass('md-input-filled')\r\n              }\r\n            }\r\n          })\r\n\r\n          // TimeZones\r\n          $scope.timeZones = moment.tz\r\n            .names()\r\n            .map(function (name) {\r\n              var year = new Date().getUTCFullYear()\r\n              var timezoneAtBeginningOfyear = moment.tz(year + '-01-01', name)\r\n              return {\r\n                utc: timezoneAtBeginningOfyear.utcOffset(),\r\n                label: '(GMT' + timezoneAtBeginningOfyear.format('Z') + ') ' + name,\r\n                value: name\r\n              }\r\n            })\r\n            .sort(function (a, b) {\r\n              return a.utc - b.utc\r\n            })\r\n\r\n          $timeout(function () {\r\n            // Call in next cycle - Timezones generated dynamically\r\n            helpers.UI.selectize($('select#tz').parent())\r\n          })\r\n\r\n          var $privacyPolicy = $('#privacyPolicy')\r\n          if ($privacyPolicy.length > 0) {\r\n            privacyPolicyMDE = new EasyMDE({\r\n              element: $privacyPolicy[0],\r\n              forceSync: true,\r\n              minHeight: '220px', // Slighty smaller to adjust the scroll\r\n              toolbar: mdeToolbarItems,\r\n              autoDownloadFontAwesome: false\r\n            })\r\n\r\n            privacyPolicyMDE.codemirror.off('change')\r\n            privacyPolicyMDE.codemirror.on('change', function () {\r\n              $scope.privacyPolicy = privacyPolicyMDE.value()\r\n            })\r\n          }\r\n\r\n          // Color Scheme Select\r\n          var $colorSchemeSelect = $('#colorSchemeSelect')\r\n          if ($scope.colorSecondary === '#2f3640') {\r\n            $colorSchemeSelect[0].selectize.setValue('dark', true)\r\n          } else if ($scope.colorTertiary === '#ee2b47') {\r\n            $colorSchemeSelect[0].selectize.setValue('midnight', true)\r\n          } else if ($scope.colorHeaderBG === '#2e3238') {\r\n            $colorSchemeSelect[0].selectize.setValue('moonlight', true)\r\n          } else if ($scope.colorTertiary === '#f67280') {\r\n            $colorSchemeSelect[0].selectize.setValue('purplerain', true)\r\n          } else if ($scope.colorHeaderBG === '#112d4e') {\r\n            $colorSchemeSelect[0].selectize.setValue('bluejean', true)\r\n          } else if ($scope.colorHeaderBG === '#625757') {\r\n            $colorSchemeSelect[0].selectize.setValue('sandstone', true)\r\n          } else if ($scope.colorHeaderBG === '#404969') {\r\n            $colorSchemeSelect[0].selectize.setValue('winterfire', true)\r\n          }\r\n\r\n          $colorSchemeSelect.on('change', function (e) {\r\n            $scope.$apply(function () {\r\n              var val = $colorSchemeSelect.val()\r\n              switch (val) {\r\n                case 'light':\r\n                  $scope.revertColor('colorHeaderBG', '#42464d')\r\n                  $scope.revertColor('colorHeaderPrimary', '#f6f7f8')\r\n                  $scope.revertColor('colorPrimary', '#606771')\r\n                  $scope.revertColor('colorSecondary', '#f7f8fa')\r\n                  $scope.revertColor('colorTertiary', '#e74c3c')\r\n                  $scope.revertColor('colorQuaternary', '#e6e7e8')\r\n                  break\r\n                case 'dark':\r\n                  $scope.revertColor('colorHeaderBG', '#242a31')\r\n                  $scope.revertColor('colorHeaderPrimary', '#f6f7f8')\r\n                  $scope.revertColor('colorPrimary', '#f6f7f8')\r\n                  $scope.revertColor('colorSecondary', '#2f3640')\r\n                  $scope.revertColor('colorTertiary', '#e74c3c')\r\n                  $scope.revertColor('colorQuaternary', '#454f5d')\r\n                  break\r\n                case 'bluejean':\r\n                  $scope.revertColor('colorHeaderBG', '#112d4e')\r\n                  $scope.revertColor('colorHeaderPrimary', '#f9f7f7')\r\n                  $scope.revertColor('colorPrimary', '#112d4e')\r\n                  $scope.revertColor('colorSecondary', '#f9f7f7')\r\n                  $scope.revertColor('colorTertiary', '#3f72af')\r\n                  $scope.revertColor('colorQuaternary', '#dbe2ef')\r\n                  break\r\n                case 'midnight':\r\n                  $scope.revertColor('colorHeaderBG', '#2c2e3e')\r\n                  $scope.revertColor('colorHeaderPrimary', '#f6f6f6')\r\n                  $scope.revertColor('colorPrimary', '#444a54')\r\n                  $scope.revertColor('colorSecondary', '#c8c8c8')\r\n                  $scope.revertColor('colorTertiary', '#ee2b47')\r\n                  $scope.revertColor('colorQuaternary', '#2c2e3e')\r\n                  break\r\n                case 'moonlight':\r\n                  $scope.revertColor('colorHeaderBG', '#2e3238')\r\n                  $scope.revertColor('colorHeaderPrimary', '#eeeeee')\r\n                  $scope.revertColor('colorPrimary', '#444a54')\r\n                  $scope.revertColor('colorSecondary', '#c8c8c8')\r\n                  $scope.revertColor('colorTertiary', '#7971ea')\r\n                  $scope.revertColor('colorQuaternary', '#444a54')\r\n                  break\r\n                case 'purplerain':\r\n                  $scope.revertColor('colorHeaderBG', '#393041')\r\n                  $scope.revertColor('colorHeaderPrimary', '#f6f6f6')\r\n                  $scope.revertColor('colorPrimary', '#393041')\r\n                  $scope.revertColor('colorSecondary', '#d2cbd8')\r\n                  $scope.revertColor('colorTertiary', '#f67280')\r\n                  $scope.revertColor('colorQuaternary', '#52455f')\r\n                  break\r\n                case 'sandstone':\r\n                  $scope.revertColor('colorHeaderBG', '#625757')\r\n                  $scope.revertColor('colorHeaderPrimary', '#f9f9f9')\r\n                  $scope.revertColor('colorPrimary', '#625757')\r\n                  $scope.revertColor('colorSecondary', '#dfdfdf')\r\n                  $scope.revertColor('colorTertiary', '#ef5a5a')\r\n                  $scope.revertColor('colorQuaternary', '#6f6363')\r\n                  break\r\n                case 'winterfire':\r\n                  $scope.revertColor('colorHeaderBG', '#404969')\r\n                  $scope.revertColor('colorHeaderPrimary', '#ebf0f6')\r\n                  $scope.revertColor('colorPrimary', '#404969')\r\n                  $scope.revertColor('colorSecondary', '#ebf0f6')\r\n                  $scope.revertColor('colorTertiary', '#ff7f50')\r\n                  $scope.revertColor('colorQuaternary', '#4a5479')\r\n                  break\r\n              }\r\n\r\n              $scope.saveColorScheme(e)\r\n            })\r\n          })\r\n\r\n          // Load MailCheckTicketType from settings\r\n          var $mailerCheckTicketTypeSelect = $('#mailerCheckTicketType')\r\n          var $selectizeTicketType = $mailerCheckTicketTypeSelect[0].selectize\r\n          if ($mailerCheckTicketTypeSelect.length > 0) {\r\n            if ($scope.mailerCheckTicketType !== '') {\r\n              // empty string is reading as '? string: ?' ????\r\n              $mailerCheckTicketTypeSelect\r\n                .find('option[value=\"' + $scope.mailerCheckTicketType + '\"]')\r\n                .prop('selected', true)\r\n\r\n              $selectizeTicketType.setValue($scope.mailerCheckTicketType, true)\r\n              $selectizeTicketType.refreshItems()\r\n            } else {\r\n              // Set default to first option.....\r\n              var first = _.first(_.values($selectizeTicketType.options)).value\r\n\r\n              $selectizeTicketType.setValue(first, true)\r\n              $selectizeTicketType.refreshItems()\r\n\r\n              $scope.mailerCheckTicketType = $mailerCheckTicketTypeSelect.val()\r\n            }\r\n          }\r\n\r\n          // Load MailCheckTicketPriority from settings\r\n          var $mailCheckTicketPrioritySelect = $('#mailerCheckTicketPriority')\r\n          if ($mailCheckTicketPrioritySelect.length > 0) {\r\n            // Build out priority Options based on selected ticket type\r\n            loadTypePrioritySelect($scope.mailerCheckTicketType)\r\n          }\r\n\r\n          // Pagination on ticket Tags\r\n          loadTicketTagPagination(null, 0)\r\n          var $ticketTagPagination = $('.ticket-tags-pagination')\r\n          UIkit.pagination($ticketTagPagination, {\r\n            items: $scope.ticketTagsCount,\r\n            itemsOnPage: 16\r\n          })\r\n          $ticketTagPagination.on('select.uk.pagination', loadTicketTagPagination)\r\n        }, 0)\r\n      }\r\n\r\n      function loadTypePrioritySelect (typeId) {\r\n        var $mailCheckTicketPrioritySelect = $('#mailerCheckTicketPriority')\r\n        if ($mailCheckTicketPrioritySelect.length < 1) {\r\n          return\r\n        }\r\n\r\n        $http\r\n          .get('/api/v1/tickets/type/' + typeId)\r\n          .success(function (response) {\r\n            if (response.success) {\r\n              $timeout(function () {\r\n                var type = response.type\r\n                if ($scope.mailerCheckTicketPriority === '') {\r\n                  $scope.mailerCheckTicketPriority = _.first(type.priorities)._id\r\n                }\r\n\r\n                var holdPriorityValue = $scope.mailerCheckTicketPriority\r\n\r\n                if (\r\n                  !_.some(type.priorities, function (i) {\r\n                    return i._id.toString() === holdPriorityValue.toString()\r\n                  })\r\n                ) {\r\n                  holdPriorityValue = _.first(type.priorities)._id\r\n                }\r\n\r\n                var $selectizeTicketPriority = $mailCheckTicketPrioritySelect[0].selectize\r\n                $selectizeTicketPriority.clearOptions()\r\n\r\n                type.priorities.forEach(function (priority) {\r\n                  $selectizeTicketPriority.addOption({\r\n                    value: priority._id,\r\n                    text: priority.name\r\n                  })\r\n                })\r\n\r\n                $selectizeTicketPriority.setValue(holdPriorityValue, true)\r\n                $selectizeTicketPriority.refreshOptions(false)\r\n                $selectizeTicketPriority.refreshItems()\r\n              }, 0)\r\n            }\r\n          })\r\n          .error(function (err) {\r\n            helpers.UI.showSnackbar('Error: ' + err, true)\r\n            $log.error(err)\r\n          })\r\n      }\r\n\r\n      function loadTicketTagPagination (e, pageIndex) {\r\n        if (e) {\r\n          e.preventDefault()\r\n        }\r\n\r\n        $http\r\n          .get('/api/v1/tags/limit?limit=16&page=' + pageIndex)\r\n          .success(function (response) {\r\n            var tags = []\r\n            var $tagWrapper = $('.ticket-tags-wrapper')\r\n            if ($tagWrapper.length < 1) {\r\n              return\r\n            }\r\n\r\n            $tagWrapper.empty()\r\n            if (response.success) {\r\n              tags = response.tags\r\n              // tags = [];\r\n              if (tags.length === 0) {\r\n                $tagWrapper.append(\r\n                  '<div style=\"width: 100%; padding: 55px; text-align: center;\"><h3 style=\"font-size: 24px; font-weight: 300;\">No Tags Found</h3></div>'\r\n                )\r\n                $('.ticket-tags-pagination').hide()\r\n              } else {\r\n                tags.forEach(function (tag) {\r\n                  var html = ''\r\n                  html +=\r\n                    '<div class=\"uk-width-1-2 br bb\">\\n' +\r\n                    ' <div id=\"view-tag-' +\r\n                    tag._id +\r\n                    '\" data-tagId=\"' +\r\n                    tag._id +\r\n                    '\" class=\"z-box uk-clearfix\">\\n' +\r\n                    '     <div class=\"uk-grid uk-grid-collapse uk-clearfix\">\\n' +\r\n                    '         <div class=\"uk-width-1-2\">\\n' +\r\n                    '             <h5 class=\"tag-' +\r\n                    tag._id +\r\n                    '-name\" style=\"font-size: 16px; line-height: 31px; margin: 0; padding: 0; font-weight: 300;\">' +\r\n                    tag.name +\r\n                    '</h5>\\n' +\r\n                    '         </div>\\n' +\r\n                    '         <div class=\"uk-width-1-2 uk-text-right\">\\n' +\r\n                    '             <div class=\"md-btn-group mt-5\">\\n' +\r\n                    '                 <a class=\"md-btn md-btn-small md-btn-flat\" ng-click=\"editTagClicked(\\'' +\r\n                    tag._id +\r\n                    '\\', $event);\">edit</a>\\n' +\r\n                    '                 <a class=\"md-btn md-btn-small md-btn-flat md-btn-flat-danger\" ng-click=\"removeTagClicked(\\'' +\r\n                    tag._id +\r\n                    '\\', $event);\">remove</a>\\n' +\r\n                    '             </div>\\n' +\r\n                    '         </div>\\n' +\r\n                    '     </div>\\n' +\r\n                    ' </div>\\n' +\r\n                    ' <div id=\"edit-tag-' +\r\n                    tag._id +\r\n                    '\" data-tagId=\"' +\r\n                    tag._id +\r\n                    '\" class=\"z-box uk-clearfix hide\" style=\"padding-top: 19px; border-top: none !important;\">\\n' +\r\n                    '     <form data-tag-id=\"' +\r\n                    tag._id +\r\n                    '\" ng-submit=\"submitUpdateTag($event);\">\\n' +\r\n                    '         <div class=\"uk-grid uk-grid-collapse uk-clearfix\">\\n' +\r\n                    '             <div class=\"uk-width-2-3\">\\n' +\r\n                    // '                 <label for=\"\">Name</label>\\n' +\r\n                    '                 <input type=\"text\" class=\"md-input\" style=\"padding: 5px;\" name=\"tag-' +\r\n                    tag._id +\r\n                    '-name\" value=\"' +\r\n                    tag.name +\r\n                    '\" />\\n' +\r\n                    '             </div>\\n' +\r\n                    '             <div class=\"uk-width-1-3\">\\n' +\r\n                    '                 <div class=\"md-btn-group uk-float-right uk-text-right\" style=\"margin-top: 2px;\">\\n' +\r\n                    '                     <a class=\"md-btn md-btn-small md-btn-flat\" ng-click=\"cancelEditTagClicked(\\'' +\r\n                    tag._id +\r\n                    '\\', $event);\">Cancel</a>\\n' +\r\n                    '                     <button type=\"submit\" class=\"md-btn md-btn-small md-btn-flat md-btn-flat-success\">Save</button>\\n' +\r\n                    '                 </div>\\n' +\r\n                    '             </div>\\n' +\r\n                    '         </div>\\n' +\r\n                    '     </form>\\n' +\r\n                    ' </div>\\n' +\r\n                    ' </div>'\r\n\r\n                  $tagWrapper.append(html)\r\n                })\r\n\r\n                // Bootstrap Angular dynamically...\r\n                var $injector = angular.injector(['ng', 'trudesk'])\r\n                $injector.invoke([\r\n                  '$compile',\r\n                  '$rootScope',\r\n                  function ($compile, $rootScope) {\r\n                    var $scope = $tagWrapper.scope()\r\n                    $compile($tagWrapper)($scope || $rootScope)\r\n                    $rootScope.$digest()\r\n                  }\r\n                ])\r\n\r\n                // Fix filled inputs\r\n                helpers.UI.inputs()\r\n                helpers.UI.reRenderInputs()\r\n              }\r\n            }\r\n          })\r\n          .error(function (err) {\r\n            $log.error(err)\r\n          })\r\n      }\r\n\r\n      $scope.$watch('mailerEnabled', function (newVal) {\r\n        $('input#mailerHost')\r\n          .attr('disabled', !newVal)\r\n          .parent()\r\n          .toggleClass('md-input-wrapper-disabled', !newVal)\r\n        $('input#mailerSSL')\r\n          .attr('disabled', !newVal)\r\n          .parent()\r\n          .toggleClass('md-input-wrapper-disabled', !newVal)\r\n        $('input#mailerPort')\r\n          .attr('disabled', !newVal)\r\n          .parent()\r\n          .toggleClass('md-input-wrapper-disabled', !newVal)\r\n        $('input#mailerUsername')\r\n          .attr('disabled', !newVal)\r\n          .parent()\r\n          .toggleClass('md-input-wrapper-disabled', !newVal)\r\n        $('input#mailerPassword')\r\n          .attr('disabled', !newVal)\r\n          .parent()\r\n          .toggleClass('md-input-wrapper-disabled', !newVal)\r\n        $('input#mailerFrom')\r\n          .attr('disabled', !newVal)\r\n          .parent()\r\n          .toggleClass('md-input-wrapper-disabled', !newVal)\r\n        $('button#mailerSubmit')\r\n          .attr('disabled', !newVal)\r\n          .parent()\r\n          .toggleClass('md-input-wrapper-disabled', !newVal)\r\n      })\r\n\r\n      $scope.defaultTicketTypeChanged = function () {\r\n        if (!$scope.defaultTicketType) {\r\n          return\r\n        }\r\n\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'ticket:type:default',\r\n              value: $scope.defaultTicketType\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {},\r\n            function errorCallback (err) {\r\n              $log.error(err)\r\n              helpers.UI.showSnackbar('Error: ' + err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.mailerCheckTicketTypeChanged = function () {\r\n        loadTypePrioritySelect($scope.mailerCheckTicketType)\r\n      }\r\n\r\n      $scope.switchSettings = function (event, settings) {\r\n        if (settings) {\r\n          var currentTarget = $(event.currentTarget)\r\n          var $target = $('div[data-settings-id=\"' + settings + '\"]')\r\n          var $settingsWrap = $('.settings-wrap')\r\n          if ($target.length > 0) {\r\n            // Hide Them\r\n            $('.settings-categories > li').each(function () {\r\n              var vm = this\r\n              $(vm).removeClass('active')\r\n            })\r\n\r\n            $settingsWrap.find('div[data-settings-id]').each(function () {\r\n              var vm = this\r\n              $(vm).removeClass('active')\r\n            })\r\n\r\n            $('.page-wrapper').scrollTop(0)\r\n\r\n            // Show Selected\r\n            $target.addClass('active')\r\n            if (currentTarget.length > 0) {\r\n              currentTarget.addClass('active')\r\n            }\r\n\r\n            if (settings === 'settings-tickets') {\r\n              $scope.switchTicketType(\r\n                {\r\n                  currentTarget: $target.find('ul>li[data-key]').first()\r\n                },\r\n                false\r\n              )\r\n            }\r\n\r\n            if (settings === 'settings-mailer') {\r\n              $scope.switchTicketType(\r\n                {\r\n                  currentTarget: $target.find('ul>li[data-key]').first()\r\n                },\r\n                false\r\n              )\r\n            }\r\n\r\n            if (settings === 'settings-legal' && privacyPolicyMDE) {\r\n              privacyPolicyMDE.codemirror.refresh()\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      $scope.timezoneChanged = function () {\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'gen:timezone',\r\n              value: $scope.selectedTimezone.replace('string:', '')\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              helpers.UI.showSnackbar('Timezone Updated. Please restart server.', false)\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar('Error: ' + err, true)\r\n              $log.error(err)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.saveTimeFormatClicked = function () {\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'gen:timeFormat',\r\n              value: $scope.timeFormat\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              SettingsService.getSettings().timeFormat.value = $scope.timeFormat\r\n              helpers.UI.showSnackbar('Setting Saved.', false)\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.showSnackbar('Error: ' + err, true)\r\n              $log.error(err)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.saveShortDateFormatClicked = function () {\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'gen:shortDateFormat',\r\n              value: $scope.shortDateFormat\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              SettingsService.getSettings().shortDateFormat.value = $scope.shortDateFormat\r\n              helpers.UI.showSnackbar('Setting Saved.', false)\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.showSnackbar('Error: ' + err, true)\r\n              $log.error(err)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.saveLongDateFormatClicked = function () {\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'gen:longDateFormat',\r\n              value: $scope.longDateFormat\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              SettingsService.getSettings().longDateFormat.value = $scope.longDateFormat\r\n              helpers.UI.showSnackbar('Setting Saved.', false)\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.showSnackbar('Error: ' + err, true)\r\n              $log.error(err)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.saveSiteTitleClicked = function () {\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'gen:sitetitle',\r\n              value: $scope.siteTitle\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              helpers.UI.showSnackbar('Site title saved successfully.', false)\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar('Error: ' + err, true)\r\n              $log.error(err)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.saveSiteUrlClicked = function () {\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'gen:siteurl',\r\n              value: $scope.siteUrl\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              helpers.UI.showSnackbar('Site URL saved successfully.', false)\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar('Error: ' + err, true)\r\n              $log.error(err)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.removeCustomLogo = function (event) {\r\n        event.preventDefault()\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'gen:customlogo',\r\n              value: false\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              $window.location.reload()\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar('Error: ' + err, true)\r\n              $log.error(err)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.removeCustomPageLogo = function (event) {\r\n        event.preventDefault()\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'gen:custompagelogo',\r\n              value: false\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              $window.location.reload()\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar('Error: ' + err, true)\r\n              $log.error(err)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.removeCustomFavicon = function (event) {\r\n        event.preventDefault()\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'gen:customfavicon',\r\n              value: false\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              $window.location.reload()\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar('Error: ' + err, true)\r\n              $log.error(err)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.mailerEnabledChange = function () {\r\n        var vm = this\r\n        $scope.mailerEnabled = vm.mailerEnabled\r\n\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'mailer:enable',\r\n              value: $scope.mailerEnabled\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {},\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar('Error: ' + err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.mailerSSLChange = function () {\r\n        var vm = this\r\n        $scope.mailerSSL = vm.mailerSSL\r\n\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'mailer:ssl',\r\n              value: $scope.mailerSSL\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {},\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar('Error: ' + err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.submitTestMailer = function ($event) {\r\n        $event.preventDefault()\r\n        helpers.UI.showSnackbar('Testing...', false)\r\n        $http\r\n          .post(\r\n            '/api/v1/settings/testmailer',\r\n            {\r\n              // Empty\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              helpers.UI.showSnackbar('Successfully Connected', false)\r\n            },\r\n            function errorCallback (response) {\r\n              helpers.UI.showSnackbar('Error: ' + response.data.error, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.mailerFormSubmit = function ($event) {\r\n        $event.preventDefault()\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            [\r\n              { name: 'mailer:host', value: $scope.mailerHost },\r\n              { name: 'mailer:ssl', value: $scope.mailerSSL },\r\n              { name: 'mailer:port', value: $scope.mailerPort },\r\n              { name: 'mailer:username', value: $scope.mailerUsername },\r\n              { name: 'mailer:password', value: $scope.mailerPassword },\r\n              { name: 'mailer:from', value: $scope.mailerFrom }\r\n            ],\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              helpers.UI.showSnackbar('Mailer Settings Saved', false)\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar(err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.tpsEnabledChange = function () {\r\n        var vm = this\r\n        $scope.tpsEnabled = vm.tpsEnabled\r\n\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'tps:enable',\r\n              value: $scope.tpsEnabled\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {},\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar(err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.tpsFormSubmit = function ($event) {\r\n        $event.preventDefault()\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            [{ name: 'tps:username', value: $scope.tpsUsername }, { name: 'tps:apikey', value: $scope.tpsApiKey }],\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              helpers.UI.showSnackbar('TPS Settings Saved', false)\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar(err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.$watch('mailerCheckEnabled', function (newVal) {\r\n        var $mailerCheckTicketTypeSelectize = $('select#mailerCheckTicketType').selectize()[0]\r\n        var $mailerCheckTicketPrioritySelectize = $('select#mailerCheckTicketPriority').selectize()[0]\r\n\r\n        $('input#mailerCheckHost')\r\n          .attr('disabled', !newVal)\r\n          .parent()\r\n          .toggleClass('md-input-wrapper-disabled', !newVal)\r\n        $('input#mailerCheckPort')\r\n          .attr('disabled', !newVal)\r\n          .parent()\r\n          .toggleClass('md-input-wrapper-disabled', !newVal)\r\n        $('input#mailerCheckUsername')\r\n          .attr('disabled', !newVal)\r\n          .parent()\r\n          .toggleClass('md-input-wrapper-disabled', !newVal)\r\n        $('input#mailerCheckPassword')\r\n          .attr('disabled', !newVal)\r\n          .parent()\r\n          .toggleClass('md-input-wrapper-disabled', !newVal)\r\n        $('input#mailerCheckPolling')\r\n          .attr('disabled', !newVal)\r\n          .parent()\r\n          .toggleClass('md-input-wrapper-disabled', !newVal)\r\n        $('button#mailerCheckSubmit')\r\n          .attr('disabled', !newVal)\r\n          .parent()\r\n          .toggleClass('md-input-wrapper-disabled', !newVal)\r\n        if (!_.isUndefined($mailerCheckTicketTypeSelectize)) {\r\n          if (!newVal) {\r\n            $mailerCheckTicketTypeSelectize.selectize.disable()\r\n          } else {\r\n            $mailerCheckTicketTypeSelectize.selectize.enable()\r\n          }\r\n        }\r\n        if (!_.isUndefined($mailerCheckTicketPrioritySelectize)) {\r\n          if (!newVal) {\r\n            $mailerCheckTicketPrioritySelectize.selectize.disable()\r\n          } else {\r\n            $mailerCheckTicketPrioritySelectize.selectize.enable()\r\n          }\r\n        }\r\n      })\r\n\r\n      $scope.mailerCheckEnabledChange = function () {\r\n        var vm = this\r\n        $scope.mailerCheckEnabled = vm.mailerCheckEnabled\r\n\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'mailer:check:enable',\r\n              value: $scope.mailerCheckEnabled\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              if (!$scope.mailerCheckEnabled) {\r\n                UIkit.modal.confirm(\r\n                  'Settings will take affect after server restart. <br /> <br /> Would you like to restart the server now?',\r\n                  function () {\r\n                    $http\r\n                      .get('/api/v1/admin/restart')\r\n                      .success(function () {})\r\n                      .error(function (err) {\r\n                        helpers.hideLoader()\r\n                        $log.log('[trudesk:settings:mailerCheckSubmit] - Error: ' + err.error)\r\n                        $log.error(err)\r\n                      })\r\n                  },\r\n                  {\r\n                    labels: { Ok: 'Yes', Cancel: 'No' },\r\n                    confirmButtonClass: 'md-btn-primary'\r\n                  }\r\n                )\r\n              }\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar(err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.mailerCheckFormSubmit = function ($event) {\r\n        $event.preventDefault()\r\n        var mailerCheckTicketTypeValue = $('#mailerCheckTicketType option[selected]').val()\r\n        var mailerCheckTicketPriorityValue = $('#mailerCheckTicketPriority option[selected]').val()\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            [\r\n              { name: 'mailer:check:polling', value: $scope.mailerCheckPolling * 60000 },\r\n              { name: 'mailer:check:host', value: $scope.mailerCheckHost },\r\n              { name: 'mailer:check:port', value: $scope.mailerCheckPort },\r\n              {\r\n                name: 'mailer:check:username',\r\n                value: $scope.mailerCheckUsername\r\n              },\r\n              {\r\n                name: 'mailer:check:password',\r\n                value: $scope.mailerCheckPassword\r\n              },\r\n              {\r\n                name: 'mailer:check:ticketype',\r\n                value: mailerCheckTicketTypeValue\r\n              },\r\n              {\r\n                name: 'mailer:check:ticketpriority',\r\n                value: mailerCheckTicketPriorityValue\r\n              },\r\n              {\r\n                name: 'mailer:check:createaccount',\r\n                value: $scope.mailerCheckCreateAccount\r\n              },\r\n              {\r\n                name: 'mailer:check:deletemessage',\r\n                value: $scope.mailerCheckDeleteMessage\r\n              }\r\n            ],\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              helpers.UI.showSnackbar('Mail Check Settings Saved', false)\r\n\r\n              UIkit.modal.confirm(\r\n                'Settings will take affect after server restart. <br /> <br /> Would you like to restart the server now?',\r\n                function () {\r\n                  $http\r\n                    .get('/api/v1/admin/restart')\r\n                    .success(function () {})\r\n                    .error(function (err) {\r\n                      helpers.hideLoader()\r\n                      $log.log('[trudesk:settings:mailerCheckSubmit] - Error: ' + err.error)\r\n                      $log.error(err)\r\n                    })\r\n                },\r\n                {\r\n                  labels: { Ok: 'Yes', Cancel: 'No' },\r\n                  confirmButtonClass: 'md-btn-primary'\r\n                }\r\n              )\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar(err.data.error, true)\r\n              $log.error(err)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.savePrivacyPolicy = function ($event) {\r\n        $event.preventDefault()\r\n\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'legal:privacypolicy',\r\n              value: $scope.privacyPolicy\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              helpers.UI.showSnackbar('Privacy Policy Updated', false)\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar(err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.showTourChanged = function () {\r\n        var vm = this\r\n        $scope.showTour = vm.showTour\r\n\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'showTour:enable',\r\n              value: $scope.showTour\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {},\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar(err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.showOverdueTicketsChanged = function () {\r\n        var vm = this\r\n        $scope.showOverdueTickets = vm.showOverdueTickets\r\n\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'showOverdueTickets:enable',\r\n              value: $scope.showOverdueTickets\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {},\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar(err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.allowPublicTicketsChanged = function () {\r\n        var vm = this\r\n        $scope.allowPublicTickets = vm.allowPublicTickets\r\n\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'allowPublicTickets:enable',\r\n              value: $scope.allowPublicTickets\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {},\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar(err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      function saveMinLength (settingName, length) {\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: settingName,\r\n              value: length\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              helpers.UI.showSnackbar('Setting Saved.', false)\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar(err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.saveMinSubjectLengthClick = function () {\r\n        saveMinLength('ticket:minlength:subject', $scope.minSubjectLength)\r\n      }\r\n\r\n      $scope.saveMinIssueLengthClick = function () {\r\n        saveMinLength('ticket:minlength:issue', $scope.minIssueLength)\r\n      }\r\n\r\n      $scope.allowUserRegistrationChanged = function () {\r\n        var vm = this\r\n        $scope.allowUserRegistration = vm.allowUserRegistration\r\n\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'allowUserRegistration:enable',\r\n              value: $scope.allowUserRegistration\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {},\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar(err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.emailBetaChanged = function () {\r\n        var vm = this\r\n        $scope.emailBeta = vm.emailBeta\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            {\r\n              name: 'beta:email',\r\n              value: $scope.emailBeta\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {},\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar(err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.showCreateTicketTypeWindow = function ($event) {\r\n        $event.preventDefault()\r\n        var createTicketTypeModal = $('#createTicketTypeModal')\r\n        if (createTicketTypeModal.length > 0) {\r\n          UIkit.modal(createTicketTypeModal, { bgclose: false }).show()\r\n        }\r\n      }\r\n\r\n      $scope.switchTicketType = function ($event, animation) {\r\n        var $currentTarget = $($event.currentTarget)\r\n        animation = angular.isUndefined(animation) ? true : animation\r\n        if ($currentTarget) {\r\n          if ($currentTarget.hasClass('active')) return true\r\n          var key = $currentTarget.attr('data-key')\r\n          var $keyWindow = $currentTarget\r\n            .parent()\r\n            .parent()\r\n            .parent()\r\n            .find('div[data-ticket-type-id=\"' + key + '\"]')\r\n          if ($keyWindow) {\r\n            $currentTarget\r\n              .parent()\r\n              .find('li.active')\r\n              .removeClass('active')\r\n            $currentTarget.addClass('active')\r\n            $currentTarget\r\n              .parent()\r\n              .parent()\r\n              .parent()\r\n              .find('div[data-ticket-type-id].active')\r\n              .velocity(\r\n                {\r\n                  opacity: animation ? 0 : 1\r\n                },\r\n                {\r\n                  duration: animation ? 250 : 1,\r\n                  complete: function () {\r\n                    var vm = this\r\n                    $(vm)\r\n                      .removeClass('active')\r\n                      .addClass('hide')\r\n\r\n                    $keyWindow.velocity(\r\n                      {\r\n                        opacity: 1\r\n                      },\r\n                      {\r\n                        duration: animation ? 250 : 1,\r\n                        begin: function () {\r\n                          $keyWindow.removeClass('hide')\r\n                        },\r\n                        complete: function () {\r\n                          $keyWindow.addClass('active')\r\n                        }\r\n                      }\r\n                    )\r\n                  }\r\n                }\r\n              )\r\n          }\r\n        }\r\n      }\r\n\r\n      $scope.createTicketType = function (event) {\r\n        event.preventDefault()\r\n        var form = $('#createTicketTypeForm')\r\n        if (!form.isValid(null, null, false)) {\r\n          return true\r\n        }\r\n\r\n        var typeName = form.find('input[name=\"typeName\"]').val()\r\n        if (!typeName || typeName.length < 3) return true\r\n\r\n        $http\r\n          .post(\r\n            '/api/v1/tickets/types/create',\r\n            {\r\n              name: typeName\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              helpers.UI.showSnackbar('Type: ' + typeName + ' created successfully', false)\r\n\r\n              History.pushState(null, null, '/settings/tickets/?refresh=true')\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar('Unable to create ticket type. Check console', true)\r\n              $log.error(err)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.editTicketType = function ($event) {\r\n        if (\r\n          _.isNull($event.target) ||\r\n          _.isUndefined($event.target) ||\r\n          $event.target.tagName.toLowerCase() === 'label' ||\r\n          $event.target.tagName.toLowerCase() === 'input'\r\n        ) {\r\n          return true\r\n        }\r\n\r\n        var ticketTypeId = $event.currentTarget.dataset.tickettypeoid\r\n        if (!ticketTypeId) return true\r\n\r\n        History.pushState(null, null, '/settings/tickettypes/' + ticketTypeId)\r\n      }\r\n\r\n      $scope.submitUpdateTicketType = function ($event, typeId) {\r\n        $event.preventDefault()\r\n        var $form = $($event.currentTarget)\r\n        if ($form) {\r\n          var $typeNameInput = $form.find('input#ticket-type-name-' + typeId)\r\n          var typeName = $typeNameInput.val()\r\n\r\n          $http\r\n            .put(\r\n              '/api/v1/tickets/types/' + typeId,\r\n              {\r\n                name: typeName\r\n              },\r\n              {\r\n                headers: {\r\n                  'Content-Type': 'application/json'\r\n                }\r\n              }\r\n            )\r\n            .then(\r\n              function successCallback () {\r\n                helpers.UI.showSnackbar('Type: ' + typeName + ' updated successfully', false)\r\n                $('li[data-key=\"' + typeId + '\"]')\r\n                  .find('h3')\r\n                  .text(typeName)\r\n              },\r\n              function errorCallback (err) {\r\n                helpers.UI.showSnackbar(err, true)\r\n              }\r\n            )\r\n        }\r\n      }\r\n\r\n      $scope.submitUpdateTemplateSubject = function ($event, templateId) {\r\n        $event.preventDefault()\r\n        var $form = $($event.currentTarget)\r\n        if ($form) {\r\n          var $subjectInput = $form.find('input')\r\n          var subject = $subjectInput.val()\r\n\r\n          $http\r\n            .put(\r\n              '/api/v1/settings/mailer/template/' + templateId,\r\n              {\r\n                subject: subject\r\n              },\r\n              {\r\n                headers: {\r\n                  'Content-Type': 'application/json'\r\n                }\r\n              }\r\n            )\r\n            .then(\r\n              function successCallback () {\r\n                helpers.UI.showSnackbar('Template subject updated successfully')\r\n              },\r\n              function errorCallback (err) {\r\n                helpers.UI.showSnackbar(err, true)\r\n              }\r\n            )\r\n        }\r\n      }\r\n\r\n      $scope.updateTicketType = function (typeId) {\r\n        if (!typeId || typeId.length < 1) {\r\n          helpers.UI.showSnackbar('Unable to get type id', true)\r\n          return true\r\n        }\r\n\r\n        var typeName = $('#editType_Name').val()\r\n\r\n        $http\r\n          .put(\r\n            '/api/v1/tickets/types/' + typeId,\r\n            {\r\n              name: typeName\r\n            },\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              helpers.UI.showSnackbar('Type: ' + typeName + ' updated successfully', false)\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar(err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.showDeleteTicketType = function (typeId, hasTickets) {\r\n        if (hasTickets) {\r\n          var delTicketTypeModal = $('#deleteTicketTypeModal-' + typeId)\r\n          if (delTicketTypeModal.length > 0) {\r\n            UIkit.modal(delTicketTypeModal, { bgclose: false }).show()\r\n          } else {\r\n            $log.log('Unable to locate modal window: #deleteTicketTypeModal' + typeId)\r\n          }\r\n        } else {\r\n          $scope.submitDeleteTicketType(typeId, undefined)\r\n        }\r\n      }\r\n\r\n      $scope.submitDeleteTicketType = function (typeId, event) {\r\n        if (event) event.preventDefault()\r\n\r\n        if (_.isUndefined(typeId) || typeId.length < 1) {\r\n          helpers.UI.showSnackbar('Unable to get type ID', true)\r\n          return true\r\n        }\r\n\r\n        var typeName = $('input#del_type_name-' + typeId).val()\r\n        var newTypeId = $('form#deleteTicketTypeForm-' + typeId + ' select[name=\"ticketType\"]').val()\r\n\r\n        if (!newTypeId || newTypeId.length < 1) {\r\n          helpers.UI.showSnackbar('Unable to get new ticket type. Aborting...', true)\r\n          return true\r\n        }\r\n\r\n        $http({\r\n          method: 'DELETE',\r\n          url: '/api/v1/tickets/types/' + typeId,\r\n          data: {\r\n            newTypeId: newTypeId\r\n          },\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }).then(\r\n          function successCallback (response) {\r\n            if (response.data.success) {\r\n              helpers.UI.showSnackbar('Successfully removed ticket type: ' + typeName, false)\r\n\r\n              return History.pushState(null, null, '/settings/tickets/')\r\n            }\r\n          },\r\n          function errorCallback (response) {\r\n            if (!_.isUndefined(response.data.error.custom)) {\r\n              $log.error('[trudesk:settings:submitDeleteTicketType] Error -', response.data.error)\r\n              helpers.UI.showSnackbar(response.data.error.message, true)\r\n            } else {\r\n              $log.error('[trudesk:settings:submitDeleteTicketType] Error -', response.data.error)\r\n              helpers.UI.showSnackbar('Unable to remove ticket type. Check console.', true)\r\n            }\r\n          }\r\n        )\r\n      }\r\n\r\n      $scope.editTagClicked = function (tagId, $event) {\r\n        if ($event) {\r\n          $event.preventDefault()\r\n        }\r\n\r\n        var $viewBox = $('#view-tag-' + tagId)\r\n        var $editBox = $('#edit-tag-' + tagId)\r\n        if ($editBox.length > 0 && $viewBox.length > 0) {\r\n          $viewBox.addClass('hide')\r\n          $editBox.removeClass('hide')\r\n        }\r\n      }\r\n\r\n      $scope.cancelEditTagClicked = function (tagId, $event) {\r\n        if ($event) {\r\n          $event.preventDefault()\r\n        }\r\n\r\n        var $viewBox = $('#view-tag-' + tagId)\r\n        var $editBox = $('#edit-tag-' + tagId)\r\n        if ($editBox.length > 0 && $viewBox.length > 0) {\r\n          if ($event) {\r\n            $($event.currentTarget)\r\n              .parents('form')\r\n              .trigger('reset')\r\n          }\r\n          $viewBox.removeClass('hide')\r\n          $editBox.addClass('hide')\r\n        }\r\n      }\r\n\r\n      $scope.editPriority = function (pId, $event) {\r\n        $event.preventDefault()\r\n        var $viewBox = $('#view-p-' + pId)\r\n        var $editBox = $('#edit-p-' + pId)\r\n        if ($editBox.length > 0 && $viewBox.length > 0) {\r\n          $editBox.find('.uk-color-button').css({\r\n            background: $editBox.find('input[name=\"p-' + pId + '-htmlColor\"]').val()\r\n          })\r\n          $viewBox.addClass('hide')\r\n          $editBox.removeClass('hide')\r\n        }\r\n      }\r\n\r\n      $scope.cancelEditPriority = function (pId, $event) {\r\n        if ($event) {\r\n          $event.preventDefault()\r\n        }\r\n        var $viewBox = $('#view-p-' + pId)\r\n        var $editBox = $('#edit-p-' + pId)\r\n        if ($editBox.length > 0 && $viewBox.length > 0) {\r\n          if ($event) {\r\n            $($event.currentTarget)\r\n              .parents('form')\r\n              .trigger('reset')\r\n          }\r\n          $viewBox.removeClass('hide')\r\n          $editBox.addClass('hide')\r\n        }\r\n      }\r\n\r\n      $scope.editTicketTypePriority = function (typeId, id, $event) {\r\n        $event.preventDefault()\r\n        var $viewBox = $('#t-' + typeId + '-view-p-' + id)\r\n        var $editBox = $('#t-' + typeId + '-edit-p-' + id)\r\n        if ($editBox.length > 0 && $viewBox.length > 0) {\r\n          $editBox.find('.uk-color-button').css({\r\n            background: $editBox.find('input[name=\"p-' + id + '-htmlColor\"]').val()\r\n          })\r\n          $viewBox.addClass('hide')\r\n          $editBox.removeClass('hide')\r\n        }\r\n      }\r\n\r\n      $scope.cancelEditTicketTypePriority = function (typeId, id, $event) {\r\n        if ($event) {\r\n          $event.preventDefault()\r\n        }\r\n        var $viewBox = $('#t-' + typeId + '-view-p-' + id)\r\n        var $editBox = $('#t-' + typeId + '-edit-p-' + id)\r\n        if ($editBox.length > 0 && $viewBox.length > 0) {\r\n          if ($event) {\r\n            $($event.currentTarget)\r\n              .parents('form')\r\n              .trigger('reset')\r\n          }\r\n          $viewBox.removeClass('hide')\r\n          $editBox.addClass('hide')\r\n        }\r\n      }\r\n\r\n      $scope.showAddPriorityToType = function (typeId, $event) {\r\n        if ($event) {\r\n          $event.preventDefault()\r\n        }\r\n\r\n        // Dynamically load priorities....\r\n        $http\r\n          .get('/api/v1/tickets/type/' + typeId)\r\n          .success(function (response) {\r\n            if (response.success) {\r\n              var updatedType = response.type\r\n              $http\r\n                .get('/api/v1/tickets/priorities')\r\n                .success(function (response) {\r\n                  var priorities = response.priorities\r\n                  var $addPriorityToTypeModal = $('#addPriorityTicketType-' + typeId)\r\n                  var $pLoop = $addPriorityToTypeModal.find('.priority-loop')\r\n                  $pLoop.empty()\r\n\r\n                  var html = ''\r\n                  _.each(priorities, function (priority) {\r\n                    if (_.some(updatedType.priorities, priority)) {\r\n                      html = ''\r\n                      html +=\r\n                        '<div class=\"z-box uk-clearfix\">\\n' +\r\n                        '       <div class=\"uk-float-left\">\\n' +\r\n                        '           <h5 class=\"p-' +\r\n                        priority._id +\r\n                        '-name\" style=\"color: ' +\r\n                        priority.htmlColor +\r\n                        '; font-weight: bold;\">' +\r\n                        priority.name +\r\n                        '</h5>\\n' +\r\n                        '           <p class=\"uk-text-muted\">SLA Overdue: <strong class=\"p-' +\r\n                        priority._id +\r\n                        '-overdueIn\">' +\r\n                        priority.durationFormatted +\r\n                        '</strong></p>\\n' +\r\n                        '       </div>\\n' +\r\n                        '       <div class=\"uk-float-right\">\\n' +\r\n                        '           <i class=\"material-icons uk-text-success mt-10 mr-15\" style=\"font-size: 28px;\">check</i>\\n' +\r\n                        '       </div>\\n' +\r\n                        '   </div>'\r\n\r\n                      $pLoop.append(html)\r\n                    } else {\r\n                      html = ''\r\n                      html +=\r\n                        '<div class=\"z-box uk-clearfix\">\\n' +\r\n                        '       <div class=\"uk-float-left\">\\n' +\r\n                        '           <h5 class=\"p-' +\r\n                        priority._id +\r\n                        '-name\" style=\"color: ' +\r\n                        priority.htmlColor +\r\n                        '; font-weight: bold;\">' +\r\n                        priority.name +\r\n                        '</h5>\\n' +\r\n                        '           <p class=\"uk-text-muted\">SLA Overdue: <strong class=\"p-' +\r\n                        priority._id +\r\n                        '-overdueIn\">' +\r\n                        priority.durationFormatted +\r\n                        '</strong></p>\\n' +\r\n                        '       </div>\\n' +\r\n                        '       <div class=\"uk-float-right\">\\n' +\r\n                        '           <a class=\"uk-button uk-button-success mt-10 mr-10\" ng-click=\"priorityAddBtnClicked(\\'' +\r\n                        updatedType._id +\r\n                        \"', '\" +\r\n                        priority._id +\r\n                        '\\', $event);\">Add</a>\\n' +\r\n                        '           <i class=\"material-icons uk-text-success mt-10 mr-15\" style=\"display: none; opacity: 0; font-size: 28px;\">check</i>\\n' +\r\n                        '       </div>\\n' +\r\n                        '   </div>'\r\n\r\n                      $pLoop.append(html)\r\n                    }\r\n                  })\r\n\r\n                  var $injector = angular.injector(['ng', 'trudesk'])\r\n                  $injector.invoke([\r\n                    '$compile',\r\n                    '$rootScope',\r\n                    function ($compile, $rootScope) {\r\n                      var $scope = $pLoop.scope()\r\n                      $compile($pLoop)($scope || $rootScope)\r\n                      $rootScope.$digest()\r\n                    }\r\n                  ])\r\n\r\n                  if ($addPriorityToTypeModal.length > 0) {\r\n                    UIkit.modal($addPriorityToTypeModal, {\r\n                      bgclose: false\r\n                    }).show()\r\n                  } else {\r\n                    $log.error('Unable to locate add priority modal.')\r\n                  }\r\n                })\r\n                .error(function (error) {\r\n                  $log.error(error)\r\n                  helpers.UI.showSnackbar('Unable to load ticket type. Check Console.')\r\n                })\r\n            } else {\r\n              helpers.UI.showSnackbar('Unable to load ticket type. Check Console.')\r\n            }\r\n          })\r\n          .error(function (error) {\r\n            $log.error(error)\r\n            helpers.UI.showSnackbar('Unable to load ticket type. Check Console.')\r\n          })\r\n      }\r\n\r\n      $scope.priorityAddBtnClicked = function (typeId, pId, $event) {\r\n        $event.preventDefault()\r\n        var $addButton = $($event.currentTarget)\r\n        if ($addButton.length < 1) {\r\n          return false\r\n        }\r\n\r\n        $http\r\n          .post(\r\n            '/api/v1/tickets/type/' + typeId + '/addpriority',\r\n            {\r\n              priority: pId\r\n            },\r\n            {\r\n              'Content-Type': 'application/json'\r\n            }\r\n          )\r\n          .then(\r\n            function success (response) {\r\n              var Type = response.data.type\r\n              if (Type) {\r\n                // Update UI\r\n                var $typeContainer = $('div[data-ticket-type-id=\"' + typeId + '\"]')\r\n                if ($typeContainer.length > 0) {\r\n                  var $prioritiesBox = $typeContainer.find('.priority-loop')\r\n                  var html = ''\r\n                  $prioritiesBox.empty()\r\n                  var sortedTypePriorities = _.sortBy(_.sortBy(Type.priorities, 'name'), 'migrationNum')\r\n\r\n                  _.each(sortedTypePriorities, function (priority) {\r\n                    html = ''\r\n                    html +=\r\n                      '<div id=\"t-' +\r\n                      Type._id +\r\n                      '-view-p-' +\r\n                      priority._id +\r\n                      '\" data-pId=\"' +\r\n                      priority._id +\r\n                      '\" class=\"z-box uk-clearfix\">\\n' +\r\n                      '       <div class=\"uk-float-left\">\\n' +\r\n                      '           <h5 class=\"p-' +\r\n                      priority._id +\r\n                      '-name\" style=\"color: ' +\r\n                      priority.htmlColor +\r\n                      '; font-weight: bold;\">' +\r\n                      priority.name +\r\n                      '</h5>\\n' +\r\n                      '           <p class=\"uk-text-muted\">SLA Overdue: <strong class=\"p-' +\r\n                      priority._id +\r\n                      '-overdueIn\">' +\r\n                      priority.durationFormatted +\r\n                      '</strong></p>\\n' +\r\n                      '       </div>\\n' +\r\n                      '       <div class=\"uk-float-right\">\\n' +\r\n                      '           <div class=\"md-btn-group mt-5\">\\n' +\r\n                      '               <a class=\"md-btn md-btn-small\" ng-click=\"editTicketTypePriority(\\'' +\r\n                      Type._id +\r\n                      \"', '\" +\r\n                      priority._id +\r\n                      '\\', $event);\">Edit</a>\\n' +\r\n                      '               <a class=\"md-btn md-btn-small md-btn-danger\" ng-click=\"submitRemoveTicketTypePriority(\\'' +\r\n                      Type._id +\r\n                      \"', '\" +\r\n                      priority._id +\r\n                      '\\', $event);\">Remove</a>\\n' +\r\n                      '           </div>\\n' +\r\n                      '       </div>\\n' +\r\n                      '    </div>\\n' +\r\n                      '    <div id=\"t-' +\r\n                      Type._id +\r\n                      '-edit-p-' +\r\n                      priority._id +\r\n                      '\" data-pId=\"' +\r\n                      priority._id +\r\n                      '\" class=\"z-box uk-clearfix hide\" style=\"padding-top: 19px;\">\\n' +\r\n                      '       <form data-priority-id=\"' +\r\n                      priority._id +\r\n                      '\" ng-submit=\"submitUpdatePriority($event);\">\\n' +\r\n                      '           <div class=\"uk-grid uk-grid-collapse uk-clearfix\">\\n' +\r\n                      '               <div class=\"uk-width-1-4\">\\n' +\r\n                      '                   <label for=\"\">Priority Name</label>\\n' +\r\n                      '                   <input type=\"text\" class=\"md-input\" name=\"p-' +\r\n                      priority._id +\r\n                      '-name\" value=\"' +\r\n                      priority.name +\r\n                      '\" />\\n' +\r\n                      '               </div>\\n' +\r\n                      '               <div class=\"uk-width-1-4 uk-padding-small-sides\">\\n' +\r\n                      '                   <label for=\"\">SLA Overdue (minutes)</label>\\n' +\r\n                      '                   <input type=\"text\" class=\"md-input\" name=\"p-' +\r\n                      priority._id +\r\n                      '-overdueIn\" value=\"' +\r\n                      priority.overdueIn +\r\n                      '\" />\\n' +\r\n                      '               </div>\\n' +\r\n                      '               <div class=\"uk-width-1-4 uk-padding-small-sides\">\\n' +\r\n                      '                   <button type=\"button\" class=\"uk-button uk-button-small uk-color-button mr-5 mt-10\" style=\"background: ' +\r\n                      priority.htmlColor +\r\n                      '\" ng-click=\"generateRandomColor(\\'' +\r\n                      priority._id +\r\n                      '\\', $event);\"><i class=\"material-icons\">refresh</i></button>\\n' +\r\n                      '                   <div class=\"md-input-wrapper uk-float-left\" style=\"width: 70%;\">\\n' +\r\n                      '                       <label for=\"\">Color</label>\\n' +\r\n                      '                       <input type=\"text\" class=\"md-input\" name=\"p-' +\r\n                      priority._id +\r\n                      '-htmlColor\" value=\"' +\r\n                      priority.htmlColor +\r\n                      '\" />\\n' +\r\n                      '                       <span class=\"md-input-bar\"></span>\\n' +\r\n                      '                   </div>\\n' +\r\n                      '               </div>\\n' +\r\n                      '               <div class=\"uk-width-1-4\">\\n' +\r\n                      '                   <div class=\"md-btn-group uk-float-right uk-text-right mt-5\">\\n' +\r\n                      '                       <a class=\"md-btn md-btn-small\" ng-click=\"cancelEditTicketTypePriority(\\'' +\r\n                      Type._id +\r\n                      \"','\" +\r\n                      priority._id +\r\n                      '\\', $event);\">Cancel</a>\\n' +\r\n                      '                       <button type=\"submit\" class=\"md-btn md-btn-small md-btn-success\">Save</button>\\n' +\r\n                      '                   </div>\\n' +\r\n                      '               </div>\\n' +\r\n                      '           </div>\\n' +\r\n                      '       </form>\\n' +\r\n                      '   </div>'\r\n\r\n                    $prioritiesBox.append(html)\r\n                  })\r\n\r\n                  // Bootstrap Angular dynamically...\r\n                  var $injector = angular.injector(['ng', 'trudesk'])\r\n                  $injector.invoke([\r\n                    '$compile',\r\n                    '$rootScope',\r\n                    function ($compile, $rootScope) {\r\n                      var $scope = $prioritiesBox.scope()\r\n                      $compile($prioritiesBox)($scope || $rootScope)\r\n                      $rootScope.$digest()\r\n                    }\r\n                  ])\r\n\r\n                  // Fix filled inputs\r\n                  helpers.UI.inputs()\r\n                  helpers.UI.reRenderInputs()\r\n                }\r\n              }\r\n\r\n              // Animation\r\n              $addButton.velocity(\r\n                {\r\n                  opacity: 0\r\n                },\r\n                {\r\n                  duration: 350,\r\n                  complete: function () {\r\n                    $addButton.addClass('hide')\r\n                  }\r\n                }\r\n              )\r\n\r\n              var $check = $addButton.siblings('i.material-icons')\r\n              if ($check.length > 0) {\r\n                $check.velocity(\r\n                  {\r\n                    opacity: 1\r\n                  },\r\n                  {\r\n                    delay: 360,\r\n                    duration: 200,\r\n                    begin: function () {\r\n                      $check.show()\r\n                    }\r\n                  }\r\n                )\r\n              }\r\n            },\r\n            function errorCallback (err) {\r\n              $log.error(err)\r\n              helpers.UI.showSnackbar('Error: ' + err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.removePriorityClicked = function (pId, $event) {\r\n        if ($event) {\r\n          $event.preventDefault()\r\n        }\r\n\r\n        var deletePriorityModal = $('#deletePriorityModal-' + pId)\r\n        if (deletePriorityModal.length > 0) {\r\n          deletePriorityModal.find('form').trigger('reset')\r\n          UIkit.modal(deletePriorityModal, { bgclose: false }).show()\r\n        } else {\r\n          $log.error('Unable to locate delete priority modal.')\r\n        }\r\n      }\r\n\r\n      $scope.submitRemovePriority = function (pId, $event) {\r\n        if ($event) {\r\n          $event.preventDefault()\r\n        }\r\n\r\n        if (pId) {\r\n          var $form = $($event.currentTarget).parents('form')\r\n          var selectedPriority = $form.find('select[name=\"priority\"]').val()\r\n\r\n          $http\r\n            .post(\r\n              '/api/v1/tickets/priority/' + pId + '/delete',\r\n              {\r\n                newPriority: selectedPriority\r\n              },\r\n              {\r\n                headers: {\r\n                  'Content-Type': 'application/json'\r\n                }\r\n              }\r\n            )\r\n            .then(\r\n              function () {\r\n                var $body = $('body')\r\n                // $body.find('div#view-p-' + pId).remove();\r\n                // $body.find('div#edit-p-' + pId).remove();\r\n                $body.find('div[data-pId=\"' + pId + '\"]').remove()\r\n                var deletePriorityModal = $('#deletePriorityModal-' + pId)\r\n                if (deletePriorityModal) {\r\n                  UIkit.modal(deletePriorityModal).hide()\r\n                }\r\n              },\r\n              function (err) {\r\n                $log.error(err)\r\n                helpers.UI.showSnackbar(err.data.error, true)\r\n              }\r\n            )\r\n        }\r\n      }\r\n\r\n      $scope.submitRemoveTicketTypePriority = function (typeId, priorityId, $event) {\r\n        if ($event) {\r\n          $event.preventDefault()\r\n        }\r\n\r\n        if (typeId && priorityId) {\r\n          $http\r\n            .post(\r\n              '/api/v1/tickets/type/' + typeId + '/removepriority',\r\n              {\r\n                priority: priorityId\r\n              },\r\n              {\r\n                headers: {\r\n                  'Content-Type': 'application/json'\r\n                }\r\n              }\r\n            )\r\n            .then(\r\n              function () {\r\n                helpers.UI.showSnackbar('Removed priority from type', false)\r\n                var $body = $('body')\r\n                $body.find('div#t-' + typeId + '-view-p-' + priorityId).remove()\r\n                $body.find('div#t-' + typeId + '-edit-p-' + priorityId).remove()\r\n              },\r\n              function (err) {\r\n                $log.error(err)\r\n                helpers.UI.showSnackbar(err.data.error, true)\r\n              }\r\n            )\r\n        }\r\n      }\r\n\r\n      $scope.showCreatePriorityWindow = function ($event) {\r\n        if ($event) {\r\n          $event.preventDefault()\r\n        }\r\n\r\n        var createPriorityModal = $('#createPriorityModal')\r\n        if (createPriorityModal.length > 0) {\r\n          createPriorityModal.find('form').trigger('reset')\r\n          helpers.UI.inputs()\r\n          helpers.UI.reRenderInputs()\r\n          createPriorityModal.find('form').trigger('reset')\r\n          createPriorityModal.find('.generateHtmlColorBtn').css({ background: '#29B955' })\r\n          UIkit.modal(createPriorityModal, { bgclose: false }).show()\r\n          createPriorityModal.find('input[name=\"p-name\"]').focus()\r\n        } else {\r\n          $log.error('Unable to locate create priority modal.')\r\n        }\r\n      }\r\n\r\n      $scope.createPrioritySubmit = function ($event) {\r\n        $event.preventDefault()\r\n        var $form = $($event.currentTarget)\r\n        if ($form) {\r\n          if (!$form.isValid(null, null, false)) {\r\n            return false\r\n          }\r\n\r\n          var $priorityName = $form.find('input[name=\"p-name\"]')\r\n          var $priorityOverdueIn = $form.find('input[name=\"p-overdueIn\"]')\r\n          var $priorityHtmlColor = $form.find('input[name=\"p-htmlColor\"]')\r\n          if ($priorityName.length < 1 || $priorityOverdueIn.length < 1 || $priorityHtmlColor.length < 1) {\r\n            return false\r\n          }\r\n\r\n          var name = $priorityName.val()\r\n          var overdueIn = $priorityOverdueIn.val()\r\n          var htmlColor = $priorityHtmlColor.val()\r\n\r\n          $http\r\n            .post(\r\n              '/api/v1/tickets/priority/create',\r\n              {\r\n                name: name,\r\n                overdueIn: overdueIn,\r\n                htmlColor: htmlColor\r\n              },\r\n              {\r\n                headers: {\r\n                  'Content-Type': 'application/json'\r\n                }\r\n              }\r\n            )\r\n            .then(\r\n              function successCallback (response) {\r\n                var savedPriority = response.data.priority\r\n                if (savedPriority) {\r\n                  var priorityLoop = $('body').find('.all-priorities-loop')\r\n                  if (priorityLoop) {\r\n                    $http\r\n                      .get('/api/v1/tickets/priorities')\r\n                      .success(function (pResponse) {\r\n                        var priorities = pResponse.priorities\r\n                        var html = ''\r\n                        html +=\r\n                          '<div id=\"view-p-' +\r\n                          savedPriority._id +\r\n                          '\" data-pId=\"' +\r\n                          savedPriority._id +\r\n                          '\" class=\"z-box uk-clearfix\">\\n' +\r\n                          '       <div class=\"uk-float-left\">\\n' +\r\n                          '           <h5 class=\"p-' +\r\n                          savedPriority._id +\r\n                          '-name\" style=\"color: ' +\r\n                          savedPriority.htmlColor +\r\n                          '; font-weight: bold;\">' +\r\n                          savedPriority.name +\r\n                          '</h5>\\n' +\r\n                          '           <p class=\"uk-text-muted\">SLA Overdue: <strong class=\"p-' +\r\n                          savedPriority._id +\r\n                          '-overdueIn\">' +\r\n                          savedPriority.durationFormatted +\r\n                          '</strong></p>\\n' +\r\n                          '       </div>\\n' +\r\n                          '       <div class=\"uk-float-right\">\\n' +\r\n                          '           <div class=\"md-btn-group mt-5\">\\n' +\r\n                          '               <a class=\"md-btn md-btn-small\" ng-click=\"editPriority(\\'' +\r\n                          savedPriority._id +\r\n                          '\\', $event);\">Edit</a>\\n' +\r\n                          '               <a class=\"md-btn md-btn-small md-btn-danger\" ng-click=\"removePriorityClicked(\\'' +\r\n                          savedPriority._id +\r\n                          '\\', $event);\">Remove</a>\\n' +\r\n                          '           </div>\\n' +\r\n                          '       </div>\\n' +\r\n                          '    </div>\\n' +\r\n                          '    <div id=\"edit-p-' +\r\n                          savedPriority._id +\r\n                          '\" data-pId=\"' +\r\n                          savedPriority._id +\r\n                          '\" class=\"z-box uk-clearfix hide\" style=\"padding-top: 19px;\">\\n' +\r\n                          '       <form data-priority-id=\"' +\r\n                          savedPriority._id +\r\n                          '\" ng-submit=\"submitUpdatePriority($event);\">\\n' +\r\n                          '           <div class=\"uk-grid uk-grid-collapse uk-clearfix\">\\n' +\r\n                          '               <div class=\"uk-width-1-4\">\\n' +\r\n                          '                   <label for=\"\">Priority Name</label>\\n' +\r\n                          '                   <input type=\"text\" class=\"md-input\" name=\"p-' +\r\n                          savedPriority._id +\r\n                          '-name\" value=\"' +\r\n                          savedPriority.name +\r\n                          '\" />\\n' +\r\n                          '               </div>\\n' +\r\n                          '               <div class=\"uk-width-1-4 uk-padding-small-sides\">\\n' +\r\n                          '                   <label for=\"\">SLA Overdue (minutes)</label>\\n' +\r\n                          '                   <input type=\"text\" class=\"md-input\" name=\"p-' +\r\n                          savedPriority._id +\r\n                          '-overdueIn\" value=\"' +\r\n                          savedPriority.overdueIn +\r\n                          '\" />\\n' +\r\n                          '               </div>\\n' +\r\n                          '               <div class=\"uk-width-1-4 uk-padding-small-sides\">\\n' +\r\n                          '                   <button class=\"uk-button uk-button-small uk-color-button mr-5 mt-10\" style=\"background: ' +\r\n                          savedPriority.htmlColor +\r\n                          '\" ng-click=\"generateRandomColor(\\'' +\r\n                          savedPriority._id +\r\n                          '\\', $event);\"><i class=\"material-icons\">refresh</i></button>\\n' +\r\n                          '                   <div class=\"md-input-wrapper uk-float-left\" style=\"width: 70%;\">\\n' +\r\n                          '                       <label for=\"\">Color</label>\\n' +\r\n                          '                       <input type=\"text\" class=\"md-input\" name=\"p-' +\r\n                          savedPriority._id +\r\n                          '-htmlColor\" value=\"' +\r\n                          savedPriority.htmlColor +\r\n                          '\" />\\n' +\r\n                          '                       <span class=\"md-input-bar\"></span>\\n' +\r\n                          '                   </div>\\n' +\r\n                          '               </div>\\n' +\r\n                          '               <div class=\"uk-width-1-4\">\\n' +\r\n                          '                   <div class=\"md-btn-group uk-float-right uk-text-right mt-5\">\\n' +\r\n                          '                       <a class=\"md-btn md-btn-small\" ng-click=\"cancelEditPriority(\\'' +\r\n                          savedPriority._id +\r\n                          '\\', $event);\">Cancel</a>\\n' +\r\n                          '                       <button type=\"submit\" class=\"md-btn md-btn-small md-btn-success\">Save</button>\\n' +\r\n                          '                   </div>\\n' +\r\n                          '               </div>\\n' +\r\n                          '           </div>\\n' +\r\n                          '       </form>\\n' +\r\n                          '    </div>\\n' +\r\n                          '<div class=\"uk-modal\" id=\"deletePriorityModal-' +\r\n                          savedPriority._id +\r\n                          '\" data-pId=\"' +\r\n                          savedPriority._id +\r\n                          '\" ng-controller=\"settingsCtrl\">\\n' +\r\n                          '    <div class=\"uk-modal-dialog\">\\n' +\r\n                          '        <form class=\"uk-form-stacked\" id=\"deletePriorityForm-' +\r\n                          savedPriority._id +\r\n                          '\" action=\"#\" method=\"POST\">\\n' +\r\n                          '            <input type=\"hidden\" id=\"del_priority_name-' +\r\n                          savedPriority._id +\r\n                          '\" name=\"del_priority_name\" value=\"' +\r\n                          savedPriority.name +\r\n                          '\">\\n' +\r\n                          '            <div class=\"uk-margin-medium-bottom uk-clearfix\">\\n' +\r\n                          '                <h2 class=\"\">Remove Priority</h2>\\n' +\r\n                          '                <span>Please select the priority you wish to reassign tickets to in order to delete the this priority.</span>\\n' +\r\n                          '                <hr style=\"margin: 10px 0\" />\\n' +\r\n                          '            </div>\\n' +\r\n                          '            <div class=\"uk-margin-medium-bottom uk-clearfix\">\\n' +\r\n                          '                <div class=\"uk-float-left\" style=\"width: 100%;\">\\n' +\r\n                          '                    <label for=\"priority\" class=\"uk-form-label\">Priority</label>\\n' +\r\n                          '                    <select class=\"selectize\" name=\"priority\" data-md-selectize-inline>\\n'\r\n\r\n                        priorities.forEach(function (p) {\r\n                          if (p._id.toString() !== savedPriority._id) {\r\n                            html += '<option value=\"' + p._id + '\">' + p.name + '</option>'\r\n                          }\r\n                        })\r\n\r\n                        html +=\r\n                          '                    </select>\\n' +\r\n                          '                </div>\\n' +\r\n                          '            </div>\\n' +\r\n                          '            <div class=\"uk-margin-medium-bottom uk-clearfix\">\\n' +\r\n                          '                <span class=\"uk-text-danger\">WARNING: This will change all tickets with a priority of: <strong>' +\r\n                          savedPriority.name +\r\n                          '</strong> to the selected priority above. <br /><strong>This is permanent!</strong></span>\\n' +\r\n                          '            </div>\\n' +\r\n                          '            <div class=\"uk-modal-footer uk-text-right\">\\n' +\r\n                          '                <button type=\"button\" class=\"md-btn md-btn-flat uk-modal-close\">Cancel</button>\\n' +\r\n                          '                <button type=\"button\" class=\"md-btn md-btn-flat md-btn-flat-danger\" data-id=\"submitDeleteTicketType\" ng-click=\"submitRemovePriority(\\'' +\r\n                          savedPriority._id +\r\n                          '\\', $event)\">Delete</button>\\n' +\r\n                          '            </div>\\n' +\r\n                          '        </form>\\n' +\r\n                          '    </div>\\n' +\r\n                          '</div>\\n'\r\n\r\n                        priorityLoop.append(html)\r\n\r\n                        helpers.UI.selectize()\r\n\r\n                        // Bootstrap Angular dynamically...\r\n                        var $injector = angular.injector(['ng', 'trudesk'])\r\n                        $injector.invoke([\r\n                          '$compile',\r\n                          '$rootScope',\r\n                          function ($compile, $rootScope) {\r\n                            var $scope = priorityLoop.scope()\r\n                            $compile(priorityLoop)($scope || $rootScope)\r\n                            $rootScope.$digest()\r\n                          }\r\n                        ])\r\n\r\n                        helpers.UI.showSnackbar('Priority Created.', false)\r\n                        var createPriorityModal = $('#createPriorityModal')\r\n                        if (createPriorityModal.length > 0) {\r\n                          UIkit.modal(createPriorityModal).hide()\r\n                        }\r\n                      })\r\n                      .error(function (errorResponse) {\r\n                        $log.error(errorResponse)\r\n                        helpers.UI.showSnackbar('Error: ' + errorResponse.data.error, true)\r\n                      })\r\n                  }\r\n                }\r\n              },\r\n              function errorCallback (errorResponse) {\r\n                $log.error(errorResponse)\r\n                helpers.UI.showSnackbar('Error: ' + errorResponse.data.error, true)\r\n              }\r\n            )\r\n        }\r\n      }\r\n\r\n      $scope.submitUpdatePriority = function ($event) {\r\n        $event.preventDefault()\r\n        var $form = $($event.currentTarget)\r\n        var priorityId = $form.attr('data-priority-id')\r\n        var typeId = $form.parents('div[data-ticket-type-id]').attr('data-ticket-type-id')\r\n        if ($form && priorityId) {\r\n          var $priorityNameInput = $form.find('input[name=\"p-' + priorityId + '-name\"]')\r\n          var $priorityHtmlColor = $form.find('input[name=\"p-' + priorityId + '-htmlColor\"]')\r\n          var $priorityOverdueIn = $form.find('input[name=\"p-' + priorityId + '-overdueIn\"]')\r\n          var priorityName = $priorityNameInput.val()\r\n          var htmlColor = $priorityHtmlColor.val()\r\n          var overdueIn = $priorityOverdueIn.val()\r\n\r\n          $http\r\n            .put(\r\n              '/api/v1/tickets/priority/' + priorityId,\r\n              {\r\n                name: priorityName,\r\n                htmlColor: htmlColor,\r\n                overdueIn: overdueIn\r\n              },\r\n              {\r\n                headers: {\r\n                  'Content-Type': 'application/json'\r\n                }\r\n              }\r\n            )\r\n            .then(\r\n              function successCallback (response) {\r\n                helpers.UI.showSnackbar('Priority updated successfully', false)\r\n                var $body = $('body')\r\n                $body\r\n                  .find('.p-' + priorityId + '-name')\r\n                  .css({ color: htmlColor })\r\n                  .text(priorityName)\r\n                $body.find('.p-' + priorityId + '-overdueIn').text(response.data.priority.durationFormatted)\r\n                $body.find('input[name=\"p-' + priorityId + '-htmlColor\"]').val(htmlColor)\r\n                if (typeId) {\r\n                  $scope.cancelEditTicketTypePriority(typeId, priorityId)\r\n                } else {\r\n                  $scope.cancelEditPriority(priorityId)\r\n                }\r\n              },\r\n              function errorCallback (err) {\r\n                helpers.UI.showSnackbar(err, true)\r\n              }\r\n            )\r\n        }\r\n      }\r\n\r\n      // Colors watch\r\n      function setApperanceColorBtn (selector, color) {\r\n        var $button = $(selector)\r\n        var fgColor = getContrast(color)\r\n        $button.css({ background: color, color: fgColor })\r\n      }\r\n\r\n      $scope.$watch('colorHeaderBG', function () {\r\n        setApperanceColorBtn('#headerBGColorBtn', $scope.colorHeaderBG)\r\n      })\r\n      $scope.$watch('colorHeaderPrimary', function () {\r\n        setApperanceColorBtn('#headerPrimaryColorBtn', $scope.colorHeaderPrimary)\r\n      })\r\n      $scope.$watch('colorPrimary', function () {\r\n        setApperanceColorBtn('#primaryColorBtn', $scope.colorPrimary)\r\n      })\r\n      $scope.$watch('colorSecondary', function () {\r\n        setApperanceColorBtn('#secondaryColorBtn', $scope.colorSecondary)\r\n      })\r\n      $scope.$watch('colorTertiary', function () {\r\n        setApperanceColorBtn('#tertiaryColorBtn', $scope.colorTertiary)\r\n      })\r\n      $scope.$watch('colorQuaternary', function () {\r\n        setApperanceColorBtn('#quaternaryColorBtn', $scope.colorQuaternary)\r\n      })\r\n\r\n      $scope.saveColorScheme = function ($event) {\r\n        $event.preventDefault()\r\n        if ($scope.colorHeaderBG[0] !== '#') {\r\n          helpers.UI.showSnackbar('Invalid Header BG Color', true)\r\n          return false\r\n        }\r\n\r\n        if ($scope.colorHeaderPrimary[0] !== '#') {\r\n          helpers.UI.showSnackbar('Invalid Header Primary Color', true)\r\n          return false\r\n        }\r\n\r\n        if ($scope.colorPrimary[0] !== '#') {\r\n          helpers.UI.showSnackbar('Invalid Primary Color', true)\r\n          return false\r\n        }\r\n\r\n        if ($scope.colorSecondary[0] !== '#') {\r\n          helpers.UI.showSnackbar('Invalid Secondary Color', true)\r\n          return false\r\n        }\r\n\r\n        if ($scope.colorTertiary[0] !== '#') {\r\n          helpers.UI.showSnackbar('Invalid Tertiary Color', true)\r\n          return false\r\n        }\r\n\r\n        if ($scope.colorQuaternary[0] !== '#') {\r\n          helpers.UI.showSnackbar('Invalid Quaternary Color', true)\r\n          return false\r\n        }\r\n\r\n        $http\r\n          .put(\r\n            '/api/v1/settings',\r\n            [\r\n              { name: 'color:headerbg', value: $scope.colorHeaderBG },\r\n              { name: 'color:headerprimary', value: $scope.colorHeaderPrimary },\r\n              { name: 'color:primary', value: $scope.colorPrimary },\r\n              { name: 'color:secondary', value: $scope.colorSecondary },\r\n              { name: 'color:tertiary', value: $scope.colorTertiary },\r\n              { name: 'color:quaternary', value: $scope.colorQuaternary }\r\n            ],\r\n            {\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            }\r\n          )\r\n          .then(\r\n            function successCallback () {\r\n              // Call rebuild of app.min.css\r\n              $http.get('/api/v1/settings/buildsass').then(\r\n                function successCallback () {\r\n                  helpers.UI.showSnackbar('Color Scheme Saved. Reloading...', false)\r\n                  $timeout(function () {\r\n                    $window.location.reload()\r\n                  }, 1000)\r\n                },\r\n                function errorCallback (err) {\r\n                  helpers.UI.showSnackbar(err, true)\r\n                }\r\n              )\r\n            },\r\n            function errorCallback (err) {\r\n              helpers.UI.showSnackbar(err, true)\r\n            }\r\n          )\r\n      }\r\n\r\n      $scope.revertColor = function (model, defaultColor) {\r\n        $scope[model] = defaultColor\r\n      }\r\n\r\n      $scope.generateRandomColor = function (id, $event) {\r\n        $event.preventDefault()\r\n        var $currentTarget = $($event.currentTarget)\r\n        if ($currentTarget.length > 0) {\r\n          var color = getRandomColor()\r\n          var fgColor = getContrast(color.substring(1))\r\n          $currentTarget.css({ background: color, color: fgColor })\r\n          $currentTarget\r\n            .next()\r\n            .find('input')\r\n            .val(color)\r\n          if (\r\n            $currentTarget\r\n              .next()\r\n              .find('input')\r\n              .attr('ng-model')\r\n          ) {\r\n            $scope[\r\n              $currentTarget\r\n                .next()\r\n                .find('input')\r\n                .attr('ng-model')\r\n            ] = color\r\n          }\r\n        }\r\n      }\r\n\r\n      function getRandomColor () {\r\n        var letters = '0123456789ABCDEF'\r\n        var color = '#'\r\n        for (var i = 0; i < 6; i++) {\r\n          color += letters[Math.floor(Math.random() * 16)]\r\n        }\r\n\r\n        return color\r\n      }\r\n\r\n      function getContrast (hexcolor) {\r\n        hexcolor = hexcolor.replace('#', '')\r\n        if (hexcolor.length === 3) {\r\n          var v = hexcolor[0]\r\n          hexcolor = hexcolor + v + v + v\r\n        }\r\n        var r = parseInt(hexcolor.substr(0, 2), 16)\r\n        var g = parseInt(hexcolor.substr(2, 2), 16)\r\n        var b = parseInt(hexcolor.substr(4, 2), 16)\r\n        var yiq = (r * 299 + g * 587 + b * 114) / 1000\r\n        return yiq >= 128 ? '#444' : '#f7f8fa'\r\n      }\r\n\r\n      $scope.editTag = function ($event) {\r\n        if (\r\n          _.isNull($event.target) ||\r\n          _.isUndefined($event.target) ||\r\n          $event.target.tagName.toLowerCase() === 'label' ||\r\n          $event.target.tagName.toLowerCase() === 'input'\r\n        ) {\r\n          return true\r\n        }\r\n\r\n        // currentTarget = ng-click() bound to. \"<tr>\"\r\n        var id = $event.currentTarget.dataset.tagoid\r\n        if (!id) return true\r\n\r\n        History.pushState(null, null, '/settings/tags/' + id)\r\n      }\r\n\r\n      $scope.submitUpdateTag = function ($event) {\r\n        var $form = $($event.currentTarget)\r\n        var tagId = $form.attr('data-tag-id')\r\n        var tagName = $form.find('input[name=\"tag-' + tagId + '-name\"]').val()\r\n        if (tagName.length < 3) {\r\n          helpers.UI.showSnackbar('Invalid Tag Name', true)\r\n        } else {\r\n          $http\r\n            .put(\r\n              '/api/v1/tags/' + tagId,\r\n              {\r\n                name: tagName\r\n              },\r\n              {\r\n                headers: {\r\n                  'Content-Type': 'application/json'\r\n                }\r\n              }\r\n            )\r\n            .success(function () {\r\n              helpers.UI.showSnackbar('Tag: ' + tagName + ' updated successfully', false)\r\n              var $h5 = $('h5.tag-' + tagId + '-name')\r\n              if ($h5.length > 0) {\r\n                $h5.text(tagName)\r\n              }\r\n              $scope.cancelEditTagClicked(tagId, null)\r\n            })\r\n            .error(function (err) {\r\n              helpers.UI.showSnackbar(err.error)\r\n            })\r\n        }\r\n      }\r\n\r\n      $scope.removeTagClicked = function (tagId) {\r\n        var tagName = $('#view-tag-' + tagId)\r\n          .find('h5')\r\n          .text()\r\n        UIkit.modal.confirm(\r\n          'Really delete tag <strong>' +\r\n            tagName +\r\n            '</strong><br /><i style=\"font-size: 13px; color: #e53935;\">This will remove the tag from all associated tickets!</i>',\r\n          function () {\r\n            return $scope.deleteTag(tagId)\r\n          },\r\n          {\r\n            labels: { Ok: 'Yes', Cancel: 'No' },\r\n            confirmButtonClass: 'md-btn-danger'\r\n          }\r\n        )\r\n      }\r\n\r\n      $scope.deleteTag = function (tagId) {\r\n        if (_.isUndefined(tagId) || tagId.length < 1) {\r\n          helpers.UI.showSnackbar('Unable to get tag ID', true)\r\n          return true\r\n        }\r\n\r\n        var tagName = $('#view-tag-' + tagId)\r\n          .find('h5')\r\n          .text()\r\n\r\n        $http({\r\n          method: 'DELETE',\r\n          url: '/api/v1/tags/' + tagId\r\n        }).then(\r\n          function successCallback (response) {\r\n            if (response.data.success) {\r\n              helpers.UI.showSnackbar('Successfully removed tag: ' + tagName, false)\r\n\r\n              return History.pushState(null, null, '/settings/tickets/?refresh=' + new Date().getTime())\r\n            }\r\n          },\r\n          function errorCallback (response) {\r\n            $log.error('[trudesk:settings:deleteTag] Error - ' + response.data.error)\r\n            helpers.UI.showSnackbar('Unable to remove Tag. Check console.', true)\r\n          }\r\n        )\r\n      }\r\n    })\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/angularjs/controllers/settings.js?");

/***/ }),

/***/ "./src/public/js/angularjs/controllers/singleTicket.js":
/*!*************************************************************!*\
  !*** ./src/public/js/angularjs/controllers/singleTicket.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n      .                              .o8                     oooo\r\n   .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n   888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n   888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n   888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n   \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    02/10/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__(/*! angular */ \"./src/public/js/vendor/angular/angular.min.js\"),\r\n  __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"),\r\n  __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"),\r\n  __webpack_require__(/*! uikit */ \"./src/public/js/vendor/uikit/js/uikit_combined.min.js\"),\r\n  __webpack_require__(/*! modules/socket */ \"./src/public/js/modules/socket.js\"),\r\n  __webpack_require__(/*! modules/navigation */ \"./src/public/js/modules/navigation.js\"),\r\n  __webpack_require__(/*! tomarkdown */ \"./src/public/js/vendor/tomarkdown/tomarkdown.js\"),\r\n  __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"),\r\n  __webpack_require__(/*! easymde */ \"./src/public/js/vendor/easymde/dist/easymde.min.js\"),\r\n  __webpack_require__(/*! inlineAttachment */ \"./src/public/js/vendor/easymde/dist/inline-attachment.js\"),\r\n  __webpack_require__(/*! inputInlineAttachment */ \"./src/public/js/vendor/easymde/dist/input.inline-attachment.js\"),\r\n  __webpack_require__(/*! cm4InlineAttachment */ \"./src/public/js/vendor/easymde/dist/codemirror-4.inline-attachment.js\"),\r\n  __webpack_require__(/*! angularjs/services/session */ \"./src/public/js/angularjs/services/session.js\"),\r\n  __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function (angular, _, $, UIkit, socket, nav, md, helpers, EasyMDE) {\r\n  return angular\r\n    .module('trudesk.controllers.singleTicket', ['trudesk.services.session'])\r\n    .controller('singleTicket', function (SessionService, $window, $rootScope, $scope, $http, $timeout, $q, $log) {\r\n      $scope.loggedInAccount = SessionService.getUser()\r\n\r\n      var mdeToolbarItems = [\r\n        {\r\n          name: 'bold',\r\n          action: EasyMDE.toggleBold,\r\n          className: 'material-icons mi-bold no-ajaxy',\r\n          title: 'Bold'\r\n        },\r\n        {\r\n          name: 'italic',\r\n          action: EasyMDE.toggleItalic,\r\n          className: 'material-icons mi-italic no-ajaxy',\r\n          title: 'Italic'\r\n        },\r\n        {\r\n          name: 'Title',\r\n          action: EasyMDE.toggleHeadingSmaller,\r\n          className: 'material-icons mi-title no-ajaxy',\r\n          title: 'Title'\r\n        },\r\n        '|',\r\n        {\r\n          name: 'Code',\r\n          action: EasyMDE.toggleCodeBlock,\r\n          className: 'material-icons mi-code no-ajaxy',\r\n          title: 'Code'\r\n        },\r\n        {\r\n          name: 'Quote',\r\n          action: EasyMDE.toggleBlockquote,\r\n          className: 'material-icons mi-quote no-ajaxy',\r\n          title: 'Quote'\r\n        },\r\n        {\r\n          name: 'Generic List',\r\n          action: EasyMDE.toggleUnorderedList,\r\n          className: 'material-icons mi-list no-ajaxy',\r\n          title: 'Generic List'\r\n        },\r\n        {\r\n          name: 'Numbered List',\r\n          action: EasyMDE.toggleOrderedList,\r\n          className: 'material-icons mi-numlist no-ajaxy',\r\n          title: 'Numbered List'\r\n        },\r\n        '|',\r\n        {\r\n          name: 'Create Link',\r\n          action: EasyMDE.drawLink,\r\n          className: 'material-icons mi-link no-ajaxy',\r\n          title: 'Create Link'\r\n        },\r\n        '|',\r\n        {\r\n          name: 'Toggle Preview',\r\n          action: EasyMDE.togglePreview,\r\n          className: 'material-icons mi-preview no-disable no-mobile no-ajaxy',\r\n          title: 'Toggle Preview'\r\n        }\r\n      ]\r\n\r\n      function attachFileDesc (textarea) {\r\n        var $el = $(textarea)\r\n        var attachFileDiv = $('<div></div>')\r\n        attachFileDiv\r\n          .addClass('attachFileDesc')\r\n          .html('<p>Attach images by dragging & dropping or pasting from clipboard.</p>')\r\n        $el.siblings('.CodeMirror').addClass('hasFileDesc')\r\n        $el\r\n          .siblings('.editor-statusbar')\r\n          .addClass('hasFileDesc')\r\n          .prepend(attachFileDiv)\r\n      }\r\n\r\n      var $editIssueText = $('#edit-issue-text')\r\n      var editIssueTextMDE = null\r\n      if ($editIssueText.length > 0) {\r\n        editIssueTextMDE = new EasyMDE({\r\n          element: $editIssueText[0],\r\n          forceSync: true,\r\n          height: '100px',\r\n          minHeight: '150px',\r\n          toolbar: mdeToolbarItems,\r\n          autoDownloadFontAwesome: false,\r\n          status: false\r\n        })\r\n      }\r\n\r\n      $window.inlineAttachment.editors.codemirror4.attach(editIssueTextMDE.codemirror, {\r\n        onFileUploadResponse: function (xhr) {\r\n          var result = JSON.parse(xhr.responseText)\r\n\r\n          var filename = result[this.settings.jsonFieldName]\r\n\r\n          if (result && filename) {\r\n            var newValue\r\n            if (typeof this.settings.urlText === 'function') {\r\n              newValue = this.settings.urlText.call(this, filename, result)\r\n            } else {\r\n              newValue = this.settings.urlText.replace(this.filenameTag, filename)\r\n            }\r\n\r\n            var text = this.editor.getValue().replace(this.lastValue, newValue)\r\n            this.editor.setValue(text)\r\n            this.settings.onFileUploaded.call(this, filename)\r\n          }\r\n          return false\r\n        },\r\n        onFileUploadError: function (xhr) {\r\n          var result = xhr.responseText\r\n          var text = this.editor.getValue() + ' ' + result\r\n          this.editor.setValue(text)\r\n        },\r\n        extraHeaders: {\r\n          ticketid: $('#__ticketId').text()\r\n        },\r\n        errorText: 'Error uploading file: ',\r\n        uploadUrl: '/tickets/uploadmdeimage',\r\n        jsonFieldName: 'filename',\r\n        urlText: '![Image]({filename})'\r\n      })\r\n\r\n      // attachFileDesc($editIssueText)\r\n\r\n      $scope.showEditWindow = function (type, showSubject, commentNoteId) {\r\n        var $editWindow = $('#edit-ticket-window')\r\n        if ($editWindow.length < 1) return false\r\n        var text = ''\r\n        var ticketId = $('#__ticketId').text()\r\n        $editWindow.attr('data-ticket-id', ticketId)\r\n\r\n        if (type.toLowerCase() === 'issue') {\r\n          var issueText = $('.initial-issue .issue-text > .issue-body').html()\r\n          text = md(issueText)\r\n\r\n          $editWindow.find('.save-btn').attr('data-save-type', 'issue')\r\n        } else if (type.toLowerCase() === 'comment') {\r\n          var commentText = $('.ticket-comment[data-commentid=\"' + commentNoteId + '\"] .comment-body').html()\r\n          text = md(commentText)\r\n\r\n          $editWindow.attr('data-id', commentNoteId)\r\n          $editWindow.find('.save-btn').attr('data-save-type', 'comment')\r\n        } else if (type.toLowerCase() === 'note') {\r\n          var noteText = $('.ticket-note[data-noteid=\"' + commentNoteId + '\"] .comment-body').html()\r\n          text = md(noteText)\r\n\r\n          $editWindow.attr('data-id', commentNoteId)\r\n          $editWindow.find('.save-btn').attr('data-save-type', 'note')\r\n        }\r\n\r\n        if (editIssueTextMDE) {\r\n          editIssueTextMDE.codemirror.getDoc().setValue(text)\r\n        }\r\n\r\n        var $subjectWrap = $editWindow.find('.edit-subject-wrap')\r\n\r\n        if (!showSubject) {\r\n          $subjectWrap.hide()\r\n          $subjectWrap.attr('data-active', false)\r\n        } else {\r\n          var subjectText = ''\r\n          if (type.toLowerCase() === 'issue') {\r\n            subjectText = $('.initial-issue > .issue-text > .subject-text').text()\r\n          }\r\n\r\n          var $input = $subjectWrap.find('input')\r\n          $input.val(subjectText)\r\n          $input.parent().addClass('md-input-filled')\r\n          $subjectWrap.attr('data-active', true)\r\n        }\r\n\r\n        $editWindow.addClass('open').removeClass('closed')\r\n      }\r\n\r\n      $scope.hideEditWindow = function () {\r\n        $('#edit-ticket-window')\r\n          .addClass('closed')\r\n          .removeClass('open')\r\n      }\r\n\r\n      $scope.saveEditWindow = function () {\r\n        if (!editIssueTextMDE) return false\r\n        var $editTicketWindow = $('#edit-ticket-window')\r\n        var ticketId = $editTicketWindow.attr('data-ticket-id')\r\n        var $subject = $editTicketWindow.find('input#edit-subject-input')\r\n        var $saveButton = $editTicketWindow.find('.action-panel button[data-save-type]')\r\n        var saveType = null\r\n        if ($saveButton.length > 0) saveType = $saveButton.attr('data-save-type')\r\n\r\n        if (saveType.toLowerCase() === 'issue') {\r\n          var subjectText = $subject.val()\r\n          var issueText = editIssueTextMDE.codemirror.getValue()\r\n\r\n          socket.ui.setTicketIssue(ticketId, issueText, subjectText)\r\n          $scope.hideEditWindow()\r\n        } else if (saveType.toLowerCase() === 'comment') {\r\n          var commentId = $editTicketWindow.attr('data-id')\r\n          var commentText = editIssueTextMDE.codemirror.getValue()\r\n\r\n          socket.ui.setCommentText(ticketId, commentId, commentText)\r\n          $scope.hideEditWindow()\r\n        } else if (saveType.toLowerCase() === 'note') {\r\n          var noteId = $editTicketWindow.attr('data-id')\r\n          var noteText = editIssueTextMDE.codemirror.getValue()\r\n\r\n          socket.ui.setNoteText(ticketId, noteId, noteText)\r\n          $scope.hideEditWindow()\r\n        }\r\n      }\r\n\r\n      var $commentReply = $('#commentReply')\r\n      var commentMDE = null\r\n      if ($commentReply.length > 0) {\r\n        commentMDE = new EasyMDE({\r\n          element: $commentReply[0],\r\n          forceSync: true,\r\n          minHeight: '220px', // Slighty smaller to adjust the scroll\r\n          toolbar: mdeToolbarItems,\r\n          autoDownloadFontAwesome: false\r\n        })\r\n\r\n        commentMDE.codemirror.setOption('extraKeys', {\r\n          'Ctrl-Enter': function (cm) {\r\n            var $submitButton = $(cm.display.wrapper)\r\n              .parents('form')\r\n              .find('#comment-reply-submit-button')\r\n            if ($submitButton) {\r\n              $submitButton.click()\r\n            }\r\n          }\r\n        })\r\n\r\n        $window.inlineAttachment.editors.codemirror4.attach(commentMDE.codemirror, {\r\n          onFileUploadResponse: function (xhr) {\r\n            var result = JSON.parse(xhr.responseText)\r\n\r\n            var filename = result[this.settings.jsonFieldName]\r\n\r\n            if (result && filename) {\r\n              var newValue\r\n              if (typeof this.settings.urlText === 'function') {\r\n                newValue = this.settings.urlText.call(this, filename, result)\r\n              } else {\r\n                newValue = this.settings.urlText.replace(this.filenameTag, filename)\r\n              }\r\n\r\n              var text = this.editor.getValue().replace(this.lastValue, newValue)\r\n              this.editor.setValue(text)\r\n              this.settings.onFileUploaded.call(this, filename)\r\n            }\r\n            return false\r\n          },\r\n          onFileUploadError: function (xhr) {\r\n            var result = xhr.responseText\r\n            var text = this.editor.getValue() + ' ' + result\r\n            this.editor.setValue(text)\r\n          },\r\n          extraHeaders: {\r\n            ticketid: $('#__ticketId').text()\r\n          },\r\n          errorText: 'Error uploading file: ',\r\n          uploadUrl: '/tickets/uploadmdeimage',\r\n          jsonFieldName: 'filename',\r\n          urlText: '![Image]({filename})'\r\n        })\r\n\r\n        attachFileDesc($commentReply)\r\n      }\r\n\r\n      var $ticketNote = $('#ticket-note')\r\n      var noteMDE = null\r\n      if ($ticketNote.length > 0) {\r\n        noteMDE = new EasyMDE({\r\n          element: $ticketNote[0],\r\n          forceSync: true,\r\n          minHeight: '220px',\r\n          toolbar: mdeToolbarItems,\r\n          autoDownloadFontAwesome: false\r\n        })\r\n\r\n        $window.inlineAttachment.editors.codemirror4.attach(noteMDE.codemirror, {\r\n          onFileUploadResponse: function (xhr) {\r\n            var result = JSON.parse(xhr.responseText)\r\n\r\n            var filename = result[this.settings.jsonFieldName]\r\n\r\n            if (result && filename) {\r\n              var newValue\r\n              if (typeof this.settings.urlText === 'function') {\r\n                newValue = this.settings.urlText.call(this, filename, result)\r\n              } else {\r\n                newValue = this.settings.urlText.replace(this.filenameTag, filename)\r\n              }\r\n\r\n              var text = this.editor.getValue().replace(this.lastValue, newValue)\r\n              this.editor.setValue(text)\r\n              this.settings.onFileUploaded.call(this, filename)\r\n            }\r\n            return false\r\n          },\r\n          onFileUploadError: function (xhr) {\r\n            var result = xhr.responseText\r\n            var text = this.editor.getValue() + ' ' + result\r\n            this.editor.setValue(text)\r\n          },\r\n          extraHeaders: {\r\n            ticketid: $('#__ticketId').text()\r\n          },\r\n          errorText: 'Error uploading file: ',\r\n          uploadUrl: '/tickets/uploadmdeimage',\r\n          jsonFieldName: 'filename',\r\n          urlText: '![Image]({filename})'\r\n        })\r\n\r\n        attachFileDesc($ticketNote)\r\n      }\r\n\r\n      // Setup Assignee Drop based on Status\r\n      var ticketStatus = $('#__ticketStatus').html()\r\n      var assigneeListBtn = $('.ticket-assignee > a')\r\n      if (assigneeListBtn.length > 0 && ticketStatus.length > 0) {\r\n        if (ticketStatus === '3') {\r\n          assigneeListBtn.removeAttr('data-notifications')\r\n          assigneeListBtn.removeAttr('data-updateUi')\r\n          nav.notifications()\r\n        }\r\n      }\r\n\r\n      $scope.showStatusSelect = function () {\r\n        var statusSelect = $('#statusSelect')\r\n        if (statusSelect.length > 0) {\r\n          if (statusSelect.hasClass('hide')) {\r\n            statusSelect.removeClass('hide')\r\n            statusSelect.addClass('shown')\r\n          } else {\r\n            statusSelect.addClass('hide')\r\n            statusSelect.removeClass('shown')\r\n          }\r\n        }\r\n      }\r\n\r\n      $scope.changeStatus = function (status) {\r\n        var id = $('#__ticketId').html()\r\n        var statusSelectBox = $('#statusSelect')\r\n        if (statusSelectBox.length > 0) {\r\n          statusSelectBox.addClass('hide')\r\n          statusSelectBox.removeClass('shown')\r\n        }\r\n\r\n        socket.ui.sendUpdateTicketStatus(id, status)\r\n      }\r\n\r\n      $scope.clearAssignee = function () {\r\n        var id = $('#__ticketId').html()\r\n        if (id.length > 0) {\r\n          socket.ui.clearAssignee(id)\r\n        }\r\n      }\r\n\r\n      $scope.types = []\r\n      $scope.priorities = []\r\n      $scope.groups = []\r\n\r\n      var ticketTypes = $http\r\n        .get('/api/v1/tickets/types')\r\n        .success(function (data) {\r\n          _.each(data, function (item) {\r\n            item.priorities = _.sortBy(item.priorities, function (i) {\r\n              return i.name\r\n            })\r\n            $scope.types.push(item)\r\n          })\r\n        })\r\n        .error(function (e) {\r\n          $log.log('[trudesk:singleTicket:ticketTypes] - ' + e)\r\n        })\r\n\r\n      function showSelectPriorityConfirm () {\r\n        UIkit.modal.confirm(\r\n          'Selected Priority does not exit for this ticket type.<br><br><strong>Please select a new priority</strong>',\r\n          function () {},\r\n          { cancelButtonClass: 'uk-hidden' }\r\n        )\r\n      }\r\n\r\n      $q.all([ticketTypes]).then(function () {\r\n        $scope.selectedType = _.findWhere($scope.types, {\r\n          _id: $scope.ticketType\r\n        })\r\n        $scope.priorities = $scope.selectedType.priorities\r\n        $scope.priorities = _.sortBy($scope.priorities, 'name')\r\n        $scope.selectedPriority = _.findWhere($scope.priorities, {\r\n          _id: $scope.ticketPriority\r\n        })\r\n        if (!$scope.selectedPriority) {\r\n          showSelectPriorityConfirm()\r\n        }\r\n      })\r\n\r\n      var groupHttpGet = $http\r\n        .get('/api/v1/groups')\r\n        .success(function (data) {\r\n          _.each(data.groups, function (item) {\r\n            $scope.groups.push(item)\r\n          })\r\n        })\r\n        .error(function (e) {\r\n          $log.log('[trudesk:singleTicket:groupHttpGet] - ' + e)\r\n        })\r\n\r\n      $q.all([groupHttpGet]).then(function () {\r\n        $scope.selectedGroup = _.findWhere($scope.groups, {\r\n          _id: $scope.ticketGroup\r\n        })\r\n      })\r\n\r\n      $scope.updateTicketType = function () {\r\n        var id = $('#__ticketId').html()\r\n        if (id.length > 0) {\r\n          socket.ui.setTicketType(id, $scope.selectedType)\r\n          $scope.priorities = $scope.selectedType.priorities\r\n          $scope.priorities = _.sortBy($scope.priorities, 'name')\r\n          $scope.selectedPriority = _.findWhere($scope.priorities, {\r\n            _id: $scope.ticketPriority\r\n          })\r\n          if (_.isUndefined($scope.selectedPriority)) {\r\n            showSelectPriorityConfirm()\r\n          }\r\n        }\r\n      }\r\n\r\n      $scope.updateTicketPriority = function () {\r\n        var id = $('#__ticketId').html()\r\n        if (id.length > 0 && $scope.selectedPriority) {\r\n          socket.ui.setTicketPriority(id, $scope.selectedPriority._id)\r\n          $scope.ticketPriority = $scope.selectedPriority._id\r\n        }\r\n      }\r\n\r\n      $scope.updateTicketGroup = function () {\r\n        var id = $('#__ticketId').html()\r\n        if (id.length > 0) {\r\n          socket.ui.setTicketGroup(id, $scope.selectedGroup)\r\n        }\r\n      }\r\n\r\n      $scope.updateTicketIssue = function () {\r\n        var id = $('#__ticketId').html()\r\n        if (id.length > 0) {\r\n          var form = $('form#edit-issue-form')\r\n          if (!form.isValid(null, null, false)) return true\r\n          var issue = form.find('textarea#issueText').val()\r\n\r\n          // socket.ui.setTicketIssue(id, issue)\r\n        }\r\n      }\r\n\r\n      $scope.editIssueCancelClicked = function ($event) {\r\n        $('#edit-issue')\r\n          .addClass('closed')\r\n          .removeClass('open')\r\n\r\n        $event.preventDefault()\r\n        var issueForm = $('.edit-issue-form')\r\n        var issueText = $('.initial-issue')\r\n          .find('.issue-text')\r\n          .find('.issue-body')\r\n\r\n        if (issueForm.length > 0 && issueText.length > 0) {\r\n          issueText.removeClass('hide')\r\n          issueForm.addClass('hide')\r\n\r\n          // Setup Text\r\n          var iText = $('.issue-text')\r\n            .find('div.issue-body')\r\n            .html()\r\n          // iText = iText.replace(/(<br>)|(<br \\/>)|(<p>)|(<\\/p>)/g, \"\\r\\n\");\r\n          // iText = iText.replace(/(<([^>]+)>)/ig,\"\");\r\n          iText = md(iText)\r\n          iText = iText.trim()\r\n          $('#issueText').val(iText)\r\n        }\r\n      }\r\n\r\n      $scope.showUploadAttachment = function ($event) {\r\n        $event.preventDefault()\r\n        var self = $($event.currentTarget)\r\n        var inputField = self.parents('form').find('input.attachmentInput')\r\n        if (inputField.length > 0) {\r\n          $(inputField).trigger('click')\r\n        }\r\n      }\r\n\r\n      $scope.SubscriberChange = function () {\r\n        var id = $('#__ticketId').html()\r\n        $http\r\n          .put('/api/v1/tickets/' + id + '/subscribe', {\r\n            user: $scope.user,\r\n            subscribe: $scope.subscribed\r\n          })\r\n          .success(function () {})\r\n          .error(function (e) {\r\n            $log.log('[trudesk:singleTicket:SubscriberChange] - ' + e)\r\n            helpers.UI.showSnackbar('Error: ' + e.message, true)\r\n          })\r\n      }\r\n\r\n      $scope.showTags = function (event) {\r\n        event.preventDefault()\r\n        var tagModal = $('#addTagModal')\r\n        if (tagModal.length > 0) {\r\n          tagModal.find('option').prop('selected', false)\r\n          var selectedItems = []\r\n          $('.__TAG_SELECTED').each(function () {\r\n            var vm = this\r\n            var i = $(vm).text()\r\n            if (i.length > 0) {\r\n              selectedItems.push(i)\r\n            }\r\n          })\r\n          _.each(selectedItems, function (item) {\r\n            var option = tagModal.find('#tags').find('option[value=\"' + item + '\"]')\r\n            option.prop('selected', 'selected')\r\n          })\r\n\r\n          tagModal.find('select').trigger('chosen:updated')\r\n\r\n          UIkit.modal('#addTagModal', { bgclose: false }).show()\r\n        }\r\n      }\r\n\r\n      $scope.submitAddTags = function (event) {\r\n        event.preventDefault()\r\n        var id = $('#__ticketId').text()\r\n        var form = $(event.target)\r\n        if (form.length < 1) return\r\n        var tagField = form.find('#tags')\r\n        if (tagField.length < 1) return\r\n        // var user = form.find('input[name=\"from\"]').val();\r\n        $http\r\n          .put('/api/v1/tickets/' + id, {\r\n            tags: tagField.val()\r\n          })\r\n          .success(function () {\r\n            helpers.UI.showSnackbar('Tags have been added.', false)\r\n            socket.ui.refreshTicketTags(id)\r\n\r\n            UIkit.modal('#addTagModal').hide()\r\n          })\r\n          .error(function (e) {\r\n            $log.log('[trudesk:singleTicket:submitAddTags] - ' + e)\r\n            helpers.UI.showSnackbar('Error: ' + e.message, true)\r\n\r\n            UIkit.modal('#addTagModal').hide()\r\n          })\r\n      }\r\n\r\n      $scope.clearTags = function (event) {\r\n        event.preventDefault()\r\n        var id = $('#__ticketId').text()\r\n        $http\r\n          .put('/api/v1/tickets/' + id, {\r\n            tags: []\r\n          })\r\n          .success(function () {\r\n            socket.ui.refreshTicketTags(id)\r\n            $('#addTagModal')\r\n              .find('option')\r\n              .prop('selected', false)\r\n            $('#addTagModal')\r\n              .find('select')\r\n              .trigger('chosen:updated')\r\n            UIkit.modal('#addTagModal').hide()\r\n          })\r\n          .error(function (e) {\r\n            $log.log('[trudesk:singleTicket:clearTags] - ' + e.message)\r\n            helpers.UI.showSnackbar('Error: ' + e.message, true)\r\n            UIkit.modal('#addTagModal').hide()\r\n          })\r\n      }\r\n\r\n      $scope.submitComment = function (event) {\r\n        event.preventDefault()\r\n        var form = $(event.target)\r\n        if (form.length < 1) return\r\n        var id = form.find('input[name=\"ticketId\"]')\r\n        var commentField = form.find('#commentReply')\r\n        if (commentField.length < 1 || id.length < 1) return\r\n\r\n        var $mdeError = null\r\n        if (commentField.val().length < 5) {\r\n          // commentField.validate();\r\n          commentField.parent().css({ border: '1px solid #E74C3C' })\r\n          var mdeError = $(\r\n            '<div class=\"mde-error uk-float-left uk-text-left\">Please enter a valid comment. Comments must contain at least 5 characters.</div>'\r\n          )\r\n\r\n          $mdeError = commentField.siblings('.editor-statusbar').find('.mde-error')\r\n          if ($mdeError.length < 1) {\r\n            commentField.siblings('.editor-statusbar').prepend(mdeError)\r\n          }\r\n\r\n          return\r\n        }\r\n\r\n        commentField.parent().css('border', 'none')\r\n        $mdeError = commentField.parent().find('.mde-error')\r\n        if ($mdeError.length > 0) $mdeError.remove()\r\n\r\n        if (form.isValid(null, null, false)) {\r\n          $http\r\n            .post('/api/v1/tickets/addcomment', {\r\n              comment: commentMDE.value(),\r\n              _id: id.val().toString(),\r\n              ownerId: $scope.loggedInAccount._id\r\n            })\r\n            .success(function () {\r\n              commentField.val('')\r\n              if (commentMDE) {\r\n                commentMDE.value('')\r\n              }\r\n            })\r\n            .error(function (e) {\r\n              $log.error('[trudesk:singleTicket:submitComment]')\r\n              $log.error(e)\r\n              helpers.UI.showSnackbar('Error: ' + e.error, true)\r\n            })\r\n        }\r\n      }\r\n\r\n      $scope.submitInternalNote = function (event) {\r\n        event.preventDefault()\r\n        var id = $('#__ticketId').text()\r\n        var form = $(event.target)\r\n        if (form.length < 1) return\r\n        var noteField = form.find('#ticket-note')\r\n        if (noteField.length < 1 || id.length < 1) return\r\n\r\n        var $mdeError = null\r\n        if (noteField.val().length < 5) {\r\n          noteField.parent().css({ border: '1px solid #E74C3C' })\r\n          var mdeError = $(\r\n            '<div class=\"mde-error uk-float-left uk-text-left\">Please enter a valid note. Notes must contain at least 5 characters.</div>'\r\n          )\r\n\r\n          $mdeError = noteField.siblings('.editor-statusbar').find('.mde-error')\r\n          if ($mdeError.length < 1) {\r\n            noteField.siblings('.editor-statusbar').prepend(mdeError)\r\n          }\r\n\r\n          return\r\n        }\r\n\r\n        noteField.parent().css('border', 'none')\r\n        $mdeError = noteField.parent().find('.mde-error')\r\n        if ($mdeError.length > 0) $mdeError.remove()\r\n\r\n        if (form.isValid(null, null, false)) {\r\n          $http\r\n            .post('/api/v1/tickets/addnote', {\r\n              note: noteField.val(),\r\n              ticketid: id,\r\n              owner: $scope.loggedInAccount._id\r\n            })\r\n            .success(function () {\r\n              noteField.val('')\r\n              if (noteMDE) {\r\n                noteMDE.value('')\r\n              }\r\n            })\r\n            .error(function (e) {\r\n              $log.error('[trudesk:singleTicket:submitInternalNote]')\r\n              $log.error(e)\r\n              helpers.UI.showSnackbar('Error: ' + e.error, true)\r\n            })\r\n        }\r\n      }\r\n\r\n      $scope.closeAddTagModal = function () {\r\n        UIkit.modal('#addTagModal').hide()\r\n      }\r\n    })\r\n    .directive('closeMouseUp', [\r\n      '$document',\r\n      function ($document) {\r\n        return {\r\n          restrict: 'A',\r\n          link: function (scope, element) {\r\n            $document.on('mouseup', mouseup)\r\n\r\n            scope.$on('$destroy', function () {\r\n              $document.off('mouseup', mouseup)\r\n            })\r\n\r\n            element.on('$destroy', function () {\r\n              $document.off('mouseup', mouseup)\r\n            })\r\n\r\n            function mouseup ($event) {\r\n              var target = $event.target.offsetParent\r\n              if ($(target).length > 0 && $(target).hasClass('floating-ticket-status')) return false\r\n\r\n              if (!element.hasClass('hide')) {\r\n                element.addClass('hide')\r\n              }\r\n\r\n              if (element.hasClass('shown')) {\r\n                element.removeClass('shown')\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    ])\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/angularjs/controllers/singleTicket.js?");

/***/ }),

/***/ "./src/public/js/angularjs/controllers/tickets.js":
/*!********************************************************!*\
  !*** ./src/public/js/angularjs/controllers/tickets.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\r\n *       .                             .o8                     oooo\r\n *    .o8                             \"888                     `888\r\n *  .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n *    888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n *    888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n *    888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n *    \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n *  ========================================================================\r\n *  Author:     Chris Brame\r\n *  Updated:    1/30/19 3:05 AM\r\n *  Copyright (c) 2014-2019. All rights reserved.\r\n */\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__(/*! angular */ \"./src/public/js/vendor/angular/angular.min.js\"),\r\n  __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"),\r\n  __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"),\r\n  __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"),\r\n  __webpack_require__(/*! modules/socket */ \"./src/public/js/modules/socket.js\"),\r\n  __webpack_require__(/*! uikit */ \"./src/public/js/vendor/uikit/js/uikit_combined.min.js\"),\r\n  __webpack_require__(/*! easymde */ \"./src/public/js/vendor/easymde/dist/easymde.min.js\"),\r\n  __webpack_require__(/*! inlineAttachment */ \"./src/public/js/vendor/easymde/dist/inline-attachment.js\"),\r\n  __webpack_require__(/*! inputInlineAttachment */ \"./src/public/js/vendor/easymde/dist/input.inline-attachment.js\"),\r\n  __webpack_require__(/*! cm4InlineAttachment */ \"./src/public/js/vendor/easymde/dist/codemirror-4.inline-attachment.js\"),\r\n  __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\"),\r\n  __webpack_require__(/*! formvalidator */ \"./src/public/js/vendor/formvalidator/jquery.form-validator.js\"),\r\n  __webpack_require__(/*! angularjs/services */ \"./src/public/js/angularjs/services.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function (angular, _, $, helpers, socket, UIkit, EasyMDE) {\r\n  return angular\r\n    .module('trudesk.controllers.tickets', ['trudesk.services.settings'])\r\n    .controller('ticketsCtrl', function (SettingsService, $scope, $http, $window, $log, openFilterTicketWindow) {\r\n      var mdeToolbarItems = [\r\n        {\r\n          name: 'bold',\r\n          action: EasyMDE.toggleBold,\r\n          className: 'material-icons mi-bold no-ajaxy',\r\n          title: 'Bold'\r\n        },\r\n        {\r\n          name: 'italic',\r\n          action: EasyMDE.toggleItalic,\r\n          className: 'material-icons mi-italic no-ajaxy',\r\n          title: 'Italic'\r\n        },\r\n        {\r\n          name: 'Title',\r\n          action: EasyMDE.toggleHeadingSmaller,\r\n          className: 'material-icons mi-title no-ajaxy',\r\n          title: 'Title'\r\n        },\r\n        '|',\r\n        {\r\n          name: 'Code',\r\n          action: EasyMDE.toggleCodeBlock,\r\n          className: 'material-icons mi-code no-ajaxy',\r\n          title: 'Code'\r\n        },\r\n        {\r\n          name: 'Quote',\r\n          action: EasyMDE.toggleBlockquote,\r\n          className: 'material-icons mi-quote no-ajaxy',\r\n          title: 'Quote'\r\n        },\r\n        {\r\n          name: 'Generic List',\r\n          action: EasyMDE.toggleUnorderedList,\r\n          className: 'material-icons mi-list no-ajaxy',\r\n          title: 'Generic List'\r\n        },\r\n        {\r\n          name: 'Numbered List',\r\n          action: EasyMDE.toggleOrderedList,\r\n          className: 'material-icons mi-numlist no-ajaxy',\r\n          title: 'Numbered List'\r\n        },\r\n        '|',\r\n        {\r\n          name: 'Create Link',\r\n          action: EasyMDE.drawLink,\r\n          className: 'material-icons mi-link no-ajaxy',\r\n          title: 'Create Link'\r\n        },\r\n        '|',\r\n        {\r\n          name: 'Toggle Preview',\r\n          action: EasyMDE.togglePreview,\r\n          className: 'material-icons mi-preview no-disable no-mobile no-ajaxy',\r\n          title: 'Toggle Preview'\r\n        }\r\n      ]\r\n\r\n      function attachFileDesc (textarea) {\r\n        var $el = $(textarea)\r\n        var attachFileDiv = $('<div></div>')\r\n        attachFileDiv\r\n          .addClass('attachFileDesc')\r\n          .html('<p>Attach images by dragging & dropping or pasting from clipboard.</p>')\r\n        $el.siblings('.CodeMirror').addClass('hasFileDesc')\r\n        $el\r\n          .siblings('.editor-statusbar')\r\n          .addClass('hasFileDesc')\r\n          .prepend(attachFileDiv)\r\n      }\r\n\r\n      var $issueTextarea = $('textarea#issue:not(.hasMDE)')\r\n      var issueTextMDE = null\r\n      if ($issueTextarea.length > 0) {\r\n        $issueTextarea.addClass('hasMDE')\r\n        issueTextMDE = new EasyMDE({\r\n          element: $issueTextarea[0],\r\n          forceSync: true,\r\n          height: '100px',\r\n          minHeight: '150px',\r\n          toolbar: mdeToolbarItems,\r\n          autoDownloadFontAwesome: false,\r\n          status: false,\r\n          spellChecker: false\r\n        })\r\n      }\r\n\r\n      if (issueTextMDE != null && $issueTextarea.hasClass('hasMDE') && !$issueTextarea.hasClass('hasInlineUpload')) {\r\n        $issueTextarea.addClass('hasInlineUpload')\r\n        $window.inlineAttachment.editors.codemirror4.attach(issueTextMDE.codemirror, {\r\n          onFileUploadResponse: function (xhr) {\r\n            var result = JSON.parse(xhr.responseText)\r\n\r\n            var filename = result[this.settings.jsonFieldName]\r\n\r\n            if (result && filename) {\r\n              var newValue\r\n              if (typeof this.settings.urlText === 'function') {\r\n                newValue = this.settings.urlText.call(this, filename, result)\r\n              } else {\r\n                newValue = this.settings.urlText.replace(this.filenameTag, filename)\r\n              }\r\n\r\n              var text = this.editor.getValue().replace(this.lastValue, newValue)\r\n              this.editor.setValue(text)\r\n              this.settings.onFileUploaded.call(this, filename)\r\n            }\r\n            return false\r\n          },\r\n          onFileUploadError: function (xhr) {\r\n            var result = xhr.responseText\r\n            var text = this.editor.getValue() + ' ' + result\r\n            this.editor.setValue(text)\r\n          },\r\n          extraHeaders: {\r\n            ticketid: 'uploads'\r\n          },\r\n          errorText: 'Error uploading file: ',\r\n          uploadUrl: '/tickets/uploadmdeimage',\r\n          jsonFieldName: 'filename',\r\n          urlText: '![Image]({filename})'\r\n        })\r\n\r\n        attachFileDesc($issueTextarea)\r\n      }\r\n\r\n      $scope.openFilterTicketWindow = function () {\r\n        openFilterTicketWindow.openWindow()\r\n      }\r\n\r\n      $scope.submitTicketForm = function (event) {\r\n        event.preventDefault()\r\n        var socketId = socket.ui.socket.io.engine.id\r\n        var data = {}\r\n        var form = $('#createTicketForm')\r\n        var issueField = form.find('textarea#issue')\r\n\r\n        if (issueField.length < 1) return\r\n\r\n        var minIssueLength = SettingsService.getSettings().minIssueLength.value\r\n        var $mdeError = null\r\n        if (issueField.val().length < minIssueLength) {\r\n          // commentField.validate();\r\n          issueField.parent().css({ border: '1px solid #E74C3C' })\r\n          var mdeError = $(\r\n            '<div class=\"mde-error uk-float-left uk-text-left\">Please enter a valid comment. Comments must contain at least ' +\r\n              minIssueLength +\r\n              ' characters.</div>'\r\n          )\r\n\r\n          $mdeError = issueField.siblings('.editor-statusbar').find('.mde-error')\r\n          if ($mdeError.length < 1) {\r\n            issueField.siblings('.editor-statusbar').prepend(mdeError)\r\n          }\r\n\r\n          return\r\n        }\r\n\r\n        issueField.parent().css('border', 'none')\r\n        $mdeError = issueField.parent().find('.mde-error')\r\n        if ($mdeError.length > 0) $mdeError.remove()\r\n\r\n        if (!form.isValid(null, null, false)) {\r\n          return true\r\n        }\r\n\r\n        form.serializeArray().map(function (x) {\r\n          data[x.name] = x.value\r\n        })\r\n        data.tags = form.find('#tags').val()\r\n        data.socketId = socketId\r\n        $http({\r\n          method: 'POST',\r\n          url: '/api/v1/tickets/create',\r\n          data: data,\r\n          headers: { 'Content-Type': 'application/json' }\r\n        })\r\n          .success(function (data) {\r\n            if (!data.success) {\r\n              if (data.error) {\r\n                helpers.UI.showSnackbar({\r\n                  text: 'Error: ' + data.error,\r\n                  actionTextColor: '#B92929'\r\n                })\r\n                return\r\n              }\r\n\r\n              helpers.UI.showSnackbar({\r\n                text: 'Error submitting ticket.',\r\n                actionTextColor: '#B92929'\r\n              })\r\n            }\r\n\r\n            helpers.UI.showSnackbar({ text: 'Ticket Created Successfully' })\r\n\r\n            UIkit.modal('#ticketCreateModal').hide()\r\n\r\n            // History.pushState(null, null, '/tickets/');\r\n          })\r\n          .error(function (err) {\r\n            $log.error('[trudesk:tickets:submitTicketForm] - ' + err.error.message)\r\n            helpers.UI.showSnackbar({\r\n              text: 'Error: ' + err.error.message,\r\n              actionTextColor: '#B92929'\r\n            })\r\n          })\r\n      }\r\n\r\n      $scope.searchBarSubmit = function (event) {\r\n        if (!_.isUndefined(event.keyCode) && event.keyCode === 13) {\r\n          var searchBoxText = $('#tickets_Search').val()\r\n          if (searchBoxText.length < 3) return true\r\n\r\n          var queryString = '?uid={0}&fs={0}&it={0}'.formatUnicorn(searchBoxText)\r\n\r\n          History.pushState(\r\n            null,\r\n            null,\r\n            '/tickets/filter/' + queryString + '&r=' + Math.floor(Math.random() * (99999 - 1 + 1)) + 1\r\n          )\r\n        }\r\n      }\r\n\r\n      $scope.showTags = function (event) {\r\n        event.preventDefault()\r\n        var tagModal = $('#addTagModal')\r\n        if (tagModal.length > 0) {\r\n          tagModal.find('#tags').trigger('chosen:updated')\r\n          UIkit.modal(tagModal).show()\r\n        }\r\n      }\r\n\r\n      $scope.submitAddTag = function (event) {\r\n        event.preventDefault()\r\n        var form = $('form#addTagForm')\r\n        if (form.length > 0) {\r\n          var tag = form.find('#tag').val()\r\n          var data = {\r\n            tag: tag\r\n          }\r\n\r\n          $http({\r\n            method: 'POST',\r\n            url: '/api/v1/tags/create',\r\n            data: data,\r\n            headers: { 'Content-Type': 'application/json' }\r\n          })\r\n            .success(function (data) {\r\n              var tagModal = $('#addTagModal')\r\n              var tagFormField = $('#tags')\r\n              tagFormField.append(\r\n                '<option id=\"TAG__\"' +\r\n                  data.tag._id +\r\n                  '\" value=\"' +\r\n                  data.tag._id +\r\n                  '\" selected>' +\r\n                  data.tag.name +\r\n                  '</option>'\r\n              )\r\n              tagFormField.trigger('chosen:updated')\r\n              if (tagModal.length > 0) UIkit.modal(tagModal).hide()\r\n            })\r\n            .error(function (err) {\r\n              $log.error('[trudesk:tickets:addTag} - Error: ' + err.error)\r\n              helpers.UI.showSnackbar({\r\n                text: 'Error: ' + err.error,\r\n                actionTextColor: '#B92929'\r\n              })\r\n            })\r\n        }\r\n      }\r\n\r\n      $scope.deleteTickets = function () {\r\n        var $ids = getChecked()\r\n        _.each($ids, function (id) {\r\n          $http\r\n            .delete('/api/v1/tickets/' + id)\r\n            .success(function () {\r\n              clearChecked()\r\n              removeCheckedFromGrid()\r\n              helpers.UI.showSnackbar({ text: 'Ticket Deleted Successfully' })\r\n            })\r\n            .error(function (e) {\r\n              $log.error('[trudesk:tickets:deleteTickets] - ' + e)\r\n              helpers.UI.showSnackbar({\r\n                text: 'Error: ' + e.error.message,\r\n                actionTextColor: '#B92929'\r\n              })\r\n            })\r\n        })\r\n\r\n        // hide Dropdown\r\n        helpers.hideAllpDropDowns()\r\n      }\r\n\r\n      $scope.setOpenTickets = function () {\r\n        var $ids = getChecked()\r\n\r\n        _.each($ids, function (id) {\r\n          $http\r\n            .put('/api/v1/tickets/' + id, {\r\n              status: 1\r\n            })\r\n            .success(function () {\r\n              helpers.UI.showSnackbar({ text: 'Ticket status set to open' })\r\n            })\r\n            .error(function (e) {\r\n              $log.error('[trudesk:tickets:openTickets] - Error: ', e)\r\n              helpers.UI.showSnackbar('An Error occurred. Please check console.', true)\r\n            })\r\n        })\r\n      }\r\n\r\n      $scope.setPendingTickets = function () {\r\n        var $ids = getChecked()\r\n\r\n        _.each($ids, function (id) {\r\n          $http\r\n            .put('/api/v1/tickets/' + id, {\r\n              status: 2\r\n            })\r\n            .success(function () {\r\n              helpers.UI.showSnackbar('Ticket status set to pending', false)\r\n            })\r\n            .error(function (e) {\r\n              $log.error('[trudes:tickets:setPendingTickets] - Error ', e)\r\n              helpers.UI.showSnackbar('An Error occurred. Please check console.', true)\r\n            })\r\n        })\r\n      }\r\n\r\n      $scope.setClosedTickets = function () {\r\n        var $ids = getChecked()\r\n\r\n        _.each($ids, function (id) {\r\n          $http\r\n            .put('/api/v1/tickets/' + id, {\r\n              status: 3\r\n            })\r\n            .success(function () {\r\n              helpers.UI.showSnackbar('Ticket status set to closed', false)\r\n            })\r\n            .error(function (e) {\r\n              $log.error('[trudesk:tickets:closeTickets] - Error', e)\r\n              helpers.UI.showSnackbar('An Error occurred. Please check console.', true)\r\n            })\r\n        })\r\n      }\r\n\r\n      $scope.GridRefreshChanged = function () {\r\n        $http\r\n          .put('/api/v1/users/' + $scope.username + '/updatepreferences', {\r\n            preference: 'autoRefreshTicketGrid',\r\n            value: $scope.preferences_autoRefreshTicketGrid\r\n          })\r\n          .success(function () {})\r\n          .error(function (e) {\r\n            $log.error('[trudesk:tickets:GridRefreshChanged] - ' + e)\r\n            helpers.UI.showSnackbar({\r\n              text: 'Error: ' + e.message,\r\n              actionTextColor: '#B92929'\r\n            })\r\n          })\r\n      }\r\n\r\n      $scope.RefreshTicketGrid = function (event) {\r\n        var path = $window.location.pathname\r\n        History.pushState(null, null, path + '?r=' + Math.random())\r\n        event.preventDefault()\r\n      }\r\n\r\n      $scope.submitFilter = function () {\r\n        var data = {}\r\n        var $ticketFilterForm = $('#ticketFilterForm')\r\n\r\n        $ticketFilterForm.serializeArray().map(function (x) {\r\n          data[x.name] = x.value\r\n        })\r\n        var querystring = '?f=1'\r\n        if (!_.isEmpty(data.filterSubject)) {\r\n          querystring += '&fs=' + data.filterSubject\r\n        }\r\n        if (!_.isEmpty(data.filterDate_Start)) {\r\n          querystring += '&ds=' + data.filterDate_Start\r\n        }\r\n        if (!_.isEmpty(data.filterDate_End)) {\r\n          querystring += '&de=' + data.filterDate_End\r\n        }\r\n\r\n        var filterStatus = $ticketFilterForm.find('select#filterStatus').val()\r\n        _.each(filterStatus, function (item) {\r\n          querystring += '&st=' + item\r\n        })\r\n\r\n        var filterPriority = $ticketFilterForm.find('select#filterPriority').val()\r\n        _.each(filterPriority, function (item) {\r\n          querystring += '&pr=' + item\r\n        })\r\n\r\n        var filterGroup = $ticketFilterForm.find('select#filterGroup').val()\r\n        _.each(filterGroup, function (item) {\r\n          querystring += '&gp=' + item\r\n        })\r\n\r\n        var filterType = $ticketFilterForm.find('select#filterType').val()\r\n        _.each(filterType, function (item) {\r\n          querystring += '&tt=' + item\r\n        })\r\n\r\n        var filterTags = $ticketFilterForm.find('select#filterTags').val()\r\n        _.each(filterTags, function (item) {\r\n          querystring += '&tag=' + item\r\n        })\r\n\r\n        var filterAssignee = $ticketFilterForm.find('select#filterAssignee').val()\r\n        _.each(filterAssignee, function (item) {\r\n          querystring += '&au=' + item\r\n        })\r\n\r\n        openFilterTicketWindow.closeWindow()\r\n        History.pushState(\r\n          null,\r\n          null,\r\n          '/tickets/filter/' + querystring + '&r=' + Math.floor(Math.random() * (99999 - 1 + 1)) + 1\r\n        )\r\n      }\r\n\r\n      $scope.clearFilterForm = function (e) {\r\n        $(':input', '#ticketFilterForm')\r\n          .not(':button, :submit, :reset, :hidden')\r\n          .val('')\r\n        $('#ticketFilterForm')\r\n          .find('option:selected')\r\n          .removeAttr('selected')\r\n          .trigger('chosen:updated')\r\n        e.preventDefault()\r\n      }\r\n\r\n      function clearChecked () {\r\n        $('#ticketTable')\r\n          .find('input[type=\"checkbox\"]:checked')\r\n          .each(function () {\r\n            var vm = this\r\n            var self = $(vm)\r\n            self.prop('checked', false)\r\n          })\r\n      }\r\n\r\n      function getChecked () {\r\n        var checkedIds = []\r\n        $('#ticketTable')\r\n          .find('input[type=\"checkbox\"]:checked')\r\n          .each(function () {\r\n            var vm = this\r\n            var self = $(vm)\r\n            var $ticketTR = self.parents('tr')\r\n            if (!_.isUndefined($ticketTR)) {\r\n              var ticketOid = $ticketTR.attr('data-ticketOid')\r\n\r\n              if (!_.isUndefined(ticketOid) && ticketOid.length > 0) {\r\n                checkedIds.push(ticketOid)\r\n              }\r\n            }\r\n          })\r\n\r\n        return checkedIds\r\n      }\r\n\r\n      function removeCheckedFromGrid () {\r\n        $('#ticketTable')\r\n          .find('input[type=\"checkbox\"]:checked')\r\n          .each(function () {\r\n            var vm = this\r\n            var self = $(vm)\r\n            var $ticketTR = self.parents('tr')\r\n            if (!_.isUndefined($ticketTR)) {\r\n              $ticketTR.remove()\r\n            }\r\n          })\r\n      }\r\n    })\r\n    .factory('openFilterTicketWindow', function () {\r\n      return {\r\n        openWindow: function openWindow () {\r\n          UIkit.modal('#ticketFilterModal').show()\r\n        },\r\n        closeWindow: function closeWindow () {\r\n          UIkit.modal('#ticketFilterModal').hide()\r\n        }\r\n      }\r\n    })\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/angularjs/controllers/tickets.js?");

/***/ }),

/***/ "./src/public/js/angularjs/main.js":
/*!*****************************************!*\
  !*** ./src/public/js/angularjs/main.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n     .                              .o8                     oooo\r\n   .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n   888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n   888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n   888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n   \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    02/10/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n// require.ensure([], function(require) {\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__(/*! angular */ \"./src/public/js/vendor/angular/angular.min.js\"),\r\n  __webpack_require__(/*! angularjs/services/session */ \"./src/public/js/angularjs/services/session.js\"),\r\n  __webpack_require__(/*! angularjs/controllers */ \"./src/public/js/angularjs/controllers.js\"),\r\n  __webpack_require__(/*! angularRoute */ \"./src/public/js/vendor/angular/angular-route.min.js\"),\r\n  __webpack_require__(/*! angularCookies */ \"./src/public/js/vendor/angular/angular-cookies.min.js\"),\r\n  __webpack_require__(/*! angularSanitize */ \"./src/public/js/vendor/angular/angular-sanitize.min.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function (angular) {\r\n  return angular\r\n    .module('trudesk', ['trudesk.services.session', 'ngRoute', 'ngCookies', 'ngSanitize', 'trudesk.controllers'])\r\n    .config(function ($interpolateProvider) {\r\n      $interpolateProvider.startSymbol('{[{')\r\n      $interpolateProvider.endSymbol('}]}')\r\n    })\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n// });\r\n\n\n//# sourceURL=webpack:///./src/public/js/angularjs/main.js?");

/***/ }),

/***/ "./src/public/js/modules/chat.js":
/*!***************************************!*\
  !*** ./src/public/js/modules/chat.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n      .                              .o8                     oooo\r\n   .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n   888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n   888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n   888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n   \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    02/10/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"), __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"), __webpack_require__(/*! moment */ \"./src/public/js/vendor/moment/moment.js\"), __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"), __webpack_require__(/*! uikit */ \"./src/public/js/vendor/uikit/js/uikit_combined.min.js\"), __webpack_require__(/*! autogrow */ \"./src/public/js/plugins/autogrow.js\"), __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (\r\n  $,\r\n  _,\r\n  moment,\r\n  helpers,\r\n  UIKit\r\n) {\r\n  var chatClient = {}\r\n\r\n  var socket\r\n\r\n  var loggedInAccount\r\n\r\n  chatClient.init = function (sock) {\r\n    loggedInAccount = window.trudeskSessionService.getUser()\r\n    socket = sock\r\n\r\n    socket.removeAllListeners('updateUsers')\r\n    socket.on('updateUsers', function (data) {\r\n      var html = ''\r\n      var onlineList = $('.online-list-wrapper').find('ul.online-list')\r\n      var username = loggedInAccount.username\r\n      var isUserRole = loggedInAccount.role === 'user'\r\n      var filteredData = _.filter(data, function (item) {\r\n        return item.user.username !== username\r\n      })\r\n      var activeNow = $('.active-now')\r\n      if (_.size(filteredData) < 1) {\r\n        activeNow.hide()\r\n      } else {\r\n        activeNow.show()\r\n      }\r\n\r\n      onlineList.html('')\r\n      var activeCount = 0\r\n      _.each(filteredData, function (v) {\r\n        var onlineUser = v.user\r\n        if (onlineUser.username === username) return true\r\n        // This hides all other users from the active online list.\r\n        if (isUserRole && onlineUser.role === 'user') return true\r\n        var imageUrl = onlineUser.image\r\n        if (_.isUndefined(imageUrl)) imageUrl = 'defaultProfile.jpg'\r\n        html += '<li>'\r\n        html +=\r\n          '<a class=\"no-ajaxy\" data-action=\"startChat\" data-chatUser=\"' + onlineUser._id + '\" href=\"#\" role=\"button\">'\r\n        html += '<div class=\"online-list-user\">'\r\n        html += '<div class=\"image\"><img src=\"/uploads/users/' + imageUrl + '\"></div>'\r\n        html += '<span class=\"online-status\" data-user-status-id=\"' + onlineUser._id + '\"></span>'\r\n        html += '<div class=\"online-name\">' + onlineUser.fullname + '</div>'\r\n        html += '</div>'\r\n        html += '</a>'\r\n        html += '</li>'\r\n\r\n        var allUserList = $('ul.user-list')\r\n        var userStatus = allUserList.find('li[data-user-id=\"' + onlineUser._id + '\"]').find('.online-status-offline')\r\n        userStatus.removeClass('online-status-offline').addClass('online-status')\r\n        userStatus.text('')\r\n        activeCount++\r\n      })\r\n\r\n      onlineList.append(html)\r\n\r\n      var onlineUserCount = $('.online-user-count')\r\n      if (onlineUserCount.length > 0) {\r\n        var size = _.size(filteredData)\r\n        if (size < 1) onlineUserCount.addClass('hide')\r\n        else {\r\n          onlineUserCount.text(activeCount)\r\n          onlineUserCount.removeClass('hide')\r\n        }\r\n      }\r\n\r\n      chatClient.bindActions()\r\n    })\r\n\r\n    socket.removeAllListeners('$trudesk:chat:updateOnlineBubbles')\r\n    socket.on('$trudesk:chat:updateOnlineBubbles', function (data) {\r\n      var $u = _.throttle(\r\n        function () {\r\n          updateOnlineBubbles(data)\r\n        },\r\n        1000,\r\n        { trailing: false }\r\n      )\r\n\r\n      $u()\r\n    })\r\n\r\n    socket.removeAllListeners('spawnChatWindow')\r\n    socket.on('spawnChatWindow', function (data) {\r\n      var messageContent = $('#message-content[data-conversation-id]')\r\n      if (messageContent.length > 0) {\r\n        var loggedInAccountId = loggedInAccount._id\r\n        startConversation(loggedInAccountId, data._id, function (err, convo) {\r\n          if (err) {\r\n            console.log('[trudesk:chat:openChatWindow] - Error')\r\n            console.error(err)\r\n            helpers.UI.showSnackbar('Unable to start chat', true)\r\n          } else {\r\n            var splitPath = window.location.pathname.split('/')\r\n            if (splitPath.length > 1) {\r\n              if (splitPath[0].toString().toLowerCase() === 'messages') {\r\n                return true\r\n              }\r\n            } else {\r\n              History.pushState(null, null, '/messages/' + convo._id, true)\r\n            }\r\n          }\r\n        })\r\n      } else {\r\n        chatClient.openChatWindow(data)\r\n      }\r\n    })\r\n\r\n    socket.removeAllListeners('chatMessage')\r\n    socket.on('chatMessage', function (data) {\r\n      var type = data.type\r\n      var to = data.to\r\n      var from = data.from\r\n      var chatBox = ''\r\n\r\n      var chatMessage = ''\r\n\r\n      var chatMessageList = ''\r\n\r\n      var scroller = ''\r\n\r\n      var selector = ''\r\n\r\n      if (type === 's') {\r\n        chatBox = $('.chat-box[data-chat-userid=\"' + to + '\"]')\r\n        chatMessage = createChatMessageDiv(data.message)\r\n        chatMessageList = chatBox.find('.chat-message-list:first')\r\n        scroller = chatBox.find('.chat-box-messages')\r\n        chatMessageList.append(chatMessage)\r\n        helpers.scrollToBottom(scroller)\r\n        helpers.UI.playSound('sendChatMessage')\r\n      } else if (type === 'r') {\r\n        selector = '.chat-box[data-chat-userid=\"' + from + '\"]'\r\n        chatBox = $(selector)\r\n        if (chatBox.length < 1) {\r\n          chatClient.openChatWindow(data.fromUser, function () {\r\n            chatBox = $(selector)\r\n            scroller = chatBox.find('.chat-box-messages')\r\n            helpers.scrollToBottom(scroller)\r\n          })\r\n        } else {\r\n          chatMessage = createChatMessageFromUser(data.fromUser, data.message)\r\n          chatMessageList = chatBox.find('.chat-message-list:first')\r\n          chatMessageList.append(chatMessage)\r\n          scroller = chatBox.find('.chat-box-messages')\r\n          helpers.scrollToBottom(scroller)\r\n        }\r\n\r\n        helpers.UI.playSound('receivedChatMessage')\r\n      }\r\n\r\n      $.event.trigger('$trudesk:chat:message', data)\r\n\r\n      // Ajaxify Any ticket links\r\n      $('body').ajaxify()\r\n    })\r\n\r\n    socket.removeAllListeners('chatTyping')\r\n    socket.on('chatTyping', function (data) {\r\n      $.event.trigger('$trudesk:chat:typing', data)\r\n      var chatBox = $('div[data-conversation-id=\"' + data.cid + '\"]')\r\n      var isTypingDiv = chatBox.find('.user-is-typing-wrapper')\r\n      isTypingDiv.removeClass('hide')\r\n      var scroller = chatBox.find('.chat-box-messages')\r\n      if (scroller.length > 0) {\r\n        // Only scroll if the scroller is on bottom\r\n        if (scroller.scrollTop() + window.innerHeight >= scroller[0].scrollHeight) {\r\n          helpers.scrollToBottom(scroller)\r\n        }\r\n      }\r\n\r\n      scroller = $('#message-content')\r\n      if (scroller.length > 0) {\r\n        // Only scroll if the scroller is on bottom\r\n        if (scroller.scrollTop() + window.innerHeight >= scroller[0].scrollHeight) {\r\n          helpers.scrollToBottom(scroller)\r\n        }\r\n      }\r\n    })\r\n\r\n    socket.removeAllListeners('chatStopTyping')\r\n    socket.on('chatStopTyping', function (data) {\r\n      $.event.trigger('$trudesk:chat:stoptyping', data)\r\n    })\r\n\r\n    socket.removeAllListeners('leftChatServer')\r\n    socket.on('leftChatServer', function (data) {\r\n      $.event.trigger('$trudesk:chat:leftchatserver', data)\r\n    })\r\n\r\n    $(window).on('$trudesk:chat:stoptyping.chatSystem', function (event, data) {\r\n      var chatBox = []\r\n      var scroller\r\n      chatBox[0] = $('#message-content[data-conversation-id=\"' + data.cid + '\"]')\r\n      chatBox[1] = $('.chat-box[data-conversation-id=\"' + data.cid + '\"]')\r\n      for (var i = 0; i < chatBox.length; i++) {\r\n        chatBox[i].find('.user-is-typing-wrapper').addClass('hide')\r\n        scroller = chatBox[i].find('.chat-box-messages')\r\n        if (scroller.length > 0) {\r\n          if (scroller.scrollTop() === scroller[0].scrollHeight) {\r\n            helpers.scrollToBottom(scroller)\r\n          }\r\n        }\r\n      }\r\n\r\n      scroller = $('#message-content')\r\n      if (scroller.length > 0) {\r\n        // Only scroll if the scroller is on bottom\r\n        if (scroller.scrollTop() === scroller[0].scrollHeight) {\r\n          helpers.scrollToBottom(scroller)\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  var typingTimeout = {}\r\n  var isTyping = {}\r\n  function stopTyping (cid, to) {\r\n    isTyping[cid] = false\r\n    typingTimeout[cid] = undefined\r\n    var loggedInAccountId = loggedInAccount._id\r\n    socket.emit('chatStopTyping', {\r\n      cid: cid,\r\n      to: to,\r\n      from: loggedInAccountId\r\n    })\r\n  }\r\n\r\n  chatClient.stopTyping = function (cid, to, complete) {\r\n    stopTyping(cid, to)\r\n\r\n    if (_.isFunction(complete)) {\r\n      return complete()\r\n    }\r\n  }\r\n\r\n  chatClient.startTyping = function (cid, userid, complete) {\r\n    if (isTyping[cid]) {\r\n      clearTimeout(typingTimeout[cid])\r\n      typingTimeout[cid] = setTimeout(stopTyping, 5000, cid, userid)\r\n\r\n      if (_.isFunction(complete)) {\r\n        return complete()\r\n      }\r\n    } else {\r\n      socket.emit('chatTyping', {\r\n        cid: cid,\r\n        to: userid,\r\n        from: loggedInAccount._id\r\n      })\r\n\r\n      isTyping[cid] = true\r\n      if (typingTimeout[cid] === undefined) {\r\n        typingTimeout[cid] = setTimeout(stopTyping, 5000, cid, userid)\r\n      }\r\n\r\n      if (_.isFunction(complete)) {\r\n        return complete()\r\n      }\r\n    }\r\n  }\r\n\r\n  chatClient.bindActions = function () {\r\n    $(document).ready(function () {\r\n      $('*[data-action=\"startChat\"]').each(function () {\r\n        var self = $(this)\r\n        self.off('click')\r\n        self.click(function (e) {\r\n          var userId = self.attr('data-chatUser')\r\n          socket.emit('spawnChatWindow', userId)\r\n          UIKit.offcanvas.hide()\r\n          e.preventDefault()\r\n        })\r\n      })\r\n    })\r\n  }\r\n\r\n  function bindChatWindowActions (convoId) {\r\n    var $chatBox = $('.chat-box[data-conversation-id=\"' + convoId + '\"]')\r\n    if ($chatBox.length < 1) {\r\n      return false\r\n    }\r\n\r\n    var $textarea = $chatBox.find('textarea.textAreaAutogrow')\r\n    var $chatBoxText = $chatBox.find('.chat-box-text')\r\n    var $chatCloseButton = $chatBox.find('.chatCloseBtn')\r\n    var $chatTitleBar = $chatBox.find('.chat-box-title')\r\n\r\n    $textarea.off('keyup')\r\n    $textarea.off('keydown')\r\n    $textarea.on('keydown', function (e) {\r\n      if (e.keyCode === 13) {\r\n        return\r\n      }\r\n\r\n      var self = $(this)\r\n      var cid = self\r\n        .parent()\r\n        .parent()\r\n        .attr('data-conversation-id')\r\n      var user = self\r\n        .parent()\r\n        .parent()\r\n        .attr('data-chat-userid')\r\n\r\n      if (cid === undefined || user === undefined) {\r\n        console.log('Invalid Conversation ID or User ID')\r\n        return\r\n      }\r\n\r\n      chatClient.startTyping(cid, user)\r\n    })\r\n\r\n    $textarea.autogrow({\r\n      postGrowCallback: chatBoxTextAreaGrowCallback,\r\n      enterPressed: function (self, v) {\r\n        var messages = self.parent().siblings('.chat-box-messages')\r\n        var cid = self\r\n          .parent()\r\n          .parent()\r\n          .attr('data-conversation-id')\r\n        var userId = self.parents('.chat-box').attr('data-chat-userid')\r\n        helpers.scrollToBottom(messages)\r\n        if (v.length < 1) return\r\n\r\n        // Send Message\r\n        chatClient.sendChatMessage(cid, userId, v, function () {\r\n          clearTimeout(typingTimeout[cid])\r\n          stopTyping(cid, userId)\r\n        })\r\n      }\r\n    })\r\n\r\n    $chatBoxText.off('click')\r\n    $chatBoxText.click(function (e) {\r\n      if (\r\n        $(this)\r\n          .children('textarea')\r\n          .is(':focus')\r\n      ) {\r\n        e.stopPropagation()\r\n        return false\r\n      }\r\n\r\n      $(this)\r\n        .children('textarea')\r\n        .focus()\r\n      var val = $(this)\r\n        .children('textarea')\r\n        .val()\r\n      $(this)\r\n        .children('textarea')\r\n        .val('')\r\n        .val(val)\r\n    })\r\n\r\n    $chatCloseButton.off('click')\r\n    $chatCloseButton.click(function (e) {\r\n      e.preventDefault()\r\n      $(this)\r\n        .parents('.chat-box[data-chat-userid]')\r\n        .parent()\r\n        .remove()\r\n\r\n      var $loggedInAccountId = loggedInAccount._id\r\n      var cid = $chatCloseButton.parents('.chat-box[data-conversation-id]').attr('data-conversation-id')\r\n      socket.emit('saveChatWindow', {\r\n        userId: $loggedInAccountId,\r\n        convoId: cid,\r\n        remove: true\r\n      })\r\n    })\r\n\r\n    $chatTitleBar.off('click')\r\n    $chatTitleBar.click(function () {\r\n      var p = $(this).parents('.chat-box-position')\r\n      if (p.css('top') === '-280px') {\r\n        p.animate(\r\n          {\r\n            top: -29\r\n          },\r\n          250\r\n        )\r\n      } else {\r\n        p.animate(\r\n          {\r\n            top: -280\r\n          },\r\n          250\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  // Make this return messages with single HTTP request\r\n  function startConversation (owner, receiver, callback) {\r\n    if (owner === receiver) {\r\n      return callback('Invalid Participants')\r\n    }\r\n\r\n    $.ajax({\r\n      url: '/api/v1/messages/conversation/start',\r\n      type: 'POST',\r\n      contentType: 'application/json',\r\n      dataType: 'json',\r\n      data: JSON.stringify({\r\n        owner: owner,\r\n        participants: [owner, receiver]\r\n      }),\r\n      success: function (data) {\r\n        $.ajax({\r\n          url: '/api/v1/messages/conversation/' + data.conversation._id,\r\n          type: 'GET',\r\n          success: function (d) {\r\n            var userMeta =\r\n              data.conversation.userMeta[\r\n                _.findIndex(data.conversation.userMeta, function (item) {\r\n                  return item.userId.toString() === owner.toString()\r\n                })\r\n              ]\r\n            if (userMeta && userMeta.deletedAt) {\r\n              d.messages = _.filter(d.messages, function (message) {\r\n                return moment(message.createdAt) > moment(userMeta.deletedAt)\r\n              })\r\n            }\r\n            data.conversation.messages = d.messages\r\n            return callback(null, data.conversation)\r\n          },\r\n          error: function (err) {\r\n            return callback(err)\r\n          }\r\n        })\r\n      },\r\n      error: function (err) {\r\n        return callback(err)\r\n      }\r\n    })\r\n  }\r\n\r\n  function loadChatMessages (chatBox, messageArray) {\r\n    var to = chatBox.attr('data-chat-userid')\r\n\r\n    var chatMessage\r\n\r\n    var chatMessageList\r\n\r\n    var scroller\r\n\r\n    messageArray.reverse()\r\n\r\n    _.each(messageArray, function (m) {\r\n      if (m.owner._id === to) {\r\n        chatMessage = createChatMessageFromUser(m.owner, m.body)\r\n        chatMessageList = chatBox.find('.chat-message-list:first')\r\n        chatMessageList.append(chatMessage)\r\n        scroller = chatBox.find('.chat-box-messages')\r\n        helpers.scrollToBottom(scroller)\r\n      } else {\r\n        chatMessage = createChatMessageDiv(m.body)\r\n        chatMessageList = chatBox.find('.chat-message-list:first')\r\n        scroller = chatBox.find('.chat-box-messages')\r\n        chatMessageList.append(chatMessage)\r\n        helpers.scrollToBottom(scroller)\r\n      }\r\n    })\r\n\r\n    // Ajaxify Any ticket links\r\n    $('body').ajaxify()\r\n  }\r\n\r\n  chatClient.sendChatMessage = function (cid, toUserId, message, complete) {\r\n    var loggedInAccountId = loggedInAccount._id\r\n    $.ajax({\r\n      url: '/api/v1/messages/send',\r\n      type: 'POST',\r\n      contentType: 'application/json',\r\n      data: JSON.stringify({\r\n        cId: cid,\r\n        owner: loggedInAccountId,\r\n        body: message\r\n      }),\r\n      success: function (data) {\r\n        socket.emit('chatMessage', {\r\n          conversation: cid,\r\n          to: toUserId,\r\n          from: loggedInAccountId,\r\n          type: 's',\r\n          messageId: data.message._id,\r\n          message: data.message.body\r\n        })\r\n\r\n        if (_.isFunction(complete)) {\r\n          return complete()\r\n        }\r\n      },\r\n      error: function (error) {\r\n        console.log('[trudesk:chat:bindActions] Error')\r\n        console.log(error)\r\n        helpers.UI.showSnackbar(error, true)\r\n\r\n        if (complete !== undefined && _.isFunction(complete)) {\r\n          return complete(error)\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  chatClient.getOpenWindows = function () {\r\n    socket.emit('getOpenChatWindows')\r\n  }\r\n\r\n  chatClient.openChatWindow = function (user, complete) {\r\n    var isOnMessagesPage =\r\n      $('#__page')\r\n        .text()\r\n        .toLowerCase() === 'messages'\r\n    if (isOnMessagesPage) {\r\n      if (_.isFunction(complete)) {\r\n        return complete()\r\n      }\r\n      return true\r\n    }\r\n    var loggedInAccountId = loggedInAccount._id\r\n    if (_.isUndefined(loggedInAccountId)) {\r\n      return helpers.UI.showSnackbar('Unable to start chat', true)\r\n    }\r\n\r\n    startConversation(loggedInAccountId, user._id, function (err, convo) {\r\n      if (err) {\r\n        console.log('[trudesk:chat:openChatWindow] - Error')\r\n        console.log(err)\r\n        // return helpers.UI.showSnackbar('Unable to start chat', true);\r\n      }\r\n\r\n      var username = loggedInAccount.username\r\n      if (user.username === username) return true\r\n\r\n      var cWindow = $('.chat-box-position').find('.chat-box[data-chat-userid=\"' + user._id + '\"]')\r\n      if (cWindow.length > 0) {\r\n        // loadChatMessages($('.chat-box-position').find('.chat-box[data-chat-userid=\"' + user._id + '\"]'), convo.messages);\r\n        cWindow.find('textarea').focus()\r\n        helpers.scrollToBottom(cWindow.find('.chat-box-messages'))\r\n        return true\r\n      }\r\n\r\n      var imageUrl = user.image\r\n      if (_.isUndefined(imageUrl)) imageUrl = 'defaultProfile.jpg'\r\n\r\n      var userMeta =\r\n        convo.userMeta[\r\n          _.findIndex(convo.userMeta, function (item) {\r\n            return item.userId.toString() === loggedInAccountId.toString()\r\n          })\r\n        ]\r\n      var html = '<div class=\"chat-box-position\">'\r\n      html += '<div class=\"chat-box\" data-conversation-id=\"' + convo._id + '\" data-chat-userid=\"' + user._id + '\">'\r\n      html += '<div class=\"chat-box-title\">'\r\n      html += '<div class=\"chat-box-title-buttons right\">'\r\n      html += '<a class=\"chatCloseBtn\"><i class=\"material-icons material-icons-small\">close</i></a>'\r\n      html += '</div>'\r\n      html += '<h4 class=\"chat-box-title-text-wrapper\">'\r\n      html += '<a href=\"#\">' + user.fullname + '</a>'\r\n      html += '</h4>'\r\n      html += '</div>'\r\n      html += '<div class=\"chat-box-messages scrollable\">'\r\n      if (userMeta && userMeta.deletedAt) {\r\n        html +=\r\n          '<div class=\"chat-box-deletedAt\">Conversation deleted at ' +\r\n          moment(userMeta.deletedAt).format(helpers.getShortDateFormat() + ' ' + helpers.getTimeFormat()) +\r\n          '</div>'\r\n      }\r\n      html += '<div class=\"chat-message-list\" data-chat-userid=\"' + user._id + '\">'\r\n      html += '</div>'\r\n      html += '<div class=\"user-is-typing-wrapper hide\">'\r\n      html +=\r\n        '<div class=\"chat-user-profile\"><a href=\"#\"><img src=\"/uploads/users/' +\r\n        imageUrl +\r\n        '\" alt=\"' +\r\n        user.fullname +\r\n        '\"/></a></div>'\r\n      html += '<div class=\"user-is-typing\"><div class=\"dot\"></div><div class=\"dot\"></div><div class=\"dot\"></div></div>'\r\n      html += '</div>'\r\n      html += '</div>'\r\n      html += '<div class=\"chat-box-text\">'\r\n      html += '<textarea class=\"textAreaAutogrow autogrow-short\" name=\"message\" rows=\"1\"></textarea>'\r\n      html += '</div>'\r\n      html += '</div>'\r\n      html += '</div>'\r\n\r\n      $('.chat-box-wrapper').append(html)\r\n      $('.chat-box[data-chat-userid=\"' + user._id + '\"] textarea').focus()\r\n      loadChatMessages($('.chat-box-position').find('.chat-box[data-chat-userid=\"' + user._id + '\"]'), convo.messages)\r\n      helpers.hideAllpDropDowns()\r\n      helpers.setupScrollers('.chat-box[data-chat-userid=\"' + user._id + '\"] > div.scrollable')\r\n      bindChatWindowActions(convo._id)\r\n      helpers.scrollToBottom($('.chat-box[data-chat-userid=\"' + user._id + '\"]').find('.chat-box-messages'))\r\n\r\n      socket.emit('saveChatWindow', {\r\n        userId: loggedInAccountId,\r\n        convoId: convo._id,\r\n        remove: false\r\n      })\r\n\r\n      // Fire when window is done loading\r\n      if (_.isFunction(complete)) {\r\n        return complete()\r\n      }\r\n    })\r\n  }\r\n\r\n  chatClient.setUserIdle = function () {\r\n    socket.emit('$trudesk:setUserIdle')\r\n  }\r\n\r\n  chatClient.setUserActive = function () {\r\n    socket.emit('$trudesk:setUserActive')\r\n  }\r\n\r\n  chatClient.updateOnlineBubbles = function () {\r\n    socket.emit('$trudesk:chat:updateOnlineBubbles')\r\n  }\r\n\r\n  function updateOnlineBubbles (usersOnline) {\r\n    $('span[data-user-status-id]').each(function () {\r\n      $(this)\r\n        .removeClass('user-online user-idle')\r\n        .addClass('user-offline')\r\n    })\r\n\r\n    var onlineUserList = usersOnline.sortedUserList\r\n    var idleUserList = usersOnline.sortedIdleList\r\n\r\n    _.each(onlineUserList, function (v) {\r\n      var $bubble = $('span[data-user-status-id=\"' + v.user._id + '\"]')\r\n      $bubble.each(function () {\r\n        var self = $(this)\r\n\r\n        self.removeClass('user-offline user-idle').addClass('user-online')\r\n      })\r\n    })\r\n\r\n    _.each(idleUserList, function (v) {\r\n      var $bubble = $('span[data-user-status-id=\"' + v.user._id + '\"]')\r\n      $bubble.each(function () {\r\n        var self = $(this)\r\n\r\n        self.removeClass('user-offline user-online').addClass('user-idle')\r\n      })\r\n    })\r\n  }\r\n\r\n  function createChatMessageDiv (message) {\r\n    var html = '<div class=\"chat-message chat-message-user uk-clearfix\" data-chat-messageId=\"\">'\r\n    html += '<div class=\"chat-text-wrapper\">'\r\n    html += '<div class=\"chat-text chat-text-user\">'\r\n    html += '<div class=\"chat-text-inner\"><span>' + message.replace(/\\n\\r?/g, '<br>') + '</span>'\r\n    html += '</div></div></div></div>'\r\n\r\n    return html\r\n  }\r\n\r\n  function createChatMessageFromUser (user, message) {\r\n    var imageUrl = user.image\r\n    if (_.isUndefined(imageUrl)) imageUrl = 'defaultProfile.jpg'\r\n    var html = '<div class=\"chat-message uk-clearfix\">'\r\n    html +=\r\n      '<div class=\"chat-user-profile\"><a href=\"#\"><img src=\"/uploads/users/' +\r\n      imageUrl +\r\n      '\" alt=\"' +\r\n      user.fullname +\r\n      '\"/></a></div>'\r\n    html += '<div class=\"chat-text-wrapper\">'\r\n    html += '<div class=\"chat-text\">'\r\n    html += '<div class=\"chat-text-inner\">'\r\n    html += '<span>' + message.replace(/\\n\\r?/g, '<br>') + '</span>'\r\n    html += '</div>'\r\n    html += '</div>'\r\n    html += '</div>'\r\n    html += '</div>'\r\n\r\n    return html\r\n  }\r\n\r\n  function chatBoxTextAreaGrowCallback (self, oldHeight, newHeight) {\r\n    if (oldHeight === newHeight) {\r\n      return true\r\n    }\r\n\r\n    // var textAreaHeight = self.parent().outerHeight();\r\n    var messages = self.parent().siblings('.chat-box-messages')\r\n    messages.css({ 'min-height': '170px', 'max-height': '220px' })\r\n    self.parent().css({ 'max-height': '77px', 'min-height': '16px' })\r\n\r\n    if (newHeight < 80) {\r\n      messages.height(messages.height() - (newHeight - oldHeight))\r\n    }\r\n    // else\r\n    //     messages.height(156);\r\n\r\n    messages.scrollTop(messages[0].scrollHeight)\r\n  }\r\n\r\n  return chatClient\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/modules/chat.js?");

/***/ }),

/***/ "./src/public/js/modules/navigation.js":
/*!*********************************************!*\
  !*** ./src/public/js/modules/navigation.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n      .                              .o8                     oooo\r\n   .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n   888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n   888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n   888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n   \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    02/10/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"), __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"), __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"), __webpack_require__(/*! modules/socket */ \"./src/public/js/modules/socket.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function ($, helpers, _, socket) {\r\n  var navigation = {}\r\n\r\n  navigation.init = function () {\r\n    this.notifications()\r\n    this.flashMessageClose()\r\n  }\r\n\r\n  navigation.flashMessageClose = function () {\r\n    var flashMessage = $('.flash-message').find('.close')\r\n    flashMessage.off('click', closeFlash)\r\n    flashMessage.on('click', closeFlash)\r\n  }\r\n\r\n  function closeFlash (e) {\r\n    var self = $(this)\r\n    var flashMessage = self.parent()\r\n\r\n    flashMessage.slideUp(250, function () {\r\n      helpers.resizeAll()\r\n    })\r\n\r\n    e.preventDefault()\r\n  }\r\n\r\n  navigation.notifications = function () {\r\n    $('a[data-notifications]').each(function () {\r\n      $(this).off('click', showDropdown)\r\n      $(this).on('click', showDropdown)\r\n    })\r\n\r\n    $('a[data-clearNotifications]').each(function () {\r\n      $(this).off('click', clearNotifications)\r\n      $(this).on('click', clearNotifications)\r\n    })\r\n\r\n    $(document).off('mouseup', hideDropdownMouseUp)\r\n    $(document).on('mouseup', hideDropdownMouseUp)\r\n  }\r\n\r\n  function clearNotifications () {\r\n    socket.ui.clearNotifications()\r\n  }\r\n\r\n  function hideDropdownMouseUp (e) {\r\n    var hasEnjoyHint = $('.enjoyhint').length > 0\r\n    if (hasEnjoyHint) return true\r\n\r\n    $('a[data-notifications]').each(function () {\r\n      var drop = $('#' + $(this).attr('data-notifications'))\r\n      if ($(this).has(e.target).length !== 0) {\r\n        return\r\n      }\r\n      if (!drop.is(e.target) && drop.has(e.target).length === 0) {\r\n        if (drop.hasClass('pDropOpen')) {\r\n          drop.removeClass('pDropOpen')\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  function showDropdown (e) {\r\n    var drop = $('#' + $(this).attr('data-notifications'))\r\n    // var scroll = $('#' + $(drop).attr('data-scroll'));\r\n    if (drop.css('visibility') === 'visible') {\r\n      drop.removeClass('pDropOpen')\r\n\r\n      return true\r\n    }\r\n    var pageContent = $(this).parents('#page-content > div')\r\n    var insidePage = pageContent.length > 0\r\n    var pageOffsetTop = 0\r\n    var pageOffsetLeft = 0\r\n    if (insidePage) {\r\n      var pOffset = pageContent.offset()\r\n      pageOffsetTop = pOffset.top\r\n      pageOffsetLeft = pOffset.left\r\n    }\r\n\r\n    pageOffsetTop += $(this).offset().top\r\n\r\n    var leftO = 250\r\n\r\n    if ($(drop).hasClass('pSmall')) leftO = 180\r\n\r\n    var left = $(this).offset().left - $(window).scrollLeft() - pageOffsetLeft - leftO\r\n    // if (drop.hasClass('p-dropdown-left')) {\r\n    //     //left += 250;\r\n    // }\r\n    var leftExtraOffset = $(drop).attr('data-left-offset')\r\n    if (_.isUndefined(leftExtraOffset)) {\r\n      leftExtraOffset = 0\r\n    }\r\n\r\n    left += Number(leftExtraOffset)\r\n    left = left + 'px'\r\n\r\n    var hasNotice = false\r\n    var $noticeFrame = $('.wrapper').find('#notice-banner')\r\n    if ($noticeFrame.length > 0) {\r\n      hasNotice = $noticeFrame.hasClass('uk-hidden') === false\r\n    }\r\n\r\n    var topOffset = $(this).offset().top - $(window).scrollTop() - pageOffsetTop\r\n    var top = $(this).outerHeight() + topOffset\r\n    var topExtraOffset = $(drop).attr('data-top-offset')\r\n    if (_.isUndefined(topExtraOffset)) {\r\n      topExtraOffset = 0\r\n    }\r\n\r\n    top += Number(topExtraOffset)\r\n\r\n    if (hasNotice) {\r\n      top += 30\r\n    }\r\n\r\n    top = top + 'px'\r\n\r\n    var override = $(drop).attr('data-override')\r\n    if (!_.isUndefined(override) && override.length > 0) {\r\n      top = topExtraOffset + 'px'\r\n      left = leftExtraOffset + 'px'\r\n    }\r\n\r\n    $(drop)\r\n      .find('.close-on-click')\r\n      .find('li > a')\r\n      .each(function () {\r\n        $(this).off('click', liClick)\r\n        $(this).on('click', liClick)\r\n      })\r\n\r\n    $(drop).addClass('pDropOpen')\r\n    $(drop).css({ position: 'absolute', left: left, top: top })\r\n\r\n    e.preventDefault()\r\n  }\r\n\r\n  function liClick () {\r\n    helpers.hideAllpDropDowns()\r\n  }\r\n\r\n  return navigation\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/modules/navigation.js?");

/***/ }),

/***/ "./src/public/js/modules/socket.io/accountsImporter.js":
/*!*************************************************************!*\
  !*** ./src/public/js/modules/socket.io/accountsImporter.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n    .                              .o8                     oooo\r\n . o8                             \"888                     `888\r\n.o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n  888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n  888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n  888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n  \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    04/17/2018\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"), __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"), __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function ($, helpers) {\r\n  var accountsImporter = {}\r\n\r\n  var socket\r\n\r\n  function onStatusChange (type, item, percent) {\r\n    var $statusBox = $('#' + type + '-import-status-box > ul')\r\n    if (item) {\r\n      if (item.state === 1) {\r\n        $statusBox.append(\r\n          '<li><div data-import-username=\"' +\r\n            item.username +\r\n            '\" style=\"display:flex;\">Importing ' +\r\n            item.username +\r\n            '<span>...</span></div></li>'\r\n        )\r\n      } else if (item.state === 2) {\r\n        var span = $statusBox.find('div[data-import-username=\"' + item.username + '\"] > span')\r\n        if (span.length > 0) {\r\n          span.css({ display: 'inline-flex', marginLeft: '5px' })\r\n          span.html(\r\n            '<i class=\"md-color-green material-icons\" style=\"font-size:18px;line-height:18px;vertical-align:middle;\">check</i>'\r\n          )\r\n        }\r\n      } else if (item.state === 3) {\r\n        var span1 = $statusBox.find('div[data-import-username=\"' + item.username + '\"] > span')\r\n        if (span1.length > 0) {\r\n          span1.css({ display: 'inline-flex', marginLeft: '5px' })\r\n          span1.html(\r\n            '<i class=\"md-color-red material-icons\" style=\"font-size:18px;line-height:18px;vertical-align:middle;\">close</i>'\r\n          )\r\n        }\r\n      }\r\n    }\r\n\r\n    scrollStatusBox()\r\n\r\n    $('.js-' + type + '-progress')\r\n      .find('.uk-progress-bar')\r\n      .css({ width: percent + '%' })\r\n  }\r\n\r\n  function finishImport (type, completedCount) {\r\n    var $statusBox = $('#' + type + '-import-status-box')\r\n    if (completedCount === 1) {\r\n      $statusBox.find('ul').append('<li>Imported ' + completedCount + ' account</li>')\r\n    } else {\r\n      $statusBox.find('ul').append('<li>Imported ' + completedCount + ' accounts</li>')\r\n    }\r\n\r\n    scrollStatusBox()\r\n\r\n    var $wizard = $('#wizard_' + type)\r\n    $wizard.find('.button_finish').removeClass('disabled')\r\n  }\r\n\r\n  accountsImporter.init = function (sock) {\r\n    socket = sock\r\n\r\n    socket.removeAllListeners('$trudesk:accounts:import:error')\r\n    socket.on('$trudesk:accounts:import:error', function (data) {\r\n      var error = data.error\r\n\r\n      console.error(error)\r\n      helpers.showSnackbar(error, true)\r\n    })\r\n\r\n    socket.removeAllListeners('$trudesk:accounts:import:onStatusChange')\r\n    socket.on('$trudesk:accounts:import:onStatusChange', function (data) {\r\n      var type = data.type\r\n      var item = data.item\r\n      var totalCount = data.totalCount\r\n      var completedCount = data.completedCount\r\n      var percent = Math.floor((completedCount / totalCount) * 100)\r\n\r\n      onStatusChange(type, item, percent)\r\n\r\n      // See if we are done\r\n      if (completedCount >= totalCount) {\r\n        finishImport(type, completedCount)\r\n      }\r\n    })\r\n  }\r\n\r\n  accountsImporter.sendAccountData = function (type, addedUsers, updatedUsers) {\r\n    if (socket === null || socket === undefined) return\r\n\r\n    socket.emit('$trudesk:accounts:import:' + type, {\r\n      addedUsers: addedUsers,\r\n      updatedUsers: updatedUsers\r\n    })\r\n  }\r\n\r\n  function scrollStatusBox () {\r\n    var e = $('#ldap-import-status-box')\r\n    if (e.length > 0) {\r\n      e = e[0]\r\n      e.scrollTop = e.scrollHeight - e.getBoundingClientRect().height\r\n    }\r\n  }\r\n\r\n  return accountsImporter\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/modules/socket.io/accountsImporter.js?");

/***/ }),

/***/ "./src/public/js/modules/socket.io/logs.io.js":
/*!****************************************************!*\
  !*** ./src/public/js/modules/socket.io/logs.io.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n    .                              .o8                     oooo\r\n . o8                             \"888                     `888\r\n.o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n  888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n  888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n  888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n  \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    07/22/2016\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"), __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"), __webpack_require__(/*! moment */ \"./src/public/js/vendor/moment/moment.js\"), __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"), __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (\r\n  $,\r\n  _,\r\n  moment,\r\n  helpers\r\n) {\r\n  var logsIO = {}\r\n\r\n  cleanPreTags()\r\n\r\n  logsIO.getLogData = function (socket) {\r\n    socket.removeAllListeners('logs:data')\r\n    socket.on('logs:data', function (data) {\r\n      var $sLogs = $('#serverlogs')\r\n      if ($sLogs.length > 0) {\r\n        $sLogs.append(data)\r\n        $sLogs.append('\\n<br />')\r\n        $sLogs.scrollTop(99999999999999 * 999999999999999)\r\n        helpers.scrollToBottom($sLogs)\r\n      }\r\n    })\r\n  }\r\n\r\n  function cleanPreTags () {\r\n    ;[].forEach.call(document.querySelectorAll('pre'), function ($pre) {\r\n      var lines = $($pre)\r\n        .html()\r\n        .split('\\n')\r\n      var matches\r\n      for (var i = 0; i < lines.length; i++) {\r\n        var indentation = (matches = /^\\s+/.exec(lines[i])) !== null ? matches[0] : null\r\n        if (indentation) {\r\n          // lines = lines.map(function(line) {\r\n          //     return line.replace(indentation, '');\r\n          // });\r\n          lines[i].replace(/^\\s+/, '')\r\n        }\r\n      }\r\n\r\n      return $($pre).html(lines.join('\\n').trim())\r\n    })\r\n  }\r\n\r\n  return logsIO\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/modules/socket.io/logs.io.js?");

/***/ }),

/***/ "./src/public/js/modules/socket.io/noticeUI.js":
/*!*****************************************************!*\
  !*** ./src/public/js/modules/socket.io/noticeUI.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n .                              .o8                     oooo\r\n .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n 888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n 888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n 888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    08/20/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"),\r\n  __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"),\r\n  __webpack_require__(/*! moment */ \"./src/public/js/vendor/moment/moment.js\"),\r\n  __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"),\r\n  __webpack_require__(/*! uikit */ \"./src/public/js/vendor/uikit/js/uikit_combined.min.js\"),\r\n  __webpack_require__(/*! modules/navigation */ \"./src/public/js/modules/navigation.js\"),\r\n  __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function ($, _, moment, helpers, UIkit) {\r\n  var noticeUI = {}\r\n\r\n  noticeUI.setShowNotice = function (socket, notice) {\r\n    socket.emit('setShowNotice', notice)\r\n  }\r\n\r\n  noticeUI.updateShowNotice = function (socket) {\r\n    socket.removeAllListeners('updateShowNotice')\r\n    socket.on('updateShowNotice', function (notice) {\r\n      var $noticeDiv = $('div#notice-banner')\r\n      var $dateFormated = moment(notice.activeDate).format('MM/DD/YYYY HH:mm')\r\n      var $message = ' - Important: ' + notice.message\r\n      var $bgColor = notice.color\r\n      var $fontColor = notice.fontColor\r\n      $noticeDiv.css('background', $bgColor)\r\n      $noticeDiv.css('color', $fontColor)\r\n      $noticeDiv.html($dateFormated + $message)\r\n      $noticeDiv.removeClass('uk-hidden')\r\n      $('.sidebar').css('top', '105px')\r\n\r\n      helpers.resizeAll()\r\n\r\n      if (notice.alertWindow) {\r\n        showNoticeAlertWindow(notice)\r\n      }\r\n    })\r\n  }\r\n\r\n  noticeUI.setClearNotice = function (socket) {\r\n    socket.emit('setClearNotice')\r\n  }\r\n\r\n  noticeUI.updateClearNotice = function (socket) {\r\n    socket.removeAllListeners('updateClearNotice')\r\n    socket.on('updateClearNotice', function () {\r\n      $('div#notice-banner').addClass('uk-hidden')\r\n      $('.sidebar').css('top', '75px')\r\n\r\n      helpers.resizeAll()\r\n\r\n      hideNoticeAlertWindow()\r\n    })\r\n  }\r\n\r\n  function showNoticeAlertWindow (notice) {\r\n    var noticeAlertWindow = $('#noticeAlertWindow')\r\n    if (noticeAlertWindow.length < 1) return true\r\n\r\n    var noticeTitle = noticeAlertWindow.find('#noticeTitle')\r\n    var noticeText = noticeAlertWindow.find('#noticeText')\r\n    var noticeBG = noticeAlertWindow.find('#noticeBG')\r\n    var noticeCookieName = noticeAlertWindow.find('#__noticeCookieName')\r\n    noticeCookieName.html(notice.name + '_' + moment(notice.activeDate).format('MMMDDYYYY_HHmmss'))\r\n\r\n    noticeBG.css('background-color', notice.color)\r\n    noticeTitle.css('color', notice.fontColor)\r\n\r\n    noticeTitle.html(notice.name)\r\n    noticeText.html(notice.message)\r\n\r\n    var modal = UIkit.modal(noticeAlertWindow, {\r\n      bgclose: false\r\n    })\r\n\r\n    modal.show()\r\n  }\r\n\r\n  function hideNoticeAlertWindow () {\r\n    var noticeAlertWindow = $('#noticeAlertWindow')\r\n    if (noticeAlertWindow.length < 1) return true\r\n\r\n    UIkit.modal(noticeAlertWindow).hide()\r\n  }\r\n\r\n  return noticeUI\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/modules/socket.io/noticeUI.js?");

/***/ }),

/***/ "./src/public/js/modules/socket.io/ticketsUI.js":
/*!******************************************************!*\
  !*** ./src/public/js/modules/socket.io/ticketsUI.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n .                              .o8                     oooo\r\n .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n 888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n 888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n 888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    08/20/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"),\r\n  __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"),\r\n  __webpack_require__(/*! moment */ \"./src/public/js/vendor/moment/moment.js\"),\r\n  __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"),\r\n  __webpack_require__(/*! modules/navigation */ \"./src/public/js/modules/navigation.js\"),\r\n  __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function ($) {\r\n  var ticketsUI = {}\r\n\r\n  ticketsUI.updateSubscribe = function (socket) {\r\n    socket.removeAllListeners('ticket:subscriber:update')\r\n    socket.on('ticket:subscriber:update', function (data) {\r\n      var $subscribeSwitch = $('input#subscribeSwitch[data-subscribe-userId=\"' + data.user + '\"]')\r\n      if ($subscribeSwitch.length > 0) {\r\n        if (data.subscribe) {\r\n          $subscribeSwitch.prop('checked', true)\r\n        } else {\r\n          $subscribeSwitch.prop('checked', false)\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  return ticketsUI\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/modules/socket.io/ticketsUI.js?");

/***/ }),

/***/ "./src/public/js/modules/socket.js":
/*!*****************************************!*\
  !*** ./src/public/js/modules/socket.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n      .                              .o8                     oooo\r\n   .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n   888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n   888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n   888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n   \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    02/10/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! modules/chat */ \"./src/public/js/modules/chat.js\"), __webpack_require__(/*! modules/ui */ \"./src/public/js/modules/ui.js\"), __webpack_require__(/*! modules/socket.io/accountsImporter */ \"./src/public/js/modules/socket.io/accountsImporter.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (\r\n  chat,\r\n  ui,\r\n  accountsImporter\r\n) {\r\n  var socket = io.connect({\r\n    transports: ['polling', 'websocket']\r\n  })\r\n  var sClient = {\r\n    socket: socket\r\n  }\r\n\r\n  ui.init(socket)\r\n  sClient.ui = ui\r\n\r\n  chat.init(socket)\r\n  sClient.chat = chat\r\n\r\n  accountsImporter.init(socket)\r\n  sClient.accountsImporter = accountsImporter\r\n\r\n  return sClient\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/modules/socket.js?");

/***/ }),

/***/ "./src/public/js/modules/tour.js":
/*!***************************************!*\
  !*** ./src/public/js/modules/tour.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n .                              .o8                     oooo\r\n .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n 888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n 888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n 888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    03/14/2017\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"), __webpack_require__(/*! shepherd */ \"./src/public/js/vendor/shepherd/js/shepherd.min.js\"), __webpack_require__(/*! uikit */ \"./src/public/js/vendor/uikit/js/uikit_combined.min.js\"), __webpack_require__(/*! tether */ \"./src/public/js/vendor/tether/tether.min.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function ($, Shepherd, UIKit) {\r\n  var tour = {}\r\n\r\n  tour = new Shepherd.Tour({\r\n    defaults: {\r\n      classes: 'shepherd-theme-square shepherd-theme-arrows'\r\n    }\r\n  })\r\n\r\n  tour.addStep('welcome', {\r\n    title: 'Welcome!',\r\n    text:\r\n      '<div class=\"logo\" style=\"margin-left: 70px;\">' +\r\n      '<svg style=\"width: 140px; height: 75px;\" viewBox=\"0 0 288.9 70.1\">' +\r\n      '<path style=\"fill: #222;\" d=\"M28.5,28.4c-0.1,1.6-0.7,3.4-1.6,5.4c-2.4-0.3-4.6-0.4-6.8-0.4h-1.7c-2.9,13.9-4.3,22.6-4.3,26.1 c0,1.8,0.4,2.7,1.2,2.7c0.8,0,2.9-0.8,6.2-2.3l1.7,3.1C17.7,67.7,12.5,70,7.8,70c-2.2,0-4-0.7-5.4-2.1c-1.4-1.4-2.1-3.2-2.1-5.5\tc0-2.3,0.3-4.9,0.8-7.7c0.5-2.9,1.3-6.4,2.2-10.6c0.9-4.2,1.6-7.5,2.1-10.1c-2.3,0.2-4,0.4-5.2,0.6c-0.1-0.8-0.2-1.8-0.2-3\tc0-1.3,0.1-2.3,0.3-3.1h5.9c0.5-3.4,0.8-6.6,0.8-9.6L6.8,16v-0.3c4.9-1.7,9.5-2.5,13.8-2.5c0.2,1.3,0.4,2.8,0.4,4.7\tc0,1.9-0.5,5.4-1.6,10.6H28.5z\"/>' +\r\n      '<path style=\"fill: #222;\" d=\"M29.6,69.1H29c-0.1-0.5-0.2-1.6-0.2-3.4c0-1.8,0.8-6.6,2.5-14.4c1.7-7.8,2.5-12.3,2.5-13.4\tc0-1.9-0.9-4.1-2.6-6.4l-0.8-1.1l0.1-1.2c3.4-0.9,8.8-1.4,16.2-1.4c0.8,1.6,1.1,3.9,1.1,6.8c0.7-1.1,2.1-2.6,4.3-4.5\tc2.2-1.9,4.4-2.8,6.8-2.8c3.4,0,5.1,2.9,5.1,8.8c-0.3,0.4-0.7,0.9-1.3,1.5c-0.5,0.6-1.6,1.4-3.2,2.5c-1.6,1.1-3.1,1.7-4.6,2\tc-0.1,0-0.6-0.8-1.6-2.5c-1-1.7-1.8-2.5-2.3-2.5c-1.6,0.6-2.9,1.5-4.1,2.8c-2.9,12.9-4.3,21.3-4.3,25.1c0,1.4,0,2.3,0.1,2.9\tC40.5,68.7,36.2,69.1,29.6,69.1z\"/>' +\r\n      '<path style=\"fill: #222;\" d=\"M62.7,61.8c0-2.7,0.8-7.2,2.4-13.7c1.6-6.5,2.4-10.4,2.4-11.9c0-1.5-1.1-3.4-3.4-5.9l0.1-1.2\tc4.3-0.9,9.9-1.3,16.8-1.3c0.3,0.8,0.5,2.3,0.5,4.4c0,2.1-0.9,6.7-2.6,13.6c-1.8,6.9-2.6,11.3-2.6,12.9s0.6,2.5,1.9,2.5\tc1.8,0,3.9-0.7,6.3-2c0.3-1.5,0.9-4.4,1.9-8.6c2.3-10,3.4-17.2,3.4-21.5c2.2-0.9,6.1-1.3,11.8-1.3h1.8c0,2.9-0.9,8.7-2.6,17.2\tc-1.8,8.5-2.6,13.5-2.6,15c0,1.5,0.3,2.2,0.9,2.2c0.4,0,2.2-0.8,5.3-2.3l1.8,3c-5.6,4.6-10.4,6.9-14.6,6.9c-2,0-3.7-0.6-5.1-1.7\tc-1.4-1.1-2.2-2.6-2.4-4.4c-5.1,4.1-9.7,6.2-13.8,6.2c-2.2,0-4-0.7-5.4-2.2C63.4,66.5,62.7,64.4,62.7,61.8z\"/>' +\r\n      '<path style=\"fill: #222;\" d=\"M153.2,63.1c-5.3,4.6-10,6.8-14,6.8c-4,0-6.4-2-7-6c-1.9,1.9-4,3.3-6.3,4.4c-2.3,1.1-4.3,1.6-6.1,1.6\tc-3,0-5.6-1.3-7.7-3.9c-2.1-2.6-3.2-6.7-3.2-12.2c0-8.3,1.8-14.7,5.3-19.5c3.5-4.7,7.5-7.1,11.9-7.1c4.4,0,8.1,1,11.1,3\tc1.9-10.1,2.9-18.1,2.9-23.9l-0.5-3.9c4.7-1.6,9.3-2.4,13.8-2.4c0.5,1.1,0.8,2.3,0.8,3.7c0,4.6-1.4,13.8-4.1,27.8\tc-2.8,14-4.1,23.5-4.1,28.5c0,1.5,0.3,2.3,1,2.3c0.4,0,1.6-0.6,3.6-1.8l0.9-0.6L153.2,63.1z M130.6,32.8c-2.2,0-4.1,2.2-5.7,6.5\tc-1.6,4.3-2.4,8.6-2.4,12.8c0,4.2,0.3,6.9,0.9,8.1c0.6,1.2,1.5,1.8,2.7,1.8c2.1,0,4.1-0.8,6.1-2.5c0.2-2.5,1.6-10.8,4.2-25\tC134.3,33.4,132.3,32.8,130.6,32.8z\"/>' +\r\n      '<path style=\"fill: #222;\" d=\"M155.5,52.6c0-7.8,2.4-14,7.1-18.5c4.7-4.5,10.1-6.8,16.1-6.8c3.7,0,6.7,0.9,9.1,2.7c2.4,1.8,3.6,4.2,3.6,7.3\tc0,3-0.8,5.6-2.3,7.6c-1.5,2.1-3.4,3.7-5.6,4.8c-4.4,2.2-8.5,3.6-12.2,4.1l-2.3,0.3c0.4,5.9,2.8,8.8,7.2,8.8c1.5,0,3.1-0.4,4.8-1.1\tc1.7-0.8,3-1.5,3.9-2.3l1.4-1.1l2.3,3c-0.5,0.7-1.5,1.6-3,2.7c-1.5,1.1-2.9,2.1-4.2,2.8c-3.6,2-7.6,3-11.9,3 c-4.3,0-7.7-1.5-10.2-4.6C156.7,62.3,155.5,58.1,155.5,52.6z M176.5,45.5c1.9-2.1,2.8-4.9,2.8-8.3c0-3.4-1-5.1-3-5.1\tc-2.4,0-4.2,2-5.5,6.1c-1.3,4-1.9,7.8-1.9,11.3C172.1,49,174.6,47.6,176.5,45.5z\"/>' +\r\n      '<path style=\"fill: #222;\" d=\"M223.2,56.6c0,3.9-1.7,7.2-5.2,9.7c-3.5,2.5-7.4,3.8-11.9,3.8c-4.4,0-8-0.9-10.6-2.8c-2.6-1.9-3.9-3.5-3.9-5\tc0-0.9,1.1-2.3,3.3-4.3c2.2-2,4-3.2,5.5-3.6c3.1,2.3,5.7,6,7.7,11c2.3-0.2,3.5-1.3,3.5-3.3c0-2.9-2.5-7-7.6-12.2\tc-5.1-5.3-7.6-9.5-7.6-12.6c0-3.1,1.4-5.5,4.2-7.3c2.8-1.7,6.2-2.6,10.2-2.6c4,0,7,0.7,9,2.1c2,1.4,3,3.3,3,5.7\tc0,2.4-1.9,5.7-5.7,10c0.4,0.4,1,1,1.7,1.7c0.7,0.7,1.6,2.1,2.7,4.1C222.6,52.9,223.2,54.8,223.2,56.6z M218.1,35.2\tc0-2.2-1.5-3.3-4.5-3.3c-1.4,0-2.6,0.3-3.6,0.9c-0.9,0.6-1.4,1.3-1.4,2c0,1.4,1.4,3.3,4.1,5.8l1.4,1.2\tC216.8,39.6,218.1,37.4,218.1,35.2z\"/>' +\r\n      '<path style=\"fill: #222;\" d=\"M238.1,6.9c0-2.1-0.2-3.5-0.6-4.4C242.4,0.8,247,0,251.3,0c0.6,0.6,0.8,2,0.8,4.3c0,5.2-1.7,15.1-5.2,29.8\tc5.6-4.6,11.1-6.8,16.5-6.8c2.4,0,4.5,0.8,6.2,2.3c1.7,1.5,2.5,3.7,2.5,6.6c0,5.4-4.4,9.3-13.2,11.7c2.1,6.5,3.9,10.9,5.4,13.2\tc0.7,1,1.2,1.5,1.5,1.5c0.7,0,2.1-0.5,4.3-1.6l1-0.5l1.5,3.2c-1.5,1.4-3.6,2.8-6.2,4.2c-2.7,1.4-5.1,2.1-7.3,2.1\tc-4.9,0-8.3-4.4-10.2-13.3c-0.9-3.8-1.4-7.4-1.6-10.7c4-0.9,7-2.1,9-3.4c2-1.3,3-3.1,3-5.2c0-2.1-1.1-3.1-3.2-3.1\tc-2.1,0-5.7,2.1-10.7,6.4c-3.1,13.2-4.7,22.2-4.7,27.1c-3.4,1-7.9,1.5-13.4,1.5c-0.1-1.1-0.1-2-0.1-2.8c0-2.7,1.8-11.9,5.4-27.6\tC236.3,23.1,238.1,12.5,238.1,6.9z\"/>' +\r\n      '<circle style=\"fill: #E74C3C;\" cx=\"284.9\" cy=\"64.7\" r=\"4\"/>' +\r\n      '</svg>' +\r\n      '</div>' +\r\n      \"Welcome to the trudesk tour! <br /> I'm going to guide you through the system and show you around a little. <br /><br />\" +\r\n      '<span style=\"font-style: italic;\">You may choose to skip the tour if you do not require it. Simply press the skip button below.</span>',\r\n    buttons: [\r\n      {\r\n        text: 'Lets Start',\r\n        action: tour.next\r\n      },\r\n      {\r\n        text: 'Skip',\r\n        classes: 'uk-float-left',\r\n        action: function () {\r\n          var username = window.trudeskSessionService.getUser().username\r\n          $.ajax({\r\n            url: '/api/v1/users/' + username + '/updatepreferences',\r\n            method: 'PUT',\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            data: JSON.stringify({\r\n              preference: 'tourCompleted',\r\n              value: true\r\n            }),\r\n            success: function () {\r\n              tour.cancel()\r\n            },\r\n            error: function (error) {\r\n              console.error(error)\r\n            }\r\n          })\r\n        }\r\n      }\r\n    ],\r\n    when: {\r\n      show: function () {\r\n        var overlay = $('#serverRestarting')\r\n        overlay.css('z-index', 999).removeClass('hide')\r\n        overlay.find('*').hide()\r\n      },\r\n      hide: function () {\r\n        var overlay = $('#serverRestarting')\r\n        overlay.animate({ opacity: 0 }, 500, function () {\r\n          overlay.css('z-index', 9999).addClass('hide')\r\n          overlay.find('*').show()\r\n        })\r\n      }\r\n    }\r\n  })\r\n\r\n  tour.addStep('dashboard', {\r\n    title: 'Dashboard',\r\n    text: 'This is your dashboard screen. It will show you stats at a glance.'\r\n  })\r\n\r\n  tour.addStep('topbar', {\r\n    title: 'Top Nav',\r\n    text: 'This is your top nav. It has quick links to frequently used functions and notifications.',\r\n    attachTo: '.top-nav bottom'\r\n  })\r\n\r\n  tour.addStep('addTicket', {\r\n    title: 'Quick Link - Add Ticket',\r\n    text:\r\n      '<strong> Add Ticket </strong> quick link will is the fastest way to submit and enter a ticket. Go ahead give it a push!',\r\n    attachTo: '.top-menu .tour-addTicket bottom',\r\n    buttons: [],\r\n    when: {\r\n      show: function () {\r\n        var $target = $('.tour-addTicket')\r\n        $target.on('click', advanceTourDelayed)\r\n        $('button.uk-modal-close').attr('disabled', true)\r\n        $('button#submitNewTicket').attr('disabled', true)\r\n      },\r\n      hide: function () {\r\n        setTimeout(function () {\r\n          var $target = $('.tour-addTicket')\r\n          $target.off('click', advanceTourDelayed)\r\n        }, 5000)\r\n      }\r\n    }\r\n  })\r\n\r\n  tour.addStep('addTicketForm', {\r\n    title: 'Add Ticket Form',\r\n    text:\r\n      \"The great ticket form. Use this to submit new request. Don't worry it's pretty simple. Remember, always try to be as detailed as possible.\",\r\n    attachTo: '#ticketCreateModal .uk-modal-dialog left',\r\n    when: {\r\n      hide: function () {\r\n        UIKit.modal($('#ticketCreateModal')).hide()\r\n      }\r\n    }\r\n  })\r\n\r\n  tour.addStep('messagesIcon', {\r\n    title: 'Messages Notification',\r\n    text: 'Here you will see your notification for chat messages sent by other users.',\r\n    attachTo: '.tour-messagesNotification bottom'\r\n  })\r\n\r\n  tour.addStep('ticketNotifications', {\r\n    title: 'Ticket Notifications',\r\n    text: \"This is where you'll get notification updates about tickets.\",\r\n    attachTo: '.tour-ticketNotifications bottom'\r\n  })\r\n\r\n  tour.addStep('onlineUserListButton', {\r\n    title: 'Chat - User List',\r\n    text: 'Push this to open the user list to quickly send a message to any user.',\r\n    attachTo: '.tour-onlineUserListButton bottom',\r\n    buttons: [],\r\n    // advanceOn: '.tour-onlineUserListButton click',\r\n    when: {\r\n      show: function () {\r\n        var $target = $('.tour-onlineUserListButton')\r\n        $target.on('click', function () {\r\n          setTimeout(function () {\r\n            tour.show('onlineUserList')\r\n          }, 300)\r\n        })\r\n      },\r\n      hide: function () {\r\n        var $target = $('.tour-onlineUserListButton')\r\n        $target.off('click')\r\n      }\r\n    }\r\n  })\r\n\r\n  tour.addStep('onlineUserList', {\r\n    title: 'Chat - User List',\r\n    text: 'There it is! Your user list. Lets move on!',\r\n    when: {\r\n      hide: function () {\r\n        // History.pushState(null, null, '/tickets');\r\n      }\r\n    }\r\n  })\r\n\r\n  // tour.addStep('profileButton', {\r\n  //     title: 'Profile',\r\n  //     text: 'Clicking your profile picture will open up your profile dropdown.',\r\n  //     attachTo: 'img#profileImage bottom'\r\n  // });\r\n\r\n  tour.addStep('sidebar_tickets', {\r\n    title: 'Tickets',\r\n    text: \"This is the core of trudesk. You'll find all your current and past tickets located here.\",\r\n    attachTo: '.navTickets right',\r\n    buttons: [],\r\n    when: {\r\n      show: function () {\r\n        UIKit.offcanvas.hide()\r\n        // $('#page-content').css({background: 'rgba(0,0,0,0.5)'});\r\n        $('#page-content').css({ opacity: 0.5 })\r\n        var $target = $('.navTickets')\r\n        $target.on('click', function () {\r\n          tour.next()\r\n        })\r\n      }\r\n    }\r\n  })\r\n\r\n  tour.addStep('tickets_page', {\r\n    title: 'Tickets',\r\n    text:\r\n      'Here you will find all new, open, or pending tickets. If any tickets are overdue they will flash red. <br /><br />' +\r\n      'Take a minute to review this screen and click next to proceed.'\r\n  })\r\n\r\n  tour.addStep('sidebar_messages', {\r\n    title: 'Messages',\r\n    text: 'This will take you to your messages. Messages are sent between users privately and securely.',\r\n    attachTo: '.navMessages right',\r\n    buttons: [],\r\n    when: {\r\n      show: function () {\r\n        var $target = $('.navMessages')\r\n        $target.on('click', function () {\r\n          setTimeout(function () {\r\n            tour.next()\r\n          }, 1000)\r\n        })\r\n      }\r\n    }\r\n  })\r\n\r\n  tour.addStep('message_list', {\r\n    title: 'Message List',\r\n    text:\r\n      'Here you will find your current active conversations. If there are no current conversation, you can start a conversation. We will view that next.',\r\n    attachTo: 'ul.message-items right'\r\n  })\r\n\r\n  tour.addStep('start_conversation', {\r\n    title: 'Start New Conversation',\r\n    text: 'Simply click the (+) sign to start a new conversation with a user.',\r\n    attachTo: '#convo-actions a right',\r\n    buttons: [],\r\n    when: {\r\n      show: function () {\r\n        var $target = $('#convo-actions a')\r\n        $target.on('click', function () {\r\n          tour.next()\r\n        })\r\n      }\r\n    }\r\n  })\r\n\r\n  tour.addStep('all_user_list', {\r\n    title: 'User List',\r\n    text:\r\n      'Here you will find the same list as before, the all user list. Clicking on a user will start the conversation.',\r\n    attachTo: '#new-convo-user-list right',\r\n    when: {\r\n      show: function () {\r\n        $('.all-user-list *').css({ 'pointer-events': 'none' })\r\n      }\r\n    }\r\n  })\r\n\r\n  tour.on('complete', function () {})\r\n\r\n  tour.init = function () {\r\n    tour.start()\r\n  }\r\n\r\n  function advanceTourDelayed () {\r\n    setTimeout(function () {\r\n      tour.next()\r\n    }, 300)\r\n  }\r\n\r\n  return tour\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/modules/tour.js?");

/***/ }),

/***/ "./src/public/js/modules/ui.js":
/*!*************************************!*\
  !*** ./src/public/js/modules/ui.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n      .                              .o8                     oooo\r\n   .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n   888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n   888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n   888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n   \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    02/10/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"),\r\n  __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"),\r\n  __webpack_require__(/*! uikit */ \"./src/public/js/vendor/uikit/js/uikit_combined.min.js\"),\r\n  __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"),\r\n  __webpack_require__(/*! modules/navigation */ \"./src/public/js/modules/navigation.js\"),\r\n  __webpack_require__(/*! modules/socket.io/noticeUI */ \"./src/public/js/modules/socket.io/noticeUI.js\"),\r\n  __webpack_require__(/*! modules/socket.io/ticketsUI */ \"./src/public/js/modules/socket.io/ticketsUI.js\"),\r\n  __webpack_require__(/*! modules/socket.io/logs.io */ \"./src/public/js/modules/socket.io/logs.io.js\"),\r\n  __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function ($, _, UIKit, helpers, nav, noticeUI, ticketsUI, logsIO) {\r\n  var socketUi = {}\r\n\r\n  var socket\r\n\r\n  socketUi.init = function (sock) {\r\n    // loggedInAccount = window.trudeskSessionService.getUser();\r\n    socketUi.socket = socket = sock\r\n\r\n    this.onReconnect()\r\n    this.onDisconnect()\r\n    this.updateUsers()\r\n    this.updateNotifications()\r\n    this.updateAllNotifications()\r\n    // this.updateMailNotifications();\r\n    this.updateConversationsNotifications()\r\n    this.updateComments()\r\n    this.updateUi()\r\n    this.updateTicketStatus()\r\n    this.updateAssigneeList()\r\n    this.updateAssignee()\r\n    this.updateTicketType()\r\n    this.updateTicketPriority()\r\n    this.updateTicketGroup()\r\n    this.updateTicketIssue()\r\n    this.updateTicketAttachments()\r\n    this.updateTicketTags()\r\n\r\n    // Events\r\n    this.onTicketCreated()\r\n    this.onTicketDelete()\r\n    this.onUpdateTicketGrid()\r\n    this.onProfileImageUpdate()\r\n\r\n    this.updateShowNotice(socket)\r\n    this.updateClearNotice(socket)\r\n    this.updateSubscribe(socket)\r\n\r\n    // Logs\r\n    this.updateServerLogs(socket)\r\n\r\n    // Backup / Restore\r\n    this.onShowRestoreOverlay()\r\n    this.onRestoreComplete()\r\n  }\r\n\r\n  socketUi.onShowRestoreOverlay = function () {\r\n    socket.removeAllListeners('$trudesk:restore:showOverlay')\r\n    socket.on('$trudesk:restore:showOverlay', function () {\r\n      $('#restoreBackupOverlay').removeClass('hide')\r\n    })\r\n  }\r\n\r\n  socketUi.emitShowRestoreOverlay = function () {\r\n    socket.emit('$trudesk:restore:showOverlay')\r\n  }\r\n\r\n  socketUi.onRestoreComplete = function () {\r\n    socket.removeAllListeners('$trudesk:restore:complete')\r\n    socket.on('$trudesk:restore:complete', function () {\r\n      location.reload()\r\n    })\r\n  }\r\n\r\n  socketUi.emitRestoreComplete = function () {\r\n    socket.emit('$trudesk:restore:complete')\r\n  }\r\n\r\n  socketUi.setShowNotice = function (notice) {\r\n    noticeUI.setShowNotice(socket, notice)\r\n  }\r\n\r\n  socketUi.setClearNotice = function () {\r\n    noticeUI.setClearNotice(socket)\r\n  }\r\n\r\n  socketUi.updateShowNotice = noticeUI.updateShowNotice\r\n  socketUi.updateClearNotice = noticeUI.updateClearNotice\r\n\r\n  socketUi.updateSubscribe = ticketsUI.updateSubscribe\r\n\r\n  socketUi.updateServerLogs = logsIO.getLogData\r\n  socketUi.fetchServerLogs = function () {\r\n    socket.emit('logs:fetch')\r\n  }\r\n\r\n  socketUi.onReconnect = function () {\r\n    socket.removeAllListeners('reconnect')\r\n    socket.on('reconnect', function () {\r\n      helpers.UI.hideDisconnectedOverlay()\r\n    })\r\n  }\r\n\r\n  socketUi.onDisconnect = function () {\r\n    socket.removeAllListeners('disconnect')\r\n    socket.on('disconnect', function () {\r\n      helpers.UI.showDisconnectedOverlay()\r\n    })\r\n\r\n    socket.removeAllListeners('reconnect_attempt')\r\n    socket.on('reconnect_attempt', function () {\r\n      helpers.UI.showDisconnectedOverlay()\r\n    })\r\n\r\n    socket.removeAllListeners('connect_timeout')\r\n    socket.on('connect_timeout', function () {\r\n      helpers.UI.showDisconnectedOverlay()\r\n    })\r\n  }\r\n\r\n  socketUi.sendUpdateTicketStatus = function (id, status) {\r\n    socket.emit('updateTicketStatus', { ticketId: id, status: status })\r\n  }\r\n\r\n  socketUi.clearAssignee = function (id) {\r\n    socket.emit('clearAssignee', id)\r\n  }\r\n\r\n  socketUi.updateConversationsNotifications = function () {\r\n    $(document).ready(function () {\r\n      var btnMailNotifications = $('#btn_mail-notifications')\r\n      btnMailNotifications.off('click', updateMailNotificationsClicked)\r\n      btnMailNotifications.on('click', updateMailNotificationsClicked)\r\n    })\r\n\r\n    socket.removeAllListeners('updateConversationsNotifications')\r\n    socket.on('updateConversationsNotifications', function (data) {\r\n      var label = $('#btn_mail-notifications').find('> span')\r\n      // TODO: Fixed this once unread messages is fully impl.\r\n      var count = 0 // Setting this to 0 to clear label until above is impl.\r\n      var items = data.conversations\r\n      if (count < 1) {\r\n        label.hide()\r\n      } else {\r\n        label.text(count)\r\n        label.removeClass('hide')\r\n        label.show()\r\n      }\r\n\r\n      var mailDropList = $('div.mail-Messages').find('ul')\r\n      mailDropList.empty()\r\n\r\n      var html = ''\r\n\r\n      _.each(items, function (item) {\r\n        if (item.partner !== undefined) {\r\n          html += '<li>'\r\n          html += '<a class=\"messageNotification\" href=\"/messages/' + item._id + '\" role=\"button\">'\r\n          html += '<div class=\"uk-clearfix\">'\r\n          if (item.partner.image) {\r\n            html +=\r\n              '<div class=\"profilePic left\"><img src=\"/uploads/users/' + item.partner.image + '\" alt=\"profile\"/></div>'\r\n          } else {\r\n            html += '<div class=\"profilePic left\"><img src=\"/uploads/users/defaultProfile.jpg\" alt=\"profile\"/></div>'\r\n          }\r\n          html += '<div class=\"messageAuthor\"><strong>' + item.partner.fullname + '</strong></div>'\r\n          html += '<div class=\"messageSnippet\">'\r\n          html += '<span>' + item.recentMessage + '</span>'\r\n          html += '</div>'\r\n          html += '<div class=\"messageDate\" style=\"position: absolute; top: 10px; right: 15px;\">'\r\n          html +=\r\n            '<time datetime=\"' +\r\n            helpers.formatDate(item.updatedAt, 'YYYY-MM-DDThh:mm') +\r\n            '\" class=\"timestamp\">' +\r\n            helpers.formatDate(item.updatedAt, 'MMM DD, YYYY') +\r\n            '</time>'\r\n          html += '</div>'\r\n          html += '</div>'\r\n          html += '</a>'\r\n          html += '</li>'\r\n        }\r\n      })\r\n\r\n      mailDropList.append(html)\r\n\r\n      var $body = $('body')\r\n\r\n      if (typeof $body.ajaxify === 'function') $body.ajaxify()\r\n    })\r\n  }\r\n\r\n  socketUi.updateTicketStatus = function () {\r\n    socket.removeAllListeners('updateTicketStatus')\r\n    socket.on('updateTicketStatus', function (payload) {\r\n      var ticketId = payload.tid\r\n      var status = payload.status\r\n      var statusSelectBox = $('#statusSelect')\r\n      if (statusSelectBox.length > 0) statusSelectBox.addClass('hide')\r\n\r\n      var tStatusBox = $('.floating-ticket-status[data-ticketId=\"' + ticketId + '\"] > .ticket-status')\r\n      if (tStatusBox.length > 0) {\r\n        tStatusBox.removeClass('ticket-new')\r\n        tStatusBox.removeClass('ticket-open')\r\n        tStatusBox.removeClass('ticket-pending')\r\n        tStatusBox.removeClass('ticket-closed')\r\n\r\n        var s = 'New'\r\n        var c = 'ticket-new'\r\n        switch (status) {\r\n          case 0:\r\n            s = 'New'\r\n            c = 'ticket-new'\r\n            break\r\n          case 1:\r\n            s = 'Open'\r\n            c = 'ticket-open'\r\n            break\r\n          case 2:\r\n            s = 'Pending'\r\n            c = 'ticket-pending'\r\n            break\r\n          case 3:\r\n            s = 'Closed'\r\n            c = 'ticket-closed'\r\n            break\r\n        }\r\n\r\n        tStatusBox.find('span').html(s)\r\n        tStatusBox.addClass(c)\r\n\r\n        var ticketReply = $('.ticket-reply')\r\n        var assigneeListBtn = $('.ticket-assignee > a')\r\n        var ticketTypeSelect = $('select#tType')\r\n        var ticketPriority = $('select#tPriority')\r\n        var ticketGroup = $('select#tGroup')\r\n        var ticketTags = $('div#editTags')\r\n\r\n        var addAttachments = $('form#attachmentForm > div.add-attachment')\r\n        var editIssue = $('div.initial-issue > div.edit-issue')\r\n        var commentActions = $('div.comment-actions')\r\n\r\n        if (status === 3) {\r\n          // Remove Comment Box\r\n          if (ticketReply.length > 0) {\r\n            ticketReply.addClass('hide')\r\n          }\r\n\r\n          // Setup assignee list on Closed\r\n          if (assigneeListBtn.length > 0) {\r\n            assigneeListBtn.removeAttr('data-notifications')\r\n            assigneeListBtn.removeAttr('data-updateUi')\r\n            nav.notifications()\r\n          }\r\n          // Disabled Ticket Details\r\n          if (ticketTypeSelect.length > 0) {\r\n            ticketTypeSelect.prop('disabled', true)\r\n          }\r\n\r\n          if (ticketPriority.length > 0) {\r\n            ticketPriority.prop('disabled', true)\r\n          }\r\n\r\n          if (ticketGroup.length > 0) {\r\n            ticketGroup.prop('disabled', true)\r\n          }\r\n\r\n          if (ticketTags.length > 0) {\r\n            ticketTags.addClass('hide')\r\n          }\r\n\r\n          if (addAttachments.length > 0) {\r\n            addAttachments.addClass('hide')\r\n          }\r\n\r\n          if (editIssue.length > 0) {\r\n            editIssue.addClass('hide')\r\n          }\r\n\r\n          if (commentActions.length > 0) {\r\n            commentActions.addClass('hide')\r\n          }\r\n        } else {\r\n          if (ticketReply.length > 0) {\r\n            ticketReply.removeClass('hide')\r\n          }\r\n\r\n          // Enable Ticket Details\r\n          if (ticketTypeSelect.length > 0) {\r\n            ticketTypeSelect.prop('disabled', false)\r\n          }\r\n\r\n          if (ticketPriority.length > 0) {\r\n            ticketPriority.prop('disabled', false)\r\n          }\r\n\r\n          if (ticketGroup.length > 0) {\r\n            ticketGroup.prop('disabled', false)\r\n          }\r\n\r\n          if (ticketTags.length > 0) {\r\n            ticketTags.removeClass('hide')\r\n          }\r\n\r\n          if (addAttachments.length > 0) {\r\n            addAttachments.removeClass('hide')\r\n          }\r\n\r\n          if (editIssue.length > 0) {\r\n            editIssue.removeClass('hide')\r\n          }\r\n\r\n          if (commentActions.length > 0) {\r\n            commentActions.removeClass('hide')\r\n          }\r\n\r\n          // Setup assignee list\r\n          if (assigneeListBtn.length > 0) {\r\n            assigneeListBtn.attr('data-notifications', 'assigneeDropdown')\r\n            assigneeListBtn.attr('data-updateui', 'assigneeList')\r\n            nav.notifications()\r\n            socketUi.updateUi()\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  socketUi.updateAssigneeList = function () {\r\n    socket.removeAllListeners('updateAssigneeList')\r\n    socket.on('updateAssigneeList', function (users) {\r\n      var wrapper = ''\r\n      _.each(users, function (user) {\r\n        var html = '<li data-setAssignee=\"' + user._id + '\">'\r\n        html += '<a class=\"messageNotification no-ajaxy\" role=\"button\">'\r\n        html += '<div class=\"uk-clearfix\">'\r\n        if (_.isUndefined(user.image)) {\r\n          html += '<div class=\"profilePic left\"><img src=\"/uploads/users/defaultProfile.jpg\" alt=\"profile\"/></div>'\r\n        } else {\r\n          html += '<div class=\"profilePic left\"><img src=\"/uploads/users/' + user.image + '\" alt=\"profile\"/></div>'\r\n        }\r\n\r\n        html += '<div class=\"messageAuthor\"><strong>' + user.fullname + '</strong></div>'\r\n        html += '<div class=\"messageSnippet\">'\r\n        html += '<span>' + user.email + '</span>'\r\n        html += '</div>'\r\n        html += '<div class=\"messageDate\">'\r\n        html += '<span>' + user.title + '</span>'\r\n        html += '</div>'\r\n        html += '</div>'\r\n        html += '</a>'\r\n        html += '</li>'\r\n\r\n        wrapper += html\r\n      })\r\n\r\n      var assigneeListDrop = $('#assigneeDropdown-content > ul')\r\n      $('#assigneeDropdown-content')\r\n        .addClass('uk-clearfix')\r\n        .css({\r\n          height: 'auto',\r\n          'max-height': '372px',\r\n          'overflow-y': 'auto',\r\n          'overflow-x': 'hidden'\r\n        })\r\n      if (assigneeListDrop.length > 0) {\r\n        assigneeListDrop.css({ height: '100%' })\r\n        assigneeListDrop.html(wrapper)\r\n\r\n        $.each(assigneeListDrop.find('li[data-setAssignee]'), function () {\r\n          var self = $(this)\r\n          var id = self.attr('data-setAssignee')\r\n          self.off('click', setAssigneeClicked)\r\n          self.on('click', { _id: id }, setAssigneeClicked)\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  function setAssigneeClicked (e) {\r\n    e.preventDefault()\r\n\r\n    var _id = e.data._id\r\n    var ticketId = $('#__ticketId').html()\r\n    var payload = {\r\n      _id: _id,\r\n      ticketId: ticketId\r\n    }\r\n\r\n    socket.emit('setAssignee', payload)\r\n    $('#assigneeDropdown').removeClass('pDropOpen')\r\n  }\r\n\r\n  socketUi.updateAssignee = function () {\r\n    socket.removeAllListeners('updateAssignee')\r\n    socket.on('updateAssignee', function (ticket) {\r\n      var assigneeContainer = $('.ticket-assignee[data-ticketId=\"' + ticket._id + '\"]')\r\n      if (assigneeContainer.length > 0) {\r\n        var image = _.isUndefined(ticket.assignee) ? 'defaultProfile.jpg' : ticket.assignee.image\r\n        if (_.isUndefined(image)) image = 'defaultProfile.jpg'\r\n        assigneeContainer.find('a > img').attr('src', '/uploads/users/' + image)\r\n        var $bubble = assigneeContainer.find('a > span[data-user-status-id]')\r\n        if ($bubble.length < 1 && ticket.assignee) {\r\n          $bubble = $('<span class=\"user-offline uk-border-circle\" data-user-status-id></span>')\r\n          assigneeContainer.find('a').append($bubble)\r\n          $bubble = assigneeContainer.find('a > span[data-user-status-id]')\r\n        }\r\n\r\n        if (ticket.assignee) {\r\n          $bubble.attr('data-user-status-id', ticket.assignee._id)\r\n          socket.emit('updateUsers')\r\n        } else {\r\n          if ($bubble.length > 0) {\r\n            $bubble.remove()\r\n          }\r\n        }\r\n        var details = assigneeContainer.find('.ticket-assignee-details')\r\n        if (details.length > 0) {\r\n          var name = _.isUndefined(ticket.assignee) ? 'No User Assigned' : ticket.assignee.fullname\r\n          details.find('h3').html(name)\r\n          var a = details.find('a.comment-email-link')\r\n          var email = _.isUndefined(ticket.assignee) ? '' : ticket.assignee.email\r\n          if (a.length > 0) {\r\n            a.attr('href', 'mailto:' + email).html(email)\r\n          } else {\r\n            a = $('<a></a>')\r\n              .attr('href', 'mailto:' + email)\r\n              .html(email)\r\n              .addClass('comment-email-link uk-text-truncate')\r\n            details.append(a)\r\n          }\r\n\r\n          var span = details.find('span')\r\n          var title = _.isUndefined(ticket.assignee) ? '' : ticket.assignee.title\r\n          if (span.length > 0) {\r\n            span.html(title)\r\n          } else {\r\n            span = $('<span></span>').html(title)\r\n            details.append(span)\r\n          }\r\n        }\r\n      }\r\n\r\n      socket.emit('$trudesk:chat:updateOnlineBubbles')\r\n    })\r\n  }\r\n\r\n  socketUi.setTicketType = function (ticketId, typeId) {\r\n    var payload = {\r\n      ticketId: ticketId,\r\n      typeId: typeId\r\n    }\r\n\r\n    socket.emit('setTicketType', payload)\r\n  }\r\n\r\n  socketUi.updateTicketType = function () {\r\n    socket.removeAllListeners('updateTicketType')\r\n    socket.on('updateTicketType', function (data) {\r\n      var typeSelect = $('select#tType[data-ticketId=\"' + data._id + '\"] option[value=\"' + data.type._id + '\"]')\r\n      if (typeSelect.length > 0) {\r\n        typeSelect.prop('selected', true)\r\n      } else {\r\n        typeSelect = $('div#tType[data-ticketId=\"' + data._id + '\"]')\r\n        if (typeSelect.length > 0) {\r\n          typeSelect.html(data.type.name)\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  socketUi.setTicketPriority = function (ticketId, priority) {\r\n    var payload = {\r\n      ticketId: ticketId,\r\n      priority: priority\r\n    }\r\n\r\n    socket.emit('setTicketPriority', payload)\r\n  }\r\n\r\n  socketUi.updateTicketPriority = function () {\r\n    socket.removeAllListeners('updateTicketPriority')\r\n    socket.on('updateTicketPriority', function (data) {\r\n      var prioritySelect = $(\r\n        'select#tPriority[data-ticketId=\"' + data._id + '\"] option[value=\"' + data.priority._id + '\"]'\r\n      )\r\n      if (prioritySelect.length > 0) {\r\n        prioritySelect.prop('selected', true)\r\n      }\r\n    })\r\n  }\r\n\r\n  socketUi.setTicketGroup = function (ticketId, group) {\r\n    var payload = {\r\n      ticketId: ticketId,\r\n      groupId: group._id\r\n    }\r\n\r\n    socket.emit('setTicketGroup', payload)\r\n  }\r\n\r\n  socketUi.updateTicketGroup = function () {\r\n    socket.removeAllListeners('updateTicketGroup')\r\n    socket.on('updateTicketGroup', function (data) {\r\n      var groupSelect = $('select#tGroup[data-ticketId=\"' + data._id + '\"] option[value=\"' + data.group._id + '\"]')\r\n      if (groupSelect.length > 0) {\r\n        groupSelect.prop('selected', true)\r\n      } else {\r\n        groupSelect = $('div#tGroup[data-ticketId=\"' + data._id + '\"]')\r\n        if (groupSelect.length > 0) {\r\n          groupSelect.html(data.group.name)\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  socketUi.setTicketIssue = function (ticketId, issue, subject) {\r\n    var payload = {\r\n      ticketId: ticketId,\r\n      issue: issue,\r\n      subject: subject\r\n    }\r\n\r\n    socket.emit('setTicketIssue', payload)\r\n  }\r\n\r\n  socketUi.updateTicketIssue = function () {\r\n    socket.removeAllListeners('updateTicketIssue')\r\n    socket.on('updateTicketIssue', function (data) {\r\n      var $initialIssue = $('.initial-issue[data-ticketid=\"' + data._id + '\"]')\r\n      var $subjectBody = $initialIssue.find('.subject-text')\r\n      var $issueBody = $initialIssue.find('div.issue-text').find('div.issue-body')\r\n\r\n      $subjectBody.html(data.subject)\r\n      $issueBody.html(data.issue)\r\n    })\r\n  }\r\n\r\n  socketUi.setCommentText = function (ticketId, commentId, commentText) {\r\n    var payload = {\r\n      ticketId: ticketId,\r\n      commentId: commentId,\r\n      commentText: commentText\r\n    }\r\n\r\n    socket.emit('setCommentText', payload)\r\n  }\r\n\r\n  socketUi.removeComment = function (ticketId, commentId) {\r\n    var payload = {\r\n      ticketId: ticketId,\r\n      commentId: commentId\r\n    }\r\n\r\n    socket.emit('removeComment', payload)\r\n  }\r\n\r\n  socketUi.setNoteText = function (ticketId, noteId, noteText) {\r\n    var payload = {\r\n      ticketId: ticketId,\r\n      noteId: noteId,\r\n      noteText: noteText\r\n    }\r\n\r\n    socket.emit('$trudesk:tickets:setNoteText', payload)\r\n  }\r\n\r\n  socketUi.removeNote = function (ticketId, noteId) {\r\n    var payload = {\r\n      ticketId: ticketId,\r\n      noteId: noteId\r\n    }\r\n\r\n    socket.emit('$trudesk:tickets:removeNote', payload)\r\n  }\r\n\r\n  socketUi.refreshTicketAttachments = function (ticketId) {\r\n    var payload = {\r\n      ticketId: ticketId\r\n    }\r\n\r\n    socket.emit('refreshTicketAttachments', payload)\r\n  }\r\n\r\n  socketUi.updateTicketAttachments = function () {\r\n    socket.removeAllListeners('updateTicketAttachments')\r\n    socket.on('updateTicketAttachments', function (data) {\r\n      // Rebuild ticket attachments on view\r\n      var ticket = data.ticket\r\n      var canRemoveAttachments = data.canRemoveAttachments\r\n\r\n      var $ul = $('ul.attachments[data-ticketid=\"' + ticket._id + '\"]')\r\n      if ($ul.length < 1) return true\r\n\r\n      $ul.empty()\r\n      _.each(ticket.attachments, function (attachment) {\r\n        var html = '<li><a href=\"' + attachment.path + '\" class=\"no-ajaxy\" target=\"_blank\">' + attachment.name + '</a>'\r\n        if (canRemoveAttachments) {\r\n          html +=\r\n            '<a href=\"#\" class=\"remove-attachment\" data-attachmentId=\"' +\r\n            attachment._id +\r\n            '\"><i class=\"fa fa-remove\"></i></a></li>'\r\n        }\r\n\r\n        $ul.append(html)\r\n      })\r\n\r\n      __webpack_require__.e(/*! AMD require */ 0).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(/*! pages/singleTicket */ \"./src/public/js/pages/singleTicket.js\")]; (function (st) {\r\n        st.init()\r\n      }).apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__);}).catch(__webpack_require__.oe)\r\n    })\r\n  }\r\n\r\n  socketUi.refreshTicketTags = function (ticketId) {\r\n    var payload = {\r\n      ticketId: ticketId\r\n    }\r\n\r\n    socket.emit('refreshTicketTags', payload)\r\n  }\r\n\r\n  socketUi.updateTicketTags = function () {\r\n    socket.removeAllListeners('updateTicketTags')\r\n    socket.on('updateTicketTags', function (data) {\r\n      // Rebuild Ticket Tags\r\n      var ticket = data.ticket\r\n      var tagsDiv = $('.tag-list[data-ticketId=\"' + ticket._id + '\"]')\r\n      if (tagsDiv.length < 1) return true\r\n\r\n      tagsDiv.html('')\r\n      var html = ''\r\n      if (_.isUndefined(ticket.tags) && _.size(ticket.tags) < 1) return true\r\n      _.each(ticket.tags, function (item) {\r\n        html +=\r\n          '<div class=\"__TAG_SELECTED hide\" style=\"display: none; opacity: 0; visibility: hidden;\">' +\r\n          item._id +\r\n          '</div>' +\r\n          '<div class=\"item\">' +\r\n          item.name +\r\n          '</div>'\r\n      })\r\n\r\n      tagsDiv.html(html)\r\n    })\r\n  }\r\n\r\n  socketUi.updateUi = function () {\r\n    $(document).ready(function () {\r\n      var $button = $('*[data-updateUi]')\r\n      $.each($button, function () {\r\n        var self = $(this)\r\n        var $action = self.attr('data-updateUi')\r\n        if ($action.toLowerCase() === 'online-users') {\r\n          self.off('click', updateUsersBtnClicked)\r\n          self.on('click', updateUsersBtnClicked)\r\n        } else if ($action.toLowerCase() === 'assigneelist') {\r\n          self.off('click', updateAssigneeList)\r\n          self.on('click', updateAssigneeList)\r\n        } else if ($action.toLowerCase() === 'notifications') {\r\n          self.off('click', updateNotificationsClicked)\r\n          self.on('click', updateNotificationsClicked)\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  function updateMailNotificationsClicked (e) {\r\n    socket.emit('updateMailNotifications')\r\n    e.preventDefault()\r\n  }\r\n\r\n  function updateUsersBtnClicked (e) {\r\n    socket.emit('updateUsers')\r\n    e.preventDefault()\r\n  }\r\n\r\n  socketUi.updateUsers = function () {\r\n    socket.emit('updateUsers')\r\n  }\r\n\r\n  function updateAssigneeList (e) {\r\n    socket.emit('updateAssigneeList')\r\n    e.preventDefault()\r\n  }\r\n\r\n  function updateNotificationsClicked (e) {\r\n    socket.emit('updateNotifications')\r\n    e.preventDefault()\r\n  }\r\n\r\n  socketUi.emitUpdateAllNotifications = function () {\r\n    socket.emit('updateAllNotifications')\r\n  }\r\n\r\n  socketUi.updateComments = function () {\r\n    socket.removeAllListeners('updateComments')\r\n    socket.on('updateComments', function (data) {\r\n      var ticket = data\r\n      var canViewNotes = helpers.canUser('notes:view')\r\n      _.each(ticket.comments, function (i) {\r\n        i.isComment = true\r\n      })\r\n\r\n      var combined = ticket.comments\r\n      var allCount = ticket.comments.length\r\n      if (canViewNotes) {\r\n        _.each(ticket.notes, function (i) {\r\n          i.isNote = true\r\n        })\r\n        combined = _.union(ticket.comments, ticket.notes)\r\n        allCount = ticket.comments.length + ticket.notes.length\r\n      } else {\r\n        $('#tab-internal-notes[data-ticketid=\"' + ticket._id + '\"]').addClass('hide')\r\n      }\r\n\r\n      ticket.commentsAndNotes = _.sortBy(combined, 'date')\r\n\r\n      var commentsNotesTab = $('.comments-notes-tab[data-ticketid=\"' + ticket._id + '\"]')\r\n\r\n      if (ticket.commentsAndNotes.length < 1) {\r\n        commentsNotesTab.addClass('hide')\r\n        return true\r\n      }\r\n\r\n      commentsNotesTab.removeClass('hide')\r\n\r\n      var allCommentsContainer = $('.all-comments[data-ticketId=\"' + ticket._id + '\"]')\r\n      var commentContainer = $('.comments[data-ticketId=\"' + ticket._id + '\"]')\r\n      var notesContainer = $('.notes[data-ticketId=\"' + ticket._id + '\"]')\r\n\r\n      // Update Comments Tab Badge\r\n\r\n      $('#tab-all-comments[data-ticketid=\"' + ticket._id + '\"]')\r\n        .find('span')\r\n        .html(allCount)\r\n      $('#tab-public-comments[data-ticketid=\"' + ticket._id + '\"]')\r\n        .find('span')\r\n        .html(ticket.comments.length)\r\n      $('#tab-internal-notes[data-ticketid=\"' + ticket._id + '\"]')\r\n        .find('span')\r\n        .html(ticket.notes.length)\r\n\r\n      var allCommentsHtml = ''\r\n\r\n      var commentsHtml = ''\r\n\r\n      var notesHtml = ''\r\n\r\n      // Build All Comments / Notes Section\r\n      _.each(ticket.commentsAndNotes, function (item) {\r\n        var image = item.owner.image\r\n        if (_.isUndefined(image)) image = 'defaultProfile.jpg'\r\n\r\n        if (item.isComment) {\r\n          // Comment\r\n          allCommentsHtml +=\r\n            '<div class=\"ticket-comment\" data-commentid=\"' +\r\n            item._id +\r\n            '\">' +\r\n            '<div class=\"ticket-comment-image relative uk-clearfix uk-float-left uk-display-inline-block\">' +\r\n            '<img class=\"profile-pic\" src=\"/uploads/users/' +\r\n            image +\r\n            '\" alt=\"\"/>' +\r\n            '<span class=\"uk-border-circle user-offline\" data-user-status-id=\"' +\r\n            item.owner._id +\r\n            '\"></span>' +\r\n            '</div>' +\r\n            '<div class=\"issue-text\">' +\r\n            '<h3>Re: ' +\r\n            ticket.subject +\r\n            '</h3>' +\r\n            '<a class=\"comment-email-link\" href=\"mailto:' +\r\n            item.owner.email +\r\n            '\">' +\r\n            item.owner.fullname +\r\n            ' &lt;' +\r\n            item.owner.email +\r\n            '&gt;</a>' +\r\n            '<br />' +\r\n            '<time datetime=\"' +\r\n            item.date +\r\n            '\" data-uk-tooltip=\"{delay: 250}\" title=\"' +\r\n            helpers.formatDate(item.date, helpers.getLongDateFormat() + ', ' + helpers.getTimeFormat()) +\r\n            '\">' +\r\n            helpers.getCalendarDate(item.date) +\r\n            '</time>' +\r\n            '<div class=\"comment-body\"><p>' +\r\n            item.comment +\r\n            '</p></div>' +\r\n            '</div>' +\r\n            '<div class=\"edit-comment-form uk-clearfix hide\" data-commentid=\"' +\r\n            item._id +\r\n            '\" style=\"margin-bottom: 15px;\">' +\r\n            '<form data-commentid=\"' +\r\n            item._id +\r\n            '\" data-abide>' +\r\n            '<div class=\"edit-comment-box\">' +\r\n            '<textarea name=\"commentText\" id=\"commentText\" cols=\"2\" rows=\"5\" data-clearOnSubmit=\"true\" class=\"md-input\" required data-validation=\"length\" data-validation-length=\"min5\" data-validation-error-msg=\"Please enter a valid comment. Comment must contain at least 5 characters.\"></textarea>' +\r\n            '</div>' +\r\n            '<div class=\"right\">' +\r\n            '<button class=\"uk-button resetForm\" type=\"reset\" style=\"margin-right: 5px;\">Cancel</button>' +\r\n            '<button class=\"uk-button\" type=\"submit\" data-preventDefault=\"false\">Save</button>' +\r\n            '</div>' +\r\n            '</form>' +\r\n            '</div>' +\r\n            '<div class=\"comment-actions\">'\r\n          if (helpers.canUser('comment:delete') || helpers.canUserEditSelf(item.owner._id, 'comment')) {\r\n            allCommentsHtml +=\r\n              '<div class=\"remove-comment\" data-commentId=\"' +\r\n              item._id +\r\n              '\"><i class=\"material-icons\">&#xE5CD;</i></div>'\r\n          }\r\n\r\n          if (helpers.canUser('comment:edit') || helpers.canUserEditSelf(item.owner._id, 'comment')) {\r\n            allCommentsHtml +=\r\n              '<div class=\"edit-comment\" data-commentId=\"' +\r\n              item._id +\r\n              \"\\\" ng-click=\\\"showEditWindow('comment', false, '\" +\r\n              item._id +\r\n              '\\');\"><i class=\"material-icons\">&#xE254;</i></div>'\r\n          }\r\n\r\n          allCommentsHtml += '</div>' + '</div>'\r\n        } else if (item.isNote) {\r\n          allCommentsHtml +=\r\n            '<div class=\"ticket-note\" data-noteid=\"' +\r\n            item._id +\r\n            '\">' +\r\n            '<div class=\"ticket-comment-image relative uk-clearfix uk-float-left uk-display-inline-block\">' +\r\n            '<img class=\"profile-pic\" src=\"/uploads/users/' +\r\n            image +\r\n            '\" alt=\"\"/>' +\r\n            '<span class=\"uk-border-circle user-offline\" data-user-status-id=\"' +\r\n            item.owner._id +\r\n            '\"></span>' +\r\n            '</div>' +\r\n            '<div class=\"issue-text\">' +\r\n            '<h3>Re: ' +\r\n            ticket.subject +\r\n            '</h3>' +\r\n            '<a class=\"comment-email-link\" href=\"mailto:' +\r\n            item.owner.email +\r\n            '\">' +\r\n            item.owner.fullname +\r\n            ' &lt;' +\r\n            item.owner.email +\r\n            '&gt;</a>' +\r\n            '<br />' +\r\n            '<time datetime=\"' +\r\n            item.date +\r\n            '\" data-uk-tooltip=\"{delay: 250}\" title=\"' +\r\n            helpers.formatDate(item.date, helpers.getLongDateFormat() + ', ' + helpers.getTimeFormat()) +\r\n            '\">' +\r\n            helpers.getCalendarDate(item.date) +\r\n            '</time>' +\r\n            '<br />' +\r\n            '<span class=\"uk-badge uk-badge-small nomargin-left-right text-white\">NOTE</span>' +\r\n            '<div class=\"comment-body\"><p>' +\r\n            item.note +\r\n            '</p></div>' +\r\n            '</div>' +\r\n            '<div class=\"edit-note-form uk-clearfix hide\" data-noteid=\"' +\r\n            item._id +\r\n            '\" style=\"margin-bottom: 15px;\">' +\r\n            '<form data-noteid=\"' +\r\n            item._id +\r\n            '\" data-abide>' +\r\n            '<div class=\"edit-comment-box\">' +\r\n            '<textarea name=\"noteText\" id=\"noteText\" cols=\"2\" rows=\"5\" data-clearOnSubmit=\"true\" class=\"md-input\" required data-validation=\"length\" data-validation-length=\"min5\" data-validation-error-msg=\"Please enter a valid note. A note must contain at least 5 characters.\"></textarea>' +\r\n            '</div>' +\r\n            '<div class=\"right\">' +\r\n            '<button class=\"uk-button resetForm\" type=\"reset\" style=\"margin-right: 5px;\">Cancel</button>' +\r\n            '<button class=\"uk-button\" type=\"submit\" data-preventDefault=\"false\">Save</button>' +\r\n            '</div>' +\r\n            '</form>' +\r\n            '</div>' +\r\n            '<div class=\"comment-actions\">'\r\n          if (helpers.canUser('note:delete') || helpers.canUserEditSelf(item.owner._id, 'note')) {\r\n            allCommentsHtml +=\r\n              '<div class=\"remove-note\" data-noteid=\"' + item._id + '\"><i class=\"material-icons\">&#xE5CD;</i></div>'\r\n          }\r\n\r\n          if (helpers.canUser('note:edit') || helpers.canUserEditSelf(item.owner._id, 'note')) {\r\n            allCommentsHtml +=\r\n              '<div class=\"edit-note\" data-noteid=\"' +\r\n              item._id +\r\n              \"\\\" ng-click=\\\"showEditWindow('note', false, '\" +\r\n              item._id +\r\n              '\\');\"><i class=\"material-icons\">&#xE254;</i></div>'\r\n          }\r\n\r\n          allCommentsHtml += '</div>' + '</div>'\r\n        }\r\n      })\r\n\r\n      _.each(ticket.comments, function (comment) {\r\n        var image = comment.owner.image\r\n        if (_.isUndefined(image)) image = 'defaultProfile.jpg'\r\n\r\n        commentsHtml +=\r\n          '<div class=\"ticket-comment\" data-commentid=\"' +\r\n          comment._id +\r\n          '\">' +\r\n          '<div class=\"ticket-comment-image relative uk-clearfix uk-float-left uk-display-inline-block\">' +\r\n          '<img class=\"profile-pic\" src=\"/uploads/users/' +\r\n          image +\r\n          '\" alt=\"\"/>' +\r\n          '<span class=\"uk-border-circle user-offline\" data-user-status-id=\"' +\r\n          comment.owner._id +\r\n          '\"></span>' +\r\n          '</div>' +\r\n          '<div class=\"issue-text\">' +\r\n          '<h3>Re: ' +\r\n          ticket.subject +\r\n          '</h3>' +\r\n          '<a class=\"comment-email-link\" href=\"mailto:' +\r\n          comment.owner.email +\r\n          '\">' +\r\n          comment.owner.fullname +\r\n          ' &lt;' +\r\n          comment.owner.email +\r\n          '&gt;</a>' +\r\n          '<br />' +\r\n          '<time datetime=\"' +\r\n          comment.date +\r\n          '\" data-uk-tooltip=\"{delay: 250}\" title=\"' +\r\n          helpers.formatDate(comment.date, helpers.getLongDateFormat() + ', ' + helpers.getTimeFormat()) +\r\n          '\">' +\r\n          helpers.getCalendarDate(comment.date) +\r\n          '</time>' +\r\n          '<div class=\"comment-body\"><p>' +\r\n          comment.comment +\r\n          '</p></div>' +\r\n          '</div>' +\r\n          '<div class=\"edit-comment-form uk-clearfix hide\" data-commentid=\"' +\r\n          comment._id +\r\n          '\" style=\"margin-bottom: 15px;\">' +\r\n          '<form data-commentid=\"' +\r\n          comment._id +\r\n          '\" data-abide>' +\r\n          '<div class=\"edit-comment-box\">' +\r\n          '<textarea name=\"commentText\" id=\"commentText\" cols=\"2\" rows=\"5\" data-clearOnSubmit=\"true\" class=\"md-input\" required data-validation=\"length\" data-validation-length=\"min5\" data-validation-error-msg=\"Please enter a valid comment. Comment must contain at least 5 characters.\"></textarea>' +\r\n          '</div>' +\r\n          '<div class=\"right\">' +\r\n          '<button class=\"uk-button resetForm\" type=\"reset\" style=\"margin-right: 5px;\">Cancel</button>' +\r\n          '<button class=\"uk-button\" type=\"submit\" data-preventDefault=\"false\">Save</button>' +\r\n          '</div>' +\r\n          '</form>' +\r\n          '</div>' +\r\n          '<div class=\"comment-actions\">'\r\n        if (helpers.canUser('comment:delete') || helpers.canUserEditSelf(comment.owner._id, 'comment')) {\r\n          commentsHtml +=\r\n            '<div class=\"remove-comment\" data-commentId=\"' +\r\n            comment._id +\r\n            '\"><i class=\"material-icons\">&#xE5CD;</i></div>'\r\n        }\r\n\r\n        if (helpers.canUser('comment:edit') || helpers.canUserEditSelf(comment.owner._id, 'comment')) {\r\n          commentsHtml +=\r\n            '<div class=\"edit-comment\" data-commentId=\"' +\r\n            comment._id +\r\n            \"\\\" ng-click=\\\"showEditWindow('comment', false, '\" +\r\n            comment._id.toString() +\r\n            '\\');\"><i class=\"material-icons\">&#xE254;</i></div>'\r\n        }\r\n\r\n        commentsHtml += '</div>' + '</div>'\r\n      })\r\n\r\n      _.each(ticket.notes, function (note) {\r\n        var image = note.owner.image\r\n        if (_.isUndefined(image)) image = 'defaultProfile.jpg'\r\n\r\n        notesHtml +=\r\n          '<div class=\"ticket-note\" data-noteid=\"' +\r\n          note._id +\r\n          '\">' +\r\n          '<div class=\"ticket-comment-image relative uk-clearfix uk-float-left uk-display-inline-block\">' +\r\n          '<img class=\"profile-pic\" src=\"/uploads/users/' +\r\n          image +\r\n          '\" alt=\"\"/>' +\r\n          '<span class=\"uk-border-circle user-offline\" data-user-status-id=\"' +\r\n          note.owner._id +\r\n          '\"></span>' +\r\n          '</div>' +\r\n          '<div class=\"issue-text\">' +\r\n          '<h3>Re: ' +\r\n          ticket.subject +\r\n          '</h3>' +\r\n          '<a class=\"comment-email-link\" href=\"mailto:' +\r\n          note.owner.email +\r\n          '\">' +\r\n          note.owner.fullname +\r\n          ' &lt;' +\r\n          note.owner.email +\r\n          '&gt;</a>' +\r\n          '<br />' +\r\n          '<time datetime=\"' +\r\n          note.date +\r\n          '\" data-uk-tooltip=\"{delay: 250}\" title=\"' +\r\n          helpers.formatDate(note.date, helpers.getLongDateFormat() + ', ' + helpers.getTimeFormat()) +\r\n          '\">' +\r\n          helpers.getCalendarDate(note.date) +\r\n          '</time>' +\r\n          '<br />' +\r\n          '<span class=\"uk-badge uk-badge-small nomargin-left-right text-white\">NOTE</span>' +\r\n          '<div class=\"comment-body\"><p>' +\r\n          note.note +\r\n          '</p></div>' +\r\n          '</div>' +\r\n          '<div class=\"edit-note-form uk-clearfix hide\" data-noteid=\"' +\r\n          note._id +\r\n          '\" style=\"margin-bottom: 15px;\">' +\r\n          '<form data-noteid=\"' +\r\n          note._id +\r\n          '\" data-abide>' +\r\n          '<div class=\"edit-comment-box\">' +\r\n          '<textarea name=\"noteText\" id=\"noteText\" cols=\"2\" rows=\"5\" data-clearOnSubmit=\"true\" class=\"md-input\" required data-validation=\"length\" data-validation-length=\"min5\" data-validation-error-msg=\"Please enter a valid note. A note must contain at least 5 characters.\"></textarea>' +\r\n          '</div>' +\r\n          '<div class=\"right\">' +\r\n          '<button class=\"uk-button resetForm\" type=\"reset\" style=\"margin-right: 5px;\">Cancel</button>' +\r\n          '<button class=\"uk-button\" type=\"submit\" data-preventDefault=\"false\">Save</button>' +\r\n          '</div>' +\r\n          '</form>' +\r\n          '</div>' +\r\n          '<div class=\"comment-actions\">'\r\n        if (helpers.canUser('note:delete') || helpers.canUserEditSelf(note.owner._id, 'note')) {\r\n          notesHtml +=\r\n            '<div class=\"remove-note\" data-noteid=\"' + note._id + '\"><i class=\"material-icons\">&#xE5CD;</i></div>'\r\n        }\r\n\r\n        if (helpers.canUser('note:edit') || helpers.canUserEditSelf(note.owner._id, 'note')) {\r\n          notesHtml +=\r\n            '<div class=\"edit-note\" data-noteid=\"' +\r\n            note._id +\r\n            \"\\\" ng-click=\\\"showEditWindow('note', false, '\" +\r\n            note._id +\r\n            '\\');\"><i class=\"material-icons\">&#xE254;</i></div>'\r\n        }\r\n\r\n        notesHtml += '</div>' + '</div>'\r\n      })\r\n\r\n      // allCommentsContainer.html(allCommentsHtml)\r\n      // Inject Angular to new links\r\n      var $injector = angular.injector(['ng', 'trudesk'])\r\n      $injector.invoke([\r\n        '$compile',\r\n        '$rootScope',\r\n        function ($compile, $rootScope) {\r\n          var $scope = allCommentsContainer.html(allCommentsHtml).scope()\r\n          $compile(allCommentsContainer)($scope || $rootScope)\r\n          $rootScope.$digest()\r\n        }\r\n      ])\r\n\r\n      // commentContainer.html(commentsHtml)\r\n\r\n      // Inject Angular to new links\r\n      $injector = angular.injector(['ng', 'trudesk'])\r\n      $injector.invoke([\r\n        '$compile',\r\n        '$rootScope',\r\n        function ($compile, $rootScope) {\r\n          var $scope = commentContainer.html(commentsHtml).scope()\r\n          $compile(commentContainer)($scope || $rootScope)\r\n          $rootScope.$digest()\r\n        }\r\n      ])\r\n\r\n      if (canViewNotes) {\r\n        // notesContainer.html(notesHtml)\r\n\r\n        // Inject Angular to new links\r\n        $injector = angular.injector(['ng', 'trudesk'])\r\n        $injector.invoke([\r\n          '$compile',\r\n          '$rootScope',\r\n          function ($compile, $rootScope) {\r\n            var $scope = notesContainer.html(notesHtml).scope()\r\n            $compile(notesContainer)($scope || $rootScope)\r\n            $rootScope.$digest()\r\n          }\r\n        ])\r\n      }\r\n      helpers.resizeAll()\r\n\r\n      __webpack_require__.e(/*! AMD require */ 0).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(/*! pages/singleTicket */ \"./src/public/js/pages/singleTicket.js\")]; (function (st) {\r\n        st.init()\r\n      }).apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__);}).catch(__webpack_require__.oe)\r\n    })\r\n  }\r\n\r\n  socketUi.clearNotifications = function () {\r\n    socket.emit('clearNotifications')\r\n\r\n    helpers.hideAllpDropDowns()\r\n  }\r\n\r\n  socketUi.markNotificationRead = function (_id) {\r\n    socket.emit('markNotificationRead', _id)\r\n\r\n    helpers.hideAllpDropDowns()\r\n  }\r\n\r\n  socketUi.updateNotifications = function () {\r\n    socket.removeAllListeners('updateNotifications')\r\n    socket.on('updateNotifications', function (data) {\r\n      var $notifications = $('#notifications-Messages').find('ul')\r\n      if ($notifications.length < 1) return\r\n\r\n      $notifications.html('')\r\n      // Build Notifications\r\n      _.each(data.items, function (item) {\r\n        var html = ''\r\n        html +=\r\n          '<li>' +\r\n          '<a class=\"messageNotification\" href=\"/tickets/' +\r\n          item.data.ticket.uid +\r\n          '\" role=\"button\" data-notificationId=\"' +\r\n          item._id +\r\n          '\" >' +\r\n          '<div class=\"uk-clearfix\">'\r\n        if (item.unread === true) {\r\n          html += '<div class=\"messageUnread\"></div>'\r\n        }\r\n\r\n        switch (item.type) {\r\n          case 0:\r\n            html += '<div class=\"messageIcon left\"><i class=\"fa fa-check green\"></i></div>'\r\n            break\r\n          case 1:\r\n            html += '<div class=\"messageIcon left\"><i class=\"fa fa-comment-o green\" style=\"margin-top: -5px\"></i></div>'\r\n            break\r\n          case 2:\r\n            html += '<div class=\"messageIcon left\"><i class=\"fa fa-exclamation red\"></i></div>'\r\n            break\r\n        }\r\n\r\n        html +=\r\n          '<div class=\"messageAuthor\"><strong>' +\r\n          item.title +\r\n          '</strong></div>' +\r\n          '<div class=\"messageSnippet\">' +\r\n          '<span>' +\r\n          item.message +\r\n          '</span>' +\r\n          '</div>' +\r\n          '<div class=\"messageDate\">' +\r\n          '<time datetime=\"' +\r\n          helpers.formatDate(item.created, 'YYYY-MM-DDThh:mm') +\r\n          '\" class=\"timestamp\">' +\r\n          helpers.formatDate(item.created, 'MMM DD, YYYY') +\r\n          '</time>' +\r\n          '</div>' +\r\n          '</div>' +\r\n          '</a>' +\r\n          '</li>'\r\n\r\n        $notifications.append(html)\r\n\r\n        var $nLinks = $('#notifications-Messages').find('a[data-notificationId]')\r\n        $.each($nLinks, function (k, val) {\r\n          var item = $(val)\r\n          item.off('click')\r\n          item.on('click', function (e) {\r\n            e.preventDefault()\r\n            e.stopPropagation()\r\n            var $id = $(e.currentTarget).attr('data-notificationId')\r\n            var $href = $(e.currentTarget).attr('href')\r\n            if ($id.length < 1) return\r\n\r\n            socketUi.markNotificationRead($id)\r\n\r\n            History.pushState(null, null, $href)\r\n          })\r\n        })\r\n      })\r\n\r\n      var $notificationsCount = $('#btn_notifications').find('span')\r\n      var $bottomActions = $('#notifications').find('.bottom-actions')\r\n      if ($notificationsCount.length > 0) {\r\n        if (data.count === 0) {\r\n          $notificationsCount.html('0')\r\n          $notificationsCount.addClass('hide')\r\n          $bottomActions.addClass('hide')\r\n        } else {\r\n          $notificationsCount.removeClass('hide')\r\n          $notificationsCount.html(data.count)\r\n          $bottomActions.removeClass('hide')\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  socketUi.updateAllNotifications = function () {\r\n    socket.removeAllListeners('updateAllNotifications')\r\n    socket.on('updateAllNotifications', function (data) {\r\n      // All Notifications\r\n      var $notificationsTable = $('table.notificationsTable')\r\n      var $tbody = $notificationsTable.find('tbody')\r\n      $tbody.html('')\r\n      _.each(data.items, function (item) {\r\n        if (!item.data && item.data.ticket) return\r\n        var html = ''\r\n        html +=\r\n          '<tr class=\"notification-row ' +\r\n          (item.unread ? 'unread' : '') +\r\n          '\" data-notificationid=\"' +\r\n          item._id +\r\n          '\" data-ticket-uid=\"' +\r\n          item.data.ticket.uid +\r\n          '\" ng-click=\"notificationClick($event)\">'\r\n        html += '<td class=\"type\">'\r\n        html += '<i class=\"fa fa-2x fa-check\"></i>'\r\n        html += '</td>'\r\n        html += '<td class=\"title\">'\r\n        html += '<p>' + item.title + '</p>'\r\n        html += '<div class=\"body\">'\r\n        html += item.message\r\n        html += '</div>'\r\n        html += '</td>'\r\n        html += '<td class=\"date\">'\r\n        html +=\r\n          '<time datetime=\"' +\r\n          helpers.formatDate(item.created, 'YYYY-MM-DDThh:mm') +\r\n          '\">' +\r\n          helpers.formatDate(item.created, 'MMM DD, YYYY') +\r\n          '</time>'\r\n        html += '</td>'\r\n        html += '</tr>'\r\n\r\n        $tbody.append(html)\r\n\r\n        var $nRows = $tbody.find('.notification-row')\r\n        $.each($nRows, function (k, val) {\r\n          var $item = $(val)\r\n          $item.off('click')\r\n          $item.on('click', function (e) {\r\n            e.preventDefault()\r\n            e.stopPropagation()\r\n            var $id = $(e.currentTarget).attr('data-notificationId')\r\n            var $uid = $(e.currentTarget).attr('data-ticket-uid')\r\n            socketUi.markNotificationRead($id)\r\n            helpers.closeNotificationsWindow()\r\n            History.pushState(null, null, '/tickets/' + $uid)\r\n          })\r\n        })\r\n      })\r\n    })\r\n  }\r\n\r\n  socketUi.onTicketCreated = function () {\r\n    socket.removeAllListeners('ticket:created')\r\n    socket.on('ticket:created', function () {\r\n      socket.emit('updateNotifications')\r\n      var audio = $('audio#newticketaudio')\r\n      if (audio.length > 0) audio.trigger('play')\r\n      $('a#refreshTicketGrid').trigger('click')\r\n    })\r\n  }\r\n\r\n  socketUi.onTicketDelete = function () {\r\n    socket.removeAllListeners('ticket:delete')\r\n    socket.on('ticket:delete', function () {\r\n      var refreshEnabled = $('input#refreshSwitch:checked')\r\n      if (refreshEnabled.length > 0) {\r\n        $('a#refreshTicketGrid').trigger('click')\r\n      }\r\n    })\r\n  }\r\n\r\n  socketUi.onUpdateTicketGrid = function () {\r\n    socket.removeAllListeners('ticket:updategrid')\r\n    socket.on('ticket:updategrid', function () {\r\n      var refreshEnabled = $('input#refreshSwitch:checked')\r\n      if (refreshEnabled.length > 0) {\r\n        $('a#refreshTicketGrid').trigger('click')\r\n      }\r\n    })\r\n  }\r\n\r\n  socketUi.onProfileImageUpdate = function () {\r\n    socket.removeAllListeners('trudesk:profileImageUpdate')\r\n    socket.on('trudesk:profileImageUpdate', function (data) {\r\n      var profileImage = $('#profileImage[data-userid=\"' + data.userid + '\"]')\r\n      if (profileImage.length > 0) {\r\n        profileImage.attr('src', '/uploads/users/' + data.img + '?r=' + new Date().getTime())\r\n      }\r\n    })\r\n  }\r\n\r\n  return socketUi\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/modules/ui.js?");

/***/ }),

/***/ "./src/public/js/pages/accounts.js":
/*!*****************************************!*\
  !*** ./src/public/js/pages/accounts.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n      .                              .o8                     oooo\r\n   .o8                             \"888                     `888\r\n .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n   888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n   888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n   888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n   \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n ========================================================================\r\n Created:    02/10/2015\r\n Author:     Chris Brame\r\n\r\n **/\r\n\r\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n  __webpack_require__(/*! underscore */ \"./src/public/js/vendor/underscore/underscore.js\"),\r\n  __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"),\r\n  __webpack_require__(/*! angular */ \"./src/public/js/vendor/angular/angular.min.js\"),\r\n  __webpack_require__(/*! modules/helpers */ \"./src/public/js/modules/helpers.js\"),\r\n  __webpack_require__(/*! uikit */ \"./src/public/js/vendor/uikit/js/uikit_combined.min.js\"),\r\n  __webpack_require__(/*! modules/socket */ \"./src/public/js/modules/socket.js\"),\r\n  __webpack_require__(/*! isinview */ \"./src/public/js/plugins/jquery.isinview.js\"),\r\n  __webpack_require__(/*! datatables */ \"./src/public/js/vendor/datatables/jquery.dataTables.js\"),\r\n  __webpack_require__(/*! dt_responsive */ \"./src/public/js/vendor/datatables/dataTables.responsive.js\"),\r\n  __webpack_require__(/*! dt_grouping */ \"./src/public/js/vendor/datatables/dataTables.grouping.js\"),\r\n  // 'dt_foundation',\r\n  __webpack_require__(/*! dt_scroller */ \"./src/public/js/vendor/datatables/dataTables.scroller.js\"),\r\n  __webpack_require__(/*! history */ \"./src/public/js/vendor/history/jquery.history.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, $, angular, helpers, UIkit, socket) {\r\n  'use strict'\r\n  var accountsPage = {}\r\n\r\n  String.prototype.capitalizeFirstLetter = function () {\r\n    return this.charAt(0).toUpperCase() + this.slice(1)\r\n  }\r\n\r\n  accountsPage.init = function (callback, reset) {\r\n    $(document).ready(function () {\r\n      var $accountList = $('#account_list')\r\n\r\n      var $scroller = $accountList.parents('.scrollable')\r\n\r\n      var $scrollspy = $('#scrollspy')\r\n\r\n      var $spinner = $scrollspy.find('i')\r\n\r\n      var $filterAll = $('.filter-all')\r\n\r\n      var $nextPage = 1\r\n\r\n      var $enabled = true\r\n\r\n      var $loading = false\r\n\r\n      if (reset) {\r\n        $nextPage = 0\r\n        getAccounts()\r\n      }\r\n\r\n      UIkit.grid($accountList, {\r\n        controls: '#account_list_filter',\r\n        gutter: 20\r\n      })\r\n\r\n      $scroller.scroll(function () {\r\n        if ($scrollspy.isInView($scroller)) {\r\n          var run = _.throttle(getAccounts, 500)\r\n          run()\r\n        }\r\n      })\r\n\r\n      $('#account_list_filter li a').on('click', function () {\r\n        $('#account_list_search').val('')\r\n        $('.tru-card[data-search-result]').remove()\r\n        setTimeout(function () {\r\n          helpers.resizeAll()\r\n        }, 280)\r\n      })\r\n\r\n      $('#account_list_search').keyup(function (e) {\r\n        e.preventDefault()\r\n        var key = e.keyCode || e.which\r\n\r\n        var sValue = $(this)\r\n          .val()\r\n          .toLowerCase()\r\n\r\n        if (key === 13) {\r\n          if (sValue.length < 3) {\r\n            $('#account_list_filter li.uk-active a').trigger('click')\r\n            return true\r\n          }\r\n\r\n          $.ajax({\r\n            url: '/api/v1/users?search=' + sValue,\r\n            success: function (data) {\r\n              $accountList.children().css('display', 'none')\r\n              var users = data.users\r\n              var html = ''\r\n              _.each(users, function (u) {\r\n                html += buildUserHTML(u, true)\r\n              })\r\n\r\n              var $injector = angular.injector(['ng', 'trudesk'])\r\n              $injector.invoke([\r\n                '$compile',\r\n                '$rootScope',\r\n                function ($compile, $rootScope) {\r\n                  var $scope = $accountList.append(html).scope()\r\n                  $compile($accountList)($scope || $rootScope)\r\n                  $rootScope.$digest()\r\n                }\r\n              ])\r\n\r\n              $('.s-ajaxify').on('click', function (e) {\r\n                e.preventDefault()\r\n                var href = $(e.target).attr('href')\r\n\r\n                History.pushState(null, null, href)\r\n              })\r\n\r\n              UIkit.$html.trigger('changed.uk.dom')\r\n              helpers.resizeAll()\r\n\r\n              socket.ui.updateUsers()\r\n            },\r\n            error: function (error) {\r\n              console.log('[trudesk:accountsPage:setupGrid] - Error: ' + error.error)\r\n            }\r\n          })\r\n        }\r\n\r\n        return false\r\n      })\r\n\r\n      function getAccounts () {\r\n        if (!$enabled || $loading) {\r\n          return false\r\n        }\r\n\r\n        if (!$filterAll.hasClass('uk-active')) return true\r\n\r\n        $loading = true\r\n        $spinner.removeClass('uk-hidden')\r\n\r\n        $.ajax({\r\n          url: '/api/v1/users?limit=20&page=' + $nextPage\r\n        })\r\n          .done(function (data) {\r\n            $spinner.addClass('uk-hidden')\r\n            var users = data.users\r\n            if (_.size(users) < 1) {\r\n              $enabled = false\r\n              $loading = false\r\n              return false\r\n            }\r\n\r\n            var html = ''\r\n\r\n            _.each(users, function (u) {\r\n              var h = null\r\n              if (reset) {\r\n                $accountList.html('')\r\n                h = buildUserHTML(u, true)\r\n                reset = false\r\n              } else {\r\n                h = buildUserHTML(u, false)\r\n              }\r\n\r\n              if (h.length > 0) html += h\r\n            })\r\n\r\n            var $injector = angular.injector(['ng', 'trudesk'])\r\n            $injector.invoke([\r\n              '$compile',\r\n              '$rootScope',\r\n              function ($compile, $rootScope) {\r\n                var $scope = $accountList.append(html).scope()\r\n                $compile($accountList)($scope || $rootScope)\r\n                $rootScope.$digest()\r\n              }\r\n            ])\r\n\r\n            UIkit.$html.trigger('changed.uk.dom')\r\n            helpers.resizeAll()\r\n\r\n            $('.s-ajaxify').on('click', function (e) {\r\n              e.preventDefault()\r\n              var href = $(e.target).attr('href')\r\n\r\n              History.pushState(null, null, href)\r\n            })\r\n\r\n            $nextPage = $nextPage + 1\r\n            $loading = false\r\n\r\n            socket.ui.updateUsers()\r\n          })\r\n          .fail(function (err) {\r\n            console.log('[trudesk:accountsPage:setupGrid] - Error: ' + err.error)\r\n            $loading = false\r\n          })\r\n      }\r\n\r\n      if (typeof callback === 'function') {\r\n        return callback()\r\n      }\r\n    })\r\n  }\r\n\r\n  function buildUserHTML (user, addRemove) {\r\n    if (!addRemove) {\r\n      var $card = $('[data-card-username=\"' + user.username + '\"]')\r\n      if ($card.length > 0) return ''\r\n    }\r\n\r\n    var html = '<div data-uk-filter=\"' + user.role + ',' + user.fullname + '\">'\r\n    if (addRemove) {\r\n      html += '<div class=\"tru-card tru-card-hover\" data-card-username=\"' + user.username + '\" data-search-result>'\r\n    } else {\r\n      html += '<div class=\"tru-card tru-card-hover\" data-card-username=\"' + user.username + '\">'\r\n    }\r\n\r\n    if (user.role === 'admin') {\r\n      html += '<div class=\"tru-card-head tru-card-head-admin\">'\r\n    } else {\r\n      html += '<div class=\"tru-card-head ' + (user.deleted ? 'tru-card-head-deleted' : '') + '\">'\r\n    }\r\n\r\n    html += '<div class=\"tru-card-head-menu\" data-uk-dropdown=\"{pos: \\'bottom-right\\', mode: \\'click\\'}\">'\r\n    html += '<i class=\"material-icons tru-icon\">&#xE5D4;</i>'\r\n    html += '<div class=\"uk-dropdown uk-dropdown-small\">'\r\n    html += '<ul class=\"uk-nav\">'\r\n    html +=\r\n      '<li><a href=\"#\" data-username=\"' +\r\n      user.username +\r\n      '\" ng-click=\"editAccount($event)\" class=\"no-ajaxy\">Edit</a></li>'\r\n    html +=\r\n      '<li><a href=\"#\" data-username=\"' +\r\n      user.username +\r\n      '\" ng-click=\"deleteAccount($event)\" class=\"no-ajaxy delete-account-action ' +\r\n      (user.deleted ? 'hide' : '') +\r\n      '\">Delete</a></li>'\r\n    html +=\r\n      '<li><a href=\"#\" data-username=\"' +\r\n      user.username +\r\n      '\" ng-click=\"enableAccount($event)\" class=\"no-ajaxy enable-account-action ' +\r\n      (!user.deleted ? 'hide' : '') +\r\n      '\">Enable</a></li>'\r\n    html += '</ul>'\r\n    html += '</div>'\r\n    html += '</div>'\r\n    html += '<div class=\"uk-text-center\">'\r\n    html += '<div class=\"account-image relative uk-display-inline-block\">'\r\n    if (user.image) {\r\n      html +=\r\n        '<img src=\"/uploads/users/' +\r\n        user.image +\r\n        '?' +\r\n        (Math.floor(Math.random() * (99999 - 10000 + 1)) + 10000) +\r\n        '\" alt=\"Profile Pic\" class=\"tru-card-head-avatar\" />'\r\n    } else {\r\n      html += '<img src=\"/uploads/users/defaultProfile.jpg\" alt=\"Profile Pic\" class=\"tru-card-head-avatar\" />'\r\n    }\r\n    html +=\r\n      '<span class=\"user-status-large user-offline uk-border-circle\" data-user-status-id=\"' + user._id + '\"></span>'\r\n    html += '</div>'\r\n\r\n    html += '</div>'\r\n    html += '<h3 class=\"tru-card-head-text uk-text-center\">'\r\n    html += user.fullname\r\n    html +=\r\n      '<span class=\"uk-text-truncate\">' +\r\n      (_.isUndefined(user.title) ? '' : user.title.capitalizeFirstLetter()) +\r\n      '</span>'\r\n    html += '</h3>'\r\n    html += '</div>'\r\n    html += '<div class=\"tru-card-content\">'\r\n    html += '<ul class=\"tru-list\">'\r\n    html += '<li>'\r\n    html += '<div class=\"tru-list-content\">'\r\n    html += '<span class=\"tru-list-heading\">Role</span>'\r\n    html += '<span class=\"uk-text-small uk-text-muted\">' + user.role.capitalizeFirstLetter() + '</span>'\r\n    html += '</div>'\r\n    html += '</li>'\r\n    html += '<li>'\r\n    html += '<div class=\"tru-list-content\">'\r\n    html += '<span class=\"tru-list-heading\">Email</span>'\r\n    html +=\r\n      '<span class=\"uk-text-small uk-text-muted uk-text-truncate\"><a href=\"mailto:' +\r\n      user.email +\r\n      '\">' +\r\n      user.email +\r\n      '</a></span>'\r\n    html += '</div>'\r\n    html += '</li>'\r\n    html += '<li>'\r\n    html += '<div class=\"tru-list-content\">'\r\n    html += '<span class=\"tru-list-heading\">Groups</span>'\r\n    html += '<span class=\"uk-text-small uk-text-muted uk-text-truncate\">'\r\n    _.each(user.groups, function (g) {\r\n      html += g\r\n      if (_.size(user.groups) > 1) {\r\n        if (_.last(user.groups) !== g) {\r\n          html += ', '\r\n        }\r\n      }\r\n    })\r\n    html += '</span>'\r\n    html += '</div>'\r\n    html += '</li>'\r\n    html += '</ul>'\r\n    html += '</div>'\r\n    html += '</div>'\r\n    html += '</div>'\r\n\r\n    return html\r\n  }\r\n\r\n  return accountsPage\r\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n\n\n//# sourceURL=webpack:///./src/public/js/pages/accounts.js?");

/***/ }),

/***/ "./src/public/js/plugins/autogrow.js":
/*!*******************************************!*\
  !*** ./src/public/js/plugins/autogrow.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(jQuery) {(function($)\r\n{\r\n    /**\r\n     * Auto-growing textareas; technique ripped from Facebook\r\n     *\r\n     *\r\n     * http://github.com/jaz303/jquery-grab-bag/tree/master/javascripts/jquery.autogrow-textarea.js\r\n     */\r\n    $.fn.autogrow = function(options)\r\n    {\r\n        return this.filter('textarea').each(function()\r\n        {\r\n            var self         = this;\r\n            var $self        = $(self);\r\n            //var minHeight    = $self.height();\r\n            var minHeight = 16;\r\n            var noFlickerPad = $self.hasClass('autogrow-short') ? 0 : parseInt($self.css('lineHeight')) || 0;\r\n            var settings = $.extend({\r\n                preGrowCallback: null,\r\n                postGrowCallback: null,\r\n                enterPressed: null,\r\n                shiftEnterPressed: null\r\n            }, options );\r\n\r\n            var shadow = $('<div></div>').css({\r\n                position:    'absolute',\r\n                top:         -10000,\r\n                left:        -10000,\r\n                width:       $self.width(),\r\n                fontSize:    $self.css('fontSize'),\r\n                fontFamily:  $self.css('fontFamily'),\r\n                fontWeight:  $self.css('fontWeight'),\r\n                lineHeight:  $self.css('lineHeight'),\r\n                resize:      'none',\r\n                'word-wrap': 'break-word'\r\n            }).appendTo(document.body);\r\n\r\n            var update = function(event)\r\n            {\r\n                var times = function(string, number)\r\n                {\r\n                    for (var i=0, r=''; i<number; i++) r += string;\r\n                    return r;\r\n                };\r\n\r\n                var val = self.value.replace(/</g, '&lt;')\r\n                    .replace(/>/g, '&gt;')\r\n                    .replace(/&/g, '&amp;')\r\n                    .replace(/\\n$/, '<br/>&nbsp;')\r\n                    .replace(/\\n/g, '<br/>')\r\n                    .replace(/ {2,}/g, function(space){ return times('&nbsp;', space.length - 1) + ' ' });\r\n\r\n                // Did enter get pressed?  Resize in this keydown event so that the flicker doesn't occur.\r\n                if (event && event.data && event.data.event === 'keydown' && (event.keyCode === 13 && event.shiftKey)) {\r\n                    val += '<br />';\r\n\r\n                    if (settings.shiftEnterPressed!=null) {\r\n                        settings.shiftEnterPressed($self);\r\n                    }\r\n                } else if (event && event.data && event.data.event === 'keydown' && event.keyCode === 13) {\r\n                    var value = val;\r\n\r\n                    $self.val('');\r\n                    val = '';\r\n                    $self.height(Math.max(shadow.height() + noFlickerPad, minHeight));\r\n\r\n                    if (settings.enterPressed!=null) {\r\n                        settings.enterPressed($self, value);\r\n                    }\r\n\r\n                    return false;\r\n                }\r\n\r\n                shadow.css('width', $self.width());\r\n                shadow.html(val + (noFlickerPad === 0 ? '...' : '')); // Append '...' to resize pre-emptively.\r\n\r\n                var oldHeight=$self.height();\r\n                var newHeight=Math.max(shadow.height() + noFlickerPad, minHeight);\r\n                if(settings.preGrowCallback!=null){\r\n                    newHeight=settings.preGrowCallback($self,shadow,newHeight,minHeight);\r\n                }\r\n\r\n                $self.height(newHeight);\r\n\r\n                if(settings.postGrowCallback!=null){\r\n                    settings.postGrowCallback($self, oldHeight, newHeight);\r\n                }\r\n            }\r\n\r\n            $self.change(update).keyup(update).keydown({event:'keydown'},update);\r\n            $(window).resize(update);\r\n\r\n            update();\r\n        });\r\n    };\r\n})(jQuery);\r\n\r\n//End AUTOGROW\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\")))\n\n//# sourceURL=webpack:///./src/public/js/plugins/autogrow.js?");

/***/ }),

/***/ "./src/public/js/plugins/jquery.custom.js":
/*!************************************************!*\
  !*** ./src/public/js/plugins/jquery.custom.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(jQuery) {/*!\r\n * jQuery serializeObject - v0.2 - 1/20/2010\r\n * http://benalman.com/projects/jquery-misc-plugins/\r\n *\r\n * Copyright (c) 2010 \"Cowboy\" Ben Alman\r\n * Dual licensed under the MIT and GPL licenses.\r\n * http://benalman.com/about/license/\r\n */\r\n\r\n// Whereas .serializeArray() serializes a form into an array, .serializeObject()\r\n// serializes a form into an (arguably more useful) object.\r\n\r\n;(function ($, undefined) {\r\n  '$:nomunge' // Used by YUI compressor.\r\n\r\n  $.fn.serializeObject = function () {\r\n    var obj = {}\r\n\r\n    $.each(this.serializeArray(), function (i, o) {\r\n      var n = o.name,\r\n        v = o.value\r\n\r\n      obj[n] = obj[n] === undefined ? v : $.isArray(obj[n]) ? obj[n].concat(v) : [obj[n], v]\r\n    })\r\n\r\n    return obj\r\n  }\r\n\r\n  /**\r\n   This is a jQuery plugin to support resizing text areas.\r\n\r\n   Originally based off text area resizer by Ryan O'Dell : http://plugins.jquery.com/misc/textarea.js\r\n   Modifications by Discourse https://github.com/discourse/discourse\r\n   @module $.fn.DivResizer\r\n   **/\r\n\r\n  var div,\r\n    endDrag,\r\n    grip,\r\n    lastMousePos,\r\n    min,\r\n    mousePosition,\r\n    originalDivHeight,\r\n    originalPos,\r\n    performDrag,\r\n    startDrag,\r\n    wrappedEndDrag,\r\n    wrappedPerformDrag\r\n  div = void 0\r\n  originalPos = void 0\r\n  originalDivHeight = void 0\r\n  lastMousePos = 0\r\n  min = 350\r\n  grip = void 0\r\n  wrappedEndDrag = void 0\r\n  wrappedPerformDrag = void 0\r\n\r\n  startDrag = function (e, opts) {\r\n    div = $(e.data.el)\r\n    div.addClass('clear-transitions')\r\n    div.blur()\r\n    lastMousePos = mousePosition(e).y\r\n    originalPos = lastMousePos\r\n    originalDivHeight = div.height()\r\n    wrappedPerformDrag = (function () {\r\n      return function (e) {\r\n        return performDrag(e, opts)\r\n      }\r\n    })()\r\n    wrappedEndDrag = (function () {\r\n      return function (e) {\r\n        return endDrag(e, opts)\r\n      }\r\n    })()\r\n    $(document)\r\n      .mousemove(wrappedPerformDrag)\r\n      .mouseup(wrappedEndDrag)\r\n    return false\r\n  }\r\n\r\n  performDrag = function (e, opts) {\r\n    $(div).trigger('div-resizing')\r\n\r\n    var size, sizePx, thisMousePos\r\n    thisMousePos = mousePosition(e).y\r\n    size = originalDivHeight + (originalPos - thisMousePos)\r\n    lastMousePos = thisMousePos\r\n\r\n    var maxHeight = $(window).height()\r\n    if (opts.maxHeight) {\r\n      maxHeight = opts.maxHeight(maxHeight)\r\n    }\r\n    size = Math.min(size, maxHeight)\r\n    size = Math.max(min, size)\r\n    sizePx = size + 'px'\r\n    if (typeof opts.onDrag === 'function') {\r\n      opts.onDrag(sizePx)\r\n    }\r\n    div.height(sizePx)\r\n    if (size < min) {\r\n      endDrag(e, opts)\r\n    }\r\n    return false\r\n  }\r\n\r\n  endDrag = function (e, opts) {\r\n    $(document)\r\n      .unbind('mousemove', wrappedPerformDrag)\r\n      .unbind('mouseup', wrappedEndDrag)\r\n    div.removeClass('clear-transitions')\r\n    div.focus()\r\n    if (typeof opts.resize === 'function') {\r\n      opts.resize()\r\n    }\r\n    $(div).trigger('div-resized')\r\n    div = null\r\n  }\r\n\r\n  mousePosition = function (e) {\r\n    return {\r\n      x: e.clientX + document.documentElement.scrollLeft,\r\n      y: e.clientY + document.documentElement.scrollTop\r\n    }\r\n  }\r\n\r\n  $.fn.DivResizer = function (opts) {\r\n    return this.each(function () {\r\n      var grippie, start, staticOffset\r\n      div = $(this)\r\n      if (div.hasClass('processed')) return\r\n      div.addClass('processed')\r\n      staticOffset = null\r\n      start = function () {\r\n        return function (e) {\r\n          return startDrag(e, opts)\r\n        }\r\n      }\r\n      grippie = div\r\n        .prepend(\"<div class='grippie'></div>\")\r\n        .find('.grippie')\r\n        .bind(\r\n          'mousedown',\r\n          {\r\n            el: this\r\n          },\r\n          start()\r\n        )\r\n    })\r\n  }\r\n})(jQuery)\r\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\")))\n\n//# sourceURL=webpack:///./src/public/js/plugins/jquery.custom.js?");

/***/ }),

/***/ "./src/public/js/plugins/jquery.documentsize.js":
/*!******************************************************!*\
  !*** ./src/public/js/plugins/jquery.documentsize.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {// jQuery.documentSize, v1.2.3\r\n// Copyright (c) 2015-2016 Michael Heim, Zeilenwechsel.de\r\n// Distributed under MIT license\r\n// http://github.com/hashchange/jquery.documentsize\r\n\r\n;( function ( root, factory ) {\r\n    \"use strict\";\r\n\r\n    if ( true ) {\r\n\r\n        module.exports = factory(\r\n            __webpack_require__( /*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\" )\r\n        );\r\n\r\n    } else {}\r\n}( this, function ( jQuery ) {\r\n    \"use strict\";\r\n\r\n    ;( function ( $ ) {\r\n        \"use strict\";\r\n\r\n        // IIFE generating the functions $.documentWidth, $.documentHeight, $.windowWidth, $.windowHeight, and\r\n        // $.scrollbarWidth.\r\n        //\r\n        // These functions need to run feature detections which requires insertion of an iframe ($.documentWidth/Height) and\r\n        // a div ($.scrollbarWidth). The body element in the main document must be available when that happens (ie, the\r\n        // opening body tag must have been parsed).\r\n        //\r\n        // For that reason, the detection does not run instantly - after all, the code might be loaded and run while parsing\r\n        // the head. Instead, detection happens on DOM-ready, or when any of the functions is invoked for the first time.\r\n        // Given the purpose of the functions, they won't be called until after the opening body tag has been parsed.\r\n\r\n        var _scrollbarWidth,\r\n            _supportsWindowInnerWidth,\r\n            _supportsSubpixelAccuracy,\r\n            elementNameForDocSizeQuery,\r\n            ieVersion,\r\n            useGetComputedStyle = !! window.getComputedStyle;\r\n\r\n        /**\r\n         * @param   {Document} [_document=document]\r\n         * @returns {number}\r\n         */\r\n        $.documentWidth = function ( _document ) {\r\n            var width;\r\n\r\n            _document || ( _document = document );\r\n\r\n            try {\r\n\r\n                if ( elementNameForDocSizeQuery === undefined ) testDocumentScroll();\r\n                width = _document[elementNameForDocSizeQuery].scrollWidth;\r\n\r\n            } catch ( e ) {\r\n\r\n                // Fallback for unsupported, broken browsers which can't run the behaviour test successfully\r\n                width = guessDocumentSize( \"Width\", _document );\r\n\r\n            }\r\n\r\n            return width;\r\n        };\r\n\r\n        /**\r\n         * @param   {Document} [_document=document]\r\n         * @returns {number}\r\n         */\r\n        $.documentHeight = function ( _document ) {\r\n            var height;\r\n\r\n            _document || ( _document = document );\r\n\r\n            try {\r\n\r\n                if ( elementNameForDocSizeQuery === undefined ) testDocumentScroll();\r\n                height = _document[elementNameForDocSizeQuery].scrollHeight;\r\n\r\n            } catch ( e ) {\r\n\r\n                // Fallback for unsupported, broken browsers which can't run the behaviour test successfully\r\n                height = guessDocumentSize( \"Height\", _document );\r\n\r\n            }\r\n\r\n            return height;\r\n        };\r\n\r\n        /**\r\n         * @param   {string|Object|Window} [options=\"visual\"]  (a) viewport option: strings \"visual\", \"layout\" (case-\r\n         *                                                         insensitive), or a hash with a `viewport` property\r\n         *                                                     (b) the window argument\r\n         * @param   {string|Object|Window} [_window=window]    same as first argument; positions for window and viewport\r\n         *                                                     argument are interchangeable\r\n         * @returns {number}\r\n         */\r\n        $.windowWidth = function ( options, _window ) {\r\n            var config = getWindowQueryConfig( arguments );\r\n            return getWindowSize( \"Width\", config );\r\n        };\r\n\r\n        /**\r\n         * @param   {string|Object|Window} [options=\"visual\"]  (a) viewport option: strings \"visual\", \"layout\" (case-\r\n         *                                                         insensitive), or a hash with a `viewport` property\r\n         *                                                     (b) the window argument\r\n         * @param   {string|Object|Window} [_window=window]    same as first argument; positions for window and viewport\r\n         *                                                     argument are interchangeable\r\n         * @returns {number}\r\n         */\r\n        $.windowHeight = function ( options, _window ) {\r\n            var config = getWindowQueryConfig( arguments );\r\n            return getWindowSize( \"Height\", config );\r\n        };\r\n\r\n        /**\r\n         * @param   {Window} [_window=window]\r\n         * @returns {number}\r\n         */\r\n        $.pinchZoomFactor = function ( _window ) {\r\n\r\n            // Calculate the zoom factor based on the width, not the height. getPinchZoomFactor() does just that.\r\n            //\r\n            // It would be more accurate to use the longest side for the calculation, keeping the effect of rounding errors\r\n            // low (unless the browser supports sub-pixel accuracy anyway).\r\n            //\r\n            // Unfortunately, iOS does not allow that approach. Switching from normal to minimal UI is not reflected in the\r\n            // clientHeight, so the zoom factor would seem to change when the UI disappears (even though in reality, it\r\n            // doesn't). We have to use the width, irrespective of orientation.\r\n\r\n            return getPinchZoomFactor( _window );\r\n        };\r\n\r\n        /**\r\n         * @returns {number}\r\n         */\r\n        $.scrollbarWidth = browserScrollbarWidth;\r\n\r\n\r\n        /**\r\n         * Returns the window width or height. Does the actual work of $.windowWidth() and $.windowHeight().\r\n         *\r\n         * Handles minimal UI in iOS properly. Returns the size of either the visual viewport (default) or the layout\r\n         * viewport.\r\n         *\r\n         * Precision:\r\n         *\r\n         * - The maximum rounding error for the visual viewport is +/- 1px.\r\n         * - Layout viewport width is precise.\r\n         * - Layout viewport height would potentially be prone to larger rounding errors (though in practice they rarely\r\n         *   seem to exceed +/- 2px). Additional logic is employed to detect and correct these errors. As a result, the\r\n         *   layout viewport height is precise as well.\r\n         *\r\n         * @param   {string}            dimension  must be \"Width\" or \"Height\" (upper case!)\r\n         * @param   {WindowQueryConfig} config\r\n         * @returns {number}\r\n         */\r\n        function getWindowSize ( dimension, config ) {\r\n            var ddeClientHeight, visualSize, zoomFactor, snapToKnownHeight, lBound, uBound,\r\n                _window = config.window,\r\n\r\n                scrollbarsConsumeSpace = browserScrollbarWidth() !== 0,\r\n                getLayoutViewportWidth = config.useLayoutViewport && dimension === \"Width\",\r\n\r\n                useClientSize = scrollbarsConsumeSpace || !supportsWindowInnerWidth() || getLayoutViewportWidth,\r\n                size = useClientSize ? _window.document.documentElement[ \"client\" + dimension ] : getWindowInnerSize( dimension, _window );\r\n\r\n            if ( config.useLayoutViewport && ! useClientSize ) {\r\n\r\n                // Looking for the layout viewport height on mobile. Calculate it from window.innerHeight and the zoom\r\n                // factor, so as to capture the real height when the browser is in minimal UI on iOS.\r\n                //\r\n                // NB The layout viewport has a size in full CSS pixels (unaffected by zooming, hence no sub pixels).\r\n\r\n                visualSize = size;\r\n                zoomFactor = getPinchZoomFactor( _window, { asRange: true } );\r\n\r\n                size = Math.round( visualSize * zoomFactor.calculated );\r\n\r\n                // Fix rounding errors, caused by the visual height ignoring sub-pixel fractions. If we know we are near a\r\n                // known layout viewport height, use that.\r\n                if ( !supportsSubpixelAccuracy() ) {\r\n\r\n                    ddeClientHeight =  _window.document.documentElement.clientHeight;\r\n\r\n                    // In Android, the height we get from ddE.clientHeight and the one calculated from window.innerHeight\r\n                    // should be the same, except for rounding errors in the calculation. So basically, we could just set\r\n                    // any calculated value to the clientHeight, no matter how large the difference is. (That is, if we even\r\n                    // end up here - in some versions of Chrome on Android, for instance, we have sub-pixel accuracy.)\r\n                    //\r\n                    // Not so in iOS. In minimal UI, the real layout viewport may be larger than the one reported by\r\n                    // clientHeight, by about 60px. So we need to impose reasonable limits on what is considered to be near\r\n                    // the clientHeight.\r\n                    //\r\n                    // - If the calculated value is within 3px of the clientHeight, we consider it to be a clear case of a\r\n                    //   rounding error.\r\n                    // - Alternatively, the clientHeight must be between the theoretical maximum and minimum values of the\r\n                    //   computation, assuming maximum rounding errors at every stage.\r\n                    // - If we use that range, its upper bound is capped at 30px above the clientHeight - keeping a safe\r\n                    //   distance from current minimal UI heights, or possible future ones.\r\n\r\n                    lBound = ( visualSize - 1 ) * zoomFactor.min;\r\n                    uBound = ( visualSize + 1 ) * zoomFactor.max;\r\n\r\n                    snapToKnownHeight = ( size <= ddeClientHeight + 3 && size >= ddeClientHeight - 3 ) ||\r\n                        ( lBound <= ddeClientHeight && uBound >= ddeClientHeight && uBound < ddeClientHeight + 30 );\r\n\r\n                    if ( snapToKnownHeight ) size = ddeClientHeight;\r\n\r\n                }\r\n            }\r\n\r\n            return size;\r\n        }\r\n\r\n        /**\r\n         * Calculates the zoom factor for pinch zooming on mobile. A factor > 1 means that the page is zoomed in (content\r\n         * enlarged).\r\n         *\r\n         * The zoom factor returned here measures the size of the visual viewport with respect to the size of the layout\r\n         * viewport. Note that browsers usually calculate their zoom level with respect to the ideal viewport, not the\r\n         * layout viewport (see Peter-Paul Koch, The Mobile Web Handbook, Chapter 3: Viewports, Section \"Minimum and Maximum\r\n         * Zoom\").\r\n         *\r\n         * Ignores page zoom on the desktop (returning a zoom factor of 1). For the distinction between pinch and page zoom,\r\n         * again see Chapter 3 in PPK's book.\r\n         *\r\n         * @param   {Window}  [_window=window]\r\n         * @param   {Object}  [options]\r\n         * @param   {boolean} [options.asRange=false]\r\n         * @returns {number|ZoomAccuracyRange}\r\n         */\r\n        function getPinchZoomFactor ( _window, options ) {\r\n            var ddeClientWidth, windowInnerWidth,\r\n                asRange = options && options.asRange,\r\n                factors = {\r\n                    calculated: 1,\r\n                    min: 1,\r\n                    max: 1\r\n                },\r\n                skip = browserScrollbarWidth() !== 0 || !supportsWindowInnerWidth();\r\n\r\n            if ( !skip ) {\r\n\r\n                _window || ( _window = window );\r\n                ddeClientWidth = _window.document.documentElement.clientWidth;\r\n                windowInnerWidth = getWindowInnerWidth( _window );\r\n\r\n                // Calculate the zoom factor, assuming window.innerWidth is precise (no rounding errors).\r\n                factors.calculated = ddeClientWidth / windowInnerWidth;\r\n\r\n                // If requested, determine the minimum and maximum value of the zoom factor in the presence of rounding errors.\r\n                if ( asRange ) {\r\n                    if ( supportsSubpixelAccuracy() ) {\r\n                        // No need to take rounding errors into account\r\n                        factors.min = factors.max = factors.calculated;\r\n                    } else {\r\n                        factors.min = ddeClientWidth / ( windowInnerWidth + 1 );\r\n                        factors.max = ddeClientWidth / ( windowInnerWidth - 1 );\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            return asRange ? factors : factors.calculated;\r\n        }\r\n\r\n        /**\r\n         * Handles the argument juggling for $.windowWidth() and $.windowHeight(). Extracts the window and viewport settings\r\n         * from the arguments, applying the defaults (use global window, use visual viewport) where necessary.\r\n         *\r\n         * Examines the first two arguments. The window and the viewport setting can appear in either position,\r\n         * interchangeably. The viewport setting can be passed in as a string, or as part of an options hash,\r\n         * `{ viewport: ... }`.\r\n         *\r\n         * Recognized viewport names are \"visual\" and \"layout\" (case-insensitive).\r\n         *\r\n         * @param   {Array|Arguments} args\r\n         * @returns {WindowQueryConfig}\r\n         */\r\n        function getWindowQueryConfig( args ) {\r\n            var isWindowArg0, isOptionArg0, isOptionArg1,\r\n\r\n            // Defaults\r\n                _window = window,\r\n                _useVisualViewport = true;\r\n\r\n            if ( args && args.length ) {\r\n\r\n                // Coerce to a real array\r\n                args = Array.prototype.slice.call( args );\r\n\r\n                // Examine the first argument. Cast strings to an options hash with a `viewport` property.\r\n                isWindowArg0 = isWindow( args[0] );\r\n                if( !isWindowArg0 ) args[0] = castStringToViewportOption( args[0] );\r\n                isOptionArg0 = !isWindowArg0 && args[0];\r\n\r\n                // Examine the second argument. Again, cast strings to an options hash with a `viewport` property.\r\n                if ( !isOptionArg0 ) args[1] = castStringToViewportOption( args[1] );\r\n                isOptionArg1 = !isOptionArg0 && args[1];\r\n\r\n                // Extract window and viewport option, if available.\r\n                if ( isWindowArg0 ) {\r\n\r\n                    _window = args[0];\r\n                    if( isOptionArg1 && args[1].viewport ) _useVisualViewport = isVisualViewport( args[1].viewport );\r\n\r\n                } else if ( isOptionArg0 ) {\r\n\r\n                    if( args[0].viewport ) _useVisualViewport = isVisualViewport( args[0].viewport );\r\n                    if ( isWindow( args[1] ) ) _window = args[1];\r\n\r\n                } else if ( !args[0] && args[1] ) {\r\n\r\n                    // First argument was falsy, e.g. undefined, null. Ignore it. But process the second, non-falsy argument.\r\n                    if( isOptionArg1 && args[1].viewport ) {\r\n                        _useVisualViewport = isVisualViewport( args[1].viewport );\r\n                    } else if ( isWindow( args[1] ) ) {\r\n                        _window = args[1];\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n            return {\r\n                window: _window,\r\n                useVisualViewport: _useVisualViewport,\r\n                useLayoutViewport: !_useVisualViewport\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Checks if the argument is the name of the visual viewport. The check is case-insensitive.\r\n         *\r\n         * Expects a string. Tolerates falsy values, returning false then (argument is not naming the visual viewport).\r\n         * Throws an error for everything else. Also throws an error if the viewport name is a string but not recognized\r\n         * (typo alert).\r\n         *\r\n         * Helper for getWindowQueryConfig().\r\n         *\r\n         * @param   {string} [name]  strings \"visual\", \"layout\" (case-insensitive)\r\n         * @returns {boolean}\r\n         */\r\n        function isVisualViewport ( name ) {\r\n            var viewport = isString( name ) && name.toLowerCase();\r\n\r\n            if ( name && !viewport ) throw new Error( \"Invalid viewport option: \" + name );\r\n            if ( viewport && viewport !== \"visual\" && viewport !== \"layout\" ) throw new Error( \"Invalid viewport name: \" + name );\r\n\r\n            return viewport === \"visual\";\r\n        }\r\n\r\n        /**\r\n         * Examines a value and casts a string to a hash with a `viewport` property (the string being its value). If the\r\n         * value is not a string, or if the string is empty, it is returned as-is. Helper for getWindowQueryConfig().\r\n         *\r\n         * @param   {*} arg\r\n         * @returns {*}\r\n         */\r\n        function castStringToViewportOption ( arg ) {\r\n            return ( isString( arg ) && arg !== \"\" ) ? { viewport: arg } : arg;\r\n        }\r\n\r\n        /**\r\n         * Checks if the browser supports window.innerWidth and window.innerHeight.\r\n         *\r\n         * The check is run on demand, rather than up front while loading the component, because the window properties can\r\n         * behave strangely in the early stages of opening a window. The component might be loaded in the document head,\r\n         * which could potentially be early enough to run into these oddities. So we wait until the first call.\r\n         *\r\n         * IE 8 does not support window.innerWidth and .innerHeight. FF has a bug which as only been fixed in FF25 (released\r\n         * 29 Oct 2013). It manifests itself in a fictional return value of 10 for these properties. See\r\n         *\r\n         * - https://developer.mozilla.org/en-US/docs/Web/API/Window.innerWidth\r\n         * - https://developer.mozilla.org/en-US/docs/Web/API/Window.innerHeight\r\n         * - https://bugzilla.mozilla.org/show_bug.cgi?id=641188\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function supportsWindowInnerWidth () {\r\n            if ( _supportsWindowInnerWidth === undefined ) _supportsWindowInnerWidth = getWindowInnerWidth() > 10;\r\n            return _supportsWindowInnerWidth;\r\n        }\r\n\r\n        /**\r\n         * Does the actual work of $.scrollbarWidth. Protected from external modification. See $.scrollbarWidth for details.\r\n         *\r\n         * Adapted from Ben Alman's scrollbarWidth plugin. See\r\n         * - http://benalman.com/projects/jquery-misc-plugins/#scrollbarwidth\r\n         * - http://jsbin.com/zeliy/1\r\n         *\r\n         * @returns {number}\r\n         */\r\n        function browserScrollbarWidth () {\r\n            var testEl;\r\n\r\n            if ( _scrollbarWidth === undefined ) {\r\n\r\n                testEl = document.createElement( \"div\" );\r\n                testEl.style.cssText = \"width: 100px; height: 100px; overflow: scroll; position: absolute; top: -500px; left: -500px; margin: 0px; padding: 0px; border: none;\";\r\n\r\n                document.body.appendChild( testEl );\r\n                _scrollbarWidth = testEl.offsetWidth - testEl.clientWidth;\r\n                document.body.removeChild( testEl );\r\n\r\n            }\r\n\r\n            return _scrollbarWidth;\r\n        }\r\n\r\n        /**\r\n         * Detects which element to use for a document size query (body or documentElement).\r\n         *\r\n         * Sandbox\r\n         * -------\r\n         *\r\n         * The detection is sandboxed in an iframe element created for the purpose. If the iframe window can't be\r\n         * accessed because of some obscure policy restriction or browser bug, the main window and document is used\r\n         * as a fallback.\r\n         *\r\n         * The test is designed to minimize the visual and rendering impact in the test window, in case the fallback\r\n         * should ever be used.\r\n         *\r\n         * Test method\r\n         * -----------\r\n         *\r\n         * We can't test directly which call to use (at least not with an even worse amount of intervention than is\r\n         * already the case, which matters if the iframe is not accessible). But we can work by exclusion.\r\n         *\r\n         * In Chrome (desktop and mobile), Safari (also iOS), and Opera, body.scrollWidth returns the true document\r\n         * width. In Firefox and IE, body.scrollWidth responds to the body content size instead. In those browsers,\r\n         * true document width is returned by document.documentElement.scrollWidth.\r\n         *\r\n         * So we test the behaviour of body.scrollWidth by manipulating the body size, while keeping the document size\r\n         * constant.\r\n         *\r\n         * - We prepare for the test by making sure the body does not display its overflow.\r\n         * - Then we inject a small test element into the body and give it a relative position far outside the viewport.\r\n         *\r\n         * The body size is expanded, but the document size remains unaffected because the body hides the overflowing\r\n         * test element (either outright, or by putting it in a hidden part of the scroll pane). Then we check if\r\n         * body.scrollWidth has responded to the change. From that, we infer the right element to use for a document\r\n         * width query.\r\n         *\r\n         * The function does not return anything. It sets the elementNameForDocSizeQuery in the closure instead.\r\n         */\r\n        function testDocumentScroll () {\r\n\r\n            var initialDocumentState, _testEl, initialScrollWidth, responds,\r\n\r\n                iframe = createTestIframe(),\r\n                _document = iframe && iframe.contentDocument || document,\r\n                _body = _document.body,\r\n                inIframe = _document !== document;\r\n\r\n            // Create a test element which will be used to to expand the body content way to the right.\r\n            _testEl = _document.createElement( \"div\" );\r\n            _testEl.style.cssText = \"width: 1px; height: 1px; position: relative; top: 0px; left: 32000px;\";\r\n\r\n            // Make sure that the body (but not the window) hides its overflow. Only applies if the iframe is not\r\n            // accessible. The iframe document already contains the required styles.\r\n            if ( ! inIframe ) initialDocumentState = prepareGlobalDocument();\r\n\r\n            // Inject the test element, then test if the body.scrollWidth property responds\r\n            initialScrollWidth = _body.scrollWidth;\r\n            _body.appendChild( _testEl );\r\n            responds = initialScrollWidth !== _body.scrollWidth;\r\n            _body.removeChild( _testEl );\r\n\r\n            // Restore the overflow settings for window and body\r\n            if ( ! inIframe ) restoreGlobalDocument( initialDocumentState );\r\n\r\n            // If body.scrollWidth responded, it reacts to body content size, not document size. Default to\r\n            // ddE.scrollWidth. If it did not react, however, it is linked to the (unchanged) document size.\r\n            elementNameForDocSizeQuery = responds ? \"documentElement\" : \"body\";\r\n\r\n            if ( iframe ) document.body.removeChild( iframe );\r\n\r\n        }\r\n\r\n        /**\r\n         * Creates an iframe document with an HTML5 doctype and UTF-8 encoding and positions it off screen. Window size\r\n         * is 500px x 500px. Body and window (document element) are set to overflow: hidden.\r\n         *\r\n         * In case the content document of the iframe can't be accessed for some reason, the function returns undefined.\r\n         * This is unlikely to ever happen, though.\r\n         *\r\n         * @returns {HTMLIFrameElement|undefined}\r\n         */\r\n        function createTestIframe () {\r\n            var iframe = document.createElement( \"iframe\" ),\r\n                body = document.body;\r\n\r\n            iframe.style.cssText = \"position: absolute; top: -600px; left: -600px; width: 500px; height: 500px; margin: 0px; padding: 0px; border: none; display: block;\";\r\n            iframe.frameborder = \"0\";\r\n\r\n            body.appendChild( iframe );\r\n            iframe.src = 'about:blank';\r\n\r\n            if ( !iframe.contentDocument ) return;\r\n\r\n            iframe.contentDocument.write( '<!DOCTYPE html><html><head><meta charset=\"UTF-8\"><title></title><style type=\"text/css\">html, body { overflow: hidden; }</style></head><body></body></html>' );\r\n\r\n            return iframe;\r\n        }\r\n\r\n        /**\r\n         * Makes sure the body (but not the window) hides its overflow. Works with the global document, returns the initial\r\n         * state before manipulation (including properties indicating what has been modified).\r\n         *\r\n         * Used only if iframe creation or access has failed for some reason.\r\n         */\r\n        function prepareGlobalDocument () {\r\n            var ddEStyle, bodyStyle,\r\n\r\n                ddE = document.documentElement,\r\n                body = document.body,\r\n\r\n                ddEComputedStyles = useGetComputedStyle ? window.getComputedStyle( ddE, null ) : ddE.currentStyle,\r\n                bodyComputedStyles = useGetComputedStyle ? window.getComputedStyle( body, null ) : body.currentStyle,\r\n\r\n                ddEOverflowX = ( ddEComputedStyles.overflowX || ddEComputedStyles.overflow || \"visible\" ).toLowerCase(),\r\n                bodyOverflowX = ( bodyComputedStyles.overflowX || bodyComputedStyles.overflow || \"visible\" ).toLowerCase(),\r\n\r\n                modifyBody = bodyOverflowX !== \"hidden\",\r\n                modifyDocumentElement = ddEOverflowX === \"visible\",\r\n\r\n                initialState = {\r\n                    documentElement: {\r\n                        modified: modifyDocumentElement\r\n                    },\r\n                    body: {\r\n                        modified: modifyBody\r\n                    }\r\n                };\r\n\r\n            if ( modifyDocumentElement ) {\r\n                ddEStyle = ddE.style;\r\n                initialState.documentElement.styleOverflowX = ddEStyle.overflowX;\r\n                ddEStyle.overflowX = \"auto\";\r\n            }\r\n\r\n            if ( modifyBody ) {\r\n                bodyStyle = body.style;\r\n                initialState.body.styleOverflowX = bodyStyle.overflowX;\r\n                bodyStyle.overflowX = \"hidden\";\r\n            }\r\n\r\n            return initialState;\r\n\r\n        }\r\n\r\n        /**\r\n         * Restores the body and documentElement styles to their initial state, which is passed in as an argument. Works\r\n         * with the global document.\r\n         *\r\n         * Used only if iframe creation or access has failed for some reason.\r\n         *\r\n         * @param {Object} previousState  the initial state, as returned by prepareGlobalDocument()\r\n         */\r\n        function restoreGlobalDocument ( previousState ) {\r\n\r\n            if ( previousState.documentElement.modified ) document.documentElement.style.overflowX = previousState.documentElement.styleOverflowX;\r\n            if ( previousState.body.modified ) document.body.style.overflowX = previousState.body.styleOverflowX;\r\n\r\n        }\r\n\r\n        /**\r\n         * Returns a best guess for the window width or height. Used as a fallback for unsupported browsers which are too\r\n         * broken to even run the feature test.\r\n         *\r\n         * The conventional jQuery method of guessing the document size is used here: every conceivable value is queried and\r\n         * the largest one is picked.\r\n         *\r\n         * @param {string}   dimension    accepted values are \"Width\" or \"Height\" (capitalized first letter!)\r\n         * @param {Document} [_document]\r\n         */\r\n        function guessDocumentSize( dimension, _document ) {\r\n            var ddE = _document.documentElement;\r\n\r\n            return Math.max(\r\n                ddE.body[ \"scroll\" + dimension ], _document[ \"scroll\" + dimension ],\r\n                ddE.body[ \"offset\" + dimension ], _document[ \"offset\" + dimension ],\r\n                _document[ \"client\" + dimension ]\r\n            );\r\n        }\r\n\r\n        /**\r\n         * Returns window.innerWidth.\r\n         *\r\n         * Along the way, the return value is examined to see if the browser supports sub-pixel accuracy (floating-point\r\n         * values).\r\n         *\r\n         * @param   {Window} [_window=window]\r\n         * @returns {number}\r\n         */\r\n        function getWindowInnerWidth ( _window ) {\r\n            return getWindowInnerSize( \"Width\", _window );\r\n        }\r\n\r\n        /**\r\n         * Returns window.innerHeight.\r\n         *\r\n         * Along the way, the return value is examined to see if the browser supports sub-pixel accuracy (floating-point\r\n         * values).\r\n         *\r\n         * @param   {Window} [_window=window]\r\n         * @returns {number}\r\n         */\r\n        function getWindowInnerHeight ( _window ) {\r\n            return getWindowInnerSize( \"Height\", _window );\r\n        }\r\n\r\n        /**\r\n         * Returns window.innerWidth or window.innerHeight, depending on the dimension argument.\r\n         *\r\n         * Along the way, the return value is examined to see if the browser supports sub-pixel accuracy (floating-point\r\n         * values).\r\n         *\r\n         * @param   {string} dimension  must be \"Width\" or \"Height\" (upper case!)\r\n         * @param   {Window} [_window=window]\r\n         * @returns {number}\r\n         */\r\n        function getWindowInnerSize ( dimension, _window ) {\r\n            var size = ( _window || window )[ \"inner\" + dimension];\r\n\r\n            // Check for fractions. Exclude undefined return values in browsers which don't support window.innerWidth/Height.\r\n            if ( size ) checkForFractions( size );\r\n            return size;\r\n        }\r\n\r\n        /**\r\n         * Accepts an observed value of window.innerWidth or window.innerHeight and examines it for fractional values.\r\n         * Caches the finding if there is one. Helper for getWindowInnerWidth() and friends.\r\n         *\r\n         * See supportsSubpixelAccuracy() for more.\r\n         *\r\n         * @param {number} sizeMeasurement\r\n         */\r\n        function checkForFractions ( sizeMeasurement ) {\r\n\r\n            // When checking the cached value, we can't accept false as a definitive answer. We have to continue checking\r\n            // unless the cached value is `true`.\r\n            //\r\n            // See supportsSubpixelAccuracy().\r\n            if ( !_supportsSubpixelAccuracy && isFloat( sizeMeasurement ) ) _supportsSubpixelAccuracy = true;\r\n\r\n        }\r\n\r\n        /**\r\n         * Returns whether or not the browser supports sub-pixel accuracy (floating-point values) for window.innerWidth and\r\n         * window.innerHeight - as far as we know yet.\r\n         *\r\n         * The browser behaviour can't be tested directly, and must be figured out by continuous observation. We have to\r\n         * monitor the return values of window.innerWidth/Height for fractions. That is done with getWindowInnerWidth etc.\r\n         * As soon as we find a fraction, we know that the browser supports floating-point accuracy.\r\n         *\r\n         * However, we can never be sure of the opposite. If we haven't encountered a fraction yet, it could simply mean\r\n         * that we are at 100% zoom, and integers have indeed been the correct return value so far.\r\n         *\r\n         * So when the method here answers with true, it is definitive. When it returns false, that just means \"maybe not,\r\n         * but we don't know\". And the the return value might flip to true in a future query.\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function supportsSubpixelAccuracy () {\r\n            return !!_supportsSubpixelAccuracy;\r\n        }\r\n\r\n        function isWindow ( value ) {\r\n            // Identical to jQuery.isWindow()\r\n            return value != null && value.window == value;         // jshint ignore:line\r\n        }\r\n\r\n        function isString ( value ) {\r\n            // Done as in the Lodash compatibility build\r\n            return typeof value === 'string' || value && typeof value === 'object' && Object.prototype.toString.call(value) === '[object String]' || false;\r\n        }\r\n\r\n        /**\r\n         * Returns whether or not a value is of type number. Also rejects NaN as a number.\r\n         *\r\n         * NB This is not the same as $.isNumeric because $.isNumeric( \"3\" ) is true while isNumber( \"3\" ) is false.\r\n         *\r\n         * @param   {*} value\r\n         * @returns {boolean}\r\n         */\r\n        function isNumber ( value ) {\r\n            // Done as in the Lodash compatibility build, but rejecting NaN as a number.\r\n            var isNumeric = typeof value === 'number' || value && typeof value === 'object' && Object.prototype.toString.call( value ) === '[object Number]' || false;\r\n\r\n            // Reject NaN before returning\r\n            return isNumeric && value === +value;\r\n        }\r\n\r\n        /**\r\n         * Returns whether or not a number is a float, ie has decimals.\r\n         *\r\n         * Requires the argument to be a number. If unsure, guard against false detections with\r\n         * `isNumber( value ) && isFloat ( value )`.\r\n         *\r\n         * For the technique, see http://stackoverflow.com/a/3885844/508355\r\n         *\r\n         * @param   {number} num\r\n         * @returns {boolean}\r\n         */\r\n        function isFloat ( num ) {\r\n            return num === +num && num !== ( num | 0 );         // jshint ignore:line\r\n        }\r\n\r\n        /**\r\n         * Returns the IE version, or false if the browser is not IE.\r\n         *\r\n         * The result is determined by browser sniffing, rather than a test tailored to the use case. The function must only\r\n         * be called as a last resort, for scenarios where there is no alternative to browser sniffing.\r\n         *\r\n         * These scenarios include:\r\n         *\r\n         * - Preventing IE6 and IE7 from crashing\r\n         * - Preventing IE9 from blocking or delaying the load event\r\n         *\r\n         * The test follows the MSDN recommendation at https://msdn.microsoft.com/en-us/library/ms537509(v=vs.85).aspx#parsingua\r\n         * The result is cached.\r\n         *\r\n         * @returns {number|boolean}\r\n         */\r\n        function getIEVersion () {\r\n            var userAgent, userAgentTestRx;\r\n\r\n            if ( ieVersion === undefined ) {\r\n\r\n                ieVersion = false;\r\n                userAgent = navigator && navigator.userAgent;\r\n\r\n                if ( navigator && navigator.appName === \"Microsoft Internet Explorer\" && userAgent ) {\r\n                    userAgentTestRx = new RegExp( \"MSIE ([0-9]{1,}[\\.0-9]{0,})\" );                          // jshint ignore:line\r\n                    if ( userAgentTestRx.exec( userAgent ) != null ) ieVersion = parseFloat( RegExp.$1 );\r\n                }\r\n\r\n            }\r\n\r\n            return ieVersion;\r\n        }\r\n\r\n        /**\r\n         * Checks if we are dealing with a truly ancient version of IE (< IE8).\r\n         *\r\n         * This is done by browser sniffing, rather than a test tailored to the use case. Use it only if there is no\r\n         * alternative.\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isAncientIE () {\r\n            var ieVersion = getIEVersion();\r\n            return ieVersion && ieVersion < 8;\r\n        }\r\n\r\n        /**\r\n         * Checks if the browser is IE9.\r\n         *\r\n         * This is done by browser sniffing, rather than a test tailored to the use case. Use it only if there is no\r\n         * alternative.\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isIE9 () {\r\n            return getIEVersion() === 9;\r\n        }\r\n\r\n\r\n        // Let's prime $.documentWidth(), $.documentHeight() and $.scrollbarWidth() immediately after the DOM is ready. It\r\n        // is best to do it up front because the test touches the DOM, so let's get it over with before people set up\r\n        // handlers for mutation events and such.\r\n        //\r\n        // This step has to be skipped for the following browsers:\r\n        //\r\n        // - ancient versions of IE (IE6, IE7).\r\n        //   IE6 and IE7 can't handle the feature tests on DOM ready - they crash right away. Later on, the tests are ok.\r\n        //\r\n        // - IE9.\r\n        //   If the feature tests were run on DOM ready, the window load event would become unreliable. The event might not\r\n        //   fire until the user moves the mouse over the document. This bug is rare and not triggered by jQuery.documentSize\r\n        //   alone; third-party code likely plays a role. The exact circumstances are not clear - see issue #3.\r\n        //\r\n        // For these browsers, we don't run the feature tests preemptively. Instead, we do it on demand, when the first\r\n        // document size query is made.\r\n        if ( typeof $ === \"function\" && !isAncientIE() && !isIE9() ) {\r\n\r\n            // Try-catch acts as a safety net for unsupported, broken browsers\r\n            try {\r\n\r\n                $( function () {\r\n                    if ( elementNameForDocSizeQuery === undefined ) testDocumentScroll();\r\n                    browserScrollbarWidth();\r\n                } );\r\n\r\n            } catch ( e ) {}\r\n\r\n        }\r\n\r\n\r\n        /**\r\n         * Custom types.\r\n         *\r\n         * For easier documentation and type inference.\r\n         */\r\n\r\n        /**\r\n         * @name ZoomAccuracyRange\r\n         * @type {Object}\r\n         *\r\n         * @property {number} calculated\r\n         * @property {number} min\r\n         * @property {number} max\r\n         */\r\n\r\n        /**\r\n         * @name WindowQueryConfig\r\n         * @type {Object}\r\n         *\r\n         * @property {Window}  window\r\n         * @property {boolean} useVisualViewport\r\n         * @property {boolean} useLayoutViewport\r\n         */\r\n\r\n    }(\r\n        typeof jQuery !== \"undefined\" ? jQuery :\r\n            typeof Zepto !== \"undefined\" ? Zepto :\r\n                $\r\n    ));\r\n    return jQuery.documentSize;\r\n\r\n} ));\r\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\")))\n\n//# sourceURL=webpack:///./src/public/js/plugins/jquery.documentsize.js?");

/***/ }),

/***/ "./src/public/js/plugins/jquery.isinview.js":
/*!**************************************************!*\
  !*** ./src/public/js/plugins/jquery.isinview.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {// jQuery.isInView, v1.0.3\r\n// Copyright (c)2015 Michael Heim, Zeilenwechsel.de\r\n// Distributed under MIT license\r\n// http://github.com/hashchange/jquery.isinview\r\n\r\n;( function ( root, factory ) {\r\n    \"use strict\";\r\n\r\n    if ( true ) {\r\n\r\n        module.exports = factory(\r\n            __webpack_require__( /*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\" ),\r\n            __webpack_require__( /*! jquery_docsize */ \"./src/public/js/plugins/jquery.documentsize.js\" )\r\n        );\r\n\r\n    } else {}\r\n}( this, function ( jQuery ) {\r\n    \"use strict\";\r\n\r\n    ;( function( $ ) {\r\n        \"use strict\";\r\n\r\n        var _useGetComputedStyle = !! window.getComputedStyle,          // IE8, my dear, this is for you\r\n            _isIOS,\r\n            root = window,\r\n            $root = $( window );\r\n\r\n\r\n        /**\r\n         * API\r\n         */\r\n\r\n        /**\r\n         * @param   {string} [axis=\"both\"]  values \"horizontal\", \"vertical\", \"both\"\r\n         * @returns {boolean|Object|undefined}\r\n         */\r\n        $.fn.hasScrollbar = function ( axis ) {\r\n            return hasScrollbar( this, axis );\r\n        };\r\n\r\n        /**\r\n         * @param   {string} [axis=\"both\"]  values \"horizontal\", \"vertical\", \"both\"\r\n         * @returns {number|Object|undefined}\r\n         */\r\n        $.fn.scrollbarWidth = function ( axis ) {\r\n            return effectiveScrollbarWith( this, axis );\r\n        };\r\n\r\n        /**\r\n         * @returns {Window|undefined}\r\n         */\r\n        $.fn.ownerWindow = function () {\r\n            return ownerWindow( this );\r\n        };\r\n\r\n        /**\r\n         * @param {Window|Document|HTMLElement|jQuery|string} [container=window]\r\n         * @param {Object}                                    [opts]\r\n         * @param {boolean}                                   [opts.partially=false]\r\n         * @param {boolean}                                   [opts.excludeHidden=false]\r\n         * @param {string}                                    [opts.direction=\"both\"]\r\n         * @param {string}                                    [opts.box=\"border-box\"]     alternatively, \"content-box\"\r\n         * @param {number|string}                             [opts.tolerance=0]          number only (px), or with unit (\"px\" or \"%\" only)\r\n         *\r\n         * @returns {jQuery}\r\n         */\r\n        $.fn.inView = function ( container, opts ) {\r\n            return inView( this, container, opts );\r\n        };\r\n\r\n        /**\r\n         * @param {Object}        [opts]\r\n         * @param {boolean}       [opts.partially=false]\r\n         * @param {boolean}       [opts.excludeHidden=false]\r\n         * @param {string}        [opts.direction=\"both\"]\r\n         * @param {string}        [opts.box=\"border-box\"]     alternatively, \"content-box\"\r\n         * @param {number|string} [opts.tolerance=0]          number only (px), or with unit (\"px\" or \"%\" only)\r\n         *\r\n         * @returns {jQuery}\r\n         */\r\n        $.fn.inViewport = function ( opts ) {\r\n            return inView( this, ownerWindow( this ), opts );\r\n        };\r\n\r\n        /**\r\n         * @param {Window|Document|HTMLElement|jQuery|string} [container=window]\r\n         * @param {Object}                                    [opts]\r\n         * @param {boolean}                                   [opts.partially=false]\r\n         * @param {boolean}                                   [opts.excludeHidden=false]\r\n         * @param {string}                                    [opts.direction=\"both\"]\r\n         * @param {string}                                    [opts.box=\"border-box\"]     alternatively, \"content-box\"\r\n         * @param {number|string}                             [opts.tolerance=0]          number only (px), or with unit (\"px\" or \"%\" only)\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        $.fn.isInView = function ( container, opts ) {\r\n            return isInView( this, container, opts );\r\n        };\r\n\r\n        /**\r\n         * @param {Object}        [opts]\r\n         * @param {boolean}       [opts.partially=false]\r\n         * @param {boolean}       [opts.excludeHidden=false]\r\n         * @param {string}        [opts.direction=\"both\"]\r\n         * @param {string}        [opts.box=\"border-box\"]     alternatively, \"content-box\"\r\n         * @param {number|string} [opts.tolerance=0]          number only (px), or with unit (\"px\" or \"%\" only)\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        $.fn.isInViewport = function ( opts ) {\r\n            return isInView( this, ownerWindow( this ), opts );\r\n        };\r\n\r\n        $.expr.match.inviewport = /^(?:inVieport)$/i;\r\n\r\n        $.expr.setFilters.inviewport = $.expr.createPseudo( function () {\r\n            return $.expr.createPseudo( function ( elems, matches ) {\r\n                var i, config,\r\n                    length =  elems.length;\r\n\r\n                if ( length ) {\r\n\r\n                    config = _prepareConfig( $( elems ) );\r\n                    checkHierarchy( elems[0], config.container );\r\n\r\n                    for ( i = 0; i < length; i++ ) {\r\n                        matches[i] = _isInView( elems[i], config ) ? elems[i] : undefined;\r\n                    }\r\n                }\r\n\r\n            } );\r\n        } );\r\n\r\n\r\n        /**\r\n         * Internals\r\n         */\r\n\r\n        /**\r\n         * Does the actual work of $.fn.hasScrollbar. Protected from external modification. See $.fn.hasScrollbar for\r\n         * details.\r\n         *\r\n         * @param   {jQuery} $elem\r\n         * @param   {string} [axis=\"both\"]  values \"horizontal\", \"vertical\", \"both\"\r\n         * @returns {boolean|Object|undefined}\r\n         */\r\n        function hasScrollbar ( $elem, axis ) {\r\n\r\n            var $body, elemProps, bodyProps, innerWidth, innerHeight, scrollWidth, scrollHeight,\r\n                query = { target: {} }, result = {}, context = {},\r\n                elem = $elem[0];\r\n\r\n            $elem = $elem.eq( 0 );\r\n            axis || ( axis = \"both\" );\r\n\r\n            query.getBoth = axis === \"both\";\r\n            query.getHorizontal = axis === \"horizontal\" || query.getBoth;\r\n            query.getVertical = axis === \"vertical\" || query.getBoth;\r\n\r\n            if ( axis !== \"horizontal\" && axis !== \"vertical\" && axis !== \"both\" ) throw new Error( \"Invalid parameter value: axis = \" + axis );\r\n            if ( ! $elem.length ) return;\r\n\r\n            // Transformations:\r\n            // - If called on a window, we need window, document, documentElement and body, and discard the element\r\n            // - If called on the document or document element, we treat it like a call on window (above)\r\n            // - If called on the body, we need document, documentElement and the body itself (again, we discard the element\r\n            //   to avoid ambiguity)\r\n            // - If called on an iframe element, we treat it like a window call, using the iframe content window\r\n            query.target.isWindow = $.isWindow( elem );\r\n            if ( query.target.isWindow ) {\r\n                context.document = elem.document;\r\n            } else if ( elem.nodeType === 9 ) {\r\n                context.document = elem;\r\n                query.target.isWindow = true;\r\n            } else if ( elem === elem.ownerDocument.documentElement ) {\r\n                context.document = elem.ownerDocument;\r\n                query.target.isWindow = true;\r\n            } else if ( elem.nodeType === 1 && elem.tagName.toLowerCase() === \"iframe\" ) {\r\n                context.document = elem.contentDocument || elem.contentWindow.document;\r\n                query.target.isWindow = true;\r\n            } else if ( elem === elem.ownerDocument.body ) {\r\n                context.document = elem.ownerDocument;\r\n                query.target.isBody = true;\r\n            }\r\n\r\n            if ( query.target.isWindow || query.target.isBody ) {\r\n                context.window = context.document.defaultView || context.document.parentWindow;\r\n                context.$document = $( context.document );\r\n                context.documentElement = context.document.documentElement;\r\n                context.body = context.document.body;\r\n\r\n                elem = $elem = undefined;       // won't be needed; discard, to avoid ambiguity in the code below\r\n            }\r\n\r\n            if ( query.target.isWindow ) {\r\n\r\n                result = _windowHasScrollbar( query, context );\r\n\r\n            } else if ( query.target.isBody ) {\r\n\r\n                // Checking for body scroll bars.\r\n                //\r\n                // body.clientWidth returns the width of the body, minus the scroll bars. We can simply compare it to the\r\n                // full width, provided that the browser displays scroll bars which take up space.\r\n                //\r\n                // By implication, this check DOES NOT work for an effective body overflow of \"auto\" in browsers which\r\n                // display scroll bars of width 0. (Affects iOS, other mobile browsers, and Safari on OS X when used without\r\n                // an attached mouse.) There simply is no reliable, bullet-proof way to determine the width of the body\r\n                // content, ie the true body scroll width, in those browsers.\r\n                bodyProps = _getViewportOverflows( query, context ).body;\r\n\r\n                $body = $( context.body );\r\n                if ( query.getHorizontal ) result.horizontal = bodyProps.overflowScrollX || bodyProps.overflowAutoX && context.body.clientHeight < $body.height();\r\n                if ( query.getVertical ) result.vertical = bodyProps.overflowScrollY || bodyProps.overflowAutoY && context.body.clientWidth < $body.width();\r\n\r\n            } else {\r\n\r\n                // Scroll bars on an ordinary HTML element\r\n                //\r\n                // If we deal with an ordinary element, we always need the overflow settings for both axes because the axes\r\n                // interact (one scroll bar can cause another).\r\n                elemProps = getCss( elem, [\"overflow\", \"overflowX\", \"overflowY\"], { toLowerCase: true } );\r\n                elemProps = getAppliedOverflows( elemProps, true );\r\n\r\n                scrollWidth = elem.scrollWidth;\r\n                scrollHeight = elem.scrollHeight;\r\n\r\n                result.horizontal = scrollWidth > 0 && ( elemProps.overflowScrollX || elemProps.overflowAutoX && ( innerWidth = $elem.innerWidth() ) < scrollWidth );\r\n                result.vertical = scrollHeight > 0 && ( elemProps.overflowScrollY || elemProps.overflowAutoY && ( innerHeight = $elem.innerHeight() ) < scrollHeight );\r\n\r\n                // Detect if the appearance of one scroll bar causes the other to appear, too.\r\n                result.vertical = result.vertical ||\r\n                    result.horizontal && elemProps.overflowAutoY &&\r\n                    ( innerHeight !== undefined ? innerHeight : $elem.innerHeight() ) - $.scrollbarWidth() < scrollHeight;\r\n                result.horizontal = result.horizontal ||\r\n                    result.vertical && elemProps.overflowAutoX &&\r\n                    ( innerWidth !== undefined ? innerWidth : $elem.innerWidth() ) - $.scrollbarWidth() < scrollWidth;\r\n\r\n            }\r\n\r\n            return query.getBoth ? result : query.getHorizontal ? result.horizontal : result.vertical;\r\n        }\r\n\r\n        /**\r\n         * Does the actual work of $.fn.scrollbarWidth. Protected from external modification. See $.fn.scrollbarWidth for\r\n         * details.\r\n         *\r\n         * @param   {jQuery} $elem\r\n         * @param   {string} [axis=\"both\"]  values \"horizontal\", \"vertical\", \"both\"\r\n         * @returns {number|Object}\r\n         */\r\n        function effectiveScrollbarWith ( $elem, axis ) {\r\n\r\n            var queryHorizontal, queryVertical, queryBoth, elemHasScrollbar, horizontal, vertical,\r\n                globalWidth = $.scrollbarWidth();\r\n\r\n            axis || ( axis = \"both\" );\r\n\r\n            queryBoth = axis === \"both\";\r\n            queryHorizontal = axis === \"horizontal\" || queryBoth;\r\n            queryVertical = axis === \"vertical\" || queryBoth;\r\n\r\n            if ( axis !== \"horizontal\" && axis !== \"vertical\" && axis !== \"both\" ) throw new Error( \"Invalid parameter value: axis = \" + axis );\r\n            if ( ! $elem.length ) return;\r\n\r\n            // Bail out early, without an $elem.hasScrollbar() query, if scroll bars don't take up any space.\r\n            if ( globalWidth === 0 ) return queryBoth ? { horizontal: 0, vertical: 0 } : 0;\r\n\r\n            elemHasScrollbar = queryBoth ? hasScrollbar( $elem ) : queryHorizontal ? { horizontal: hasScrollbar( $elem, \"horizontal\" ) } : { vertical: hasScrollbar( $elem, \"vertical\" ) };\r\n\r\n            if ( queryHorizontal ) horizontal = elemHasScrollbar.horizontal ? globalWidth : 0;\r\n            if ( queryVertical ) vertical = elemHasScrollbar.vertical ? globalWidth : 0;\r\n\r\n            return queryBoth ? { horizontal: horizontal, vertical: vertical } : queryHorizontal ? horizontal : vertical;\r\n\r\n        }\r\n\r\n        /**\r\n         * Does the actual work of $.fn.ownerWindow. Protected from external modification. See $.fn.ownerWindow for details.\r\n         *\r\n         * @param   {jQuery} $elem\r\n         * @returns {Window|undefined}\r\n         */\r\n        function ownerWindow ( $elem ) {\r\n            var elem = $elem[0],\r\n                ownerDocument = elem && ( elem.nodeType === 9 ? elem : elem.ownerDocument );\r\n\r\n            return ownerDocument && ( ownerDocument.defaultView || ownerDocument.parentWindow ) || $.isWindow( elem ) && elem || undefined;\r\n        }\r\n\r\n        /**\r\n         * Does the actual work of $.fn.inView. Protected from external modification. See $.fn.inView for details.\r\n         *\r\n         * @param {jQuery}                                    $elems\r\n         * @param {Window|Document|HTMLElement|jQuery|string} [container=window]\r\n         * @param {Object}                                    [opts]\r\n         * @param {boolean}                                   [opts.partially=false]\r\n         * @param {boolean}                                   [opts.excludeHidden=false]\r\n         * @param {string}                                    [opts.direction=\"both\"]\r\n         * @param {string}                                    [opts.box=\"border-box\"]     alternatively, \"content-box\"\r\n         * @param {number|string}                             [opts.tolerance=0]          number only (px), or with unit (\"px\" or \"%\" only)\r\n         *\r\n         * @returns {jQuery}\r\n         */\r\n        function inView ( $elems, container, opts ) {\r\n\r\n            var config,\r\n                elemsInView = [];\r\n\r\n            if ( ! $elems.length ) return $();\r\n\r\n            config = _prepareConfig( $elems, container, opts );\r\n\r\n            // Check if the elements are children of the container. For performance reasons, only the first element is\r\n            // examined.\r\n            checkHierarchy( $elems[0], config.container );\r\n\r\n            $elems.each( function () {\r\n                if ( _isInView( this, config ) ) elemsInView.push( this );\r\n            } );\r\n\r\n            return $( elemsInView );\r\n\r\n        }\r\n\r\n        /**\r\n         * Does the actual work of $.fn.isInView. Protected from external modification. See $.fn.isInView for details.\r\n         *\r\n         * @param {jQuery}                                    $elem\r\n         * @param {Window|Document|HTMLElement|jQuery|string} [container=window]\r\n         * @param {Object}                                    [opts]\r\n         * @param {boolean}                                   [opts.partially=false]\r\n         * @param {boolean}                                   [opts.excludeHidden=false]\r\n         * @param {string}                                    [opts.direction=\"both\"]\r\n         * @param {string}                                    [opts.box=\"border-box\"]     alternatively, \"content-box\"\r\n         * @param {number|string}                             [opts.tolerance=0]          number only (px), or with unit (\"px\" or \"%\" only)\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isInView ( $elem, container, opts ) {\r\n\r\n            var config,\r\n                elem = $elem[0];\r\n\r\n            if ( ! $elem.length ) return false;\r\n\r\n            config = _prepareConfig( $elem, container, opts );\r\n            checkHierarchy( elem, config.container );\r\n\r\n            return _isInView( elem, config );\r\n\r\n        }\r\n\r\n        /**\r\n         * Prepares the configuration for a single element query. Returns the config object which is to be consumed by\r\n         * _isInView().\r\n         *\r\n         * @param {jQuery}                                    $elem                       single element, or set of elements\r\n         * @param {Window|Document|HTMLElement|jQuery|string} [container=window]\r\n         * @param {Object}                                    [opts]\r\n         * @param {boolean}                                   [opts.partially=false]\r\n         * @param {boolean}                                   [opts.excludeHidden=false]\r\n         * @param {string}                                    [opts.direction=\"both\"]\r\n         * @param {string}                                    [opts.box=\"border-box\"]     alternatively, \"content-box\"\r\n         * @param {number|string}                             [opts.tolerance=0]          number only (px), or with unit (\"px\" or \"%\" only)\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        function _prepareConfig ( $elem, container, opts ) {\r\n\r\n            var $container, direction,\r\n                config = {};\r\n\r\n            opts || ( opts = {} );\r\n\r\n            container || ( container = ownerWindow( $elem ) );\r\n            config.$container = $container = wrapContainer( container );\r\n            config.container = container = $container[0];\r\n\r\n            checkOptions( opts );\r\n\r\n            direction = opts.direction || 'both';\r\n            config.useVertical = direction === 'both' || direction === 'vertical';\r\n            config.useHorizontal = direction === 'both' || direction === 'horizontal';\r\n\r\n            config.partially = opts.partially;\r\n            config.excludeHidden = opts.excludeHidden;\r\n            config.borderBox = opts.box !== 'content-box';\r\n            config.containerIsWindow = $.isWindow( container );\r\n\r\n            if ( opts.tolerance !== undefined ) {\r\n                config.toleranceType = ( isNumber( opts.tolerance ) || opts.tolerance.slice( -3 ) === \"px\" ) ? \"add\" : \"multiply\";\r\n                config.tolerance = config.toleranceType === \"add\" ? parseFloat( opts.tolerance ) : parseFloat( opts.tolerance ) / 100 + 1;\r\n            } else {\r\n                config.tolerance = 0;\r\n                config.toleranceType = \"add\";\r\n            }\r\n\r\n            // Create an object to cache DOM queries with regard to the viewport, for faster repeated access.\r\n            config.cache = {};\r\n\r\n            return config;\r\n        }\r\n\r\n        /**\r\n         * Returns if an element is in view, with regard to a given configuration.\r\n         *\r\n         * The configuration is built with _prepareConfig().\r\n         *\r\n         * @param {HTMLElement}        elem\r\n         * @param {Object}             config\r\n         * @param {HTMLElement|Window} config.container\r\n         * @param {jQuery}             config.$container\r\n         * @param {boolean}            config.containerIsWindow\r\n         * @param {Object}             config.cache\r\n         * @param {boolean}            config.useHorizontal\r\n         * @param {boolean}            config.useVertical\r\n         * @param {boolean}            config.partially\r\n         * @param {boolean}            config.excludeHidden\r\n         * @param {boolean}            config.borderBox\r\n         * @param {number}             config.tolerance\r\n         * @param {string}             config.toleranceType\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function _isInView ( elem, config ) {\r\n\r\n            var containerWidth, containerHeight, hTolerance, vTolerance, rect,\r\n                container = config.container,\r\n                $container = config.$container,\r\n                cache = config.cache,\r\n                elemInView = true;\r\n\r\n            if ( elem === container ) throw new Error( \"Invalid container: is the same as the element\" );\r\n\r\n            // When hidden elements are ignored, we check if an element consumes space in the document. And we bail out\r\n            // immediately if it doesn't.\r\n            //\r\n            // The test employed for this works in the vast majority of cases, but there is a limitation. We use offsetWidth\r\n            // and offsetHeight, which considers the content (incl. borders) but ignores margins. Zero-size content with a\r\n            // margin might actually consume space sometimes, but it won't be detected (see http://jsbin.com/tiwabo/3).\r\n            //\r\n            // That said, the definition of visibility and the actual test are the same as in jQuery :visible.\r\n            if ( config.excludeHidden && !( elem.offsetWidth > 0 && elem.offsetHeight > 0 ) ) return false;\r\n\r\n            if ( config.useHorizontal ) containerWidth = getNetContainerWidth( $container, config.containerIsWindow, cache );\r\n            if ( config.useVertical ) containerHeight = getNetContainerHeight( $container, config.containerIsWindow, cache );\r\n\r\n            // Convert tolerance to a px value (if given as a percentage)\r\n            hTolerance = cache.hTolerance !== undefined ? cache.hTolerance : ( cache.hTolerance = config.toleranceType === \"add\" ? config.tolerance : containerWidth * config.tolerance );\r\n            vTolerance = cache.vTolerance !== undefined ? cache.vTolerance : ( cache.vTolerance = config.toleranceType === \"add\" ? config.tolerance : containerHeight * config.tolerance );\r\n\r\n            // We can safely use getBoundingClientRect without a fallback. Its core properties (top, left, bottom, right)\r\n            // are supported on the desktop for ages (IE5+). On mobile, too: supported from Blackberry 6+ (2010), iOS 4\r\n            // (2010, iPhone 3GS+), according to the jQuery source comment in $.fn.offset.\r\n            //\r\n            // In oldIE (up to IE8), the coordinates were 2px off in each dimension because the \"viewport\" began at (2,2) of\r\n            // the window. Can be feature-tested by creating an absolutely positioned div at (0,0) and reading the rect\r\n            // coordinates. Won't be fixed here because the quirk is too minor to justify the overhead, just for oldIE.\r\n            //\r\n            // (See http://stackoverflow.com/a/10231202/508355 and Zakas, Professional Javascript (2012), p. 406)\r\n\r\n            rect = config.borderBox ? elem.getBoundingClientRect() : getContentRect( elem );\r\n            if ( ! config.containerIsWindow ) rect = getRelativeRect( rect, $container, cache );\r\n\r\n            if ( config.partially ) {\r\n                if ( config.useVertical ) elemInView = rect.top < containerHeight + vTolerance && rect.bottom > -vTolerance;\r\n                if ( config.useHorizontal ) elemInView = elemInView && rect.left < containerWidth + hTolerance && rect.right > -hTolerance;\r\n            } else {\r\n                if ( config.useVertical ) elemInView = rect.top >= -vTolerance && rect.top < containerHeight + vTolerance && rect.bottom > -vTolerance && rect.bottom <= containerHeight + vTolerance;\r\n                if ( config.useHorizontal ) elemInView = elemInView && rect.left >= -hTolerance && rect.left < containerWidth + hTolerance && rect.right > -hTolerance && rect.right <= containerWidth + hTolerance;\r\n            }\r\n\r\n            return elemInView;\r\n\r\n        }\r\n\r\n        /**\r\n         * Gets the TextRectangle coordinates relative to a container element.\r\n         *\r\n         * Do not call if the container is a window (redundant) or a document. Both calls would fail.\r\n         */\r\n        function getRelativeRect ( rect, $container, cache ) {\r\n            var containerPaddingRectRoot;\r\n\r\n            if ( cache && cache.containerPaddingRectRoot ) {\r\n\r\n                containerPaddingRectRoot = cache.containerPaddingRectRoot;\r\n\r\n            } else {\r\n                // gBCR coordinates enclose padding, and leave out margin. That is perfect for scrolling because\r\n                //\r\n                // - padding scrolls (ie,o it is part of the scrollable area, and gBCR puts it inside)\r\n                // - margin doesn't scroll (ie, it pushes the scrollable area to another position, and gBCR records that)\r\n                //\r\n                // Borders, however, don't scroll, so they are not part of the scrollable area, but gBCR puts them inside.\r\n                //\r\n                // (See http://jsbin.com/pivata/10 for an extensive test of gBCR behaviour.)\r\n\r\n                containerPaddingRectRoot = getPaddingRectRoot( $container[0] );\r\n\r\n                // Cache the calculations\r\n                if ( cache ) cache.containerPaddingRectRoot = containerPaddingRectRoot;\r\n            }\r\n\r\n            return {\r\n                top: rect.top - containerPaddingRectRoot.top,\r\n                bottom: rect.bottom - containerPaddingRectRoot.top,\r\n                left: rect.left - containerPaddingRectRoot.left,\r\n                right: rect.right - containerPaddingRectRoot.left\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Calculates the rect of the content-box. Similar to getBoundingClientRect, but excludes padding and borders - and\r\n         * is much slower.\r\n         *\r\n         * @param   {HTMLElement} elem\r\n         * @returns {ClientRect}\r\n         */\r\n        function getContentRect( elem ) {\r\n\r\n            var rect = elem.getBoundingClientRect(),\r\n                props = getCss( elem, [\r\n                    \"borderTopWidth\", \"borderRightWidth\", \"borderBottomWidth\", \"borderLeftWidth\",\r\n                    \"paddingTop\", \"paddingRight\", \"paddingBottom\", \"paddingLeft\"\r\n                ], { toFloat: true } );\r\n\r\n            return {\r\n                top: rect.top + props.paddingTop + props.borderTopWidth,\r\n                right: rect.right - ( props.paddingRight + props.borderRightWidth ),\r\n                bottom: rect.bottom - ( props.paddingBottom + props.borderBottomWidth ),\r\n                left: rect.left + props.paddingLeft + props.borderLeftWidth\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Returns the top, left coordinates of the rect of the padding box (offset box).\r\n         *\r\n         * The coordinates match those of getBoundingClientRect, but exclude the borders.\r\n         *\r\n         * Does not care about bottom, right coordinates, in order to speed up the process.\r\n         *\r\n         * @param   {HTMLElement} elem\r\n         * @returns {{ top: number, left: number }}\r\n         */\r\n        function getPaddingRectRoot( elem ) {\r\n\r\n            var rect = elem.getBoundingClientRect(),\r\n                props = getCss( elem, [\r\n                    \"borderTopWidth\", \"borderLeftWidth\"\r\n                ], { toFloat: true } );\r\n\r\n            return {\r\n                top: rect.top + props.borderTopWidth,\r\n                left: rect.left + props.borderLeftWidth\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Returns the scroll bar state of the window. Helper for hasScrollbar().\r\n         *\r\n         * @param {Object} query\r\n         * @param {Object} context\r\n         *\r\n         * @returns {{vertical: boolean, horizontal: boolean}}\r\n         */\r\n        function _windowHasScrollbar ( query, context ) {\r\n\r\n            var windowInnerHeight, windowInnerWidth, windowProps,\r\n                scrollbarWidth = $.scrollbarWidth(),\r\n                result = {},\r\n                doneX = ! query.getHorizontal,\r\n                doneY = ! query.getVertical;\r\n\r\n            // We may be able to take a shortcut. The window.innerWidth and -Height report the dimensions of the viewport\r\n            // including scroll bars, and documentElement.clientWidth and -Height report them without scroll bars. That\r\n            // gives the presence of a scroll bar away, as long as\r\n            //\r\n            // - the scroll bars actually take up space (width > 0)\r\n            // - the browser supports window.innerWidth/Height (IE8, for instance, does not)\r\n            // - the browser doesn't report a buggy value. FF has a bug which as only been fixed in FF25 (released 29 Oct\r\n            //   2013). It manifests itself in a fictional return value of 10 for these properties. See\r\n            //   * https://developer.mozilla.org/en-US/docs/Web/API/Window.innerWidth\r\n            //   * https://developer.mozilla.org/en-US/docs/Web/API/Window.innerHeight\r\n            //   * https://bugzilla.mozilla.org/show_bug.cgi?id=641188\r\n\r\n            if ( query.getHorizontal && scrollbarWidth > 0 ) {\r\n                windowInnerHeight = context.window.innerHeight;\r\n                if ( windowInnerHeight > 10 ) {\r\n                    result.horizontal = windowInnerHeight > context.documentElement.clientHeight;\r\n                    doneX = true;\r\n                }\r\n            }\r\n\r\n            if ( query.getVertical && scrollbarWidth > 0 ) {\r\n                windowInnerWidth = context.window.innerWidth;\r\n                if ( windowInnerWidth > 10 ) {\r\n                    result.vertical = windowInnerWidth > context.documentElement.clientWidth;\r\n                    doneY = true;\r\n                }\r\n            }\r\n\r\n            if ( ! doneX || ! doneY ) {\r\n\r\n                // Shortcut didn't work. We have to evaluate overflow settings, window and document size.\r\n\r\n                windowProps = _getViewportOverflows( query, context ).window;\r\n\r\n                // Handle the trivial cases first: window set to overflow: scroll or to overflow: hidden.\r\n                if ( ! doneX && windowProps.overflowScrollX ) result.horizontal = doneX = true;\r\n                if ( ! doneY && windowProps.overflowScrollY ) result.vertical = doneY = true;\r\n\r\n                if ( ! doneX && windowProps.overflowHiddenX ) {\r\n                    result.horizontal = false;\r\n                    doneX = true;\r\n                }\r\n\r\n                if ( ! doneY && windowProps.overflowHiddenY ) {\r\n                    result.vertical = false;\r\n                    doneY = true;\r\n                }\r\n\r\n                // Handle the remaining overflow: auto case\r\n                //\r\n                // (There is no actual overflow: visible case for the viewport, see getAppliedViewportOverflows.)\r\n                if ( ! doneX ) result.horizontal = context.documentElement.clientWidth < $.documentWidth( context.document );\r\n                if ( ! doneY ) result.vertical = context.documentElement.clientHeight < $.documentHeight( context.document );\r\n\r\n            }\r\n\r\n            return result;\r\n\r\n        }\r\n\r\n        /**\r\n         * Returns the applied overflow for the viewport (documentElement) and body in an aggregated `{ window: ...,\r\n         * body: ...}` hash. Helper for hasScrollbar().\r\n         *\r\n         * If we deal with window or body scroll bars, we always need the settings for both body and window (documentElement)\r\n         * because they are interdependent. See getAppliedViewportOverflows().\r\n         *\r\n         * @param {Object} query\r\n         * @param {Object} context\r\n         * @returns {{window: AppliedOverflow, body: AppliedOverflow}}\r\n         */\r\n        function _getViewportOverflows ( query, context ) {\r\n            var windowProps, bodyProps,\r\n                overflowPropNames = [ \"overflow\"],\r\n                bodyOverflowPropNames = [ \"overflow\" ];\r\n\r\n            if ( query.getHorizontal ) {\r\n                overflowPropNames.push( \"overflowX\" );\r\n                bodyOverflowPropNames.push( \"overflowX\" );\r\n            }\r\n            if ( query.getVertical ) {\r\n                overflowPropNames.push( \"overflowY\" );\r\n                bodyOverflowPropNames.push( \"overflowY\" );\r\n            }\r\n\r\n            windowProps = getCss( context.documentElement, overflowPropNames, { toLowerCase: true } );\r\n            bodyProps = getCss( context.body, bodyOverflowPropNames, { toLowerCase: true } );\r\n\r\n            return getAppliedViewportOverflows( windowProps, bodyProps );\r\n        }\r\n\r\n        /**\r\n         * Determines the effective overflow setting of an element, separately for each axis, based on the `overflow`,\r\n         * `overflowX` and `overflowY` properties of the element which must be passed in as a hash.\r\n         *\r\n         * Returns a hash of the computed results for overflowX, overflowY. Also adds boolean status properties to the hash\r\n         * if the createBooleans flag is set. These are properties for mere convenience. They signal if a particular\r\n         * overflow type applies (e.g. overflowHiddenX = true/false).\r\n         *\r\n         * ATTN The method does not take the special relation of body and documentElement into account. That is handled by\r\n         * the more specific getAppliedViewportOverflows() function.\r\n         *\r\n         * The effective overflow setting is established as follows:\r\n         *\r\n         * - If a computed value for `overflow(X/Y)` exists, it gets applied to the axis.\r\n         * - If not, the computed value of the general `overflow` setting gets applied to the axis.\r\n         * - If there is no computed value at all, the overflow default gets applied to the axis. The default is\r\n         *   \"visible\" in seemingly every browser out there. Falling back to the default should never be necessary,\r\n         *   though, because there always is a computed value.\r\n         *\r\n         * @param {Object}        props            hash of element properties (computed values)\r\n         * @param {string}        props.overflow\r\n         * @param {string}        props.overflowX\r\n         * @param {string}        props.overflowY\r\n         * @param {boolean=false} createBooleans   if true, create the full set of boolean status properties, e.g.\r\n         *                                         overflowVisibleX (true/false), overflowHiddenY (true/false) etc\r\n         * @returns {AppliedOverflow}              hash of the computed results: overflowX, overflowY, optional boolean\r\n         *                                         status properties\r\n         */\r\n        function getAppliedOverflows ( props, createBooleans ) {\r\n            var status = {};\r\n\r\n            // Establish the applied overflow (e.g. overflowX: \"scroll\")\r\n            status.overflowX = props.overflowX || props.overflow || \"visible\";\r\n            status.overflowY = props.overflowY || props.overflow || \"visible\";\r\n\r\n            // Create the derived boolean status properties (e.g overflowScrollX: true)\r\n            if ( createBooleans ) {\r\n                $.each( [ \"Visible\", \"Auto\", \"Scroll\", \"Hidden\" ], function ( index, type ) {\r\n                    var lcType = type.toLowerCase();\r\n                    status[\"overflow\" + type + \"X\"] = status.overflowX === lcType;\r\n                    status[\"overflow\" + type + \"Y\"] = status.overflowY === lcType;\r\n                } );\r\n            }\r\n\r\n            return status;\r\n        }\r\n\r\n        /**\r\n         * Determines the effective overflow setting of the viewport and body, separately for each axis, based on the\r\n         * `overflow`, `overflowX` and `overflowY` properties of the documentElement and body which must be passed in as a\r\n         * hash.\r\n         *\r\n         * Returns the results for viewport and body in an aggregated `{ window: ..., body: ...}` hash.\r\n         *\r\n         * For the basic resolution mechanism, see getAppliedOverflows(). When determining the effective overflow, the\r\n         * peculiarities of viewport and body are taken into account:\r\n         *\r\n         * - Viewport and body overflows are interdependent. If the nominal viewport overflow for a given axis is \"visible\",\r\n         *   the viewport inherits the body overflow for that axis, and the body overflow is set to \"visible\". Curiously,\r\n         *   that transfer is _not_ reflected in the computed values, it just manifests in behaviour.\r\n         *\r\n         * - Once that is done, if the viewport overflow is still \"visible\" for an axis, it is effectively turned into\r\n         *   \"auto\". Scroll bars appear when the content overflows the viewport (ie, \"auto\" behaviour). Hence, this function\r\n         *   will indeed report \"auto\". Again, the transformation is only manifest in behaviour, not in the computed values.\r\n         *\r\n         * - In iOS, if the effective overflow setting of the viewport is \"hidden\", it is ignored and treated as \"auto\".\r\n         *   Content can still overflow the viewport, and scroll bars appear as needed.\r\n         *\r\n         *   Now, the catch. This behaviour is impossible to feature-detect. The computed values are not at all affected by\r\n         *   it, and the results reported eg. for clientHeight, offsetHeight, scrollHeight of body and documentElement do\r\n         *   not differ between Safari on iOS and, say, Chrome on the desktop. The numbers don't give the behaviour away.\r\n         *\r\n         *   So we have to resort to browser sniffing here. It sucks, but there is literally no other option.\r\n         *\r\n         * NB Additional status properties (see getAppliedOverflows) are always generated here.\r\n         *\r\n         * @param {Object} documentElementProps            hash of documentElement properties (computed values)\r\n         * @param {string} documentElementProps.overflow\r\n         * @param {string} documentElementProps.overflowX\r\n         * @param {string} documentElementProps.overflowY\r\n         *\r\n         * @param {Object} bodyProps                       hash of body properties (computed values)\r\n         * @param {string} bodyProps.overflow\r\n         * @param {string} bodyProps.overflowX\r\n         * @param {string} bodyProps.overflowY\r\n         *\r\n         * @returns {{window: AppliedOverflow, body: AppliedOverflow}}\r\n         */\r\n        function getAppliedViewportOverflows ( documentElementProps, bodyProps ) {\r\n            var _window = getAppliedOverflows( documentElementProps, false ),\r\n                body = getAppliedOverflows( bodyProps, false ),\r\n                consolidated = { window: {}, body: {} };\r\n\r\n            // Handle the interdependent relationship between body and window (documentElement) overflow\r\n            if ( _window.overflowX === \"visible\" ) {\r\n                // If the window overflow is set to \"visible\", body props get transferred to the window, body changes to\r\n                // \"visible\". (Nothing really changes if both are set to \"visible\".)\r\n                consolidated.body.overflowX = \"visible\";\r\n                consolidated.window.overflowX = body.overflowX;\r\n            } else {\r\n                // No transfer of properties.\r\n                // - If body overflow is \"visible\", it remains that way, and the window stays as it is.\r\n                // - If body and window are set to properties other than \"visible\", they keep their divergent settings.\r\n                consolidated.body.overflowX = body.overflowX;\r\n                consolidated.window.overflowX = _window.overflowX;\r\n            }\r\n\r\n            // Repeat for overflowY\r\n            if ( _window.overflowY === \"visible\" ) {\r\n                consolidated.body.overflowY = \"visible\";\r\n                consolidated.window.overflowY = body.overflowY;\r\n            } else {\r\n                consolidated.body.overflowY = body.overflowY;\r\n                consolidated.window.overflowY = _window.overflowY;\r\n            }\r\n\r\n            // window.overflow(X/Y): \"visible\" actually means \"auto\" because scroll bars appear as needed; transform\r\n            if ( consolidated.window.overflowX === \"visible\" ) consolidated.window.overflowX = \"auto\";\r\n            if ( consolidated.window.overflowY === \"visible\" ) consolidated.window.overflowY = \"auto\";\r\n\r\n            // In iOS, window.overflow(X/Y): \"hidden\" actually means \"auto\"; transform\r\n            if ( isIOS() ) {\r\n                if ( consolidated.window.overflowX === \"hidden\" ) consolidated.window.overflowX = \"auto\";\r\n                if ( consolidated.window.overflowY === \"hidden\" ) consolidated.window.overflowY = \"auto\";\r\n            }\r\n\r\n            // Add the boolean status properties to the result\r\n            consolidated.window = getAppliedOverflows( consolidated.window, true );\r\n            consolidated.body = getAppliedOverflows( consolidated.body, true );\r\n\r\n            return consolidated;\r\n        }\r\n\r\n        /**\r\n         * Establishes the container and returns it in a jQuery wrapper.\r\n         *\r\n         * Resolves and normalizes the input, which may be a document, HTMLElement, window, or selector string. Corrects\r\n         * likely mistakes, such as passing in a document or an iframe, rather than the corresponding window.\r\n         *\r\n         * @param {Window|Document|HTMLElement|HTMLIFrameElement|jQuery|string} container\r\n         * @returns {jQuery}\r\n         */\r\n        function wrapContainer ( container ) {\r\n            var $container,\r\n                isJquery = container instanceof $;\r\n\r\n            if ( ! isJquery && ! $.isWindow( container ) && ! container.nodeType && ! isString( container ) ) throw new Error( 'Invalid container: not a window, node, jQuery object or selector string' );\r\n\r\n            $container = isJquery ? container : container === root ? $root : $( container );\r\n\r\n            if ( !$container.length ) throw new Error( 'Invalid container: empty jQuery object' );\r\n\r\n            container = $container[0];\r\n\r\n            if ( container.nodeType === 9 ) {\r\n                // Document is passed in, transform to window\r\n                $container = wrapContainer( container.defaultView || container.parentWindow );\r\n            } else if ( container.nodeType === 1 && container.tagName.toLowerCase() === \"iframe\" ) {\r\n                // IFrame element is passed in, transform to IFrame content window\r\n                $container = wrapContainer( container.contentWindow );\r\n            }\r\n\r\n            // Check if the container matches the requirements\r\n            if ( !$.isWindow( $container[0] ) && $container.css( \"overflow\" ) === \"visible\" ) throw new Error( 'Invalid container: is set to overflow:visible. Containers must have the ability to obscure some of their content, otherwise the in-view test is pointless. Containers must be set to overflow:scroll/auto/hide, or be a window (or document, or iframe, as proxies for a window)' );\r\n\r\n            return $container;\r\n        }\r\n\r\n        /**\r\n         * Checks if the element is a descendant of the container, and throws an error otherwise. Also checks the type of\r\n         * the element (must indeed be an element node).\r\n         *\r\n         * For performance reasons, this check should *not* be run on every element in a set.\r\n         *\r\n         * @param {HTMLElement}                 elem\r\n         * @param {Window|Document|HTMLElement} container\r\n         */\r\n        function checkHierarchy ( elem, container ) {\r\n\r\n            var elemIsContained;\r\n\r\n            if ( elem.nodeType !== 1 ) throw new Error( \"Invalid node: is not an element\" );\r\n\r\n            if ( $.isWindow( container ) ) {\r\n                elemIsContained = elem.ownerDocument && container === ( elem.ownerDocument.defaultView || elem.ownerDocument.parentWindow );\r\n            } else if ( container.nodeType === 9 ) {\r\n                // We need a DOM element for this check, so we use the documentElement as a proxy if the container is a document.\r\n                elemIsContained = $.contains( container.documentElement, elem );\r\n            } else {\r\n                elemIsContained = $.contains( container, elem );\r\n            }\r\n\r\n            if ( !elemIsContained ) throw new Error( \"Invalid container: is not an ancestor of the element\" );\r\n\r\n        }\r\n\r\n        /**\r\n         * Spots likely option mistakes and throws appropriate errors.\r\n         *\r\n         * @param {Object} opts\r\n         */\r\n        function checkOptions ( opts ) {\r\n            var isNum, isNumWithUnit;\r\n\r\n            if ( opts.direction && !( opts.direction === 'vertical' || opts.direction === 'horizontal' || opts.direction === 'both' ) ) {\r\n                throw new Error( 'Invalid option value: direction = \"' + opts.direction + '\"' );\r\n            }\r\n\r\n            if ( opts.box && !( opts.box === 'border-box' || opts.box === 'content-box' ) ) {\r\n                throw new Error( 'Invalid option value: box = \"' + opts.box + '\"' );\r\n            }\r\n\r\n            if ( opts.tolerance !== undefined ) {\r\n                isNum = isNumber( opts.tolerance );\r\n                isNumWithUnit = isString( opts.tolerance ) && ( /^[+-]?\\d*\\.?\\d+(px|%)?$/.test( opts.tolerance ) );\r\n                if ( ! ( isNum || isNumWithUnit ) ) throw new Error( 'Invalid option value: tolerance = \"' + opts.tolerance + '\"' );\r\n            }\r\n\r\n        }\r\n\r\n        /**\r\n         * Gets the width of a jQuery-wrapped container, excluding scroll bars. Also supports quirks mode for window\r\n         * containers, unlike jQuery's $( window ).width(). Makes use of caching if a cache object is provided.\r\n         *\r\n         * @param   {jQuery}  $container\r\n         * @param   {boolean} isWindow    required to speed up the process\r\n         * @param   {Object}  [cache]\r\n         * @returns {number}\r\n         */\r\n        function getNetContainerWidth ( $container, isWindow, cache ) {\r\n            var width;\r\n\r\n            if ( cache && cache.netContainerWidth !== undefined ) {\r\n                width = cache.netContainerWidth;\r\n            } else {\r\n                width = isWindow ?\r\n                    getWindowDimension( $container, \"Width\" ) :\r\n                $container.innerWidth() - getContainerScrollbarWidths( $container, cache ).vertical;\r\n\r\n                if ( cache ) cache.netContainerWidth = width;\r\n            }\r\n\r\n            return width;\r\n        }\r\n\r\n        /**\r\n         * Gets the height of a jQuery-wrapped container, excluding scroll bars. Also supports quirks mode for window\r\n         * containers, unlike jQuery's $( window ).height(). Makes use of caching if a cache object is provided.\r\n         *\r\n         * @param   {jQuery}  $container\r\n         * @param   {boolean} isWindow    required to speed up the process\r\n         * @param   {Object}  [cache]\r\n         * @returns {number}\r\n         */\r\n        function getNetContainerHeight ( $container, isWindow, cache ) {\r\n            var height;\r\n\r\n            if ( cache && cache.netContainerHeight !== undefined ) {\r\n                height = cache.netContainerHeight;\r\n            } else {\r\n                height = isWindow ?\r\n                    getWindowDimension( $container, \"Height\" ) :\r\n                $container.innerHeight() - getContainerScrollbarWidths( $container, cache ).horizontal;\r\n\r\n                if ( cache ) cache.netContainerHeight = height;\r\n            }\r\n\r\n            return height;\r\n        }\r\n\r\n        /**\r\n         * Gets the effective scroll bar widths of a given container. Makes use of caching if a cache object is provided.\r\n         *\r\n         * @param   {jQuery} $container\r\n         * @param   {Object} [cache]\r\n         * @returns {Object}\r\n         */\r\n        function getContainerScrollbarWidths ( $container, cache ) {\r\n            var containerScrollbarWidths;\r\n\r\n            if ( cache && cache.containerScrollbarWidths ) {\r\n                containerScrollbarWidths = cache.containerScrollbarWidths;\r\n            } else {\r\n                containerScrollbarWidths = effectiveScrollbarWith( $container );\r\n                if ( cache ) cache.containerScrollbarWidths = containerScrollbarWidths;\r\n            }\r\n\r\n            return containerScrollbarWidths;\r\n        }\r\n\r\n        /**\r\n         * Gets the width or height of a jQuery-wrapped window. Use it instead of $container.width(). Supports quirks mode,\r\n         * unlike jQuery.\r\n         *\r\n         * Window dimensions are calculated as in Zakas, Professional Javascript (2012), p. 404. The standards mode part of\r\n         * it is the same as in jQuery, too.\r\n         *\r\n         * @param {jQuery} $window\r\n         * @param {string} dimension  \"Width\" or \"Height\" (capitalized!)\r\n         * @returns {number}\r\n         */\r\n        function getWindowDimension ( $window, dimension ) {\r\n            var doc = $window[0].document,\r\n                property = \"client\" + dimension;\r\n\r\n            return doc.compatMode === \"BackCompat\" ? doc.body[property] : doc.documentElement[property];\r\n        }\r\n\r\n        /**\r\n         * Returns the computed style for a property, or an array of properties, as a hash.\r\n         *\r\n         * Building a CSS properties hash this way can be significantly faster than the more convenient, conventional jQuery\r\n         * approach, $( elem ).css( propertiesArray ).\r\n         *\r\n         * ATTN\r\n         * ====\r\n         *\r\n         * We are using an internal jQuery API here: $.css(). The current signature was introduced in jQuery 1.9.0. It may\r\n         * break without warning with any change of the minor version.\r\n         *\r\n         * For that reason, the $.css API is monitored by the tests in api.jquery.css.spec.js which verify that it works as\r\n         * expected.\r\n         *\r\n         * @param {HTMLElement}     elem\r\n         * @param {string|string[]} properties\r\n         * @param {Object}          [opts]\r\n         * @param {boolean}         [opts.toLowerCase=false]  ensures return values in lower case\r\n         * @param {boolean}         [opts.toFloat=false]      converts return values to numbers, using parseFloat\r\n         *\r\n         * @returns {Object}        property names and their values\r\n         */\r\n        function getCss ( elem, properties, opts ) {\r\n            var i, length, name,\r\n                props = {},\r\n                _window = ( elem.ownerDocument.defaultView || elem.ownerDocument.parentWindow ),\r\n                computedStyles = _useGetComputedStyle ? _window.getComputedStyle( elem, null ) : elem.currentStyle;\r\n\r\n            opts || ( opts = {} );\r\n\r\n            if ( ! $.isArray( properties ) ) properties = [ properties ];\r\n            length = properties.length;\r\n\r\n            for ( i = 0; i < length; i++ ) {\r\n                name = properties[i];\r\n                props[name] = $.css( elem, name, false, computedStyles );\r\n                if ( opts.toLowerCase && props[name] && props[name].toLowerCase ) props[name] = props[name].toLowerCase();\r\n                if ( opts.toFloat ) props[name] = parseFloat( props[name] );\r\n            }\r\n\r\n            return props;\r\n        }\r\n\r\n        /**\r\n         * Returns the bounding client rect, including width and height properties. Ensures compatibility with IE8, which\r\n         * supports getBoundingClientRect but doesn't calculate width and height.\r\n         *\r\n         * Use only when width and height are actually needed.\r\n         *\r\n         * Will be removed when IE8 support is dropped entirely.\r\n         *\r\n         * @param   {HTMLElement} elem\r\n         * @returns {ClientRect}\r\n         */\r\n        function getBoundingClientRectCompat ( elem ) {\r\n            var elemRect = elem.getBoundingClientRect();\r\n\r\n            if ( elemRect.width === undefined || elemRect.height === undefined ) {\r\n                // Fix for IE8\r\n                elemRect = {\r\n                    top: elemRect.top,\r\n                    left: elemRect.left,\r\n                    bottom: elemRect.bottom,\r\n                    right: elemRect.right,\r\n                    width:  elemRect.right - elemRect.left,\r\n                    height: elemRect.bottom - elemRect.top\r\n                };\r\n            }\r\n\r\n            return elemRect;\r\n        }\r\n\r\n        /**\r\n         * Detects if the browser is on iOS. Works for Safari as well as other browsers, say, Chrome on iOS.\r\n         *\r\n         * Required for some iOS behaviour which can't be feature-detected in any way.\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isIOS () {\r\n            if ( _isIOS === undefined ) _isIOS = (/iPad|iPhone|iPod/g).test( navigator.userAgent );\r\n            return _isIOS;\r\n        }\r\n\r\n        /**\r\n         * Calls parseFloat on each value. Useful for removing units from numeric values.\r\n         *\r\n         * @param   {Object} object\r\n         * @returns {Object}\r\n         */\r\n        function toFloat ( object ) {\r\n            var transformed =  {};\r\n\r\n            $.map( object, function ( value, key ) {\r\n                transformed[key] =  parseFloat( value );\r\n            } );\r\n\r\n            return transformed;\r\n        }\r\n\r\n        /**\r\n         * Returns whether or not a value is of type number. Also rejects NaN as a number.\r\n         *\r\n         * NB This is not the same as $.isNumeric because $.isNumeric( \"3\" ) is true while isNumber( \"3\" ) is false.\r\n         *\r\n         * @param {*} value\r\n         * @returns {boolean}\r\n         */\r\n        function isNumber ( value ) {\r\n            // Done as in the Lodash compatibility build, but rejecting NaN as a number.\r\n            var isNumeric = typeof value === 'number' || value && typeof value === 'object' && Object.prototype.toString.call( value ) === '[object Number]' || false;\r\n\r\n            // Reject NaN before returning\r\n            return isNumeric && value === +value;\r\n        }\r\n\r\n        function isString ( value ) {\r\n            // Done as in the Lodash compatibility build\r\n            return typeof value === 'string' || value && typeof value === 'object' && Object.prototype.toString.call(value) === '[object String]' || false;\r\n        }\r\n\r\n        /**\r\n         * Custom types.\r\n         *\r\n         * For easier documentation and type inference.\r\n         */\r\n\r\n        /**\r\n         * @name  AppliedOverflow\r\n         * @type  {Object}\r\n         *\r\n         * @property {string}  overflowX\r\n         * @property {string}  overflowY\r\n         * @property {boolean} overflowVisibleX\r\n         * @property {boolean} overflowVisibleY\r\n         * @property {boolean} overflowAutoX\r\n         * @property {boolean} overflowAutoY\r\n         * @property {boolean} overflowScrollX\r\n         * @property {boolean} overflowScrollY\r\n         * @property {boolean} overflowHiddenX\r\n         * @property {boolean} overflowHiddenY\r\n         */\r\n\r\n\r\n    }( typeof jQuery !== \"undefined\" ? jQuery : $ ));\r\n\r\n} ));\r\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\")))\n\n//# sourceURL=webpack:///./src/public/js/plugins/jquery.isinview.js?");

/***/ }),

/***/ "./src/public/js/vendor/angular/angular-cookies.min.js":
/*!*************************************************************!*\
  !*** ./src/public/js/vendor/angular/angular-cookies.min.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*\r\n AngularJS v1.4.7\r\n (c) 2010-2015 Google, Inc. http://angularjs.org\r\n License: MIT\r\n */\r\n(function(p,c,n){'use strict';function l(b,a,g){var d=g.baseHref(),k=b[0];return function(b,e,f){var g,h;f=f||{};h=f.expires;g=c.isDefined(f.path)?f.path:d;c.isUndefined(e)&&(h=\"Thu, 01 Jan 1970 00:00:00 GMT\",e=\"\");c.isString(h)&&(h=new Date(h));e=encodeURIComponent(b)+\"=\"+encodeURIComponent(e);e=e+(g?\";path=\"+g:\"\")+(f.domain?\";domain=\"+f.domain:\"\");e+=h?\";expires=\"+h.toUTCString():\"\";e+=f.secure?\";secure\":\"\";f=e.length+1;4096<f&&a.warn(\"Cookie '\"+b+\"' possibly not set or overflowed because it was too large (\"+\r\n    f+\" > 4096 bytes)!\");k.cookie=e}}c.module(\"ngCookies\",[\"ng\"]).provider(\"$cookies\",[function(){var b=this.defaults={};this.$get=[\"$$cookieReader\",\"$$cookieWriter\",function(a,g){return{get:function(d){return a()[d]},getObject:function(d){return(d=this.get(d))?c.fromJson(d):d},getAll:function(){return a()},put:function(d,a,m){g(d,a,m?c.extend({},b,m):b)},putObject:function(d,b,a){this.put(d,c.toJson(b),a)},remove:function(a,k){g(a,n,k?c.extend({},b,k):b)}}}]}]);c.module(\"ngCookies\").factory(\"$cookieStore\",\r\n    [\"$cookies\",function(b){return{get:function(a){return b.getObject(a)},put:function(a,c){b.putObject(a,c)},remove:function(a){b.remove(a)}}}]);l.$inject=[\"$document\",\"$log\",\"$browser\"];c.module(\"ngCookies\").provider(\"$$cookieWriter\",function(){this.$get=l})})(window,window.angular);\n\n//# sourceURL=webpack:///./src/public/js/vendor/angular/angular-cookies.min.js?");

/***/ }),

/***/ "./src/public/js/vendor/angular/angular-route.min.js":
/*!***********************************************************!*\
  !*** ./src/public/js/vendor/angular/angular-route.min.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*\r\n AngularJS v1.4.7\r\n (c) 2010-2015 Google, Inc. http://angularjs.org\r\n License: MIT\r\n */\r\n(function(p,c,C){'use strict';function v(r,h,g){return{restrict:\"ECA\",terminal:!0,priority:400,transclude:\"element\",link:function(a,f,b,d,y){function z(){k&&(g.cancel(k),k=null);l&&(l.$destroy(),l=null);m&&(k=g.leave(m),k.then(function(){k=null}),m=null)}function x(){var b=r.current&&r.current.locals;if(c.isDefined(b&&b.$template)){var b=a.$new(),d=r.current;m=y(b,function(b){g.enter(b,null,m||f).then(function(){!c.isDefined(t)||t&&!a.$eval(t)||h()});z()});l=d.scope=b;l.$emit(\"$viewContentLoaded\");\r\n    l.$eval(w)}else z()}var l,m,k,t=b.autoscroll,w=b.onload||\"\";a.$on(\"$routeChangeSuccess\",x);x()}}}function A(c,h,g){return{restrict:\"ECA\",priority:-400,link:function(a,f){var b=g.current,d=b.locals;f.html(d.$template);var y=c(f.contents());b.controller&&(d.$scope=a,d=h(b.controller,d),b.controllerAs&&(a[b.controllerAs]=d),f.data(\"$ngControllerController\",d),f.children().data(\"$ngControllerController\",d));y(a)}}}p=c.module(\"ngRoute\",[\"ng\"]).provider(\"$route\",function(){function r(a,f){return c.extend(Object.create(a),\r\n    f)}function h(a,c){var b=c.caseInsensitiveMatch,d={originalPath:a,regexp:a},g=d.keys=[];a=a.replace(/([().])/g,\"\\\\$1\").replace(/(\\/)?:(\\w+)([\\?\\*])?/g,function(a,c,b,d){a=\"?\"===d?d:null;d=\"*\"===d?d:null;g.push({name:b,optional:!!a});c=c||\"\";return\"\"+(a?\"\":c)+\"(?:\"+(a?c:\"\")+(d&&\"(.+?)\"||\"([^/]+)\")+(a||\"\")+\")\"+(a||\"\")}).replace(/([\\/$\\*])/g,\"\\\\$1\");d.regexp=new RegExp(\"^\"+a+\"$\",b?\"i\":\"\");return d}var g={};this.when=function(a,f){var b=c.copy(f);c.isUndefined(b.reloadOnSearch)&&(b.reloadOnSearch=!0);\r\n    c.isUndefined(b.caseInsensitiveMatch)&&(b.caseInsensitiveMatch=this.caseInsensitiveMatch);g[a]=c.extend(b,a&&h(a,b));if(a){var d=\"/\"==a[a.length-1]?a.substr(0,a.length-1):a+\"/\";g[d]=c.extend({redirectTo:a},h(d,b))}return this};this.caseInsensitiveMatch=!1;this.otherwise=function(a){\"string\"===typeof a&&(a={redirectTo:a});this.when(null,a);return this};this.$get=[\"$rootScope\",\"$location\",\"$routeParams\",\"$q\",\"$injector\",\"$templateRequest\",\"$sce\",function(a,f,b,d,h,p,x){function l(b){var e=s.current;\r\n    (v=(n=k())&&e&&n.$$route===e.$$route&&c.equals(n.pathParams,e.pathParams)&&!n.reloadOnSearch&&!w)||!e&&!n||a.$broadcast(\"$routeChangeStart\",n,e).defaultPrevented&&b&&b.preventDefault()}function m(){var u=s.current,e=n;if(v)u.params=e.params,c.copy(u.params,b),a.$broadcast(\"$routeUpdate\",u);else if(e||u)w=!1,(s.current=e)&&e.redirectTo&&(c.isString(e.redirectTo)?f.path(t(e.redirectTo,e.params)).search(e.params).replace():f.url(e.redirectTo(e.pathParams,f.path(),f.search())).replace()),d.when(e).then(function(){if(e){var a=\r\n    c.extend({},e.resolve),b,f;c.forEach(a,function(b,e){a[e]=c.isString(b)?h.get(b):h.invoke(b,null,null,e)});c.isDefined(b=e.template)?c.isFunction(b)&&(b=b(e.params)):c.isDefined(f=e.templateUrl)&&(c.isFunction(f)&&(f=f(e.params)),c.isDefined(f)&&(e.loadedTemplateUrl=x.valueOf(f),b=p(f)));c.isDefined(b)&&(a.$template=b);return d.all(a)}}).then(function(f){e==s.current&&(e&&(e.locals=f,c.copy(e.params,b)),a.$broadcast(\"$routeChangeSuccess\",e,u))},function(b){e==s.current&&a.$broadcast(\"$routeChangeError\",\r\n    e,u,b)})}function k(){var a,b;c.forEach(g,function(d,g){var q;if(q=!b){var h=f.path();q=d.keys;var l={};if(d.regexp)if(h=d.regexp.exec(h)){for(var k=1,m=h.length;k<m;++k){var n=q[k-1],p=h[k];n&&p&&(l[n.name]=p)}q=l}else q=null;else q=null;q=a=q}q&&(b=r(d,{params:c.extend({},f.search(),a),pathParams:a}),b.$$route=d)});return b||g[null]&&r(g[null],{params:{},pathParams:{}})}function t(a,b){var d=[];c.forEach((a||\"\").split(\":\"),function(a,c){if(0===c)d.push(a);else{var f=a.match(/(\\w+)(?:[?*])?(.*)/),\r\n    g=f[1];d.push(b[g]);d.push(f[2]||\"\");delete b[g]}});return d.join(\"\")}var w=!1,n,v,s={routes:g,reload:function(){w=!0;a.$evalAsync(function(){l();m()})},updateParams:function(a){if(this.current&&this.current.$$route)a=c.extend({},this.current.params,a),f.path(t(this.current.$$route.originalPath,a)),f.search(a);else throw B(\"norout\");}};a.$on(\"$locationChangeStart\",l);a.$on(\"$locationChangeSuccess\",m);return s}]});var B=c.$$minErr(\"ngRoute\");p.provider(\"$routeParams\",function(){this.$get=function(){return{}}});\r\n    p.directive(\"ngView\",v);p.directive(\"ngView\",A);v.$inject=[\"$route\",\"$anchorScroll\",\"$animate\"];A.$inject=[\"$compile\",\"$controller\",\"$route\"]})(window,window.angular);\n\n//# sourceURL=webpack:///./src/public/js/vendor/angular/angular-route.min.js?");

/***/ }),

/***/ "./src/public/js/vendor/angular/angular-sanitize.min.js":
/*!**************************************************************!*\
  !*** ./src/public/js/vendor/angular/angular-sanitize.min.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*\r\n AngularJS v1.4.7\r\n (c) 2010-2015 Google, Inc. http://angularjs.org\r\n License: MIT\r\n */\r\n(function(n,h,p){'use strict';function E(a){var f=[];r(f,h.noop).chars(a);return f.join(\"\")}function g(a,f){var d={},c=a.split(\",\"),b;for(b=0;b<c.length;b++)d[f?h.lowercase(c[b]):c[b]]=!0;return d}function F(a,f){function d(a,b,d,l){b=h.lowercase(b);if(s[b])for(;e.last()&&t[e.last()];)c(\"\",e.last());u[b]&&e.last()==b&&c(\"\",b);(l=v[b]||!!l)||e.push(b);var m={};d.replace(G,function(b,a,f,c,d){m[a]=q(f||c||d||\"\")});f.start&&f.start(b,m,l)}function c(b,a){var c=0,d;if(a=h.lowercase(a))for(c=e.length-\r\n    1;0<=c&&e[c]!=a;c--);if(0<=c){for(d=e.length-1;d>=c;d--)f.end&&f.end(e[d]);e.length=c}}\"string\"!==typeof a&&(a=null===a||\"undefined\"===typeof a?\"\":\"\"+a);var b,k,e=[],m=a,l;for(e.last=function(){return e[e.length-1]};a;){l=\"\";k=!0;if(e.last()&&w[e.last()])a=a.replace(new RegExp(\"([\\\\W\\\\w]*)<\\\\s*\\\\/\\\\s*\"+e.last()+\"[^>]*>\",\"i\"),function(a,b){b=b.replace(H,\"$1\").replace(I,\"$1\");f.chars&&f.chars(q(b));return\"\"}),c(\"\",e.last());else{if(0===a.indexOf(\"\\x3c!--\"))b=a.indexOf(\"--\",4),0<=b&&a.lastIndexOf(\"--\\x3e\",\r\n    b)===b&&(f.comment&&f.comment(a.substring(4,b)),a=a.substring(b+3),k=!1);else if(x.test(a)){if(b=a.match(x))a=a.replace(b[0],\"\"),k=!1}else if(J.test(a)){if(b=a.match(y))a=a.substring(b[0].length),b[0].replace(y,c),k=!1}else K.test(a)&&((b=a.match(z))?(b[4]&&(a=a.substring(b[0].length),b[0].replace(z,d)),k=!1):(l+=\"<\",a=a.substring(1)));k&&(b=a.indexOf(\"<\"),l+=0>b?a:a.substring(0,b),a=0>b?\"\":a.substring(b),f.chars&&f.chars(q(l)))}if(a==m)throw L(\"badparse\",a);m=a}c()}function q(a){if(!a)return\"\";A.innerHTML=\r\n    a.replace(/</g,\"&lt;\");return A.textContent}function B(a){return a.replace(/&/g,\"&amp;\").replace(M,function(a){var d=a.charCodeAt(0);a=a.charCodeAt(1);return\"&#\"+(1024*(d-55296)+(a-56320)+65536)+\";\"}).replace(N,function(a){return\"&#\"+a.charCodeAt(0)+\";\"}).replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}function r(a,f){var d=!1,c=h.bind(a,a.push);return{start:function(a,k,e){a=h.lowercase(a);!d&&w[a]&&(d=a);d||!0!==C[a]||(c(\"<\"),c(a),h.forEach(k,function(d,e){var k=h.lowercase(e),g=\"img\"===a&&\"src\"===k||\r\n    \"background\"===k;!0!==O[k]||!0===D[k]&&!f(d,g)||(c(\" \"),c(e),c('=\"'),c(B(d)),c('\"'))}),c(e?\"/>\":\">\"))},end:function(a){a=h.lowercase(a);d||!0!==C[a]||(c(\"</\"),c(a),c(\">\"));a==d&&(d=!1)},chars:function(a){d||c(B(a))}}}var L=h.$$minErr(\"$sanitize\"),z=/^<((?:[a-zA-Z])[\\w:-]*)((?:\\s+[\\w:-]+(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)\\s*(>?)/,y=/^<\\/\\s*([\\w:-]+)[^>]*>/,G=/([\\w:-]+)(?:\\s*=\\s*(?:(?:\"((?:[^\"])*)\")|(?:'((?:[^'])*)')|([^>\\s]+)))?/g,K=/^</,J=/^<\\//,H=/\\x3c!--(.*?)--\\x3e/g,x=/<!DOCTYPE([^>]*?)>/i,\r\n    I=/<!\\[CDATA\\[(.*?)]]\\x3e/g,M=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,N=/([^\\#-~| |!])/g,v=g(\"area,br,col,hr,img,wbr\");n=g(\"colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr\");p=g(\"rp,rt\");var u=h.extend({},p,n),s=h.extend({},n,g(\"address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul\")),t=h.extend({},p,g(\"a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var\"));\r\n    n=g(\"circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use\");var w=g(\"script,style\"),C=h.extend({},v,s,t,u,n),D=g(\"background,cite,href,longdesc,src,usemap,xlink:href\");n=g(\"abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width\");\r\n    p=g(\"accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan\",\r\n        !0);var O=h.extend({},D,p,n),A=document.createElement(\"pre\");h.module(\"ngSanitize\",[]).provider(\"$sanitize\",function(){this.$get=[\"$$sanitizeUri\",function(a){return function(f){var d=[];F(f,r(d,function(c,b){return!/^unsafe/.test(a(c,b))}));return d.join(\"\")}}]});h.module(\"ngSanitize\").filter(\"linky\",[\"$sanitize\",function(a){var f=/((ftp|https?):\\/\\/|(www\\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\\S*[^\\s.;,(){}<>\"\\u201d\\u2019]/i,d=/^mailto:/i;return function(c,b){function k(a){a&&g.push(E(a))}function e(a,\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           c){g.push(\"<a \");h.isDefined(b)&&g.push('target=\"',b,'\" ');g.push('href=\"',a.replace(/\"/g,\"&quot;\"),'\">');k(c);g.push(\"</a>\")}if(!c)return c;for(var m,l=c,g=[],n,p;m=l.match(f);)n=m[0],m[2]||m[4]||(n=(m[3]?\"http://\":\"mailto:\")+n),p=m.index,k(l.substr(0,p)),e(n,m[0].replace(d,\"\")),l=l.substring(p+m[0].length);k(l);return a(g.join(\"\"))}}])})(window,window.angular);\n\n//# sourceURL=webpack:///./src/public/js/vendor/angular/angular-sanitize.min.js?");

/***/ }),

/***/ "./src/public/js/vendor/datatables/dataTables.grouping.js":
/*!****************************************************************!*\
  !*** ./src/public/js/vendor/datatables/dataTables.grouping.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(jQuery) {/*\r\n * File:        jquery.dataTables.grouping.js\r\n * Version:     1.2.9.\r\n * Author:      Jovan Popovic\r\n *\r\n * Copyright 2013 Jovan Popovic, all rights reserved.\r\n *\r\n * This source file is free software, under either the GPL v2 license or a\r\n * BSD style license, as supplied with this software.\r\n *\r\n * This source file is distributed in the hope that it will be useful, but\r\n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\r\n * or FITNESS FOR A PARTICULAR PURPOSE.\r\n * Parameters:\r\n * @iGroupingColumnIndex                                 Integer             Index of the column that will be used for grouping - default 0\r\n * @sGroupingColumnSortDirection                         Enumeration         Sort direction of the group\r\n * @iGroupingOrderByColumnIndex                          Integer             Index of the column that will be used for ordering groups\r\n * @sGroupingClass                                       String              Class that will be associated to the group row. Default - \"group\"\r\n * @sGroupItemClass                                      String              Class that will be associated to the group row of group items. Default - \"group-item\"\r\n * @bSetGroupingClassOnTR                                Boolean             If set class will be set to the TR instead of the TD withing the grouping TR\r\n * @bHideGroupingColumn                                  Boolean             Hide column used for grouping once results are grouped. Default - true\r\n * @bHideGroupingOrderByColumn                           Boolean             Hide column used for ordering groups once results are grouped. Default - true\r\n * @sGroupBy                                             Enumeration         Type of grouping that should be applied. Values \"name\"(default), \"letter\", \"year\"\r\n * @sGroupLabelPrefix                                    String              Prefix that will be added to each group cell\r\n * @bExpandableGrouping                                  Boolean             Attach expand/collapse handlers to the grouping rows\r\n * @bExpandSingleGroup                                   Boolean             Use accordon grouping\r\n * @iExpandGroupOffset                                   Integer             Number of pixels to set scroll position above the currently selected group. If -1 scroll will be alligned to the table\r\n * General settings\r\n * @sDateFormat: \"dd/MM/yyyy\"                            String              Date format used for grouping\r\n * @sEmptyGroupLabel                                     String              Lable that will be placed as group if grouping cells are empty. Default \"-\"\r\n\r\n * Parameters used in the second level grouping\r\n * @iGroupingColumnIndex2                                Integer             Index of the secondary column that will be used for grouping - default 0\r\n * @sGroupingColumnSortDirection2                        Enumeration         Sort direction of the secondary group\r\n * @iGroupingOrderByColumnIndex2                         Integer             Index of the column that will be used for ordering secondary groups\r\n * @sGroupingClass2                                      String              Class that will be associated to the secondary group row. Default \"subgroup\"\r\n * @sGroupItemClass2                                     String              Class that will be associated to the secondary group row of group items. Default \"subgroup-item\"\r\n * @bHideGroupingColumn2                                 Boolean             Hide column used for secondary grouping once results are grouped. Default - true,\r\n * @bHideGroupingOrderByColumn2                          Boolean             Hide column used for ordering secondary groups once results are grouped. Default - true,\r\n * @sGroupBy2                                            Enumeration         Type of grouping that should be applied to secondary column. Values \"name\"(default), \"letter\", \"year\",\r\n * @sGroupLabelPrefix2                                   String              Prefix that will be added to each secondary group cell\r\n * @fnOnGrouped                                          Function            Function that is called when grouping is finished. Function has no parameters.\r\n */\r\n(function(a){a.fn.rowGrouping=function(e){function b(){}function c(j,h,i){}function d(j,h,i){}function g(i){var h=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];return h[i-1]}var f={iGroupingColumnIndex:0,sGroupingColumnSortDirection:\"\",iGroupingOrderByColumnIndex:-1,sGroupingClass:\"group\",sGroupItemClass:\"group-item\",bHideGroupingColumn:true,bHideGroupingOrderByColumn:true,sGroupBy:\"name\",sGroupLabelPrefix:\"\",fnGroupLabelFormat:function(h){return h},bExpandableGrouping:false,bExpandSingleGroup:false,iExpandGroupOffset:100,asExpandedGroups:null,sDateFormat:\"dd/MM/yyyy\",sEmptyGroupLabel:\"-\",bSetGroupingClassOnTR:false,iGroupingColumnIndex2:-1,sGroupingColumnSortDirection2:\"\",iGroupingOrderByColumnIndex2:-1,sGroupingClass2:\"subgroup\",sGroupItemClass2:\"subgroup-item\",bHideGroupingColumn2:true,bHideGroupingOrderByColumn2:true,sGroupBy2:\"name\",sGroupLabelPrefix2:\"\",fnGroupLabelFormat2:function(h){return h},bExpandableGrouping2:false,fnOnGrouped:b,fnOnGroupCreated:c,fnOnGroupCompleted:d,oHideEffect:null,oShowEffect:null,bUseFilteringForGrouping:false};return this.each(function(s,J){var E=a(J).dataTable();var B=new Array();a(this).dataTableExt.aoGroups=B;function q(T,i,P){var R=document.createElement(\"tr\");var S=document.createElement(\"td\");R.id=\"group-id-\"+E.attr(\"id\")+\"_\"+T;var Q={id:R.id,key:T,text:i,level:0,groupItemClass:\".group-item-\"+T,dataGroup:T,aoSubgroups:new Array()};if(t.bSetGroupingClassOnTR){R.className=t.sGroupingClass+\" \"+T}else{S.className=t.sGroupingClass+\" \"+T}S.colSpan=P;S.innerHTML=t.sGroupLabelPrefix+t.fnGroupLabelFormat(i==\"\"?t.sEmptyGroupLabel:i,Q);if(t.bExpandableGrouping){if(!I(T)){S.className+=\" expanded-group\";Q.state=\"expanded\"}else{S.className+=\" collapsed-group\";Q.state=\"collapsed\"}S.className+=\" group-item-expander\";a(S).attr(\"data-group\",Q.dataGroup);a(S).attr(\"data-group-level\",Q.level);a(S).click(h)}R.appendChild(S);B[T]=Q;Q.nGroup=R;t.fnOnGroupCreated(Q,T,1);return Q}function w(R,Q,P,T){var i=document.createElement(\"tr\");i.id=T.id+\"_\"+R;var V=document.createElement(\"td\");var U=T.dataGroup+\"_\"+R;var S={id:i.id,key:R,text:Q,level:T.level+1,groupItemClass:\".group-item-\"+U,dataGroup:U,aoSubgroups:new Array()};if(t.bSetGroupingClassOnTR){i.className=t.sGroupingClass2+\" \"+R}else{V.className=t.sGroupingClass2+\" \"+R}V.colSpan=P;V.innerHTML=t.sGroupLabelPrefix2+t.fnGroupLabelFormat2(Q==\"\"?t.sEmptyGroupLabel:Q,S);if(t.bExpandableGrouping){i.className+=\" group-item-\"+T.dataGroup}if(t.bExpandableGrouping&&t.bExpandableGrouping2){if(!I(S.dataGroup)){V.className+=\" expanded-group\";S.state=\"expanded\"}else{V.className+=\" collapsed-group\";S.state=\"collapsed\"}V.className+=\" group-item-expander\";a(V).attr(\"data-group\",S.dataGroup);a(V).attr(\"data-group-level\",S.level);a(V).click(h)}i.appendChild(V);T.aoSubgroups[S.dataGroup]=S;B[S.dataGroup]=S;S.nGroup=i;t.fnOnGroupCreated(S,R,2);return S}function I(i){if(B[i]!=null){return(B[i].state==\"collapsed\")}else{if(i.indexOf(\"_\")>-1){true}else{if(l&&(j==null||j.length==0)){return false}else{return(a.inArray(i,j)==-1)}}}}function L(i){if(i.length<(x+K)){return i}else{return i.substr(x,K)}}function y(i){return i}function M(i){return i.substr(0,1)}function O(i){return L(i)}function C(i){return i.substr(x,K)+\" \"+g(i.substr(r,H))}function u(i){if(i===\"\"){return\"-\"}return i.toLowerCase().replace(/[^a-zA-Z0-9\\u0080-\\uFFFF]+/g,\"-\")}function D(R,P,i){if(R.nTable.id!==E[0].id){return true}var Q=P[t.iGroupingColumnIndex];if(typeof Q===\"undefined\"){Q=P[R.aoColumns[t.iGroupingColumnIndex].mDataProp]}if(I(u(Q))){if(E.fnIsOpen(E.fnGetNodes(i))){if(t.fnOnRowClosed!=null){t.fnOnRowClosed(this)}E.fnClose(E.fnGetNodes(i))}return false}return true}function p(i){B[i].state=\"expanded\";a(\"td[data-group^='\"+i+\"']\").removeClass(\"collapsed-group\");a(\"td[data-group^='\"+i+\"']\").addClass(\"expanded-group\");if(t.bUseFilteringForGrouping){E.fnDraw();return}if(jQuery.inArray(i,j)==-1){j.push(i)}if(t.oHideEffect!=null){a(\".group-item-\"+i,E)[t.oShowEffect.method](t.oShowEffect.duration,t.oShowEffect.easing,function(){})}else{a(\".group-item-\"+i,E).show()}}function m(i){B[i].state=\"collapsed\";a(\"td[data-group^='\"+i+\"']\").removeClass(\"expanded-group\");a(\"td[data-group^='\"+i+\"']\").addClass(\"collapsed-group\");if(t.bUseFilteringForGrouping){E.fnDraw();return}a(\".group-item-\"+i).each(function(){if(E.fnIsOpen(this)){if(t.fnOnRowClosed!=null){t.fnOnRowClosed(this)}E.fnClose(this)}});if(t.oHideEffect!=null){a(\".group-item-\"+i,E)[t.oHideEffect.method](t.oHideEffect.duration,t.oHideEffect.easing,function(){})}else{a(\".group-item-\"+i,E).hide()}}function h(T){var Q=a(this).attr(\"data-group\");var S=a(this).attr(\"data-group-level\");var R=!I(Q);if(t.bExpandSingleGroup){if(!R){var P=a(\"td.expanded-group\").attr(\"data-group\");m(P);p(Q);if(t.iExpandGroupOffset!=-1){var i=a(\"#group-id-\"+E.attr(\"id\")+\"_\"+Q).offset().top-t.iExpandGroupOffset;window.scroll(0,i)}else{var i=E.offset().top;window.scroll(0,i)}}}else{if(R){m(Q)}else{p(Q)}}T.preventDefault()}function A(V){if(E.fnSettings().oFeatures.bServerSide){l=true}var Z=false;if(t.iGroupingColumnIndex2!=-1){Z=true}if(V.aiDisplayMaster.length==0){return}var T=a(\"tbody tr\",E);var Q=0;for(var ae=0;ae<V.aoColumns.length;ae++){if(V.aoColumns[ae].bVisible){Q+=1}}var ah=null;var aa=null;if(V.aiDisplay.length>0){for(var ag=0;ag<T.length;ag++){var U=V._iDisplayStart+ag;if(E.fnSettings().oFeatures.bServerSide){U=ag}var S=\"\";var af=null;var P=\"\";var Y=null;S=this.fnGetData(T[ag],t.iGroupingColumnIndex);var af=S;if(t.sGroupBy!=\"year\"){af=N(S)}if(Z){P=V.aoData[V.aiDisplay[U]]._aData[t.iGroupingColumnIndex2];if(P==undefined){P=V.aoData[V.aiDisplay[U]]._aData[V.aoColumns[t.iGroupingColumnIndex2].mDataProp]}if(t.sGroupBy2!=\"year\"){Y=N(P)}}if(ah==null||u(af)!=u(ah)){var ab=u(af);if(ah!=null){t.fnOnGroupCompleted(B[u(ah)])}if(t.bAddAllGroupsAsExpanded&&jQuery.inArray(ab,j)==-1){j.push(ab)}var W=q(ab,af,Q);var R=W.nGroup;if(T[ag].parentNode!=null){T[ag].parentNode.insertBefore(R,T[ag])}else{a(T[ag]).before(R)}ah=af;aa=null}a(T[ag]).attr(\"data-group\",B[ab].dataGroup);a(T[ag]).addClass(t.sGroupItemClass);a(T[ag]).addClass(\"group-item-\"+ab);if(t.bExpandableGrouping){if(I(ab)&&!t.bUseFilteringForGrouping){a(T[ag]).hide()}}if(Z){if(aa==null||u(Y)!=u(aa)){var X=u(af)+\"-\"+u(Y);var ac=w(X,Y,Q,B[ab]);var ad=ac.nGroup;T[ag].parentNode.insertBefore(ad,T[ag]);aa=Y}a(T[ag]).attr(\"data-group\",ac.dataGroup).addClass(t.sGroupItemClass2).addClass(\"group-item-\"+ac.dataGroup)}}}if(ah!=null){t.fnOnGroupCompleted(B[u(ah)])}t.fnOnGrouped(B);l=false}var x=6;var K=4;var j=new Array();var l=true;var t=a.extend(f,e);if(t.iGroupingOrderByColumnIndex==-1){t.bCustomColumnOrdering=false;t.iGroupingOrderByColumnIndex=t.iGroupingColumnIndex}else{t.bCustomColumnOrdering=true}if(t.sGroupingColumnSortDirection==\"\"){if(t.sGroupBy==\"year\"){t.sGroupingColumnSortDirection=\"desc\"}else{t.sGroupingColumnSortDirection=\"asc\"}}if(t.iGroupingOrderByColumnIndex2==-1){t.bCustomColumnOrdering2=false;t.iGroupingOrderByColumnIndex2=t.iGroupingColumnIndex2}else{t.bCustomColumnOrdering2=true}if(t.sGroupingColumnSortDirection2==\"\"){if(t.sGroupBy2==\"year\"){t.sGroupingColumnSortDirection2=\"desc\"}else{t.sGroupingColumnSortDirection2=\"asc\"}}x=t.sDateFormat.toLowerCase().indexOf(\"yy\");K=t.sDateFormat.toLowerCase().lastIndexOf(\"y\")-t.sDateFormat.toLowerCase().indexOf(\"y\")+1;var r=t.sDateFormat.toLowerCase().indexOf(\"mm\");var H=t.sDateFormat.toLowerCase().lastIndexOf(\"m\")-t.sDateFormat.toLowerCase().indexOf(\"m\")+1;var N=y;switch(t.sGroupBy){case\"letter\":N=M;break;case\"year\":N=O;break;case\"month\":N=C;break;default:N=y;break}if(t.asExpandedGroups!=null){if(t.asExpandedGroups==\"NONE\"){t.asExpandedGroups=[];j=t.asExpandedGroups;l=false}else{if(t.asExpandedGroups==\"ALL\"){t.bAddAllGroupsAsExpanded=true}else{if(t.asExpandedGroups.constructor==String){var k=t.asExpandedGroups;t.asExpandedGroups=new Array();t.asExpandedGroups.push(u(k));j=t.asExpandedGroups;l=false}else{if(t.asExpandedGroups.constructor==Array){for(var G=0;G<t.asExpandedGroups.length;G++){j.push(u(t.asExpandedGroups[G]));if(t.bExpandSingleGroup){break}}l=false}}}}}else{t.asExpandedGroups=new Array();t.bAddAllGroupsAsExpanded=true}if(t.bExpandSingleGroup){var o=a(\"tbody tr\",E);var n=E.fnGetData(o[0],t.iGroupingColumnIndex);var F=n;if(t.sGroupBy!=\"year\"){F=N(n)}var z=u(F);t.asExpandedGroups=new Array();t.asExpandedGroups.push(z)}E.fnSetColumnVis(t.iGroupingColumnIndex,!t.bHideGroupingColumn);if(t.bCustomColumnOrdering){E.fnSetColumnVis(t.iGroupingOrderByColumnIndex,!t.bHideGroupingOrderByColumn)}if(t.iGroupingColumnIndex2!=-1){E.fnSetColumnVis(t.iGroupingColumnIndex2,!t.bHideGroupingColumn2)}if(t.bCustomColumnOrdering2){E.fnSetColumnVis(t.iGroupingOrderByColumnIndex2,!t.bHideGroupingOrderByColumn2)}E.fnSettings().aoDrawCallback.push({fn:A,sName:\"fnRowGrouping\"});var v=new Array();v.push([t.iGroupingOrderByColumnIndex,t.sGroupingColumnSortDirection]);if(t.iGroupingColumnIndex2!=-1){v.push([t.iGroupingOrderByColumnIndex2,t.sGroupingColumnSortDirection2])}E.fnSettings().aaSortingFixed=v;switch(t.sGroupBy){case\"name\":break;case\"letter\":E.fnSettings().aoColumns[t.iGroupingOrderByColumnIndex].sSortDataType=\"rg-letter\";a.fn.dataTableExt.afnSortData[\"rg-letter\"]=function(Q,P){var i=[];a(\"td:eq(\"+P+\")\",Q.oApi._fnGetTrNodes(Q)).each(function(){i.push(M(this.innerHTML))});return i};break;case\"year\":E.fnSettings().aoColumns[t.iGroupingOrderByColumnIndex].sSortDataType=\"rg-date\";a.fn.dataTableExt.afnSortData[\"rg-date\"]=function(R,P){var i=[];var Q=R.oApi._fnGetTrNodes(R);for(G=0;G<Q.length;G++){i.push(L(E.fnGetData(Q[G],P)))}return i};break;default:break}if(t.bUseFilteringForGrouping){a.fn.dataTableExt.afnFiltering.push(D)}E.fnDraw()})}})(jQuery);\r\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\")))\n\n//# sourceURL=webpack:///./src/public/js/vendor/datatables/dataTables.grouping.js?");

/***/ }),

/***/ "./src/public/js/vendor/datatables/dataTables.responsive.js":
/*!******************************************************************!*\
  !*** ./src/public/js/vendor/datatables/dataTables.responsive.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! Responsive 1.0.1\r\n * 2014 SpryMedia Ltd - datatables.net/license\r\n */\r\n\r\n/**\r\n * @summary     Responsive\r\n * @description Responsive tables plug-in for DataTables\r\n * @version     1.0.1\r\n * @file        dataTables.responsive.js\r\n * @author      SpryMedia Ltd (www.sprymedia.co.uk)\r\n * @contact     www.sprymedia.co.uk/contact\r\n * @copyright   Copyright 2014 SpryMedia Ltd.\r\n *\r\n * This source file is free software, available under the following license:\r\n *   MIT license - http://datatables.net/license/mit\r\n *\r\n * This source file is distributed in the hope that it will be useful, but\r\n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\r\n * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.\r\n *\r\n * For details please refer to: http://www.datatables.net\r\n */\r\n\r\n(function(window, document, undefined) {\r\n\r\n\r\nvar factory = function( $, DataTable ) {\r\n\"use strict\";\r\n\r\n/**\r\n * Responsive is a plug-in for the DataTables library that makes use of\r\n * DataTables' ability to change the visibility of columns, changing the\r\n * visibility of columns so the displayed columns fit into the table container.\r\n * The end result is that complex tables will be dynamically adjusted to fit\r\n * into the viewport, be it on a desktop, tablet or mobile browser.\r\n *\r\n * Responsive for DataTables has two modes of operation, which can used\r\n * individually or combined:\r\n *\r\n * * Class name based control - columns assigned class names that match the\r\n *   breakpoint logic can be shown / hidden as required for each breakpoint.\r\n * * Automatic control - columns are automatically hidden when there is no\r\n *   room left to display them. Columns removed from the right.\r\n *\r\n * In additional to column visibility control, Responsive also has built into\r\n * options to use DataTables' child row display to show / hide the information\r\n * from the table that has been hidden. There are also two modes of operation\r\n * for this child row display:\r\n *\r\n * * Inline - when the control element that the user can use to show / hide\r\n *   child rows is displayed inside the first column of the table.\r\n * * Column - where a whole column is dedicated to be the show / hide control.\r\n *\r\n * Initialisation of Responsive is performed by:\r\n *\r\n * * Adding the class `responsive` or `dt-responsive` to the table. In this case\r\n *   Responsive will automatically be initialised with the default configuration\r\n *   options when the DataTable is created.\r\n * * Using the `responsive` option in the DataTables configuration options. This\r\n *   can also be used to specify the configuration options, or simply set to\r\n *   `true` to use the defaults.\r\n *\r\n *  @class\r\n *  @param {object} settings DataTables settings object for the host table\r\n *  @param {object} [opts] Configuration options\r\n *  @requires jQuery 1.7+\r\n *  @requires DataTables 1.10.1+\r\n *\r\n *  @example\r\n *      $('#example').DataTable( {\r\n *        responsive: true\r\n *      } );\r\n *    } );\r\n */\r\nvar Responsive = function ( settings, opts ) {\r\n\t// Sanity check that we are using DataTables 1.10 or newer\r\n\tif ( ! DataTable.versionCheck || ! DataTable.versionCheck( '1.10.1' ) ) {\r\n\t\tthrow 'DataTables Responsive requires DataTables 1.10.1 or newer';\r\n\t}\r\n\telse if ( settings.responsive ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tthis.s = {\r\n\t\tdt: new DataTable.Api( settings ),\r\n\t\tcolumns: []\r\n\t};\r\n\r\n\t// details is an object, but for simplicity the user can give it as a string\r\n\tif ( opts && typeof opts.details === 'string' ) {\r\n\t\topts.details = { type: opts.details };\r\n\t}\r\n\r\n\tthis.c = $.extend( true, {}, Responsive.defaults, opts );\r\n\tsettings.responsive = this;\r\n\tthis._constructor();\r\n};\r\n\r\nResponsive.prototype = {\r\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\t * Constructor\r\n\t */\r\n\r\n\t/**\r\n\t * Initialise the Responsive instance\r\n\t *\r\n\t * @private\r\n\t */\r\n\t_constructor: function ()\r\n\t{\r\n\t\tvar that = this;\r\n\t\tvar dt = this.s.dt;\r\n\r\n\t\tdt.settings()[0]._responsive = this;\r\n\r\n\t\t// Use DataTables' private throttle function to avoid processor thrashing\r\n\t\t$(window).on( 'resize.dtr orientationchange.dtr', dt.settings()[0].oApi._fnThrottle( function () {\r\n\t\t\tthat._resize();\r\n\t\t} ) );\r\n\r\n\t\t// Destroy event handler\r\n\t\tdt.on( 'destroy.dtr', function () {\r\n\t\t\t$(window).off( 'resize.dtr orientationchange.dtr' );\r\n\t\t} );\r\n\r\n\t\t// Reorder the breakpoints array here in case they have been added out\r\n\t\t// of order\r\n\t\tthis.c.breakpoints.sort( function (a, b) {\r\n\t\t\treturn a.width < b.width ? 1 :\r\n\t\t\t\ta.width > b.width ? -1 : 0;\r\n\t\t} );\r\n\r\n\t\tthis._classLogic();\r\n\t\tthis._resizeAuto();\r\n\r\n\t\t// First pass - draw the table for the current viewport size\r\n\t\tthis._resize();\r\n\r\n\t\t// Details handler\r\n\t\tvar details = this.c.details;\r\n\t\tif ( details.type ) {\r\n\t\t\tthat._detailsInit();\r\n\t\t\tthis._detailsVis();\r\n\r\n\t\t\tdt.on( 'column-visibility.dtr', function () {\r\n\t\t\t\tthat._detailsVis();\r\n\t\t\t} );\r\n\r\n\t\t\t$(dt.table().node()).addClass( 'dtr-'+details.type );\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\t * Private methods\r\n\t */\r\n\r\n\t/**\r\n\t * Calculate the visibility for the columns in a table for a given\r\n\t * breakpoint. The result is pre-determined based on the class logic if\r\n\t * class names are used to control all columns, but the width of the table\r\n\t * is also used if there are columns which are to be automatically shown\r\n\t * and hidden.\r\n\t *\r\n\t * @param  {string} breakpoint Breakpoint name to use for the calculation\r\n\t * @return {array} Array of boolean values initiating the visibility of each\r\n\t *   column.\r\n\t *  @private\r\n\t */\r\n\t_columnsVisiblity: function ( breakpoint )\r\n\t{\r\n\t\tvar dt = this.s.dt;\r\n\t\tvar columns = this.s.columns;\r\n\t\tvar i, ien;\r\n\r\n\t\t// Class logic - determine which columns are in this breakpoint based\r\n\t\t// on the classes. If no class control (i.e. `auto`) then `-` is used\r\n\t\t// to indicate this to the rest of the function\r\n\t\tvar display = $.map( columns, function ( col ) {\r\n\t\t\treturn col.auto && col.minWidth === null ?\r\n\t\t\t\tfalse :\r\n\t\t\t\tcol.auto === true ?\r\n\t\t\t\t\t'-' :\r\n\t\t\t\t\tcol.includeIn.indexOf( breakpoint ) !== -1;\r\n\t\t} );\r\n\r\n\t\t// Auto column control - first pass: how much width is taken by the\r\n\t\t// ones that must be included from the non-auto columns\r\n\t\tvar requiredWidth = 0;\r\n\t\tfor ( i=0, ien=display.length ; i<ien ; i++ ) {\r\n\t\t\tif ( display[i] === true ) {\r\n\t\t\t\trequiredWidth += columns[i].minWidth;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Second pass, use up any remaining width for other columns\r\n\t\tvar widthAvailable = dt.table().container().offsetWidth;\r\n\t\tvar usedWidth = widthAvailable - requiredWidth;\r\n\r\n\t\tfor ( i=0, ien=display.length ; i<ien ; i++ ) {\r\n\t\t\t// Control column needs to always be included. This makes it sub-\r\n\t\t\t// optimal in terms of using the available with, but to stop layout\r\n\t\t\t// thrashing or overflow\r\n\t\t\tif ( columns[i].control ) {\r\n\t\t\t\tusedWidth -= columns[i].minWidth;\r\n\t\t\t}\r\n\t\t\telse if ( display[i] === '-' ) {\r\n\t\t\t\t// Otherwise, remove the width\r\n\t\t\t\tdisplay[i] = usedWidth - columns[i].minWidth < 0 ?\r\n\t\t\t\t\tfalse :\r\n\t\t\t\t\ttrue;\r\n\r\n\t\t\t\t// Continue counting down the width, so a smaller column to the\r\n\t\t\t\t// left won't be shown\r\n\t\t\t\tusedWidth -= columns[i].minWidth;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Determine if the 'control' column should be shown (if there is one).\r\n\t\t// This is the case when there is a hidden column (that is not the\r\n\t\t// control column). The two loops look inefficient here, but they are\r\n\t\t// trivial and will fly through. We need to know the outcome from the\r\n\t\t// first , before the action in the second can be taken\r\n\t\tvar showControl = false;\r\n\r\n\t\tfor ( i=0, ien=columns.length ; i<ien ; i++ ) {\r\n\t\t\tif ( ! columns[i].control && ! display[i] ) {\r\n\t\t\t\tshowControl = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor ( i=0, ien=columns.length ; i<ien ; i++ ) {\r\n\t\t\tif ( columns[i].control ) {\r\n\t\t\t\tdisplay[i] = showControl;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn display;\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Create the internal `columns` array with information about the columns\r\n\t * for the table. This includes determining which breakpoints the column\r\n\t * will appear in, based upon class names in the column, which makes up the\r\n\t * vast majority of this method.\r\n\t *\r\n\t * @private\r\n\t */\r\n\t_classLogic: function ()\r\n\t{\r\n\t\tvar that = this;\r\n\t\tvar calc = {};\r\n\t\tvar breakpoints = this.c.breakpoints;\r\n\t\tvar columns = this.s.dt.columns().eq(0).map( function (i) {\r\n\t\t\treturn {\r\n\t\t\t\tclassName: this.column(i).header().className,\r\n\t\t\t\tincludeIn: [],\r\n\t\t\t\tauto:      false,\r\n\t\t\t\tcontrol:   false\r\n\t\t\t};\r\n\t\t} );\r\n\r\n\t\t// Simply add a breakpoint to `includeIn` array, ensuring that there are\r\n\t\t// no duplicates\r\n\t\tvar add = function ( colIdx, name ) {\r\n\t\t\tvar includeIn = columns[ colIdx ].includeIn;\r\n\r\n\t\t\tif ( includeIn.indexOf( name ) === -1 ) {\r\n\t\t\t\tincludeIn.push( name );\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar column = function ( colIdx, name, operator, matched ) {\r\n\t\t\tvar size, i, ien;\r\n\r\n\t\t\tif ( ! operator ) {\r\n\t\t\t\tcolumns[ colIdx ].includeIn.push( name );\r\n\t\t\t}\r\n\t\t\telse if ( operator === 'max-' ) {\r\n\t\t\t\t// Add this breakpoint and all smaller\r\n\t\t\t\tsize = that._find( name ).width;\r\n\r\n\t\t\t\tfor ( i=0, ien=breakpoints.length ; i<ien ; i++ ) {\r\n\t\t\t\t\tif ( breakpoints[i].width <= size ) {\r\n\t\t\t\t\t\tadd( colIdx, breakpoints[i].name );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if ( operator === 'min-' ) {\r\n\t\t\t\t// Add this breakpoint and all larger\r\n\t\t\t\tsize = that._find( name ).width;\r\n\r\n\t\t\t\tfor ( i=0, ien=breakpoints.length ; i<ien ; i++ ) {\r\n\t\t\t\t\tif ( breakpoints[i].width >= size ) {\r\n\t\t\t\t\t\tadd( colIdx, breakpoints[i].name );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if ( operator === 'not-' ) {\r\n\t\t\t\t// Add all but this breakpoint (xxx need extra information)\r\n\r\n\t\t\t\tfor ( i=0, ien=breakpoints.length ; i<ien ; i++ ) {\r\n\t\t\t\t\tif ( breakpoints[i].name.indexOf( matched ) === -1 ) {\r\n\t\t\t\t\t\tadd( colIdx, breakpoints[i].name );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Loop over each column and determine if it has a responsive control\r\n\t\t// class\r\n\t\tcolumns.each( function ( col, i ) {\r\n\t\t\tvar classNames = col.className.split(' ');\r\n\t\t\tvar hasClass = false;\r\n\r\n\t\t\t// Split the class name up so multiple rules can be applied if needed\r\n\t\t\tfor ( var k=0, ken=classNames.length ; k<ken ; k++ ) {\r\n\t\t\t\tvar className = $.trim( classNames[k] );\r\n\r\n\t\t\t\tif ( className === 'all' ) {\r\n\t\t\t\t\t// Include in all\r\n\t\t\t\t\thasClass = true;\r\n\t\t\t\t\tcol.includeIn = $.map( breakpoints, function (a) {\r\n\t\t\t\t\t\treturn a.name;\r\n\t\t\t\t\t} );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\telse if ( className === 'none' ) {\r\n\t\t\t\t\t// Include in none (default) and no auto\r\n\t\t\t\t\thasClass = true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\telse if ( className === 'control' ) {\r\n\t\t\t\t\t// Special column that is only visible, when one of the other\r\n\t\t\t\t\t// columns is hidden. This is used for the details control\r\n\t\t\t\t\thasClass = true;\r\n\t\t\t\t\tcol.control = true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$.each( breakpoints, function ( j, breakpoint ) {\r\n\t\t\t\t\t// Does this column have a class that matches this breakpoint?\r\n\t\t\t\t\tvar brokenPoint = breakpoint.name.split('-');\r\n\t\t\t\t\tvar re = new RegExp( '(min\\\\-|max\\\\-|not\\\\-)?('+brokenPoint[0]+')(\\\\-[_a-zA-Z0-9])?' );\r\n\t\t\t\t\tvar match = className.match( re );\r\n\r\n\t\t\t\t\tif ( match ) {\r\n\t\t\t\t\t\thasClass = true;\r\n\r\n\t\t\t\t\t\tif ( match[2] === brokenPoint[0] && match[3] === '-'+brokenPoint[1] ) {\r\n\t\t\t\t\t\t\t// Class name matches breakpoint name fully\r\n\t\t\t\t\t\t\tcolumn( i, breakpoint.name, match[1], match[2]+match[3] );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if ( match[2] === brokenPoint[0] && ! match[3] ) {\r\n\t\t\t\t\t\t\t// Class name matched primary breakpoint name with no qualifier\r\n\t\t\t\t\t\t\tcolumn( i, breakpoint.name, match[1], match[2] );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\t// If there was no control class, then automatic sizing is used\r\n\t\t\tif ( ! hasClass ) {\r\n\t\t\t\tcol.auto = true;\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tthis.s.columns = columns;\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Initialisation for the details handler\r\n\t *\r\n\t * @private\r\n\t */\r\n\t_detailsInit: function ()\r\n\t{\r\n\t\tvar that    = this;\r\n\t\tvar dt      = this.s.dt;\r\n\t\tvar details = this.c.details;\r\n\r\n\t\t// The inline type always uses the first child as the target\r\n\t\tif ( details.type === 'inline' ) {\r\n\t\t\tdetails.target = 'td:first-child';\r\n\t\t}\r\n\r\n\t\t// type.target can be a string jQuery selector or a column index\r\n\t\tvar target   = details.target;\r\n\t\tvar selector = typeof target === 'string' ? target : 'td';\r\n\r\n\t\t// Click handler to show / hide the details rows when they are available\r\n\t\t$( dt.table().body() ).on( 'click', selector, function (e) {\r\n\t\t\t// If the table is not collapsed (i.e. there is no hidden columns)\r\n\t\t\t// then take no action\r\n\t\t\tif ( ! $(dt.table().node()).hasClass('collapsed' ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// For column index, we determine if we should act or not in the\r\n\t\t\t// handler - otherwise it is already okay\r\n\t\t\tif ( typeof target === 'number' ) {\r\n\t\t\t\tvar targetIdx = target < 0 ?\r\n\t\t\t\t\tdt.columns().eq(0).length + target :\r\n\t\t\t\t\ttarget;\r\n\r\n\t\t\t\tif ( dt.cell( this ).index().column !== targetIdx ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// $().closest() includes itself in its check\r\n\t\t\tvar row = dt.row( $(this).closest('tr') );\r\n\r\n\t\t\tif ( row.child.isShown() ) {\r\n\t\t\t\trow.child( false );\r\n\t\t\t\t$( row.node() ).removeClass( 'parent' );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar info = that.c.details.renderer( dt, row[0] );\r\n\t\t\t\trow.child( info, 'child' ).show();\r\n\t\t\t\t$( row.node() ).addClass( 'parent' );\r\n\t\t\t}\r\n\t\t} );\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Update the child rows in the table whenever the column visibility changes\r\n\t *\r\n\t * @private\r\n\t */\r\n\t_detailsVis: function ()\r\n\t{\r\n\t\tvar that = this;\r\n\t\tvar dt = this.s.dt;\r\n\r\n\t\tvar hiddenColumns = dt.columns(':hidden').indexes().flatten();\r\n\t\tvar haveHidden = true;\r\n\r\n\t\tif ( hiddenColumns.length === 0 || ( hiddenColumns.length === 1 && this.s.columns[ hiddenColumns[0] ].control ) ) {\r\n\t\t\thaveHidden = false;\r\n\t\t}\r\n\r\n\t\tif ( haveHidden ) {\r\n\t\t\t// Got hidden columns\r\n\t\t\t$( dt.table().node() ).addClass('collapsed');\r\n\r\n\t\t\t// Show all existing child rows\r\n\t\t\tdt.rows().eq(0).each( function (idx) {\r\n\t\t\t\tvar row = dt.row( idx );\r\n\r\n\t\t\t\tif ( row.child() ) {\r\n\t\t\t\t\tvar info = that.c.details.renderer( dt, row[0] );\r\n\r\n\t\t\t\t\t// The renderer can return false to have no child row\r\n\t\t\t\t\tif ( info === false ) {\r\n\t\t\t\t\t\trow.child.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\trow.child( info, 'child' ).show();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// No hidden columns\r\n\t\t\t$( dt.table().node() ).removeClass('collapsed');\r\n\r\n\t\t\t// Hide all existing child rows\r\n\t\t\tdt.rows().eq(0).each( function (idx) {\r\n\t\t\t\tdt.row( idx ).child.hide();\r\n\t\t\t} );\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Find a breakpoint object from a name\r\n\t * @param  {string} name Breakpoint name to find\r\n\t * @return {object}      Breakpoint description object\r\n\t */\r\n\t_find: function ( name )\r\n\t{\r\n\t\tvar breakpoints = this.c.breakpoints;\r\n\r\n\t\tfor ( var i=0, ien=breakpoints.length ; i<ien ; i++ ) {\r\n\t\t\tif ( breakpoints[i].name === name ) {\r\n\t\t\t\treturn breakpoints[i];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Alter the table display for a resized viewport. This involves first\r\n\t * determining what breakpoint the window currently is in, getting the\r\n\t * column visibilities to apply and then setting them.\r\n\t *\r\n\t * @private\r\n\t */\r\n\t_resize: function ()\r\n\t{\r\n\t\tvar dt = this.s.dt;\r\n\t\tvar width = $(window).width();\r\n\t\tvar breakpoints = this.c.breakpoints;\r\n\t\tvar breakpoint = breakpoints[0].name;\r\n\r\n\t\t// Determine what breakpoint we are currently at\r\n\t\tfor ( var i=breakpoints.length-1 ; i>=0 ; i-- ) {\r\n\t\t\tif ( width <= breakpoints[i].width ) {\r\n\t\t\t\tbreakpoint = breakpoints[i].name;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// Show the columns for that break point\r\n\t\tvar columns = this._columnsVisiblity( breakpoint );\r\n\r\n\t\tdt.columns().eq(0).each( function ( colIdx, i ) {\r\n\t\t\tdt.column( colIdx ).visible( columns[i] );\r\n\t\t} );\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Determine the width of each column in the table so the auto column hiding\r\n\t * has that information to work with. This method is never going to be 100%\r\n\t * perfect since column widths can change slightly per page, but without\r\n\t * seriously compromising performance this is quite effective.\r\n\t *\r\n\t * @private\r\n\t */\r\n\t_resizeAuto: function ()\r\n\t{\r\n\t\tvar dt = this.s.dt;\r\n\t\tvar columns = this.s.columns;\r\n\r\n\t\t// Are we allowed to do auto sizing?\r\n\t\tif ( ! this.c.auto ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Are there any columns that actually need auto-sizing, or do they all\r\n\t\t// have classes defined\r\n\t\tif ( $.inArray( true, $.map( columns, function (c) { return c.auto; } ) ) === -1 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Clone the table with the current data in it\r\n\t\tvar tableWidth   = dt.table().node().offsetWidth;\r\n\t\tvar columnWidths = dt.columns;\r\n\t\tvar clonedTable  = dt.table().node().cloneNode( false );\r\n\t\tvar clonedHeader = $( dt.table().header().cloneNode( false ) ).appendTo( clonedTable );\r\n\t\tvar clonedBody   = $( dt.table().body().cloneNode( false ) ).appendTo( clonedTable );\r\n\r\n\t\t// This is a bit slow, but we need to get a clone of each row that\r\n\t\t// includes all columns. As such, try to do this as little as possible.\r\n\t\tdt.rows( { page: 'current' } ).indexes().each( function ( idx ) {\r\n\t\t\tvar clone = dt.row( idx ).node().cloneNode( true );\r\n\t\t\t\r\n\t\t\tif ( dt.columns( ':hidden' ).flatten().length ) {\r\n\t\t\t\t$(clone).append( dt.cells( idx, ':hidden' ).nodes().to$().clone() );\r\n\t\t\t}\r\n\r\n\t\t\t$(clone).appendTo( clonedBody );\r\n\t\t} );\r\n\r\n\t\tvar cells        = dt.columns().header().to$().clone( false ).wrapAll('tr').appendTo( clonedHeader );\r\n\t\tvar inserted     = $('<div/>')\r\n\t\t\t.css( {\r\n\t\t\t\twidth: 1,\r\n\t\t\t\theight: 1,\r\n\t\t\t\toverflow: 'hidden'\r\n\t\t\t} )\r\n\t\t\t.append( clonedTable )\r\n\t\t\t.insertBefore( dt.table().node() );\r\n\r\n\t\t// The cloned header now contains the smallest that each column can be\r\n\t\tdt.columns().eq(0).each( function ( idx ) {\r\n\t\t\tcolumns[idx].minWidth = cells[ idx ].offsetWidth || 0;\r\n\t\t} );\r\n\r\n\t\tinserted.remove();\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * List of default breakpoints. Each item in the array is an object with two\r\n * properties:\r\n *\r\n * * `name` - the breakpoint name.\r\n * * `width` - the breakpoint width\r\n *\r\n * @name Responsive.breakpoints\r\n * @static\r\n */\r\nResponsive.breakpoints = [\r\n\t{ name: 'desktop',  width: Infinity },\r\n\t{ name: 'tablet-l', width: 1024 },\r\n\t{ name: 'tablet-p', width: 768 },\r\n\t{ name: 'mobile-l', width: 480 },\r\n\t{ name: 'mobile-p', width: 320 }\r\n];\r\n\r\n\r\n/**\r\n * Responsive default settings for initialisation\r\n *\r\n * @namespace\r\n * @name Responsive.defaults\r\n * @static\r\n */\r\nResponsive.defaults = {\r\n\t/**\r\n\t * List of breakpoints for the instance. Note that this means that each\r\n\t * instance can have its own breakpoints. Additionally, the breakpoints\r\n\t * cannot be changed once an instance has been creased.\r\n\t *\r\n\t * @type {Array}\r\n\t * @default Takes the value of `Responsive.breakpoints`\r\n\t */\r\n\tbreakpoints: Responsive.breakpoints,\r\n\r\n\t/**\r\n\t * Enable / disable auto hiding calculations. It can help to increase\r\n\t * performance slightly if you disable this option, but all columns would\r\n\t * need to have breakpoint classes assigned to them\r\n\t *\r\n\t * @type {Boolean}\r\n\t * @default  `true`\r\n\t */\r\n\tauto: true,\r\n\r\n\t/**\r\n\t * Details control. If given as a string value, the `type` property of the\r\n\t * default object is set to that value, and the defaults used for the rest\r\n\t * of the object - this is for ease of implementation.\r\n\t *\r\n\t * The object consists of the following properties:\r\n\t *\r\n\t * * `renderer` - function that is called for display of the child row data.\r\n\t *   The default function will show the data from the hidden columns\r\n\t * * `target` - Used as the selector for what objects to attach the child\r\n\t *   open / close to\r\n\t * * `type` - `false` to disable the details display, `inline` or `column`\r\n\t *   for the two control types\r\n\t *\r\n\t * @type {Object|string}\r\n\t */\r\n\tdetails: {\r\n\t\trenderer: function ( api, rowIdx ) {\r\n\t\t\tvar data = api.cells( rowIdx, ':hidden' ).eq(0).map( function ( cell ) {\r\n\t\t\t\tvar header = $( api.column( cell.column ).header() );\r\n\r\n\t\t\t\tif ( header.hasClass( 'control' ) ) {\r\n\t\t\t\t\treturn '';\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn '<li>'+\r\n\t\t\t\t\t\t'<span class=\"dtr-title\">'+\r\n\t\t\t\t\t\t\theader.text()+':'+\r\n\t\t\t\t\t\t'</span> '+\r\n\t\t\t\t\t\t'<span class=\"dtr-data\">'+\r\n\t\t\t\t\t\t\tapi.cell( cell ).data()+\r\n\t\t\t\t\t\t'</span>'+\r\n\t\t\t\t\t'</li>';\r\n\t\t\t} ).toArray().join('');\r\n\r\n\t\t\treturn data ?\r\n\t\t\t\t$('<ul/>').append( data ) :\r\n\t\t\t\tfalse;\r\n\t\t},\r\n\r\n\t\ttarget: 0,\r\n\r\n\t\ttype: 'inline'\r\n\t}\r\n};\r\n\r\n\r\n/*\r\n * API\r\n */\r\nvar Api = $.fn.dataTable.Api;\r\n\r\n// Doesn't do anything - work around for a bug in DT... Not documented\r\nApi.register( 'responsive()', function () {\r\n\treturn this;\r\n} );\r\n\r\nApi.register( 'responsive.recalc()', function ( rowIdx, intParse, virtual ) {\r\n\tthis.iterator( 'table', function ( ctx ) {\r\n\t\tif ( ctx._responsive ) {\r\n\t\t\tctx._responsive._resizeAuto();\r\n\t\t\tctx._responsive._resize();\r\n\t\t}\r\n\t} );\r\n} );\r\n\r\n\r\n/**\r\n * Version information\r\n *\r\n * @name Responsive.version\r\n * @static\r\n */\r\nResponsive.version = '1.0.1';\r\n\r\n\r\n$.fn.dataTable.Responsive = Responsive;\r\n$.fn.DataTable.Responsive = Responsive;\r\n\r\n// Attach a listener to the document which listens for DataTables initialisation\r\n// events so we can automatically initialise\r\n$(document).on( 'init.dt.dtr', function (e, settings, json) {\r\n\tif ( $(settings.nTable).hasClass( 'responsive' ) ||\r\n\t\t $(settings.nTable).hasClass( 'dt-responsive' ) ||\r\n\t\t settings.oInit.responsive\r\n\t) {\r\n\t\tvar init = settings.oInit.responsive;\r\n\r\n\t\tif ( init !== false ) {\r\n\t\t\tnew Responsive( settings, $.isPlainObject( init ) ? init : {}  );\r\n\t\t}\r\n\t}\r\n} );\r\n\r\nreturn Responsive;\r\n}; // /factory\r\n\r\n\r\n// Define as an AMD module if possible\r\nif ( true ) {\r\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"), __webpack_require__(/*! datatables */ \"./src/public/js/vendor/datatables/jquery.dataTables.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n}\r\nelse {}\r\n\r\n\r\n})(window, document);\r\n\r\n\n\n//# sourceURL=webpack:///./src/public/js/vendor/datatables/dataTables.responsive.js?");

/***/ }),

/***/ "./src/public/js/vendor/datatables/dataTables.scroller.js":
/*!****************************************************************!*\
  !*** ./src/public/js/vendor/datatables/dataTables.scroller.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\r\n Scroller 1.2.2\r\n 2011-2014 SpryMedia Ltd - datatables.net/license\r\n */\r\n(function(m,n,k){var l=function(e){var g=function(a,b){!this instanceof g?alert(\"Scroller warning: Scroller must be initialised with the 'new' keyword.\"):(\"undefined\"==typeof b&&(b={}),this.s={dt:a,tableTop:0,tableBottom:0,redrawTop:0,redrawBottom:0,autoHeight:!0,viewportRows:0,stateTO:null,drawTO:null,heights:{jump:null,page:null,virtual:null,scroll:null,row:null,viewport:null},topRowFloat:0,scrollDrawDiff:null,loaderVisible:!1},this.s=e.extend(this.s,g.oDefaults,b),this.s.heights.row=this.s.rowHeight,\r\n    this.dom={force:n.createElement(\"div\"),scroller:null,table:null,loader:null},this.s.dt.oScroller=this,this._fnConstruct())};g.prototype={fnRowToPixels:function(a,b,c){a=c?this._domain(\"virtualToPhysical\",a*this.s.heights.row):this.s.baseScrollTop+(a-this.s.baseRowTop)*this.s.heights.row;return b||b===k?parseInt(a,10):a},fnPixelsToRow:function(a,b,c){var d=a-this.s.baseScrollTop,a=c?this._domain(\"physicalToVirtual\",a)/this.s.heights.row:d/this.s.heights.row+this.s.baseRowTop;return b||b===k?parseInt(a,\r\n    10):a},fnScrollToRow:function(a,b){var c=this,d=!1,f=this.fnRowToPixels(a),h=a-(this.s.displayBuffer-1)/2*this.s.viewportRows;0>h&&(h=0);if((f>this.s.redrawBottom||f<this.s.redrawTop)&&this.s.dt._iDisplayStart!==h)d=!0,f=this.fnRowToPixels(a,!1,!0);\"undefined\"==typeof b||b?(this.s.ani=d,e(this.dom.scroller).animate({scrollTop:f},function(){setTimeout(function(){c.s.ani=!1},25)})):e(this.dom.scroller).scrollTop(f)},fnMeasure:function(a){this.s.autoHeight&&this._fnCalcRowHeight();var b=this.s.heights;\r\n    b.viewport=e(this.dom.scroller).height();this.s.viewportRows=parseInt(b.viewport/b.row,10)+1;this.s.dt._iDisplayLength=this.s.viewportRows*this.s.displayBuffer;(a===k||a)&&this.s.dt.oInstance.fnDraw()},_fnConstruct:function(){var a=this;if(this.s.dt.oFeatures.bPaginate){this.dom.force.style.position=\"absolute\";this.dom.force.style.top=\"0px\";this.dom.force.style.left=\"0px\";this.dom.force.style.width=\"1px\";this.dom.scroller=e(\"div.\"+this.s.dt.oClasses.sScrollBody,this.s.dt.nTableWrapper)[0];this.dom.scroller.appendChild(this.dom.force);\r\n    this.dom.scroller.style.position=\"relative\";this.dom.table=e(\">table\",this.dom.scroller)[0];this.dom.table.style.position=\"absolute\";this.dom.table.style.top=\"0px\";this.dom.table.style.left=\"0px\";e(this.s.dt.nTableWrapper).addClass(\"DTS\");this.s.loadingIndicator&&(this.dom.loader=e('<div class=\"DTS_Loading\">'+this.s.dt.oLanguage.sLoadingRecords+\"</div>\").css(\"display\",\"none\"),e(this.dom.scroller.parentNode).css(\"position\",\"relative\").append(this.dom.loader));this.s.heights.row&&\"auto\"!=this.s.heights.row&&\r\n    (this.s.autoHeight=!1);this.fnMeasure(!1);this.s.ingnoreScroll=!0;this.s.stateSaveThrottle=this.s.dt.oApi._fnThrottle(function(){a.s.dt.oApi._fnSaveState(a.s.dt)},500);e(this.dom.scroller).on(\"scroll.DTS\",function(){a._fnScroll.call(a)});e(this.dom.scroller).on(\"touchstart.DTS\",function(){a._fnScroll.call(a)});this.s.dt.aoDrawCallback.push({fn:function(){a.s.dt.bInitialised&&a._fnDrawCallback.call(a)},sName:\"Scroller\"});e(m).on(\"resize.DTS\",function(){a.fnMeasure(false);a._fnInfo()});var b=!0;this.s.dt.oApi._fnCallbackReg(this.s.dt,\r\n        \"aoStateSaveParams\",function(c,d){if(b&&a.s.dt.oLoadedState){d.iScroller=a.s.dt.oLoadedState.iScroller;d.iScrollerTopRow=a.s.dt.oLoadedState.iScrollerTopRow;b=false}else{d.iScroller=a.dom.scroller.scrollTop;d.iScrollerTopRow=a.s.topRowFloat}},\"Scroller_State\");this.s.dt.oLoadedState&&(this.s.topRowFloat=this.s.dt.oLoadedState.iScrollerTopRow||0);this.s.dt.aoDestroyCallback.push({sName:\"Scroller\",fn:function(){e(m).off(\"resize.DTS\");e(a.dom.scroller).off(\"touchstart.DTS scroll.DTS\");e(a.s.dt.nTableWrapper).removeClass(\"DTS\");\r\n        e(\"div.DTS_Loading\",a.dom.scroller.parentNode).remove();a.dom.table.style.position=\"\";a.dom.table.style.top=\"\";a.dom.table.style.left=\"\"}})}else this.s.dt.oApi._fnLog(this.s.dt,0,\"Pagination must be enabled for Scroller\")},_fnScroll:function(){var a=this,b=this.s.heights,c=this.dom.scroller.scrollTop,d;if(!this.s.skip&&!this.s.ingnoreScroll)if(this.s.dt.bFiltered||this.s.dt.bSorted)this.s.lastScrollTop=0;else{this._fnInfo();clearTimeout(this.s.stateTO);this.s.stateTO=setTimeout(function(){a.s.dt.oApi._fnSaveState(a.s.dt)},\r\n    250);if(c<this.s.redrawTop||c>this.s.redrawBottom){var f=Math.ceil((this.s.displayBuffer-1)/2*this.s.viewportRows);Math.abs(c-this.s.lastScrollTop)>b.viewport||this.s.ani?(d=parseInt(this._domain(\"physicalToVirtual\",c)/b.row,10)-f,this.s.topRowFloat=this._domain(\"physicalToVirtual\",c)/b.row):(d=this.fnPixelsToRow(c)-f,this.s.topRowFloat=this.fnPixelsToRow(c,!1));0>=d?d=0:d+this.s.dt._iDisplayLength>this.s.dt.fnRecordsDisplay()?(d=this.s.dt.fnRecordsDisplay()-this.s.dt._iDisplayLength,0>d&&(d=0)):\r\n    0!==d%2&&d++;if(d!=this.s.dt._iDisplayStart&&(this.s.tableTop=e(this.s.dt.nTable).offset().top,this.s.tableBottom=e(this.s.dt.nTable).height()+this.s.tableTop,b=function(){if(a.s.scrollDrawReq===null)a.s.scrollDrawReq=c;a.s.dt._iDisplayStart=d;a.s.dt.oApi._fnCalculateEnd&&a.s.dt.oApi._fnCalculateEnd(a.s.dt);a.s.dt.oApi._fnDraw(a.s.dt)},this.s.dt.oFeatures.bServerSide?(clearTimeout(this.s.drawTO),this.s.drawTO=setTimeout(b,this.s.serverWait)):b(),this.dom.loader&&!this.s.loaderVisible))this.dom.loader.css(\"display\",\r\n    \"block\"),this.s.loaderVisible=!0}this.s.lastScrollTop=c;this.s.stateSaveThrottle()}},_domain:function(a,b){var c=this.s.heights,d;if(c.virtual===c.scroll){d=(c.virtual-c.viewport)/(c.scroll-c.viewport);if(\"virtualToPhysical\"===a)return b/d;if(\"physicalToVirtual\"===a)return b*d}var e=(c.scroll-c.viewport)/2,h=(c.virtual-c.viewport)/2;d=h/(e*e);if(\"virtualToPhysical\"===a){if(b<h)return Math.pow(b/d,0.5);b=2*h-b;return 0>b?c.scroll:2*e-Math.pow(b/d,0.5)}if(\"physicalToVirtual\"===a){if(b<e)return b*b*\r\n    d;b=2*e-b;return 0>b?c.virtual:2*h-b*b*d}},_fnDrawCallback:function(){var a=this,b=this.s.heights,c=this.dom.scroller.scrollTop,d=e(this.s.dt.nTable).height(),f=this.s.dt._iDisplayStart,h=this.s.dt._iDisplayLength,g=this.s.dt.fnRecordsDisplay();this.s.skip=!0;this._fnScrollForce();c=0===f?this.s.topRowFloat*b.row:f+h>=g?b.scroll-(g-this.s.topRowFloat)*b.row:this._domain(\"virtualToPhysical\",this.s.topRowFloat*b.row);this.dom.scroller.scrollTop=c;this.s.baseScrollTop=c;this.s.baseRowTop=this.s.topRowFloat;\r\n    var j=c-(this.s.topRowFloat-f)*b.row;0===f?j=0:f+h>=g&&(j=b.scroll-d);this.dom.table.style.top=j+\"px\";this.s.tableTop=j;this.s.tableBottom=d+this.s.tableTop;d=(c-this.s.tableTop)*this.s.boundaryScale;this.s.redrawTop=c-d;this.s.redrawBottom=c+d;this.s.skip=!1;this.s.dt.oFeatures.bStateSave&&null!==this.s.dt.oLoadedState&&\"undefined\"!=typeof this.s.dt.oLoadedState.iScroller?((c=(this.s.dt.sAjaxSource||a.s.dt.ajax)&&!this.s.dt.oFeatures.bServerSide?!0:!1)&&2==this.s.dt.iDraw||!c&&1==this.s.dt.iDraw)&&\r\n        setTimeout(function(){e(a.dom.scroller).scrollTop(a.s.dt.oLoadedState.iScroller);a.s.redrawTop=a.s.dt.oLoadedState.iScroller-b.viewport/2;setTimeout(function(){a.s.ingnoreScroll=!1},0)},0):a.s.ingnoreScroll=!1;setTimeout(function(){a._fnInfo.call(a)},0);this.dom.loader&&this.s.loaderVisible&&(this.dom.loader.css(\"display\",\"none\"),this.s.loaderVisible=!1)},_fnScrollForce:function(){var a=this.s.heights;a.virtual=a.row*this.s.dt.fnRecordsDisplay();a.scroll=a.virtual;1E6<a.scroll&&(a.scroll=1E6);this.dom.force.style.height=\r\n    a.scroll+\"px\"},_fnCalcRowHeight:function(){var a=this.s.dt,b=a.nTable,c=b.cloneNode(!1),d=e(\"<tbody/>\").appendTo(c),f=e('<div class=\"'+a.oClasses.sWrapper+' DTS\"><div class=\"'+a.oClasses.sScrollWrapper+'\"><div class=\"'+a.oClasses.sScrollBody+'\"></div></div></div>');for(e(\"tbody tr:lt(4)\",b).clone().appendTo(d);3>e(\"tr\",d).length;)d.append(\"<tr><td>&nbsp;</td></tr>\");e(\"div.\"+a.oClasses.sScrollBody,f).append(c);a._bInitComplete?a=b.parentNode:(this.s.dt.nHolding||(this.s.dt.nHolding=e(\"<div></div>\").insertBefore(this.s.dt.nTable)),\r\n    a=this.s.dt.nHolding);f.appendTo(a);this.s.heights.row=e(\"tr\",d).eq(1).outerHeight();f.remove()},_fnInfo:function(){if(this.s.dt.oFeatures.bInfo){var a=this.s.dt,b=a.oLanguage,c=this.dom.scroller.scrollTop,d=Math.floor(this.fnPixelsToRow(c,!1,this.s.ani)+1),f=a.fnRecordsTotal(),h=a.fnRecordsDisplay(),c=Math.ceil(this.fnPixelsToRow(c+this.s.heights.viewport,!1,this.s.ani)),c=h<c?h:c,g=a.fnFormatNumber(d),j=a.fnFormatNumber(c),i=a.fnFormatNumber(f),k=a.fnFormatNumber(h),g=0===a.fnRecordsDisplay()&&\r\n    a.fnRecordsDisplay()==a.fnRecordsTotal()?b.sInfoEmpty+b.sInfoPostFix:0===a.fnRecordsDisplay()?b.sInfoEmpty+\" \"+b.sInfoFiltered.replace(\"_MAX_\",i)+b.sInfoPostFix:a.fnRecordsDisplay()==a.fnRecordsTotal()?b.sInfo.replace(\"_START_\",g).replace(\"_END_\",j).replace(\"_MAX_\",i).replace(\"_TOTAL_\",k)+b.sInfoPostFix:b.sInfo.replace(\"_START_\",g).replace(\"_END_\",j).replace(\"_MAX_\",i).replace(\"_TOTAL_\",k)+\" \"+b.sInfoFiltered.replace(\"_MAX_\",a.fnFormatNumber(a.fnRecordsTotal()))+b.sInfoPostFix;(b=b.fnInfoCallback)&&\r\n(g=b.call(a.oInstance,a,d,c,f,h,g));a=a.aanFeatures.i;if(\"undefined\"!=typeof a){d=0;for(f=a.length;d<f;d++)e(a[d]).html(g)}}}};g.defaults={trace:!1,rowHeight:\"auto\",serverWait:200,displayBuffer:9,boundaryScale:0.5,loadingIndicator:!1};g.oDefaults=g.defaults;g.version=\"1.2.2\";\"function\"==typeof e.fn.dataTable&&\"function\"==typeof e.fn.dataTableExt.fnVersionCheck&&e.fn.dataTableExt.fnVersionCheck(\"1.9.0\")?e.fn.dataTableExt.aoFeatures.push({fnInit:function(a){var b=a.oInit;return(new g(a,b.scroller||\r\n    b.oScroller||{})).dom.wrapper},cFeature:\"S\",sFeature:\"Scroller\"}):alert(\"Warning: Scroller requires DataTables 1.9.0 or greater - www.datatables.net/download\");e.fn.dataTable.Scroller=g;e.fn.DataTable.Scroller=g;if(e.fn.dataTable.Api){var i=e.fn.dataTable.Api;i.register(\"scroller()\",function(){return this});i.register(\"scroller().rowToPixels()\",function(a,b,c){var d=this.context;if(d.length&&d[0].oScroller)return d[0].oScroller.fnRowToPixels(a,b,c)});i.register(\"scroller().pixelsToRow()\",function(a,\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          b,c){var d=this.context;if(d.length&&d[0].oScroller)return d[0].oScroller.fnPixelsToRow(a,b,c)});i.register(\"scroller().scrollToRow()\",function(a,b){this.iterator(\"table\",function(c){c.oScroller&&c.oScroller.fnScrollToRow(a,b)});return this});i.register(\"scroller().measure()\",function(a){this.iterator(\"table\",function(b){b.oScroller&&b.oScroller.fnMeasure(a)});return this})}return g}; true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\"),__webpack_require__(/*! datatables */ \"./src/public/js/vendor/datatables/jquery.dataTables.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (l),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):undefined})(window,document);\r\n\n\n//# sourceURL=webpack:///./src/public/js/vendor/datatables/dataTables.scroller.js?");

/***/ }),

/***/ "./src/public/js/vendor/datatables/jquery.dataTables.js":
/*!**************************************************************!*\
  !*** ./src/public/js/vendor/datatables/jquery.dataTables.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(jQuery) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! DataTables 1.10.2\r\n * 2008-2014 SpryMedia Ltd - datatables.net/license\r\n */\r\n\r\n/**\r\n * @summary     DataTables\r\n * @description Paginate, search and order HTML tables\r\n * @version     1.10.2\r\n * @file        jquery.dataTables.js\r\n * @author      SpryMedia Ltd (www.sprymedia.co.uk)\r\n * @contact     www.sprymedia.co.uk/contact\r\n * @copyright   Copyright 2008-2014 SpryMedia Ltd.\r\n *\r\n * This source file is free software, available under the following license:\r\n *   MIT license - http://datatables.net/license\r\n *\r\n * This source file is distributed in the hope that it will be useful, but\r\n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\r\n * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.\r\n *\r\n * For details please refer to: http://www.datatables.net\r\n */\r\n\r\n/*jslint evil: true, undef: true, browser: true */\r\n/*globals $,require,jQuery,define,_selector_run,_selector_opts,_selector_first,_selector_row_indexes,_ext,_Api,_api_register,_api_registerPlural,_re_new_lines,_re_html,_re_formatted_numeric,_re_escape_regex,_empty,_intVal,_numToDecimal,_isNumber,_isHtml,_htmlNumeric,_pluck,_pluck_order,_range,_stripHtml,_unique,_fnBuildAjax,_fnAjaxUpdate,_fnAjaxParameters,_fnAjaxUpdateDraw,_fnAjaxDataSrc,_fnAddColumn,_fnColumnOptions,_fnAdjustColumnSizing,_fnVisibleToColumnIndex,_fnColumnIndexToVisible,_fnVisbleColumns,_fnGetColumns,_fnColumnTypes,_fnApplyColumnDefs,_fnHungarianMap,_fnCamelToHungarian,_fnLanguageCompat,_fnBrowserDetect,_fnAddData,_fnAddTr,_fnNodeToDataIndex,_fnNodeToColumnIndex,_fnGetCellData,_fnSetCellData,_fnSplitObjNotation,_fnGetObjectDataFn,_fnSetObjectDataFn,_fnGetDataMaster,_fnClearTable,_fnDeleteIndex,_fnInvalidateRow,_fnGetRowElements,_fnCreateTr,_fnBuildHead,_fnDrawHead,_fnDraw,_fnReDraw,_fnAddOptionsHtml,_fnDetectHeader,_fnGetUniqueThs,_fnFeatureHtmlFilter,_fnFilterComplete,_fnFilterCustom,_fnFilterColumn,_fnFilter,_fnFilterCreateSearch,_fnEscapeRegex,_fnFilterData,_fnFeatureHtmlInfo,_fnUpdateInfo,_fnInfoMacros,_fnInitialise,_fnInitComplete,_fnLengthChange,_fnFeatureHtmlLength,_fnFeatureHtmlPaginate,_fnPageChange,_fnFeatureHtmlProcessing,_fnProcessingDisplay,_fnFeatureHtmlTable,_fnScrollDraw,_fnApplyToChildren,_fnCalculateColumnWidths,_fnThrottle,_fnConvertToWidth,_fnScrollingWidthAdjust,_fnGetWidestNode,_fnGetMaxLenString,_fnStringToCss,_fnScrollBarWidth,_fnSortFlatten,_fnSort,_fnSortAria,_fnSortListener,_fnSortAttachListener,_fnSortingClasses,_fnSortData,_fnSaveState,_fnLoadState,_fnSettingsFromNode,_fnLog,_fnMap,_fnBindAction,_fnCallbackReg,_fnCallbackFire,_fnLengthOverflow,_fnRenderer,_fnDataSource,_fnRowAttributes*/\r\n\r\n(/** @lends <global> */function( window, document, undefined ) {\r\n\r\n(function( factory ) {\r\n\t\"use strict\";\r\n\r\n\tif ( true ) {\r\n\t\t// Define as an AMD module if possible\r\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\t}\r\n    else {}\r\n}\r\n(/** @lends <global> */function( $ ) {\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * DataTables is a plug-in for the jQuery Javascript library. It is a highly\r\n\t * flexible tool, based upon the foundations of progressive enhancement,\r\n\t * which will add advanced interaction controls to any HTML table. For a\r\n\t * full list of features please refer to\r\n\t * [DataTables.net](href=\"http://datatables.net).\r\n\t *\r\n\t * Note that the `DataTable` object is not a global variable but is aliased\r\n\t * to `jQuery.fn.DataTable` and `jQuery.fn.dataTable` through which it may\r\n\t * be  accessed.\r\n\t *\r\n\t *  @class\r\n\t *  @param {object} [init={}] Configuration object for DataTables. Options\r\n\t *    are defined by {@link DataTable.defaults}\r\n\t *  @requires jQuery 1.7+\r\n\t *\r\n\t *  @example\r\n\t *    // Basic initialisation\r\n\t *    $(document).ready( function {\r\n\t *      $('#example').dataTable();\r\n\t *    } );\r\n\t *\r\n\t *  @example\r\n\t *    // Initialisation with configuration options - in this case, disable\r\n\t *    // pagination and sorting.\r\n\t *    $(document).ready( function {\r\n\t *      $('#example').dataTable( {\r\n\t *        \"paginate\": false,\r\n\t *        \"sort\": false\r\n\t *      } );\r\n\t *    } );\r\n\t */\r\n\tvar DataTable;\r\n\r\n\t\r\n\t/*\r\n\t * It is useful to have variables which are scoped locally so only the\r\n\t * DataTables functions can access them and they don't leak into global space.\r\n\t * At the same time these functions are often useful over multiple files in the\r\n\t * core and API, so we list, or at least document, all variables which are used\r\n\t * by DataTables as private variables here. This also ensures that there is no\r\n\t * clashing of variable names and that they can easily referenced for reuse.\r\n\t */\r\n\t\r\n\t\r\n\t// Defined else where\r\n\t//  _selector_run\r\n\t//  _selector_opts\r\n\t//  _selector_first\r\n\t//  _selector_row_indexes\r\n\t\r\n\tvar _ext; // DataTable.ext\r\n\tvar _Api; // DataTable.Api\r\n\tvar _api_register; // DataTable.Api.register\r\n\tvar _api_registerPlural; // DataTable.Api.registerPlural\r\n\t\r\n\tvar _re_dic = {};\r\n\tvar _re_new_lines = /[\\r\\n]/g;\r\n\tvar _re_html = /<.*?>/g;\r\n\tvar _re_date_start = /^[\\w\\+\\-]/;\r\n\tvar _re_date_end = /[\\w\\+\\-]$/;\r\n\t\r\n\t// Escape regular expression special characters\r\n\tvar _re_escape_regex = new RegExp( '(\\\\' + [ '/', '.', '*', '+', '?', '|', '(', ')', '[', ']', '{', '}', '\\\\', '$', '^', '-' ].join('|\\\\') + ')', 'g' );\r\n\t\r\n\t// U+2009 is thin space and U+202F is narrow no-break space, both used in many\r\n\t// standards as thousands separators\r\n\tvar _re_formatted_numeric = /[',$%\\u2009\\u202F]/g;\r\n\t\r\n\t\r\n\tvar _empty = function ( d ) {\r\n\t\treturn !d || d === true || d === '-' ? true : false;\r\n\t};\r\n\t\r\n\t\r\n\tvar _intVal = function ( s ) {\r\n\t\tvar integer = parseInt( s, 10 );\r\n\t\treturn !isNaN(integer) && isFinite(s) ? integer : null;\r\n\t};\r\n\t\r\n\t// Convert from a formatted number with characters other than `.` as the\r\n\t// decimal place, to a Javascript number\r\n\tvar _numToDecimal = function ( num, decimalPoint ) {\r\n\t\t// Cache created regular expressions for speed as this function is called often\r\n\t\tif ( ! _re_dic[ decimalPoint ] ) {\r\n\t\t\t_re_dic[ decimalPoint ] = new RegExp( _fnEscapeRegex( decimalPoint ), 'g' );\r\n\t\t}\r\n\t\treturn typeof num === 'string' ?\r\n\t\t\tnum.replace( /\\./g, '' ).replace( _re_dic[ decimalPoint ], '.' ) :\r\n\t\t\tnum;\r\n\t};\r\n\t\r\n\t\r\n\tvar _isNumber = function ( d, decimalPoint, formatted ) {\r\n\t\tvar strType = typeof d === 'string';\r\n\t\r\n\t\tif ( decimalPoint && strType ) {\r\n\t\t\td = _numToDecimal( d, decimalPoint );\r\n\t\t}\r\n\t\r\n\t\tif ( formatted && strType ) {\r\n\t\t\td = d.replace( _re_formatted_numeric, '' );\r\n\t\t}\r\n\t\r\n\t\treturn _empty( d ) || (!isNaN( parseFloat(d) ) && isFinite( d ));\r\n\t};\r\n\t\r\n\t\r\n\t// A string without HTML in it can be considered to be HTML still\r\n\tvar _isHtml = function ( d ) {\r\n\t\treturn _empty( d ) || typeof d === 'string';\r\n\t};\r\n\t\r\n\t\r\n\tvar _htmlNumeric = function ( d, decimalPoint, formatted ) {\r\n\t\tif ( _empty( d ) ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\r\n\t\tvar html = _isHtml( d );\r\n\t\treturn ! html ?\r\n\t\t\tnull :\r\n\t\t\t_isNumber( _stripHtml( d ), decimalPoint, formatted ) ?\r\n\t\t\t\ttrue :\r\n\t\t\t\tnull;\r\n\t};\r\n\t\r\n\t\r\n\tvar _pluck = function ( a, prop, prop2 ) {\r\n\t\tvar out = [];\r\n\t\tvar i=0, ien=a.length;\r\n\t\r\n\t\t// Could have the test in the loop for slightly smaller code, but speed\r\n\t\t// is essential here\r\n\t\tif ( prop2 !== undefined ) {\r\n\t\t\tfor ( ; i<ien ; i++ ) {\r\n\t\t\t\tif ( a[i] && a[i][ prop ] ) {\r\n\t\t\t\t\tout.push( a[i][ prop ][ prop2 ] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor ( ; i<ien ; i++ ) {\r\n\t\t\t\tif ( a[i] ) {\r\n\t\t\t\t\tout.push( a[i][ prop ] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\treturn out;\r\n\t};\r\n\t\r\n\t\r\n\t// Basically the same as _pluck, but rather than looping over `a` we use `order`\r\n\t// as the indexes to pick from `a`\r\n\tvar _pluck_order = function ( a, order, prop, prop2 )\r\n\t{\r\n\t\tvar out = [];\r\n\t\tvar i=0, ien=order.length;\r\n\t\r\n\t\t// Could have the test in the loop for slightly smaller code, but speed\r\n\t\t// is essential here\r\n\t\tif ( prop2 !== undefined ) {\r\n\t\t\tfor ( ; i<ien ; i++ ) {\r\n\t\t\t\tout.push( a[ order[i] ][ prop ][ prop2 ] );\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor ( ; i<ien ; i++ ) {\r\n\t\t\t\tout.push( a[ order[i] ][ prop ] );\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\treturn out;\r\n\t};\r\n\t\r\n\t\r\n\tvar _range = function ( len, start )\r\n\t{\r\n\t\tvar out = [];\r\n\t\tvar end;\r\n\t\r\n\t\tif ( start === undefined ) {\r\n\t\t\tstart = 0;\r\n\t\t\tend = len;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tend = start;\r\n\t\t\tstart = len;\r\n\t\t}\r\n\t\r\n\t\tfor ( var i=start ; i<end ; i++ ) {\r\n\t\t\tout.push( i );\r\n\t\t}\r\n\t\r\n\t\treturn out;\r\n\t};\r\n\t\r\n\t\r\n\tvar _stripHtml = function ( d ) {\r\n\t\treturn d.replace( _re_html, '' );\r\n\t};\r\n\t\r\n\t\r\n\t/**\r\n\t * Find the unique elements in a source array.\r\n\t *\r\n\t * @param  {array} src Source array\r\n\t * @return {array} Array of unique items\r\n\t * @ignore\r\n\t */\r\n\tvar _unique = function ( src )\r\n\t{\r\n\t\t// A faster unique method is to use object keys to identify used values,\r\n\t\t// but this doesn't work with arrays or objects, which we must also\r\n\t\t// consider. See jsperf.com/compare-array-unique-versions/4 for more\r\n\t\t// information.\r\n\t\tvar\r\n\t\t\tout = [],\r\n\t\t\tval,\r\n\t\t\ti, ien=src.length,\r\n\t\t\tj, k=0;\r\n\t\r\n\t\tagain: for ( i=0 ; i<ien ; i++ ) {\r\n\t\t\tval = src[i];\r\n\t\r\n\t\t\tfor ( j=0 ; j<k ; j++ ) {\r\n\t\t\t\tif ( out[j] === val ) {\r\n\t\t\t\t\tcontinue again;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tout.push( val );\r\n\t\t\tk++;\r\n\t\t}\r\n\t\r\n\t\treturn out;\r\n\t};\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Create a mapping object that allows camel case parameters to be looked up\r\n\t * for their Hungarian counterparts. The mapping is stored in a private\r\n\t * parameter called `_hungarianMap` which can be accessed on the source object.\r\n\t *  @param {object} o\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnHungarianMap ( o )\r\n\t{\r\n\t\tvar\r\n\t\t\thungarian = 'a aa ai ao as b fn i m o s ',\r\n\t\t\tmatch,\r\n\t\t\tnewKey,\r\n\t\t\tmap = {};\r\n\t\r\n\t\t$.each( o, function (key, val) {\r\n\t\t\tmatch = key.match(/^([^A-Z]+?)([A-Z])/);\r\n\t\r\n\t\t\tif ( match && hungarian.indexOf(match[1]+' ') !== -1 )\r\n\t\t\t{\r\n\t\t\t\tnewKey = key.replace( match[0], match[2].toLowerCase() );\r\n\t\t\t\tmap[ newKey ] = key;\r\n\t\r\n\t\t\t\t//console.log( key, match );\r\n\t\t\t\tif ( match[1] === 'o' )\r\n\t\t\t\t{\r\n\t\t\t\t\t_fnHungarianMap( o[key] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\t\r\n\t\to._hungarianMap = map;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Convert from camel case parameters to Hungarian, based on a Hungarian map\r\n\t * created by _fnHungarianMap.\r\n\t *  @param {object} src The model object which holds all parameters that can be\r\n\t *    mapped.\r\n\t *  @param {object} user The object to convert from camel case to Hungarian.\r\n\t *  @param {boolean} force When set to `true`, properties which already have a\r\n\t *    Hungarian value in the `user` object will be overwritten. Otherwise they\r\n\t *    won't be.\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnCamelToHungarian ( src, user, force )\r\n\t{\r\n\t\tif ( ! src._hungarianMap ) {\r\n\t\t\t_fnHungarianMap( src );\r\n\t\t}\r\n\t\r\n\t\tvar hungarianKey;\r\n\t\r\n\t\t$.each( user, function (key, val) {\r\n\t\t\thungarianKey = src._hungarianMap[ key ];\r\n\t\r\n\t\t\tif ( hungarianKey !== undefined && (force || user[hungarianKey] === undefined) )\r\n\t\t\t{\r\n\t\t\t\t// For objects, we need to buzz down into the object to copy parameters\r\n\t\t\t\tif ( hungarianKey.charAt(0) === 'o' )\r\n\t\t\t\t{\r\n\t\t\t\t\t// Copy the camelCase options over to the hungarian\r\n\t\t\t\t\tif ( ! user[ hungarianKey ] ) {\r\n\t\t\t\t\t\tuser[ hungarianKey ] = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$.extend( true, user[hungarianKey], user[key] );\r\n\t\r\n\t\t\t\t\t_fnCamelToHungarian( src[hungarianKey], user[hungarianKey], force );\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tuser[hungarianKey] = user[ key ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Language compatibility - when certain options are given, and others aren't, we\r\n\t * need to duplicate the values over, in order to provide backwards compatibility\r\n\t * with older language files.\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnLanguageCompat( lang )\r\n\t{\r\n\t\tvar defaults = DataTable.defaults.oLanguage;\r\n\t\tvar zeroRecords = lang.sZeroRecords;\r\n\t\r\n\t\t/* Backwards compatibility - if there is no sEmptyTable given, then use the same as\r\n\t\t * sZeroRecords - assuming that is given.\r\n\t\t */\r\n\t\tif ( ! lang.sEmptyTable && zeroRecords &&\r\n\t\t\tdefaults.sEmptyTable === \"No data available in table\" )\r\n\t\t{\r\n\t\t\t_fnMap( lang, lang, 'sZeroRecords', 'sEmptyTable' );\r\n\t\t}\r\n\t\r\n\t\t/* Likewise with loading records */\r\n\t\tif ( ! lang.sLoadingRecords && zeroRecords &&\r\n\t\t\tdefaults.sLoadingRecords === \"Loading...\" )\r\n\t\t{\r\n\t\t\t_fnMap( lang, lang, 'sZeroRecords', 'sLoadingRecords' );\r\n\t\t}\r\n\t\r\n\t\t// Old parameter name of the thousands separator mapped onto the new\r\n\t\tif ( lang.sInfoThousands ) {\r\n\t\t\tlang.sThousands = lang.sInfoThousands;\r\n\t\t}\r\n\t\r\n\t\tvar decimal = lang.sDecimal;\r\n\t\tif ( decimal ) {\r\n\t\t\t_addNumericSort( decimal );\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Map one parameter onto another\r\n\t *  @param {object} o Object to map\r\n\t *  @param {*} knew The new parameter name\r\n\t *  @param {*} old The old parameter name\r\n\t */\r\n\tvar _fnCompatMap = function ( o, knew, old ) {\r\n\t\tif ( o[ knew ] !== undefined ) {\r\n\t\t\to[ old ] = o[ knew ];\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t/**\r\n\t * Provide backwards compatibility for the main DT options. Note that the new\r\n\t * options are mapped onto the old parameters, so this is an external interface\r\n\t * change only.\r\n\t *  @param {object} init Object to map\r\n\t */\r\n\tfunction _fnCompatOpts ( init )\r\n\t{\r\n\t\t_fnCompatMap( init, 'ordering',      'bSort' );\r\n\t\t_fnCompatMap( init, 'orderMulti',    'bSortMulti' );\r\n\t\t_fnCompatMap( init, 'orderClasses',  'bSortClasses' );\r\n\t\t_fnCompatMap( init, 'orderCellsTop', 'bSortCellsTop' );\r\n\t\t_fnCompatMap( init, 'order',         'aaSorting' );\r\n\t\t_fnCompatMap( init, 'orderFixed',    'aaSortingFixed' );\r\n\t\t_fnCompatMap( init, 'paging',        'bPaginate' );\r\n\t\t_fnCompatMap( init, 'pagingType',    'sPaginationType' );\r\n\t\t_fnCompatMap( init, 'pageLength',    'iDisplayLength' );\r\n\t\t_fnCompatMap( init, 'searching',     'bFilter' );\r\n\t\r\n\t\t// Column search objects are in an array, so it needs to be converted\r\n\t\t// element by element\r\n\t\tvar searchCols = init.aoSearchCols;\r\n\t\r\n\t\tif ( searchCols ) {\r\n\t\t\tfor ( var i=0, ien=searchCols.length ; i<ien ; i++ ) {\r\n\t\t\t\tif ( searchCols[i] ) {\r\n\t\t\t\t\t_fnCamelToHungarian( DataTable.models.oSearch, searchCols[i] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Provide backwards compatibility for column options. Note that the new options\r\n\t * are mapped onto the old parameters, so this is an external interface change\r\n\t * only.\r\n\t *  @param {object} init Object to map\r\n\t */\r\n\tfunction _fnCompatCols ( init )\r\n\t{\r\n\t\t_fnCompatMap( init, 'orderable',     'bSortable' );\r\n\t\t_fnCompatMap( init, 'orderData',     'aDataSort' );\r\n\t\t_fnCompatMap( init, 'orderSequence', 'asSorting' );\r\n\t\t_fnCompatMap( init, 'orderDataType', 'sortDataType' );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Browser feature detection for capabilities, quirks\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnBrowserDetect( settings )\r\n\t{\r\n\t\tvar browser = settings.oBrowser;\r\n\t\r\n\t\t// Scrolling feature / quirks detection\r\n\t\tvar n = $('<div/>')\r\n\t\t\t.css( {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tleft: 0,\r\n\t\t\t\theight: 1,\r\n\t\t\t\twidth: 1,\r\n\t\t\t\toverflow: 'hidden'\r\n\t\t\t} )\r\n\t\t\t.append(\r\n\t\t\t\t$('<div/>')\r\n\t\t\t\t\t.css( {\r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\ttop: 1,\r\n\t\t\t\t\t\tleft: 1,\r\n\t\t\t\t\t\twidth: 100,\r\n\t\t\t\t\t\toverflow: 'scroll'\r\n\t\t\t\t\t} )\r\n\t\t\t\t\t.append(\r\n\t\t\t\t\t\t$('<div class=\"test\"/>')\r\n\t\t\t\t\t\t\t.css( {\r\n\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\theight: 10\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t)\r\n\t\t\t)\r\n\t\t\t.appendTo( 'body' );\r\n\t\r\n\t\tvar test = n.find('.test');\r\n\t\r\n\t\t// IE6/7 will oversize a width 100% element inside a scrolling element, to\r\n\t\t// include the width of the scrollbar, while other browsers ensure the inner\r\n\t\t// element is contained without forcing scrolling\r\n\t\tbrowser.bScrollOversize = test[0].offsetWidth === 100;\r\n\t\r\n\t\t// In rtl text layout, some browsers (most, but not all) will place the\r\n\t\t// scrollbar on the left, rather than the right.\r\n\t\tbrowser.bScrollbarLeft = test.offset().left !== 1;\r\n\t\r\n\t\tn.remove();\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Array.prototype reduce[Right] method, used for browsers which don't support\r\n\t * JS 1.6. Done this way to reduce code size, since we iterate either way\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnReduce ( that, fn, init, start, end, inc )\r\n\t{\r\n\t\tvar\r\n\t\t\ti = start,\r\n\t\t\tvalue,\r\n\t\t\tisSet = false;\r\n\t\r\n\t\tif ( init !== undefined ) {\r\n\t\t\tvalue = init;\r\n\t\t\tisSet = true;\r\n\t\t}\r\n\t\r\n\t\twhile ( i !== end ) {\r\n\t\t\tif ( ! that.hasOwnProperty(i) ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\r\n\t\t\tvalue = isSet ?\r\n\t\t\t\tfn( value, that[i], i, that ) :\r\n\t\t\t\tthat[i];\r\n\t\r\n\t\t\tisSet = true;\r\n\t\t\ti += inc;\r\n\t\t}\r\n\t\r\n\t\treturn value;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Add a column to the list used for the table with default values\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {node} nTh The th element for this column\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnAddColumn( oSettings, nTh )\r\n\t{\r\n\t\t// Add column to aoColumns array\r\n\t\tvar oDefaults = DataTable.defaults.column;\r\n\t\tvar iCol = oSettings.aoColumns.length;\r\n\t\tvar oCol = $.extend( {}, DataTable.models.oColumn, oDefaults, {\r\n\t\t\t\"nTh\": nTh ? nTh : document.createElement('th'),\r\n\t\t\t\"sTitle\":    oDefaults.sTitle    ? oDefaults.sTitle    : nTh ? nTh.innerHTML : '',\r\n\t\t\t\"aDataSort\": oDefaults.aDataSort ? oDefaults.aDataSort : [iCol],\r\n\t\t\t\"mData\": oDefaults.mData ? oDefaults.mData : iCol,\r\n\t\t\tidx: iCol\r\n\t\t} );\r\n\t\toSettings.aoColumns.push( oCol );\r\n\t\r\n\t\t// Add search object for column specific search. Note that the `searchCols[ iCol ]`\r\n\t\t// passed into extend can be undefined. This allows the user to give a default\r\n\t\t// with only some of the parameters defined, and also not give a default\r\n\t\tvar searchCols = oSettings.aoPreSearchCols;\r\n\t\tsearchCols[ iCol ] = $.extend( {}, DataTable.models.oSearch, searchCols[ iCol ] );\r\n\t\r\n\t\t// Use the default column options function to initialise classes etc\r\n\t\t_fnColumnOptions( oSettings, iCol, null );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Apply options for a column\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {int} iCol column index to consider\r\n\t *  @param {object} oOptions object with sType, bVisible and bSearchable etc\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnColumnOptions( oSettings, iCol, oOptions )\r\n\t{\r\n\t\tvar oCol = oSettings.aoColumns[ iCol ];\r\n\t\tvar oClasses = oSettings.oClasses;\r\n\t\tvar th = $(oCol.nTh);\r\n\t\r\n\t\t// Try to get width information from the DOM. We can't get it from CSS\r\n\t\t// as we'd need to parse the CSS stylesheet. `width` option can override\r\n\t\tif ( ! oCol.sWidthOrig ) {\r\n\t\t\t// Width attribute\r\n\t\t\toCol.sWidthOrig = th.attr('width') || null;\r\n\t\r\n\t\t\t// Style attribute\r\n\t\t\tvar t = (th.attr('style') || '').match(/width:\\s*(\\d+[pxem%]+)/);\r\n\t\t\tif ( t ) {\r\n\t\t\t\toCol.sWidthOrig = t[1];\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t/* User specified column options */\r\n\t\tif ( oOptions !== undefined && oOptions !== null )\r\n\t\t{\r\n\t\t\t// Backwards compatibility\r\n\t\t\t_fnCompatCols( oOptions );\r\n\t\r\n\t\t\t// Map camel case parameters to their Hungarian counterparts\r\n\t\t\t_fnCamelToHungarian( DataTable.defaults.column, oOptions );\r\n\t\r\n\t\t\t/* Backwards compatibility for mDataProp */\r\n\t\t\tif ( oOptions.mDataProp !== undefined && !oOptions.mData )\r\n\t\t\t{\r\n\t\t\t\toOptions.mData = oOptions.mDataProp;\r\n\t\t\t}\r\n\t\r\n\t\t\tif ( oOptions.sType )\r\n\t\t\t{\r\n\t\t\t\toCol._sManualType = oOptions.sType;\r\n\t\t\t}\r\n\t\r\n\t\t\t// `class` is a reserved word in Javascript, so we need to provide\r\n\t\t\t// the ability to use a valid name for the camel case input\r\n\t\t\tif ( oOptions.className && ! oOptions.sClass )\r\n\t\t\t{\r\n\t\t\t\toOptions.sClass = oOptions.className;\r\n\t\t\t}\r\n\t\r\n\t\t\t$.extend( oCol, oOptions );\r\n\t\t\t_fnMap( oCol, oOptions, \"sWidth\", \"sWidthOrig\" );\r\n\t\r\n\t\t\t/* iDataSort to be applied (backwards compatibility), but aDataSort will take\r\n\t\t\t * priority if defined\r\n\t\t\t */\r\n\t\t\tif ( typeof oOptions.iDataSort === 'number' )\r\n\t\t\t{\r\n\t\t\t\toCol.aDataSort = [ oOptions.iDataSort ];\r\n\t\t\t}\r\n\t\t\t_fnMap( oCol, oOptions, \"aDataSort\" );\r\n\t\t}\r\n\t\r\n\t\t/* Cache the data get and set functions for speed */\r\n\t\tvar mDataSrc = oCol.mData;\r\n\t\tvar mData = _fnGetObjectDataFn( mDataSrc );\r\n\t\tvar mRender = oCol.mRender ? _fnGetObjectDataFn( oCol.mRender ) : null;\r\n\t\r\n\t\tvar attrTest = function( src ) {\r\n\t\t\treturn typeof src === 'string' && src.indexOf('@') !== -1;\r\n\t\t};\r\n\t\toCol._bAttrSrc = $.isPlainObject( mDataSrc ) && (\r\n\t\t\tattrTest(mDataSrc.sort) || attrTest(mDataSrc.type) || attrTest(mDataSrc.filter)\r\n\t\t);\r\n\t\r\n\t\toCol.fnGetData = function (rowData, type, meta) {\r\n\t\t\tvar innerData = mData( rowData, type, undefined, meta );\r\n\t\r\n\t\t\treturn mRender && type ?\r\n\t\t\t\tmRender( innerData, type, rowData, meta ) :\r\n\t\t\t\tinnerData;\r\n\t\t};\r\n\t\toCol.fnSetData = function ( rowData, val, meta ) {\r\n\t\t\treturn _fnSetObjectDataFn( mDataSrc )( rowData, val, meta );\r\n\t\t};\r\n\t\r\n\t\t/* Feature sorting overrides column specific when off */\r\n\t\tif ( !oSettings.oFeatures.bSort )\r\n\t\t{\r\n\t\t\toCol.bSortable = false;\r\n\t\t\tth.addClass( oClasses.sSortableNone ); // Have to add class here as order event isn't called\r\n\t\t}\r\n\t\r\n\t\t/* Check that the class assignment is correct for sorting */\r\n\t\tvar bAsc = $.inArray('asc', oCol.asSorting) !== -1;\r\n\t\tvar bDesc = $.inArray('desc', oCol.asSorting) !== -1;\r\n\t\tif ( !oCol.bSortable || (!bAsc && !bDesc) )\r\n\t\t{\r\n\t\t\toCol.sSortingClass = oClasses.sSortableNone;\r\n\t\t\toCol.sSortingClassJUI = \"\";\r\n\t\t}\r\n\t\telse if ( bAsc && !bDesc )\r\n\t\t{\r\n\t\t\toCol.sSortingClass = oClasses.sSortableAsc;\r\n\t\t\toCol.sSortingClassJUI = oClasses.sSortJUIAscAllowed;\r\n\t\t}\r\n\t\telse if ( !bAsc && bDesc )\r\n\t\t{\r\n\t\t\toCol.sSortingClass = oClasses.sSortableDesc;\r\n\t\t\toCol.sSortingClassJUI = oClasses.sSortJUIDescAllowed;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\toCol.sSortingClass = oClasses.sSortable;\r\n\t\t\toCol.sSortingClassJUI = oClasses.sSortJUI;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Adjust the table column widths for new data. Note: you would probably want to\r\n\t * do a redraw after calling this function!\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnAdjustColumnSizing ( settings )\r\n\t{\r\n\t\t/* Not interested in doing column width calculation if auto-width is disabled */\r\n\t\tif ( settings.oFeatures.bAutoWidth !== false )\r\n\t\t{\r\n\t\t\tvar columns = settings.aoColumns;\r\n\t\r\n\t\t\t_fnCalculateColumnWidths( settings );\r\n\t\t\tfor ( var i=0 , iLen=columns.length ; i<iLen ; i++ )\r\n\t\t\t{\r\n\t\t\t\tcolumns[i].nTh.style.width = columns[i].sWidth;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tvar scroll = settings.oScroll;\r\n\t\tif ( scroll.sY !== '' || scroll.sX !== '')\r\n\t\t{\r\n\t\t\t_fnScrollDraw( settings );\r\n\t\t}\r\n\t\r\n\t\t_fnCallbackFire( settings, null, 'column-sizing', [settings] );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Covert the index of a visible column to the index in the data array (take account\r\n\t * of hidden columns)\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {int} iMatch Visible column index to lookup\r\n\t *  @returns {int} i the data index\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnVisibleToColumnIndex( oSettings, iMatch )\r\n\t{\r\n\t\tvar aiVis = _fnGetColumns( oSettings, 'bVisible' );\r\n\t\r\n\t\treturn typeof aiVis[iMatch] === 'number' ?\r\n\t\t\taiVis[iMatch] :\r\n\t\t\tnull;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Covert the index of an index in the data array and convert it to the visible\r\n\t *   column index (take account of hidden columns)\r\n\t *  @param {int} iMatch Column index to lookup\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @returns {int} i the data index\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnColumnIndexToVisible( oSettings, iMatch )\r\n\t{\r\n\t\tvar aiVis = _fnGetColumns( oSettings, 'bVisible' );\r\n\t\tvar iPos = $.inArray( iMatch, aiVis );\r\n\t\r\n\t\treturn iPos !== -1 ? iPos : null;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Get the number of visible columns\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @returns {int} i the number of visible columns\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnVisbleColumns( oSettings )\r\n\t{\r\n\t\treturn _fnGetColumns( oSettings, 'bVisible' ).length;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Get an array of column indexes that match a given property\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {string} sParam Parameter in aoColumns to look for - typically\r\n\t *    bVisible or bSearchable\r\n\t *  @returns {array} Array of indexes with matched properties\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnGetColumns( oSettings, sParam )\r\n\t{\r\n\t\tvar a = [];\r\n\t\r\n\t\t$.map( oSettings.aoColumns, function(val, i) {\r\n\t\t\tif ( val[sParam] ) {\r\n\t\t\t\ta.push( i );\r\n\t\t\t}\r\n\t\t} );\r\n\t\r\n\t\treturn a;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Calculate the 'type' of a column\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnColumnTypes ( settings )\r\n\t{\r\n\t\tvar columns = settings.aoColumns;\r\n\t\tvar data = settings.aoData;\r\n\t\tvar types = DataTable.ext.type.detect;\r\n\t\tvar i, ien, j, jen, k, ken;\r\n\t\tvar col, cell, detectedType, cache;\r\n\t\r\n\t\t// For each column, spin over the \r\n\t\tfor ( i=0, ien=columns.length ; i<ien ; i++ ) {\r\n\t\t\tcol = columns[i];\r\n\t\t\tcache = [];\r\n\t\r\n\t\t\tif ( ! col.sType && col._sManualType ) {\r\n\t\t\t\tcol.sType = col._sManualType;\r\n\t\t\t}\r\n\t\t\telse if ( ! col.sType ) {\r\n\t\t\t\tfor ( j=0, jen=types.length ; j<jen ; j++ ) {\r\n\t\t\t\t\tfor ( k=0, ken=data.length ; k<ken ; k++ ) {\r\n\t\t\t\t\t\t// Use a cache array so we only need to get the type data\r\n\t\t\t\t\t\t// from the formatter once (when using multiple detectors)\r\n\t\t\t\t\t\tif ( cache[k] === undefined ) {\r\n\t\t\t\t\t\t\tcache[k] = _fnGetCellData( settings, k, i, 'type' );\r\n\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\tdetectedType = types[j]( cache[k], settings );\r\n\t\r\n\t\t\t\t\t\t// Doesn't match, so break early, since this type can't\r\n\t\t\t\t\t\t// apply to this column. Also, HTML is a special case since\r\n\t\t\t\t\t\t// it is so similar to `string`. Just a single match is\r\n\t\t\t\t\t\t// needed for a column to be html type\r\n\t\t\t\t\t\tif ( ! detectedType || detectedType === 'html' ) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t// Type is valid for all data points in the column - use this\r\n\t\t\t\t\t// type\r\n\t\t\t\t\tif ( detectedType ) {\r\n\t\t\t\t\t\tcol.sType = detectedType;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t// Fall back - if no type was detected, always use string\r\n\t\t\t\tif ( ! col.sType ) {\r\n\t\t\t\t\tcol.sType = 'string';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Take the column definitions and static columns arrays and calculate how\r\n\t * they relate to column indexes. The callback function will then apply the\r\n\t * definition found for a column to a suitable configuration object.\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {array} aoColDefs The aoColumnDefs array that is to be applied\r\n\t *  @param {array} aoCols The aoColumns array that defines columns individually\r\n\t *  @param {function} fn Callback function - takes two parameters, the calculated\r\n\t *    column index and the definition for that column.\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnApplyColumnDefs( oSettings, aoColDefs, aoCols, fn )\r\n\t{\r\n\t\tvar i, iLen, j, jLen, k, kLen, def;\r\n\t\tvar columns = oSettings.aoColumns;\r\n\t\r\n\t\t// Column definitions with aTargets\r\n\t\tif ( aoColDefs )\r\n\t\t{\r\n\t\t\t/* Loop over the definitions array - loop in reverse so first instance has priority */\r\n\t\t\tfor ( i=aoColDefs.length-1 ; i>=0 ; i-- )\r\n\t\t\t{\r\n\t\t\t\tdef = aoColDefs[i];\r\n\t\r\n\t\t\t\t/* Each definition can target multiple columns, as it is an array */\r\n\t\t\t\tvar aTargets = def.targets !== undefined ?\r\n\t\t\t\t\tdef.targets :\r\n\t\t\t\t\tdef.aTargets;\r\n\t\r\n\t\t\t\tif ( ! $.isArray( aTargets ) )\r\n\t\t\t\t{\r\n\t\t\t\t\taTargets = [ aTargets ];\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tfor ( j=0, jLen=aTargets.length ; j<jLen ; j++ )\r\n\t\t\t\t{\r\n\t\t\t\t\tif ( typeof aTargets[j] === 'number' && aTargets[j] >= 0 )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t/* Add columns that we don't yet know about */\r\n\t\t\t\t\t\twhile( columns.length <= aTargets[j] )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t_fnAddColumn( oSettings );\r\n\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\t/* Integer, basic index */\r\n\t\t\t\t\t\tfn( aTargets[j], def );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( typeof aTargets[j] === 'number' && aTargets[j] < 0 )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t/* Negative integer, right to left column counting */\r\n\t\t\t\t\t\tfn( columns.length+aTargets[j], def );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( typeof aTargets[j] === 'string' )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t/* Class name matching on TH element */\r\n\t\t\t\t\t\tfor ( k=0, kLen=columns.length ; k<kLen ; k++ )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif ( aTargets[j] == \"_all\" ||\r\n\t\t\t\t\t\t\t     $(columns[k].nTh).hasClass( aTargets[j] ) )\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tfn( k, def );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t// Statically defined columns array\r\n\t\tif ( aoCols )\r\n\t\t{\r\n\t\t\tfor ( i=0, iLen=aoCols.length ; i<iLen ; i++ )\r\n\t\t\t{\r\n\t\t\t\tfn( i, aoCols[i] );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Add a data array to the table, creating DOM node etc. This is the parallel to\r\n\t * _fnGatherData, but for adding rows from a Javascript source, rather than a\r\n\t * DOM source.\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {array} aData data array to be added\r\n\t *  @param {node} [nTr] TR element to add to the table - optional. If not given,\r\n\t *    DataTables will create a row automatically\r\n\t *  @param {array} [anTds] Array of TD|TH elements for the row - must be given\r\n\t *    if nTr is.\r\n\t *  @returns {int} >=0 if successful (index of new aoData entry), -1 if failed\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnAddData ( oSettings, aDataIn, nTr, anTds )\r\n\t{\r\n\t\t/* Create the object for storing information about this new row */\r\n\t\tvar iRow = oSettings.aoData.length;\r\n\t\tvar oData = $.extend( true, {}, DataTable.models.oRow, {\r\n\t\t\tsrc: nTr ? 'dom' : 'data'\r\n\t\t} );\r\n\t\r\n\t\toData._aData = aDataIn;\r\n\t\toSettings.aoData.push( oData );\r\n\t\r\n\t\t/* Create the cells */\r\n\t\tvar nTd, sThisType;\r\n\t\tvar columns = oSettings.aoColumns;\r\n\t\tfor ( var i=0, iLen=columns.length ; i<iLen ; i++ )\r\n\t\t{\r\n\t\t\t// When working with a row, the data source object must be populated. In\r\n\t\t\t// all other cases, the data source object is already populated, so we\r\n\t\t\t// don't overwrite it, which might break bindings etc\r\n\t\t\tif ( nTr ) {\r\n\t\t\t\t_fnSetCellData( oSettings, iRow, i, _fnGetCellData( oSettings, iRow, i ) );\r\n\t\t\t}\r\n\t\t\tcolumns[i].sType = null;\r\n\t\t}\r\n\t\r\n\t\t/* Add to the display array */\r\n\t\toSettings.aiDisplayMaster.push( iRow );\r\n\t\r\n\t\t/* Create the DOM information, or register it if already present */\r\n\t\tif ( nTr || ! oSettings.oFeatures.bDeferRender )\r\n\t\t{\r\n\t\t\t_fnCreateTr( oSettings, iRow, nTr, anTds );\r\n\t\t}\r\n\t\r\n\t\treturn iRow;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Add one or more TR elements to the table. Generally we'd expect to\r\n\t * use this for reading data from a DOM sourced table, but it could be\r\n\t * used for an TR element. Note that if a TR is given, it is used (i.e.\r\n\t * it is not cloned).\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @param {array|node|jQuery} trs The TR element(s) to add to the table\r\n\t *  @returns {array} Array of indexes for the added rows\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnAddTr( settings, trs )\r\n\t{\r\n\t\tvar row;\r\n\t\r\n\t\t// Allow an individual node to be passed in\r\n\t\tif ( ! (trs instanceof $) ) {\r\n\t\t\ttrs = $(trs);\r\n\t\t}\r\n\t\r\n\t\treturn trs.map( function (i, el) {\r\n\t\t\trow = _fnGetRowElements( settings, el );\r\n\t\t\treturn _fnAddData( settings, row.data, el, row.cells );\r\n\t\t} );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Take a TR element and convert it to an index in aoData\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {node} n the TR element to find\r\n\t *  @returns {int} index if the node is found, null if not\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnNodeToDataIndex( oSettings, n )\r\n\t{\r\n\t\treturn (n._DT_RowIndex!==undefined) ? n._DT_RowIndex : null;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Take a TD element and convert it into a column data index (not the visible index)\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {int} iRow The row number the TD/TH can be found in\r\n\t *  @param {node} n The TD/TH element to find\r\n\t *  @returns {int} index if the node is found, -1 if not\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnNodeToColumnIndex( oSettings, iRow, n )\r\n\t{\r\n\t\treturn $.inArray( n, oSettings.aoData[ iRow ].anCells );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Get the data for a given cell from the internal cache, taking into account data mapping\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @param {int} rowIdx aoData row id\r\n\t *  @param {int} colIdx Column index\r\n\t *  @param {string} type data get type ('display', 'type' 'filter' 'sort')\r\n\t *  @returns {*} Cell data\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnGetCellData( settings, rowIdx, colIdx, type )\r\n\t{\r\n\t\tvar draw           = settings.iDraw;\r\n\t\tvar col            = settings.aoColumns[colIdx];\r\n\t\tvar rowData        = settings.aoData[rowIdx]._aData;\r\n\t\tvar defaultContent = col.sDefaultContent;\r\n\t\tvar cellData       = col.fnGetData( rowData, type, {\r\n\t\t\tsettings: settings,\r\n\t\t\trow:      rowIdx,\r\n\t\t\tcol:      colIdx\r\n\t\t} );\r\n\t\r\n\t\tif ( cellData === undefined ) {\r\n\t\t\tif ( settings.iDrawError != draw && defaultContent === null ) {\r\n\t\t\t\t_fnLog( settings, 0, \"Requested unknown parameter \"+\r\n\t\t\t\t\t(typeof col.mData=='function' ? '{function}' : \"'\"+col.mData+\"'\")+\r\n\t\t\t\t\t\" for row \"+rowIdx, 4 );\r\n\t\t\t\tsettings.iDrawError = draw;\r\n\t\t\t}\r\n\t\t\treturn defaultContent;\r\n\t\t}\r\n\t\r\n\t\t/* When the data source is null, we can use default column data */\r\n\t\tif ( (cellData === rowData || cellData === null) && defaultContent !== null ) {\r\n\t\t\tcellData = defaultContent;\r\n\t\t}\r\n\t\telse if ( typeof cellData === 'function' ) {\r\n\t\t\t// If the data source is a function, then we run it and use the return,\r\n\t\t\t// executing in the scope of the data object (for instances)\r\n\t\t\treturn cellData.call( rowData );\r\n\t\t}\r\n\t\r\n\t\tif ( cellData === null && type == 'display' ) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\treturn cellData;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Set the value for a specific cell, into the internal data cache\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @param {int} rowIdx aoData row id\r\n\t *  @param {int} colIdx Column index\r\n\t *  @param {*} val Value to set\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnSetCellData( settings, rowIdx, colIdx, val )\r\n\t{\r\n\t\tvar col     = settings.aoColumns[colIdx];\r\n\t\tvar rowData = settings.aoData[rowIdx]._aData;\r\n\t\r\n\t\tcol.fnSetData( rowData, val, {\r\n\t\t\tsettings: settings,\r\n\t\t\trow:      rowIdx,\r\n\t\t\tcol:      colIdx\r\n\t\t}  );\r\n\t}\r\n\t\r\n\t\r\n\t// Private variable that is used to match action syntax in the data property object\r\n\tvar __reArray = /\\[.*?\\]$/;\r\n\tvar __reFn = /\\(\\)$/;\r\n\t\r\n\t/**\r\n\t * Split string on periods, taking into account escaped periods\r\n\t * @param  {string} str String to split\r\n\t * @return {array} Split string\r\n\t */\r\n\tfunction _fnSplitObjNotation( str )\r\n\t{\r\n\t\treturn $.map( str.match(/(\\\\.|[^\\.])+/g), function ( s ) {\r\n\t\t\treturn s.replace(/\\\\./g, '.');\r\n\t\t} );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Return a function that can be used to get data from a source object, taking\r\n\t * into account the ability to use nested objects as a source\r\n\t *  @param {string|int|function} mSource The data source for the object\r\n\t *  @returns {function} Data get function\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnGetObjectDataFn( mSource )\r\n\t{\r\n\t\tif ( $.isPlainObject( mSource ) )\r\n\t\t{\r\n\t\t\t/* Build an object of get functions, and wrap them in a single call */\r\n\t\t\tvar o = {};\r\n\t\t\t$.each( mSource, function (key, val) {\r\n\t\t\t\tif ( val ) {\r\n\t\t\t\t\to[key] = _fnGetObjectDataFn( val );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\r\n\t\t\treturn function (data, type, row, meta) {\r\n\t\t\t\tvar t = o[type] || o._;\r\n\t\t\t\treturn t !== undefined ?\r\n\t\t\t\t\tt(data, type, row, meta) :\r\n\t\t\t\t\tdata;\r\n\t\t\t};\r\n\t\t}\r\n\t\telse if ( mSource === null )\r\n\t\t{\r\n\t\t\t/* Give an empty string for rendering / sorting etc */\r\n\t\t\treturn function (data) { // type, row and meta also passed, but not used\r\n\t\t\t\treturn data;\r\n\t\t\t};\r\n\t\t}\r\n\t\telse if ( typeof mSource === 'function' )\r\n\t\t{\r\n\t\t\treturn function (data, type, row, meta) {\r\n\t\t\t\treturn mSource( data, type, row, meta );\r\n\t\t\t};\r\n\t\t}\r\n\t\telse if ( typeof mSource === 'string' && (mSource.indexOf('.') !== -1 ||\r\n\t\t\t      mSource.indexOf('[') !== -1 || mSource.indexOf('(') !== -1) )\r\n\t\t{\r\n\t\t\t/* If there is a . in the source string then the data source is in a\r\n\t\t\t * nested object so we loop over the data for each level to get the next\r\n\t\t\t * level down. On each loop we test for undefined, and if found immediately\r\n\t\t\t * return. This allows entire objects to be missing and sDefaultContent to\r\n\t\t\t * be used if defined, rather than throwing an error\r\n\t\t\t */\r\n\t\t\tvar fetchData = function (data, type, src) {\r\n\t\t\t\tvar arrayNotation, funcNotation, out, innerSrc;\r\n\t\r\n\t\t\t\tif ( src !== \"\" )\r\n\t\t\t\t{\r\n\t\t\t\t\tvar a = _fnSplitObjNotation( src );\r\n\t\r\n\t\t\t\t\tfor ( var i=0, iLen=a.length ; i<iLen ; i++ )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// Check if we are dealing with special notation\r\n\t\t\t\t\t\tarrayNotation = a[i].match(__reArray);\r\n\t\t\t\t\t\tfuncNotation = a[i].match(__reFn);\r\n\t\r\n\t\t\t\t\t\tif ( arrayNotation )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// Array notation\r\n\t\t\t\t\t\t\ta[i] = a[i].replace(__reArray, '');\r\n\t\r\n\t\t\t\t\t\t\t// Condition allows simply [] to be passed in\r\n\t\t\t\t\t\t\tif ( a[i] !== \"\" ) {\r\n\t\t\t\t\t\t\t\tdata = data[ a[i] ];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tout = [];\r\n\t\r\n\t\t\t\t\t\t\t// Get the remainder of the nested object to get\r\n\t\t\t\t\t\t\ta.splice( 0, i+1 );\r\n\t\t\t\t\t\t\tinnerSrc = a.join('.');\r\n\t\r\n\t\t\t\t\t\t\t// Traverse each entry in the array getting the properties requested\r\n\t\t\t\t\t\t\tfor ( var j=0, jLen=data.length ; j<jLen ; j++ ) {\r\n\t\t\t\t\t\t\t\tout.push( fetchData( data[j], type, innerSrc ) );\r\n\t\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\t\t// If a string is given in between the array notation indicators, that\r\n\t\t\t\t\t\t\t// is used to join the strings together, otherwise an array is returned\r\n\t\t\t\t\t\t\tvar join = arrayNotation[0].substring(1, arrayNotation[0].length-1);\r\n\t\t\t\t\t\t\tdata = (join===\"\") ? out : out.join(join);\r\n\t\r\n\t\t\t\t\t\t\t// The inner call to fetchData has already traversed through the remainder\r\n\t\t\t\t\t\t\t// of the source requested, so we exit from the loop\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if ( funcNotation )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// Function call\r\n\t\t\t\t\t\t\ta[i] = a[i].replace(__reFn, '');\r\n\t\t\t\t\t\t\tdata = data[ a[i] ]();\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\tif ( data === null || data[ a[i] ] === undefined )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn undefined;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdata = data[ a[i] ];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\treturn data;\r\n\t\t\t};\r\n\t\r\n\t\t\treturn function (data, type) { // row and meta also passed, but not used\r\n\t\t\t\treturn fetchData( data, type, mSource );\r\n\t\t\t};\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t/* Array or flat object mapping */\r\n\t\t\treturn function (data, type) { // row and meta also passed, but not used\r\n\t\t\t\treturn data[mSource];\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Return a function that can be used to set data from a source object, taking\r\n\t * into account the ability to use nested objects as a source\r\n\t *  @param {string|int|function} mSource The data source for the object\r\n\t *  @returns {function} Data set function\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnSetObjectDataFn( mSource )\r\n\t{\r\n\t\tif ( $.isPlainObject( mSource ) )\r\n\t\t{\r\n\t\t\t/* Unlike get, only the underscore (global) option is used for for\r\n\t\t\t * setting data since we don't know the type here. This is why an object\r\n\t\t\t * option is not documented for `mData` (which is read/write), but it is\r\n\t\t\t * for `mRender` which is read only.\r\n\t\t\t */\r\n\t\t\treturn _fnSetObjectDataFn( mSource._ );\r\n\t\t}\r\n\t\telse if ( mSource === null )\r\n\t\t{\r\n\t\t\t/* Nothing to do when the data source is null */\r\n\t\t\treturn function () {};\r\n\t\t}\r\n\t\telse if ( typeof mSource === 'function' )\r\n\t\t{\r\n\t\t\treturn function (data, val, meta) {\r\n\t\t\t\tmSource( data, 'set', val, meta );\r\n\t\t\t};\r\n\t\t}\r\n\t\telse if ( typeof mSource === 'string' && (mSource.indexOf('.') !== -1 ||\r\n\t\t\t      mSource.indexOf('[') !== -1 || mSource.indexOf('(') !== -1) )\r\n\t\t{\r\n\t\t\t/* Like the get, we need to get data from a nested object */\r\n\t\t\tvar setData = function (data, val, src) {\r\n\t\t\t\tvar a = _fnSplitObjNotation( src ), b;\r\n\t\t\t\tvar aLast = a[a.length-1];\r\n\t\t\t\tvar arrayNotation, funcNotation, o, innerSrc;\r\n\t\r\n\t\t\t\tfor ( var i=0, iLen=a.length-1 ; i<iLen ; i++ )\r\n\t\t\t\t{\r\n\t\t\t\t\t// Check if we are dealing with an array notation request\r\n\t\t\t\t\tarrayNotation = a[i].match(__reArray);\r\n\t\t\t\t\tfuncNotation = a[i].match(__reFn);\r\n\t\r\n\t\t\t\t\tif ( arrayNotation )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ta[i] = a[i].replace(__reArray, '');\r\n\t\t\t\t\t\tdata[ a[i] ] = [];\r\n\t\r\n\t\t\t\t\t\t// Get the remainder of the nested object to set so we can recurse\r\n\t\t\t\t\t\tb = a.slice();\r\n\t\t\t\t\t\tb.splice( 0, i+1 );\r\n\t\t\t\t\t\tinnerSrc = b.join('.');\r\n\t\r\n\t\t\t\t\t\t// Traverse each entry in the array setting the properties requested\r\n\t\t\t\t\t\tfor ( var j=0, jLen=val.length ; j<jLen ; j++ )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\to = {};\r\n\t\t\t\t\t\t\tsetData( o, val[j], innerSrc );\r\n\t\t\t\t\t\t\tdata[ a[i] ].push( o );\r\n\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\t// The inner call to setData has already traversed through the remainder\r\n\t\t\t\t\t\t// of the source and has set the data, thus we can exit here\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( funcNotation )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// Function call\r\n\t\t\t\t\t\ta[i] = a[i].replace(__reFn, '');\r\n\t\t\t\t\t\tdata = data[ a[i] ]( val );\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t// If the nested object doesn't currently exist - since we are\r\n\t\t\t\t\t// trying to set the value - create it\r\n\t\t\t\t\tif ( data[ a[i] ] === null || data[ a[i] ] === undefined )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata[ a[i] ] = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata = data[ a[i] ];\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t// Last item in the input - i.e, the actual set\r\n\t\t\t\tif ( aLast.match(__reFn ) )\r\n\t\t\t\t{\r\n\t\t\t\t\t// Function call\r\n\t\t\t\t\tdata = data[ aLast.replace(__reFn, '') ]( val );\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t// If array notation is used, we just want to strip it and use the property name\r\n\t\t\t\t\t// and assign the value. If it isn't used, then we get the result we want anyway\r\n\t\t\t\t\tdata[ aLast.replace(__reArray, '') ] = val;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\r\n\t\t\treturn function (data, val) { // meta is also passed in, but not used\r\n\t\t\t\treturn setData( data, val, mSource );\r\n\t\t\t};\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t/* Array or flat object mapping */\r\n\t\t\treturn function (data, val) { // meta is also passed in, but not used\r\n\t\t\t\tdata[mSource] = val;\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Return an array with the full table data\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @returns array {array} aData Master data array\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnGetDataMaster ( settings )\r\n\t{\r\n\t\treturn _pluck( settings.aoData, '_aData' );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Nuke the table\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnClearTable( settings )\r\n\t{\r\n\t\tsettings.aoData.length = 0;\r\n\t\tsettings.aiDisplayMaster.length = 0;\r\n\t\tsettings.aiDisplay.length = 0;\r\n\t}\r\n\t\r\n\t\r\n\t /**\r\n\t * Take an array of integers (index array) and remove a target integer (value - not\r\n\t * the key!)\r\n\t *  @param {array} a Index array to target\r\n\t *  @param {int} iTarget value to find\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnDeleteIndex( a, iTarget, splice )\r\n\t{\r\n\t\tvar iTargetIndex = -1;\r\n\t\r\n\t\tfor ( var i=0, iLen=a.length ; i<iLen ; i++ )\r\n\t\t{\r\n\t\t\tif ( a[i] == iTarget )\r\n\t\t\t{\r\n\t\t\t\tiTargetIndex = i;\r\n\t\t\t}\r\n\t\t\telse if ( a[i] > iTarget )\r\n\t\t\t{\r\n\t\t\t\ta[i]--;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tif ( iTargetIndex != -1 && splice === undefined )\r\n\t\t{\r\n\t\t\ta.splice( iTargetIndex, 1 );\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Mark cached data as invalid such that a re-read of the data will occur when\r\n\t * the cached data is next requested. Also update from the data source object.\r\n\t *\r\n\t * @param {object} settings DataTables settings object\r\n\t * @param  {int}    rowIdx   Row index to invalidate\r\n\t * @memberof DataTable#oApi\r\n\t *\r\n\t * @todo For the modularisation of v1.11 this will need to become a callback, so\r\n\t *   the sort and filter methods can subscribe to it. That will required\r\n\t *   initialisation options for sorting, which is why it is not already baked in\r\n\t */\r\n\tfunction _fnInvalidateRow( settings, rowIdx, src, column )\r\n\t{\r\n\t\tvar row = settings.aoData[ rowIdx ];\r\n\t\tvar i, ien;\r\n\t\r\n\t\t// Are we reading last data from DOM or the data object?\r\n\t\tif ( src === 'dom' || ((! src || src === 'auto') && row.src === 'dom') ) {\r\n\t\t\t// Read the data from the DOM\r\n\t\t\trow._aData = _fnGetRowElements( settings, row ).data;\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Reading from data object, update the DOM\r\n\t\t\tvar cells = row.anCells;\r\n\t\t\tvar cell;\r\n\t\r\n\t\t\tif ( cells ) {\r\n\t\t\t\tfor ( i=0, ien=cells.length ; i<ien ; i++ ) {\r\n\t\t\t\t\tcell = cells[i];\r\n\t\r\n\t\t\t\t\t// This is very frustrating, but in IE if you just write directly\r\n\t\t\t\t\t// to innerHTML, and elements that are overwritten are GC'ed,\r\n\t\t\t\t\t// even if there is a reference to them elsewhere\r\n\t\t\t\t\twhile ( cell.childNodes.length ) {\r\n\t\t\t\t\t\tcell.removeChild( cell.firstChild );\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tcells[i].innerHTML = _fnGetCellData( settings, rowIdx, i, 'display' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\trow._aSortData = null;\r\n\t\trow._aFilterData = null;\r\n\t\r\n\t\t// Invalidate the type for a specific column (if given) or all columns since\r\n\t\t// the data might have changed\r\n\t\tvar cols = settings.aoColumns;\r\n\t\tif ( column !== undefined ) {\r\n\t\t\tcols[ column ].sType = null;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor ( i=0, ien=cols.length ; i<ien ; i++ ) {\r\n\t\t\t\tcols[i].sType = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t// Update DataTables special `DT_*` attributes for the row\r\n\t\t_fnRowAttributes( row );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Build a data source object from an HTML row, reading the contents of the\r\n\t * cells that are in the row.\r\n\t *\r\n\t * @param {object} settings DataTables settings object\r\n\t * @param {node|object} TR element from which to read data or existing row\r\n\t *   object from which to re-read the data from the cells\r\n\t * @returns {object} Object with two parameters: `data` the data read, in\r\n\t *   document order, and `cells` and array of nodes (they can be useful to the\r\n\t *   caller, so rather than needing a second traversal to get them, just return\r\n\t *   them from here).\r\n\t * @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnGetRowElements( settings, row )\r\n\t{\r\n\t\tvar\r\n\t\t\td = [],\r\n\t\t\ttds = [],\r\n\t\t\ttd = row.firstChild,\r\n\t\t\tname, col, o, i=0, contents,\r\n\t\t\tcolumns = settings.aoColumns;\r\n\t\r\n\t\tvar attr = function ( str, data, td  ) {\r\n\t\t\tif ( typeof str === 'string' ) {\r\n\t\t\t\tvar idx = str.indexOf('@');\r\n\t\r\n\t\t\t\tif ( idx !== -1 ) {\r\n\t\t\t\t\tvar src = str.substring( idx+1 );\r\n\t\t\t\t\to[ '@'+src ] = td.getAttribute( src );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\r\n\t\tvar cellProcess = function ( cell ) {\r\n\t\t\tcol = columns[i];\r\n\t\t\tcontents = $.trim(cell.innerHTML);\r\n\t\r\n\t\t\tif ( col && col._bAttrSrc ) {\r\n\t\t\t\to = {\r\n\t\t\t\t\tdisplay: contents\r\n\t\t\t\t};\r\n\t\r\n\t\t\t\tattr( col.mData.sort, o, cell );\r\n\t\t\t\tattr( col.mData.type, o, cell );\r\n\t\t\t\tattr( col.mData.filter, o, cell );\r\n\t\r\n\t\t\t\td.push( o );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\td.push( contents );\r\n\t\t\t}\r\n\t\r\n\t\t\ti++;\r\n\t\t};\r\n\t\r\n\t\tif ( td ) {\r\n\t\t\t// `tr` element passed in\r\n\t\t\twhile ( td ) {\r\n\t\t\t\tname = td.nodeName.toUpperCase();\r\n\t\r\n\t\t\t\tif ( name == \"TD\" || name == \"TH\" ) {\r\n\t\t\t\t\tcellProcess( td );\r\n\t\t\t\t\ttds.push( td );\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\ttd = td.nextSibling;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Existing row object passed in\r\n\t\t\ttds = row.anCells;\r\n\t\t\t\r\n\t\t\tfor ( var j=0, jen=tds.length ; j<jen ; j++ ) {\r\n\t\t\t\tcellProcess( tds[j] );\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\treturn {\r\n\t\t\tdata: d,\r\n\t\t\tcells: tds\r\n\t\t};\r\n\t}\r\n\t/**\r\n\t * Create a new TR element (and it's TD children) for a row\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {int} iRow Row to consider\r\n\t *  @param {node} [nTrIn] TR element to add to the table - optional. If not given,\r\n\t *    DataTables will create a row automatically\r\n\t *  @param {array} [anTds] Array of TD|TH elements for the row - must be given\r\n\t *    if nTr is.\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnCreateTr ( oSettings, iRow, nTrIn, anTds )\r\n\t{\r\n\t\tvar\r\n\t\t\trow = oSettings.aoData[iRow],\r\n\t\t\trowData = row._aData,\r\n\t\t\tcells = [],\r\n\t\t\tnTr, nTd, oCol,\r\n\t\t\ti, iLen;\r\n\t\r\n\t\tif ( row.nTr === null )\r\n\t\t{\r\n\t\t\tnTr = nTrIn || document.createElement('tr');\r\n\t\r\n\t\t\trow.nTr = nTr;\r\n\t\t\trow.anCells = cells;\r\n\t\r\n\t\t\t/* Use a private property on the node to allow reserve mapping from the node\r\n\t\t\t * to the aoData array for fast look up\r\n\t\t\t */\r\n\t\t\tnTr._DT_RowIndex = iRow;\r\n\t\r\n\t\t\t/* Special parameters can be given by the data source to be used on the row */\r\n\t\t\t_fnRowAttributes( row );\r\n\t\r\n\t\t\t/* Process each column */\r\n\t\t\tfor ( i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )\r\n\t\t\t{\r\n\t\t\t\toCol = oSettings.aoColumns[i];\r\n\t\r\n\t\t\t\tnTd = nTrIn ? anTds[i] : document.createElement( oCol.sCellType );\r\n\t\t\t\tcells.push( nTd );\r\n\t\r\n\t\t\t\t// Need to create the HTML if new, or if a rendering function is defined\r\n\t\t\t\tif ( !nTrIn || oCol.mRender || oCol.mData !== i )\r\n\t\t\t\t{\r\n\t\t\t\t\tnTd.innerHTML = _fnGetCellData( oSettings, iRow, i, 'display' );\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t/* Add user defined class */\r\n\t\t\t\tif ( oCol.sClass )\r\n\t\t\t\t{\r\n\t\t\t\t\tnTd.className += ' '+oCol.sClass;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t// Visibility - add or remove as required\r\n\t\t\t\tif ( oCol.bVisible && ! nTrIn )\r\n\t\t\t\t{\r\n\t\t\t\t\tnTr.appendChild( nTd );\r\n\t\t\t\t}\r\n\t\t\t\telse if ( ! oCol.bVisible && nTrIn )\r\n\t\t\t\t{\r\n\t\t\t\t\tnTd.parentNode.removeChild( nTd );\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tif ( oCol.fnCreatedCell )\r\n\t\t\t\t{\r\n\t\t\t\t\toCol.fnCreatedCell.call( oSettings.oInstance,\r\n\t\t\t\t\t\tnTd, _fnGetCellData( oSettings, iRow, i ), rowData, iRow, i\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t_fnCallbackFire( oSettings, 'aoRowCreatedCallback', null, [nTr, rowData, iRow] );\r\n\t\t}\r\n\t\r\n\t\t// Remove once webkit bug 131819 and Chromium bug 365619 have been resolved\r\n\t\t// and deployed\r\n\t\trow.nTr.setAttribute( 'role', 'row' );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Add attributes to a row based on the special `DT_*` parameters in a data\r\n\t * source object.\r\n\t *  @param {object} DataTables row object for the row to be modified\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnRowAttributes( row )\r\n\t{\r\n\t\tvar tr = row.nTr;\r\n\t\tvar data = row._aData;\r\n\t\r\n\t\tif ( tr ) {\r\n\t\t\tif ( data.DT_RowId ) {\r\n\t\t\t\ttr.id = data.DT_RowId;\r\n\t\t\t}\r\n\t\r\n\t\t\tif ( data.DT_RowClass ) {\r\n\t\t\t\t// Remove any classes added by DT_RowClass before\r\n\t\t\t\tvar a = data.DT_RowClass.split(' ');\r\n\t\t\t\trow.__rowc = row.__rowc ?\r\n\t\t\t\t\t_unique( row.__rowc.concat( a ) ) :\r\n\t\t\t\t\ta;\r\n\t\r\n\t\t\t\t$(tr)\r\n\t\t\t\t\t.removeClass( row.__rowc.join(' ') )\r\n\t\t\t\t\t.addClass( data.DT_RowClass );\r\n\t\t\t}\r\n\t\r\n\t\t\tif ( data.DT_RowData ) {\r\n\t\t\t\t$(tr).data( data.DT_RowData );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Create the HTML header for the table\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnBuildHead( oSettings )\r\n\t{\r\n\t\tvar i, ien, cell, row, column;\r\n\t\tvar thead = oSettings.nTHead;\r\n\t\tvar tfoot = oSettings.nTFoot;\r\n\t\tvar createHeader = $('th, td', thead).length === 0;\r\n\t\tvar classes = oSettings.oClasses;\r\n\t\tvar columns = oSettings.aoColumns;\r\n\t\r\n\t\tif ( createHeader ) {\r\n\t\t\trow = $('<tr/>').appendTo( thead );\r\n\t\t}\r\n\t\r\n\t\tfor ( i=0, ien=columns.length ; i<ien ; i++ ) {\r\n\t\t\tcolumn = columns[i];\r\n\t\t\tcell = $( column.nTh ).addClass( column.sClass );\r\n\t\r\n\t\t\tif ( createHeader ) {\r\n\t\t\t\tcell.appendTo( row );\r\n\t\t\t}\r\n\t\r\n\t\t\t// 1.11 move into sorting\r\n\t\t\tif ( oSettings.oFeatures.bSort ) {\r\n\t\t\t\tcell.addClass( column.sSortingClass );\r\n\t\r\n\t\t\t\tif ( column.bSortable !== false ) {\r\n\t\t\t\t\tcell\r\n\t\t\t\t\t\t.attr( 'tabindex', oSettings.iTabIndex )\r\n\t\t\t\t\t\t.attr( 'aria-controls', oSettings.sTableId );\r\n\t\r\n\t\t\t\t\t_fnSortAttachListener( oSettings, column.nTh, i );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tif ( column.sTitle != cell.html() ) {\r\n\t\t\t\tcell.html( column.sTitle );\r\n\t\t\t}\r\n\t\r\n\t\t\t_fnRenderer( oSettings, 'header' )(\r\n\t\t\t\toSettings, cell, column, classes\r\n\t\t\t);\r\n\t\t}\r\n\t\r\n\t\tif ( createHeader ) {\r\n\t\t\t_fnDetectHeader( oSettings.aoHeader, thead );\r\n\t\t}\r\n\t\t\r\n\t\t/* ARIA role for the rows */\r\n\t \t$(thead).find('>tr').attr('role', 'row');\r\n\t\r\n\t\t/* Deal with the footer - add classes if required */\r\n\t\t$(thead).find('>tr>th, >tr>td').addClass( classes.sHeaderTH );\r\n\t\t$(tfoot).find('>tr>th, >tr>td').addClass( classes.sFooterTH );\r\n\t\r\n\t\t// Cache the footer cells. Note that we only take the cells from the first\r\n\t\t// row in the footer. If there is more than one row the user wants to\r\n\t\t// interact with, they need to use the table().foot() method. Note also this\r\n\t\t// allows cells to be used for multiple columns using colspan\r\n\t\tif ( tfoot !== null ) {\r\n\t\t\tvar cells = oSettings.aoFooter[0];\r\n\t\r\n\t\t\tfor ( i=0, ien=cells.length ; i<ien ; i++ ) {\r\n\t\t\t\tcolumn = columns[i];\r\n\t\t\t\tcolumn.nTf = cells[i].cell;\r\n\t\r\n\t\t\t\tif ( column.sClass ) {\r\n\t\t\t\t\t$(column.nTf).addClass( column.sClass );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Draw the header (or footer) element based on the column visibility states. The\r\n\t * methodology here is to use the layout array from _fnDetectHeader, modified for\r\n\t * the instantaneous column visibility, to construct the new layout. The grid is\r\n\t * traversed over cell at a time in a rows x columns grid fashion, although each\r\n\t * cell insert can cover multiple elements in the grid - which is tracks using the\r\n\t * aApplied array. Cell inserts in the grid will only occur where there isn't\r\n\t * already a cell in that position.\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param array {objects} aoSource Layout array from _fnDetectHeader\r\n\t *  @param {boolean} [bIncludeHidden=false] If true then include the hidden columns in the calc,\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnDrawHead( oSettings, aoSource, bIncludeHidden )\r\n\t{\r\n\t\tvar i, iLen, j, jLen, k, kLen, n, nLocalTr;\r\n\t\tvar aoLocal = [];\r\n\t\tvar aApplied = [];\r\n\t\tvar iColumns = oSettings.aoColumns.length;\r\n\t\tvar iRowspan, iColspan;\r\n\t\r\n\t\tif ( ! aoSource )\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tif (  bIncludeHidden === undefined )\r\n\t\t{\r\n\t\t\tbIncludeHidden = false;\r\n\t\t}\r\n\t\r\n\t\t/* Make a copy of the master layout array, but without the visible columns in it */\r\n\t\tfor ( i=0, iLen=aoSource.length ; i<iLen ; i++ )\r\n\t\t{\r\n\t\t\taoLocal[i] = aoSource[i].slice();\r\n\t\t\taoLocal[i].nTr = aoSource[i].nTr;\r\n\t\r\n\t\t\t/* Remove any columns which are currently hidden */\r\n\t\t\tfor ( j=iColumns-1 ; j>=0 ; j-- )\r\n\t\t\t{\r\n\t\t\t\tif ( !oSettings.aoColumns[j].bVisible && !bIncludeHidden )\r\n\t\t\t\t{\r\n\t\t\t\t\taoLocal[i].splice( j, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t/* Prep the applied array - it needs an element for each row */\r\n\t\t\taApplied.push( [] );\r\n\t\t}\r\n\t\r\n\t\tfor ( i=0, iLen=aoLocal.length ; i<iLen ; i++ )\r\n\t\t{\r\n\t\t\tnLocalTr = aoLocal[i].nTr;\r\n\t\r\n\t\t\t/* All cells are going to be replaced, so empty out the row */\r\n\t\t\tif ( nLocalTr )\r\n\t\t\t{\r\n\t\t\t\twhile( (n = nLocalTr.firstChild) )\r\n\t\t\t\t{\r\n\t\t\t\t\tnLocalTr.removeChild( n );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tfor ( j=0, jLen=aoLocal[i].length ; j<jLen ; j++ )\r\n\t\t\t{\r\n\t\t\t\tiRowspan = 1;\r\n\t\t\t\tiColspan = 1;\r\n\t\r\n\t\t\t\t/* Check to see if there is already a cell (row/colspan) covering our target\r\n\t\t\t\t * insert point. If there is, then there is nothing to do.\r\n\t\t\t\t */\r\n\t\t\t\tif ( aApplied[i][j] === undefined )\r\n\t\t\t\t{\r\n\t\t\t\t\tnLocalTr.appendChild( aoLocal[i][j].cell );\r\n\t\t\t\t\taApplied[i][j] = 1;\r\n\t\r\n\t\t\t\t\t/* Expand the cell to cover as many rows as needed */\r\n\t\t\t\t\twhile ( aoLocal[i+iRowspan] !== undefined &&\r\n\t\t\t\t\t        aoLocal[i][j].cell == aoLocal[i+iRowspan][j].cell )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\taApplied[i+iRowspan][j] = 1;\r\n\t\t\t\t\t\tiRowspan++;\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t/* Expand the cell to cover as many columns as needed */\r\n\t\t\t\t\twhile ( aoLocal[i][j+iColspan] !== undefined &&\r\n\t\t\t\t\t        aoLocal[i][j].cell == aoLocal[i][j+iColspan].cell )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t/* Must update the applied array over the rows for the columns */\r\n\t\t\t\t\t\tfor ( k=0 ; k<iRowspan ; k++ )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\taApplied[i+k][j+iColspan] = 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tiColspan++;\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t/* Do the actual expansion in the DOM */\r\n\t\t\t\t\t$(aoLocal[i][j].cell)\r\n\t\t\t\t\t\t.attr('rowspan', iRowspan)\r\n\t\t\t\t\t\t.attr('colspan', iColspan);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Insert the required TR nodes into the table for display\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnDraw( oSettings )\r\n\t{\r\n\t\t/* Provide a pre-callback function which can be used to cancel the draw is false is returned */\r\n\t\tvar aPreDraw = _fnCallbackFire( oSettings, 'aoPreDrawCallback', 'preDraw', [oSettings] );\r\n\t\tif ( $.inArray( false, aPreDraw ) !== -1 )\r\n\t\t{\r\n\t\t\t_fnProcessingDisplay( oSettings, false );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tvar i, iLen, n;\r\n\t\tvar anRows = [];\r\n\t\tvar iRowCount = 0;\r\n\t\tvar asStripeClasses = oSettings.asStripeClasses;\r\n\t\tvar iStripes = asStripeClasses.length;\r\n\t\tvar iOpenRows = oSettings.aoOpenRows.length;\r\n\t\tvar oLang = oSettings.oLanguage;\r\n\t\tvar iInitDisplayStart = oSettings.iInitDisplayStart;\r\n\t\tvar bServerSide = _fnDataSource( oSettings ) == 'ssp';\r\n\t\tvar aiDisplay = oSettings.aiDisplay;\r\n\t\r\n\t\toSettings.bDrawing = true;\r\n\t\r\n\t\t/* Check and see if we have an initial draw position from state saving */\r\n\t\tif ( iInitDisplayStart !== undefined && iInitDisplayStart !== -1 )\r\n\t\t{\r\n\t\t\toSettings._iDisplayStart = bServerSide ?\r\n\t\t\t\tiInitDisplayStart :\r\n\t\t\t\tiInitDisplayStart >= oSettings.fnRecordsDisplay() ?\r\n\t\t\t\t\t0 :\r\n\t\t\t\t\tiInitDisplayStart;\r\n\t\r\n\t\t\toSettings.iInitDisplayStart = -1;\r\n\t\t}\r\n\t\r\n\t\tvar iDisplayStart = oSettings._iDisplayStart;\r\n\t\tvar iDisplayEnd = oSettings.fnDisplayEnd();\r\n\t\r\n\t\t/* Server-side processing draw intercept */\r\n\t\tif ( oSettings.bDeferLoading )\r\n\t\t{\r\n\t\t\toSettings.bDeferLoading = false;\r\n\t\t\toSettings.iDraw++;\r\n\t\t\t_fnProcessingDisplay( oSettings, false );\r\n\t\t}\r\n\t\telse if ( !bServerSide )\r\n\t\t{\r\n\t\t\toSettings.iDraw++;\r\n\t\t}\r\n\t\telse if ( !oSettings.bDestroying && !_fnAjaxUpdate( oSettings ) )\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tif ( aiDisplay.length !== 0 )\r\n\t\t{\r\n\t\t\tvar iStart = bServerSide ? 0 : iDisplayStart;\r\n\t\t\tvar iEnd = bServerSide ? oSettings.aoData.length : iDisplayEnd;\r\n\t\r\n\t\t\tfor ( var j=iStart ; j<iEnd ; j++ )\r\n\t\t\t{\r\n\t\t\t\tvar iDataIndex = aiDisplay[j];\r\n\t\t\t\tvar aoData = oSettings.aoData[ iDataIndex ];\r\n\t\t\t\tif ( aoData.nTr === null )\r\n\t\t\t\t{\r\n\t\t\t\t\t_fnCreateTr( oSettings, iDataIndex );\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tvar nRow = aoData.nTr;\r\n\t\r\n\t\t\t\t/* Remove the old striping classes and then add the new one */\r\n\t\t\t\tif ( iStripes !== 0 )\r\n\t\t\t\t{\r\n\t\t\t\t\tvar sStripe = asStripeClasses[ iRowCount % iStripes ];\r\n\t\t\t\t\tif ( aoData._sRowStripe != sStripe )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$(nRow).removeClass( aoData._sRowStripe ).addClass( sStripe );\r\n\t\t\t\t\t\taoData._sRowStripe = sStripe;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t/* Row callback functions - might want to manipulate the row */\r\n\t\t\t\t_fnCallbackFire( oSettings, 'aoRowCallback', null,\r\n\t\t\t\t\t[nRow, aoData._aData, iRowCount, j] );\r\n\t\r\n\t\t\t\tanRows.push( nRow );\r\n\t\t\t\tiRowCount++;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t/* Table is empty - create a row with an empty message in it */\r\n\t\t\tvar sZero = oLang.sZeroRecords;\r\n\t\t\tif ( oSettings.iDraw == 1 &&  _fnDataSource( oSettings ) == 'ajax' )\r\n\t\t\t{\r\n\t\t\t\tsZero = oLang.sLoadingRecords;\r\n\t\t\t}\r\n\t\t\telse if ( oLang.sEmptyTable && oSettings.fnRecordsTotal() === 0 )\r\n\t\t\t{\r\n\t\t\t\tsZero = oLang.sEmptyTable;\r\n\t\t\t}\r\n\t\r\n\t\t\tanRows[ 0 ] = $( '<tr/>', { 'class': iStripes ? asStripeClasses[0] : '' } )\r\n\t\t\t\t.append( $('<td />', {\r\n\t\t\t\t\t'valign':  'top',\r\n\t\t\t\t\t'colSpan': _fnVisbleColumns( oSettings ),\r\n\t\t\t\t\t'class':   oSettings.oClasses.sRowEmpty\r\n\t\t\t\t} ).html( sZero ) )[0];\r\n\t\t}\r\n\t\r\n\t\t/* Header and footer callbacks */\r\n\t\t_fnCallbackFire( oSettings, 'aoHeaderCallback', 'header', [ $(oSettings.nTHead).children('tr')[0],\r\n\t\t\t_fnGetDataMaster( oSettings ), iDisplayStart, iDisplayEnd, aiDisplay ] );\r\n\t\r\n\t\t_fnCallbackFire( oSettings, 'aoFooterCallback', 'footer', [ $(oSettings.nTFoot).children('tr')[0],\r\n\t\t\t_fnGetDataMaster( oSettings ), iDisplayStart, iDisplayEnd, aiDisplay ] );\r\n\t\r\n\t\tvar body = $(oSettings.nTBody);\r\n\t\r\n\t\tbody.children().detach();\r\n\t\tbody.append( $(anRows) );\r\n\t\r\n\t\t/* Call all required callback functions for the end of a draw */\r\n\t\t_fnCallbackFire( oSettings, 'aoDrawCallback', 'draw', [oSettings] );\r\n\t\r\n\t\t/* Draw is complete, sorting and filtering must be as well */\r\n\t\toSettings.bSorted = false;\r\n\t\toSettings.bFiltered = false;\r\n\t\toSettings.bDrawing = false;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Redraw the table - taking account of the various features which are enabled\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {boolean} [holdPosition] Keep the current paging position. By default\r\n\t *    the paging is reset to the first page\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnReDraw( settings, holdPosition )\r\n\t{\r\n\t\tvar\r\n\t\t\tfeatures = settings.oFeatures,\r\n\t\t\tsort     = features.bSort,\r\n\t\t\tfilter   = features.bFilter;\r\n\t\r\n\t\tif ( sort ) {\r\n\t\t\t_fnSort( settings );\r\n\t\t}\r\n\t\r\n\t\tif ( filter ) {\r\n\t\t\t_fnFilterComplete( settings, settings.oPreviousSearch );\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// No filtering, so we want to just use the display master\r\n\t\t\tsettings.aiDisplay = settings.aiDisplayMaster.slice();\r\n\t\t}\r\n\t\r\n\t\tif ( holdPosition !== true ) {\r\n\t\t\tsettings._iDisplayStart = 0;\r\n\t\t}\r\n\t\r\n\t\t// Let any modules know about the draw hold position state (used by\r\n\t\t// scrolling internally)\r\n\t\tsettings._drawHold = holdPosition;\r\n\t\r\n\t\t_fnDraw( settings );\r\n\t\r\n\t\tsettings._drawHold = false;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Add the options to the page HTML for the table\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnAddOptionsHtml ( oSettings )\r\n\t{\r\n\t\tvar classes = oSettings.oClasses;\r\n\t\tvar table = $(oSettings.nTable);\r\n\t\tvar holding = $('<div/>').insertBefore( table ); // Holding element for speed\r\n\t\tvar features = oSettings.oFeatures;\r\n\t\r\n\t\t// All DataTables are wrapped in a div\r\n\t\tvar insert = $('<div/>', {\r\n\t\t\tid:      oSettings.sTableId+'_wrapper',\r\n\t\t\t'class': classes.sWrapper + (oSettings.nTFoot ? '' : ' '+classes.sNoFooter)\r\n\t\t} );\r\n\t\r\n\t\toSettings.nHolding = holding[0];\r\n\t\toSettings.nTableWrapper = insert[0];\r\n\t\toSettings.nTableReinsertBefore = oSettings.nTable.nextSibling;\r\n\t\r\n\t\t/* Loop over the user set positioning and place the elements as needed */\r\n\t\tvar aDom = oSettings.sDom.split('');\r\n\t\tvar featureNode, cOption, nNewNode, cNext, sAttr, j;\r\n\t\tfor ( var i=0 ; i<aDom.length ; i++ )\r\n\t\t{\r\n\t\t\tfeatureNode = null;\r\n\t\t\tcOption = aDom[i];\r\n\t\r\n\t\t\tif ( cOption == '<' )\r\n\t\t\t{\r\n\t\t\t\t/* New container div */\r\n\t\t\t\tnNewNode = $('<div/>')[0];\r\n\t\r\n\t\t\t\t/* Check to see if we should append an id and/or a class name to the container */\r\n\t\t\t\tcNext = aDom[i+1];\r\n\t\t\t\tif ( cNext == \"'\" || cNext == '\"' )\r\n\t\t\t\t{\r\n\t\t\t\t\tsAttr = \"\";\r\n\t\t\t\t\tj = 2;\r\n\t\t\t\t\twhile ( aDom[i+j] != cNext )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsAttr += aDom[i+j];\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t/* Replace jQuery UI constants @todo depreciated */\r\n\t\t\t\t\tif ( sAttr == \"H\" )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsAttr = classes.sJUIHeader;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( sAttr == \"F\" )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsAttr = classes.sJUIFooter;\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t/* The attribute can be in the format of \"#id.class\", \"#id\" or \"class\" This logic\r\n\t\t\t\t\t * breaks the string into parts and applies them as needed\r\n\t\t\t\t\t */\r\n\t\t\t\t\tif ( sAttr.indexOf('.') != -1 )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar aSplit = sAttr.split('.');\r\n\t\t\t\t\t\tnNewNode.id = aSplit[0].substr(1, aSplit[0].length-1);\r\n\t\t\t\t\t\tnNewNode.className = aSplit[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( sAttr.charAt(0) == \"#\" )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tnNewNode.id = sAttr.substr(1, sAttr.length-1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tnNewNode.className = sAttr;\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\ti += j; /* Move along the position array */\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tinsert.append( nNewNode );\r\n\t\t\t\tinsert = $(nNewNode);\r\n\t\t\t}\r\n\t\t\telse if ( cOption == '>' )\r\n\t\t\t{\r\n\t\t\t\t/* End container div */\r\n\t\t\t\tinsert = insert.parent();\r\n\t\t\t}\r\n\t\t\t// @todo Move options into their own plugins?\r\n\t\t\telse if ( cOption == 'l' && features.bPaginate && features.bLengthChange )\r\n\t\t\t{\r\n\t\t\t\t/* Length */\r\n\t\t\t\tfeatureNode = _fnFeatureHtmlLength( oSettings );\r\n\t\t\t}\r\n\t\t\telse if ( cOption == 'f' && features.bFilter )\r\n\t\t\t{\r\n\t\t\t\t/* Filter */\r\n\t\t\t\tfeatureNode = _fnFeatureHtmlFilter( oSettings );\r\n\t\t\t}\r\n\t\t\telse if ( cOption == 'r' && features.bProcessing )\r\n\t\t\t{\r\n\t\t\t\t/* pRocessing */\r\n\t\t\t\tfeatureNode = _fnFeatureHtmlProcessing( oSettings );\r\n\t\t\t}\r\n\t\t\telse if ( cOption == 't' )\r\n\t\t\t{\r\n\t\t\t\t/* Table */\r\n\t\t\t\tfeatureNode = _fnFeatureHtmlTable( oSettings );\r\n\t\t\t}\r\n\t\t\telse if ( cOption ==  'i' && features.bInfo )\r\n\t\t\t{\r\n\t\t\t\t/* Info */\r\n\t\t\t\tfeatureNode = _fnFeatureHtmlInfo( oSettings );\r\n\t\t\t}\r\n\t\t\telse if ( cOption == 'p' && features.bPaginate )\r\n\t\t\t{\r\n\t\t\t\t/* Pagination */\r\n\t\t\t\tfeatureNode = _fnFeatureHtmlPaginate( oSettings );\r\n\t\t\t}\r\n\t\t\telse if ( DataTable.ext.feature.length !== 0 )\r\n\t\t\t{\r\n\t\t\t\t/* Plug-in features */\r\n\t\t\t\tvar aoFeatures = DataTable.ext.feature;\r\n\t\t\t\tfor ( var k=0, kLen=aoFeatures.length ; k<kLen ; k++ )\r\n\t\t\t\t{\r\n\t\t\t\t\tif ( cOption == aoFeatures[k].cFeature )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfeatureNode = aoFeatures[k].fnInit( oSettings );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t/* Add to the 2D features array */\r\n\t\t\tif ( featureNode )\r\n\t\t\t{\r\n\t\t\t\tvar aanFeatures = oSettings.aanFeatures;\r\n\t\r\n\t\t\t\tif ( ! aanFeatures[cOption] )\r\n\t\t\t\t{\r\n\t\t\t\t\taanFeatures[cOption] = [];\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\taanFeatures[cOption].push( featureNode );\r\n\t\t\t\tinsert.append( featureNode );\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t/* Built our DOM structure - replace the holding div with what we want */\r\n\t\tholding.replaceWith( insert );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Use the DOM source to create up an array of header cells. The idea here is to\r\n\t * create a layout grid (array) of rows x columns, which contains a reference\r\n\t * to the cell that that point in the grid (regardless of col/rowspan), such that\r\n\t * any column / row could be removed and the new grid constructed\r\n\t *  @param array {object} aLayout Array to store the calculated layout in\r\n\t *  @param {node} nThead The header/footer element for the table\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnDetectHeader ( aLayout, nThead )\r\n\t{\r\n\t\tvar nTrs = $(nThead).children('tr');\r\n\t\tvar nTr, nCell;\r\n\t\tvar i, k, l, iLen, jLen, iColShifted, iColumn, iColspan, iRowspan;\r\n\t\tvar bUnique;\r\n\t\tvar fnShiftCol = function ( a, i, j ) {\r\n\t\t\tvar k = a[i];\r\n\t                while ( k[j] ) {\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t\treturn j;\r\n\t\t};\r\n\t\r\n\t\taLayout.splice( 0, aLayout.length );\r\n\t\r\n\t\t/* We know how many rows there are in the layout - so prep it */\r\n\t\tfor ( i=0, iLen=nTrs.length ; i<iLen ; i++ )\r\n\t\t{\r\n\t\t\taLayout.push( [] );\r\n\t\t}\r\n\t\r\n\t\t/* Calculate a layout array */\r\n\t\tfor ( i=0, iLen=nTrs.length ; i<iLen ; i++ )\r\n\t\t{\r\n\t\t\tnTr = nTrs[i];\r\n\t\t\tiColumn = 0;\r\n\t\r\n\t\t\t/* For every cell in the row... */\r\n\t\t\tnCell = nTr.firstChild;\r\n\t\t\twhile ( nCell ) {\r\n\t\t\t\tif ( nCell.nodeName.toUpperCase() == \"TD\" ||\r\n\t\t\t\t     nCell.nodeName.toUpperCase() == \"TH\" )\r\n\t\t\t\t{\r\n\t\t\t\t\t/* Get the col and rowspan attributes from the DOM and sanitise them */\r\n\t\t\t\t\tiColspan = nCell.getAttribute('colspan') * 1;\r\n\t\t\t\t\tiRowspan = nCell.getAttribute('rowspan') * 1;\r\n\t\t\t\t\tiColspan = (!iColspan || iColspan===0 || iColspan===1) ? 1 : iColspan;\r\n\t\t\t\t\tiRowspan = (!iRowspan || iRowspan===0 || iRowspan===1) ? 1 : iRowspan;\r\n\t\r\n\t\t\t\t\t/* There might be colspan cells already in this row, so shift our target\r\n\t\t\t\t\t * accordingly\r\n\t\t\t\t\t */\r\n\t\t\t\t\tiColShifted = fnShiftCol( aLayout, i, iColumn );\r\n\t\r\n\t\t\t\t\t/* Cache calculation for unique columns */\r\n\t\t\t\t\tbUnique = iColspan === 1 ? true : false;\r\n\t\r\n\t\t\t\t\t/* If there is col / rowspan, copy the information into the layout grid */\r\n\t\t\t\t\tfor ( l=0 ; l<iColspan ; l++ )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfor ( k=0 ; k<iRowspan ; k++ )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\taLayout[i+k][iColShifted+l] = {\r\n\t\t\t\t\t\t\t\t\"cell\": nCell,\r\n\t\t\t\t\t\t\t\t\"unique\": bUnique\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\taLayout[i+k].nTr = nTr;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tnCell = nCell.nextSibling;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Get an array of unique th elements, one for each column\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {node} nHeader automatically detect the layout from this node - optional\r\n\t *  @param {array} aLayout thead/tfoot layout from _fnDetectHeader - optional\r\n\t *  @returns array {node} aReturn list of unique th's\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnGetUniqueThs ( oSettings, nHeader, aLayout )\r\n\t{\r\n\t\tvar aReturn = [];\r\n\t\tif ( !aLayout )\r\n\t\t{\r\n\t\t\taLayout = oSettings.aoHeader;\r\n\t\t\tif ( nHeader )\r\n\t\t\t{\r\n\t\t\t\taLayout = [];\r\n\t\t\t\t_fnDetectHeader( aLayout, nHeader );\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tfor ( var i=0, iLen=aLayout.length ; i<iLen ; i++ )\r\n\t\t{\r\n\t\t\tfor ( var j=0, jLen=aLayout[i].length ; j<jLen ; j++ )\r\n\t\t\t{\r\n\t\t\t\tif ( aLayout[i][j].unique &&\r\n\t\t\t\t\t (!aReturn[j] || !oSettings.bSortCellsTop) )\r\n\t\t\t\t{\r\n\t\t\t\t\taReturn[j] = aLayout[i][j].cell;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\treturn aReturn;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Create an Ajax call based on the table's settings, taking into account that\r\n\t * parameters can have multiple forms, and backwards compatibility.\r\n\t *\r\n\t * @param {object} oSettings dataTables settings object\r\n\t * @param {array} data Data to send to the server, required by\r\n\t *     DataTables - may be augmented by developer callbacks\r\n\t * @param {function} fn Callback function to run when data is obtained\r\n\t */\r\n\tfunction _fnBuildAjax( oSettings, data, fn )\r\n\t{\r\n\t\t// Compatibility with 1.9-, allow fnServerData and event to manipulate\r\n\t\t_fnCallbackFire( oSettings, 'aoServerParams', 'serverParams', [data] );\r\n\t\r\n\t\t// Convert to object based for 1.10+ if using the old array scheme which can\r\n\t\t// come from server-side processing or serverParams\r\n\t\tif ( data && $.isArray(data) ) {\r\n\t\t\tvar tmp = {};\r\n\t\t\tvar rbracket = /(.*?)\\[\\]$/;\r\n\t\r\n\t\t\t$.each( data, function (key, val) {\r\n\t\t\t\tvar match = val.name.match(rbracket);\r\n\t\r\n\t\t\t\tif ( match ) {\r\n\t\t\t\t\t// Support for arrays\r\n\t\t\t\t\tvar name = match[0];\r\n\t\r\n\t\t\t\t\tif ( ! tmp[ name ] ) {\r\n\t\t\t\t\t\ttmp[ name ] = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttmp[ name ].push( val.value );\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttmp[val.name] = val.value;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t\tdata = tmp;\r\n\t\t}\r\n\t\r\n\t\tvar ajaxData;\r\n\t\tvar ajax = oSettings.ajax;\r\n\t\tvar instance = oSettings.oInstance;\r\n\t\r\n\t\tif ( $.isPlainObject( ajax ) && ajax.data )\r\n\t\t{\r\n\t\t\tajaxData = ajax.data;\r\n\t\r\n\t\t\tvar newData = $.isFunction( ajaxData ) ?\r\n\t\t\t\tajaxData( data ) :  // fn can manipulate data or return an object\r\n\t\t\t\tajaxData;           // object or array to merge\r\n\t\r\n\t\t\t// If the function returned an object, use that alone\r\n\t\t\tdata = $.isFunction( ajaxData ) && newData ?\r\n\t\t\t\tnewData :\r\n\t\t\t\t$.extend( true, data, newData );\r\n\t\r\n\t\t\t// Remove the data property as we've resolved it already and don't want\r\n\t\t\t// jQuery to do it again (it is restored at the end of the function)\r\n\t\t\tdelete ajax.data;\r\n\t\t}\r\n\t\r\n\t\tvar baseAjax = {\r\n\t\t\t\"data\": data,\r\n\t\t\t\"success\": function (json) {\r\n\t\t\t\tvar error = json.error || json.sError;\r\n\t\t\t\tif ( error ) {\r\n\t\t\t\t\toSettings.oApi._fnLog( oSettings, 0, error );\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\toSettings.json = json;\r\n\t\t\t\t_fnCallbackFire( oSettings, null, 'xhr', [oSettings, json] );\r\n\t\t\t\tfn( json );\r\n\t\t\t},\r\n\t\t\t\"dataType\": \"json\",\r\n\t\t\t\"cache\": false,\r\n\t\t\t\"type\": oSettings.sServerMethod,\r\n\t\t\t\"error\": function (xhr, error, thrown) {\r\n\t\t\t\tvar log = oSettings.oApi._fnLog;\r\n\t\r\n\t\t\t\tif ( error == \"parsererror\" ) {\r\n\t\t\t\t\tlog( oSettings, 0, 'Invalid JSON response', 1 );\r\n\t\t\t\t}\r\n\t\t\t\telse if ( xhr.readyState === 4 ) {\r\n\t\t\t\t\tlog( oSettings, 0, 'Ajax error', 7 );\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t_fnProcessingDisplay( oSettings, false );\r\n\t\t\t}\r\n\t\t};\r\n\t\r\n\t\t// Store the data submitted for the API\r\n\t\toSettings.oAjaxData = data;\r\n\t\r\n\t\t// Allow plug-ins and external processes to modify the data\r\n\t\t_fnCallbackFire( oSettings, null, 'preXhr', [oSettings, data] );\r\n\t\r\n\t\tif ( oSettings.fnServerData )\r\n\t\t{\r\n\t\t\t// DataTables 1.9- compatibility\r\n\t\t\toSettings.fnServerData.call( instance,\r\n\t\t\t\toSettings.sAjaxSource,\r\n\t\t\t\t$.map( data, function (val, key) { // Need to convert back to 1.9 trad format\r\n\t\t\t\t\treturn { name: key, value: val };\r\n\t\t\t\t} ),\r\n\t\t\t\tfn,\r\n\t\t\t\toSettings\r\n\t\t\t);\r\n\t\t}\r\n\t\telse if ( oSettings.sAjaxSource || typeof ajax === 'string' )\r\n\t\t{\r\n\t\t\t// DataTables 1.9- compatibility\r\n\t\t\toSettings.jqXHR = $.ajax( $.extend( baseAjax, {\r\n\t\t\t\turl: ajax || oSettings.sAjaxSource\r\n\t\t\t} ) );\r\n\t\t}\r\n\t\telse if ( $.isFunction( ajax ) )\r\n\t\t{\r\n\t\t\t// Is a function - let the caller define what needs to be done\r\n\t\t\toSettings.jqXHR = ajax.call( instance, data, fn, oSettings );\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// Object to extend the base settings\r\n\t\t\toSettings.jqXHR = $.ajax( $.extend( baseAjax, ajax ) );\r\n\t\r\n\t\t\t// Restore for next time around\r\n\t\t\tajax.data = ajaxData;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Update the table using an Ajax call\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @returns {boolean} Block the table drawing or not\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnAjaxUpdate( settings )\r\n\t{\r\n\t\tif ( settings.bAjaxDataGet ) {\r\n\t\t\tsettings.iDraw++;\r\n\t\t\t_fnProcessingDisplay( settings, true );\r\n\t\r\n\t\t\t_fnBuildAjax(\r\n\t\t\t\tsettings,\r\n\t\t\t\t_fnAjaxParameters( settings ),\r\n\t\t\t\tfunction(json) {\r\n\t\t\t\t\t_fnAjaxUpdateDraw( settings, json );\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Build up the parameters in an object needed for a server-side processing\r\n\t * request. Note that this is basically done twice, is different ways - a modern\r\n\t * method which is used by default in DataTables 1.10 which uses objects and\r\n\t * arrays, or the 1.9- method with is name / value pairs. 1.9 method is used if\r\n\t * the sAjaxSource option is used in the initialisation, or the legacyAjax\r\n\t * option is set.\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @returns {bool} block the table drawing or not\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnAjaxParameters( settings )\r\n\t{\r\n\t\tvar\r\n\t\t\tcolumns = settings.aoColumns,\r\n\t\t\tcolumnCount = columns.length,\r\n\t\t\tfeatures = settings.oFeatures,\r\n\t\t\tpreSearch = settings.oPreviousSearch,\r\n\t\t\tpreColSearch = settings.aoPreSearchCols,\r\n\t\t\ti, data = [], dataProp, column, columnSearch,\r\n\t\t\tsort = _fnSortFlatten( settings ),\r\n\t\t\tdisplayStart = settings._iDisplayStart,\r\n\t\t\tdisplayLength = features.bPaginate !== false ?\r\n\t\t\t\tsettings._iDisplayLength :\r\n\t\t\t\t-1;\r\n\t\r\n\t\tvar param = function ( name, value ) {\r\n\t\t\tdata.push( { 'name': name, 'value': value } );\r\n\t\t};\r\n\t\r\n\t\t// DataTables 1.9- compatible method\r\n\t\tparam( 'sEcho',          settings.iDraw );\r\n\t\tparam( 'iColumns',       columnCount );\r\n\t\tparam( 'sColumns',       _pluck( columns, 'sName' ).join(',') );\r\n\t\tparam( 'iDisplayStart',  displayStart );\r\n\t\tparam( 'iDisplayLength', displayLength );\r\n\t\r\n\t\t// DataTables 1.10+ method\r\n\t\tvar d = {\r\n\t\t\tdraw:    settings.iDraw,\r\n\t\t\tcolumns: [],\r\n\t\t\torder:   [],\r\n\t\t\tstart:   displayStart,\r\n\t\t\tlength:  displayLength,\r\n\t\t\tsearch:  {\r\n\t\t\t\tvalue: preSearch.sSearch,\r\n\t\t\t\tregex: preSearch.bRegex\r\n\t\t\t}\r\n\t\t};\r\n\t\r\n\t\tfor ( i=0 ; i<columnCount ; i++ ) {\r\n\t\t\tcolumn = columns[i];\r\n\t\t\tcolumnSearch = preColSearch[i];\r\n\t\t\tdataProp = typeof column.mData==\"function\" ? 'function' : column.mData ;\r\n\t\r\n\t\t\td.columns.push( {\r\n\t\t\t\tdata:       dataProp,\r\n\t\t\t\tname:       column.sName,\r\n\t\t\t\tsearchable: column.bSearchable,\r\n\t\t\t\torderable:  column.bSortable,\r\n\t\t\t\tsearch:     {\r\n\t\t\t\t\tvalue: columnSearch.sSearch,\r\n\t\t\t\t\tregex: columnSearch.bRegex\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\r\n\t\t\tparam( \"mDataProp_\"+i, dataProp );\r\n\t\r\n\t\t\tif ( features.bFilter ) {\r\n\t\t\t\tparam( 'sSearch_'+i,     columnSearch.sSearch );\r\n\t\t\t\tparam( 'bRegex_'+i,      columnSearch.bRegex );\r\n\t\t\t\tparam( 'bSearchable_'+i, column.bSearchable );\r\n\t\t\t}\r\n\t\r\n\t\t\tif ( features.bSort ) {\r\n\t\t\t\tparam( 'bSortable_'+i, column.bSortable );\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tif ( features.bFilter ) {\r\n\t\t\tparam( 'sSearch', preSearch.sSearch );\r\n\t\t\tparam( 'bRegex', preSearch.bRegex );\r\n\t\t}\r\n\t\r\n\t\tif ( features.bSort ) {\r\n\t\t\t$.each( sort, function ( i, val ) {\r\n\t\t\t\td.order.push( { column: val.col, dir: val.dir } );\r\n\t\r\n\t\t\t\tparam( 'iSortCol_'+i, val.col );\r\n\t\t\t\tparam( 'sSortDir_'+i, val.dir );\r\n\t\t\t} );\r\n\t\r\n\t\t\tparam( 'iSortingCols', sort.length );\r\n\t\t}\r\n\t\r\n\t\t// If the legacy.ajax parameter is null, then we automatically decide which\r\n\t\t// form to use, based on sAjaxSource\r\n\t\tvar legacy = DataTable.ext.legacy.ajax;\r\n\t\tif ( legacy === null ) {\r\n\t\t\treturn settings.sAjaxSource ? data : d;\r\n\t\t}\r\n\t\r\n\t\t// Otherwise, if legacy has been specified then we use that to decide on the\r\n\t\t// form\r\n\t\treturn legacy ? data : d;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Data the data from the server (nuking the old) and redraw the table\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {object} json json data return from the server.\r\n\t *  @param {string} json.sEcho Tracking flag for DataTables to match requests\r\n\t *  @param {int} json.iTotalRecords Number of records in the data set, not accounting for filtering\r\n\t *  @param {int} json.iTotalDisplayRecords Number of records in the data set, accounting for filtering\r\n\t *  @param {array} json.aaData The data to display on this page\r\n\t *  @param {string} [json.sColumns] Column ordering (sName, comma separated)\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnAjaxUpdateDraw ( settings, json )\r\n\t{\r\n\t\t// v1.10 uses camelCase variables, while 1.9 uses Hungarian notation.\r\n\t\t// Support both\r\n\t\tvar compat = function ( old, modern ) {\r\n\t\t\treturn json[old] !== undefined ? json[old] : json[modern];\r\n\t\t};\r\n\t\r\n\t\tvar draw            = compat( 'sEcho',                'draw' );\r\n\t\tvar recordsTotal    = compat( 'iTotalRecords',        'recordsTotal' );\r\n\t\tvar rocordsFiltered = compat( 'iTotalDisplayRecords', 'recordsFiltered' );\r\n\t\r\n\t\tif ( draw ) {\r\n\t\t\t// Protect against out of sequence returns\r\n\t\t\tif ( draw*1 < settings.iDraw ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsettings.iDraw = draw * 1;\r\n\t\t}\r\n\t\r\n\t\t_fnClearTable( settings );\r\n\t\tsettings._iRecordsTotal   = parseInt(recordsTotal, 10);\r\n\t\tsettings._iRecordsDisplay = parseInt(rocordsFiltered, 10);\r\n\t\r\n\t\tvar data = _fnAjaxDataSrc( settings, json );\r\n\t\tfor ( var i=0, ien=data.length ; i<ien ; i++ ) {\r\n\t\t\t_fnAddData( settings, data[i] );\r\n\t\t}\r\n\t\tsettings.aiDisplay = settings.aiDisplayMaster.slice();\r\n\t\r\n\t\tsettings.bAjaxDataGet = false;\r\n\t\t_fnDraw( settings );\r\n\t\r\n\t\tif ( ! settings._bInitComplete ) {\r\n\t\t\t_fnInitComplete( settings, json );\r\n\t\t}\r\n\t\r\n\t\tsettings.bAjaxDataGet = true;\r\n\t\t_fnProcessingDisplay( settings, false );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Get the data from the JSON data source to use for drawing a table. Using\r\n\t * `_fnGetObjectDataFn` allows the data to be sourced from a property of the\r\n\t * source object, or from a processing function.\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param  {object} json Data source object / array from the server\r\n\t *  @return {array} Array of data to use\r\n\t */\r\n\tfunction _fnAjaxDataSrc ( oSettings, json )\r\n\t{\r\n\t\tvar dataSrc = $.isPlainObject( oSettings.ajax ) && oSettings.ajax.dataSrc !== undefined ?\r\n\t\t\toSettings.ajax.dataSrc :\r\n\t\t\toSettings.sAjaxDataProp; // Compatibility with 1.9-.\r\n\t\r\n\t\t// Compatibility with 1.9-. In order to read from aaData, check if the\r\n\t\t// default has been changed, if not, check for aaData\r\n\t\tif ( dataSrc === 'data' ) {\r\n\t\t\treturn json.aaData || json[dataSrc];\r\n\t\t}\r\n\t\r\n\t\treturn dataSrc !== \"\" ?\r\n\t\t\t_fnGetObjectDataFn( dataSrc )( json ) :\r\n\t\t\tjson;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Generate the node required for filtering text\r\n\t *  @returns {node} Filter control element\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnFeatureHtmlFilter ( settings )\r\n\t{\r\n\t\tvar classes = settings.oClasses;\r\n\t\tvar tableId = settings.sTableId;\r\n\t\tvar language = settings.oLanguage;\r\n\t\tvar previousSearch = settings.oPreviousSearch;\r\n\t\tvar features = settings.aanFeatures;\r\n\t\tvar input = '<input type=\"search\" class=\"'+classes.sFilterInput+'\"/>';\r\n\t\r\n\t\tvar str = language.sSearch;\r\n\t\tstr = str.match(/_INPUT_/) ?\r\n\t\t\tstr.replace('_INPUT_', input) :\r\n\t\t\tstr+input;\r\n\t\r\n\t\tvar filter = $('<div/>', {\r\n\t\t\t\t'id': ! features.f ? tableId+'_filter' : null,\r\n\t\t\t\t'class': classes.sFilter\r\n\t\t\t} )\r\n\t\t\t.append( $('<label/>' ).append( str ) );\r\n\t\r\n\t\tvar searchFn = function() {\r\n\t\t\t/* Update all other filter input elements for the new display */\r\n\t\t\tvar n = features.f;\r\n\t\t\tvar val = !this.value ? \"\" : this.value; // mental IE8 fix :-(\r\n\t\r\n\t\t\t/* Now do the filter */\r\n\t\t\tif ( val != previousSearch.sSearch ) {\r\n\t\t\t\t_fnFilterComplete( settings, {\r\n\t\t\t\t\t\"sSearch\": val,\r\n\t\t\t\t\t\"bRegex\": previousSearch.bRegex,\r\n\t\t\t\t\t\"bSmart\": previousSearch.bSmart ,\r\n\t\t\t\t\t\"bCaseInsensitive\": previousSearch.bCaseInsensitive\r\n\t\t\t\t} );\r\n\t\r\n\t\t\t\t// Need to redraw, without resorting\r\n\t\t\t\tsettings._iDisplayStart = 0;\r\n\t\t\t\t_fnDraw( settings );\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar jqFilter = $('input', filter)\r\n\t\t\t.val( previousSearch.sSearch )\r\n\t\t\t.attr( 'placeholder', language.sSearchPlaceholder )\r\n\t\t\t.bind(\r\n\t\t\t\t'keyup.DT search.DT input.DT paste.DT cut.DT',\r\n\t\t\t\t_fnDataSource( settings ) === 'ssp' ?\r\n\t\t\t\t\t_fnThrottle( searchFn, 400 ):\r\n\t\t\t\t\tsearchFn\r\n\t\t\t)\r\n\t\t\t.bind( 'keypress.DT', function(e) {\r\n\t\t\t\t/* Prevent form submission */\r\n\t\t\t\tif ( e.keyCode == 13 ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} )\r\n\t\t\t.attr('aria-controls', tableId);\r\n\t\r\n\t\t// Update the input elements whenever the table is filtered\r\n\t\t$(settings.nTable).on( 'search.dt.DT', function ( ev, s ) {\r\n\t\t\tif ( settings === s ) {\r\n\t\t\t\t// IE9 throws an 'unknown error' if document.activeElement is used\r\n\t\t\t\t// inside an iframe or frame...\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif ( jqFilter[0] !== document.activeElement ) {\r\n\t\t\t\t\t\tjqFilter.val( previousSearch.sSearch );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch ( e ) {}\r\n\t\t\t}\r\n\t\t} );\r\n\t\r\n\t\treturn filter[0];\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Filter the table using both the global filter and column based filtering\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {object} oSearch search information\r\n\t *  @param {int} [iForce] force a research of the master array (1) or not (undefined or 0)\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnFilterComplete ( oSettings, oInput, iForce )\r\n\t{\r\n\t\tvar oPrevSearch = oSettings.oPreviousSearch;\r\n\t\tvar aoPrevSearch = oSettings.aoPreSearchCols;\r\n\t\tvar fnSaveFilter = function ( oFilter ) {\r\n\t\t\t/* Save the filtering values */\r\n\t\t\toPrevSearch.sSearch = oFilter.sSearch;\r\n\t\t\toPrevSearch.bRegex = oFilter.bRegex;\r\n\t\t\toPrevSearch.bSmart = oFilter.bSmart;\r\n\t\t\toPrevSearch.bCaseInsensitive = oFilter.bCaseInsensitive;\r\n\t\t};\r\n\t\tvar fnRegex = function ( o ) {\r\n\t\t\t// Backwards compatibility with the bEscapeRegex option\r\n\t\t\treturn o.bEscapeRegex !== undefined ? !o.bEscapeRegex : o.bRegex;\r\n\t\t};\r\n\t\r\n\t\t// Resolve any column types that are unknown due to addition or invalidation\r\n\t\t// @todo As per sort - can this be moved into an event handler?\r\n\t\t_fnColumnTypes( oSettings );\r\n\t\r\n\t\t/* In server-side processing all filtering is done by the server, so no point hanging around here */\r\n\t\tif ( _fnDataSource( oSettings ) != 'ssp' )\r\n\t\t{\r\n\t\t\t/* Global filter */\r\n\t\t\t_fnFilter( oSettings, oInput.sSearch, iForce, fnRegex(oInput), oInput.bSmart, oInput.bCaseInsensitive );\r\n\t\t\tfnSaveFilter( oInput );\r\n\t\r\n\t\t\t/* Now do the individual column filter */\r\n\t\t\tfor ( var i=0 ; i<aoPrevSearch.length ; i++ )\r\n\t\t\t{\r\n\t\t\t\t_fnFilterColumn( oSettings, aoPrevSearch[i].sSearch, i, fnRegex(aoPrevSearch[i]),\r\n\t\t\t\t\taoPrevSearch[i].bSmart, aoPrevSearch[i].bCaseInsensitive );\r\n\t\t\t}\r\n\t\r\n\t\t\t/* Custom filtering */\r\n\t\t\t_fnFilterCustom( oSettings );\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfnSaveFilter( oInput );\r\n\t\t}\r\n\t\r\n\t\t/* Tell the draw function we have been filtering */\r\n\t\toSettings.bFiltered = true;\r\n\t\t_fnCallbackFire( oSettings, null, 'search', [oSettings] );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Apply custom filtering functions\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnFilterCustom( settings )\r\n\t{\r\n\t\tvar filters = DataTable.ext.search;\r\n\t\tvar displayRows = settings.aiDisplay;\r\n\t\tvar row, rowIdx;\r\n\t\r\n\t\tfor ( var i=0, ien=filters.length ; i<ien ; i++ ) {\r\n\t\t\tvar rows = [];\r\n\t\r\n\t\t\t// Loop over each row and see if it should be included\r\n\t\t\tfor ( var j=0, jen=displayRows.length ; j<jen ; j++ ) {\r\n\t\t\t\trowIdx = displayRows[ j ];\r\n\t\t\t\trow = settings.aoData[ rowIdx ];\r\n\t\r\n\t\t\t\tif ( filters[i]( settings, row._aFilterData, rowIdx, row._aData, j ) ) {\r\n\t\t\t\t\trows.push( rowIdx );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t// So the array reference doesn't break set the results into the\r\n\t\t\t// existing array\r\n\t\t\tdisplayRows.length = 0;\r\n\t\t\tdisplayRows.push.apply( displayRows, rows );\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Filter the table on a per-column basis\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {string} sInput string to filter on\r\n\t *  @param {int} iColumn column to filter\r\n\t *  @param {bool} bRegex treat search string as a regular expression or not\r\n\t *  @param {bool} bSmart use smart filtering or not\r\n\t *  @param {bool} bCaseInsensitive Do case insenstive matching or not\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnFilterColumn ( settings, searchStr, colIdx, regex, smart, caseInsensitive )\r\n\t{\r\n\t\tif ( searchStr === '' ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tvar data;\r\n\t\tvar display = settings.aiDisplay;\r\n\t\tvar rpSearch = _fnFilterCreateSearch( searchStr, regex, smart, caseInsensitive );\r\n\t\r\n\t\tfor ( var i=display.length-1 ; i>=0 ; i-- ) {\r\n\t\t\tdata = settings.aoData[ display[i] ]._aFilterData[ colIdx ];\r\n\t\r\n\t\t\tif ( ! rpSearch.test( data ) ) {\r\n\t\t\t\tdisplay.splice( i, 1 );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Filter the data table based on user input and draw the table\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @param {string} input string to filter on\r\n\t *  @param {int} force optional - force a research of the master array (1) or not (undefined or 0)\r\n\t *  @param {bool} regex treat as a regular expression or not\r\n\t *  @param {bool} smart perform smart filtering or not\r\n\t *  @param {bool} caseInsensitive Do case insenstive matching or not\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnFilter( settings, input, force, regex, smart, caseInsensitive )\r\n\t{\r\n\t\tvar rpSearch = _fnFilterCreateSearch( input, regex, smart, caseInsensitive );\r\n\t\tvar prevSearch = settings.oPreviousSearch.sSearch;\r\n\t\tvar displayMaster = settings.aiDisplayMaster;\r\n\t\tvar display, invalidated, i;\r\n\t\r\n\t\t// Need to take account of custom filtering functions - always filter\r\n\t\tif ( DataTable.ext.search.length !== 0 ) {\r\n\t\t\tforce = true;\r\n\t\t}\r\n\t\r\n\t\t// Check if any of the rows were invalidated\r\n\t\tinvalidated = _fnFilterData( settings );\r\n\t\r\n\t\t// If the input is blank - we just want the full data set\r\n\t\tif ( input.length <= 0 ) {\r\n\t\t\tsettings.aiDisplay = displayMaster.slice();\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// New search - start from the master array\r\n\t\t\tif ( invalidated ||\r\n\t\t\t\t force ||\r\n\t\t\t\t prevSearch.length > input.length ||\r\n\t\t\t\t input.indexOf(prevSearch) !== 0 ||\r\n\t\t\t\t settings.bSorted // On resort, the display master needs to be\r\n\t\t\t\t                  // re-filtered since indexes will have changed\r\n\t\t\t) {\r\n\t\t\t\tsettings.aiDisplay = displayMaster.slice();\r\n\t\t\t}\r\n\t\r\n\t\t\t// Search the display array\r\n\t\t\tdisplay = settings.aiDisplay;\r\n\t\r\n\t\t\tfor ( i=display.length-1 ; i>=0 ; i-- ) {\r\n\t\t\t\tif ( ! rpSearch.test( settings.aoData[ display[i] ]._sFilterRow ) ) {\r\n\t\t\t\t\tdisplay.splice( i, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Build a regular expression object suitable for searching a table\r\n\t *  @param {string} sSearch string to search for\r\n\t *  @param {bool} bRegex treat as a regular expression or not\r\n\t *  @param {bool} bSmart perform smart filtering or not\r\n\t *  @param {bool} bCaseInsensitive Do case insensitive matching or not\r\n\t *  @returns {RegExp} constructed object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnFilterCreateSearch( search, regex, smart, caseInsensitive )\r\n\t{\r\n\t\tsearch = regex ?\r\n\t\t\tsearch :\r\n\t\t\t_fnEscapeRegex( search );\r\n\t\t\r\n\t\tif ( smart ) {\r\n\t\t\t/* For smart filtering we want to allow the search to work regardless of\r\n\t\t\t * word order. We also want double quoted text to be preserved, so word\r\n\t\t\t * order is important - a la google. So this is what we want to\r\n\t\t\t * generate:\r\n\t\t\t * \r\n\t\t\t * ^(?=.*?\\bone\\b)(?=.*?\\btwo three\\b)(?=.*?\\bfour\\b).*$\r\n\t\t\t */\r\n\t\t\tvar a = $.map( search.match( /\"[^\"]+\"|[^ ]+/g ) || '', function ( word ) {\r\n\t\t\t\treturn word.charAt(0) === '\"' ?\r\n\t\t\t\t\tword.match( /^\"(.*)\"$/ )[1] :\r\n\t\t\t\t\tword;\r\n\t\t\t} );\r\n\t\r\n\t\t\tsearch = '^(?=.*?'+a.join( ')(?=.*?' )+').*$';\r\n\t\t}\r\n\t\r\n\t\treturn new RegExp( search, caseInsensitive ? 'i' : '' );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * scape a string such that it can be used in a regular expression\r\n\t *  @param {string} sVal string to escape\r\n\t *  @returns {string} escaped string\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnEscapeRegex ( sVal )\r\n\t{\r\n\t\treturn sVal.replace( _re_escape_regex, '\\\\$1' );\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tvar __filter_div = $('<div>')[0];\r\n\tvar __filter_div_textContent = __filter_div.textContent !== undefined;\r\n\t\r\n\t// Update the filtering data for each row if needed (by invalidation or first run)\r\n\tfunction _fnFilterData ( settings )\r\n\t{\r\n\t\tvar columns = settings.aoColumns;\r\n\t\tvar column;\r\n\t\tvar i, j, ien, jen, filterData, cellData, row;\r\n\t\tvar fomatters = DataTable.ext.type.search;\r\n\t\tvar wasInvalidated = false;\r\n\t\r\n\t\tfor ( i=0, ien=settings.aoData.length ; i<ien ; i++ ) {\r\n\t\t\trow = settings.aoData[i];\r\n\t\r\n\t\t\tif ( ! row._aFilterData ) {\r\n\t\t\t\tfilterData = [];\r\n\t\r\n\t\t\t\tfor ( j=0, jen=columns.length ; j<jen ; j++ ) {\r\n\t\t\t\t\tcolumn = columns[j];\r\n\t\r\n\t\t\t\t\tif ( column.bSearchable ) {\r\n\t\t\t\t\t\tcellData = _fnGetCellData( settings, i, j, 'filter' );\r\n\t\r\n\t\t\t\t\t\tif ( fomatters[ column.sType ] ) {\r\n\t\t\t\t\t\t\tcellData = fomatters[ column.sType ]( cellData );\r\n\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\t// Search in DataTables 1.10 is string based. In 1.11 this\r\n\t\t\t\t\t\t// should be altered to also allow strict type checking.\r\n\t\t\t\t\t\tif ( cellData === null ) {\r\n\t\t\t\t\t\t\tcellData = '';\r\n\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\tif ( typeof cellData !== 'string' && cellData.toString ) {\r\n\t\t\t\t\t\t\tcellData = cellData.toString();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tcellData = '';\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t// If it looks like there is an HTML entity in the string,\r\n\t\t\t\t\t// attempt to decode it so sorting works as expected. Note that\r\n\t\t\t\t\t// we could use a single line of jQuery to do this, but the DOM\r\n\t\t\t\t\t// method used here is much faster http://jsperf.com/html-decode\r\n\t\t\t\t\tif ( cellData.indexOf && cellData.indexOf('&') !== -1 ) {\r\n\t\t\t\t\t\t__filter_div.innerHTML = cellData;\r\n\t\t\t\t\t\tcellData = __filter_div_textContent ?\r\n\t\t\t\t\t\t\t__filter_div.textContent :\r\n\t\t\t\t\t\t\t__filter_div.innerText;\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tif ( cellData.replace ) {\r\n\t\t\t\t\t\tcellData = cellData.replace(/[\\r\\n]/g, '');\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tfilterData.push( cellData );\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\trow._aFilterData = filterData;\r\n\t\t\t\trow._sFilterRow = filterData.join('  ');\r\n\t\t\t\twasInvalidated = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\treturn wasInvalidated;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Convert from the internal Hungarian notation to camelCase for external\r\n\t * interaction\r\n\t *  @param {object} obj Object to convert\r\n\t *  @returns {object} Inverted object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnSearchToCamel ( obj )\r\n\t{\r\n\t\treturn {\r\n\t\t\tsearch:          obj.sSearch,\r\n\t\t\tsmart:           obj.bSmart,\r\n\t\t\tregex:           obj.bRegex,\r\n\t\t\tcaseInsensitive: obj.bCaseInsensitive\r\n\t\t};\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Convert from camelCase notation to the internal Hungarian. We could use the\r\n\t * Hungarian convert function here, but this is cleaner\r\n\t *  @param {object} obj Object to convert\r\n\t *  @returns {object} Inverted object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnSearchToHung ( obj )\r\n\t{\r\n\t\treturn {\r\n\t\t\tsSearch:          obj.search,\r\n\t\t\tbSmart:           obj.smart,\r\n\t\t\tbRegex:           obj.regex,\r\n\t\t\tbCaseInsensitive: obj.caseInsensitive\r\n\t\t};\r\n\t}\r\n\t\r\n\t/**\r\n\t * Generate the node required for the info display\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @returns {node} Information element\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnFeatureHtmlInfo ( settings )\r\n\t{\r\n\t\tvar\r\n\t\t\ttid = settings.sTableId,\r\n\t\t\tnodes = settings.aanFeatures.i,\r\n\t\t\tn = $('<div/>', {\r\n\t\t\t\t'class': settings.oClasses.sInfo,\r\n\t\t\t\t'id': ! nodes ? tid+'_info' : null\r\n\t\t\t} );\r\n\t\r\n\t\tif ( ! nodes ) {\r\n\t\t\t// Update display on each draw\r\n\t\t\tsettings.aoDrawCallback.push( {\r\n\t\t\t\t\"fn\": _fnUpdateInfo,\r\n\t\t\t\t\"sName\": \"information\"\r\n\t\t\t} );\r\n\t\r\n\t\t\tn\r\n\t\t\t\t.attr( 'role', 'status' )\r\n\t\t\t\t.attr( 'aria-live', 'polite' );\r\n\t\r\n\t\t\t// Table is described by our info div\r\n\t\t\t$(settings.nTable).attr( 'aria-describedby', tid+'_info' );\r\n\t\t}\r\n\t\r\n\t\treturn n[0];\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Update the information elements in the display\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnUpdateInfo ( settings )\r\n\t{\r\n\t\t/* Show information about the table */\r\n\t\tvar nodes = settings.aanFeatures.i;\r\n\t\tif ( nodes.length === 0 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tvar\r\n\t\t\tlang  = settings.oLanguage,\r\n\t\t\tstart = settings._iDisplayStart+1,\r\n\t\t\tend   = settings.fnDisplayEnd(),\r\n\t\t\tmax   = settings.fnRecordsTotal(),\r\n\t\t\ttotal = settings.fnRecordsDisplay(),\r\n\t\t\tout   = total ?\r\n\t\t\t\tlang.sInfo :\r\n\t\t\t\tlang.sInfoEmpty;\r\n\t\r\n\t\tif ( total !== max ) {\r\n\t\t\t/* Record set after filtering */\r\n\t\t\tout += ' ' + lang.sInfoFiltered;\r\n\t\t}\r\n\t\r\n\t\t// Convert the macros\r\n\t\tout += lang.sInfoPostFix;\r\n\t\tout = _fnInfoMacros( settings, out );\r\n\t\r\n\t\tvar callback = lang.fnInfoCallback;\r\n\t\tif ( callback !== null ) {\r\n\t\t\tout = callback.call( settings.oInstance,\r\n\t\t\t\tsettings, start, end, max, total, out\r\n\t\t\t);\r\n\t\t}\r\n\t\r\n\t\t$(nodes).html( out );\r\n\t}\r\n\t\r\n\t\r\n\tfunction _fnInfoMacros ( settings, str )\r\n\t{\r\n\t\t// When infinite scrolling, we are always starting at 1. _iDisplayStart is used only\r\n\t\t// internally\r\n\t\tvar\r\n\t\t\tformatter  = settings.fnFormatNumber,\r\n\t\t\tstart      = settings._iDisplayStart+1,\r\n\t\t\tlen        = settings._iDisplayLength,\r\n\t\t\tvis        = settings.fnRecordsDisplay(),\r\n\t\t\tall        = len === -1;\r\n\t\r\n\t\treturn str.\r\n\t\t\treplace(/_START_/g, formatter.call( settings, start ) ).\r\n\t\t\treplace(/_END_/g,   formatter.call( settings, settings.fnDisplayEnd() ) ).\r\n\t\t\treplace(/_MAX_/g,   formatter.call( settings, settings.fnRecordsTotal() ) ).\r\n\t\t\treplace(/_TOTAL_/g, formatter.call( settings, vis ) ).\r\n\t\t\treplace(/_PAGE_/g,  formatter.call( settings, all ? 1 : Math.ceil( start / len ) ) ).\r\n\t\t\treplace(/_PAGES_/g, formatter.call( settings, all ? 1 : Math.ceil( vis / len ) ) );\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Draw the table for the first time, adding all required features\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnInitialise ( settings )\r\n\t{\r\n\t\tvar i, iLen, iAjaxStart=settings.iInitDisplayStart;\r\n\t\tvar columns = settings.aoColumns, column;\r\n\t\tvar features = settings.oFeatures;\r\n\t\r\n\t\t/* Ensure that the table data is fully initialised */\r\n\t\tif ( ! settings.bInitialised ) {\r\n\t\t\tsetTimeout( function(){ _fnInitialise( settings ); }, 200 );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t/* Show the display HTML options */\r\n\t\t_fnAddOptionsHtml( settings );\r\n\t\r\n\t\t/* Build and draw the header / footer for the table */\r\n\t\t_fnBuildHead( settings );\r\n\t\t_fnDrawHead( settings, settings.aoHeader );\r\n\t\t_fnDrawHead( settings, settings.aoFooter );\r\n\t\r\n\t\t/* Okay to show that something is going on now */\r\n\t\t_fnProcessingDisplay( settings, true );\r\n\t\r\n\t\t/* Calculate sizes for columns */\r\n\t\tif ( features.bAutoWidth ) {\r\n\t\t\t_fnCalculateColumnWidths( settings );\r\n\t\t}\r\n\t\r\n\t\tfor ( i=0, iLen=columns.length ; i<iLen ; i++ ) {\r\n\t\t\tcolumn = columns[i];\r\n\t\r\n\t\t\tif ( column.sWidth ) {\r\n\t\t\t\tcolumn.nTh.style.width = _fnStringToCss( column.sWidth );\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t// If there is default sorting required - let's do it. The sort function\r\n\t\t// will do the drawing for us. Otherwise we draw the table regardless of the\r\n\t\t// Ajax source - this allows the table to look initialised for Ajax sourcing\r\n\t\t// data (show 'loading' message possibly)\r\n\t\t_fnReDraw( settings );\r\n\t\r\n\t\t// Server-side processing init complete is done by _fnAjaxUpdateDraw\r\n\t\tvar dataSrc = _fnDataSource( settings );\r\n\t\tif ( dataSrc != 'ssp' ) {\r\n\t\t\t// if there is an ajax source load the data\r\n\t\t\tif ( dataSrc == 'ajax' ) {\r\n\t\t\t\t_fnBuildAjax( settings, [], function(json) {\r\n\t\t\t\t\tvar aData = _fnAjaxDataSrc( settings, json );\r\n\t\r\n\t\t\t\t\t// Got the data - add it to the table\r\n\t\t\t\t\tfor ( i=0 ; i<aData.length ; i++ ) {\r\n\t\t\t\t\t\t_fnAddData( settings, aData[i] );\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t// Reset the init display for cookie saving. We've already done\r\n\t\t\t\t\t// a filter, and therefore cleared it before. So we need to make\r\n\t\t\t\t\t// it appear 'fresh'\r\n\t\t\t\t\tsettings.iInitDisplayStart = iAjaxStart;\r\n\t\r\n\t\t\t\t\t_fnReDraw( settings );\r\n\t\r\n\t\t\t\t\t_fnProcessingDisplay( settings, false );\r\n\t\t\t\t\t_fnInitComplete( settings, json );\r\n\t\t\t\t}, settings );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t_fnProcessingDisplay( settings, false );\r\n\t\t\t\t_fnInitComplete( settings );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Draw the table for the first time, adding all required features\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {object} [json] JSON from the server that completed the table, if using Ajax source\r\n\t *    with client-side processing (optional)\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnInitComplete ( settings, json )\r\n\t{\r\n\t\tsettings._bInitComplete = true;\r\n\t\r\n\t\t// On an Ajax load we now have data and therefore want to apply the column\r\n\t\t// sizing\r\n\t\tif ( json ) {\r\n\t\t\t_fnAdjustColumnSizing( settings );\r\n\t\t}\r\n\t\r\n\t\t_fnCallbackFire( settings, 'aoInitComplete', 'init', [settings, json] );\r\n\t}\r\n\t\r\n\t\r\n\tfunction _fnLengthChange ( settings, val )\r\n\t{\r\n\t\tvar len = parseInt( val, 10 );\r\n\t\tsettings._iDisplayLength = len;\r\n\t\r\n\t\t_fnLengthOverflow( settings );\r\n\t\r\n\t\t// Fire length change event\r\n\t\t_fnCallbackFire( settings, null, 'length', [settings, len] );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Generate the node required for user display length changing\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @returns {node} Display length feature node\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnFeatureHtmlLength ( settings )\r\n\t{\r\n\t\tvar\r\n\t\t\tclasses  = settings.oClasses,\r\n\t\t\ttableId  = settings.sTableId,\r\n\t\t\tmenu     = settings.aLengthMenu,\r\n\t\t\td2       = $.isArray( menu[0] ),\r\n\t\t\tlengths  = d2 ? menu[0] : menu,\r\n\t\t\tlanguage = d2 ? menu[1] : menu;\r\n\t\r\n\t\tvar select = $('<select/>', {\r\n\t\t\t'name':          tableId+'_length',\r\n\t\t\t'aria-controls': tableId,\r\n\t\t\t'class':         classes.sLengthSelect\r\n\t\t} );\r\n\t\r\n\t\tfor ( var i=0, ien=lengths.length ; i<ien ; i++ ) {\r\n\t\t\tselect[0][ i ] = new Option( language[i], lengths[i] );\r\n\t\t}\r\n\t\r\n\t\tvar div = $('<div><label/></div>').addClass( classes.sLength );\r\n\t\tif ( ! settings.aanFeatures.l ) {\r\n\t\t\tdiv[0].id = tableId+'_length';\r\n\t\t}\r\n\t\r\n\t\tdiv.children().append(\r\n\t\t\tsettings.oLanguage.sLengthMenu.replace( '_MENU_', select[0].outerHTML )\r\n\t\t);\r\n\t\r\n\t\t// Can't use `select` variable as user might provide their own and the\r\n\t\t// reference is broken by the use of outerHTML\r\n\t\t$('select', div)\r\n\t\t\t.val( settings._iDisplayLength )\r\n\t\t\t.bind( 'change.DT', function(e) {\r\n\t\t\t\t_fnLengthChange( settings, $(this).val() );\r\n\t\t\t\t_fnDraw( settings );\r\n\t\t\t} );\r\n\t\r\n\t\t// Update node value whenever anything changes the table's length\r\n\t\t$(settings.nTable).bind( 'length.dt.DT', function (e, s, len) {\r\n\t\t\tif ( settings === s ) {\r\n\t\t\t\t$('select', div).val( len );\r\n\t\t\t}\r\n\t\t} );\r\n\t\r\n\t\treturn div[0];\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\t * Note that most of the paging logic is done in\r\n\t * DataTable.ext.pager\r\n\t */\r\n\t\r\n\t/**\r\n\t * Generate the node required for default pagination\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @returns {node} Pagination feature node\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnFeatureHtmlPaginate ( settings )\r\n\t{\r\n\t\tvar\r\n\t\t\ttype   = settings.sPaginationType,\r\n\t\t\tplugin = DataTable.ext.pager[ type ],\r\n\t\t\tmodern = typeof plugin === 'function',\r\n\t\t\tredraw = function( settings ) {\r\n\t\t\t\t_fnDraw( settings );\r\n\t\t\t},\r\n\t\t\tnode = $('<div/>').addClass( settings.oClasses.sPaging + type )[0],\r\n\t\t\tfeatures = settings.aanFeatures;\r\n\t\r\n\t\tif ( ! modern ) {\r\n\t\t\tplugin.fnInit( settings, node, redraw );\r\n\t\t}\r\n\t\r\n\t\t/* Add a draw callback for the pagination on first instance, to update the paging display */\r\n\t\tif ( ! features.p )\r\n\t\t{\r\n\t\t\tnode.id = settings.sTableId+'_paginate';\r\n\t\r\n\t\t\tsettings.aoDrawCallback.push( {\r\n\t\t\t\t\"fn\": function( settings ) {\r\n\t\t\t\t\tif ( modern ) {\r\n\t\t\t\t\t\tvar\r\n\t\t\t\t\t\t\tstart      = settings._iDisplayStart,\r\n\t\t\t\t\t\t\tlen        = settings._iDisplayLength,\r\n\t\t\t\t\t\t\tvisRecords = settings.fnRecordsDisplay(),\r\n\t\t\t\t\t\t\tall        = len === -1,\r\n\t\t\t\t\t\t\tpage = all ? 0 : Math.ceil( start / len ),\r\n\t\t\t\t\t\t\tpages = all ? 1 : Math.ceil( visRecords / len ),\r\n\t\t\t\t\t\t\tbuttons = plugin(page, pages),\r\n\t\t\t\t\t\t\ti, ien;\r\n\t\r\n\t\t\t\t\t\tfor ( i=0, ien=features.p.length ; i<ien ; i++ ) {\r\n\t\t\t\t\t\t\t_fnRenderer( settings, 'pageButton' )(\r\n\t\t\t\t\t\t\t\tsettings, features.p[i], i, buttons, page, pages\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tplugin.fnUpdate( settings, redraw );\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"sName\": \"pagination\"\r\n\t\t\t} );\r\n\t\t}\r\n\t\r\n\t\treturn node;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Alter the display settings to change the page\r\n\t *  @param {object} settings DataTables settings object\r\n\t *  @param {string|int} action Paging action to take: \"first\", \"previous\",\r\n\t *    \"next\" or \"last\" or page number to jump to (integer)\r\n\t *  @param [bool] redraw Automatically draw the update or not\r\n\t *  @returns {bool} true page has changed, false - no change\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnPageChange ( settings, action, redraw )\r\n\t{\r\n\t\tvar\r\n\t\t\tstart     = settings._iDisplayStart,\r\n\t\t\tlen       = settings._iDisplayLength,\r\n\t\t\trecords   = settings.fnRecordsDisplay();\r\n\t\r\n\t\tif ( records === 0 || len === -1 )\r\n\t\t{\r\n\t\t\tstart = 0;\r\n\t\t}\r\n\t\telse if ( typeof action === \"number\" )\r\n\t\t{\r\n\t\t\tstart = action * len;\r\n\t\r\n\t\t\tif ( start > records )\r\n\t\t\t{\r\n\t\t\t\tstart = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if ( action == \"first\" )\r\n\t\t{\r\n\t\t\tstart = 0;\r\n\t\t}\r\n\t\telse if ( action == \"previous\" )\r\n\t\t{\r\n\t\t\tstart = len >= 0 ?\r\n\t\t\t\tstart - len :\r\n\t\t\t\t0;\r\n\t\r\n\t\t\tif ( start < 0 )\r\n\t\t\t{\r\n\t\t\t  start = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if ( action == \"next\" )\r\n\t\t{\r\n\t\t\tif ( start + len < records )\r\n\t\t\t{\r\n\t\t\t\tstart += len;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if ( action == \"last\" )\r\n\t\t{\r\n\t\t\tstart = Math.floor( (records-1) / len) * len;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t_fnLog( settings, 0, \"Unknown paging action: \"+action, 5 );\r\n\t\t}\r\n\t\r\n\t\tvar changed = settings._iDisplayStart !== start;\r\n\t\tsettings._iDisplayStart = start;\r\n\t\r\n\t\tif ( changed ) {\r\n\t\t\t_fnCallbackFire( settings, null, 'page', [settings] );\r\n\t\r\n\t\t\tif ( redraw ) {\r\n\t\t\t\t_fnDraw( settings );\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\treturn changed;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Generate the node required for the processing node\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @returns {node} Processing element\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnFeatureHtmlProcessing ( settings )\r\n\t{\r\n\t\treturn $('<div/>', {\r\n\t\t\t\t'id': ! settings.aanFeatures.r ? settings.sTableId+'_processing' : null,\r\n\t\t\t\t'class': settings.oClasses.sProcessing\r\n\t\t\t} )\r\n\t\t\t.html( settings.oLanguage.sProcessing )\r\n\t\t\t.insertBefore( settings.nTable )[0];\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Display or hide the processing indicator\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @param {bool} show Show the processing indicator (true) or not (false)\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnProcessingDisplay ( settings, show )\r\n\t{\r\n\t\tif ( settings.oFeatures.bProcessing ) {\r\n\t\t\t$(settings.aanFeatures.r).css( 'display', show ? 'block' : 'none' );\r\n\t\t}\r\n\t\r\n\t\t_fnCallbackFire( settings, null, 'processing', [settings, show] );\r\n\t}\r\n\t\r\n\t/**\r\n\t * Add any control elements for the table - specifically scrolling\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @returns {node} Node to add to the DOM\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnFeatureHtmlTable ( settings )\r\n\t{\r\n\t\tvar table = $(settings.nTable);\r\n\t\r\n\t\t// Add the ARIA grid role to the table\r\n\t\ttable.attr( 'role', 'grid' );\r\n\t\r\n\t\t// Scrolling from here on in\r\n\t\tvar scroll = settings.oScroll;\r\n\t\r\n\t\tif ( scroll.sX === '' && scroll.sY === '' ) {\r\n\t\t\treturn settings.nTable;\r\n\t\t}\r\n\t\r\n\t\tvar scrollX = scroll.sX;\r\n\t\tvar scrollY = scroll.sY;\r\n\t\tvar classes = settings.oClasses;\r\n\t\tvar caption = table.children('caption');\r\n\t\tvar captionSide = caption.length ? caption[0]._captionSide : null;\r\n\t\tvar headerClone = $( table[0].cloneNode(false) );\r\n\t\tvar footerClone = $( table[0].cloneNode(false) );\r\n\t\tvar footer = table.children('tfoot');\r\n\t\tvar _div = '<div/>';\r\n\t\tvar size = function ( s ) {\r\n\t\t\treturn !s ? null : _fnStringToCss( s );\r\n\t\t};\r\n\t\r\n\t\t// This is fairly messy, but with x scrolling enabled, if the table has a\r\n\t\t// width attribute, regardless of any width applied using the column width\r\n\t\t// options, the browser will shrink or grow the table as needed to fit into\r\n\t\t// that 100%. That would make the width options useless. So we remove it.\r\n\t\t// This is okay, under the assumption that width:100% is applied to the\r\n\t\t// table in CSS (it is in the default stylesheet) which will set the table\r\n\t\t// width as appropriate (the attribute and css behave differently...)\r\n\t\tif ( scroll.sX && table.attr('width') === '100%' ) {\r\n\t\t\ttable.removeAttr('width');\r\n\t\t}\r\n\t\r\n\t\tif ( ! footer.length ) {\r\n\t\t\tfooter = null;\r\n\t\t}\r\n\t\r\n\t\t/*\r\n\t\t * The HTML structure that we want to generate in this function is:\r\n\t\t *  div - scroller\r\n\t\t *    div - scroll head\r\n\t\t *      div - scroll head inner\r\n\t\t *        table - scroll head table\r\n\t\t *          thead - thead\r\n\t\t *    div - scroll body\r\n\t\t *      table - table (master table)\r\n\t\t *        thead - thead clone for sizing\r\n\t\t *        tbody - tbody\r\n\t\t *    div - scroll foot\r\n\t\t *      div - scroll foot inner\r\n\t\t *        table - scroll foot table\r\n\t\t *          tfoot - tfoot\r\n\t\t */\r\n\t\tvar scroller = $( _div, { 'class': classes.sScrollWrapper } )\r\n\t\t\t.append(\r\n\t\t\t\t$(_div, { 'class': classes.sScrollHead } )\r\n\t\t\t\t\t.css( {\r\n\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\twidth: scrollX ? size(scrollX) : '100%'\r\n\t\t\t\t\t} )\r\n\t\t\t\t\t.append(\r\n\t\t\t\t\t\t$(_div, { 'class': classes.sScrollHeadInner } )\r\n\t\t\t\t\t\t\t.css( {\r\n\t\t\t\t\t\t\t\t'box-sizing': 'content-box',\r\n\t\t\t\t\t\t\t\twidth: scroll.sXInner || '100%'\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t.append(\r\n\t\t\t\t\t\t\t\theaderClone\r\n\t\t\t\t\t\t\t\t\t.removeAttr('id')\r\n\t\t\t\t\t\t\t\t\t.css( 'margin-left', 0 )\r\n\t\t\t\t\t\t\t\t\t.append(\r\n\t\t\t\t\t\t\t\t\t\ttable.children('thead')\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.append( captionSide === 'top' ? caption : null )\r\n\t\t\t)\r\n\t\t\t.append(\r\n\t\t\t\t$(_div, { 'class': classes.sScrollBody } )\r\n\t\t\t\t\t.css( {\r\n\t\t\t\t\t\toverflow: 'auto',\r\n\t\t\t\t\t\theight: size( scrollY ),\r\n\t\t\t\t\t\twidth: size( scrollX )\r\n\t\t\t\t\t} )\r\n\t\t\t\t\t.append( table )\r\n\t\t\t);\r\n\t\r\n\t\tif ( footer ) {\r\n\t\t\tscroller.append(\r\n\t\t\t\t$(_div, { 'class': classes.sScrollFoot } )\r\n\t\t\t\t\t.css( {\r\n\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\twidth: scrollX ? size(scrollX) : '100%'\r\n\t\t\t\t\t} )\r\n\t\t\t\t\t.append(\r\n\t\t\t\t\t\t$(_div, { 'class': classes.sScrollFootInner } )\r\n\t\t\t\t\t\t\t.append(\r\n\t\t\t\t\t\t\t\tfooterClone\r\n\t\t\t\t\t\t\t\t\t.removeAttr('id')\r\n\t\t\t\t\t\t\t\t\t.css( 'margin-left', 0 )\r\n\t\t\t\t\t\t\t\t\t.append(\r\n\t\t\t\t\t\t\t\t\t\ttable.children('tfoot')\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.append( captionSide === 'bottom' ? caption : null )\r\n\t\t\t);\r\n\t\t}\r\n\t\r\n\t\tvar children = scroller.children();\r\n\t\tvar scrollHead = children[0];\r\n\t\tvar scrollBody = children[1];\r\n\t\tvar scrollFoot = footer ? children[2] : null;\r\n\t\r\n\t\t// When the body is scrolled, then we also want to scroll the headers\r\n\t\tif ( scrollX ) {\r\n\t\t\t$(scrollBody).scroll( function (e) {\r\n\t\t\t\tvar scrollLeft = this.scrollLeft;\r\n\t\r\n\t\t\t\tscrollHead.scrollLeft = scrollLeft;\r\n\t\r\n\t\t\t\tif ( footer ) {\r\n\t\t\t\t\tscrollFoot.scrollLeft = scrollLeft;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t\r\n\t\tsettings.nScrollHead = scrollHead;\r\n\t\tsettings.nScrollBody = scrollBody;\r\n\t\tsettings.nScrollFoot = scrollFoot;\r\n\t\r\n\t\t// On redraw - align columns\r\n\t\tsettings.aoDrawCallback.push( {\r\n\t\t\t\"fn\": _fnScrollDraw,\r\n\t\t\t\"sName\": \"scrolling\"\r\n\t\t} );\r\n\t\r\n\t\treturn scroller[0];\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Update the header, footer and body tables for resizing - i.e. column\r\n\t * alignment.\r\n\t *\r\n\t * Welcome to the most horrible function DataTables. The process that this\r\n\t * function follows is basically:\r\n\t *   1. Re-create the table inside the scrolling div\r\n\t *   2. Take live measurements from the DOM\r\n\t *   3. Apply the measurements to align the columns\r\n\t *   4. Clean up\r\n\t *\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnScrollDraw ( settings )\r\n\t{\r\n\t\t// Given that this is such a monster function, a lot of variables are use\r\n\t\t// to try and keep the minimised size as small as possible\r\n\t\tvar\r\n\t\t\tscroll         = settings.oScroll,\r\n\t\t\tscrollX        = scroll.sX,\r\n\t\t\tscrollXInner   = scroll.sXInner,\r\n\t\t\tscrollY        = scroll.sY,\r\n\t\t\tbarWidth       = scroll.iBarWidth,\r\n\t\t\tdivHeader      = $(settings.nScrollHead),\r\n\t\t\tdivHeaderStyle = divHeader[0].style,\r\n\t\t\tdivHeaderInner = divHeader.children('div'),\r\n\t\t\tdivHeaderInnerStyle = divHeaderInner[0].style,\r\n\t\t\tdivHeaderTable = divHeaderInner.children('table'),\r\n\t\t\tdivBodyEl      = settings.nScrollBody,\r\n\t\t\tdivBody        = $(divBodyEl),\r\n\t\t\tdivBodyStyle   = divBodyEl.style,\r\n\t\t\tdivFooter      = $(settings.nScrollFoot),\r\n\t\t\tdivFooterInner = divFooter.children('div'),\r\n\t\t\tdivFooterTable = divFooterInner.children('table'),\r\n\t\t\theader         = $(settings.nTHead),\r\n\t\t\ttable          = $(settings.nTable),\r\n\t\t\ttableEl        = table[0],\r\n\t\t\ttableStyle     = tableEl.style,\r\n\t\t\tfooter         = settings.nTFoot ? $(settings.nTFoot) : null,\r\n\t\t\tbrowser        = settings.oBrowser,\r\n\t\t\tie67           = browser.bScrollOversize,\r\n\t\t\theaderTrgEls, footerTrgEls,\r\n\t\t\theaderSrcEls, footerSrcEls,\r\n\t\t\theaderCopy, footerCopy,\r\n\t\t\theaderWidths=[], footerWidths=[],\r\n\t\t\theaderContent=[],\r\n\t\t\tidx, correction, sanityWidth,\r\n\t\t\tzeroOut = function(nSizer) {\r\n\t\t\t\tvar style = nSizer.style;\r\n\t\t\t\tstyle.paddingTop = \"0\";\r\n\t\t\t\tstyle.paddingBottom = \"0\";\r\n\t\t\t\tstyle.borderTopWidth = \"0\";\r\n\t\t\t\tstyle.borderBottomWidth = \"0\";\r\n\t\t\t\tstyle.height = 0;\r\n\t\t\t};\r\n\t\r\n\t\t/*\r\n\t\t * 1. Re-create the table inside the scrolling div\r\n\t\t */\r\n\t\r\n\t\t// Remove the old minimised thead and tfoot elements in the inner table\r\n\t\ttable.children('thead, tfoot').remove();\r\n\t\r\n\t\t// Clone the current header and footer elements and then place it into the inner table\r\n\t\theaderCopy = header.clone().prependTo( table );\r\n\t\theaderTrgEls = header.find('tr'); // original header is in its own table\r\n\t\theaderSrcEls = headerCopy.find('tr');\r\n\t\theaderCopy.find('th, td').removeAttr('tabindex');\r\n\t\r\n\t\tif ( footer ) {\r\n\t\t\tfooterCopy = footer.clone().prependTo( table );\r\n\t\t\tfooterTrgEls = footer.find('tr'); // the original tfoot is in its own table and must be sized\r\n\t\t\tfooterSrcEls = footerCopy.find('tr');\r\n\t\t}\r\n\t\r\n\t\r\n\t\t/*\r\n\t\t * 2. Take live measurements from the DOM - do not alter the DOM itself!\r\n\t\t */\r\n\t\r\n\t\t// Remove old sizing and apply the calculated column widths\r\n\t\t// Get the unique column headers in the newly created (cloned) header. We want to apply the\r\n\t\t// calculated sizes to this header\r\n\t\tif ( ! scrollX )\r\n\t\t{\r\n\t\t\tdivBodyStyle.width = '100%';\r\n\t\t\tdivHeader[0].style.width = '100%';\r\n\t\t}\r\n\t\r\n\t\t$.each( _fnGetUniqueThs( settings, headerCopy ), function ( i, el ) {\r\n\t\t\tidx = _fnVisibleToColumnIndex( settings, i );\r\n\t\t\tel.style.width = settings.aoColumns[idx].sWidth;\r\n\t\t} );\r\n\t\r\n\t\tif ( footer ) {\r\n\t\t\t_fnApplyToChildren( function(n) {\r\n\t\t\t\tn.style.width = \"\";\r\n\t\t\t}, footerSrcEls );\r\n\t\t}\r\n\t\r\n\t\t// If scroll collapse is enabled, when we put the headers back into the body for sizing, we\r\n\t\t// will end up forcing the scrollbar to appear, making our measurements wrong for when we\r\n\t\t// then hide it (end of this function), so add the header height to the body scroller.\r\n\t\tif ( scroll.bCollapse && scrollY !== \"\" ) {\r\n\t\t\tdivBodyStyle.height = (divBody[0].offsetHeight + header[0].offsetHeight)+\"px\";\r\n\t\t}\r\n\t\r\n\t\t// Size the table as a whole\r\n\t\tsanityWidth = table.outerWidth();\r\n\t\tif ( scrollX === \"\" ) {\r\n\t\t\t// No x scrolling\r\n\t\t\ttableStyle.width = \"100%\";\r\n\t\r\n\t\t\t// IE7 will make the width of the table when 100% include the scrollbar\r\n\t\t\t// - which is shouldn't. When there is a scrollbar we need to take this\r\n\t\t\t// into account.\r\n\t\t\tif ( ie67 && (table.find('tbody').height() > divBodyEl.offsetHeight ||\r\n\t\t\t\tdivBody.css('overflow-y') == \"scroll\")\r\n\t\t\t) {\r\n\t\t\t\ttableStyle.width = _fnStringToCss( table.outerWidth() - barWidth);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// x scrolling\r\n\t\t\tif ( scrollXInner !== \"\" ) {\r\n\t\t\t\t// x scroll inner has been given - use it\r\n\t\t\t\ttableStyle.width = _fnStringToCss(scrollXInner);\r\n\t\t\t}\r\n\t\t\telse if ( sanityWidth == divBody.width() && divBody.height() < table.height() ) {\r\n\t\t\t\t// There is y-scrolling - try to take account of the y scroll bar\r\n\t\t\t\ttableStyle.width = _fnStringToCss( sanityWidth-barWidth );\r\n\t\t\t\tif ( table.outerWidth() > sanityWidth-barWidth ) {\r\n\t\t\t\t\t// Not possible to take account of it\r\n\t\t\t\t\ttableStyle.width = _fnStringToCss( sanityWidth );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// When all else fails\r\n\t\t\t\ttableStyle.width = _fnStringToCss( sanityWidth );\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t// Recalculate the sanity width - now that we've applied the required width,\r\n\t\t// before it was a temporary variable. This is required because the column\r\n\t\t// width calculation is done before this table DOM is created.\r\n\t\tsanityWidth = table.outerWidth();\r\n\t\r\n\t\t// Hidden header should have zero height, so remove padding and borders. Then\r\n\t\t// set the width based on the real headers\r\n\t\r\n\t\t// Apply all styles in one pass\r\n\t\t_fnApplyToChildren( zeroOut, headerSrcEls );\r\n\t\r\n\t\t// Read all widths in next pass\r\n\t\t_fnApplyToChildren( function(nSizer) {\r\n\t\t\theaderContent.push( nSizer.innerHTML );\r\n\t\t\theaderWidths.push( _fnStringToCss( $(nSizer).css('width') ) );\r\n\t\t}, headerSrcEls );\r\n\t\r\n\t\t// Apply all widths in final pass\r\n\t\t_fnApplyToChildren( function(nToSize, i) {\r\n\t\t\tnToSize.style.width = headerWidths[i];\r\n\t\t}, headerTrgEls );\r\n\t\r\n\t\t$(headerSrcEls).height(0);\r\n\t\r\n\t\t/* Same again with the footer if we have one */\r\n\t\tif ( footer )\r\n\t\t{\r\n\t\t\t_fnApplyToChildren( zeroOut, footerSrcEls );\r\n\t\r\n\t\t\t_fnApplyToChildren( function(nSizer) {\r\n\t\t\t\tfooterWidths.push( _fnStringToCss( $(nSizer).css('width') ) );\r\n\t\t\t}, footerSrcEls );\r\n\t\r\n\t\t\t_fnApplyToChildren( function(nToSize, i) {\r\n\t\t\t\tnToSize.style.width = footerWidths[i];\r\n\t\t\t}, footerTrgEls );\r\n\t\r\n\t\t\t$(footerSrcEls).height(0);\r\n\t\t}\r\n\t\r\n\t\r\n\t\t/*\r\n\t\t * 3. Apply the measurements\r\n\t\t */\r\n\t\r\n\t\t// \"Hide\" the header and footer that we used for the sizing. We need to keep\r\n\t\t// the content of the cell so that the width applied to the header and body\r\n\t\t// both match, but we want to hide it completely. We want to also fix their\r\n\t\t// width to what they currently are\r\n\t\t_fnApplyToChildren( function(nSizer, i) {\r\n\t\t\tnSizer.innerHTML = '<div class=\"dataTables_sizing\" style=\"height:0;overflow:hidden;\">'+headerContent[i]+'</div>';\r\n\t\t\tnSizer.style.width = headerWidths[i];\r\n\t\t}, headerSrcEls );\r\n\t\r\n\t\tif ( footer )\r\n\t\t{\r\n\t\t\t_fnApplyToChildren( function(nSizer, i) {\r\n\t\t\t\tnSizer.innerHTML = \"\";\r\n\t\t\t\tnSizer.style.width = footerWidths[i];\r\n\t\t\t}, footerSrcEls );\r\n\t\t}\r\n\t\r\n\t\t// Sanity check that the table is of a sensible width. If not then we are going to get\r\n\t\t// misalignment - try to prevent this by not allowing the table to shrink below its min width\r\n\t\tif ( table.outerWidth() < sanityWidth )\r\n\t\t{\r\n\t\t\t// The min width depends upon if we have a vertical scrollbar visible or not */\r\n\t\t\tcorrection = ((divBodyEl.scrollHeight > divBodyEl.offsetHeight ||\r\n\t\t\t\tdivBody.css('overflow-y') == \"scroll\")) ?\r\n\t\t\t\t\tsanityWidth+barWidth :\r\n\t\t\t\t\tsanityWidth;\r\n\t\r\n\t\t\t// IE6/7 are a law unto themselves...\r\n\t\t\tif ( ie67 && (divBodyEl.scrollHeight >\r\n\t\t\t\tdivBodyEl.offsetHeight || divBody.css('overflow-y') == \"scroll\")\r\n\t\t\t) {\r\n\t\t\t\ttableStyle.width = _fnStringToCss( correction-barWidth );\r\n\t\t\t}\r\n\t\r\n\t\t\t// And give the user a warning that we've stopped the table getting too small\r\n\t\t\tif ( scrollX === \"\" || scrollXInner !== \"\" ) {\r\n\t\t\t\t_fnLog( settings, 1, 'Possible column misalignment', 6 );\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcorrection = '100%';\r\n\t\t}\r\n\t\r\n\t\t// Apply to the container elements\r\n\t\tdivBodyStyle.width = _fnStringToCss( correction );\r\n\t\tdivHeaderStyle.width = _fnStringToCss( correction );\r\n\t\r\n\t\tif ( footer ) {\r\n\t\t\tsettings.nScrollFoot.style.width = _fnStringToCss( correction );\r\n\t\t}\r\n\t\r\n\t\r\n\t\t/*\r\n\t\t * 4. Clean up\r\n\t\t */\r\n\t\tif ( ! scrollY ) {\r\n\t\t\t/* IE7< puts a vertical scrollbar in place (when it shouldn't be) due to subtracting\r\n\t\t\t * the scrollbar height from the visible display, rather than adding it on. We need to\r\n\t\t\t * set the height in order to sort this. Don't want to do it in any other browsers.\r\n\t\t\t */\r\n\t\t\tif ( ie67 ) {\r\n\t\t\t\tdivBodyStyle.height = _fnStringToCss( tableEl.offsetHeight+barWidth );\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tif ( scrollY && scroll.bCollapse ) {\r\n\t\t\tdivBodyStyle.height = _fnStringToCss( scrollY );\r\n\t\r\n\t\t\tvar iExtra = (scrollX && tableEl.offsetWidth > divBodyEl.offsetWidth) ?\r\n\t\t\t\tbarWidth :\r\n\t\t\t\t0;\r\n\t\r\n\t\t\tif ( tableEl.offsetHeight < divBodyEl.offsetHeight ) {\r\n\t\t\t\tdivBodyStyle.height = _fnStringToCss( tableEl.offsetHeight+iExtra );\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t/* Finally set the width's of the header and footer tables */\r\n\t\tvar iOuterWidth = table.outerWidth();\r\n\t\tdivHeaderTable[0].style.width = _fnStringToCss( iOuterWidth );\r\n\t\tdivHeaderInnerStyle.width = _fnStringToCss( iOuterWidth );\r\n\t\r\n\t\t// Figure out if there are scrollbar present - if so then we need a the header and footer to\r\n\t\t// provide a bit more space to allow \"overflow\" scrolling (i.e. past the scrollbar)\r\n\t\tvar bScrolling = table.height() > divBodyEl.clientHeight || divBody.css('overflow-y') == \"scroll\";\r\n\t\tvar padding = 'padding' + (browser.bScrollbarLeft ? 'Left' : 'Right' );\r\n\t\tdivHeaderInnerStyle[ padding ] = bScrolling ? barWidth+\"px\" : \"0px\";\r\n\t\r\n\t\tif ( footer ) {\r\n\t\t\tdivFooterTable[0].style.width = _fnStringToCss( iOuterWidth );\r\n\t\t\tdivFooterInner[0].style.width = _fnStringToCss( iOuterWidth );\r\n\t\t\tdivFooterInner[0].style[padding] = bScrolling ? barWidth+\"px\" : \"0px\";\r\n\t\t}\r\n\t\r\n\t\t/* Adjust the position of the header in case we loose the y-scrollbar */\r\n\t\tdivBody.scroll();\r\n\t\r\n\t\t// If sorting or filtering has occurred, jump the scrolling back to the top\r\n\t\t// only if we aren't holding the position\r\n\t\tif ( (settings.bSorted || settings.bFiltered) && ! settings._drawHold ) {\r\n\t\t\tdivBodyEl.scrollTop = 0;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Apply a given function to the display child nodes of an element array (typically\r\n\t * TD children of TR rows\r\n\t *  @param {function} fn Method to apply to the objects\r\n\t *  @param array {nodes} an1 List of elements to look through for display children\r\n\t *  @param array {nodes} an2 Another list (identical structure to the first) - optional\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnApplyToChildren( fn, an1, an2 )\r\n\t{\r\n\t\tvar index=0, i=0, iLen=an1.length;\r\n\t\tvar nNode1, nNode2;\r\n\t\r\n\t\twhile ( i < iLen ) {\r\n\t\t\tnNode1 = an1[i].firstChild;\r\n\t\t\tnNode2 = an2 ? an2[i].firstChild : null;\r\n\t\r\n\t\t\twhile ( nNode1 ) {\r\n\t\t\t\tif ( nNode1.nodeType === 1 ) {\r\n\t\t\t\t\tif ( an2 ) {\r\n\t\t\t\t\t\tfn( nNode1, nNode2, index );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tfn( nNode1, index );\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tindex++;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tnNode1 = nNode1.nextSibling;\r\n\t\t\t\tnNode2 = an2 ? nNode2.nextSibling : null;\r\n\t\t\t}\r\n\t\r\n\t\t\ti++;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tvar __re_html_remove = /<.*?>/g;\r\n\t\r\n\t\r\n\t/**\r\n\t * Calculate the width of columns for the table\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnCalculateColumnWidths ( oSettings )\r\n\t{\r\n\t\tvar\r\n\t\t\ttable = oSettings.nTable,\r\n\t\t\tcolumns = oSettings.aoColumns,\r\n\t\t\tscroll = oSettings.oScroll,\r\n\t\t\tscrollY = scroll.sY,\r\n\t\t\tscrollX = scroll.sX,\r\n\t\t\tscrollXInner = scroll.sXInner,\r\n\t\t\tcolumnCount = columns.length,\r\n\t\t\tvisibleColumns = _fnGetColumns( oSettings, 'bVisible' ),\r\n\t\t\theaderCells = $('th', oSettings.nTHead),\r\n\t\t\ttableWidthAttr = table.getAttribute('width'),\r\n\t\t\ttableContainer = table.parentNode,\r\n\t\t\tuserInputs = false,\r\n\t\t\ti, column, columnIdx, width, outerWidth;\r\n\t\r\n\t\t/* Convert any user input sizes into pixel sizes */\r\n\t\tfor ( i=0 ; i<visibleColumns.length ; i++ ) {\r\n\t\t\tcolumn = columns[ visibleColumns[i] ];\r\n\t\r\n\t\t\tif ( column.sWidth !== null ) {\r\n\t\t\t\tcolumn.sWidth = _fnConvertToWidth( column.sWidthOrig, tableContainer );\r\n\t\r\n\t\t\t\tuserInputs = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t/* If the number of columns in the DOM equals the number that we have to\r\n\t\t * process in DataTables, then we can use the offsets that are created by\r\n\t\t * the web- browser. No custom sizes can be set in order for this to happen,\r\n\t\t * nor scrolling used\r\n\t\t */\r\n\t\tif ( ! userInputs && ! scrollX && ! scrollY &&\r\n\t\t    columnCount == _fnVisbleColumns( oSettings ) &&\r\n\t\t\tcolumnCount == headerCells.length\r\n\t\t) {\r\n\t\t\tfor ( i=0 ; i<columnCount ; i++ ) {\r\n\t\t\t\tcolumns[i].sWidth = _fnStringToCss( headerCells.eq(i).width() );\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// Otherwise construct a single row table with the widest node in the\r\n\t\t\t// data, assign any user defined widths, then insert it into the DOM and\r\n\t\t\t// allow the browser to do all the hard work of calculating table widths\r\n\t\t\tvar tmpTable = $(table).clone() // don't use cloneNode - IE8 will remove events on the main table\r\n\t\t\t\t.empty()\r\n\t\t\t\t.css( 'visibility', 'hidden' )\r\n\t\t\t\t.removeAttr( 'id' )\r\n\t\t\t\t.append( $(oSettings.nTHead).clone( false ) )\r\n\t\t\t\t.append( $(oSettings.nTFoot).clone( false ) )\r\n\t\t\t\t.append( $('<tbody><tr/></tbody>') );\r\n\t\r\n\t\t\t// Remove any assigned widths from the footer (from scrolling)\r\n\t\t\ttmpTable.find('tfoot th, tfoot td').css('width', '');\r\n\t\r\n\t\t\tvar tr = tmpTable.find( 'tbody tr' );\r\n\t\r\n\t\t\t// Apply custom sizing to the cloned header\r\n\t\t\theaderCells = _fnGetUniqueThs( oSettings, tmpTable.find('thead')[0] );\r\n\t\r\n\t\t\tfor ( i=0 ; i<visibleColumns.length ; i++ ) {\r\n\t\t\t\tcolumn = columns[ visibleColumns[i] ];\r\n\t\r\n\t\t\t\theaderCells[i].style.width = column.sWidthOrig !== null && column.sWidthOrig !== '' ?\r\n\t\t\t\t\t_fnStringToCss( column.sWidthOrig ) :\r\n\t\t\t\t\t'';\r\n\t\t\t}\r\n\t\r\n\t\t\t// Find the widest cell for each column and put it into the table\r\n\t\t\tif ( oSettings.aoData.length ) {\r\n\t\t\t\tfor ( i=0 ; i<visibleColumns.length ; i++ ) {\r\n\t\t\t\t\tcolumnIdx = visibleColumns[i];\r\n\t\t\t\t\tcolumn = columns[ columnIdx ];\r\n\t\r\n\t\t\t\t\t$( _fnGetWidestNode( oSettings, columnIdx ) )\r\n\t\t\t\t\t\t.clone( false )\r\n\t\t\t\t\t\t.append( column.sContentPadding )\r\n\t\t\t\t\t\t.appendTo( tr );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t// Table has been built, attach to the document so we can work with it\r\n\t\t\ttmpTable.appendTo( tableContainer );\r\n\t\r\n\t\t\t// When scrolling (X or Y) we want to set the width of the table as \r\n\t\t\t// appropriate. However, when not scrolling leave the table width as it\r\n\t\t\t// is. This results in slightly different, but I think correct behaviour\r\n\t\t\tif ( scrollX && scrollXInner ) {\r\n\t\t\t\ttmpTable.width( scrollXInner );\r\n\t\t\t}\r\n\t\t\telse if ( scrollX ) {\r\n\t\t\t\ttmpTable.css( 'width', 'auto' );\r\n\t\r\n\t\t\t\tif ( tmpTable.width() < tableContainer.offsetWidth ) {\r\n\t\t\t\t\ttmpTable.width( tableContainer.offsetWidth );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if ( scrollY ) {\r\n\t\t\t\ttmpTable.width( tableContainer.offsetWidth );\r\n\t\t\t}\r\n\t\t\telse if ( tableWidthAttr ) {\r\n\t\t\t\ttmpTable.width( tableWidthAttr );\r\n\t\t\t}\r\n\t\r\n\t\t\t// Take into account the y scrollbar\r\n\t\t\t_fnScrollingWidthAdjust( oSettings, tmpTable[0] );\r\n\t\r\n\t\t\t// Browsers need a bit of a hand when a width is assigned to any columns\r\n\t\t\t// when x-scrolling as they tend to collapse the table to the min-width,\r\n\t\t\t// even if we sent the column widths. So we need to keep track of what\r\n\t\t\t// the table width should be by summing the user given values, and the\r\n\t\t\t// automatic values\r\n\t\t\tif ( scrollX )\r\n\t\t\t{\r\n\t\t\t\tvar total = 0;\r\n\t\r\n\t\t\t\tfor ( i=0 ; i<visibleColumns.length ; i++ ) {\r\n\t\t\t\t\tcolumn = columns[ visibleColumns[i] ];\r\n\t\t\t\t\touterWidth = $(headerCells[i]).outerWidth();\r\n\t\r\n\t\t\t\t\ttotal += column.sWidthOrig === null ?\r\n\t\t\t\t\t\touterWidth :\r\n\t\t\t\t\t\tparseInt( column.sWidth, 10 ) + outerWidth - $(headerCells[i]).width();\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\ttmpTable.width( _fnStringToCss( total ) );\r\n\t\t\t\ttable.style.width = _fnStringToCss( total );\r\n\t\t\t}\r\n\t\r\n\t\t\t// Get the width of each column in the constructed table\r\n\t\t\tfor ( i=0 ; i<visibleColumns.length ; i++ ) {\r\n\t\t\t\tcolumn = columns[ visibleColumns[i] ];\r\n\t\t\t\twidth = $(headerCells[i]).width();\r\n\t\r\n\t\t\t\tif ( width ) {\r\n\t\t\t\t\tcolumn.sWidth = _fnStringToCss( width );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\ttable.style.width = _fnStringToCss( tmpTable.css('width') );\r\n\t\r\n\t\t\t// Finished with the table - ditch it\r\n\t\t\ttmpTable.remove();\r\n\t\t}\r\n\t\r\n\t\t// If there is a width attr, we want to attach an event listener which\r\n\t\t// allows the table sizing to automatically adjust when the window is\r\n\t\t// resized. Use the width attr rather than CSS, since we can't know if the\r\n\t\t// CSS is a relative value or absolute - DOM read is always px.\r\n\t\tif ( tableWidthAttr ) {\r\n\t\t\ttable.style.width = _fnStringToCss( tableWidthAttr );\r\n\t\t}\r\n\t\r\n\t\tif ( (tableWidthAttr || scrollX) && ! oSettings._reszEvt ) {\r\n\t\t\t$(window).bind('resize.DT-'+oSettings.sInstance, _fnThrottle( function () {\r\n\t\t\t\t_fnAdjustColumnSizing( oSettings );\r\n\t\t\t} ) );\r\n\t\r\n\t\t\toSettings._reszEvt = true;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Throttle the calls to a function. Arguments and context are maintained for\r\n\t * the throttled function\r\n\t *  @param {function} fn Function to be called\r\n\t *  @param {int} [freq=200] call frequency in mS\r\n\t *  @returns {function} wrapped function\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnThrottle( fn, freq ) {\r\n\t\tvar\r\n\t\t\tfrequency = freq || 200,\r\n\t\t\tlast,\r\n\t\t\ttimer;\r\n\t\r\n\t\treturn function () {\r\n\t\t\tvar\r\n\t\t\t\tthat = this,\r\n\t\t\t\tnow  = +new Date(),\r\n\t\t\t\targs = arguments;\r\n\t\r\n\t\t\tif ( last && now < last + frequency ) {\r\n\t\t\t\tclearTimeout( timer );\r\n\t\r\n\t\t\t\ttimer = setTimeout( function () {\r\n\t\t\t\t\tlast = undefined;\r\n\t\t\t\t\tfn.apply( that, args );\r\n\t\t\t\t}, frequency );\r\n\t\t\t}\r\n\t\t\telse if ( last ) {\r\n\t\t\t\tlast = now;\r\n\t\t\t\tfn.apply( that, args );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlast = now;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Convert a CSS unit width to pixels (e.g. 2em)\r\n\t *  @param {string} width width to be converted\r\n\t *  @param {node} parent parent to get the with for (required for relative widths) - optional\r\n\t *  @returns {int} width in pixels\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnConvertToWidth ( width, parent )\r\n\t{\r\n\t\tif ( ! width ) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\r\n\t\tvar n = $('<div/>')\r\n\t\t\t.css( 'width', _fnStringToCss( width ) )\r\n\t\t\t.appendTo( parent || document.body );\r\n\t\r\n\t\tvar val = n[0].offsetWidth;\r\n\t\tn.remove();\r\n\t\r\n\t\treturn val;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Adjust a table's width to take account of vertical scroll bar\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {node} n table node\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\t\r\n\tfunction _fnScrollingWidthAdjust ( settings, n )\r\n\t{\r\n\t\tvar scroll = settings.oScroll;\r\n\t\r\n\t\tif ( scroll.sX || scroll.sY ) {\r\n\t\t\t// When y-scrolling only, we want to remove the width of the scroll bar\r\n\t\t\t// so the table + scroll bar will fit into the area available, otherwise\r\n\t\t\t// we fix the table at its current size with no adjustment\r\n\t\t\tvar correction = ! scroll.sX ? scroll.iBarWidth : 0;\r\n\t\t\tn.style.width = _fnStringToCss( $(n).outerWidth() - correction );\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Get the widest node\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @param {int} colIdx column of interest\r\n\t *  @returns {node} widest table node\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnGetWidestNode( settings, colIdx )\r\n\t{\r\n\t\tvar idx = _fnGetMaxLenString( settings, colIdx );\r\n\t\tif ( idx < 0 ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\r\n\t\tvar data = settings.aoData[ idx ];\r\n\t\treturn ! data.nTr ? // Might not have been created when deferred rendering\r\n\t\t\t$('<td/>').html( _fnGetCellData( settings, idx, colIdx, 'display' ) )[0] :\r\n\t\t\tdata.anCells[ colIdx ];\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Get the maximum strlen for each data column\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @param {int} colIdx column of interest\r\n\t *  @returns {string} max string length for each column\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnGetMaxLenString( settings, colIdx )\r\n\t{\r\n\t\tvar s, max=-1, maxIdx = -1;\r\n\t\r\n\t\tfor ( var i=0, ien=settings.aoData.length ; i<ien ; i++ ) {\r\n\t\t\ts = _fnGetCellData( settings, i, colIdx, 'display' )+'';\r\n\t\t\ts = s.replace( __re_html_remove, '' );\r\n\t\r\n\t\t\tif ( s.length > max ) {\r\n\t\t\t\tmax = s.length;\r\n\t\t\t\tmaxIdx = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\treturn maxIdx;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Append a CSS unit (only if required) to a string\r\n\t *  @param {string} value to css-ify\r\n\t *  @returns {string} value with css unit\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnStringToCss( s )\r\n\t{\r\n\t\tif ( s === null ) {\r\n\t\t\treturn '0px';\r\n\t\t}\r\n\t\r\n\t\tif ( typeof s == 'number' ) {\r\n\t\t\treturn s < 0 ?\r\n\t\t\t\t'0px' :\r\n\t\t\t\ts+'px';\r\n\t\t}\r\n\t\r\n\t\t// Check it has a unit character already\r\n\t\treturn s.match(/\\d$/) ?\r\n\t\t\ts+'px' :\r\n\t\t\ts;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Get the width of a scroll bar in this browser being used\r\n\t *  @returns {int} width in pixels\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnScrollBarWidth ()\r\n\t{\r\n\t\t// On first run a static variable is set, since this is only needed once.\r\n\t\t// Subsequent runs will just use the previously calculated value\r\n\t\tif ( ! DataTable.__scrollbarWidth ) {\r\n\t\t\tvar inner = $('<p/>').css( {\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\theight: 200,\r\n\t\t\t\tpadding: 0\r\n\t\t\t} )[0];\r\n\t\r\n\t\t\tvar outer = $('<div/>')\r\n\t\t\t\t.css( {\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\twidth: 200,\r\n\t\t\t\t\theight: 150,\r\n\t\t\t\t\tpadding: 0,\r\n\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\tvisibility: 'hidden'\r\n\t\t\t\t} )\r\n\t\t\t\t.append( inner )\r\n\t\t\t\t.appendTo( 'body' );\r\n\t\r\n\t\t\tvar w1 = inner.offsetWidth;\r\n\t\t\touter.css( 'overflow', 'scroll' );\r\n\t\t\tvar w2 = inner.offsetWidth;\r\n\t\r\n\t\t\tif ( w1 === w2 ) {\r\n\t\t\t\tw2 = outer[0].clientWidth;\r\n\t\t\t}\r\n\t\r\n\t\t\touter.remove();\r\n\t\r\n\t\t\tDataTable.__scrollbarWidth = w1 - w2;\r\n\t\t}\r\n\t\r\n\t\treturn DataTable.__scrollbarWidth;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tfunction _fnSortFlatten ( settings )\r\n\t{\r\n\t\tvar\r\n\t\t\ti, iLen, k, kLen,\r\n\t\t\taSort = [],\r\n\t\t\taiOrig = [],\r\n\t\t\taoColumns = settings.aoColumns,\r\n\t\t\taDataSort, iCol, sType, srcCol,\r\n\t\t\tfixed = settings.aaSortingFixed,\r\n\t\t\tfixedObj = $.isPlainObject( fixed ),\r\n\t\t\tnestedSort = [],\r\n\t\t\tadd = function ( a ) {\r\n\t\t\t\tif ( a.length && ! $.isArray( a[0] ) ) {\r\n\t\t\t\t\t// 1D array\r\n\t\t\t\t\tnestedSort.push( a );\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// 2D array\r\n\t\t\t\t\tnestedSort.push.apply( nestedSort, a );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\r\n\t\t// Build the sort array, with pre-fix and post-fix options if they have been\r\n\t\t// specified\r\n\t\tif ( $.isArray( fixed ) ) {\r\n\t\t\tadd( fixed );\r\n\t\t}\r\n\t\r\n\t\tif ( fixedObj && fixed.pre ) {\r\n\t\t\tadd( fixed.pre );\r\n\t\t}\r\n\t\r\n\t\tadd( settings.aaSorting );\r\n\t\r\n\t\tif (fixedObj && fixed.post ) {\r\n\t\t\tadd( fixed.post );\r\n\t\t}\r\n\t\r\n\t\tfor ( i=0 ; i<nestedSort.length ; i++ )\r\n\t\t{\r\n\t\t\tsrcCol = nestedSort[i][0];\r\n\t\t\taDataSort = aoColumns[ srcCol ].aDataSort;\r\n\t\r\n\t\t\tfor ( k=0, kLen=aDataSort.length ; k<kLen ; k++ )\r\n\t\t\t{\r\n\t\t\t\tiCol = aDataSort[k];\r\n\t\t\t\tsType = aoColumns[ iCol ].sType || 'string';\r\n\t\r\n\t\t\t\taSort.push( {\r\n\t\t\t\t\tsrc:       srcCol,\r\n\t\t\t\t\tcol:       iCol,\r\n\t\t\t\t\tdir:       nestedSort[i][1],\r\n\t\t\t\t\tindex:     nestedSort[i][2],\r\n\t\t\t\t\ttype:      sType,\r\n\t\t\t\t\tformatter: DataTable.ext.type.order[ sType+\"-pre\" ]\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\treturn aSort;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Change the order of the table\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t *  @todo This really needs split up!\r\n\t */\r\n\tfunction _fnSort ( oSettings )\r\n\t{\r\n\t\tvar\r\n\t\t\ti, ien, iLen, j, jLen, k, kLen,\r\n\t\t\tsDataType, nTh,\r\n\t\t\taiOrig = [],\r\n\t\t\toExtSort = DataTable.ext.type.order,\r\n\t\t\taoData = oSettings.aoData,\r\n\t\t\taoColumns = oSettings.aoColumns,\r\n\t\t\taDataSort, data, iCol, sType, oSort,\r\n\t\t\tformatters = 0,\r\n\t\t\tsortCol,\r\n\t\t\tdisplayMaster = oSettings.aiDisplayMaster,\r\n\t\t\taSort;\r\n\t\r\n\t\t// Resolve any column types that are unknown due to addition or invalidation\r\n\t\t// @todo Can this be moved into a 'data-ready' handler which is called when\r\n\t\t//   data is going to be used in the table?\r\n\t\t_fnColumnTypes( oSettings );\r\n\t\r\n\t\taSort = _fnSortFlatten( oSettings );\r\n\t\r\n\t\tfor ( i=0, ien=aSort.length ; i<ien ; i++ ) {\r\n\t\t\tsortCol = aSort[i];\r\n\t\r\n\t\t\t// Track if we can use the fast sort algorithm\r\n\t\t\tif ( sortCol.formatter ) {\r\n\t\t\t\tformatters++;\r\n\t\t\t}\r\n\t\r\n\t\t\t// Load the data needed for the sort, for each cell\r\n\t\t\t_fnSortData( oSettings, sortCol.col );\r\n\t\t}\r\n\t\r\n\t\t/* No sorting required if server-side or no sorting array */\r\n\t\tif ( _fnDataSource( oSettings ) != 'ssp' && aSort.length !== 0 )\r\n\t\t{\r\n\t\t\t// Create a value - key array of the current row positions such that we can use their\r\n\t\t\t// current position during the sort, if values match, in order to perform stable sorting\r\n\t\t\tfor ( i=0, iLen=displayMaster.length ; i<iLen ; i++ ) {\r\n\t\t\t\taiOrig[ displayMaster[i] ] = i;\r\n\t\t\t}\r\n\t\r\n\t\t\t/* Do the sort - here we want multi-column sorting based on a given data source (column)\r\n\t\t\t * and sorting function (from oSort) in a certain direction. It's reasonably complex to\r\n\t\t\t * follow on it's own, but this is what we want (example two column sorting):\r\n\t\t\t *  fnLocalSorting = function(a,b){\r\n\t\t\t *    var iTest;\r\n\t\t\t *    iTest = oSort['string-asc']('data11', 'data12');\r\n\t\t\t *      if (iTest !== 0)\r\n\t\t\t *        return iTest;\r\n\t\t\t *    iTest = oSort['numeric-desc']('data21', 'data22');\r\n\t\t\t *    if (iTest !== 0)\r\n\t\t\t *      return iTest;\r\n\t\t\t *    return oSort['numeric-asc']( aiOrig[a], aiOrig[b] );\r\n\t\t\t *  }\r\n\t\t\t * Basically we have a test for each sorting column, if the data in that column is equal,\r\n\t\t\t * test the next column. If all columns match, then we use a numeric sort on the row\r\n\t\t\t * positions in the original data array to provide a stable sort.\r\n\t\t\t *\r\n\t\t\t * Note - I know it seems excessive to have two sorting methods, but the first is around\r\n\t\t\t * 15% faster, so the second is only maintained for backwards compatibility with sorting\r\n\t\t\t * methods which do not have a pre-sort formatting function.\r\n\t\t\t */\r\n\t\t\tif ( formatters === aSort.length ) {\r\n\t\t\t\t// All sort types have formatting functions\r\n\t\t\t\tdisplayMaster.sort( function ( a, b ) {\r\n\t\t\t\t\tvar\r\n\t\t\t\t\t\tx, y, k, test, sort,\r\n\t\t\t\t\t\tlen=aSort.length,\r\n\t\t\t\t\t\tdataA = aoData[a]._aSortData,\r\n\t\t\t\t\t\tdataB = aoData[b]._aSortData;\r\n\t\r\n\t\t\t\t\tfor ( k=0 ; k<len ; k++ ) {\r\n\t\t\t\t\t\tsort = aSort[k];\r\n\t\r\n\t\t\t\t\t\tx = dataA[ sort.col ];\r\n\t\t\t\t\t\ty = dataB[ sort.col ];\r\n\t\r\n\t\t\t\t\t\ttest = x<y ? -1 : x>y ? 1 : 0;\r\n\t\t\t\t\t\tif ( test !== 0 ) {\r\n\t\t\t\t\t\t\treturn sort.dir === 'asc' ? test : -test;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tx = aiOrig[a];\r\n\t\t\t\t\ty = aiOrig[b];\r\n\t\t\t\t\treturn x<y ? -1 : x>y ? 1 : 0;\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// Depreciated - remove in 1.11 (providing a plug-in option)\r\n\t\t\t\t// Not all sort types have formatting methods, so we have to call their sorting\r\n\t\t\t\t// methods.\r\n\t\t\t\tdisplayMaster.sort( function ( a, b ) {\r\n\t\t\t\t\tvar\r\n\t\t\t\t\t\tx, y, k, l, test, sort, fn,\r\n\t\t\t\t\t\tlen=aSort.length,\r\n\t\t\t\t\t\tdataA = aoData[a]._aSortData,\r\n\t\t\t\t\t\tdataB = aoData[b]._aSortData;\r\n\t\r\n\t\t\t\t\tfor ( k=0 ; k<len ; k++ ) {\r\n\t\t\t\t\t\tsort = aSort[k];\r\n\t\r\n\t\t\t\t\t\tx = dataA[ sort.col ];\r\n\t\t\t\t\t\ty = dataB[ sort.col ];\r\n\t\r\n\t\t\t\t\t\tfn = oExtSort[ sort.type+\"-\"+sort.dir ] || oExtSort[ \"string-\"+sort.dir ];\r\n\t\t\t\t\t\ttest = fn( x, y );\r\n\t\t\t\t\t\tif ( test !== 0 ) {\r\n\t\t\t\t\t\t\treturn test;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tx = aiOrig[a];\r\n\t\t\t\t\ty = aiOrig[b];\r\n\t\t\t\t\treturn x<y ? -1 : x>y ? 1 : 0;\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t/* Tell the draw function that we have sorted the data */\r\n\t\toSettings.bSorted = true;\r\n\t}\r\n\t\r\n\t\r\n\tfunction _fnSortAria ( settings )\r\n\t{\r\n\t\tvar label;\r\n\t\tvar nextSort;\r\n\t\tvar columns = settings.aoColumns;\r\n\t\tvar aSort = _fnSortFlatten( settings );\r\n\t\tvar oAria = settings.oLanguage.oAria;\r\n\t\r\n\t\t// ARIA attributes - need to loop all columns, to update all (removing old\r\n\t\t// attributes as needed)\r\n\t\tfor ( var i=0, iLen=columns.length ; i<iLen ; i++ )\r\n\t\t{\r\n\t\t\tvar col = columns[i];\r\n\t\t\tvar asSorting = col.asSorting;\r\n\t\t\tvar sTitle = col.sTitle.replace( /<.*?>/g, \"\" );\r\n\t\t\tvar th = col.nTh;\r\n\t\r\n\t\t\t// IE7 is throwing an error when setting these properties with jQuery's\r\n\t\t\t// attr() and removeAttr() methods...\r\n\t\t\tth.removeAttribute('aria-sort');\r\n\t\r\n\t\t\t/* In ARIA only the first sorting column can be marked as sorting - no multi-sort option */\r\n\t\t\tif ( col.bSortable ) {\r\n\t\t\t\tif ( aSort.length > 0 && aSort[0].col == i ) {\r\n\t\t\t\t\tth.setAttribute('aria-sort', aSort[0].dir==\"asc\" ? \"ascending\" : \"descending\" );\r\n\t\t\t\t\tnextSort = asSorting[ aSort[0].index+1 ] || asSorting[0];\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tnextSort = asSorting[0];\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tlabel = sTitle + ( nextSort === \"asc\" ?\r\n\t\t\t\t\toAria.sSortAscending :\r\n\t\t\t\t\toAria.sSortDescending\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlabel = sTitle;\r\n\t\t\t}\r\n\t\r\n\t\t\tth.setAttribute('aria-label', label);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Function to run on user sort request\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @param {node} attachTo node to attach the handler to\r\n\t *  @param {int} colIdx column sorting index\r\n\t *  @param {boolean} [append=false] Append the requested sort to the existing\r\n\t *    sort if true (i.e. multi-column sort)\r\n\t *  @param {function} [callback] callback function\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnSortListener ( settings, colIdx, append, callback )\r\n\t{\r\n\t\tvar col = settings.aoColumns[ colIdx ];\r\n\t\tvar sorting = settings.aaSorting;\r\n\t\tvar asSorting = col.asSorting;\r\n\t\tvar nextSortIdx;\r\n\t\tvar next = function ( a ) {\r\n\t\t\tvar idx = a._idx;\r\n\t\t\tif ( idx === undefined ) {\r\n\t\t\t\tidx = $.inArray( a[1], asSorting );\r\n\t\t\t}\r\n\t\r\n\t\t\treturn idx+1 >= asSorting.length ? 0 : idx+1;\r\n\t\t};\r\n\t\r\n\t\t// Convert to 2D array if needed\r\n\t\tif ( typeof sorting[0] === 'number' ) {\r\n\t\t\tsorting = settings.aaSorting = [ sorting ];\r\n\t\t}\r\n\t\r\n\t\t// If appending the sort then we are multi-column sorting\r\n\t\tif ( append && settings.oFeatures.bSortMulti ) {\r\n\t\t\t// Are we already doing some kind of sort on this column?\r\n\t\t\tvar sortIdx = $.inArray( colIdx, _pluck(sorting, '0') );\r\n\t\r\n\t\t\tif ( sortIdx !== -1 ) {\r\n\t\t\t\t// Yes, modify the sort\r\n\t\t\t\tnextSortIdx = next( sorting[sortIdx] );\r\n\t\r\n\t\t\t\tsorting[sortIdx][1] = asSorting[ nextSortIdx ];\r\n\t\t\t\tsorting[sortIdx]._idx = nextSortIdx;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// No sort on this column yet\r\n\t\t\t\tsorting.push( [ colIdx, asSorting[0], 0 ] );\r\n\t\t\t\tsorting[sorting.length-1]._idx = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if ( sorting.length && sorting[0][0] == colIdx ) {\r\n\t\t\t// Single column - already sorting on this column, modify the sort\r\n\t\t\tnextSortIdx = next( sorting[0] );\r\n\t\r\n\t\t\tsorting.length = 1;\r\n\t\t\tsorting[0][1] = asSorting[ nextSortIdx ];\r\n\t\t\tsorting[0]._idx = nextSortIdx;\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Single column - sort only on this column\r\n\t\t\tsorting.length = 0;\r\n\t\t\tsorting.push( [ colIdx, asSorting[0] ] );\r\n\t\t\tsorting[0]._idx = 0;\r\n\t\t}\r\n\t\r\n\t\t// Run the sort by calling a full redraw\r\n\t\t_fnReDraw( settings );\r\n\t\r\n\t\t// callback used for async user interaction\r\n\t\tif ( typeof callback == 'function' ) {\r\n\t\t\tcallback( settings );\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Attach a sort handler (click) to a node\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @param {node} attachTo node to attach the handler to\r\n\t *  @param {int} colIdx column sorting index\r\n\t *  @param {function} [callback] callback function\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnSortAttachListener ( settings, attachTo, colIdx, callback )\r\n\t{\r\n\t\tvar col = settings.aoColumns[ colIdx ];\r\n\t\r\n\t\t_fnBindAction( attachTo, {}, function (e) {\r\n\t\t\t/* If the column is not sortable - don't to anything */\r\n\t\t\tif ( col.bSortable === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\r\n\t\t\t// If processing is enabled use a timeout to allow the processing\r\n\t\t\t// display to be shown - otherwise to it synchronously\r\n\t\t\tif ( settings.oFeatures.bProcessing ) {\r\n\t\t\t\t_fnProcessingDisplay( settings, true );\r\n\t\r\n\t\t\t\tsetTimeout( function() {\r\n\t\t\t\t\t_fnSortListener( settings, colIdx, e.shiftKey, callback );\r\n\t\r\n\t\t\t\t\t// In server-side processing, the draw callback will remove the\r\n\t\t\t\t\t// processing display\r\n\t\t\t\t\tif ( _fnDataSource( settings ) !== 'ssp' ) {\r\n\t\t\t\t\t\t_fnProcessingDisplay( settings, false );\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 0 );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t_fnSortListener( settings, colIdx, e.shiftKey, callback );\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Set the sorting classes on table's body, Note: it is safe to call this function\r\n\t * when bSort and bSortClasses are false\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnSortingClasses( settings )\r\n\t{\r\n\t\tvar oldSort = settings.aLastSort;\r\n\t\tvar sortClass = settings.oClasses.sSortColumn;\r\n\t\tvar sort = _fnSortFlatten( settings );\r\n\t\tvar features = settings.oFeatures;\r\n\t\tvar i, ien, colIdx;\r\n\t\r\n\t\tif ( features.bSort && features.bSortClasses ) {\r\n\t\t\t// Remove old sorting classes\r\n\t\t\tfor ( i=0, ien=oldSort.length ; i<ien ; i++ ) {\r\n\t\t\t\tcolIdx = oldSort[i].src;\r\n\t\r\n\t\t\t\t// Remove column sorting\r\n\t\t\t\t$( _pluck( settings.aoData, 'anCells', colIdx ) )\r\n\t\t\t\t\t.removeClass( sortClass + (i<2 ? i+1 : 3) );\r\n\t\t\t}\r\n\t\r\n\t\t\t// Add new column sorting\r\n\t\t\tfor ( i=0, ien=sort.length ; i<ien ; i++ ) {\r\n\t\t\t\tcolIdx = sort[i].src;\r\n\t\r\n\t\t\t\t$( _pluck( settings.aoData, 'anCells', colIdx ) )\r\n\t\t\t\t\t.addClass( sortClass + (i<2 ? i+1 : 3) );\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tsettings.aLastSort = sort;\r\n\t}\r\n\t\r\n\t\r\n\t// Get the data to sort a column, be it from cache, fresh (populating the\r\n\t// cache), or from a sort formatter\r\n\tfunction _fnSortData( settings, idx )\r\n\t{\r\n\t\t// Custom sorting function - provided by the sort data type\r\n\t\tvar column = settings.aoColumns[ idx ];\r\n\t\tvar customSort = DataTable.ext.order[ column.sSortDataType ];\r\n\t\tvar customData;\r\n\t\r\n\t\tif ( customSort ) {\r\n\t\t\tcustomData = customSort.call( settings.oInstance, settings, idx,\r\n\t\t\t\t_fnColumnIndexToVisible( settings, idx )\r\n\t\t\t);\r\n\t\t}\r\n\t\r\n\t\t// Use / populate cache\r\n\t\tvar row, cellData;\r\n\t\tvar formatter = DataTable.ext.type.order[ column.sType+\"-pre\" ];\r\n\t\r\n\t\tfor ( var i=0, ien=settings.aoData.length ; i<ien ; i++ ) {\r\n\t\t\trow = settings.aoData[i];\r\n\t\r\n\t\t\tif ( ! row._aSortData ) {\r\n\t\t\t\trow._aSortData = [];\r\n\t\t\t}\r\n\t\r\n\t\t\tif ( ! row._aSortData[idx] || customSort ) {\r\n\t\t\t\tcellData = customSort ?\r\n\t\t\t\t\tcustomData[i] : // If there was a custom sort function, use data from there\r\n\t\t\t\t\t_fnGetCellData( settings, i, idx, 'sort' );\r\n\t\r\n\t\t\t\trow._aSortData[ idx ] = formatter ?\r\n\t\t\t\t\tformatter( cellData ) :\r\n\t\t\t\t\tcellData;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Save the state of a table\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnSaveState ( settings )\r\n\t{\r\n\t\tif ( !settings.oFeatures.bStateSave || settings.bDestroying )\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t/* Store the interesting variables */\r\n\t\tvar state = {\r\n\t\t\ttime:    +new Date(),\r\n\t\t\tstart:   settings._iDisplayStart,\r\n\t\t\tlength:  settings._iDisplayLength,\r\n\t\t\torder:   $.extend( true, [], settings.aaSorting ),\r\n\t\t\tsearch:  _fnSearchToCamel( settings.oPreviousSearch ),\r\n\t\t\tcolumns: $.map( settings.aoColumns, function ( col, i ) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvisible: col.bVisible,\r\n\t\t\t\t\tsearch: _fnSearchToCamel( settings.aoPreSearchCols[i] )\r\n\t\t\t\t};\r\n\t\t\t} )\r\n\t\t};\r\n\t\r\n\t\t_fnCallbackFire( settings, \"aoStateSaveParams\", 'stateSaveParams', [settings, state] );\r\n\t\r\n\t\tsettings.oSavedState = state;\r\n\t\tsettings.fnStateSaveCallback.call( settings.oInstance, settings, state );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Attempt to load a saved table state\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {object} oInit DataTables init object so we can override settings\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnLoadState ( settings, oInit )\r\n\t{\r\n\t\tvar i, ien;\r\n\t\tvar columns = settings.aoColumns;\r\n\t\r\n\t\tif ( ! settings.oFeatures.bStateSave ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tvar state = settings.fnStateLoadCallback.call( settings.oInstance, settings );\r\n\t\tif ( ! state || ! state.time ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t/* Allow custom and plug-in manipulation functions to alter the saved data set and\r\n\t\t * cancelling of loading by returning false\r\n\t\t */\r\n\t\tvar abStateLoad = _fnCallbackFire( settings, 'aoStateLoadParams', 'stateLoadParams', [settings, state] );\r\n\t\tif ( $.inArray( false, abStateLoad ) !== -1 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t/* Reject old data */\r\n\t\tvar duration = settings.iStateDuration;\r\n\t\tif ( duration > 0 && state.time < +new Date() - (duration*1000) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t// Number of columns have changed - all bets are off, no restore of settings\r\n\t\tif ( columns.length !== state.columns.length ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t// Store the saved state so it might be accessed at any time\r\n\t\tsettings.oLoadedState = $.extend( true, {}, state );\r\n\t\r\n\t\t// Restore key features - todo - for 1.11 this needs to be done by\r\n\t\t// subscribed events\r\n\t\tsettings._iDisplayStart    = state.start;\r\n\t\tsettings.iInitDisplayStart = state.start;\r\n\t\tsettings._iDisplayLength   = state.length;\r\n\t\tsettings.aaSorting = [];\r\n\t\r\n\t\t// Order\r\n\t\t$.each( state.order, function ( i, col ) {\r\n\t\t\tsettings.aaSorting.push( col[0] >= columns.length ?\r\n\t\t\t\t[ 0, col[1] ] :\r\n\t\t\t\tcol\r\n\t\t\t);\r\n\t\t} );\r\n\t\r\n\t\t// Search\r\n\t\t$.extend( settings.oPreviousSearch, _fnSearchToHung( state.search ) );\r\n\t\r\n\t\t// Columns\r\n\t\tfor ( i=0, ien=state.columns.length ; i<ien ; i++ ) {\r\n\t\t\tvar col = state.columns[i];\r\n\t\r\n\t\t\t// Visibility\r\n\t\t\tcolumns[i].bVisible = col.visible;\r\n\t\r\n\t\t\t// Search\r\n\t\t\t$.extend( settings.aoPreSearchCols[i], _fnSearchToHung( col.search ) );\r\n\t\t}\r\n\t\r\n\t\t_fnCallbackFire( settings, 'aoStateLoaded', 'stateLoaded', [settings, state] );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Return the settings object for a particular table\r\n\t *  @param {node} table table we are using as a dataTable\r\n\t *  @returns {object} Settings object - or null if not found\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnSettingsFromNode ( table )\r\n\t{\r\n\t\tvar settings = DataTable.settings;\r\n\t\tvar idx = $.inArray( table, _pluck( settings, 'nTable' ) );\r\n\t\r\n\t\treturn idx !== -1 ?\r\n\t\t\tsettings[ idx ] :\r\n\t\t\tnull;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Log an error message\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @param {int} level log error messages, or display them to the user\r\n\t *  @param {string} msg error message\r\n\t *  @param {int} tn Technical note id to get more information about the error.\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnLog( settings, level, msg, tn )\r\n\t{\r\n\t\tmsg = 'DataTables warning: '+\r\n\t\t\t(settings!==null ? 'table id='+settings.sTableId+' - ' : '')+msg;\r\n\t\r\n\t\tif ( tn ) {\r\n\t\t\tmsg += '. For more information about this error, please see '+\r\n\t\t\t'http://datatables.net/tn/'+tn;\r\n\t\t}\r\n\t\r\n\t\tif ( ! level  ) {\r\n\t\t\t// Backwards compatibility pre 1.10\r\n\t\t\tvar ext = DataTable.ext;\r\n\t\t\tvar type = ext.sErrMode || ext.errMode;\r\n\t\r\n\t\t\tif ( type == 'alert' ) {\r\n\t\t\t\talert( msg );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthrow new Error(msg);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if ( window.console && console.log ) {\r\n\t\t\tconsole.log( msg );\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * See if a property is defined on one object, if so assign it to the other object\r\n\t *  @param {object} ret target object\r\n\t *  @param {object} src source object\r\n\t *  @param {string} name property\r\n\t *  @param {string} [mappedName] name to map too - optional, name used if not given\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnMap( ret, src, name, mappedName )\r\n\t{\r\n\t\tif ( $.isArray( name ) ) {\r\n\t\t\t$.each( name, function (i, val) {\r\n\t\t\t\tif ( $.isArray( val ) ) {\r\n\t\t\t\t\t_fnMap( ret, src, val[0], val[1] );\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t_fnMap( ret, src, val );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tif ( mappedName === undefined ) {\r\n\t\t\tmappedName = name;\r\n\t\t}\r\n\t\r\n\t\tif ( src[name] !== undefined ) {\r\n\t\t\tret[mappedName] = src[name];\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Extend objects - very similar to jQuery.extend, but deep copy objects, and\r\n\t * shallow copy arrays. The reason we need to do this, is that we don't want to\r\n\t * deep copy array init values (such as aaSorting) since the dev wouldn't be\r\n\t * able to override them, but we do want to deep copy arrays.\r\n\t *  @param {object} out Object to extend\r\n\t *  @param {object} extender Object from which the properties will be applied to\r\n\t *      out\r\n\t *  @param {boolean} breakRefs If true, then arrays will be sliced to take an\r\n\t *      independent copy with the exception of the `data` or `aaData` parameters\r\n\t *      if they are present. This is so you can pass in a collection to\r\n\t *      DataTables and have that used as your data source without breaking the\r\n\t *      references\r\n\t *  @returns {object} out Reference, just for convenience - out === the return.\r\n\t *  @memberof DataTable#oApi\r\n\t *  @todo This doesn't take account of arrays inside the deep copied objects.\r\n\t */\r\n\tfunction _fnExtend( out, extender, breakRefs )\r\n\t{\r\n\t\tvar val;\r\n\t\r\n\t\tfor ( var prop in extender ) {\r\n\t\t\tif ( extender.hasOwnProperty(prop) ) {\r\n\t\t\t\tval = extender[prop];\r\n\t\r\n\t\t\t\tif ( $.isPlainObject( val ) ) {\r\n\t\t\t\t\tif ( ! $.isPlainObject( out[prop] ) ) {\r\n\t\t\t\t\t\tout[prop] = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$.extend( true, out[prop], val );\r\n\t\t\t\t}\r\n\t\t\t\telse if ( breakRefs && prop !== 'data' && prop !== 'aaData' && $.isArray(val) ) {\r\n\t\t\t\t\tout[prop] = val.slice();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tout[prop] = val;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\treturn out;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Bind an event handers to allow a click or return key to activate the callback.\r\n\t * This is good for accessibility since a return on the keyboard will have the\r\n\t * same effect as a click, if the element has focus.\r\n\t *  @param {element} n Element to bind the action to\r\n\t *  @param {object} oData Data object to pass to the triggered function\r\n\t *  @param {function} fn Callback function for when the event is triggered\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnBindAction( n, oData, fn )\r\n\t{\r\n\t\t$(n)\r\n\t\t\t.bind( 'click.DT', oData, function (e) {\r\n\t\t\t\t\tn.blur(); // Remove focus outline for mouse users\r\n\t\t\t\t\tfn(e);\r\n\t\t\t\t} )\r\n\t\t\t.bind( 'keypress.DT', oData, function (e){\r\n\t\t\t\t\tif ( e.which === 13 ) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tfn(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t} )\r\n\t\t\t.bind( 'selectstart.DT', function () {\r\n\t\t\t\t\t/* Take the brutal approach to cancelling text selection */\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Register a callback function. Easily allows a callback function to be added to\r\n\t * an array store of callback functions that can then all be called together.\r\n\t *  @param {object} oSettings dataTables settings object\r\n\t *  @param {string} sStore Name of the array storage for the callbacks in oSettings\r\n\t *  @param {function} fn Function to be called back\r\n\t *  @param {string} sName Identifying name for the callback (i.e. a label)\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnCallbackReg( oSettings, sStore, fn, sName )\r\n\t{\r\n\t\tif ( fn )\r\n\t\t{\r\n\t\t\toSettings[sStore].push( {\r\n\t\t\t\t\"fn\": fn,\r\n\t\t\t\t\"sName\": sName\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Fire callback functions and trigger events. Note that the loop over the\r\n\t * callback array store is done backwards! Further note that you do not want to\r\n\t * fire off triggers in time sensitive applications (for example cell creation)\r\n\t * as its slow.\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @param {string} callbackArr Name of the array storage for the callbacks in\r\n\t *      oSettings\r\n\t *  @param {string} event Name of the jQuery custom event to trigger. If null no\r\n\t *      trigger is fired\r\n\t *  @param {array} args Array of arguments to pass to the callback function /\r\n\t *      trigger\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnCallbackFire( settings, callbackArr, e, args )\r\n\t{\r\n\t\tvar ret = [];\r\n\t\r\n\t\tif ( callbackArr ) {\r\n\t\t\tret = $.map( settings[callbackArr].slice().reverse(), function (val, i) {\r\n\t\t\t\treturn val.fn.apply( settings.oInstance, args );\r\n\t\t\t} );\r\n\t\t}\r\n\t\r\n\t\tif ( e !== null ) {\r\n\t\t\t$(settings.nTable).trigger( e+'.dt', args );\r\n\t\t}\r\n\t\r\n\t\treturn ret;\r\n\t}\r\n\t\r\n\t\r\n\tfunction _fnLengthOverflow ( settings )\r\n\t{\r\n\t\tvar\r\n\t\t\tstart = settings._iDisplayStart,\r\n\t\t\tend = settings.fnDisplayEnd(),\r\n\t\t\tlen = settings._iDisplayLength;\r\n\t\r\n\t\t/* If we have space to show extra rows (backing up from the end point - then do so */\r\n\t\tif ( end === settings.fnRecordsDisplay() )\r\n\t\t{\r\n\t\t\tstart = end - len;\r\n\t\t}\r\n\t\r\n\t\tif ( len === -1 || start < 0 )\r\n\t\t{\r\n\t\t\tstart = 0;\r\n\t\t}\r\n\t\r\n\t\tsettings._iDisplayStart = start;\r\n\t}\r\n\t\r\n\t\r\n\tfunction _fnRenderer( settings, type )\r\n\t{\r\n\t\tvar renderer = settings.renderer;\r\n\t\tvar host = DataTable.ext.renderer[type];\r\n\t\r\n\t\tif ( $.isPlainObject( renderer ) && renderer[type] ) {\r\n\t\t\t// Specific renderer for this type. If available use it, otherwise use\r\n\t\t\t// the default.\r\n\t\t\treturn host[renderer[type]] || host._;\r\n\t\t}\r\n\t\telse if ( typeof renderer === 'string' ) {\r\n\t\t\t// Common renderer - if there is one available for this type use it,\r\n\t\t\t// otherwise use the default\r\n\t\t\treturn host[renderer] || host._;\r\n\t\t}\r\n\t\r\n\t\t// Use the default\r\n\t\treturn host._;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Detect the data source being used for the table. Used to simplify the code\r\n\t * a little (ajax) and to make it compress a little smaller.\r\n\t *\r\n\t *  @param {object} settings dataTables settings object\r\n\t *  @returns {string} Data source\r\n\t *  @memberof DataTable#oApi\r\n\t */\r\n\tfunction _fnDataSource ( settings )\r\n\t{\r\n\t\tif ( settings.oFeatures.bServerSide ) {\r\n\t\t\treturn 'ssp';\r\n\t\t}\r\n\t\telse if ( settings.ajax || settings.sAjaxSource ) {\r\n\t\t\treturn 'ajax';\r\n\t\t}\r\n\t\treturn 'dom';\r\n\t}\r\n\t\r\n\r\n\tDataTable = function( options )\r\n\t{\r\n\t\t/**\r\n\t\t * Perform a jQuery selector action on the table's TR elements (from the tbody) and\r\n\t\t * return the resulting jQuery object.\r\n\t\t *  @param {string|node|jQuery} sSelector jQuery selector or node collection to act on\r\n\t\t *  @param {object} [oOpts] Optional parameters for modifying the rows to be included\r\n\t\t *  @param {string} [oOpts.filter=none] Select TR elements that meet the current filter\r\n\t\t *    criterion (\"applied\") or all TR elements (i.e. no filter).\r\n\t\t *  @param {string} [oOpts.order=current] Order of the TR elements in the processed array.\r\n\t\t *    Can be either 'current', whereby the current sorting of the table is used, or\r\n\t\t *    'original' whereby the original order the data was read into the table is used.\r\n\t\t *  @param {string} [oOpts.page=all] Limit the selection to the currently displayed page\r\n\t\t *    (\"current\") or not (\"all\"). If 'current' is given, then order is assumed to be\r\n\t\t *    'current' and filter is 'applied', regardless of what they might be given as.\r\n\t\t *  @returns {object} jQuery object, filtered by the given selector.\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *\r\n\t\t *      // Highlight every second row\r\n\t\t *      oTable.$('tr:odd').css('backgroundColor', 'blue');\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *\r\n\t\t *      // Filter to rows with 'Webkit' in them, add a background colour and then\r\n\t\t *      // remove the filter, thus highlighting the 'Webkit' rows only.\r\n\t\t *      oTable.fnFilter('Webkit');\r\n\t\t *      oTable.$('tr', {\"search\": \"applied\"}).css('backgroundColor', 'blue');\r\n\t\t *      oTable.fnFilter('');\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.$ = function ( sSelector, oOpts )\r\n\t\t{\r\n\t\t\treturn this.api(true).$( sSelector, oOpts );\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Almost identical to $ in operation, but in this case returns the data for the matched\r\n\t\t * rows - as such, the jQuery selector used should match TR row nodes or TD/TH cell nodes\r\n\t\t * rather than any descendants, so the data can be obtained for the row/cell. If matching\r\n\t\t * rows are found, the data returned is the original data array/object that was used to\r\n\t\t * create the row (or a generated array if from a DOM source).\r\n\t\t *\r\n\t\t * This method is often useful in-combination with $ where both functions are given the\r\n\t\t * same parameters and the array indexes will match identically.\r\n\t\t *  @param {string|node|jQuery} sSelector jQuery selector or node collection to act on\r\n\t\t *  @param {object} [oOpts] Optional parameters for modifying the rows to be included\r\n\t\t *  @param {string} [oOpts.filter=none] Select elements that meet the current filter\r\n\t\t *    criterion (\"applied\") or all elements (i.e. no filter).\r\n\t\t *  @param {string} [oOpts.order=current] Order of the data in the processed array.\r\n\t\t *    Can be either 'current', whereby the current sorting of the table is used, or\r\n\t\t *    'original' whereby the original order the data was read into the table is used.\r\n\t\t *  @param {string} [oOpts.page=all] Limit the selection to the currently displayed page\r\n\t\t *    (\"current\") or not (\"all\"). If 'current' is given, then order is assumed to be\r\n\t\t *    'current' and filter is 'applied', regardless of what they might be given as.\r\n\t\t *  @returns {array} Data for the matched elements. If any elements, as a result of the\r\n\t\t *    selector, were not TR, TD or TH elements in the DataTable, they will have a null\r\n\t\t *    entry in the array.\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *\r\n\t\t *      // Get the data from the first row in the table\r\n\t\t *      var data = oTable._('tr:first');\r\n\t\t *\r\n\t\t *      // Do something useful with the data\r\n\t\t *      alert( \"First cell is: \"+data[0] );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *\r\n\t\t *      // Filter to 'Webkit' and get all data for\r\n\t\t *      oTable.fnFilter('Webkit');\r\n\t\t *      var data = oTable._('tr', {\"search\": \"applied\"});\r\n\t\t *\r\n\t\t *      // Do something with the data\r\n\t\t *      alert( data.length+\" rows matched the search\" );\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis._ = function ( sSelector, oOpts )\r\n\t\t{\r\n\t\t\treturn this.api(true).rows( sSelector, oOpts ).data();\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Create a DataTables Api instance, with the currently selected tables for\r\n\t\t * the Api's context.\r\n\t\t * @param {boolean} [traditional=false] Set the API instance's context to be\r\n\t\t *   only the table referred to by the `DataTable.ext.iApiIndex` option, as was\r\n\t\t *   used in the API presented by DataTables 1.9- (i.e. the traditional mode),\r\n\t\t *   or if all tables captured in the jQuery object should be used.\r\n\t\t * @return {DataTables.Api}\r\n\t\t */\r\n\t\tthis.api = function ( traditional )\r\n\t\t{\r\n\t\t\treturn traditional ?\r\n\t\t\t\tnew _Api(\r\n\t\t\t\t\t_fnSettingsFromNode( this[ _ext.iApiIndex ] )\r\n\t\t\t\t) :\r\n\t\t\t\tnew _Api( this );\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Add a single new row or multiple rows of data to the table. Please note\r\n\t\t * that this is suitable for client-side processing only - if you are using\r\n\t\t * server-side processing (i.e. \"bServerSide\": true), then to add data, you\r\n\t\t * must add it to the data source, i.e. the server-side, through an Ajax call.\r\n\t\t *  @param {array|object} data The data to be added to the table. This can be:\r\n\t\t *    <ul>\r\n\t\t *      <li>1D array of data - add a single row with the data provided</li>\r\n\t\t *      <li>2D array of arrays - add multiple rows in a single call</li>\r\n\t\t *      <li>object - data object when using <i>mData</i></li>\r\n\t\t *      <li>array of objects - multiple data objects when using <i>mData</i></li>\r\n\t\t *    </ul>\r\n\t\t *  @param {bool} [redraw=true] redraw the table or not\r\n\t\t *  @returns {array} An array of integers, representing the list of indexes in\r\n\t\t *    <i>aoData</i> ({@link DataTable.models.oSettings}) that have been added to\r\n\t\t *    the table.\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Global var for counter\r\n\t\t *    var giCount = 2;\r\n\t\t *\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      $('#example').dataTable();\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *    function fnClickAddRow() {\r\n\t\t *      $('#example').dataTable().fnAddData( [\r\n\t\t *        giCount+\".1\",\r\n\t\t *        giCount+\".2\",\r\n\t\t *        giCount+\".3\",\r\n\t\t *        giCount+\".4\" ]\r\n\t\t *      );\r\n\t\t *\r\n\t\t *      giCount++;\r\n\t\t *    }\r\n\t\t */\r\n\t\tthis.fnAddData = function( data, redraw )\r\n\t\t{\r\n\t\t\tvar api = this.api( true );\r\n\t\t\r\n\t\t\t/* Check if we want to add multiple rows or not */\r\n\t\t\tvar rows = $.isArray(data) && ( $.isArray(data[0]) || $.isPlainObject(data[0]) ) ?\r\n\t\t\t\tapi.rows.add( data ) :\r\n\t\t\t\tapi.row.add( data );\r\n\t\t\r\n\t\t\tif ( redraw === undefined || redraw ) {\r\n\t\t\t\tapi.draw();\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn rows.flatten().toArray();\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * This function will make DataTables recalculate the column sizes, based on the data\r\n\t\t * contained in the table and the sizes applied to the columns (in the DOM, CSS or\r\n\t\t * through the sWidth parameter). This can be useful when the width of the table's\r\n\t\t * parent element changes (for example a window resize).\r\n\t\t *  @param {boolean} [bRedraw=true] Redraw the table or not, you will typically want to\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable( {\r\n\t\t *        \"sScrollY\": \"200px\",\r\n\t\t *        \"bPaginate\": false\r\n\t\t *      } );\r\n\t\t *\r\n\t\t *      $(window).bind('resize', function () {\r\n\t\t *        oTable.fnAdjustColumnSizing();\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnAdjustColumnSizing = function ( bRedraw )\r\n\t\t{\r\n\t\t\tvar api = this.api( true ).columns.adjust();\r\n\t\t\tvar settings = api.settings()[0];\r\n\t\t\tvar scroll = settings.oScroll;\r\n\t\t\r\n\t\t\tif ( bRedraw === undefined || bRedraw ) {\r\n\t\t\t\tapi.draw( false );\r\n\t\t\t}\r\n\t\t\telse if ( scroll.sX !== \"\" || scroll.sY !== \"\" ) {\r\n\t\t\t\t/* If not redrawing, but scrolling, we want to apply the new column sizes anyway */\r\n\t\t\t\t_fnScrollDraw( settings );\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Quickly and simply clear a table\r\n\t\t *  @param {bool} [bRedraw=true] redraw the table or not\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *\r\n\t\t *      // Immediately 'nuke' the current rows (perhaps waiting for an Ajax callback...)\r\n\t\t *      oTable.fnClearTable();\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnClearTable = function( bRedraw )\r\n\t\t{\r\n\t\t\tvar api = this.api( true ).clear();\r\n\t\t\r\n\t\t\tif ( bRedraw === undefined || bRedraw ) {\r\n\t\t\t\tapi.draw();\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * The exact opposite of 'opening' a row, this function will close any rows which\r\n\t\t * are currently 'open'.\r\n\t\t *  @param {node} nTr the table row to 'close'\r\n\t\t *  @returns {int} 0 on success, or 1 if failed (can't find the row)\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable;\r\n\t\t *\r\n\t\t *      // 'open' an information row when a row is clicked on\r\n\t\t *      $('#example tbody tr').click( function () {\r\n\t\t *        if ( oTable.fnIsOpen(this) ) {\r\n\t\t *          oTable.fnClose( this );\r\n\t\t *        } else {\r\n\t\t *          oTable.fnOpen( this, \"Temporary row opened\", \"info_row\" );\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *\r\n\t\t *      oTable = $('#example').dataTable();\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnClose = function( nTr )\r\n\t\t{\r\n\t\t\tthis.api( true ).row( nTr ).child.hide();\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Remove a row for the table\r\n\t\t *  @param {mixed} target The index of the row from aoData to be deleted, or\r\n\t\t *    the TR element you want to delete\r\n\t\t *  @param {function|null} [callBack] Callback function\r\n\t\t *  @param {bool} [redraw=true] Redraw the table or not\r\n\t\t *  @returns {array} The row that was deleted\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *\r\n\t\t *      // Immediately remove the first row\r\n\t\t *      oTable.fnDeleteRow( 0 );\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnDeleteRow = function( target, callback, redraw )\r\n\t\t{\r\n\t\t\tvar api = this.api( true );\r\n\t\t\tvar rows = api.rows( target );\r\n\t\t\tvar settings = rows.settings()[0];\r\n\t\t\tvar data = settings.aoData[ rows[0][0] ];\r\n\t\t\r\n\t\t\trows.remove();\r\n\t\t\r\n\t\t\tif ( callback ) {\r\n\t\t\t\tcallback.call( this, settings, data );\r\n\t\t\t}\r\n\t\t\r\n\t\t\tif ( redraw === undefined || redraw ) {\r\n\t\t\t\tapi.draw();\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn data;\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Restore the table to it's original state in the DOM by removing all of DataTables\r\n\t\t * enhancements, alterations to the DOM structure of the table and event listeners.\r\n\t\t *  @param {boolean} [remove=false] Completely remove the table from the DOM\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      // This example is fairly pointless in reality, but shows how fnDestroy can be used\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *      oTable.fnDestroy();\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnDestroy = function ( remove )\r\n\t\t{\r\n\t\t\tthis.api( true ).destroy( remove );\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Redraw the table\r\n\t\t *  @param {bool} [complete=true] Re-filter and resort (if enabled) the table before the draw.\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *\r\n\t\t *      // Re-draw the table - you wouldn't want to do it here, but it's an example :-)\r\n\t\t *      oTable.fnDraw();\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnDraw = function( complete )\r\n\t\t{\r\n\t\t\t// Note that this isn't an exact match to the old call to _fnDraw - it takes\r\n\t\t\t// into account the new data, but can old position.\r\n\t\t\tthis.api( true ).draw( ! complete );\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Filter the input based on data\r\n\t\t *  @param {string} sInput String to filter the table on\r\n\t\t *  @param {int|null} [iColumn] Column to limit filtering to\r\n\t\t *  @param {bool} [bRegex=false] Treat as regular expression or not\r\n\t\t *  @param {bool} [bSmart=true] Perform smart filtering or not\r\n\t\t *  @param {bool} [bShowGlobal=true] Show the input global filter in it's input box(es)\r\n\t\t *  @param {bool} [bCaseInsensitive=true] Do case-insensitive matching (true) or not (false)\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *\r\n\t\t *      // Sometime later - filter...\r\n\t\t *      oTable.fnFilter( 'test string' );\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnFilter = function( sInput, iColumn, bRegex, bSmart, bShowGlobal, bCaseInsensitive )\r\n\t\t{\r\n\t\t\tvar api = this.api( true );\r\n\t\t\r\n\t\t\tif ( iColumn === null || iColumn === undefined ) {\r\n\t\t\t\tapi.search( sInput, bRegex, bSmart, bCaseInsensitive );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tapi.column( iColumn ).search( sInput, bRegex, bSmart, bCaseInsensitive );\r\n\t\t\t}\r\n\t\t\r\n\t\t\tapi.draw();\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Get the data for the whole table, an individual row or an individual cell based on the\r\n\t\t * provided parameters.\r\n\t\t *  @param {int|node} [src] A TR row node, TD/TH cell node or an integer. If given as\r\n\t\t *    a TR node then the data source for the whole row will be returned. If given as a\r\n\t\t *    TD/TH cell node then iCol will be automatically calculated and the data for the\r\n\t\t *    cell returned. If given as an integer, then this is treated as the aoData internal\r\n\t\t *    data index for the row (see fnGetPosition) and the data for that row used.\r\n\t\t *  @param {int} [col] Optional column index that you want the data of.\r\n\t\t *  @returns {array|object|string} If mRow is undefined, then the data for all rows is\r\n\t\t *    returned. If mRow is defined, just data for that row, and is iCol is\r\n\t\t *    defined, only data for the designated cell is returned.\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Row data\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      oTable = $('#example').dataTable();\r\n\t\t *\r\n\t\t *      oTable.$('tr').click( function () {\r\n\t\t *        var data = oTable.fnGetData( this );\r\n\t\t *        // ... do something with the array / object of data for the row\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Individual cell data\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      oTable = $('#example').dataTable();\r\n\t\t *\r\n\t\t *      oTable.$('td').click( function () {\r\n\t\t *        var sData = oTable.fnGetData( this );\r\n\t\t *        alert( 'The cell clicked on had the value of '+sData );\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnGetData = function( src, col )\r\n\t\t{\r\n\t\t\tvar api = this.api( true );\r\n\t\t\r\n\t\t\tif ( src !== undefined ) {\r\n\t\t\t\tvar type = src.nodeName ? src.nodeName.toLowerCase() : '';\r\n\t\t\r\n\t\t\t\treturn col !== undefined || type == 'td' || type == 'th' ?\r\n\t\t\t\t\tapi.cell( src, col ).data() :\r\n\t\t\t\t\tapi.row( src ).data() || null;\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn api.data().toArray();\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Get an array of the TR nodes that are used in the table's body. Note that you will\r\n\t\t * typically want to use the '$' API method in preference to this as it is more\r\n\t\t * flexible.\r\n\t\t *  @param {int} [iRow] Optional row index for the TR element you want\r\n\t\t *  @returns {array|node} If iRow is undefined, returns an array of all TR elements\r\n\t\t *    in the table's body, or iRow is defined, just the TR element requested.\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *\r\n\t\t *      // Get the nodes from the table\r\n\t\t *      var nNodes = oTable.fnGetNodes( );\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnGetNodes = function( iRow )\r\n\t\t{\r\n\t\t\tvar api = this.api( true );\r\n\t\t\r\n\t\t\treturn iRow !== undefined ?\r\n\t\t\t\tapi.row( iRow ).node() :\r\n\t\t\t\tapi.rows().nodes().flatten().toArray();\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Get the array indexes of a particular cell from it's DOM element\r\n\t\t * and column index including hidden columns\r\n\t\t *  @param {node} node this can either be a TR, TD or TH in the table's body\r\n\t\t *  @returns {int} If nNode is given as a TR, then a single index is returned, or\r\n\t\t *    if given as a cell, an array of [row index, column index (visible),\r\n\t\t *    column index (all)] is given.\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      $('#example tbody td').click( function () {\r\n\t\t *        // Get the position of the current data from the node\r\n\t\t *        var aPos = oTable.fnGetPosition( this );\r\n\t\t *\r\n\t\t *        // Get the data array for this row\r\n\t\t *        var aData = oTable.fnGetData( aPos[0] );\r\n\t\t *\r\n\t\t *        // Update the data array and return the value\r\n\t\t *        aData[ aPos[1] ] = 'clicked';\r\n\t\t *        this.innerHTML = 'clicked';\r\n\t\t *      } );\r\n\t\t *\r\n\t\t *      // Init DataTables\r\n\t\t *      oTable = $('#example').dataTable();\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnGetPosition = function( node )\r\n\t\t{\r\n\t\t\tvar api = this.api( true );\r\n\t\t\tvar nodeName = node.nodeName.toUpperCase();\r\n\t\t\r\n\t\t\tif ( nodeName == 'TR' ) {\r\n\t\t\t\treturn api.row( node ).index();\r\n\t\t\t}\r\n\t\t\telse if ( nodeName == 'TD' || nodeName == 'TH' ) {\r\n\t\t\t\tvar cell = api.cell( node ).index();\r\n\t\t\r\n\t\t\t\treturn [\r\n\t\t\t\t\tcell.row,\r\n\t\t\t\t\tcell.columnVisible,\r\n\t\t\t\t\tcell.column\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Check to see if a row is 'open' or not.\r\n\t\t *  @param {node} nTr the table row to check\r\n\t\t *  @returns {boolean} true if the row is currently open, false otherwise\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable;\r\n\t\t *\r\n\t\t *      // 'open' an information row when a row is clicked on\r\n\t\t *      $('#example tbody tr').click( function () {\r\n\t\t *        if ( oTable.fnIsOpen(this) ) {\r\n\t\t *          oTable.fnClose( this );\r\n\t\t *        } else {\r\n\t\t *          oTable.fnOpen( this, \"Temporary row opened\", \"info_row\" );\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *\r\n\t\t *      oTable = $('#example').dataTable();\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnIsOpen = function( nTr )\r\n\t\t{\r\n\t\t\treturn this.api( true ).row( nTr ).child.isShown();\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * This function will place a new row directly after a row which is currently\r\n\t\t * on display on the page, with the HTML contents that is passed into the\r\n\t\t * function. This can be used, for example, to ask for confirmation that a\r\n\t\t * particular record should be deleted.\r\n\t\t *  @param {node} nTr The table row to 'open'\r\n\t\t *  @param {string|node|jQuery} mHtml The HTML to put into the row\r\n\t\t *  @param {string} sClass Class to give the new TD cell\r\n\t\t *  @returns {node} The row opened. Note that if the table row passed in as the\r\n\t\t *    first parameter, is not found in the table, this method will silently\r\n\t\t *    return.\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable;\r\n\t\t *\r\n\t\t *      // 'open' an information row when a row is clicked on\r\n\t\t *      $('#example tbody tr').click( function () {\r\n\t\t *        if ( oTable.fnIsOpen(this) ) {\r\n\t\t *          oTable.fnClose( this );\r\n\t\t *        } else {\r\n\t\t *          oTable.fnOpen( this, \"Temporary row opened\", \"info_row\" );\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *\r\n\t\t *      oTable = $('#example').dataTable();\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnOpen = function( nTr, mHtml, sClass )\r\n\t\t{\r\n\t\t\treturn this.api( true )\r\n\t\t\t\t.row( nTr )\r\n\t\t\t\t.child( mHtml, sClass )\r\n\t\t\t\t.show()\r\n\t\t\t\t.child()[0];\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Change the pagination - provides the internal logic for pagination in a simple API\r\n\t\t * function. With this function you can have a DataTables table go to the next,\r\n\t\t * previous, first or last pages.\r\n\t\t *  @param {string|int} mAction Paging action to take: \"first\", \"previous\", \"next\" or \"last\"\r\n\t\t *    or page number to jump to (integer), note that page 0 is the first page.\r\n\t\t *  @param {bool} [bRedraw=true] Redraw the table or not\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *      oTable.fnPageChange( 'next' );\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnPageChange = function ( mAction, bRedraw )\r\n\t\t{\r\n\t\t\tvar api = this.api( true ).page( mAction );\r\n\t\t\r\n\t\t\tif ( bRedraw === undefined || bRedraw ) {\r\n\t\t\t\tapi.draw(false);\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Show a particular column\r\n\t\t *  @param {int} iCol The column whose display should be changed\r\n\t\t *  @param {bool} bShow Show (true) or hide (false) the column\r\n\t\t *  @param {bool} [bRedraw=true] Redraw the table or not\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *\r\n\t\t *      // Hide the second column after initialisation\r\n\t\t *      oTable.fnSetColumnVis( 1, false );\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnSetColumnVis = function ( iCol, bShow, bRedraw )\r\n\t\t{\r\n\t\t\tvar api = this.api( true ).column( iCol ).visible( bShow );\r\n\t\t\r\n\t\t\tif ( bRedraw === undefined || bRedraw ) {\r\n\t\t\t\tapi.columns.adjust().draw();\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Get the settings for a particular table for external manipulation\r\n\t\t *  @returns {object} DataTables settings object. See\r\n\t\t *    {@link DataTable.models.oSettings}\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *      var oSettings = oTable.fnSettings();\r\n\t\t *\r\n\t\t *      // Show an example parameter from the settings\r\n\t\t *      alert( oSettings._iDisplayStart );\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnSettings = function()\r\n\t\t{\r\n\t\t\treturn _fnSettingsFromNode( this[_ext.iApiIndex] );\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Sort the table by a particular column\r\n\t\t *  @param {int} iCol the data index to sort on. Note that this will not match the\r\n\t\t *    'display index' if you have hidden data entries\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *\r\n\t\t *      // Sort immediately with columns 0 and 1\r\n\t\t *      oTable.fnSort( [ [0,'asc'], [1,'asc'] ] );\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnSort = function( aaSort )\r\n\t\t{\r\n\t\t\tthis.api( true ).order( aaSort ).draw();\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Attach a sort listener to an element for a given column\r\n\t\t *  @param {node} nNode the element to attach the sort listener to\r\n\t\t *  @param {int} iColumn the column that a click on this node will sort on\r\n\t\t *  @param {function} [fnCallback] callback function when sort is run\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *\r\n\t\t *      // Sort on column 1, when 'sorter' is clicked on\r\n\t\t *      oTable.fnSortListener( document.getElementById('sorter'), 1 );\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnSortListener = function( nNode, iColumn, fnCallback )\r\n\t\t{\r\n\t\t\tthis.api( true ).order.listener( nNode, iColumn, fnCallback );\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Update a table cell or row - this method will accept either a single value to\r\n\t\t * update the cell with, an array of values with one element for each column or\r\n\t\t * an object in the same format as the original data source. The function is\r\n\t\t * self-referencing in order to make the multi column updates easier.\r\n\t\t *  @param {object|array|string} mData Data to update the cell/row with\r\n\t\t *  @param {node|int} mRow TR element you want to update or the aoData index\r\n\t\t *  @param {int} [iColumn] The column to update, give as null or undefined to\r\n\t\t *    update a whole row.\r\n\t\t *  @param {bool} [bRedraw=true] Redraw the table or not\r\n\t\t *  @param {bool} [bAction=true] Perform pre-draw actions or not\r\n\t\t *  @returns {int} 0 on success, 1 on error\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *      oTable.fnUpdate( 'Example update', 0, 0 ); // Single cell\r\n\t\t *      oTable.fnUpdate( ['a', 'b', 'c', 'd', 'e'], $('tbody tr')[0] ); // Row\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnUpdate = function( mData, mRow, iColumn, bRedraw, bAction )\r\n\t\t{\r\n\t\t\tvar api = this.api( true );\r\n\t\t\r\n\t\t\tif ( iColumn === undefined || iColumn === null ) {\r\n\t\t\t\tapi.row( mRow ).data( mData );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tapi.cell( mRow, iColumn ).data( mData );\r\n\t\t\t}\r\n\t\t\r\n\t\t\tif ( bAction === undefined || bAction ) {\r\n\t\t\t\tapi.columns.adjust();\r\n\t\t\t}\r\n\t\t\r\n\t\t\tif ( bRedraw === undefined || bRedraw ) {\r\n\t\t\t\tapi.draw();\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * Provide a common method for plug-ins to check the version of DataTables being used, in order\r\n\t\t * to ensure compatibility.\r\n\t\t *  @param {string} sVersion Version string to check for, in the format \"X.Y.Z\". Note that the\r\n\t\t *    formats \"X\" and \"X.Y\" are also acceptable.\r\n\t\t *  @returns {boolean} true if this version of DataTables is greater or equal to the required\r\n\t\t *    version, or false if this version of DataTales is not suitable\r\n\t\t *  @method\r\n\t\t *  @dtopt API\r\n\t\t *  @deprecated Since v1.10\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready(function() {\r\n\t\t *      var oTable = $('#example').dataTable();\r\n\t\t *      alert( oTable.fnVersionCheck( '1.9.0' ) );\r\n\t\t *    } );\r\n\t\t */\r\n\t\tthis.fnVersionCheck = _ext.fnVersionCheck;\r\n\t\t\r\n\r\n\t\tvar _that = this;\r\n\t\tvar emptyInit = options === undefined;\r\n\t\tvar len = this.length;\r\n\r\n\t\tif ( emptyInit ) {\r\n\t\t\toptions = {};\r\n\t\t}\r\n\r\n\t\tthis.oApi = this.internal = _ext.internal;\r\n\r\n\t\t// Extend with old style plug-in API methods\r\n\t\tfor ( var fn in DataTable.ext.internal ) {\r\n\t\t\tif ( fn ) {\r\n\t\t\t\tthis[fn] = _fnExternApiFunc(fn);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.each(function() {\r\n\t\t\t// For each initialisation we want to give it a clean initialisation\r\n\t\t\t// object that can be bashed around\r\n\t\t\tvar o = {};\r\n\t\t\tvar oInit = len > 1 ? // optimisation for single table case\r\n\t\t\t\t_fnExtend( o, options, true ) :\r\n\t\t\t\toptions;\r\n\r\n\t\t\t/*global oInit,_that,emptyInit*/\r\n\t\t\tvar i=0, iLen, j, jLen, k, kLen;\r\n\t\t\tvar sId = this.getAttribute( 'id' );\r\n\t\t\tvar bInitHandedOff = false;\r\n\t\t\tvar defaults = DataTable.defaults;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t/* Sanity check */\r\n\t\t\tif ( this.nodeName.toLowerCase() != 'table' )\r\n\t\t\t{\r\n\t\t\t\t_fnLog( null, 0, 'Non-table node initialisation ('+this.nodeName+')', 2 );\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/* Backwards compatibility for the defaults */\r\n\t\t\t_fnCompatOpts( defaults );\r\n\t\t\t_fnCompatCols( defaults.column );\r\n\t\t\t\r\n\t\t\t/* Convert the camel-case defaults to Hungarian */\r\n\t\t\t_fnCamelToHungarian( defaults, defaults, true );\r\n\t\t\t_fnCamelToHungarian( defaults.column, defaults.column, true );\r\n\t\t\t\r\n\t\t\t/* Setting up the initialisation object */\r\n\t\t\t_fnCamelToHungarian( defaults, oInit );\r\n\t\t\t\r\n\t\t\t/* Check to see if we are re-initialising a table */\r\n\t\t\tvar allSettings = DataTable.settings;\r\n\t\t\tfor ( i=0, iLen=allSettings.length ; i<iLen ; i++ )\r\n\t\t\t{\r\n\t\t\t\t/* Base check on table node */\r\n\t\t\t\tif ( allSettings[i].nTable == this )\r\n\t\t\t\t{\r\n\t\t\t\t\tvar bRetrieve = oInit.bRetrieve !== undefined ? oInit.bRetrieve : defaults.bRetrieve;\r\n\t\t\t\t\tvar bDestroy = oInit.bDestroy !== undefined ? oInit.bDestroy : defaults.bDestroy;\r\n\t\t\t\r\n\t\t\t\t\tif ( emptyInit || bRetrieve )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn allSettings[i].oInstance;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( bDestroy )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tallSettings[i].oInstance.fnDestroy();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t_fnLog( allSettings[i], 0, 'Cannot reinitialise DataTable', 3 );\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t/* If the element we are initialising has the same ID as a table which was previously\r\n\t\t\t\t * initialised, but the table nodes don't match (from before) then we destroy the old\r\n\t\t\t\t * instance by simply deleting it. This is under the assumption that the table has been\r\n\t\t\t\t * destroyed by other methods. Anyone using non-id selectors will need to do this manually\r\n\t\t\t\t */\r\n\t\t\t\tif ( allSettings[i].sTableId == this.id )\r\n\t\t\t\t{\r\n\t\t\t\t\tallSettings.splice( i, 1 );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/* Ensure the table has an ID - required for accessibility */\r\n\t\t\tif ( sId === null || sId === \"\" )\r\n\t\t\t{\r\n\t\t\t\tsId = \"DataTables_Table_\"+(DataTable.ext._unique++);\r\n\t\t\t\tthis.id = sId;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/* Create the settings object for this table and set some of the default parameters */\r\n\t\t\tvar oSettings = $.extend( true, {}, DataTable.models.oSettings, {\r\n\t\t\t\t\"nTable\":        this,\r\n\t\t\t\t\"oApi\":          _that.internal,\r\n\t\t\t\t\"oInit\":         oInit,\r\n\t\t\t\t\"sDestroyWidth\": $(this)[0].style.width,\r\n\t\t\t\t\"sInstance\":     sId,\r\n\t\t\t\t\"sTableId\":      sId\r\n\t\t\t} );\r\n\t\t\tallSettings.push( oSettings );\r\n\t\t\t\r\n\t\t\t// Need to add the instance after the instance after the settings object has been added\r\n\t\t\t// to the settings array, so we can self reference the table instance if more than one\r\n\t\t\toSettings.oInstance = (_that.length===1) ? _that : $(this).dataTable();\r\n\t\t\t\r\n\t\t\t// Backwards compatibility, before we apply all the defaults\r\n\t\t\t_fnCompatOpts( oInit );\r\n\t\t\t\r\n\t\t\tif ( oInit.oLanguage )\r\n\t\t\t{\r\n\t\t\t\t_fnLanguageCompat( oInit.oLanguage );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// If the length menu is given, but the init display length is not, use the length menu\r\n\t\t\tif ( oInit.aLengthMenu && ! oInit.iDisplayLength )\r\n\t\t\t{\r\n\t\t\t\toInit.iDisplayLength = $.isArray( oInit.aLengthMenu[0] ) ?\r\n\t\t\t\t\toInit.aLengthMenu[0][0] : oInit.aLengthMenu[0];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Apply the defaults and init options to make a single init object will all\r\n\t\t\t// options defined from defaults and instance options.\r\n\t\t\toInit = _fnExtend( $.extend( true, {}, defaults ), oInit );\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// Map the initialisation options onto the settings object\r\n\t\t\t_fnMap( oSettings.oFeatures, oInit, [\r\n\t\t\t\t\"bPaginate\",\r\n\t\t\t\t\"bLengthChange\",\r\n\t\t\t\t\"bFilter\",\r\n\t\t\t\t\"bSort\",\r\n\t\t\t\t\"bSortMulti\",\r\n\t\t\t\t\"bInfo\",\r\n\t\t\t\t\"bProcessing\",\r\n\t\t\t\t\"bAutoWidth\",\r\n\t\t\t\t\"bSortClasses\",\r\n\t\t\t\t\"bServerSide\",\r\n\t\t\t\t\"bDeferRender\"\r\n\t\t\t] );\r\n\t\t\t_fnMap( oSettings, oInit, [\r\n\t\t\t\t\"asStripeClasses\",\r\n\t\t\t\t\"ajax\",\r\n\t\t\t\t\"fnServerData\",\r\n\t\t\t\t\"fnFormatNumber\",\r\n\t\t\t\t\"sServerMethod\",\r\n\t\t\t\t\"aaSorting\",\r\n\t\t\t\t\"aaSortingFixed\",\r\n\t\t\t\t\"aLengthMenu\",\r\n\t\t\t\t\"sPaginationType\",\r\n\t\t\t\t\"sAjaxSource\",\r\n\t\t\t\t\"sAjaxDataProp\",\r\n\t\t\t\t\"iStateDuration\",\r\n\t\t\t\t\"sDom\",\r\n\t\t\t\t\"bSortCellsTop\",\r\n\t\t\t\t\"iTabIndex\",\r\n\t\t\t\t\"fnStateLoadCallback\",\r\n\t\t\t\t\"fnStateSaveCallback\",\r\n\t\t\t\t\"renderer\",\r\n\t\t\t\t[ \"iCookieDuration\", \"iStateDuration\" ], // backwards compat\r\n\t\t\t\t[ \"oSearch\", \"oPreviousSearch\" ],\r\n\t\t\t\t[ \"aoSearchCols\", \"aoPreSearchCols\" ],\r\n\t\t\t\t[ \"iDisplayLength\", \"_iDisplayLength\" ],\r\n\t\t\t\t[ \"bJQueryUI\", \"bJUI\" ]\r\n\t\t\t] );\r\n\t\t\t_fnMap( oSettings.oScroll, oInit, [\r\n\t\t\t\t[ \"sScrollX\", \"sX\" ],\r\n\t\t\t\t[ \"sScrollXInner\", \"sXInner\" ],\r\n\t\t\t\t[ \"sScrollY\", \"sY\" ],\r\n\t\t\t\t[ \"bScrollCollapse\", \"bCollapse\" ]\r\n\t\t\t] );\r\n\t\t\t_fnMap( oSettings.oLanguage, oInit, \"fnInfoCallback\" );\r\n\t\t\t\r\n\t\t\t/* Callback functions which are array driven */\r\n\t\t\t_fnCallbackReg( oSettings, 'aoDrawCallback',       oInit.fnDrawCallback,      'user' );\r\n\t\t\t_fnCallbackReg( oSettings, 'aoServerParams',       oInit.fnServerParams,      'user' );\r\n\t\t\t_fnCallbackReg( oSettings, 'aoStateSaveParams',    oInit.fnStateSaveParams,   'user' );\r\n\t\t\t_fnCallbackReg( oSettings, 'aoStateLoadParams',    oInit.fnStateLoadParams,   'user' );\r\n\t\t\t_fnCallbackReg( oSettings, 'aoStateLoaded',        oInit.fnStateLoaded,       'user' );\r\n\t\t\t_fnCallbackReg( oSettings, 'aoRowCallback',        oInit.fnRowCallback,       'user' );\r\n\t\t\t_fnCallbackReg( oSettings, 'aoRowCreatedCallback', oInit.fnCreatedRow,        'user' );\r\n\t\t\t_fnCallbackReg( oSettings, 'aoHeaderCallback',     oInit.fnHeaderCallback,    'user' );\r\n\t\t\t_fnCallbackReg( oSettings, 'aoFooterCallback',     oInit.fnFooterCallback,    'user' );\r\n\t\t\t_fnCallbackReg( oSettings, 'aoInitComplete',       oInit.fnInitComplete,      'user' );\r\n\t\t\t_fnCallbackReg( oSettings, 'aoPreDrawCallback',    oInit.fnPreDrawCallback,   'user' );\r\n\t\t\t\r\n\t\t\tvar oClasses = oSettings.oClasses;\r\n\t\t\t\r\n\t\t\t// @todo Remove in 1.11\r\n\t\t\tif ( oInit.bJQueryUI )\r\n\t\t\t{\r\n\t\t\t\t/* Use the JUI classes object for display. You could clone the oStdClasses object if\r\n\t\t\t\t * you want to have multiple tables with multiple independent classes\r\n\t\t\t\t */\r\n\t\t\t\t$.extend( oClasses, DataTable.ext.oJUIClasses, oInit.oClasses );\r\n\t\t\t\r\n\t\t\t\tif ( oInit.sDom === defaults.sDom && defaults.sDom === \"lfrtip\" )\r\n\t\t\t\t{\r\n\t\t\t\t\t/* Set the DOM to use a layout suitable for jQuery UI's theming */\r\n\t\t\t\t\toSettings.sDom = '<\"H\"lfr>t<\"F\"ip>';\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tif ( ! oSettings.renderer ) {\r\n\t\t\t\t\toSettings.renderer = 'jqueryui';\r\n\t\t\t\t}\r\n\t\t\t\telse if ( $.isPlainObject( oSettings.renderer ) && ! oSettings.renderer.header ) {\r\n\t\t\t\t\toSettings.renderer.header = 'jqueryui';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$.extend( oClasses, DataTable.ext.classes, oInit.oClasses );\r\n\t\t\t}\r\n\t\t\t$(this).addClass( oClasses.sTable );\r\n\t\t\t\r\n\t\t\t/* Calculate the scroll bar width and cache it for use later on */\r\n\t\t\tif ( oSettings.oScroll.sX !== \"\" || oSettings.oScroll.sY !== \"\" )\r\n\t\t\t{\r\n\t\t\t\toSettings.oScroll.iBarWidth = _fnScrollBarWidth();\r\n\t\t\t}\r\n\t\t\tif ( oSettings.oScroll.sX === true ) { // Easy initialisation of x-scrolling\r\n\t\t\t\toSettings.oScroll.sX = '100%';\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ( oSettings.iInitDisplayStart === undefined )\r\n\t\t\t{\r\n\t\t\t\t/* Display start point, taking into account the save saving */\r\n\t\t\t\toSettings.iInitDisplayStart = oInit.iDisplayStart;\r\n\t\t\t\toSettings._iDisplayStart = oInit.iDisplayStart;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ( oInit.iDeferLoading !== null )\r\n\t\t\t{\r\n\t\t\t\toSettings.bDeferLoading = true;\r\n\t\t\t\tvar tmp = $.isArray( oInit.iDeferLoading );\r\n\t\t\t\toSettings._iRecordsDisplay = tmp ? oInit.iDeferLoading[0] : oInit.iDeferLoading;\r\n\t\t\t\toSettings._iRecordsTotal = tmp ? oInit.iDeferLoading[1] : oInit.iDeferLoading;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/* Language definitions */\r\n\t\t\tif ( oInit.oLanguage.sUrl !== \"\" )\r\n\t\t\t{\r\n\t\t\t\t/* Get the language definitions from a file - because this Ajax call makes the language\r\n\t\t\t\t * get async to the remainder of this function we use bInitHandedOff to indicate that\r\n\t\t\t\t * _fnInitialise will be fired by the returned Ajax handler, rather than the constructor\r\n\t\t\t\t */\r\n\t\t\t\toSettings.oLanguage.sUrl = oInit.oLanguage.sUrl;\r\n\t\t\t\t$.getJSON( oSettings.oLanguage.sUrl, null, function( json ) {\r\n\t\t\t\t\t_fnLanguageCompat( json );\r\n\t\t\t\t\t_fnCamelToHungarian( defaults.oLanguage, json );\r\n\t\t\t\t\t$.extend( true, oSettings.oLanguage, oInit.oLanguage, json );\r\n\t\t\t\t\t_fnInitialise( oSettings );\r\n\t\t\t\t} );\r\n\t\t\t\tbInitHandedOff = true;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$.extend( true, oSettings.oLanguage, oInit.oLanguage );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\t * Stripes\r\n\t\t\t */\r\n\t\t\tif ( oInit.asStripeClasses === null )\r\n\t\t\t{\r\n\t\t\t\toSettings.asStripeClasses =[\r\n\t\t\t\t\toClasses.sStripeOdd,\r\n\t\t\t\t\toClasses.sStripeEven\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/* Remove row stripe classes if they are already on the table row */\r\n\t\t\tvar stripeClasses = oSettings.asStripeClasses;\r\n\t\t\tvar rowOne = $('tbody tr:eq(0)', this);\r\n\t\t\tif ( $.inArray( true, $.map( stripeClasses, function(el, i) {\r\n\t\t\t\treturn rowOne.hasClass(el);\r\n\t\t\t} ) ) !== -1 ) {\r\n\t\t\t\t$('tbody tr', this).removeClass( stripeClasses.join(' ') );\r\n\t\t\t\toSettings.asDestroyStripes = stripeClasses.slice();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\t * Columns\r\n\t\t\t * See if we should load columns automatically or use defined ones\r\n\t\t\t */\r\n\t\t\tvar anThs = [];\r\n\t\t\tvar aoColumnsInit;\r\n\t\t\tvar nThead = this.getElementsByTagName('thead');\r\n\t\t\tif ( nThead.length !== 0 )\r\n\t\t\t{\r\n\t\t\t\t_fnDetectHeader( oSettings.aoHeader, nThead[0] );\r\n\t\t\t\tanThs = _fnGetUniqueThs( oSettings );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/* If not given a column array, generate one with nulls */\r\n\t\t\tif ( oInit.aoColumns === null )\r\n\t\t\t{\r\n\t\t\t\taoColumnsInit = [];\r\n\t\t\t\tfor ( i=0, iLen=anThs.length ; i<iLen ; i++ )\r\n\t\t\t\t{\r\n\t\t\t\t\taoColumnsInit.push( null );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\taoColumnsInit = oInit.aoColumns;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/* Add the columns */\r\n\t\t\tfor ( i=0, iLen=aoColumnsInit.length ; i<iLen ; i++ )\r\n\t\t\t{\r\n\t\t\t\t_fnAddColumn( oSettings, anThs ? anThs[i] : null );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/* Apply the column definitions */\r\n\t\t\t_fnApplyColumnDefs( oSettings, oInit.aoColumnDefs, aoColumnsInit, function (iCol, oDef) {\r\n\t\t\t\t_fnColumnOptions( oSettings, iCol, oDef );\r\n\t\t\t} );\r\n\t\t\t\r\n\t\t\t/* HTML5 attribute detection - build an mData object automatically if the\r\n\t\t\t * attributes are found\r\n\t\t\t */\r\n\t\t\tif ( rowOne.length ) {\r\n\t\t\t\tvar a = function ( cell, name ) {\r\n\t\t\t\t\treturn cell.getAttribute( 'data-'+name ) ? name : null;\r\n\t\t\t\t};\r\n\t\t\t\r\n\t\t\t\t$.each( _fnGetRowElements( oSettings, rowOne[0] ).cells, function (i, cell) {\r\n\t\t\t\t\tvar col = oSettings.aoColumns[i];\r\n\t\t\t\r\n\t\t\t\t\tif ( col.mData === i ) {\r\n\t\t\t\t\t\tvar sort = a( cell, 'sort' ) || a( cell, 'order' );\r\n\t\t\t\t\t\tvar filter = a( cell, 'filter' ) || a( cell, 'search' );\r\n\t\t\t\r\n\t\t\t\t\t\tif ( sort !== null || filter !== null ) {\r\n\t\t\t\t\t\t\tcol.mData = {\r\n\t\t\t\t\t\t\t\t_:      i+'.display',\r\n\t\t\t\t\t\t\t\tsort:   sort !== null   ? i+'.@data-'+sort   : undefined,\r\n\t\t\t\t\t\t\t\ttype:   sort !== null   ? i+'.@data-'+sort   : undefined,\r\n\t\t\t\t\t\t\t\tfilter: filter !== null ? i+'.@data-'+filter : undefined\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\r\n\t\t\t\t\t\t\t_fnColumnOptions( oSettings, i );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar features = oSettings.oFeatures;\r\n\t\t\t\r\n\t\t\t/* Must be done after everything which can be overridden by the state saving! */\r\n\t\t\tif ( oInit.bStateSave )\r\n\t\t\t{\r\n\t\t\t\tfeatures.bStateSave = true;\r\n\t\t\t\t_fnLoadState( oSettings, oInit );\r\n\t\t\t\t_fnCallbackReg( oSettings, 'aoDrawCallback', _fnSaveState, 'state_save' );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\t * Sorting\r\n\t\t\t * @todo For modularisation (1.11) this needs to do into a sort start up handler\r\n\t\t\t */\r\n\t\t\t\r\n\t\t\t// If aaSorting is not defined, then we use the first indicator in asSorting\r\n\t\t\t// in case that has been altered, so the default sort reflects that option\r\n\t\t\tif ( oInit.aaSorting === undefined )\r\n\t\t\t{\r\n\t\t\t\tvar sorting = oSettings.aaSorting;\r\n\t\t\t\tfor ( i=0, iLen=sorting.length ; i<iLen ; i++ )\r\n\t\t\t\t{\r\n\t\t\t\t\tsorting[i][1] = oSettings.aoColumns[ i ].asSorting[0];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/* Do a first pass on the sorting classes (allows any size changes to be taken into\r\n\t\t\t * account, and also will apply sorting disabled classes if disabled\r\n\t\t\t */\r\n\t\t\t_fnSortingClasses( oSettings );\r\n\t\t\t\r\n\t\t\tif ( features.bSort )\r\n\t\t\t{\r\n\t\t\t\t_fnCallbackReg( oSettings, 'aoDrawCallback', function () {\r\n\t\t\t\t\tif ( oSettings.bSorted ) {\r\n\t\t\t\t\t\tvar aSort = _fnSortFlatten( oSettings );\r\n\t\t\t\t\t\tvar sortedColumns = {};\r\n\t\t\t\r\n\t\t\t\t\t\t$.each( aSort, function (i, val) {\r\n\t\t\t\t\t\t\tsortedColumns[ val.src ] = val.dir;\r\n\t\t\t\t\t\t} );\r\n\t\t\t\r\n\t\t\t\t\t\t_fnCallbackFire( oSettings, null, 'order', [oSettings, aSort, sortedColumns] );\r\n\t\t\t\t\t\t_fnSortAria( oSettings );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t_fnCallbackReg( oSettings, 'aoDrawCallback', function () {\r\n\t\t\t\tif ( oSettings.bSorted || _fnDataSource( oSettings ) === 'ssp' || features.bDeferRender ) {\r\n\t\t\t\t\t_fnSortingClasses( oSettings );\r\n\t\t\t\t}\r\n\t\t\t}, 'sc' );\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\t * Final init\r\n\t\t\t * Cache the header, body and footer as required, creating them if needed\r\n\t\t\t */\r\n\t\t\t\r\n\t\t\t/* Browser support detection */\r\n\t\t\t_fnBrowserDetect( oSettings );\r\n\t\t\t\r\n\t\t\t// Work around for Webkit bug 83867 - store the caption-side before removing from doc\r\n\t\t\tvar captions = $(this).children('caption').each( function () {\r\n\t\t\t\tthis._captionSide = $(this).css('caption-side');\r\n\t\t\t} );\r\n\t\t\t\r\n\t\t\tvar thead = $(this).children('thead');\r\n\t\t\tif ( thead.length === 0 )\r\n\t\t\t{\r\n\t\t\t\tthead = $('<thead/>').appendTo(this);\r\n\t\t\t}\r\n\t\t\toSettings.nTHead = thead[0];\r\n\t\t\t\r\n\t\t\tvar tbody = $(this).children('tbody');\r\n\t\t\tif ( tbody.length === 0 )\r\n\t\t\t{\r\n\t\t\t\ttbody = $('<tbody/>').appendTo(this);\r\n\t\t\t}\r\n\t\t\toSettings.nTBody = tbody[0];\r\n\t\t\t\r\n\t\t\tvar tfoot = $(this).children('tfoot');\r\n\t\t\tif ( tfoot.length === 0 && captions.length > 0 && (oSettings.oScroll.sX !== \"\" || oSettings.oScroll.sY !== \"\") )\r\n\t\t\t{\r\n\t\t\t\t// If we are a scrolling table, and no footer has been given, then we need to create\r\n\t\t\t\t// a tfoot element for the caption element to be appended to\r\n\t\t\t\ttfoot = $('<tfoot/>').appendTo(this);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ( tfoot.length === 0 || tfoot.children().length === 0 ) {\r\n\t\t\t\t$(this).addClass( oClasses.sNoFooter );\r\n\t\t\t}\r\n\t\t\telse if ( tfoot.length > 0 ) {\r\n\t\t\t\toSettings.nTFoot = tfoot[0];\r\n\t\t\t\t_fnDetectHeader( oSettings.aoFooter, oSettings.nTFoot );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/* Check if there is data passing into the constructor */\r\n\t\t\tif ( oInit.aaData )\r\n\t\t\t{\r\n\t\t\t\tfor ( i=0 ; i<oInit.aaData.length ; i++ )\r\n\t\t\t\t{\r\n\t\t\t\t\t_fnAddData( oSettings, oInit.aaData[ i ] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if ( oSettings.bDeferLoading || _fnDataSource( oSettings ) == 'dom' )\r\n\t\t\t{\r\n\t\t\t\t/* Grab the data from the page - only do this when deferred loading or no Ajax\r\n\t\t\t\t * source since there is no point in reading the DOM data if we are then going\r\n\t\t\t\t * to replace it with Ajax data\r\n\t\t\t\t */\r\n\t\t\t\t_fnAddTr( oSettings, $(oSettings.nTBody).children('tr') );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/* Copy the data index array */\r\n\t\t\toSettings.aiDisplay = oSettings.aiDisplayMaster.slice();\r\n\t\t\t\r\n\t\t\t/* Initialisation complete - table can be drawn */\r\n\t\t\toSettings.bInitialised = true;\r\n\t\t\t\r\n\t\t\t/* Check if we need to initialise the table (it might not have been handed off to the\r\n\t\t\t * language processor)\r\n\t\t\t */\r\n\t\t\tif ( bInitHandedOff === false )\r\n\t\t\t{\r\n\t\t\t\t_fnInitialise( oSettings );\r\n\t\t\t}\r\n\t\t} );\r\n\t\t_that = null;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t\r\n\t\r\n\t/**\r\n\t * Computed structure of the DataTables API, defined by the options passed to\r\n\t * `DataTable.Api.register()` when building the API.\r\n\t *\r\n\t * The structure is built in order to speed creation and extension of the Api\r\n\t * objects since the extensions are effectively pre-parsed.\r\n\t *\r\n\t * The array is an array of objects with the following structure, where this\r\n\t * base array represents the Api prototype base:\r\n\t *\r\n\t *     [\r\n\t *       {\r\n\t *         name:      'data'                -- string   - Property name\r\n\t *         val:       function () {},       -- function - Api method (or undefined if just an object\r\n\t *         methodExt: [ ... ],              -- array    - Array of Api object definitions to extend the method result\r\n\t *         propExt:   [ ... ]               -- array    - Array of Api object definitions to extend the property\r\n\t *       },\r\n\t *       {\r\n\t *         name:     'row'\r\n\t *         val:       {},\r\n\t *         methodExt: [ ... ],\r\n\t *         propExt:   [\r\n\t *           {\r\n\t *             name:      'data'\r\n\t *             val:       function () {},\r\n\t *             methodExt: [ ... ],\r\n\t *             propExt:   [ ... ]\r\n\t *           },\r\n\t *           ...\r\n\t *         ]\r\n\t *       }\r\n\t *     ]\r\n\t *\r\n\t * @type {Array}\r\n\t * @ignore\r\n\t */\r\n\tvar __apiStruct = [];\r\n\t\r\n\t\r\n\t/**\r\n\t * `Array.prototype` reference.\r\n\t *\r\n\t * @type object\r\n\t * @ignore\r\n\t */\r\n\tvar __arrayProto = Array.prototype;\r\n\t\r\n\t\r\n\t/**\r\n\t * Abstraction for `context` parameter of the `Api` constructor to allow it to\r\n\t * take several different forms for ease of use.\r\n\t *\r\n\t * Each of the input parameter types will be converted to a DataTables settings\r\n\t * object where possible.\r\n\t *\r\n\t * @param  {string|node|jQuery|object} mixed DataTable identifier. Can be one\r\n\t *   of:\r\n\t *\r\n\t *   * `string` - jQuery selector. Any DataTables' matching the given selector\r\n\t *     with be found and used.\r\n\t *   * `node` - `TABLE` node which has already been formed into a DataTable.\r\n\t *   * `jQuery` - A jQuery object of `TABLE` nodes.\r\n\t *   * `object` - DataTables settings object\r\n\t *   * `DataTables.Api` - API instance\r\n\t * @return {array|null} Matching DataTables settings objects. `null` or\r\n\t *   `undefined` is returned if no matching DataTable is found.\r\n\t * @ignore\r\n\t */\r\n\tvar _toSettings = function ( mixed )\r\n\t{\r\n\t\tvar idx, jq;\r\n\t\tvar settings = DataTable.settings;\r\n\t\tvar tables = $.map( settings, function (el, i) {\r\n\t\t\treturn el.nTable;\r\n\t\t} );\r\n\t\r\n\t\tif ( ! mixed ) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\telse if ( mixed.nTable && mixed.oApi ) {\r\n\t\t\t// DataTables settings object\r\n\t\t\treturn [ mixed ];\r\n\t\t}\r\n\t\telse if ( mixed.nodeName && mixed.nodeName.toLowerCase() === 'table' ) {\r\n\t\t\t// Table node\r\n\t\t\tidx = $.inArray( mixed, tables );\r\n\t\t\treturn idx !== -1 ? [ settings[idx] ] : null;\r\n\t\t}\r\n\t\telse if ( mixed && typeof mixed.settings === 'function' ) {\r\n\t\t\treturn mixed.settings().toArray();\r\n\t\t}\r\n\t\telse if ( typeof mixed === 'string' ) {\r\n\t\t\t// jQuery selector\r\n\t\t\tjq = $(mixed);\r\n\t\t}\r\n\t\telse if ( mixed instanceof $ ) {\r\n\t\t\t// jQuery object (also DataTables instance)\r\n\t\t\tjq = mixed;\r\n\t\t}\r\n\t\r\n\t\tif ( jq ) {\r\n\t\t\treturn jq.map( function(i) {\r\n\t\t\t\tidx = $.inArray( this, tables );\r\n\t\t\t\treturn idx !== -1 ? settings[idx] : null;\r\n\t\t\t} ).toArray();\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t/**\r\n\t * DataTables API class - used to control and interface with  one or more\r\n\t * DataTables enhanced tables.\r\n\t *\r\n\t * The API class is heavily based on jQuery, presenting a chainable interface\r\n\t * that you can use to interact with tables. Each instance of the API class has\r\n\t * a \"context\" - i.e. the tables that it will operate on. This could be a single\r\n\t * table, all tables on a page or a sub-set thereof.\r\n\t *\r\n\t * Additionally the API is designed to allow you to easily work with the data in\r\n\t * the tables, retrieving and manipulating it as required. This is done by\r\n\t * presenting the API class as an array like interface. The contents of the\r\n\t * array depend upon the actions requested by each method (for example\r\n\t * `rows().nodes()` will return an array of nodes, while `rows().data()` will\r\n\t * return an array of objects or arrays depending upon your table's\r\n\t * configuration). The API object has a number of array like methods (`push`,\r\n\t * `pop`, `reverse` etc) as well as additional helper methods (`each`, `pluck`,\r\n\t * `unique` etc) to assist your working with the data held in a table.\r\n\t *\r\n\t * Most methods (those which return an Api instance) are chainable, which means\r\n\t * the return from a method call also has all of the methods available that the\r\n\t * top level object had. For example, these two calls are equivalent:\r\n\t *\r\n\t *     // Not chained\r\n\t *     api.row.add( {...} );\r\n\t *     api.draw();\r\n\t *\r\n\t *     // Chained\r\n\t *     api.row.add( {...} ).draw();\r\n\t *\r\n\t * @class DataTable.Api\r\n\t * @param {array|object|string|jQuery} context DataTable identifier. This is\r\n\t *   used to define which DataTables enhanced tables this API will operate on.\r\n\t *   Can be one of:\r\n\t *\r\n\t *   * `string` - jQuery selector. Any DataTables' matching the given selector\r\n\t *     with be found and used.\r\n\t *   * `node` - `TABLE` node which has already been formed into a DataTable.\r\n\t *   * `jQuery` - A jQuery object of `TABLE` nodes.\r\n\t *   * `object` - DataTables settings object\r\n\t * @param {array} [data] Data to initialise the Api instance with.\r\n\t *\r\n\t * @example\r\n\t *   // Direct initialisation during DataTables construction\r\n\t *   var api = $('#example').DataTable();\r\n\t *\r\n\t * @example\r\n\t *   // Initialisation using a DataTables jQuery object\r\n\t *   var api = $('#example').dataTable().api();\r\n\t *\r\n\t * @example\r\n\t *   // Initialisation as a constructor\r\n\t *   var api = new $.fn.DataTable.Api( 'table.dataTable' );\r\n\t */\r\n\t_Api = function ( context, data )\r\n\t{\r\n\t\tif ( ! this instanceof _Api ) {\r\n\t\t\tthrow 'DT API must be constructed as a new object';\r\n\t\t\t// or should it do the 'new' for the caller?\r\n\t\t\t// return new _Api.apply( this, arguments );\r\n\t\t}\r\n\t\r\n\t\tvar settings = [];\r\n\t\tvar ctxSettings = function ( o ) {\r\n\t\t\tvar a = _toSettings( o );\r\n\t\t\tif ( a ) {\r\n\t\t\t\tsettings.push.apply( settings, a );\r\n\t\t\t}\r\n\t\t};\r\n\t\r\n\t\tif ( $.isArray( context ) ) {\r\n\t\t\tfor ( var i=0, ien=context.length ; i<ien ; i++ ) {\r\n\t\t\t\tctxSettings( context[i] );\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tctxSettings( context );\r\n\t\t}\r\n\t\r\n\t\t// Remove duplicates\r\n\t\tthis.context = _unique( settings );\r\n\t\r\n\t\t// Initial data\r\n\t\tif ( data ) {\r\n\t\t\tthis.push.apply( this, data.toArray ? data.toArray() : data );\r\n\t\t}\r\n\t\r\n\t\t// selector\r\n\t\tthis.selector = {\r\n\t\t\trows: null,\r\n\t\t\tcols: null,\r\n\t\t\topts: null\r\n\t\t};\r\n\t\r\n\t\t_Api.extend( this, this, __apiStruct );\r\n\t};\r\n\t\r\n\tDataTable.Api = _Api;\r\n\t\r\n\t_Api.prototype = /** @lends DataTables.Api */{\r\n\t\t/**\r\n\t\t * Return a new Api instance, comprised of the data held in the current\r\n\t\t * instance, join with the other array(s) and/or value(s).\r\n\t\t *\r\n\t\t * An alias for `Array.prototype.concat`.\r\n\t\t *\r\n\t\t * @type method\r\n\t\t * @param {*} value1 Arrays and/or values to concatenate.\r\n\t\t * @param {*} [...] Additional arrays and/or values to concatenate.\r\n\t\t * @returns {DataTables.Api} New API instance, comprising of the combined\r\n\t\t *   array.\r\n\t\t */\r\n\t\tconcat:  __arrayProto.concat,\r\n\t\r\n\t\r\n\t\tcontext: [], // array of table settings objects\r\n\t\r\n\t\r\n\t\teach: function ( fn )\r\n\t\t{\r\n\t\t\tfor ( var i=0, ien=this.length ; i<ien; i++ ) {\r\n\t\t\t\tfn.call( this, this[i], i, this );\r\n\t\t\t}\r\n\t\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\r\n\t\r\n\t\teq: function ( idx )\r\n\t\t{\r\n\t\t\tvar ctx = this.context;\r\n\t\r\n\t\t\treturn ctx.length > idx ?\r\n\t\t\t\tnew _Api( ctx[idx], this[idx] ) :\r\n\t\t\t\tnull;\r\n\t\t},\r\n\t\r\n\t\r\n\t\tfilter: function ( fn )\r\n\t\t{\r\n\t\t\tvar a = [];\r\n\t\r\n\t\t\tif ( __arrayProto.filter ) {\r\n\t\t\t\ta = __arrayProto.filter.call( this, fn, this );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// Compatibility for browsers without EMCA-252-5 (JS 1.6)\r\n\t\t\t\tfor ( var i=0, ien=this.length ; i<ien ; i++ ) {\r\n\t\t\t\t\tif ( fn.call( this, this[i], i, this ) ) {\r\n\t\t\t\t\t\ta.push( this[i] );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\treturn new _Api( this.context, a );\r\n\t\t},\r\n\t\r\n\t\r\n\t\tflatten: function ()\r\n\t\t{\r\n\t\t\tvar a = [];\r\n\t\t\treturn new _Api( this.context, a.concat.apply( a, this.toArray() ) );\r\n\t\t},\r\n\t\r\n\t\r\n\t\tjoin:    __arrayProto.join,\r\n\t\r\n\t\r\n\t\tindexOf: __arrayProto.indexOf || function (obj, start)\r\n\t\t{\r\n\t\t\tfor ( var i=(start || 0), ien=this.length ; i<ien ; i++ ) {\r\n\t\t\t\tif ( this[i] === obj ) {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn -1;\r\n\t\t},\r\n\t\r\n\t\t// Internal only at the moment - relax?\r\n\t\titerator: function ( flatten, type, fn ) {\r\n\t\t\tvar\r\n\t\t\t\ta = [], ret,\r\n\t\t\t\ti, ien, j, jen,\r\n\t\t\t\tcontext = this.context,\r\n\t\t\t\trows, items, item,\r\n\t\t\t\tselector = this.selector;\r\n\t\r\n\t\t\t// Argument shifting\r\n\t\t\tif ( typeof flatten === 'string' ) {\r\n\t\t\t\tfn = type;\r\n\t\t\t\ttype = flatten;\r\n\t\t\t\tflatten = false;\r\n\t\t\t}\r\n\t\r\n\t\t\tfor ( i=0, ien=context.length ; i<ien ; i++ ) {\r\n\t\t\t\tif ( type === 'table' ) {\r\n\t\t\t\t\tret = fn( context[i], i );\r\n\t\r\n\t\t\t\t\tif ( ret !== undefined ) {\r\n\t\t\t\t\t\ta.push( ret );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if ( type === 'columns' || type === 'rows' ) {\r\n\t\t\t\t\t// this has same length as context - one entry for each table\r\n\t\t\t\t\tret = fn( context[i], this[i], i );\r\n\t\r\n\t\t\t\t\tif ( ret !== undefined ) {\r\n\t\t\t\t\t\ta.push( ret );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if ( type === 'column' || type === 'column-rows' || type === 'row' || type === 'cell' ) {\r\n\t\t\t\t\t// columns and rows share the same structure.\r\n\t\t\t\t\t// 'this' is an array of column indexes for each context\r\n\t\t\t\t\titems = this[i];\r\n\t\r\n\t\t\t\t\tif ( type === 'column-rows' ) {\r\n\t\t\t\t\t\trows = _selector_row_indexes( context[i], selector.opts );\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tfor ( j=0, jen=items.length ; j<jen ; j++ ) {\r\n\t\t\t\t\t\titem = items[j];\r\n\t\r\n\t\t\t\t\t\tif ( type === 'cell' ) {\r\n\t\t\t\t\t\t\tret = fn( context[i], item.row, item.column, i, j );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tret = fn( context[i], item, i, j, rows );\r\n\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\tif ( ret !== undefined ) {\r\n\t\t\t\t\t\t\ta.push( ret );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tif ( a.length ) {\r\n\t\t\t\tvar api = new _Api( context, flatten ? a.concat.apply( [], a ) : a );\r\n\t\t\t\tvar apiSelector = api.selector;\r\n\t\t\t\tapiSelector.rows = selector.rows;\r\n\t\t\t\tapiSelector.cols = selector.cols;\r\n\t\t\t\tapiSelector.opts = selector.opts;\r\n\t\t\t\treturn api;\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\r\n\t\r\n\t\tlastIndexOf: __arrayProto.lastIndexOf || function (obj, start)\r\n\t\t{\r\n\t\t\t// Bit cheeky...\r\n\t\t\treturn this.indexOf.apply( this.toArray.reverse(), arguments );\r\n\t\t},\r\n\t\r\n\t\r\n\t\tlength:  0,\r\n\t\r\n\t\r\n\t\tmap: function ( fn )\r\n\t\t{\r\n\t\t\tvar a = [];\r\n\t\r\n\t\t\tif ( __arrayProto.map ) {\r\n\t\t\t\ta = __arrayProto.map.call( this, fn, this );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// Compatibility for browsers without EMCA-252-5 (JS 1.6)\r\n\t\t\t\tfor ( var i=0, ien=this.length ; i<ien ; i++ ) {\r\n\t\t\t\t\ta.push( fn.call( this, this[i], i ) );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\treturn new _Api( this.context, a );\r\n\t\t},\r\n\t\r\n\t\r\n\t\tpluck: function ( prop )\r\n\t\t{\r\n\t\t\treturn this.map( function ( el ) {\r\n\t\t\t\treturn el[ prop ];\r\n\t\t\t} );\r\n\t\t},\r\n\t\r\n\t\tpop:     __arrayProto.pop,\r\n\t\r\n\t\r\n\t\tpush:    __arrayProto.push,\r\n\t\r\n\t\r\n\t\t// Does not return an API instance\r\n\t\treduce: __arrayProto.reduce || function ( fn, init )\r\n\t\t{\r\n\t\t\treturn _fnReduce( this, fn, init, 0, this.length, 1 );\r\n\t\t},\r\n\t\r\n\t\r\n\t\treduceRight: __arrayProto.reduceRight || function ( fn, init )\r\n\t\t{\r\n\t\t\treturn _fnReduce( this, fn, init, this.length-1, -1, -1 );\r\n\t\t},\r\n\t\r\n\t\r\n\t\treverse: __arrayProto.reverse,\r\n\t\r\n\t\r\n\t\t// Object with rows, columns and opts\r\n\t\tselector: null,\r\n\t\r\n\t\r\n\t\tshift:   __arrayProto.shift,\r\n\t\r\n\t\r\n\t\tsort:    __arrayProto.sort, // ? name - order?\r\n\t\r\n\t\r\n\t\tsplice:  __arrayProto.splice,\r\n\t\r\n\t\r\n\t\ttoArray: function ()\r\n\t\t{\r\n\t\t\treturn __arrayProto.slice.call( this );\r\n\t\t},\r\n\t\r\n\t\r\n\t\tto$: function ()\r\n\t\t{\r\n\t\t\treturn $( this );\r\n\t\t},\r\n\t\r\n\t\r\n\t\ttoJQuery: function ()\r\n\t\t{\r\n\t\t\treturn $( this );\r\n\t\t},\r\n\t\r\n\t\r\n\t\tunique: function ()\r\n\t\t{\r\n\t\t\treturn new _Api( this.context, _unique(this) );\r\n\t\t},\r\n\t\r\n\t\r\n\t\tunshift: __arrayProto.unshift\r\n\t};\r\n\t\r\n\t\r\n\t_Api.extend = function ( scope, obj, ext )\r\n\t{\r\n\t\t// Only extend API instances and static properties of the API\r\n\t\tif ( ! obj || ( ! (obj instanceof _Api) && ! obj.__dt_wrapper ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tvar\r\n\t\t\ti, ien,\r\n\t\t\tj, jen,\r\n\t\t\tstruct, inner,\r\n\t\t\tmethodScoping = function ( scope, fn, struc ) {\r\n\t\t\t\treturn function () {\r\n\t\t\t\t\tvar ret = fn.apply( scope, arguments );\r\n\t\r\n\t\t\t\t\t// Method extension\r\n\t\t\t\t\t_Api.extend( ret, ret, struc.methodExt );\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\r\n\t\tfor ( i=0, ien=ext.length ; i<ien ; i++ ) {\r\n\t\t\tstruct = ext[i];\r\n\t\r\n\t\t\t// Value\r\n\t\t\tobj[ struct.name ] = typeof struct.val === 'function' ?\r\n\t\t\t\tmethodScoping( scope, struct.val, struct ) :\r\n\t\t\t\t$.isPlainObject( struct.val ) ?\r\n\t\t\t\t\t{} :\r\n\t\t\t\t\tstruct.val;\r\n\t\r\n\t\t\tobj[ struct.name ].__dt_wrapper = true;\r\n\t\r\n\t\t\t// Property extension\r\n\t\t\t_Api.extend( scope, obj[ struct.name ], struct.propExt );\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t// @todo - Is there need for an augment function?\r\n\t// _Api.augment = function ( inst, name )\r\n\t// {\r\n\t// \t// Find src object in the structure from the name\r\n\t// \tvar parts = name.split('.');\r\n\t\r\n\t// \t_Api.extend( inst, obj );\r\n\t// };\r\n\t\r\n\t\r\n\t//     [\r\n\t//       {\r\n\t//         name:      'data'                -- string   - Property name\r\n\t//         val:       function () {},       -- function - Api method (or undefined if just an object\r\n\t//         methodExt: [ ... ],              -- array    - Array of Api object definitions to extend the method result\r\n\t//         propExt:   [ ... ]               -- array    - Array of Api object definitions to extend the property\r\n\t//       },\r\n\t//       {\r\n\t//         name:     'row'\r\n\t//         val:       {},\r\n\t//         methodExt: [ ... ],\r\n\t//         propExt:   [\r\n\t//           {\r\n\t//             name:      'data'\r\n\t//             val:       function () {},\r\n\t//             methodExt: [ ... ],\r\n\t//             propExt:   [ ... ]\r\n\t//           },\r\n\t//           ...\r\n\t//         ]\r\n\t//       }\r\n\t//     ]\r\n\t\r\n\t_Api.register = _api_register = function ( name, val )\r\n\t{\r\n\t\tif ( $.isArray( name ) ) {\r\n\t\t\tfor ( var j=0, jen=name.length ; j<jen ; j++ ) {\r\n\t\t\t\t_Api.register( name[j], val );\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tvar\r\n\t\t\ti, ien,\r\n\t\t\their = name.split('.'),\r\n\t\t\tstruct = __apiStruct,\r\n\t\t\tkey, method;\r\n\t\r\n\t\tvar find = function ( src, name ) {\r\n\t\t\tfor ( var i=0, ien=src.length ; i<ien ; i++ ) {\r\n\t\t\t\tif ( src[i].name === name ) {\r\n\t\t\t\t\treturn src[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t\r\n\t\tfor ( i=0, ien=heir.length ; i<ien ; i++ ) {\r\n\t\t\tmethod = heir[i].indexOf('()') !== -1;\r\n\t\t\tkey = method ?\r\n\t\t\t\their[i].replace('()', '') :\r\n\t\t\t\their[i];\r\n\t\r\n\t\t\tvar src = find( struct, key );\r\n\t\t\tif ( ! src ) {\r\n\t\t\t\tsrc = {\r\n\t\t\t\t\tname:      key,\r\n\t\t\t\t\tval:       {},\r\n\t\t\t\t\tmethodExt: [],\r\n\t\t\t\t\tpropExt:   []\r\n\t\t\t\t};\r\n\t\t\t\tstruct.push( src );\r\n\t\t\t}\r\n\t\r\n\t\t\tif ( i === ien-1 ) {\r\n\t\t\t\tsrc.val = val;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tstruct = method ?\r\n\t\t\t\t\tsrc.methodExt :\r\n\t\t\t\t\tsrc.propExt;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t_Api.registerPlural = _api_registerPlural = function ( pluralName, singularName, val ) {\r\n\t\t_Api.register( pluralName, val );\r\n\t\r\n\t\t_Api.register( singularName, function () {\r\n\t\t\tvar ret = val.apply( this, arguments );\r\n\t\r\n\t\t\tif ( ret === this ) {\r\n\t\t\t\t// Returned item is the API instance that was passed in, return it\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\telse if ( ret instanceof _Api ) {\r\n\t\t\t\t// New API instance returned, want the value from the first item\r\n\t\t\t\t// in the returned array for the singular result.\r\n\t\t\t\treturn ret.length ?\r\n\t\t\t\t\t$.isArray( ret[0] ) ?\r\n\t\t\t\t\t\tnew _Api( ret.context, ret[0] ) : // Array results are 'enhanced'\r\n\t\t\t\t\t\tret[0] :\r\n\t\t\t\t\tundefined;\r\n\t\t\t}\r\n\t\r\n\t\t\t// Non-API return - just fire it back\r\n\t\t\treturn ret;\r\n\t\t} );\r\n\t};\r\n\t\r\n\t\r\n\t/**\r\n\t * Selector for HTML tables. Apply the given selector to the give array of\r\n\t * DataTables settings objects.\r\n\t *\r\n\t * @param {string|integer} [selector] jQuery selector string or integer\r\n\t * @param  {array} Array of DataTables settings objects to be filtered\r\n\t * @return {array}\r\n\t * @ignore\r\n\t */\r\n\tvar __table_selector = function ( selector, a )\r\n\t{\r\n\t\t// Integer is used to pick out a table by index\r\n\t\tif ( typeof selector === 'number' ) {\r\n\t\t\treturn [ a[ selector ] ];\r\n\t\t}\r\n\t\r\n\t\t// Perform a jQuery selector on the table nodes\r\n\t\tvar nodes = $.map( a, function (el, i) {\r\n\t\t\treturn el.nTable;\r\n\t\t} );\r\n\t\r\n\t\treturn $(nodes)\r\n\t\t\t.filter( selector )\r\n\t\t\t.map( function (i) {\r\n\t\t\t\t// Need to translate back from the table node to the settings\r\n\t\t\t\tvar idx = $.inArray( this, nodes );\r\n\t\t\t\treturn a[ idx ];\r\n\t\t\t} )\r\n\t\t\t.toArray();\r\n\t};\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Context selector for the API's context (i.e. the tables the API instance\r\n\t * refers to.\r\n\t *\r\n\t * @name    DataTable.Api#tables\r\n\t * @param {string|integer} [selector] Selector to pick which tables the iterator\r\n\t *   should operate on. If not given, all tables in the current context are\r\n\t *   used. This can be given as a jQuery selector (for example `':gt(0)'`) to\r\n\t *   select multiple tables or as an integer to select a single table.\r\n\t * @returns {DataTable.Api} Returns a new API instance if a selector is given.\r\n\t */\r\n\t_api_register( 'tables()', function ( selector ) {\r\n\t\t// A new instance is created if there was a selector specified\r\n\t\treturn selector ?\r\n\t\t\tnew _Api( __table_selector( selector, this.context ) ) :\r\n\t\t\tthis;\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( 'table()', function ( selector ) {\r\n\t\tvar tables = this.tables( selector );\r\n\t\tvar ctx = tables.context;\r\n\t\r\n\t\t// Truncate to the first matched table\r\n\t\treturn ctx.length ?\r\n\t\t\tnew _Api( ctx[0] ) :\r\n\t\t\ttables;\r\n\t} );\r\n\t\r\n\t\r\n\t_api_registerPlural( 'tables().nodes()', 'table().node()' , function () {\r\n\t\treturn this.iterator( 'table', function ( ctx ) {\r\n\t\t\treturn ctx.nTable;\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_registerPlural( 'tables().body()', 'table().body()' , function () {\r\n\t\treturn this.iterator( 'table', function ( ctx ) {\r\n\t\t\treturn ctx.nTBody;\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_registerPlural( 'tables().header()', 'table().header()' , function () {\r\n\t\treturn this.iterator( 'table', function ( ctx ) {\r\n\t\t\treturn ctx.nTHead;\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_registerPlural( 'tables().footer()', 'table().footer()' , function () {\r\n\t\treturn this.iterator( 'table', function ( ctx ) {\r\n\t\t\treturn ctx.nTFoot;\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_registerPlural( 'tables().containers()', 'table().container()' , function () {\r\n\t\treturn this.iterator( 'table', function ( ctx ) {\r\n\t\t\treturn ctx.nTableWrapper;\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Redraw the tables in the current context.\r\n\t *\r\n\t * @param {boolean} [reset=true] Reset (default) or hold the current paging\r\n\t *   position. A full re-sort and re-filter is performed when this method is\r\n\t *   called, which is why the pagination reset is the default action.\r\n\t * @returns {DataTables.Api} this\r\n\t */\r\n\t_api_register( 'draw()', function ( resetPaging ) {\r\n\t\treturn this.iterator( 'table', function ( settings ) {\r\n\t\t\t_fnReDraw( settings, resetPaging===false );\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Get the current page index.\r\n\t *\r\n\t * @return {integer} Current page index (zero based)\r\n\t *//**\r\n\t * Set the current page.\r\n\t *\r\n\t * Note that if you attempt to show a page which does not exist, DataTables will\r\n\t * not throw an error, but rather reset the paging.\r\n\t *\r\n\t * @param {integer|string} action The paging action to take. This can be one of:\r\n\t *  * `integer` - The page index to jump to\r\n\t *  * `string` - An action to take:\r\n\t *    * `first` - Jump to first page.\r\n\t *    * `next` - Jump to the next page\r\n\t *    * `previous` - Jump to previous page\r\n\t *    * `last` - Jump to the last page.\r\n\t * @returns {DataTables.Api} this\r\n\t */\r\n\t_api_register( 'page()', function ( action ) {\r\n\t\tif ( action === undefined ) {\r\n\t\t\treturn this.page.info().page; // not an expensive call\r\n\t\t}\r\n\t\r\n\t\t// else, have an action to take on all tables\r\n\t\treturn this.iterator( 'table', function ( settings ) {\r\n\t\t\t_fnPageChange( settings, action );\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t/**\r\n\t * Paging information for the first table in the current context.\r\n\t *\r\n\t * If you require paging information for another table, use the `table()` method\r\n\t * with a suitable selector.\r\n\t *\r\n\t * @return {object} Object with the following properties set:\r\n\t *  * `page` - Current page index (zero based - i.e. the first page is `0`)\r\n\t *  * `pages` - Total number of pages\r\n\t *  * `start` - Display index for the first record shown on the current page\r\n\t *  * `end` - Display index for the last record shown on the current page\r\n\t *  * `length` - Display length (number of records). Note that generally `start\r\n\t *    + length = end`, but this is not always true, for example if there are\r\n\t *    only 2 records to show on the final page, with a length of 10.\r\n\t *  * `recordsTotal` - Full data set length\r\n\t *  * `recordsDisplay` - Data set length once the current filtering criterion\r\n\t *    are applied.\r\n\t */\r\n\t_api_register( 'page.info()', function ( action ) {\r\n\t\tif ( this.context.length === 0 ) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\r\n\t\tvar\r\n\t\t\tsettings   = this.context[0],\r\n\t\t\tstart      = settings._iDisplayStart,\r\n\t\t\tlen        = settings._iDisplayLength,\r\n\t\t\tvisRecords = settings.fnRecordsDisplay(),\r\n\t\t\tall        = len === -1;\r\n\t\r\n\t\treturn {\r\n\t\t\t\"page\":           all ? 0 : Math.floor( start / len ),\r\n\t\t\t\"pages\":          all ? 1 : Math.ceil( visRecords / len ),\r\n\t\t\t\"start\":          start,\r\n\t\t\t\"end\":            settings.fnDisplayEnd(),\r\n\t\t\t\"length\":         len,\r\n\t\t\t\"recordsTotal\":   settings.fnRecordsTotal(),\r\n\t\t\t\"recordsDisplay\": visRecords\r\n\t\t};\r\n\t} );\r\n\t\r\n\t\r\n\t/**\r\n\t * Get the current page length.\r\n\t *\r\n\t * @return {integer} Current page length. Note `-1` indicates that all records\r\n\t *   are to be shown.\r\n\t *//**\r\n\t * Set the current page length.\r\n\t *\r\n\t * @param {integer} Page length to set. Use `-1` to show all records.\r\n\t * @returns {DataTables.Api} this\r\n\t */\r\n\t_api_register( 'page.len()', function ( len ) {\r\n\t\t// Note that we can't call this function 'length()' because `length`\r\n\t\t// is a Javascript property of functions which defines how many arguments\r\n\t\t// the function expects.\r\n\t\tif ( len === undefined ) {\r\n\t\t\treturn this.context.length !== 0 ?\r\n\t\t\t\tthis.context[0]._iDisplayLength :\r\n\t\t\t\tundefined;\r\n\t\t}\r\n\t\r\n\t\t// else, set the page length\r\n\t\treturn this.iterator( 'table', function ( settings ) {\r\n\t\t\t_fnLengthChange( settings, len );\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\tvar __reload = function ( settings, holdPosition, callback ) {\r\n\t\tif ( _fnDataSource( settings ) == 'ssp' ) {\r\n\t\t\t_fnReDraw( settings, holdPosition );\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Trigger xhr\r\n\t\t\t_fnProcessingDisplay( settings, true );\r\n\t\r\n\t\t\t_fnBuildAjax( settings, [], function( json ) {\r\n\t\t\t\t_fnClearTable( settings );\r\n\t\r\n\t\t\t\tvar data = _fnAjaxDataSrc( settings, json );\r\n\t\t\t\tfor ( var i=0, ien=data.length ; i<ien ; i++ ) {\r\n\t\t\t\t\t_fnAddData( settings, data[i] );\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t_fnReDraw( settings, holdPosition );\r\n\t\t\t\t_fnProcessingDisplay( settings, false );\r\n\t\t\t} );\r\n\t\t}\r\n\t\r\n\t\t// Use the draw event to trigger a callback, regardless of if it is an async\r\n\t\t// or sync draw\r\n\t\tif ( callback ) {\r\n\t\t\tvar api = new _Api( settings );\r\n\t\r\n\t\t\tapi.one( 'draw', function () {\r\n\t\t\t\tcallback( api.ajax.json() );\r\n\t\t\t} );\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t/**\r\n\t * Get the JSON response from the last Ajax request that DataTables made to the\r\n\t * server. Note that this returns the JSON from the first table in the current\r\n\t * context.\r\n\t *\r\n\t * @return {object} JSON received from the server.\r\n\t */\r\n\t_api_register( 'ajax.json()', function () {\r\n\t\tvar ctx = this.context;\r\n\t\r\n\t\tif ( ctx.length > 0 ) {\r\n\t\t\treturn ctx[0].json;\r\n\t\t}\r\n\t\r\n\t\t// else return undefined;\r\n\t} );\r\n\t\r\n\t\r\n\t/**\r\n\t * Get the data submitted in the last Ajax request\r\n\t */\r\n\t_api_register( 'ajax.params()', function () {\r\n\t\tvar ctx = this.context;\r\n\t\r\n\t\tif ( ctx.length > 0 ) {\r\n\t\t\treturn ctx[0].oAjaxData;\r\n\t\t}\r\n\t\r\n\t\t// else return undefined;\r\n\t} );\r\n\t\r\n\t\r\n\t/**\r\n\t * Reload tables from the Ajax data source. Note that this function will\r\n\t * automatically re-draw the table when the remote data has been loaded.\r\n\t *\r\n\t * @param {boolean} [reset=true] Reset (default) or hold the current paging\r\n\t *   position. A full re-sort and re-filter is performed when this method is\r\n\t *   called, which is why the pagination reset is the default action.\r\n\t * @returns {DataTables.Api} this\r\n\t */\r\n\t_api_register( 'ajax.reload()', function ( callback, resetPaging ) {\r\n\t\treturn this.iterator( 'table', function (settings) {\r\n\t\t\t__reload( settings, resetPaging===false, callback );\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t/**\r\n\t * Get the current Ajax URL. Note that this returns the URL from the first\r\n\t * table in the current context.\r\n\t *\r\n\t * @return {string} Current Ajax source URL\r\n\t *//**\r\n\t * Set the Ajax URL. Note that this will set the URL for all tables in the\r\n\t * current context.\r\n\t *\r\n\t * @param {string} url URL to set.\r\n\t * @returns {DataTables.Api} this\r\n\t */\r\n\t_api_register( 'ajax.url()', function ( url ) {\r\n\t\tvar ctx = this.context;\r\n\t\r\n\t\tif ( url === undefined ) {\r\n\t\t\t// get\r\n\t\t\tif ( ctx.length === 0 ) {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t\tctx = ctx[0];\r\n\t\r\n\t\t\treturn ctx.ajax ?\r\n\t\t\t\t$.isPlainObject( ctx.ajax ) ?\r\n\t\t\t\t\tctx.ajax.url :\r\n\t\t\t\t\tctx.ajax :\r\n\t\t\t\tctx.sAjaxSource;\r\n\t\t}\r\n\t\r\n\t\t// set\r\n\t\treturn this.iterator( 'table', function ( settings ) {\r\n\t\t\tif ( $.isPlainObject( settings.ajax ) ) {\r\n\t\t\t\tsettings.ajax.url = url;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tsettings.ajax = url;\r\n\t\t\t}\r\n\t\t\t// No need to consider sAjaxSource here since DataTables gives priority\r\n\t\t\t// to `ajax` over `sAjaxSource`. So setting `ajax` here, renders any\r\n\t\t\t// value of `sAjaxSource` redundant.\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t/**\r\n\t * Load data from the newly set Ajax URL. Note that this method is only\r\n\t * available when `ajax.url()` is used to set a URL. Additionally, this method\r\n\t * has the same effect as calling `ajax.reload()` but is provided for\r\n\t * convenience when setting a new URL. Like `ajax.reload()` it will\r\n\t * automatically redraw the table once the remote data has been loaded.\r\n\t *\r\n\t * @returns {DataTables.Api} this\r\n\t */\r\n\t_api_register( 'ajax.url().load()', function ( callback, resetPaging ) {\r\n\t\t// Same as a reload, but makes sense to present it for easy access after a\r\n\t\t// url change\r\n\t\treturn this.iterator( 'table', function ( ctx ) {\r\n\t\t\t__reload( ctx, resetPaging===false, callback );\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tvar _selector_run = function ( selector, select )\r\n\t{\r\n\t\tvar\r\n\t\t\tout = [], res,\r\n\t\t\ta, i, ien, j, jen;\r\n\t\r\n\t\t// Can't just check for isArray here, as an API or jQuery instance might be\r\n\t\t// given with their array like look\r\n\t\tif ( ! selector || typeof selector === 'string' || selector.length === undefined ) {\r\n\t\t\tselector = [ selector ];\r\n\t\t}\r\n\t\r\n\t\tfor ( i=0, ien=selector.length ; i<ien ; i++ ) {\r\n\t\t\ta = selector[i] && selector[i].split ?\r\n\t\t\t\tselector[i].split(',') :\r\n\t\t\t\t[ selector[i] ];\r\n\t\r\n\t\t\tfor ( j=0, jen=a.length ; j<jen ; j++ ) {\r\n\t\t\t\tres = select( typeof a[j] === 'string' ? $.trim(a[j]) : a[j] );\r\n\t\r\n\t\t\t\tif ( res && res.length ) {\r\n\t\t\t\t\tout.push.apply( out, res );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\treturn out;\r\n\t};\r\n\t\r\n\t\r\n\tvar _selector_opts = function ( opts )\r\n\t{\r\n\t\tif ( ! opts ) {\r\n\t\t\topts = {};\r\n\t\t}\r\n\t\r\n\t\t// Backwards compatibility for 1.9- which used the terminology filter rather\r\n\t\t// than search\r\n\t\tif ( opts.filter && ! opts.search ) {\r\n\t\t\topts.search = opts.filter;\r\n\t\t}\r\n\t\r\n\t\treturn {\r\n\t\t\tsearch: opts.search || 'none',\r\n\t\t\torder:  opts.order  || 'current',\r\n\t\t\tpage:   opts.page   || 'all'\r\n\t\t};\r\n\t};\r\n\t\r\n\t\r\n\tvar _selector_first = function ( inst )\r\n\t{\r\n\t\t// Reduce the API instance to the first item found\r\n\t\tfor ( var i=0, ien=inst.length ; i<ien ; i++ ) {\r\n\t\t\tif ( inst[i].length > 0 ) {\r\n\t\t\t\t// Assign the first element to the first item in the instance\r\n\t\t\t\t// and truncate the instance and context\r\n\t\t\t\tinst[0] = inst[i];\r\n\t\t\t\tinst.length = 1;\r\n\t\t\t\tinst.context = [ inst.context[i] ];\r\n\t\r\n\t\t\t\treturn inst;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t// Not found - return an empty instance\r\n\t\tinst.length = 0;\r\n\t\treturn inst;\r\n\t};\r\n\t\r\n\t\r\n\tvar _selector_row_indexes = function ( settings, opts )\r\n\t{\r\n\t\tvar\r\n\t\t\ti, ien, tmp, a=[],\r\n\t\t\tdisplayFiltered = settings.aiDisplay,\r\n\t\t\tdisplayMaster = settings.aiDisplayMaster;\r\n\t\r\n\t\tvar\r\n\t\t\tsearch = opts.search,  // none, applied, removed\r\n\t\t\torder  = opts.order,   // applied, current, index (original - compatibility with 1.9)\r\n\t\t\tpage   = opts.page;    // all, current\r\n\t\r\n\t\tif ( _fnDataSource( settings ) == 'ssp' ) {\r\n\t\t\t// In server-side processing mode, most options are irrelevant since\r\n\t\t\t// rows not shown don't exist and the index order is the applied order\r\n\t\t\t// Removed is a special case - for consistency just return an empty\r\n\t\t\t// array\r\n\t\t\treturn search === 'removed' ?\r\n\t\t\t\t[] :\r\n\t\t\t\t_range( 0, displayMaster.length );\r\n\t\t}\r\n\t\telse if ( page == 'current' ) {\r\n\t\t\t// Current page implies that order=current and fitler=applied, since it is\r\n\t\t\t// fairly senseless otherwise, regardless of what order and search actually\r\n\t\t\t// are\r\n\t\t\tfor ( i=settings._iDisplayStart, ien=settings.fnDisplayEnd() ; i<ien ; i++ ) {\r\n\t\t\t\ta.push( displayFiltered[i] );\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if ( order == 'current' || order == 'applied' ) {\r\n\t\t\ta = search == 'none' ?\r\n\t\t\t\tdisplayMaster.slice() :                      // no search\r\n\t\t\t\tsearch == 'applied' ?\r\n\t\t\t\t\tdisplayFiltered.slice() :                // applied search\r\n\t\t\t\t\t$.map( displayMaster, function (el, i) { // removed search\r\n\t\t\t\t\t\treturn $.inArray( el, displayFiltered ) === -1 ? el : null;\r\n\t\t\t\t\t} );\r\n\t\t}\r\n\t\telse if ( order == 'index' || order == 'original' ) {\r\n\t\t\tfor ( i=0, ien=settings.aoData.length ; i<ien ; i++ ) {\r\n\t\t\t\tif ( search == 'none' ) {\r\n\t\t\t\t\ta.push( i );\r\n\t\t\t\t}\r\n\t\t\t\telse { // applied | removed\r\n\t\t\t\t\ttmp = $.inArray( i, displayFiltered );\r\n\t\r\n\t\t\t\t\tif ((tmp === -1 && search == 'removed') ||\r\n\t\t\t\t\t\t(tmp >= 0   && search == 'applied') )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ta.push( i );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\treturn a;\r\n\t};\r\n\t\r\n\t\r\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\t * Rows\r\n\t *\r\n\t * {}          - no selector - use all available rows\r\n\t * {integer}   - row aoData index\r\n\t * {node}      - TR node\r\n\t * {string}    - jQuery selector to apply to the TR elements\r\n\t * {array}     - jQuery array of nodes, or simply an array of TR nodes\r\n\t *\r\n\t */\r\n\t\r\n\t\r\n\tvar __row_selector = function ( settings, selector, opts )\r\n\t{\r\n\t\treturn _selector_run( selector, function ( sel ) {\r\n\t\t\tvar selInt = _intVal( sel );\r\n\t\r\n\t\t\t// Short cut - selector is a number and no options provided (default is\r\n\t\t\t// all records, so no need to check if the index is in there, since it\r\n\t\t\t// must be - dev error if the index doesn't exist).\r\n\t\t\tif ( selInt !== null && ! opts ) {\r\n\t\t\t\treturn [ selInt ];\r\n\t\t\t}\r\n\t\r\n\t\t\tvar rows = _selector_row_indexes( settings, opts );\r\n\t\r\n\t\t\tif ( selInt !== null && $.inArray( selInt, rows ) !== -1 ) {\r\n\t\t\t\t// Selector - integer\r\n\t\t\t\treturn [ selInt ];\r\n\t\t\t}\r\n\t\t\telse if ( ! sel ) {\r\n\t\t\t\t// Selector - none\r\n\t\t\t\treturn rows;\r\n\t\t\t}\r\n\t\r\n\t\t\t// Get nodes in the order from the `rows` array (can't use `pluck`) @todo - use pluck_order\r\n\t\t\tvar nodes = [];\r\n\t\t\tfor ( var i=0, ien=rows.length ; i<ien ; i++ ) {\r\n\t\t\t\tnodes.push( settings.aoData[ rows[i] ].nTr );\r\n\t\t\t}\r\n\t\r\n\t\t\tif ( sel.nodeName ) {\r\n\t\t\t\t// Selector - node\r\n\t\t\t\tif ( $.inArray( sel, nodes ) !== -1 ) {\r\n\t\t\t\t\treturn [ sel._DT_RowIndex ];// sel is a TR node that is in the table\r\n\t\t\t\t\t\t\t\t\t\t\t// and DataTables adds a prop for fast lookup\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t// Selector - jQuery selector string, array of nodes or jQuery object/\r\n\t\t\t// As jQuery's .filter() allows jQuery objects to be passed in filter,\r\n\t\t\t// it also allows arrays, so this will cope with all three options\r\n\t\t\treturn $(nodes)\r\n\t\t\t\t.filter( sel )\r\n\t\t\t\t.map( function () {\r\n\t\t\t\t\treturn this._DT_RowIndex;\r\n\t\t\t\t} )\r\n\t\t\t\t.toArray();\r\n\t\t} );\r\n\t};\r\n\t\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_api_register( 'rows()', function ( selector, opts ) {\r\n\t\t// argument shifting\r\n\t\tif ( selector === undefined ) {\r\n\t\t\tselector = '';\r\n\t\t}\r\n\t\telse if ( $.isPlainObject( selector ) ) {\r\n\t\t\topts = selector;\r\n\t\t\tselector = '';\r\n\t\t}\r\n\t\r\n\t\topts = _selector_opts( opts );\r\n\t\r\n\t\tvar inst = this.iterator( 'table', function ( settings ) {\r\n\t\t\treturn __row_selector( settings, selector, opts );\r\n\t\t} );\r\n\t\r\n\t\t// Want argument shifting here and in __row_selector?\r\n\t\tinst.selector.rows = selector;\r\n\t\tinst.selector.opts = opts;\r\n\t\r\n\t\treturn inst;\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( 'rows().nodes()', function () {\r\n\t\treturn this.iterator( 'row', function ( settings, row ) {\r\n\t\t\treturn settings.aoData[ row ].nTr || undefined;\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t_api_register( 'rows().data()', function () {\r\n\t\treturn this.iterator( true, 'rows', function ( settings, rows ) {\r\n\t\t\treturn _pluck_order( settings.aoData, rows, '_aData' );\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t_api_registerPlural( 'rows().cache()', 'row().cache()', function ( type ) {\r\n\t\treturn this.iterator( 'row', function ( settings, row ) {\r\n\t\t\tvar r = settings.aoData[ row ];\r\n\t\t\treturn type === 'search' ? r._aFilterData : r._aSortData;\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t_api_registerPlural( 'rows().invalidate()', 'row().invalidate()', function ( src ) {\r\n\t\treturn this.iterator( 'row', function ( settings, row ) {\r\n\t\t\t_fnInvalidateRow( settings, row, src );\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t_api_registerPlural( 'rows().indexes()', 'row().index()', function () {\r\n\t\treturn this.iterator( 'row', function ( settings, row ) {\r\n\t\t\treturn row;\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t_api_registerPlural( 'rows().remove()', 'row().remove()', function () {\r\n\t\tvar that = this;\r\n\t\r\n\t\treturn this.iterator( 'row', function ( settings, row, thatIdx ) {\r\n\t\t\tvar data = settings.aoData;\r\n\t\r\n\t\t\tdata.splice( row, 1 );\r\n\t\r\n\t\t\t// Update the _DT_RowIndex parameter on all rows in the table\r\n\t\t\tfor ( var i=0, ien=data.length ; i<ien ; i++ ) {\r\n\t\t\t\tif ( data[i].nTr !== null ) {\r\n\t\t\t\t\tdata[i].nTr._DT_RowIndex = i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t// Remove the target row from the search array\r\n\t\t\tvar displayIndex = $.inArray( row, settings.aiDisplay );\r\n\t\r\n\t\t\t// Delete from the display arrays\r\n\t\t\t_fnDeleteIndex( settings.aiDisplayMaster, row );\r\n\t\t\t_fnDeleteIndex( settings.aiDisplay, row );\r\n\t\t\t_fnDeleteIndex( that[ thatIdx ], row, false ); // maintain local indexes\r\n\t\r\n\t\t\t// Check for an 'overflow' they case for displaying the table\r\n\t\t\t_fnLengthOverflow( settings );\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( 'rows.add()', function ( rows ) {\r\n\t\tvar newRows = this.iterator( 'table', function ( settings ) {\r\n\t\t\t\tvar row, i, ien;\r\n\t\t\t\tvar out = [];\r\n\t\r\n\t\t\t\tfor ( i=0, ien=rows.length ; i<ien ; i++ ) {\r\n\t\t\t\t\trow = rows[i];\r\n\t\r\n\t\t\t\t\tif ( row.nodeName && row.nodeName.toUpperCase() === 'TR' ) {\r\n\t\t\t\t\t\tout.push( _fnAddTr( settings, row )[0] );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tout.push( _fnAddData( settings, row ) );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\treturn out;\r\n\t\t\t} );\r\n\t\r\n\t\t// Return an Api.rows() extended instance, so rows().nodes() etc can be used\r\n\t\tvar modRows = this.rows( -1 );\r\n\t\tmodRows.pop();\r\n\t\tmodRows.push.apply( modRows, newRows.toArray() );\r\n\t\r\n\t\treturn modRows;\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_api_register( 'row()', function ( selector, opts ) {\r\n\t\treturn _selector_first( this.rows( selector, opts ) );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( 'row().data()', function ( data ) {\r\n\t\tvar ctx = this.context;\r\n\t\r\n\t\tif ( data === undefined ) {\r\n\t\t\t// Get\r\n\t\t\treturn ctx.length && this.length ?\r\n\t\t\t\tctx[0].aoData[ this[0] ]._aData :\r\n\t\t\t\tundefined;\r\n\t\t}\r\n\t\r\n\t\t// Set\r\n\t\tctx[0].aoData[ this[0] ]._aData = data;\r\n\t\r\n\t\t// Automatically invalidate\r\n\t\t_fnInvalidateRow( ctx[0], this[0], 'data' );\r\n\t\r\n\t\treturn this;\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( 'row().node()', function () {\r\n\t\tvar ctx = this.context;\r\n\t\r\n\t\treturn ctx.length && this.length ?\r\n\t\t\tctx[0].aoData[ this[0] ].nTr || null :\r\n\t\t\tnull;\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( 'row.add()', function ( row ) {\r\n\t\t// Allow a jQuery object to be passed in - only a single row is added from\r\n\t\t// it though - the first element in the set\r\n\t\tif ( row instanceof $ && row.length ) {\r\n\t\t\trow = row[0];\r\n\t\t}\r\n\t\r\n\t\tvar rows = this.iterator( 'table', function ( settings ) {\r\n\t\t\tif ( row.nodeName && row.nodeName.toUpperCase() === 'TR' ) {\r\n\t\t\t\treturn _fnAddTr( settings, row )[0];\r\n\t\t\t}\r\n\t\t\treturn _fnAddData( settings, row );\r\n\t\t} );\r\n\t\r\n\t\t// Return an Api.rows() extended instance, with the newly added row selected\r\n\t\treturn this.row( rows[0] );\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\tvar __details_add = function ( ctx, row, data, klass )\r\n\t{\r\n\t\t// Convert to array of TR elements\r\n\t\tvar rows = [];\r\n\t\tvar addRow = function ( r, k ) {\r\n\t\t\t// If we get a TR element, then just add it directly - up to the dev\r\n\t\t\t// to add the correct number of columns etc\r\n\t\t\tif ( r.nodeName && r.nodeName.toLowerCase() === 'tr' ) {\r\n\t\t\t\trows.push( r );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// Otherwise create a row with a wrapper\r\n\t\t\t\tvar created = $('<tr><td/></tr>').addClass( k );\r\n\t\t\t\t$('td', created)\r\n\t\t\t\t\t.addClass( k )\r\n\t\t\t\t\t.html( r )\r\n\t\t\t\t\t[0].colSpan = _fnVisbleColumns( ctx );\r\n\t\r\n\t\t\t\trows.push( created[0] );\r\n\t\t\t}\r\n\t\t};\r\n\t\r\n\t\tif ( $.isArray( data ) || data instanceof $ ) {\r\n\t\t\tfor ( var i=0, ien=data.length ; i<ien ; i++ ) {\r\n\t\t\t\taddRow( data[i], klass );\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\taddRow( data, klass );\r\n\t\t}\r\n\t\r\n\t\tif ( row._details ) {\r\n\t\t\trow._details.remove();\r\n\t\t}\r\n\t\r\n\t\trow._details = $(rows);\r\n\t\r\n\t\t// If the children were already shown, that state should be retained\r\n\t\tif ( row._detailsShow ) {\r\n\t\t\trow._details.insertAfter( row.nTr );\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\tvar __details_remove = function ( api )\r\n\t{\r\n\t\tvar ctx = api.context;\r\n\t\r\n\t\tif ( ctx.length && api.length ) {\r\n\t\t\tvar row = ctx[0].aoData[ api[0] ];\r\n\t\r\n\t\t\tif ( row._details ) {\r\n\t\t\t\trow._details.remove();\r\n\t\r\n\t\t\t\trow._detailsShow = undefined;\r\n\t\t\t\trow._details = undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\tvar __details_display = function ( api, show ) {\r\n\t\tvar ctx = api.context;\r\n\t\r\n\t\tif ( ctx.length && api.length ) {\r\n\t\t\tvar row = ctx[0].aoData[ api[0] ];\r\n\t\r\n\t\t\tif ( row._details ) {\r\n\t\t\t\trow._detailsShow = show;\r\n\t\r\n\t\t\t\tif ( show ) {\r\n\t\t\t\t\trow._details.insertAfter( row.nTr );\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\trow._details.detach();\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t__details_events( ctx[0] );\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\tvar __details_events = function ( settings )\r\n\t{\r\n\t\tvar api = new _Api( settings );\r\n\t\tvar namespace = '.dt.DT_details';\r\n\t\tvar drawEvent = 'draw'+namespace;\r\n\t\tvar colvisEvent = 'column-visibility'+namespace;\r\n\t\tvar destroyEvent = 'destroy'+namespace;\r\n\t\tvar data = settings.aoData;\r\n\t\r\n\t\tapi.off( drawEvent +' '+ colvisEvent +' '+ destroyEvent );\r\n\t\r\n\t\tif ( _pluck( data, '_details' ).length > 0 ) {\r\n\t\t\t// On each draw, insert the required elements into the document\r\n\t\t\tapi.on( drawEvent, function ( e, ctx ) {\r\n\t\t\t\tif ( settings !== ctx ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tapi.rows( {page:'current'} ).eq(0).each( function (idx) {\r\n\t\t\t\t\t// Internal data grab\r\n\t\t\t\t\tvar row = data[ idx ];\r\n\t\r\n\t\t\t\t\tif ( row._detailsShow ) {\r\n\t\t\t\t\t\trow._details.insertAfter( row.nTr );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\r\n\t\t\t// Column visibility change - update the colspan\r\n\t\t\tapi.on( colvisEvent, function ( e, ctx, idx, vis ) {\r\n\t\t\t\tif ( settings !== ctx ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t// Update the colspan for the details rows (note, only if it already has\r\n\t\t\t\t// a colspan)\r\n\t\t\t\tvar row, visible = _fnVisbleColumns( ctx );\r\n\t\r\n\t\t\t\tfor ( var i=0, ien=data.length ; i<ien ; i++ ) {\r\n\t\t\t\t\trow = data[i];\r\n\t\r\n\t\t\t\t\tif ( row._details ) {\r\n\t\t\t\t\t\trow._details.children('td[colspan]').attr('colspan', visible );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\r\n\t\t\t// Table destroyed - nuke any child rows\r\n\t\t\tapi.on( destroyEvent, function ( e, ctx ) {\r\n\t\t\t\tif ( settings !== ctx ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tfor ( var i=0, ien=data.length ; i<ien ; i++ ) {\r\n\t\t\t\t\tif ( data[i]._details ) {\r\n\t\t\t\t\t\t__details_remove( data[i] );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t};\r\n\t\r\n\t// Strings for the method names to help minification\r\n\tvar _emp = '';\r\n\tvar _child_obj = _emp+'row().child';\r\n\tvar _child_mth = _child_obj+'()';\r\n\t\r\n\t// data can be:\r\n\t//  tr\r\n\t//  string\r\n\t//  jQuery or array of any of the above\r\n\t_api_register( _child_mth, function ( data, klass ) {\r\n\t\tvar ctx = this.context;\r\n\t\r\n\t\tif ( data === undefined ) {\r\n\t\t\t// get\r\n\t\t\treturn ctx.length && this.length ?\r\n\t\t\t\tctx[0].aoData[ this[0] ]._details :\r\n\t\t\t\tundefined;\r\n\t\t}\r\n\t\telse if ( data === true ) {\r\n\t\t\t// show\r\n\t\t\tthis.child.show();\r\n\t\t}\r\n\t\telse if ( data === false ) {\r\n\t\t\t// remove\r\n\t\t\t__details_remove( this );\r\n\t\t}\r\n\t\telse if ( ctx.length && this.length ) {\r\n\t\t\t// set\r\n\t\t\t__details_add( ctx[0], ctx[0].aoData[ this[0] ], data, klass );\r\n\t\t}\r\n\t\r\n\t\treturn this;\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( [\r\n\t\t_child_obj+'.show()',\r\n\t\t_child_mth+'.show()' // only when `child()` was called with parameters (without\r\n\t], function ( show ) {   // it returns an object and this method is not executed)\r\n\t\t__details_display( this, true );\r\n\t\treturn this;\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( [\r\n\t\t_child_obj+'.hide()',\r\n\t\t_child_mth+'.hide()' // only when `child()` was called with parameters (without\r\n\t], function () {         // it returns an object and this method is not executed)\r\n\t\t__details_display( this, false );\r\n\t\treturn this;\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( [\r\n\t\t_child_obj+'.remove()',\r\n\t\t_child_mth+'.remove()' // only when `child()` was called with parameters (without\r\n\t], function () {           // it returns an object and this method is not executed)\r\n\t\t__details_remove( this );\r\n\t\treturn this;\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( _child_obj+'.isShown()', function () {\r\n\t\tvar ctx = this.context;\r\n\t\r\n\t\tif ( ctx.length && this.length ) {\r\n\t\t\t// _detailsShown as false or undefined will fall through to return false\r\n\t\t\treturn ctx[0].aoData[ this[0] ]._detailsShow || false;\r\n\t\t}\r\n\t\treturn false;\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\t * Columns\r\n\t *\r\n\t * {integer}           - column index (>=0 count from left, <0 count from right)\r\n\t * \"{integer}:visIdx\"  - visible column index (i.e. translate to column index)  (>=0 count from left, <0 count from right)\r\n\t * \"{integer}:visible\" - alias for {integer}:visIdx  (>=0 count from left, <0 count from right)\r\n\t * \"{string}:name\"     - column name\r\n\t * \"{string}\"          - jQuery selector on column header nodes\r\n\t *\r\n\t */\r\n\t\r\n\t// can be an array of these items, comma separated list, or an array of comma\r\n\t// separated lists\r\n\t\r\n\tvar __re_column_selector = /^(.+):(name|visIdx|visible)$/;\r\n\t\r\n\tvar __column_selector = function ( settings, selector, opts )\r\n\t{\r\n\t\tvar\r\n\t\t\tcolumns = settings.aoColumns,\r\n\t\t\tnames = _pluck( columns, 'sName' ),\r\n\t\t\tnodes = _pluck( columns, 'nTh' );\r\n\t\r\n\t\treturn _selector_run( selector, function ( s ) {\r\n\t\t\tvar selInt = _intVal( s );\r\n\t\r\n\t\t\tif ( s === '' ) {\r\n\t\t\t\t// All columns\r\n\t\t\t\treturn _range( columns.length );\r\n\t\t\t}\r\n\t\t\telse if ( selInt !== null ) {\r\n\t\t\t\t// Integer selector\r\n\t\t\t\treturn [ selInt >= 0 ?\r\n\t\t\t\t\tselInt : // Count from left\r\n\t\t\t\t\tcolumns.length + selInt // Count from right (+ because its a negative value)\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar match = typeof s === 'string' ?\r\n\t\t\t\t\ts.match( __re_column_selector ) :\r\n\t\t\t\t\t'';\r\n\t\r\n\t\t\t\tif ( match ) {\r\n\t\t\t\t\tswitch( match[2] ) {\r\n\t\t\t\t\t\tcase 'visIdx':\r\n\t\t\t\t\t\tcase 'visible':\r\n\t\t\t\t\t\t\tvar idx = parseInt( match[1], 10 );\r\n\t\t\t\t\t\t\t// Visible index given, convert to column index\r\n\t\t\t\t\t\t\tif ( idx < 0 ) {\r\n\t\t\t\t\t\t\t\t// Counting from the right\r\n\t\t\t\t\t\t\t\tvar visColumns = $.map( columns, function (col,i) {\r\n\t\t\t\t\t\t\t\t\treturn col.bVisible ? i : null;\r\n\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t\treturn [ visColumns[ visColumns.length + idx ] ];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// Counting from the left\r\n\t\t\t\t\t\t\treturn [ _fnVisibleToColumnIndex( settings, idx ) ];\r\n\t\r\n\t\t\t\t\t\tcase 'name':\r\n\t\t\t\t\t\t\t// match by name. `names` is column index complete and in order\r\n\t\t\t\t\t\t\treturn $.map( names, function (name, i) {\r\n\t\t\t\t\t\t\t\treturn name === match[1] ? i : null;\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// jQuery selector on the TH elements for the columns\r\n\t\t\t\t\treturn $( nodes )\r\n\t\t\t\t\t\t.filter( s )\r\n\t\t\t\t\t\t.map( function () {\r\n\t\t\t\t\t\t\treturn $.inArray( this, nodes ); // `nodes` is column index complete and in order\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t.toArray();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\t};\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tvar __setColumnVis = function ( settings, column, vis, recalc ) {\r\n\t\tvar\r\n\t\t\tcols = settings.aoColumns,\r\n\t\t\tcol  = cols[ column ],\r\n\t\t\tdata = settings.aoData,\r\n\t\t\trow, cells, i, ien, tr;\r\n\t\r\n\t\t// Get\r\n\t\tif ( vis === undefined ) {\r\n\t\t\treturn col.bVisible;\r\n\t\t}\r\n\t\r\n\t\t// Set\r\n\t\t// No change\r\n\t\tif ( col.bVisible === vis ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tif ( vis ) {\r\n\t\t\t// Insert column\r\n\t\t\t// Need to decide if we should use appendChild or insertBefore\r\n\t\t\tvar insertBefore = $.inArray( true, _pluck(cols, 'bVisible'), column+1 );\r\n\t\r\n\t\t\tfor ( i=0, ien=data.length ; i<ien ; i++ ) {\r\n\t\t\t\ttr = data[i].nTr;\r\n\t\t\t\tcells = data[i].anCells;\r\n\t\r\n\t\t\t\tif ( tr ) {\r\n\t\t\t\t\t// insertBefore can act like appendChild if 2nd arg is null\r\n\t\t\t\t\ttr.insertBefore( cells[ column ], cells[ insertBefore ] || null );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Remove column\r\n\t\t\t$( _pluck( settings.aoData, 'anCells', column ) ).detach();\r\n\t\t}\r\n\t\r\n\t\t// Common actions\r\n\t\tcol.bVisible = vis;\r\n\t\t_fnDrawHead( settings, settings.aoHeader );\r\n\t\t_fnDrawHead( settings, settings.aoFooter );\r\n\t\r\n\t\tif ( recalc === undefined || recalc ) {\r\n\t\t\t// Automatically adjust column sizing\r\n\t\t\t_fnAdjustColumnSizing( settings );\r\n\t\r\n\t\t\t// Realign columns for scrolling\r\n\t\t\tif ( settings.oScroll.sX || settings.oScroll.sY ) {\r\n\t\t\t\t_fnScrollDraw( settings );\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t_fnCallbackFire( settings, null, 'column-visibility', [settings, column, vis] );\r\n\t\r\n\t\t_fnSaveState( settings );\r\n\t};\r\n\t\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_api_register( 'columns()', function ( selector, opts ) {\r\n\t\t// argument shifting\r\n\t\tif ( selector === undefined ) {\r\n\t\t\tselector = '';\r\n\t\t}\r\n\t\telse if ( $.isPlainObject( selector ) ) {\r\n\t\t\topts = selector;\r\n\t\t\tselector = '';\r\n\t\t}\r\n\t\r\n\t\topts = _selector_opts( opts );\r\n\t\r\n\t\tvar inst = this.iterator( 'table', function ( settings ) {\r\n\t\t\treturn __column_selector( settings, selector, opts );\r\n\t\t} );\r\n\t\r\n\t\t// Want argument shifting here and in _row_selector?\r\n\t\tinst.selector.cols = selector;\r\n\t\tinst.selector.opts = opts;\r\n\t\r\n\t\treturn inst;\r\n\t} );\r\n\t\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_api_registerPlural( 'columns().header()', 'column().header()', function ( selector, opts ) {\r\n\t\treturn this.iterator( 'column', function ( settings, column ) {\r\n\t\t\treturn settings.aoColumns[column].nTh;\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_api_registerPlural( 'columns().footer()', 'column().footer()', function ( selector, opts ) {\r\n\t\treturn this.iterator( 'column', function ( settings, column ) {\r\n\t\t\treturn settings.aoColumns[column].nTf;\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_api_registerPlural( 'columns().data()', 'column().data()', function () {\r\n\t\treturn this.iterator( 'column-rows', function ( settings, column, i, j, rows ) {\r\n\t\t\tvar a = [];\r\n\t\t\tfor ( var row=0, ien=rows.length ; row<ien ; row++ ) {\r\n\t\t\t\ta.push( _fnGetCellData( settings, rows[row], column, '' ) );\r\n\t\t\t}\r\n\t\t\treturn a;\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_registerPlural( 'columns().cache()', 'column().cache()', function ( type ) {\r\n\t\treturn this.iterator( 'column-rows', function ( settings, column, i, j, rows ) {\r\n\t\t\treturn _pluck_order( settings.aoData, rows,\r\n\t\t\t\ttype === 'search' ? '_aFilterData' : '_aSortData', column\r\n\t\t\t);\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_registerPlural( 'columns().nodes()', 'column().nodes()', function () {\r\n\t\treturn this.iterator( 'column-rows', function ( settings, column, i, j, rows ) {\r\n\t\t\treturn _pluck_order( settings.aoData, rows, 'anCells', column ) ;\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\t_api_registerPlural( 'columns().visible()', 'column().visible()', function ( vis, calc ) {\r\n\t\treturn this.iterator( 'column', function ( settings, column ) {\r\n\t\t\treturn vis === undefined ?\r\n\t\t\t\tsettings.aoColumns[ column ].bVisible :\r\n\t\t\t\t__setColumnVis( settings, column, vis, calc );\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\t_api_registerPlural( 'columns().indexes()', 'column().index()', function ( type ) {\r\n\t\treturn this.iterator( 'column', function ( settings, column ) {\r\n\t\t\treturn type === 'visible' ?\r\n\t\t\t\t_fnColumnIndexToVisible( settings, column ) :\r\n\t\t\t\tcolumn;\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t// _api_register( 'columns().show()', function () {\r\n\t// \tvar selector = this.selector;\r\n\t// \treturn this.columns( selector.cols, selector.opts ).visible( true );\r\n\t// } );\r\n\t\r\n\t\r\n\t// _api_register( 'columns().hide()', function () {\r\n\t// \tvar selector = this.selector;\r\n\t// \treturn this.columns( selector.cols, selector.opts ).visible( false );\r\n\t// } );\r\n\t\r\n\t\r\n\t\r\n\t_api_register( 'columns.adjust()', function () {\r\n\t\treturn this.iterator( 'table', function ( settings ) {\r\n\t\t\t_fnAdjustColumnSizing( settings );\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t// Convert from one column index type, to another type\r\n\t_api_register( 'column.index()', function ( type, idx ) {\r\n\t\tif ( this.context.length !== 0 ) {\r\n\t\t\tvar ctx = this.context[0];\r\n\t\r\n\t\t\tif ( type === 'fromVisible' || type === 'toData' ) {\r\n\t\t\t\treturn _fnVisibleToColumnIndex( ctx, idx );\r\n\t\t\t}\r\n\t\t\telse if ( type === 'fromData' || type === 'toVisible' ) {\r\n\t\t\t\treturn _fnColumnIndexToVisible( ctx, idx );\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( 'column()', function ( selector, opts ) {\r\n\t\treturn _selector_first( this.columns( selector, opts ) );\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tvar __cell_selector = function ( settings, selector, opts )\r\n\t{\r\n\t\tvar data = settings.aoData;\r\n\t\tvar rows = _selector_row_indexes( settings, opts );\r\n\t\tvar cells = _pluck_order( data, rows, 'anCells' );\r\n\t\tvar allCells = $( [].concat.apply([], cells) );\r\n\t\tvar row;\r\n\t\tvar columns = settings.aoColumns.length;\r\n\t\tvar a, i, ien, j;\r\n\t\r\n\t\treturn _selector_run( selector, function ( s ) {\r\n\t\t\tif ( s === null || s === undefined ) {\r\n\t\t\t\t// All cells\r\n\t\t\t\ta = [];\r\n\t\r\n\t\t\t\tfor ( i=0, ien=rows.length ; i<ien ; i++ ) {\r\n\t\t\t\t\trow = rows[i];\r\n\t\r\n\t\t\t\t\tfor ( j=0 ; j<columns ; j++ ) {\r\n\t\t\t\t\t\ta.push( {\r\n\t\t\t\t\t\t\trow: row,\r\n\t\t\t\t\t\t\tcolumn: j\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\treturn a;\r\n\t\t\t}\r\n\t\t\telse if ( $.isPlainObject( s ) ) {\r\n\t\t\t\treturn [s];\r\n\t\t\t}\r\n\t\r\n\t\t\t// jQuery filtered cells\r\n\t\t\treturn allCells\r\n\t\t\t\t.filter( s )\r\n\t\t\t\t.map( function (i, el) {\r\n\t\t\t\t\trow = el.parentNode._DT_RowIndex;\r\n\t\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\trow: row,\r\n\t\t\t\t\t\tcolumn: $.inArray( el, data[ row ].anCells )\r\n\t\t\t\t\t};\r\n\t\t\t\t} )\r\n\t\t\t\t.toArray();\r\n\t\t} );\r\n\t};\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t_api_register( 'cells()', function ( rowSelector, columnSelector, opts ) {\r\n\t\t// Argument shifting\r\n\t\tif ( $.isPlainObject( rowSelector ) ) {\r\n\t\t\t// Indexes\r\n\t\t\tif ( typeof rowSelector.row !== undefined ) {\r\n\t\t\t\topts = columnSelector;\r\n\t\t\t\tcolumnSelector = null;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\topts = rowSelector;\r\n\t\t\t\trowSelector = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ( $.isPlainObject( columnSelector ) ) {\r\n\t\t\topts = columnSelector;\r\n\t\t\tcolumnSelector = null;\r\n\t\t}\r\n\t\r\n\t\t// Cell selector\r\n\t\tif ( columnSelector === null || columnSelector === undefined ) {\r\n\t\t\treturn this.iterator( 'table', function ( settings ) {\r\n\t\t\t\treturn __cell_selector( settings, rowSelector, _selector_opts( opts ) );\r\n\t\t\t} );\r\n\t\t}\r\n\t\r\n\t\t// Row + column selector\r\n\t\tvar columns = this.columns( columnSelector, opts );\r\n\t\tvar rows = this.rows( rowSelector, opts );\r\n\t\tvar a, i, ien, j, jen;\r\n\t\r\n\t\tvar cells = this.iterator( 'table', function ( settings, idx ) {\r\n\t\t\ta = [];\r\n\t\r\n\t\t\tfor ( i=0, ien=rows[idx].length ; i<ien ; i++ ) {\r\n\t\t\t\tfor ( j=0, jen=columns[idx].length ; j<jen ; j++ ) {\r\n\t\t\t\t\ta.push( {\r\n\t\t\t\t\t\trow:    rows[idx][i],\r\n\t\t\t\t\t\tcolumn: columns[idx][j]\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\treturn a;\r\n\t\t} );\r\n\t\r\n\t\t$.extend( cells.selector, {\r\n\t\t\tcols: columnSelector,\r\n\t\t\trows: rowSelector,\r\n\t\t\topts: opts\r\n\t\t} );\r\n\t\r\n\t\treturn cells;\r\n\t} );\r\n\t\r\n\t\r\n\t_api_registerPlural( 'cells().nodes()', 'cell().node()', function () {\r\n\t\treturn this.iterator( 'cell', function ( settings, row, column ) {\r\n\t\t\treturn settings.aoData[ row ].anCells[ column ];\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( 'cells().data()', function () {\r\n\t\treturn this.iterator( 'cell', function ( settings, row, column ) {\r\n\t\t\treturn _fnGetCellData( settings, row, column );\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_registerPlural( 'cells().cache()', 'cell().cache()', function ( type ) {\r\n\t\ttype = type === 'search' ? '_aFilterData' : '_aSortData';\r\n\t\r\n\t\treturn this.iterator( 'cell', function ( settings, row, column ) {\r\n\t\t\treturn settings.aoData[ row ][ type ][ column ];\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_registerPlural( 'cells().indexes()', 'cell().index()', function () {\r\n\t\treturn this.iterator( 'cell', function ( settings, row, column ) {\r\n\t\t\treturn {\r\n\t\t\t\trow: row,\r\n\t\t\t\tcolumn: column,\r\n\t\t\t\tcolumnVisible: _fnColumnIndexToVisible( settings, column )\r\n\t\t\t};\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( [\r\n\t\t'cells().invalidate()',\r\n\t\t'cell().invalidate()'\r\n\t], function ( src ) {\r\n\t\tvar selector = this.selector;\r\n\t\r\n\t\t// Use the rows method of the instance to perform the invalidation, rather\r\n\t\t// than doing it here. This avoids needing to handle duplicate rows from\r\n\t\t// the cells.\r\n\t\tthis.rows( selector.rows, selector.opts ).invalidate( src );\r\n\t\r\n\t\treturn this;\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t_api_register( 'cell()', function ( rowSelector, columnSelector, opts ) {\r\n\t\treturn _selector_first( this.cells( rowSelector, columnSelector, opts ) );\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\t_api_register( 'cell().data()', function ( data ) {\r\n\t\tvar ctx = this.context;\r\n\t\tvar cell = this[0];\r\n\t\r\n\t\tif ( data === undefined ) {\r\n\t\t\t// Get\r\n\t\t\treturn ctx.length && cell.length ?\r\n\t\t\t\t_fnGetCellData( ctx[0], cell[0].row, cell[0].column ) :\r\n\t\t\t\tundefined;\r\n\t\t}\r\n\t\r\n\t\t// Set\r\n\t\t_fnSetCellData( ctx[0], cell[0].row, cell[0].column, data );\r\n\t\t_fnInvalidateRow( ctx[0], cell[0].row, 'data', cell[0].column );\r\n\t\r\n\t\treturn this;\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Get current ordering (sorting) that has been applied to the table.\r\n\t *\r\n\t * @returns {array} 2D array containing the sorting information for the first\r\n\t *   table in the current context. Each element in the parent array represents\r\n\t *   a column being sorted upon (i.e. multi-sorting with two columns would have\r\n\t *   2 inner arrays). The inner arrays may have 2 or 3 elements. The first is\r\n\t *   the column index that the sorting condition applies to, the second is the\r\n\t *   direction of the sort (`desc` or `asc`) and, optionally, the third is the\r\n\t *   index of the sorting order from the `column.sorting` initialisation array.\r\n\t *//**\r\n\t * Set the ordering for the table.\r\n\t *\r\n\t * @param {integer} order Column index to sort upon.\r\n\t * @param {string} direction Direction of the sort to be applied (`asc` or `desc`)\r\n\t * @returns {DataTables.Api} this\r\n\t *//**\r\n\t * Set the ordering for the table.\r\n\t *\r\n\t * @param {array} order 1D array of sorting information to be applied.\r\n\t * @param {array} [...] Optional additional sorting conditions\r\n\t * @returns {DataTables.Api} this\r\n\t *//**\r\n\t * Set the ordering for the table.\r\n\t *\r\n\t * @param {array} order 2D array of sorting information to be applied.\r\n\t * @returns {DataTables.Api} this\r\n\t */\r\n\t_api_register( 'order()', function ( order, dir ) {\r\n\t\tvar ctx = this.context;\r\n\t\r\n\t\tif ( order === undefined ) {\r\n\t\t\t// get\r\n\t\t\treturn ctx.length !== 0 ?\r\n\t\t\t\tctx[0].aaSorting :\r\n\t\t\t\tundefined;\r\n\t\t}\r\n\t\r\n\t\t// set\r\n\t\tif ( typeof order === 'number' ) {\r\n\t\t\t// Simple column / direction passed in\r\n\t\t\torder = [ [ order, dir ] ];\r\n\t\t}\r\n\t\telse if ( ! $.isArray( order[0] ) ) {\r\n\t\t\t// Arguments passed in (list of 1D arrays)\r\n\t\t\torder = Array.prototype.slice.call( arguments );\r\n\t\t}\r\n\t\t// otherwise a 2D array was passed in\r\n\t\r\n\t\treturn this.iterator( 'table', function ( settings ) {\r\n\t\t\tsettings.aaSorting = order.slice();\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t/**\r\n\t * Attach a sort listener to an element for a given column\r\n\t *\r\n\t * @param {node|jQuery|string} node Identifier for the element(s) to attach the\r\n\t *   listener to. This can take the form of a single DOM node, a jQuery\r\n\t *   collection of nodes or a jQuery selector which will identify the node(s).\r\n\t * @param {integer} column the column that a click on this node will sort on\r\n\t * @param {function} [callback] callback function when sort is run\r\n\t * @returns {DataTables.Api} this\r\n\t */\r\n\t_api_register( 'order.listener()', function ( node, column, callback ) {\r\n\t\treturn this.iterator( 'table', function ( settings ) {\r\n\t\t\t_fnSortAttachListener( settings, node, column, callback );\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t// Order by the selected column(s)\r\n\t_api_register( [\r\n\t\t'columns().order()',\r\n\t\t'column().order()'\r\n\t], function ( dir ) {\r\n\t\tvar that = this;\r\n\t\r\n\t\treturn this.iterator( 'table', function ( settings, i ) {\r\n\t\t\tvar sort = [];\r\n\t\r\n\t\t\t$.each( that[i], function (j, col) {\r\n\t\t\t\tsort.push( [ col, dir ] );\r\n\t\t\t} );\r\n\t\r\n\t\t\tsettings.aaSorting = sort;\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\t_api_register( 'search()', function ( input, regex, smart, caseInsen ) {\r\n\t\tvar ctx = this.context;\r\n\t\r\n\t\tif ( input === undefined ) {\r\n\t\t\t// get\r\n\t\t\treturn ctx.length !== 0 ?\r\n\t\t\t\tctx[0].oPreviousSearch.sSearch :\r\n\t\t\t\tundefined;\r\n\t\t}\r\n\t\r\n\t\t// set\r\n\t\treturn this.iterator( 'table', function ( settings ) {\r\n\t\t\tif ( ! settings.oFeatures.bFilter ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\r\n\t\t\t_fnFilterComplete( settings, $.extend( {}, settings.oPreviousSearch, {\r\n\t\t\t\t\"sSearch\": input+\"\",\r\n\t\t\t\t\"bRegex\":  regex === null ? false : regex,\r\n\t\t\t\t\"bSmart\":  smart === null ? true  : smart,\r\n\t\t\t\t\"bCaseInsensitive\": caseInsen === null ? true : caseInsen\r\n\t\t\t} ), 1 );\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_registerPlural(\r\n\t\t'columns().search()',\r\n\t\t'column().search()',\r\n\t\tfunction ( input, regex, smart, caseInsen ) {\r\n\t\t\treturn this.iterator( 'column', function ( settings, column ) {\r\n\t\t\t\tvar preSearch = settings.aoPreSearchCols;\r\n\t\r\n\t\t\t\tif ( input === undefined ) {\r\n\t\t\t\t\t// get\r\n\t\t\t\t\treturn preSearch[ column ].sSearch;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t// set\r\n\t\t\t\tif ( ! settings.oFeatures.bFilter ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t$.extend( preSearch[ column ], {\r\n\t\t\t\t\t\"sSearch\": input+\"\",\r\n\t\t\t\t\t\"bRegex\":  regex === null ? false : regex,\r\n\t\t\t\t\t\"bSmart\":  smart === null ? true  : smart,\r\n\t\t\t\t\t\"bCaseInsensitive\": caseInsen === null ? true : caseInsen\r\n\t\t\t\t} );\r\n\t\r\n\t\t\t\t_fnFilterComplete( settings, settings.oPreviousSearch, 1 );\r\n\t\t\t} );\r\n\t\t}\r\n\t);\r\n\t\r\n\t/*\r\n\t * State API methods\r\n\t */\r\n\t\r\n\t_api_register( 'state()', function () {\r\n\t\treturn this.context.length ?\r\n\t\t\tthis.context[0].oSavedState :\r\n\t\t\tnull;\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( 'state.clear()', function () {\r\n\t\treturn this.iterator( 'table', function ( settings ) {\r\n\t\t\t// Save an empty object\r\n\t\t\tsettings.fnStateSaveCallback.call( settings.oInstance, settings, {} );\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( 'state.loaded()', function () {\r\n\t\treturn this.context.length ?\r\n\t\t\tthis.context[0].oLoadedState :\r\n\t\t\tnull;\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( 'state.save()', function () {\r\n\t\treturn this.iterator( 'table', function ( settings ) {\r\n\t\t\t_fnSaveState( settings );\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Provide a common method for plug-ins to check the version of DataTables being\r\n\t * used, in order to ensure compatibility.\r\n\t *\r\n\t *  @param {string} version Version string to check for, in the format \"X.Y.Z\".\r\n\t *    Note that the formats \"X\" and \"X.Y\" are also acceptable.\r\n\t *  @returns {boolean} true if this version of DataTables is greater or equal to\r\n\t *    the required version, or false if this version of DataTales is not\r\n\t *    suitable\r\n\t *  @static\r\n\t *  @dtopt API-Static\r\n\t *\r\n\t *  @example\r\n\t *    alert( $.fn.dataTable.versionCheck( '1.9.0' ) );\r\n\t */\r\n\tDataTable.versionCheck = DataTable.fnVersionCheck = function( version )\r\n\t{\r\n\t\tvar aThis = DataTable.version.split('.');\r\n\t\tvar aThat = version.split('.');\r\n\t\tvar iThis, iThat;\r\n\t\r\n\t\tfor ( var i=0, iLen=aThat.length ; i<iLen ; i++ ) {\r\n\t\t\tiThis = parseInt( aThis[i], 10 ) || 0;\r\n\t\t\tiThat = parseInt( aThat[i], 10 ) || 0;\r\n\t\r\n\t\t\t// Parts are the same, keep comparing\r\n\t\t\tif (iThis === iThat) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\r\n\t\t\t// Parts are different, return immediately\r\n\t\t\treturn iThis > iThat;\r\n\t\t}\r\n\t\r\n\t\treturn true;\r\n\t};\r\n\t\r\n\t\r\n\t/**\r\n\t * Check if a `<table>` node is a DataTable table already or not.\r\n\t *\r\n\t *  @param {node|jquery|string} table Table node, jQuery object or jQuery\r\n\t *      selector for the table to test. Note that if more than more than one\r\n\t *      table is passed on, only the first will be checked\r\n\t *  @returns {boolean} true the table given is a DataTable, or false otherwise\r\n\t *  @static\r\n\t *  @dtopt API-Static\r\n\t *\r\n\t *  @example\r\n\t *    if ( ! $.fn.DataTable.isDataTable( '#example' ) ) {\r\n\t *      $('#example').dataTable();\r\n\t *    }\r\n\t */\r\n\tDataTable.isDataTable = DataTable.fnIsDataTable = function ( table )\r\n\t{\r\n\t\tvar t = $(table).get(0);\r\n\t\tvar is = false;\r\n\t\r\n\t\t$.each( DataTable.settings, function (i, o) {\r\n\t\t\tif ( o.nTable === t || o.nScrollHead === t || o.nScrollFoot === t ) {\r\n\t\t\t\tis = true;\r\n\t\t\t}\r\n\t\t} );\r\n\t\r\n\t\treturn is;\r\n\t};\r\n\t\r\n\t\r\n\t/**\r\n\t * Get all DataTable tables that have been initialised - optionally you can\r\n\t * select to get only currently visible tables.\r\n\t *\r\n\t *  @param {boolean} [visible=false] Flag to indicate if you want all (default)\r\n\t *    or visible tables only.\r\n\t *  @returns {array} Array of `table` nodes (not DataTable instances) which are\r\n\t *    DataTables\r\n\t *  @static\r\n\t *  @dtopt API-Static\r\n\t *\r\n\t *  @example\r\n\t *    $.each( $.fn.dataTable.tables(true), function () {\r\n\t *      $(table).DataTable().columns.adjust();\r\n\t *    } );\r\n\t */\r\n\tDataTable.tables = DataTable.fnTables = function ( visible )\r\n\t{\r\n\t\treturn jQuery.map( DataTable.settings, function (o) {\r\n\t\t\tif ( !visible || (visible && $(o.nTable).is(':visible')) ) {\r\n\t\t\t\treturn o.nTable;\r\n\t\t\t}\r\n\t\t} );\r\n\t};\r\n\t\r\n\t\r\n\t/**\r\n\t * Convert from camel case parameters to Hungarian notation. This is made public\r\n\t * for the extensions to provide the same ability as DataTables core to accept\r\n\t * either the 1.9 style Hungarian notation, or the 1.10+ style camelCase\r\n\t * parameters.\r\n\t *\r\n\t *  @param {object} src The model object which holds all parameters that can be\r\n\t *    mapped.\r\n\t *  @param {object} user The object to convert from camel case to Hungarian.\r\n\t *  @param {boolean} force When set to `true`, properties which already have a\r\n\t *    Hungarian value in the `user` object will be overwritten. Otherwise they\r\n\t *    won't be.\r\n\t */\r\n\tDataTable.camelToHungarian = _fnCamelToHungarian;\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_api_register( '$()', function ( selector, opts ) {\r\n\t\tvar\r\n\t\t\trows   = this.rows( opts ).nodes(), // Get all rows\r\n\t\t\tjqRows = $(rows);\r\n\t\r\n\t\treturn $( [].concat(\r\n\t\t\tjqRows.filter( selector ).toArray(),\r\n\t\t\tjqRows.find( selector ).toArray()\r\n\t\t) );\r\n\t} );\r\n\t\r\n\t\r\n\t// jQuery functions to operate on the tables\r\n\t$.each( [ 'on', 'one', 'off' ], function (i, key) {\r\n\t\t_api_register( key+'()', function ( /* event, handler */ ) {\r\n\t\t\tvar args = Array.prototype.slice.call(arguments);\r\n\t\r\n\t\t\t// Add the `dt` namespace automatically if it isn't already present\r\n\t\t\tif ( ! args[0].match(/\\.dt\\b/) ) {\r\n\t\t\t\targs[0] += '.dt';\r\n\t\t\t}\r\n\t\r\n\t\t\tvar inst = $( this.tables().nodes() );\r\n\t\t\tinst[key].apply( inst, args );\r\n\t\t\treturn this;\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( 'clear()', function () {\r\n\t\treturn this.iterator( 'table', function ( settings ) {\r\n\t\t\t_fnClearTable( settings );\r\n\t\t} );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( 'settings()', function () {\r\n\t\treturn new _Api( this.context, this.context );\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( 'data()', function () {\r\n\t\treturn this.iterator( 'table', function ( settings ) {\r\n\t\t\treturn _pluck( settings.aoData, '_aData' );\r\n\t\t} ).flatten();\r\n\t} );\r\n\t\r\n\t\r\n\t_api_register( 'destroy()', function ( remove ) {\r\n\t\tremove = remove || false;\r\n\t\r\n\t\treturn this.iterator( 'table', function ( settings ) {\r\n\t\t\tvar orig      = settings.nTableWrapper.parentNode;\r\n\t\t\tvar classes   = settings.oClasses;\r\n\t\t\tvar table     = settings.nTable;\r\n\t\t\tvar tbody     = settings.nTBody;\r\n\t\t\tvar thead     = settings.nTHead;\r\n\t\t\tvar tfoot     = settings.nTFoot;\r\n\t\t\tvar jqTable   = $(table);\r\n\t\t\tvar jqTbody   = $(tbody);\r\n\t\t\tvar jqWrapper = $(settings.nTableWrapper);\r\n\t\t\tvar rows      = $.map( settings.aoData, function (r) { return r.nTr; } );\r\n\t\t\tvar i, ien;\r\n\t\r\n\t\t\t// Flag to note that the table is currently being destroyed - no action\r\n\t\t\t// should be taken\r\n\t\t\tsettings.bDestroying = true;\r\n\t\r\n\t\t\t// Fire off the destroy callbacks for plug-ins etc\r\n\t\t\t_fnCallbackFire( settings, \"aoDestroyCallback\", \"destroy\", [settings] );\r\n\t\r\n\t\t\t// If not being removed from the document, make all columns visible\r\n\t\t\tif ( ! remove ) {\r\n\t\t\t\tnew _Api( settings ).columns().visible( true );\r\n\t\t\t}\r\n\t\r\n\t\t\t// Blitz all `DT` namespaced events (these are internal events, the\r\n\t\t\t// lowercase, `dt` events are user subscribed and they are responsible\r\n\t\t\t// for removing them\r\n\t\t\tjqWrapper.unbind('.DT').find(':not(tbody *)').unbind('.DT');\r\n\t\t\t$(window).unbind('.DT-'+settings.sInstance);\r\n\t\r\n\t\t\t// When scrolling we had to break the table up - restore it\r\n\t\t\tif ( table != thead.parentNode ) {\r\n\t\t\t\tjqTable.children('thead').detach();\r\n\t\t\t\tjqTable.append( thead );\r\n\t\t\t}\r\n\t\r\n\t\t\tif ( tfoot && table != tfoot.parentNode ) {\r\n\t\t\t\tjqTable.children('tfoot').detach();\r\n\t\t\t\tjqTable.append( tfoot );\r\n\t\t\t}\r\n\t\r\n\t\t\t// Remove the DataTables generated nodes, events and classes\r\n\t\t\tjqTable.detach();\r\n\t\t\tjqWrapper.detach();\r\n\t\r\n\t\t\tsettings.aaSorting = [];\r\n\t\t\tsettings.aaSortingFixed = [];\r\n\t\t\t_fnSortingClasses( settings );\r\n\t\r\n\t\t\t$( rows ).removeClass( settings.asStripeClasses.join(' ') );\r\n\t\r\n\t\t\t$('th, td', thead).removeClass( classes.sSortable+' '+\r\n\t\t\t\tclasses.sSortableAsc+' '+classes.sSortableDesc+' '+classes.sSortableNone\r\n\t\t\t);\r\n\t\r\n\t\t\tif ( settings.bJUI ) {\r\n\t\t\t\t$('th span.'+classes.sSortIcon+ ', td span.'+classes.sSortIcon, thead).detach();\r\n\t\t\t\t$('th, td', thead).each( function () {\r\n\t\t\t\t\tvar wrapper = $('div.'+classes.sSortJUIWrapper, this);\r\n\t\t\t\t\t$(this).append( wrapper.contents() );\r\n\t\t\t\t\twrapper.detach();\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\r\n\t\t\tif ( ! remove && orig ) {\r\n\t\t\t\t// insertBefore acts like appendChild if !arg[1]\r\n\t\t\t\torig.insertBefore( table, settings.nTableReinsertBefore );\r\n\t\t\t}\r\n\t\r\n\t\t\t// Add the TR elements back into the table in their original order\r\n\t\t\tjqTbody.children().detach();\r\n\t\t\tjqTbody.append( rows );\r\n\t\r\n\t\t\t// Restore the width of the original table - was read from the style property,\r\n\t\t\t// so we can restore directly to that\r\n\t\t\tjqTable\r\n\t\t\t\t.css( 'width', settings.sDestroyWidth )\r\n\t\t\t\t.removeClass( classes.sTable );\r\n\t\r\n\t\t\t// If the were originally stripe classes - then we add them back here.\r\n\t\t\t// Note this is not fool proof (for example if not all rows had stripe\r\n\t\t\t// classes - but it's a good effort without getting carried away\r\n\t\t\tien = settings.asDestroyStripes.length;\r\n\t\r\n\t\t\tif ( ien ) {\r\n\t\t\t\tjqTbody.children().each( function (i) {\r\n\t\t\t\t\t$(this).addClass( settings.asDestroyStripes[i % ien] );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\r\n\t\t\t/* Remove the settings object from the settings array */\r\n\t\t\tvar idx = $.inArray( settings, DataTable.settings );\r\n\t\t\tif ( idx !== -1 ) {\r\n\t\t\t\tDataTable.settings.splice( idx, 1 );\r\n\t\t\t}\r\n\t\t} );\r\n\t} );\r\n\t\r\n\r\n\t/**\r\n\t * Version string for plug-ins to check compatibility. Allowed format is\r\n\t * `a.b.c-d` where: a:int, b:int, c:int, d:string(dev|beta|alpha). `d` is used\r\n\t * only for non-release builds. See http://semver.org/ for more information.\r\n\t *  @member\r\n\t *  @type string\r\n\t *  @default Version number\r\n\t */\r\n\tDataTable.version = \"1.10.2\";\r\n\r\n\t/**\r\n\t * Private data store, containing all of the settings objects that are\r\n\t * created for the tables on a given page.\r\n\t *\r\n\t * Note that the `DataTable.settings` object is aliased to\r\n\t * `jQuery.fn.dataTableExt` through which it may be accessed and\r\n\t * manipulated, or `jQuery.fn.dataTable.settings`.\r\n\t *  @member\r\n\t *  @type array\r\n\t *  @default []\r\n\t *  @private\r\n\t */\r\n\tDataTable.settings = [];\r\n\r\n\t/**\r\n\t * Object models container, for the various models that DataTables has\r\n\t * available to it. These models define the objects that are used to hold\r\n\t * the active state and configuration of the table.\r\n\t *  @namespace\r\n\t */\r\n\tDataTable.models = {};\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Template object for the way in which DataTables holds information about\r\n\t * search information for the global filter and individual column filters.\r\n\t *  @namespace\r\n\t */\r\n\tDataTable.models.oSearch = {\r\n\t\t/**\r\n\t\t * Flag to indicate if the filtering should be case insensitive or not\r\n\t\t *  @type boolean\r\n\t\t *  @default true\r\n\t\t */\r\n\t\t\"bCaseInsensitive\": true,\r\n\t\r\n\t\t/**\r\n\t\t * Applied search term\r\n\t\t *  @type string\r\n\t\t *  @default <i>Empty string</i>\r\n\t\t */\r\n\t\t\"sSearch\": \"\",\r\n\t\r\n\t\t/**\r\n\t\t * Flag to indicate if the search term should be interpreted as a\r\n\t\t * regular expression (true) or not (false) and therefore and special\r\n\t\t * regex characters escaped.\r\n\t\t *  @type boolean\r\n\t\t *  @default false\r\n\t\t */\r\n\t\t\"bRegex\": false,\r\n\t\r\n\t\t/**\r\n\t\t * Flag to indicate if DataTables is to use its smart filtering or not.\r\n\t\t *  @type boolean\r\n\t\t *  @default true\r\n\t\t */\r\n\t\t\"bSmart\": true\r\n\t};\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Template object for the way in which DataTables holds information about\r\n\t * each individual row. This is the object format used for the settings\r\n\t * aoData array.\r\n\t *  @namespace\r\n\t */\r\n\tDataTable.models.oRow = {\r\n\t\t/**\r\n\t\t * TR element for the row\r\n\t\t *  @type node\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"nTr\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Array of TD elements for each row. This is null until the row has been\r\n\t\t * created.\r\n\t\t *  @type array nodes\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"anCells\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Data object from the original data source for the row. This is either\r\n\t\t * an array if using the traditional form of DataTables, or an object if\r\n\t\t * using mData options. The exact type will depend on the passed in\r\n\t\t * data from the data source, or will be an array if using DOM a data\r\n\t\t * source.\r\n\t\t *  @type array|object\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"_aData\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Sorting data cache - this array is ostensibly the same length as the\r\n\t\t * number of columns (although each index is generated only as it is\r\n\t\t * needed), and holds the data that is used for sorting each column in the\r\n\t\t * row. We do this cache generation at the start of the sort in order that\r\n\t\t * the formatting of the sort data need be done only once for each cell\r\n\t\t * per sort. This array should not be read from or written to by anything\r\n\t\t * other than the master sorting methods.\r\n\t\t *  @type array\r\n\t\t *  @default null\r\n\t\t *  @private\r\n\t\t */\r\n\t\t\"_aSortData\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Per cell filtering data cache. As per the sort data cache, used to\r\n\t\t * increase the performance of the filtering in DataTables\r\n\t\t *  @type array\r\n\t\t *  @default null\r\n\t\t *  @private\r\n\t\t */\r\n\t\t\"_aFilterData\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Filtering data cache. This is the same as the cell filtering cache, but\r\n\t\t * in this case a string rather than an array. This is easily computed with\r\n\t\t * a join on `_aFilterData`, but is provided as a cache so the join isn't\r\n\t\t * needed on every search (memory traded for performance)\r\n\t\t *  @type array\r\n\t\t *  @default null\r\n\t\t *  @private\r\n\t\t */\r\n\t\t\"_sFilterRow\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Cache of the class name that DataTables has applied to the row, so we\r\n\t\t * can quickly look at this variable rather than needing to do a DOM check\r\n\t\t * on className for the nTr property.\r\n\t\t *  @type string\r\n\t\t *  @default <i>Empty string</i>\r\n\t\t *  @private\r\n\t\t */\r\n\t\t\"_sRowStripe\": \"\",\r\n\t\r\n\t\t/**\r\n\t\t * Denote if the original data source was from the DOM, or the data source\r\n\t\t * object. This is used for invalidating data, so DataTables can\r\n\t\t * automatically read data from the original source, unless uninstructed\r\n\t\t * otherwise.\r\n\t\t *  @type string\r\n\t\t *  @default null\r\n\t\t *  @private\r\n\t\t */\r\n\t\t\"src\": null\r\n\t};\r\n\t\r\n\t\r\n\t/**\r\n\t * Template object for the column information object in DataTables. This object\r\n\t * is held in the settings aoColumns array and contains all the information that\r\n\t * DataTables needs about each individual column.\r\n\t *\r\n\t * Note that this object is related to {@link DataTable.defaults.column}\r\n\t * but this one is the internal data store for DataTables's cache of columns.\r\n\t * It should NOT be manipulated outside of DataTables. Any configuration should\r\n\t * be done through the initialisation options.\r\n\t *  @namespace\r\n\t */\r\n\tDataTable.models.oColumn = {\r\n\t\t/**\r\n\t\t * Column index. This could be worked out on-the-fly with $.inArray, but it\r\n\t\t * is faster to just hold it as a variable\r\n\t\t *  @type integer\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"idx\": null,\r\n\t\r\n\t\t/**\r\n\t\t * A list of the columns that sorting should occur on when this column\r\n\t\t * is sorted. That this property is an array allows multi-column sorting\r\n\t\t * to be defined for a column (for example first name / last name columns\r\n\t\t * would benefit from this). The values are integers pointing to the\r\n\t\t * columns to be sorted on (typically it will be a single integer pointing\r\n\t\t * at itself, but that doesn't need to be the case).\r\n\t\t *  @type array\r\n\t\t */\r\n\t\t\"aDataSort\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Define the sorting directions that are applied to the column, in sequence\r\n\t\t * as the column is repeatedly sorted upon - i.e. the first value is used\r\n\t\t * as the sorting direction when the column if first sorted (clicked on).\r\n\t\t * Sort it again (click again) and it will move on to the next index.\r\n\t\t * Repeat until loop.\r\n\t\t *  @type array\r\n\t\t */\r\n\t\t\"asSorting\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Flag to indicate if the column is searchable, and thus should be included\r\n\t\t * in the filtering or not.\r\n\t\t *  @type boolean\r\n\t\t */\r\n\t\t\"bSearchable\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Flag to indicate if the column is sortable or not.\r\n\t\t *  @type boolean\r\n\t\t */\r\n\t\t\"bSortable\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Flag to indicate if the column is currently visible in the table or not\r\n\t\t *  @type boolean\r\n\t\t */\r\n\t\t\"bVisible\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Store for manual type assignment using the `column.type` option. This\r\n\t\t * is held in store so we can manipulate the column's `sType` property.\r\n\t\t *  @type string\r\n\t\t *  @default null\r\n\t\t *  @private\r\n\t\t */\r\n\t\t\"_sManualType\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Flag to indicate if HTML5 data attributes should be used as the data\r\n\t\t * source for filtering or sorting. True is either are.\r\n\t\t *  @type boolean\r\n\t\t *  @default false\r\n\t\t *  @private\r\n\t\t */\r\n\t\t\"_bAttrSrc\": false,\r\n\t\r\n\t\t/**\r\n\t\t * Developer definable function that is called whenever a cell is created (Ajax source,\r\n\t\t * etc) or processed for input (DOM source). This can be used as a compliment to mRender\r\n\t\t * allowing you to modify the DOM element (add background colour for example) when the\r\n\t\t * element is available.\r\n\t\t *  @type function\r\n\t\t *  @param {element} nTd The TD node that has been created\r\n\t\t *  @param {*} sData The Data for the cell\r\n\t\t *  @param {array|object} oData The data for the whole row\r\n\t\t *  @param {int} iRow The row index for the aoData data store\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"fnCreatedCell\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Function to get data from a cell in a column. You should <b>never</b>\r\n\t\t * access data directly through _aData internally in DataTables - always use\r\n\t\t * the method attached to this property. It allows mData to function as\r\n\t\t * required. This function is automatically assigned by the column\r\n\t\t * initialisation method\r\n\t\t *  @type function\r\n\t\t *  @param {array|object} oData The data array/object for the array\r\n\t\t *    (i.e. aoData[]._aData)\r\n\t\t *  @param {string} sSpecific The specific data type you want to get -\r\n\t\t *    'display', 'type' 'filter' 'sort'\r\n\t\t *  @returns {*} The data for the cell from the given row's data\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"fnGetData\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Function to set data for a cell in the column. You should <b>never</b>\r\n\t\t * set the data directly to _aData internally in DataTables - always use\r\n\t\t * this method. It allows mData to function as required. This function\r\n\t\t * is automatically assigned by the column initialisation method\r\n\t\t *  @type function\r\n\t\t *  @param {array|object} oData The data array/object for the array\r\n\t\t *    (i.e. aoData[]._aData)\r\n\t\t *  @param {*} sValue Value to set\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"fnSetData\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Property to read the value for the cells in the column from the data\r\n\t\t * source array / object. If null, then the default content is used, if a\r\n\t\t * function is given then the return from the function is used.\r\n\t\t *  @type function|int|string|null\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"mData\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Partner property to mData which is used (only when defined) to get\r\n\t\t * the data - i.e. it is basically the same as mData, but without the\r\n\t\t * 'set' option, and also the data fed to it is the result from mData.\r\n\t\t * This is the rendering method to match the data method of mData.\r\n\t\t *  @type function|int|string|null\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"mRender\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Unique header TH/TD element for this column - this is what the sorting\r\n\t\t * listener is attached to (if sorting is enabled.)\r\n\t\t *  @type node\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"nTh\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Unique footer TH/TD element for this column (if there is one). Not used\r\n\t\t * in DataTables as such, but can be used for plug-ins to reference the\r\n\t\t * footer for each column.\r\n\t\t *  @type node\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"nTf\": null,\r\n\t\r\n\t\t/**\r\n\t\t * The class to apply to all TD elements in the table's TBODY for the column\r\n\t\t *  @type string\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"sClass\": null,\r\n\t\r\n\t\t/**\r\n\t\t * When DataTables calculates the column widths to assign to each column,\r\n\t\t * it finds the longest string in each column and then constructs a\r\n\t\t * temporary table and reads the widths from that. The problem with this\r\n\t\t * is that \"mmm\" is much wider then \"iiii\", but the latter is a longer\r\n\t\t * string - thus the calculation can go wrong (doing it properly and putting\r\n\t\t * it into an DOM object and measuring that is horribly(!) slow). Thus as\r\n\t\t * a \"work around\" we provide this option. It will append its value to the\r\n\t\t * text that is found to be the longest string for the column - i.e. padding.\r\n\t\t *  @type string\r\n\t\t */\r\n\t\t\"sContentPadding\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Allows a default value to be given for a column's data, and will be used\r\n\t\t * whenever a null data source is encountered (this can be because mData\r\n\t\t * is set to null, or because the data source itself is null).\r\n\t\t *  @type string\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"sDefaultContent\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Name for the column, allowing reference to the column by name as well as\r\n\t\t * by index (needs a lookup to work by name).\r\n\t\t *  @type string\r\n\t\t */\r\n\t\t\"sName\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Custom sorting data type - defines which of the available plug-ins in\r\n\t\t * afnSortData the custom sorting will use - if any is defined.\r\n\t\t *  @type string\r\n\t\t *  @default std\r\n\t\t */\r\n\t\t\"sSortDataType\": 'std',\r\n\t\r\n\t\t/**\r\n\t\t * Class to be applied to the header element when sorting on this column\r\n\t\t *  @type string\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"sSortingClass\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Class to be applied to the header element when sorting on this column -\r\n\t\t * when jQuery UI theming is used.\r\n\t\t *  @type string\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"sSortingClassJUI\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Title of the column - what is seen in the TH element (nTh).\r\n\t\t *  @type string\r\n\t\t */\r\n\t\t\"sTitle\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Column sorting and filtering type\r\n\t\t *  @type string\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"sType\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Width of the column\r\n\t\t *  @type string\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"sWidth\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Width of the column when it was first \"encountered\"\r\n\t\t *  @type string\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"sWidthOrig\": null\r\n\t};\r\n\t\r\n\t\r\n\t/*\r\n\t * Developer note: The properties of the object below are given in Hungarian\r\n\t * notation, that was used as the interface for DataTables prior to v1.10, however\r\n\t * from v1.10 onwards the primary interface is camel case. In order to avoid\r\n\t * breaking backwards compatibility utterly with this change, the Hungarian\r\n\t * version is still, internally the primary interface, but is is not documented\r\n\t * - hence the @name tags in each doc comment. This allows a Javascript function\r\n\t * to create a map from Hungarian notation to camel case (going the other direction\r\n\t * would require each property to be listed, which would at around 3K to the size\r\n\t * of DataTables, while this method is about a 0.5K hit.\r\n\t *\r\n\t * Ultimately this does pave the way for Hungarian notation to be dropped\r\n\t * completely, but that is a massive amount of work and will break current\r\n\t * installs (therefore is on-hold until v2).\r\n\t */\r\n\t\r\n\t/**\r\n\t * Initialisation options that can be given to DataTables at initialisation\r\n\t * time.\r\n\t *  @namespace\r\n\t */\r\n\tDataTable.defaults = {\r\n\t\t/**\r\n\t\t * An array of data to use for the table, passed in at initialisation which\r\n\t\t * will be used in preference to any data which is already in the DOM. This is\r\n\t\t * particularly useful for constructing tables purely in Javascript, for\r\n\t\t * example with a custom Ajax call.\r\n\t\t *  @type array\r\n\t\t *  @default null\r\n\t\t *\r\n\t\t *  @dtopt Option\r\n\t\t *  @name DataTable.defaults.data\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using a 2D array data source\r\n\t\t *    $(document).ready( function () {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"data\": [\r\n\t\t *          ['Trident', 'Internet Explorer 4.0', 'Win 95+', 4, 'X'],\r\n\t\t *          ['Trident', 'Internet Explorer 5.0', 'Win 95+', 5, 'C'],\r\n\t\t *        ],\r\n\t\t *        \"columns\": [\r\n\t\t *          { \"title\": \"Engine\" },\r\n\t\t *          { \"title\": \"Browser\" },\r\n\t\t *          { \"title\": \"Platform\" },\r\n\t\t *          { \"title\": \"Version\" },\r\n\t\t *          { \"title\": \"Grade\" }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using an array of objects as a data source (`data`)\r\n\t\t *    $(document).ready( function () {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"data\": [\r\n\t\t *          {\r\n\t\t *            \"engine\":   \"Trident\",\r\n\t\t *            \"browser\":  \"Internet Explorer 4.0\",\r\n\t\t *            \"platform\": \"Win 95+\",\r\n\t\t *            \"version\":  4,\r\n\t\t *            \"grade\":    \"X\"\r\n\t\t *          },\r\n\t\t *          {\r\n\t\t *            \"engine\":   \"Trident\",\r\n\t\t *            \"browser\":  \"Internet Explorer 5.0\",\r\n\t\t *            \"platform\": \"Win 95+\",\r\n\t\t *            \"version\":  5,\r\n\t\t *            \"grade\":    \"C\"\r\n\t\t *          }\r\n\t\t *        ],\r\n\t\t *        \"columns\": [\r\n\t\t *          { \"title\": \"Engine\",   \"data\": \"engine\" },\r\n\t\t *          { \"title\": \"Browser\",  \"data\": \"browser\" },\r\n\t\t *          { \"title\": \"Platform\", \"data\": \"platform\" },\r\n\t\t *          { \"title\": \"Version\",  \"data\": \"version\" },\r\n\t\t *          { \"title\": \"Grade\",    \"data\": \"grade\" }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"aaData\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * If ordering is enabled, then DataTables will perform a first pass sort on\r\n\t\t * initialisation. You can define which column(s) the sort is performed\r\n\t\t * upon, and the sorting direction, with this variable. The `sorting` array\r\n\t\t * should contain an array for each column to be sorted initially containing\r\n\t\t * the column's index and a direction string ('asc' or 'desc').\r\n\t\t *  @type array\r\n\t\t *  @default [[0,'asc']]\r\n\t\t *\r\n\t\t *  @dtopt Option\r\n\t\t *  @name DataTable.defaults.order\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Sort by 3rd column first, and then 4th column\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"order\": [[2,'asc'], [3,'desc']]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *    // No initial sorting\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"order\": []\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"aaSorting\": [[0,'asc']],\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * This parameter is basically identical to the `sorting` parameter, but\r\n\t\t * cannot be overridden by user interaction with the table. What this means\r\n\t\t * is that you could have a column (visible or hidden) which the sorting\r\n\t\t * will always be forced on first - any sorting after that (from the user)\r\n\t\t * will then be performed as required. This can be useful for grouping rows\r\n\t\t * together.\r\n\t\t *  @type array\r\n\t\t *  @default null\r\n\t\t *\r\n\t\t *  @dtopt Option\r\n\t\t *  @name DataTable.defaults.orderFixed\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"orderFixed\": [[0,'asc']]\r\n\t\t *      } );\r\n\t\t *    } )\r\n\t\t */\r\n\t\t\"aaSortingFixed\": [],\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * DataTables can be instructed to load data to display in the table from a\r\n\t\t * Ajax source. This option defines how that Ajax call is made and where to.\r\n\t\t *\r\n\t\t * The `ajax` property has three different modes of operation, depending on\r\n\t\t * how it is defined. These are:\r\n\t\t *\r\n\t\t * * `string` - Set the URL from where the data should be loaded from.\r\n\t\t * * `object` - Define properties for `jQuery.ajax`.\r\n\t\t * * `function` - Custom data get function\r\n\t\t *\r\n\t\t * `string`\r\n\t\t * --------\r\n\t\t *\r\n\t\t * As a string, the `ajax` property simply defines the URL from which\r\n\t\t * DataTables will load data.\r\n\t\t *\r\n\t\t * `object`\r\n\t\t * --------\r\n\t\t *\r\n\t\t * As an object, the parameters in the object are passed to\r\n\t\t * [jQuery.ajax](http://api.jquery.com/jQuery.ajax/) allowing fine control\r\n\t\t * of the Ajax request. DataTables has a number of default parameters which\r\n\t\t * you can override using this option. Please refer to the jQuery\r\n\t\t * documentation for a full description of the options available, although\r\n\t\t * the following parameters provide additional options in DataTables or\r\n\t\t * require special consideration:\r\n\t\t *\r\n\t\t * * `data` - As with jQuery, `data` can be provided as an object, but it\r\n\t\t *   can also be used as a function to manipulate the data DataTables sends\r\n\t\t *   to the server. The function takes a single parameter, an object of\r\n\t\t *   parameters with the values that DataTables has readied for sending. An\r\n\t\t *   object may be returned which will be merged into the DataTables\r\n\t\t *   defaults, or you can add the items to the object that was passed in and\r\n\t\t *   not return anything from the function. This supersedes `fnServerParams`\r\n\t\t *   from DataTables 1.9-.\r\n\t\t *\r\n\t\t * * `dataSrc` - By default DataTables will look for the property `data` (or\r\n\t\t *   `aaData` for compatibility with DataTables 1.9-) when obtaining data\r\n\t\t *   from an Ajax source or for server-side processing - this parameter\r\n\t\t *   allows that property to be changed. You can use Javascript dotted\r\n\t\t *   object notation to get a data source for multiple levels of nesting, or\r\n\t\t *   it my be used as a function. As a function it takes a single parameter,\r\n\t\t *   the JSON returned from the server, which can be manipulated as\r\n\t\t *   required, with the returned value being that used by DataTables as the\r\n\t\t *   data source for the table. This supersedes `sAjaxDataProp` from\r\n\t\t *   DataTables 1.9-.\r\n\t\t *\r\n\t\t * * `success` - Should not be overridden it is used internally in\r\n\t\t *   DataTables. To manipulate / transform the data returned by the server\r\n\t\t *   use `ajax.dataSrc`, or use `ajax` as a function (see below).\r\n\t\t *\r\n\t\t * `function`\r\n\t\t * ----------\r\n\t\t *\r\n\t\t * As a function, making the Ajax call is left up to yourself allowing\r\n\t\t * complete control of the Ajax request. Indeed, if desired, a method other\r\n\t\t * than Ajax could be used to obtain the required data, such as Web storage\r\n\t\t * or an AIR database.\r\n\t\t *\r\n\t\t * The function is given four parameters and no return is required. The\r\n\t\t * parameters are:\r\n\t\t *\r\n\t\t * 1. _object_ - Data to send to the server\r\n\t\t * 2. _function_ - Callback function that must be executed when the required\r\n\t\t *    data has been obtained. That data should be passed into the callback\r\n\t\t *    as the only parameter\r\n\t\t * 3. _object_ - DataTables settings object for the table\r\n\t\t *\r\n\t\t * Note that this supersedes `fnServerData` from DataTables 1.9-.\r\n\t\t *\r\n\t\t *  @type string|object|function\r\n\t\t *  @default null\r\n\t\t *\r\n\t\t *  @dtopt Option\r\n\t\t *  @name DataTable.defaults.ajax\r\n\t\t *  @since 1.10.0\r\n\t\t *\r\n\t\t * @example\r\n\t\t *   // Get JSON data from a file via Ajax.\r\n\t\t *   // Note DataTables expects data in the form `{ data: [ ...data... ] }` by default).\r\n\t\t *   $('#example').dataTable( {\r\n\t\t *     \"ajax\": \"data.json\"\r\n\t\t *   } );\r\n\t\t *\r\n\t\t * @example\r\n\t\t *   // Get JSON data from a file via Ajax, using `dataSrc` to change\r\n\t\t *   // `data` to `tableData` (i.e. `{ tableData: [ ...data... ] }`)\r\n\t\t *   $('#example').dataTable( {\r\n\t\t *     \"ajax\": {\r\n\t\t *       \"url\": \"data.json\",\r\n\t\t *       \"dataSrc\": \"tableData\"\r\n\t\t *     }\r\n\t\t *   } );\r\n\t\t *\r\n\t\t * @example\r\n\t\t *   // Get JSON data from a file via Ajax, using `dataSrc` to read data\r\n\t\t *   // from a plain array rather than an array in an object\r\n\t\t *   $('#example').dataTable( {\r\n\t\t *     \"ajax\": {\r\n\t\t *       \"url\": \"data.json\",\r\n\t\t *       \"dataSrc\": \"\"\r\n\t\t *     }\r\n\t\t *   } );\r\n\t\t *\r\n\t\t * @example\r\n\t\t *   // Manipulate the data returned from the server - add a link to data\r\n\t\t *   // (note this can, should, be done using `render` for the column - this\r\n\t\t *   // is just a simple example of how the data can be manipulated).\r\n\t\t *   $('#example').dataTable( {\r\n\t\t *     \"ajax\": {\r\n\t\t *       \"url\": \"data.json\",\r\n\t\t *       \"dataSrc\": function ( json ) {\r\n\t\t *         for ( var i=0, ien=json.length ; i<ien ; i++ ) {\r\n\t\t *           json[i][0] = '<a href=\"/message/'+json[i][0]+'>View message</a>';\r\n\t\t *         }\r\n\t\t *         return json;\r\n\t\t *       }\r\n\t\t *     }\r\n\t\t *   } );\r\n\t\t *\r\n\t\t * @example\r\n\t\t *   // Add data to the request\r\n\t\t *   $('#example').dataTable( {\r\n\t\t *     \"ajax\": {\r\n\t\t *       \"url\": \"data.json\",\r\n\t\t *       \"data\": function ( d ) {\r\n\t\t *         return {\r\n\t\t *           \"extra_search\": $('#extra').val()\r\n\t\t *         };\r\n\t\t *       }\r\n\t\t *     }\r\n\t\t *   } );\r\n\t\t *\r\n\t\t * @example\r\n\t\t *   // Send request as POST\r\n\t\t *   $('#example').dataTable( {\r\n\t\t *     \"ajax\": {\r\n\t\t *       \"url\": \"data.json\",\r\n\t\t *       \"type\": \"POST\"\r\n\t\t *     }\r\n\t\t *   } );\r\n\t\t *\r\n\t\t * @example\r\n\t\t *   // Get the data from localStorage (could interface with a form for\r\n\t\t *   // adding, editing and removing rows).\r\n\t\t *   $('#example').dataTable( {\r\n\t\t *     \"ajax\": function (data, callback, settings) {\r\n\t\t *       callback(\r\n\t\t *         JSON.parse( localStorage.getItem('dataTablesData') )\r\n\t\t *       );\r\n\t\t *     }\r\n\t\t *   } );\r\n\t\t */\r\n\t\t\"ajax\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * This parameter allows you to readily specify the entries in the length drop\r\n\t\t * down menu that DataTables shows when pagination is enabled. It can be\r\n\t\t * either a 1D array of options which will be used for both the displayed\r\n\t\t * option and the value, or a 2D array which will use the array in the first\r\n\t\t * position as the value, and the array in the second position as the\r\n\t\t * displayed options (useful for language strings such as 'All').\r\n\t\t *\r\n\t\t * Note that the `pageLength` property will be automatically set to the\r\n\t\t * first value given in this array, unless `pageLength` is also provided.\r\n\t\t *  @type array\r\n\t\t *  @default [ 10, 25, 50, 100 ]\r\n\t\t *\r\n\t\t *  @dtopt Option\r\n\t\t *  @name DataTable.defaults.lengthMenu\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"lengthMenu\": [[10, 25, 50, -1], [10, 25, 50, \"All\"]]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"aLengthMenu\": [ 10, 25, 50, 100 ],\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * The `columns` option in the initialisation parameter allows you to define\r\n\t\t * details about the way individual columns behave. For a full list of\r\n\t\t * column options that can be set, please see\r\n\t\t * {@link DataTable.defaults.column}. Note that if you use `columns` to\r\n\t\t * define your columns, you must have an entry in the array for every single\r\n\t\t * column that you have in your table (these can be null if you don't which\r\n\t\t * to specify any options).\r\n\t\t *  @member\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column\r\n\t\t */\r\n\t\t\"aoColumns\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Very similar to `columns`, `columnDefs` allows you to target a specific\r\n\t\t * column, multiple columns, or all columns, using the `targets` property of\r\n\t\t * each object in the array. This allows great flexibility when creating\r\n\t\t * tables, as the `columnDefs` arrays can be of any length, targeting the\r\n\t\t * columns you specifically want. `columnDefs` may use any of the column\r\n\t\t * options available: {@link DataTable.defaults.column}, but it _must_\r\n\t\t * have `targets` defined in each object in the array. Values in the `targets`\r\n\t\t * array may be:\r\n\t\t *   <ul>\r\n\t\t *     <li>a string - class name will be matched on the TH for the column</li>\r\n\t\t *     <li>0 or a positive integer - column index counting from the left</li>\r\n\t\t *     <li>a negative integer - column index counting from the right</li>\r\n\t\t *     <li>the string \"_all\" - all columns (i.e. assign a default)</li>\r\n\t\t *   </ul>\r\n\t\t *  @member\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.columnDefs\r\n\t\t */\r\n\t\t\"aoColumnDefs\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Basically the same as `search`, this parameter defines the individual column\r\n\t\t * filtering state at initialisation time. The array must be of the same size\r\n\t\t * as the number of columns, and each element be an object with the parameters\r\n\t\t * `search` and `escapeRegex` (the latter is optional). 'null' is also\r\n\t\t * accepted and the default will be used.\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t *\r\n\t\t *  @dtopt Option\r\n\t\t *  @name DataTable.defaults.searchCols\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"searchCols\": [\r\n\t\t *          null,\r\n\t\t *          { \"search\": \"My filter\" },\r\n\t\t *          null,\r\n\t\t *          { \"search\": \"^[0-9]\", \"escapeRegex\": false }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } )\r\n\t\t */\r\n\t\t\"aoSearchCols\": [],\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * An array of CSS classes that should be applied to displayed rows. This\r\n\t\t * array may be of any length, and DataTables will apply each class\r\n\t\t * sequentially, looping when required.\r\n\t\t *  @type array\r\n\t\t *  @default null <i>Will take the values determined by the `oClasses.stripe*`\r\n\t\t *    options</i>\r\n\t\t *\r\n\t\t *  @dtopt Option\r\n\t\t *  @name DataTable.defaults.stripeClasses\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"stripeClasses\": [ 'strip1', 'strip2', 'strip3' ]\r\n\t\t *      } );\r\n\t\t *    } )\r\n\t\t */\r\n\t\t\"asStripeClasses\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Enable or disable automatic column width calculation. This can be disabled\r\n\t\t * as an optimisation (it takes some time to calculate the widths) if the\r\n\t\t * tables widths are passed in using `columns`.\r\n\t\t *  @type boolean\r\n\t\t *  @default true\r\n\t\t *\r\n\t\t *  @dtopt Features\r\n\t\t *  @name DataTable.defaults.autoWidth\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function () {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"autoWidth\": false\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bAutoWidth\": true,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Deferred rendering can provide DataTables with a huge speed boost when you\r\n\t\t * are using an Ajax or JS data source for the table. This option, when set to\r\n\t\t * true, will cause DataTables to defer the creation of the table elements for\r\n\t\t * each row until they are needed for a draw - saving a significant amount of\r\n\t\t * time.\r\n\t\t *  @type boolean\r\n\t\t *  @default false\r\n\t\t *\r\n\t\t *  @dtopt Features\r\n\t\t *  @name DataTable.defaults.deferRender\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"ajax\": \"sources/arrays.txt\",\r\n\t\t *        \"deferRender\": true\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bDeferRender\": false,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Replace a DataTable which matches the given selector and replace it with\r\n\t\t * one which has the properties of the new initialisation object passed. If no\r\n\t\t * table matches the selector, then the new DataTable will be constructed as\r\n\t\t * per normal.\r\n\t\t *  @type boolean\r\n\t\t *  @default false\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @name DataTable.defaults.destroy\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"srollY\": \"200px\",\r\n\t\t *        \"paginate\": false\r\n\t\t *      } );\r\n\t\t *\r\n\t\t *      // Some time later....\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"filter\": false,\r\n\t\t *        \"destroy\": true\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bDestroy\": false,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Enable or disable filtering of data. Filtering in DataTables is \"smart\" in\r\n\t\t * that it allows the end user to input multiple words (space separated) and\r\n\t\t * will match a row containing those words, even if not in the order that was\r\n\t\t * specified (this allow matching across multiple columns). Note that if you\r\n\t\t * wish to use filtering in DataTables this must remain 'true' - to remove the\r\n\t\t * default filtering input box and retain filtering abilities, please use\r\n\t\t * {@link DataTable.defaults.dom}.\r\n\t\t *  @type boolean\r\n\t\t *  @default true\r\n\t\t *\r\n\t\t *  @dtopt Features\r\n\t\t *  @name DataTable.defaults.searching\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function () {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"searching\": false\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bFilter\": true,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Enable or disable the table information display. This shows information\r\n\t\t * about the data that is currently visible on the page, including information\r\n\t\t * about filtered data if that action is being performed.\r\n\t\t *  @type boolean\r\n\t\t *  @default true\r\n\t\t *\r\n\t\t *  @dtopt Features\r\n\t\t *  @name DataTable.defaults.info\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function () {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"info\": false\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bInfo\": true,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Enable jQuery UI ThemeRoller support (required as ThemeRoller requires some\r\n\t\t * slightly different and additional mark-up from what DataTables has\r\n\t\t * traditionally used).\r\n\t\t *  @type boolean\r\n\t\t *  @default false\r\n\t\t *\r\n\t\t *  @dtopt Features\r\n\t\t *  @name DataTable.defaults.jQueryUI\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"jQueryUI\": true\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bJQueryUI\": false,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Allows the end user to select the size of a formatted page from a select\r\n\t\t * menu (sizes are 10, 25, 50 and 100). Requires pagination (`paginate`).\r\n\t\t *  @type boolean\r\n\t\t *  @default true\r\n\t\t *\r\n\t\t *  @dtopt Features\r\n\t\t *  @name DataTable.defaults.lengthChange\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function () {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"lengthChange\": false\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bLengthChange\": true,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Enable or disable pagination.\r\n\t\t *  @type boolean\r\n\t\t *  @default true\r\n\t\t *\r\n\t\t *  @dtopt Features\r\n\t\t *  @name DataTable.defaults.paging\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function () {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"paging\": false\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bPaginate\": true,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Enable or disable the display of a 'processing' indicator when the table is\r\n\t\t * being processed (e.g. a sort). This is particularly useful for tables with\r\n\t\t * large amounts of data where it can take a noticeable amount of time to sort\r\n\t\t * the entries.\r\n\t\t *  @type boolean\r\n\t\t *  @default false\r\n\t\t *\r\n\t\t *  @dtopt Features\r\n\t\t *  @name DataTable.defaults.processing\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function () {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"processing\": true\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bProcessing\": false,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Retrieve the DataTables object for the given selector. Note that if the\r\n\t\t * table has already been initialised, this parameter will cause DataTables\r\n\t\t * to simply return the object that has already been set up - it will not take\r\n\t\t * account of any changes you might have made to the initialisation object\r\n\t\t * passed to DataTables (setting this parameter to true is an acknowledgement\r\n\t\t * that you understand this). `destroy` can be used to reinitialise a table if\r\n\t\t * you need.\r\n\t\t *  @type boolean\r\n\t\t *  @default false\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @name DataTable.defaults.retrieve\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      initTable();\r\n\t\t *      tableActions();\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *    function initTable ()\r\n\t\t *    {\r\n\t\t *      return $('#example').dataTable( {\r\n\t\t *        \"scrollY\": \"200px\",\r\n\t\t *        \"paginate\": false,\r\n\t\t *        \"retrieve\": true\r\n\t\t *      } );\r\n\t\t *    }\r\n\t\t *\r\n\t\t *    function tableActions ()\r\n\t\t *    {\r\n\t\t *      var table = initTable();\r\n\t\t *      // perform API operations with oTable\r\n\t\t *    }\r\n\t\t */\r\n\t\t\"bRetrieve\": false,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * When vertical (y) scrolling is enabled, DataTables will force the height of\r\n\t\t * the table's viewport to the given height at all times (useful for layout).\r\n\t\t * However, this can look odd when filtering data down to a small data set,\r\n\t\t * and the footer is left \"floating\" further down. This parameter (when\r\n\t\t * enabled) will cause DataTables to collapse the table's viewport down when\r\n\t\t * the result set will fit within the given Y height.\r\n\t\t *  @type boolean\r\n\t\t *  @default false\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @name DataTable.defaults.scrollCollapse\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"scrollY\": \"200\",\r\n\t\t *        \"scrollCollapse\": true\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bScrollCollapse\": false,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Configure DataTables to use server-side processing. Note that the\r\n\t\t * `ajax` parameter must also be given in order to give DataTables a\r\n\t\t * source to obtain the required data for each draw.\r\n\t\t *  @type boolean\r\n\t\t *  @default false\r\n\t\t *\r\n\t\t *  @dtopt Features\r\n\t\t *  @dtopt Server-side\r\n\t\t *  @name DataTable.defaults.serverSide\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function () {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"serverSide\": true,\r\n\t\t *        \"ajax\": \"xhr.php\"\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bServerSide\": false,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Enable or disable sorting of columns. Sorting of individual columns can be\r\n\t\t * disabled by the `sortable` option for each column.\r\n\t\t *  @type boolean\r\n\t\t *  @default true\r\n\t\t *\r\n\t\t *  @dtopt Features\r\n\t\t *  @name DataTable.defaults.ordering\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function () {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"ordering\": false\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bSort\": true,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Enable or display DataTables' ability to sort multiple columns at the\r\n\t\t * same time (activated by shift-click by the user).\r\n\t\t *  @type boolean\r\n\t\t *  @default true\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @name DataTable.defaults.orderMulti\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Disable multiple column sorting ability\r\n\t\t *    $(document).ready( function () {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"orderMulti\": false\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bSortMulti\": true,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Allows control over whether DataTables should use the top (true) unique\r\n\t\t * cell that is found for a single column, or the bottom (false - default).\r\n\t\t * This is useful when using complex headers.\r\n\t\t *  @type boolean\r\n\t\t *  @default false\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @name DataTable.defaults.orderCellsTop\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"orderCellsTop\": true\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bSortCellsTop\": false,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Enable or disable the addition of the classes `sorting\\_1`, `sorting\\_2` and\r\n\t\t * `sorting\\_3` to the columns which are currently being sorted on. This is\r\n\t\t * presented as a feature switch as it can increase processing time (while\r\n\t\t * classes are removed and added) so for large data sets you might want to\r\n\t\t * turn this off.\r\n\t\t *  @type boolean\r\n\t\t *  @default true\r\n\t\t *\r\n\t\t *  @dtopt Features\r\n\t\t *  @name DataTable.defaults.orderClasses\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function () {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"orderClasses\": false\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bSortClasses\": true,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Enable or disable state saving. When enabled HTML5 `localStorage` will be\r\n\t\t * used to save table display information such as pagination information,\r\n\t\t * display length, filtering and sorting. As such when the end user reloads\r\n\t\t * the page the display display will match what thy had previously set up.\r\n\t\t *\r\n\t\t * Due to the use of `localStorage` the default state saving is not supported\r\n\t\t * in IE6 or 7. If state saving is required in those browsers, use\r\n\t\t * `stateSaveCallback` to provide a storage solution such as cookies.\r\n\t\t *  @type boolean\r\n\t\t *  @default false\r\n\t\t *\r\n\t\t *  @dtopt Features\r\n\t\t *  @name DataTable.defaults.stateSave\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function () {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"stateSave\": true\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bStateSave\": false,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * This function is called when a TR element is created (and all TD child\r\n\t\t * elements have been inserted), or registered if using a DOM source, allowing\r\n\t\t * manipulation of the TR element (adding classes etc).\r\n\t\t *  @type function\r\n\t\t *  @param {node} row \"TR\" element for the current row\r\n\t\t *  @param {array} data Raw data array for this row\r\n\t\t *  @param {int} dataIndex The index of this row in the internal aoData array\r\n\t\t *\r\n\t\t *  @dtopt Callbacks\r\n\t\t *  @name DataTable.defaults.createdRow\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"createdRow\": function( row, data, dataIndex ) {\r\n\t\t *          // Bold the grade for all 'A' grade browsers\r\n\t\t *          if ( data[4] == \"A\" )\r\n\t\t *          {\r\n\t\t *            $('td:eq(4)', row).html( '<b>A</b>' );\r\n\t\t *          }\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"fnCreatedRow\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * This function is called on every 'draw' event, and allows you to\r\n\t\t * dynamically modify any aspect you want about the created DOM.\r\n\t\t *  @type function\r\n\t\t *  @param {object} settings DataTables settings object\r\n\t\t *\r\n\t\t *  @dtopt Callbacks\r\n\t\t *  @name DataTable.defaults.drawCallback\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"drawCallback\": function( settings ) {\r\n\t\t *          alert( 'DataTables has redrawn the table' );\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"fnDrawCallback\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Identical to fnHeaderCallback() but for the table footer this function\r\n\t\t * allows you to modify the table footer on every 'draw' event.\r\n\t\t *  @type function\r\n\t\t *  @param {node} foot \"TR\" element for the footer\r\n\t\t *  @param {array} data Full table data (as derived from the original HTML)\r\n\t\t *  @param {int} start Index for the current display starting point in the\r\n\t\t *    display array\r\n\t\t *  @param {int} end Index for the current display ending point in the\r\n\t\t *    display array\r\n\t\t *  @param {array int} display Index array to translate the visual position\r\n\t\t *    to the full data array\r\n\t\t *\r\n\t\t *  @dtopt Callbacks\r\n\t\t *  @name DataTable.defaults.footerCallback\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"footerCallback\": function( tfoot, data, start, end, display ) {\r\n\t\t *          tfoot.getElementsByTagName('th')[0].innerHTML = \"Starting index is \"+start;\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *    } )\r\n\t\t */\r\n\t\t\"fnFooterCallback\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * When rendering large numbers in the information element for the table\r\n\t\t * (i.e. \"Showing 1 to 10 of 57 entries\") DataTables will render large numbers\r\n\t\t * to have a comma separator for the 'thousands' units (e.g. 1 million is\r\n\t\t * rendered as \"1,000,000\") to help readability for the end user. This\r\n\t\t * function will override the default method DataTables uses.\r\n\t\t *  @type function\r\n\t\t *  @member\r\n\t\t *  @param {int} toFormat number to be formatted\r\n\t\t *  @returns {string} formatted string for DataTables to show the number\r\n\t\t *\r\n\t\t *  @dtopt Callbacks\r\n\t\t *  @name DataTable.defaults.formatNumber\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Format a number using a single quote for the separator (note that\r\n\t\t *    // this can also be done with the language.thousands option)\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"formatNumber\": function ( toFormat ) {\r\n\t\t *          return toFormat.toString().replace(\r\n\t\t *            /\\B(?=(\\d{3})+(?!\\d))/g, \"'\"\r\n\t\t *          );\r\n\t\t *        };\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"fnFormatNumber\": function ( toFormat ) {\r\n\t\t\treturn toFormat.toString().replace(\r\n\t\t\t\t/\\B(?=(\\d{3})+(?!\\d))/g,\r\n\t\t\t\tthis.oLanguage.sThousands\r\n\t\t\t);\r\n\t\t},\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * This function is called on every 'draw' event, and allows you to\r\n\t\t * dynamically modify the header row. This can be used to calculate and\r\n\t\t * display useful information about the table.\r\n\t\t *  @type function\r\n\t\t *  @param {node} head \"TR\" element for the header\r\n\t\t *  @param {array} data Full table data (as derived from the original HTML)\r\n\t\t *  @param {int} start Index for the current display starting point in the\r\n\t\t *    display array\r\n\t\t *  @param {int} end Index for the current display ending point in the\r\n\t\t *    display array\r\n\t\t *  @param {array int} display Index array to translate the visual position\r\n\t\t *    to the full data array\r\n\t\t *\r\n\t\t *  @dtopt Callbacks\r\n\t\t *  @name DataTable.defaults.headerCallback\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"fheaderCallback\": function( head, data, start, end, display ) {\r\n\t\t *          head.getElementsByTagName('th')[0].innerHTML = \"Displaying \"+(end-start)+\" records\";\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *    } )\r\n\t\t */\r\n\t\t\"fnHeaderCallback\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * The information element can be used to convey information about the current\r\n\t\t * state of the table. Although the internationalisation options presented by\r\n\t\t * DataTables are quite capable of dealing with most customisations, there may\r\n\t\t * be times where you wish to customise the string further. This callback\r\n\t\t * allows you to do exactly that.\r\n\t\t *  @type function\r\n\t\t *  @param {object} oSettings DataTables settings object\r\n\t\t *  @param {int} start Starting position in data for the draw\r\n\t\t *  @param {int} end End position in data for the draw\r\n\t\t *  @param {int} max Total number of rows in the table (regardless of\r\n\t\t *    filtering)\r\n\t\t *  @param {int} total Total number of rows in the data set, after filtering\r\n\t\t *  @param {string} pre The string that DataTables has formatted using it's\r\n\t\t *    own rules\r\n\t\t *  @returns {string} The string to be displayed in the information element.\r\n\t\t *\r\n\t\t *  @dtopt Callbacks\r\n\t\t *  @name DataTable.defaults.infoCallback\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $('#example').dataTable( {\r\n\t\t *      \"infoCallback\": function( settings, start, end, max, total, pre ) {\r\n\t\t *        return start +\" to \"+ end;\r\n\t\t *      }\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"fnInfoCallback\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Called when the table has been initialised. Normally DataTables will\r\n\t\t * initialise sequentially and there will be no need for this function,\r\n\t\t * however, this does not hold true when using external language information\r\n\t\t * since that is obtained using an async XHR call.\r\n\t\t *  @type function\r\n\t\t *  @param {object} settings DataTables settings object\r\n\t\t *  @param {object} json The JSON object request from the server - only\r\n\t\t *    present if client-side Ajax sourced data is used\r\n\t\t *\r\n\t\t *  @dtopt Callbacks\r\n\t\t *  @name DataTable.defaults.initComplete\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"initComplete\": function(settings, json) {\r\n\t\t *          alert( 'DataTables has finished its initialisation.' );\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *    } )\r\n\t\t */\r\n\t\t\"fnInitComplete\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Called at the very start of each table draw and can be used to cancel the\r\n\t\t * draw by returning false, any other return (including undefined) results in\r\n\t\t * the full draw occurring).\r\n\t\t *  @type function\r\n\t\t *  @param {object} settings DataTables settings object\r\n\t\t *  @returns {boolean} False will cancel the draw, anything else (including no\r\n\t\t *    return) will allow it to complete.\r\n\t\t *\r\n\t\t *  @dtopt Callbacks\r\n\t\t *  @name DataTable.defaults.preDrawCallback\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"preDrawCallback\": function( settings ) {\r\n\t\t *          if ( $('#test').val() == 1 ) {\r\n\t\t *            return false;\r\n\t\t *          }\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"fnPreDrawCallback\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * This function allows you to 'post process' each row after it have been\r\n\t\t * generated for each table draw, but before it is rendered on screen. This\r\n\t\t * function might be used for setting the row class name etc.\r\n\t\t *  @type function\r\n\t\t *  @param {node} row \"TR\" element for the current row\r\n\t\t *  @param {array} data Raw data array for this row\r\n\t\t *  @param {int} displayIndex The display index for the current table draw\r\n\t\t *  @param {int} displayIndexFull The index of the data in the full list of\r\n\t\t *    rows (after filtering)\r\n\t\t *\r\n\t\t *  @dtopt Callbacks\r\n\t\t *  @name DataTable.defaults.rowCallback\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"rowCallback\": function( row, data, displayIndex, displayIndexFull ) {\r\n\t\t *          // Bold the grade for all 'A' grade browsers\r\n\t\t *          if ( data[4] == \"A\" ) {\r\n\t\t *            $('td:eq(4)', row).html( '<b>A</b>' );\r\n\t\t *          }\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"fnRowCallback\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * __Deprecated__ The functionality provided by this parameter has now been\r\n\t\t * superseded by that provided through `ajax`, which should be used instead.\r\n\t\t *\r\n\t\t * This parameter allows you to override the default function which obtains\r\n\t\t * the data from the server so something more suitable for your application.\r\n\t\t * For example you could use POST data, or pull information from a Gears or\r\n\t\t * AIR database.\r\n\t\t *  @type function\r\n\t\t *  @member\r\n\t\t *  @param {string} source HTTP source to obtain the data from (`ajax`)\r\n\t\t *  @param {array} data A key/value pair object containing the data to send\r\n\t\t *    to the server\r\n\t\t *  @param {function} callback to be called on completion of the data get\r\n\t\t *    process that will draw the data on the page.\r\n\t\t *  @param {object} settings DataTables settings object\r\n\t\t *\r\n\t\t *  @dtopt Callbacks\r\n\t\t *  @dtopt Server-side\r\n\t\t *  @name DataTable.defaults.serverData\r\n\t\t *\r\n\t\t *  @deprecated 1.10. Please use `ajax` for this functionality now.\r\n\t\t */\r\n\t\t\"fnServerData\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * __Deprecated__ The functionality provided by this parameter has now been\r\n\t\t * superseded by that provided through `ajax`, which should be used instead.\r\n\t\t *\r\n\t\t *  It is often useful to send extra data to the server when making an Ajax\r\n\t\t * request - for example custom filtering information, and this callback\r\n\t\t * function makes it trivial to send extra information to the server. The\r\n\t\t * passed in parameter is the data set that has been constructed by\r\n\t\t * DataTables, and you can add to this or modify it as you require.\r\n\t\t *  @type function\r\n\t\t *  @param {array} data Data array (array of objects which are name/value\r\n\t\t *    pairs) that has been constructed by DataTables and will be sent to the\r\n\t\t *    server. In the case of Ajax sourced data with server-side processing\r\n\t\t *    this will be an empty array, for server-side processing there will be a\r\n\t\t *    significant number of parameters!\r\n\t\t *  @returns {undefined} Ensure that you modify the data array passed in,\r\n\t\t *    as this is passed by reference.\r\n\t\t *\r\n\t\t *  @dtopt Callbacks\r\n\t\t *  @dtopt Server-side\r\n\t\t *  @name DataTable.defaults.serverParams\r\n\t\t *\r\n\t\t *  @deprecated 1.10. Please use `ajax` for this functionality now.\r\n\t\t */\r\n\t\t\"fnServerParams\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Load the table state. With this function you can define from where, and how, the\r\n\t\t * state of a table is loaded. By default DataTables will load from `localStorage`\r\n\t\t * but you might wish to use a server-side database or cookies.\r\n\t\t *  @type function\r\n\t\t *  @member\r\n\t\t *  @param {object} settings DataTables settings object\r\n\t\t *  @return {object} The DataTables state object to be loaded\r\n\t\t *\r\n\t\t *  @dtopt Callbacks\r\n\t\t *  @name DataTable.defaults.stateLoadCallback\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"stateSave\": true,\r\n\t\t *        \"stateLoadCallback\": function (settings) {\r\n\t\t *          var o;\r\n\t\t *\r\n\t\t *          // Send an Ajax request to the server to get the data. Note that\r\n\t\t *          // this is a synchronous request.\r\n\t\t *          $.ajax( {\r\n\t\t *            \"url\": \"/state_load\",\r\n\t\t *            \"async\": false,\r\n\t\t *            \"dataType\": \"json\",\r\n\t\t *            \"success\": function (json) {\r\n\t\t *              o = json;\r\n\t\t *            }\r\n\t\t *          } );\r\n\t\t *\r\n\t\t *          return o;\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"fnStateLoadCallback\": function ( settings ) {\r\n\t\t\ttry {\r\n\t\t\t\treturn JSON.parse(\r\n\t\t\t\t\t(settings.iStateDuration === -1 ? sessionStorage : localStorage).getItem(\r\n\t\t\t\t\t\t'DataTables_'+settings.sInstance+'_'+location.pathname\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t} catch (e) {}\r\n\t\t},\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Callback which allows modification of the saved state prior to loading that state.\r\n\t\t * This callback is called when the table is loading state from the stored data, but\r\n\t\t * prior to the settings object being modified by the saved state. Note that for\r\n\t\t * plug-in authors, you should use the `stateLoadParams` event to load parameters for\r\n\t\t * a plug-in.\r\n\t\t *  @type function\r\n\t\t *  @param {object} settings DataTables settings object\r\n\t\t *  @param {object} data The state object that is to be loaded\r\n\t\t *\r\n\t\t *  @dtopt Callbacks\r\n\t\t *  @name DataTable.defaults.stateLoadParams\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Remove a saved filter, so filtering is never loaded\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"stateSave\": true,\r\n\t\t *        \"stateLoadParams\": function (settings, data) {\r\n\t\t *          data.oSearch.sSearch = \"\";\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Disallow state loading by returning false\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"stateSave\": true,\r\n\t\t *        \"stateLoadParams\": function (settings, data) {\r\n\t\t *          return false;\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"fnStateLoadParams\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Callback that is called when the state has been loaded from the state saving method\r\n\t\t * and the DataTables settings object has been modified as a result of the loaded state.\r\n\t\t *  @type function\r\n\t\t *  @param {object} settings DataTables settings object\r\n\t\t *  @param {object} data The state object that was loaded\r\n\t\t *\r\n\t\t *  @dtopt Callbacks\r\n\t\t *  @name DataTable.defaults.stateLoaded\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Show an alert with the filtering value that was saved\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"stateSave\": true,\r\n\t\t *        \"stateLoaded\": function (settings, data) {\r\n\t\t *          alert( 'Saved filter was: '+data.oSearch.sSearch );\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"fnStateLoaded\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Save the table state. This function allows you to define where and how the state\r\n\t\t * information for the table is stored By default DataTables will use `localStorage`\r\n\t\t * but you might wish to use a server-side database or cookies.\r\n\t\t *  @type function\r\n\t\t *  @member\r\n\t\t *  @param {object} settings DataTables settings object\r\n\t\t *  @param {object} data The state object to be saved\r\n\t\t *\r\n\t\t *  @dtopt Callbacks\r\n\t\t *  @name DataTable.defaults.stateSaveCallback\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"stateSave\": true,\r\n\t\t *        \"stateSaveCallback\": function (settings, data) {\r\n\t\t *          // Send an Ajax request to the server with the state object\r\n\t\t *          $.ajax( {\r\n\t\t *            \"url\": \"/state_save\",\r\n\t\t *            \"data\": data,\r\n\t\t *            \"dataType\": \"json\",\r\n\t\t *            \"method\": \"POST\"\r\n\t\t *            \"success\": function () {}\r\n\t\t *          } );\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"fnStateSaveCallback\": function ( settings, data ) {\r\n\t\t\ttry {\r\n\t\t\t\t(settings.iStateDuration === -1 ? sessionStorage : localStorage).setItem(\r\n\t\t\t\t\t'DataTables_'+settings.sInstance+'_'+location.pathname,\r\n\t\t\t\t\tJSON.stringify( data )\r\n\t\t\t\t);\r\n\t\t\t} catch (e) {}\r\n\t\t},\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Callback which allows modification of the state to be saved. Called when the table\r\n\t\t * has changed state a new state save is required. This method allows modification of\r\n\t\t * the state saving object prior to actually doing the save, including addition or\r\n\t\t * other state properties or modification. Note that for plug-in authors, you should\r\n\t\t * use the `stateSaveParams` event to save parameters for a plug-in.\r\n\t\t *  @type function\r\n\t\t *  @param {object} settings DataTables settings object\r\n\t\t *  @param {object} data The state object to be saved\r\n\t\t *\r\n\t\t *  @dtopt Callbacks\r\n\t\t *  @name DataTable.defaults.stateSaveParams\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Remove a saved filter, so filtering is never saved\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"stateSave\": true,\r\n\t\t *        \"stateSaveParams\": function (settings, data) {\r\n\t\t *          data.oSearch.sSearch = \"\";\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"fnStateSaveParams\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Duration for which the saved state information is considered valid. After this period\r\n\t\t * has elapsed the state will be returned to the default.\r\n\t\t * Value is given in seconds.\r\n\t\t *  @type int\r\n\t\t *  @default 7200 <i>(2 hours)</i>\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @name DataTable.defaults.stateDuration\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"stateDuration\": 60*60*24; // 1 day\r\n\t\t *      } );\r\n\t\t *    } )\r\n\t\t */\r\n\t\t\"iStateDuration\": 7200,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * When enabled DataTables will not make a request to the server for the first\r\n\t\t * page draw - rather it will use the data already on the page (no sorting etc\r\n\t\t * will be applied to it), thus saving on an XHR at load time. `deferLoading`\r\n\t\t * is used to indicate that deferred loading is required, but it is also used\r\n\t\t * to tell DataTables how many records there are in the full table (allowing\r\n\t\t * the information element and pagination to be displayed correctly). In the case\r\n\t\t * where a filtering is applied to the table on initial load, this can be\r\n\t\t * indicated by giving the parameter as an array, where the first element is\r\n\t\t * the number of records available after filtering and the second element is the\r\n\t\t * number of records without filtering (allowing the table information element\r\n\t\t * to be shown correctly).\r\n\t\t *  @type int | array\r\n\t\t *  @default null\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @name DataTable.defaults.deferLoading\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // 57 records available in the table, no filtering applied\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"serverSide\": true,\r\n\t\t *        \"ajax\": \"scripts/server_processing.php\",\r\n\t\t *        \"deferLoading\": 57\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // 57 records after filtering, 100 without filtering (an initial filter applied)\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"serverSide\": true,\r\n\t\t *        \"ajax\": \"scripts/server_processing.php\",\r\n\t\t *        \"deferLoading\": [ 57, 100 ],\r\n\t\t *        \"search\": {\r\n\t\t *          \"search\": \"my_filter\"\r\n\t\t *        }\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"iDeferLoading\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Number of rows to display on a single page when using pagination. If\r\n\t\t * feature enabled (`lengthChange`) then the end user will be able to override\r\n\t\t * this to a custom setting using a pop-up menu.\r\n\t\t *  @type int\r\n\t\t *  @default 10\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @name DataTable.defaults.pageLength\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"pageLength\": 50\r\n\t\t *      } );\r\n\t\t *    } )\r\n\t\t */\r\n\t\t\"iDisplayLength\": 10,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Define the starting point for data display when using DataTables with\r\n\t\t * pagination. Note that this parameter is the number of records, rather than\r\n\t\t * the page number, so if you have 10 records per page and want to start on\r\n\t\t * the third page, it should be \"20\".\r\n\t\t *  @type int\r\n\t\t *  @default 0\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @name DataTable.defaults.displayStart\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"displayStart\": 20\r\n\t\t *      } );\r\n\t\t *    } )\r\n\t\t */\r\n\t\t\"iDisplayStart\": 0,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * By default DataTables allows keyboard navigation of the table (sorting, paging,\r\n\t\t * and filtering) by adding a `tabindex` attribute to the required elements. This\r\n\t\t * allows you to tab through the controls and press the enter key to activate them.\r\n\t\t * The tabindex is default 0, meaning that the tab follows the flow of the document.\r\n\t\t * You can overrule this using this parameter if you wish. Use a value of -1 to\r\n\t\t * disable built-in keyboard navigation.\r\n\t\t *  @type int\r\n\t\t *  @default 0\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @name DataTable.defaults.tabIndex\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"tabIndex\": 1\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"iTabIndex\": 0,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Classes that DataTables assigns to the various components and features\r\n\t\t * that it adds to the HTML table. This allows classes to be configured\r\n\t\t * during initialisation in addition to through the static\r\n\t\t * {@link DataTable.ext.oStdClasses} object).\r\n\t\t *  @namespace\r\n\t\t *  @name DataTable.defaults.classes\r\n\t\t */\r\n\t\t\"oClasses\": {},\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * All strings that DataTables uses in the user interface that it creates\r\n\t\t * are defined in this object, allowing you to modified them individually or\r\n\t\t * completely replace them all as required.\r\n\t\t *  @namespace\r\n\t\t *  @name DataTable.defaults.language\r\n\t\t */\r\n\t\t\"oLanguage\": {\r\n\t\t\t/**\r\n\t\t\t * Strings that are used for WAI-ARIA labels and controls only (these are not\r\n\t\t\t * actually visible on the page, but will be read by screenreaders, and thus\r\n\t\t\t * must be internationalised as well).\r\n\t\t\t *  @namespace\r\n\t\t\t *  @name DataTable.defaults.language.aria\r\n\t\t\t */\r\n\t\t\t\"oAria\": {\r\n\t\t\t\t/**\r\n\t\t\t\t * ARIA label that is added to the table headers when the column may be\r\n\t\t\t\t * sorted ascending by activing the column (click or return when focused).\r\n\t\t\t\t * Note that the column header is prefixed to this string.\r\n\t\t\t\t *  @type string\r\n\t\t\t\t *  @default : activate to sort column ascending\r\n\t\t\t\t *\r\n\t\t\t\t *  @dtopt Language\r\n\t\t\t\t *  @name DataTable.defaults.language.aria.sortAscending\r\n\t\t\t\t *\r\n\t\t\t\t *  @example\r\n\t\t\t\t *    $(document).ready( function() {\r\n\t\t\t\t *      $('#example').dataTable( {\r\n\t\t\t\t *        \"language\": {\r\n\t\t\t\t *          \"aria\": {\r\n\t\t\t\t *            \"sortAscending\": \" - click/return to sort ascending\"\r\n\t\t\t\t *          }\r\n\t\t\t\t *        }\r\n\t\t\t\t *      } );\r\n\t\t\t\t *    } );\r\n\t\t\t\t */\r\n\t\t\t\t\"sSortAscending\": \": activate to sort column ascending\",\r\n\t\r\n\t\t\t\t/**\r\n\t\t\t\t * ARIA label that is added to the table headers when the column may be\r\n\t\t\t\t * sorted descending by activing the column (click or return when focused).\r\n\t\t\t\t * Note that the column header is prefixed to this string.\r\n\t\t\t\t *  @type string\r\n\t\t\t\t *  @default : activate to sort column ascending\r\n\t\t\t\t *\r\n\t\t\t\t *  @dtopt Language\r\n\t\t\t\t *  @name DataTable.defaults.language.aria.sortDescending\r\n\t\t\t\t *\r\n\t\t\t\t *  @example\r\n\t\t\t\t *    $(document).ready( function() {\r\n\t\t\t\t *      $('#example').dataTable( {\r\n\t\t\t\t *        \"language\": {\r\n\t\t\t\t *          \"aria\": {\r\n\t\t\t\t *            \"sortDescending\": \" - click/return to sort descending\"\r\n\t\t\t\t *          }\r\n\t\t\t\t *        }\r\n\t\t\t\t *      } );\r\n\t\t\t\t *    } );\r\n\t\t\t\t */\r\n\t\t\t\t\"sSortDescending\": \": activate to sort column descending\"\r\n\t\t\t},\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Pagination string used by DataTables for the built-in pagination\r\n\t\t\t * control types.\r\n\t\t\t *  @namespace\r\n\t\t\t *  @name DataTable.defaults.language.paginate\r\n\t\t\t */\r\n\t\t\t\"oPaginate\": {\r\n\t\t\t\t/**\r\n\t\t\t\t * Text to use when using the 'full_numbers' type of pagination for the\r\n\t\t\t\t * button to take the user to the first page.\r\n\t\t\t\t *  @type string\r\n\t\t\t\t *  @default First\r\n\t\t\t\t *\r\n\t\t\t\t *  @dtopt Language\r\n\t\t\t\t *  @name DataTable.defaults.language.paginate.first\r\n\t\t\t\t *\r\n\t\t\t\t *  @example\r\n\t\t\t\t *    $(document).ready( function() {\r\n\t\t\t\t *      $('#example').dataTable( {\r\n\t\t\t\t *        \"language\": {\r\n\t\t\t\t *          \"paginate\": {\r\n\t\t\t\t *            \"first\": \"First page\"\r\n\t\t\t\t *          }\r\n\t\t\t\t *        }\r\n\t\t\t\t *      } );\r\n\t\t\t\t *    } );\r\n\t\t\t\t */\r\n\t\t\t\t\"sFirst\": \"First\",\r\n\t\r\n\t\r\n\t\t\t\t/**\r\n\t\t\t\t * Text to use when using the 'full_numbers' type of pagination for the\r\n\t\t\t\t * button to take the user to the last page.\r\n\t\t\t\t *  @type string\r\n\t\t\t\t *  @default Last\r\n\t\t\t\t *\r\n\t\t\t\t *  @dtopt Language\r\n\t\t\t\t *  @name DataTable.defaults.language.paginate.last\r\n\t\t\t\t *\r\n\t\t\t\t *  @example\r\n\t\t\t\t *    $(document).ready( function() {\r\n\t\t\t\t *      $('#example').dataTable( {\r\n\t\t\t\t *        \"language\": {\r\n\t\t\t\t *          \"paginate\": {\r\n\t\t\t\t *            \"last\": \"Last page\"\r\n\t\t\t\t *          }\r\n\t\t\t\t *        }\r\n\t\t\t\t *      } );\r\n\t\t\t\t *    } );\r\n\t\t\t\t */\r\n\t\t\t\t\"sLast\": \"Last\",\r\n\t\r\n\t\r\n\t\t\t\t/**\r\n\t\t\t\t * Text to use for the 'next' pagination button (to take the user to the\r\n\t\t\t\t * next page).\r\n\t\t\t\t *  @type string\r\n\t\t\t\t *  @default Next\r\n\t\t\t\t *\r\n\t\t\t\t *  @dtopt Language\r\n\t\t\t\t *  @name DataTable.defaults.language.paginate.next\r\n\t\t\t\t *\r\n\t\t\t\t *  @example\r\n\t\t\t\t *    $(document).ready( function() {\r\n\t\t\t\t *      $('#example').dataTable( {\r\n\t\t\t\t *        \"language\": {\r\n\t\t\t\t *          \"paginate\": {\r\n\t\t\t\t *            \"next\": \"Next page\"\r\n\t\t\t\t *          }\r\n\t\t\t\t *        }\r\n\t\t\t\t *      } );\r\n\t\t\t\t *    } );\r\n\t\t\t\t */\r\n\t\t\t\t\"sNext\": \"Next\",\r\n\t\r\n\t\r\n\t\t\t\t/**\r\n\t\t\t\t * Text to use for the 'previous' pagination button (to take the user to\r\n\t\t\t\t * the previous page).\r\n\t\t\t\t *  @type string\r\n\t\t\t\t *  @default Previous\r\n\t\t\t\t *\r\n\t\t\t\t *  @dtopt Language\r\n\t\t\t\t *  @name DataTable.defaults.language.paginate.previous\r\n\t\t\t\t *\r\n\t\t\t\t *  @example\r\n\t\t\t\t *    $(document).ready( function() {\r\n\t\t\t\t *      $('#example').dataTable( {\r\n\t\t\t\t *        \"language\": {\r\n\t\t\t\t *          \"paginate\": {\r\n\t\t\t\t *            \"previous\": \"Previous page\"\r\n\t\t\t\t *          }\r\n\t\t\t\t *        }\r\n\t\t\t\t *      } );\r\n\t\t\t\t *    } );\r\n\t\t\t\t */\r\n\t\t\t\t\"sPrevious\": \"Previous\"\r\n\t\t\t},\r\n\t\r\n\t\t\t/**\r\n\t\t\t * This string is shown in preference to `zeroRecords` when the table is\r\n\t\t\t * empty of data (regardless of filtering). Note that this is an optional\r\n\t\t\t * parameter - if it is not given, the value of `zeroRecords` will be used\r\n\t\t\t * instead (either the default or given value).\r\n\t\t\t *  @type string\r\n\t\t\t *  @default No data available in table\r\n\t\t\t *\r\n\t\t\t *  @dtopt Language\r\n\t\t\t *  @name DataTable.defaults.language.emptyTable\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    $(document).ready( function() {\r\n\t\t\t *      $('#example').dataTable( {\r\n\t\t\t *        \"language\": {\r\n\t\t\t *          \"emptyTable\": \"No data available in table\"\r\n\t\t\t *        }\r\n\t\t\t *      } );\r\n\t\t\t *    } );\r\n\t\t\t */\r\n\t\t\t\"sEmptyTable\": \"No data available in table\",\r\n\t\r\n\t\r\n\t\t\t/**\r\n\t\t\t * This string gives information to the end user about the information\r\n\t\t\t * that is current on display on the page. The following tokens can be\r\n\t\t\t * used in the string and will be dynamically replaced as the table\r\n\t\t\t * display updates. This tokens can be placed anywhere in the string, or\r\n\t\t\t * removed as needed by the language requires:\r\n\t\t\t *\r\n\t\t\t * * `\\_START\\_` - Display index of the first record on the current page\r\n\t\t\t * * `\\_END\\_` - Display index of the last record on the current page\r\n\t\t\t * * `\\_TOTAL\\_` - Number of records in the table after filtering\r\n\t\t\t * * `\\_MAX\\_` - Number of records in the table without filtering\r\n\t\t\t * * `\\_PAGE\\_` - Current page number\r\n\t\t\t * * `\\_PAGES\\_` - Total number of pages of data in the table\r\n\t\t\t *\r\n\t\t\t *  @type string\r\n\t\t\t *  @default Showing _START_ to _END_ of _TOTAL_ entries\r\n\t\t\t *\r\n\t\t\t *  @dtopt Language\r\n\t\t\t *  @name DataTable.defaults.language.info\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    $(document).ready( function() {\r\n\t\t\t *      $('#example').dataTable( {\r\n\t\t\t *        \"language\": {\r\n\t\t\t *          \"info\": \"Showing page _PAGE_ of _PAGES_\"\r\n\t\t\t *        }\r\n\t\t\t *      } );\r\n\t\t\t *    } );\r\n\t\t\t */\r\n\t\t\t\"sInfo\": \"Showing _START_ to _END_ of _TOTAL_ entries\",\r\n\t\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Display information string for when the table is empty. Typically the\r\n\t\t\t * format of this string should match `info`.\r\n\t\t\t *  @type string\r\n\t\t\t *  @default Showing 0 to 0 of 0 entries\r\n\t\t\t *\r\n\t\t\t *  @dtopt Language\r\n\t\t\t *  @name DataTable.defaults.language.infoEmpty\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    $(document).ready( function() {\r\n\t\t\t *      $('#example').dataTable( {\r\n\t\t\t *        \"language\": {\r\n\t\t\t *          \"infoEmpty\": \"No entries to show\"\r\n\t\t\t *        }\r\n\t\t\t *      } );\r\n\t\t\t *    } );\r\n\t\t\t */\r\n\t\t\t\"sInfoEmpty\": \"Showing 0 to 0 of 0 entries\",\r\n\t\r\n\t\r\n\t\t\t/**\r\n\t\t\t * When a user filters the information in a table, this string is appended\r\n\t\t\t * to the information (`info`) to give an idea of how strong the filtering\r\n\t\t\t * is. The variable _MAX_ is dynamically updated.\r\n\t\t\t *  @type string\r\n\t\t\t *  @default (filtered from _MAX_ total entries)\r\n\t\t\t *\r\n\t\t\t *  @dtopt Language\r\n\t\t\t *  @name DataTable.defaults.language.infoFiltered\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    $(document).ready( function() {\r\n\t\t\t *      $('#example').dataTable( {\r\n\t\t\t *        \"language\": {\r\n\t\t\t *          \"infoFiltered\": \" - filtering from _MAX_ records\"\r\n\t\t\t *        }\r\n\t\t\t *      } );\r\n\t\t\t *    } );\r\n\t\t\t */\r\n\t\t\t\"sInfoFiltered\": \"(filtered from _MAX_ total entries)\",\r\n\t\r\n\t\r\n\t\t\t/**\r\n\t\t\t * If can be useful to append extra information to the info string at times,\r\n\t\t\t * and this variable does exactly that. This information will be appended to\r\n\t\t\t * the `info` (`infoEmpty` and `infoFiltered` in whatever combination they are\r\n\t\t\t * being used) at all times.\r\n\t\t\t *  @type string\r\n\t\t\t *  @default <i>Empty string</i>\r\n\t\t\t *\r\n\t\t\t *  @dtopt Language\r\n\t\t\t *  @name DataTable.defaults.language.infoPostFix\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    $(document).ready( function() {\r\n\t\t\t *      $('#example').dataTable( {\r\n\t\t\t *        \"language\": {\r\n\t\t\t *          \"infoPostFix\": \"All records shown are derived from real information.\"\r\n\t\t\t *        }\r\n\t\t\t *      } );\r\n\t\t\t *    } );\r\n\t\t\t */\r\n\t\t\t\"sInfoPostFix\": \"\",\r\n\t\r\n\t\r\n\t\t\t/**\r\n\t\t\t * This decimal place operator is a little different from the other\r\n\t\t\t * language options since DataTables doesn't output floating point\r\n\t\t\t * numbers, so it won't ever use this for display of a number. Rather,\r\n\t\t\t * what this parameter does is modify the sort methods of the table so\r\n\t\t\t * that numbers which are in a format which has a character other than\r\n\t\t\t * a period (`.`) as a decimal place will be sorted numerically.\r\n\t\t\t *\r\n\t\t\t * Note that numbers with different decimal places cannot be shown in\r\n\t\t\t * the same table and still be sortable, the table must be consistent.\r\n\t\t\t * However, multiple different tables on the page can use different\r\n\t\t\t * decimal place characters.\r\n\t\t\t *  @type string\r\n\t\t\t *  @default \r\n\t\t\t *\r\n\t\t\t *  @dtopt Language\r\n\t\t\t *  @name DataTable.defaults.language.decimal\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    $(document).ready( function() {\r\n\t\t\t *      $('#example').dataTable( {\r\n\t\t\t *        \"language\": {\r\n\t\t\t *          \"decimal\": \",\"\r\n\t\t\t *          \"thousands\": \".\"\r\n\t\t\t *        }\r\n\t\t\t *      } );\r\n\t\t\t *    } );\r\n\t\t\t */\r\n\t\t\t\"sDecimal\": \"\",\r\n\t\r\n\t\r\n\t\t\t/**\r\n\t\t\t * DataTables has a build in number formatter (`formatNumber`) which is\r\n\t\t\t * used to format large numbers that are used in the table information.\r\n\t\t\t * By default a comma is used, but this can be trivially changed to any\r\n\t\t\t * character you wish with this parameter.\r\n\t\t\t *  @type string\r\n\t\t\t *  @default ,\r\n\t\t\t *\r\n\t\t\t *  @dtopt Language\r\n\t\t\t *  @name DataTable.defaults.language.thousands\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    $(document).ready( function() {\r\n\t\t\t *      $('#example').dataTable( {\r\n\t\t\t *        \"language\": {\r\n\t\t\t *          \"thousands\": \"'\"\r\n\t\t\t *        }\r\n\t\t\t *      } );\r\n\t\t\t *    } );\r\n\t\t\t */\r\n\t\t\t\"sThousands\": \",\",\r\n\t\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Detail the action that will be taken when the drop down menu for the\r\n\t\t\t * pagination length option is changed. The '_MENU_' variable is replaced\r\n\t\t\t * with a default select list of 10, 25, 50 and 100, and can be replaced\r\n\t\t\t * with a custom select box if required.\r\n\t\t\t *  @type string\r\n\t\t\t *  @default Show _MENU_ entries\r\n\t\t\t *\r\n\t\t\t *  @dtopt Language\r\n\t\t\t *  @name DataTable.defaults.language.lengthMenu\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    // Language change only\r\n\t\t\t *    $(document).ready( function() {\r\n\t\t\t *      $('#example').dataTable( {\r\n\t\t\t *        \"language\": {\r\n\t\t\t *          \"lengthMenu\": \"Display _MENU_ records\"\r\n\t\t\t *        }\r\n\t\t\t *      } );\r\n\t\t\t *    } );\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    // Language and options change\r\n\t\t\t *    $(document).ready( function() {\r\n\t\t\t *      $('#example').dataTable( {\r\n\t\t\t *        \"language\": {\r\n\t\t\t *          \"lengthMenu\": 'Display <select>'+\r\n\t\t\t *            '<option value=\"10\">10</option>'+\r\n\t\t\t *            '<option value=\"20\">20</option>'+\r\n\t\t\t *            '<option value=\"30\">30</option>'+\r\n\t\t\t *            '<option value=\"40\">40</option>'+\r\n\t\t\t *            '<option value=\"50\">50</option>'+\r\n\t\t\t *            '<option value=\"-1\">All</option>'+\r\n\t\t\t *            '</select> records'\r\n\t\t\t *        }\r\n\t\t\t *      } );\r\n\t\t\t *    } );\r\n\t\t\t */\r\n\t\t\t\"sLengthMenu\": \"Show _MENU_ entries\",\r\n\t\r\n\t\r\n\t\t\t/**\r\n\t\t\t * When using Ajax sourced data and during the first draw when DataTables is\r\n\t\t\t * gathering the data, this message is shown in an empty row in the table to\r\n\t\t\t * indicate to the end user the the data is being loaded. Note that this\r\n\t\t\t * parameter is not used when loading data by server-side processing, just\r\n\t\t\t * Ajax sourced data with client-side processing.\r\n\t\t\t *  @type string\r\n\t\t\t *  @default Loading...\r\n\t\t\t *\r\n\t\t\t *  @dtopt Language\r\n\t\t\t *  @name DataTable.defaults.language.loadingRecords\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    $(document).ready( function() {\r\n\t\t\t *      $('#example').dataTable( {\r\n\t\t\t *        \"language\": {\r\n\t\t\t *          \"loadingRecords\": \"Please wait - loading...\"\r\n\t\t\t *        }\r\n\t\t\t *      } );\r\n\t\t\t *    } );\r\n\t\t\t */\r\n\t\t\t\"sLoadingRecords\": \"Loading...\",\r\n\t\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Text which is displayed when the table is processing a user action\r\n\t\t\t * (usually a sort command or similar).\r\n\t\t\t *  @type string\r\n\t\t\t *  @default Processing...\r\n\t\t\t *\r\n\t\t\t *  @dtopt Language\r\n\t\t\t *  @name DataTable.defaults.language.processing\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    $(document).ready( function() {\r\n\t\t\t *      $('#example').dataTable( {\r\n\t\t\t *        \"language\": {\r\n\t\t\t *          \"processing\": \"DataTables is currently busy\"\r\n\t\t\t *        }\r\n\t\t\t *      } );\r\n\t\t\t *    } );\r\n\t\t\t */\r\n\t\t\t\"sProcessing\": \"Processing...\",\r\n\t\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Details the actions that will be taken when the user types into the\r\n\t\t\t * filtering input text box. The variable \"_INPUT_\", if used in the string,\r\n\t\t\t * is replaced with the HTML text box for the filtering input allowing\r\n\t\t\t * control over where it appears in the string. If \"_INPUT_\" is not given\r\n\t\t\t * then the input box is appended to the string automatically.\r\n\t\t\t *  @type string\r\n\t\t\t *  @default Search:\r\n\t\t\t *\r\n\t\t\t *  @dtopt Language\r\n\t\t\t *  @name DataTable.defaults.language.search\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    // Input text box will be appended at the end automatically\r\n\t\t\t *    $(document).ready( function() {\r\n\t\t\t *      $('#example').dataTable( {\r\n\t\t\t *        \"language\": {\r\n\t\t\t *          \"search\": \"Filter records:\"\r\n\t\t\t *        }\r\n\t\t\t *      } );\r\n\t\t\t *    } );\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    // Specify where the filter should appear\r\n\t\t\t *    $(document).ready( function() {\r\n\t\t\t *      $('#example').dataTable( {\r\n\t\t\t *        \"language\": {\r\n\t\t\t *          \"search\": \"Apply filter _INPUT_ to table\"\r\n\t\t\t *        }\r\n\t\t\t *      } );\r\n\t\t\t *    } );\r\n\t\t\t */\r\n\t\t\t\"sSearch\": \"Search:\",\r\n\t\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Assign a `placeholder` attribute to the search `input` element\r\n\t\t\t *  @type string\r\n\t\t\t *  @default \r\n\t\t\t *\r\n\t\t\t *  @dtopt Language\r\n\t\t\t *  @name DataTable.defaults.language.searchPlaceholder\r\n\t\t\t */\r\n\t\t\t\"sSearchPlaceholder\": \"\",\r\n\t\r\n\t\r\n\t\t\t/**\r\n\t\t\t * All of the language information can be stored in a file on the\r\n\t\t\t * server-side, which DataTables will look up if this parameter is passed.\r\n\t\t\t * It must store the URL of the language file, which is in a JSON format,\r\n\t\t\t * and the object has the same properties as the oLanguage object in the\r\n\t\t\t * initialiser object (i.e. the above parameters). Please refer to one of\r\n\t\t\t * the example language files to see how this works in action.\r\n\t\t\t *  @type string\r\n\t\t\t *  @default <i>Empty string - i.e. disabled</i>\r\n\t\t\t *\r\n\t\t\t *  @dtopt Language\r\n\t\t\t *  @name DataTable.defaults.language.url\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    $(document).ready( function() {\r\n\t\t\t *      $('#example').dataTable( {\r\n\t\t\t *        \"language\": {\r\n\t\t\t *          \"url\": \"http://www.sprymedia.co.uk/dataTables/lang.txt\"\r\n\t\t\t *        }\r\n\t\t\t *      } );\r\n\t\t\t *    } );\r\n\t\t\t */\r\n\t\t\t\"sUrl\": \"\",\r\n\t\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Text shown inside the table records when the is no information to be\r\n\t\t\t * displayed after filtering. `emptyTable` is shown when there is simply no\r\n\t\t\t * information in the table at all (regardless of filtering).\r\n\t\t\t *  @type string\r\n\t\t\t *  @default No matching records found\r\n\t\t\t *\r\n\t\t\t *  @dtopt Language\r\n\t\t\t *  @name DataTable.defaults.language.zeroRecords\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    $(document).ready( function() {\r\n\t\t\t *      $('#example').dataTable( {\r\n\t\t\t *        \"language\": {\r\n\t\t\t *          \"zeroRecords\": \"No records to display\"\r\n\t\t\t *        }\r\n\t\t\t *      } );\r\n\t\t\t *    } );\r\n\t\t\t */\r\n\t\t\t\"sZeroRecords\": \"No matching records found\"\r\n\t\t},\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * This parameter allows you to have define the global filtering state at\r\n\t\t * initialisation time. As an object the `search` parameter must be\r\n\t\t * defined, but all other parameters are optional. When `regex` is true,\r\n\t\t * the search string will be treated as a regular expression, when false\r\n\t\t * (default) it will be treated as a straight string. When `smart`\r\n\t\t * DataTables will use it's smart filtering methods (to word match at\r\n\t\t * any point in the data), when false this will not be done.\r\n\t\t *  @namespace\r\n\t\t *  @extends DataTable.models.oSearch\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @name DataTable.defaults.search\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"search\": {\"search\": \"Initial search\"}\r\n\t\t *      } );\r\n\t\t *    } )\r\n\t\t */\r\n\t\t\"oSearch\": $.extend( {}, DataTable.models.oSearch ),\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * __Deprecated__ The functionality provided by this parameter has now been\r\n\t\t * superseded by that provided through `ajax`, which should be used instead.\r\n\t\t *\r\n\t\t * By default DataTables will look for the property `data` (or `aaData` for\r\n\t\t * compatibility with DataTables 1.9-) when obtaining data from an Ajax\r\n\t\t * source or for server-side processing - this parameter allows that\r\n\t\t * property to be changed. You can use Javascript dotted object notation to\r\n\t\t * get a data source for multiple levels of nesting.\r\n\t\t *  @type string\r\n\t\t *  @default data\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @dtopt Server-side\r\n\t\t *  @name DataTable.defaults.ajaxDataProp\r\n\t\t *\r\n\t\t *  @deprecated 1.10. Please use `ajax` for this functionality now.\r\n\t\t */\r\n\t\t\"sAjaxDataProp\": \"data\",\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * __Deprecated__ The functionality provided by this parameter has now been\r\n\t\t * superseded by that provided through `ajax`, which should be used instead.\r\n\t\t *\r\n\t\t * You can instruct DataTables to load data from an external\r\n\t\t * source using this parameter (use aData if you want to pass data in you\r\n\t\t * already have). Simply provide a url a JSON object can be obtained from.\r\n\t\t *  @type string\r\n\t\t *  @default null\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @dtopt Server-side\r\n\t\t *  @name DataTable.defaults.ajaxSource\r\n\t\t *\r\n\t\t *  @deprecated 1.10. Please use `ajax` for this functionality now.\r\n\t\t */\r\n\t\t\"sAjaxSource\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * This initialisation variable allows you to specify exactly where in the\r\n\t\t * DOM you want DataTables to inject the various controls it adds to the page\r\n\t\t * (for example you might want the pagination controls at the top of the\r\n\t\t * table). DIV elements (with or without a custom class) can also be added to\r\n\t\t * aid styling. The follow syntax is used:\r\n\t\t *   <ul>\r\n\t\t *     <li>The following options are allowed:\r\n\t\t *       <ul>\r\n\t\t *         <li>'l' - Length changing</li>\r\n\t\t *         <li>'f' - Filtering input</li>\r\n\t\t *         <li>'t' - The table!</li>\r\n\t\t *         <li>'i' - Information</li>\r\n\t\t *         <li>'p' - Pagination</li>\r\n\t\t *         <li>'r' - pRocessing</li>\r\n\t\t *       </ul>\r\n\t\t *     </li>\r\n\t\t *     <li>The following constants are allowed:\r\n\t\t *       <ul>\r\n\t\t *         <li>'H' - jQueryUI theme \"header\" classes ('fg-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix')</li>\r\n\t\t *         <li>'F' - jQueryUI theme \"footer\" classes ('fg-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix')</li>\r\n\t\t *       </ul>\r\n\t\t *     </li>\r\n\t\t *     <li>The following syntax is expected:\r\n\t\t *       <ul>\r\n\t\t *         <li>'&lt;' and '&gt;' - div elements</li>\r\n\t\t *         <li>'&lt;\"class\" and '&gt;' - div with a class</li>\r\n\t\t *         <li>'&lt;\"#id\" and '&gt;' - div with an ID</li>\r\n\t\t *       </ul>\r\n\t\t *     </li>\r\n\t\t *     <li>Examples:\r\n\t\t *       <ul>\r\n\t\t *         <li>'&lt;\"wrapper\"flipt&gt;'</li>\r\n\t\t *         <li>'&lt;lf&lt;t&gt;ip&gt;'</li>\r\n\t\t *       </ul>\r\n\t\t *     </li>\r\n\t\t *   </ul>\r\n\t\t *  @type string\r\n\t\t *  @default lfrtip <i>(when `jQueryUI` is false)</i> <b>or</b>\r\n\t\t *    <\"H\"lfr>t<\"F\"ip> <i>(when `jQueryUI` is true)</i>\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @name DataTable.defaults.dom\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"dom\": '&lt;\"top\"i&gt;rt&lt;\"bottom\"flp&gt;&lt;\"clear\"&gt;'\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"sDom\": \"lfrtip\",\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * DataTables features four different built-in options for the buttons to\r\n\t\t * display for pagination control:\r\n\t\t *\r\n\t\t * * `simple` - 'Previous' and 'Next' buttons only\r\n\t\t * * 'simple_numbers` - 'Previous' and 'Next' buttons, plus page numbers\r\n\t\t * * `full` - 'First', 'Previous', 'Next' and 'Last' buttons\r\n\t\t * * `full_numbers` - 'First', 'Previous', 'Next' and 'Last' buttons, plus\r\n\t\t *   page numbers\r\n\t\t *  \r\n\t\t * Further methods can be added using {@link DataTable.ext.oPagination}.\r\n\t\t *  @type string\r\n\t\t *  @default simple_numbers\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @name DataTable.defaults.pagingType\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"pagingType\": \"full_numbers\"\r\n\t\t *      } );\r\n\t\t *    } )\r\n\t\t */\r\n\t\t\"sPaginationType\": \"simple_numbers\",\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Enable horizontal scrolling. When a table is too wide to fit into a\r\n\t\t * certain layout, or you have a large number of columns in the table, you\r\n\t\t * can enable x-scrolling to show the table in a viewport, which can be\r\n\t\t * scrolled. This property can be `true` which will allow the table to\r\n\t\t * scroll horizontally when needed, or any CSS unit, or a number (in which\r\n\t\t * case it will be treated as a pixel measurement). Setting as simply `true`\r\n\t\t * is recommended.\r\n\t\t *  @type boolean|string\r\n\t\t *  @default <i>blank string - i.e. disabled</i>\r\n\t\t *\r\n\t\t *  @dtopt Features\r\n\t\t *  @name DataTable.defaults.scrollX\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"scrollX\": true,\r\n\t\t *        \"scrollCollapse\": true\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"sScrollX\": \"\",\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * This property can be used to force a DataTable to use more width than it\r\n\t\t * might otherwise do when x-scrolling is enabled. For example if you have a\r\n\t\t * table which requires to be well spaced, this parameter is useful for\r\n\t\t * \"over-sizing\" the table, and thus forcing scrolling. This property can by\r\n\t\t * any CSS unit, or a number (in which case it will be treated as a pixel\r\n\t\t * measurement).\r\n\t\t *  @type string\r\n\t\t *  @default <i>blank string - i.e. disabled</i>\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @name DataTable.defaults.scrollXInner\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"scrollX\": \"100%\",\r\n\t\t *        \"scrollXInner\": \"110%\"\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"sScrollXInner\": \"\",\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Enable vertical scrolling. Vertical scrolling will constrain the DataTable\r\n\t\t * to the given height, and enable scrolling for any data which overflows the\r\n\t\t * current viewport. This can be used as an alternative to paging to display\r\n\t\t * a lot of data in a small area (although paging and scrolling can both be\r\n\t\t * enabled at the same time). This property can be any CSS unit, or a number\r\n\t\t * (in which case it will be treated as a pixel measurement).\r\n\t\t *  @type string\r\n\t\t *  @default <i>blank string - i.e. disabled</i>\r\n\t\t *\r\n\t\t *  @dtopt Features\r\n\t\t *  @name DataTable.defaults.scrollY\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"scrollY\": \"200px\",\r\n\t\t *        \"paginate\": false\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"sScrollY\": \"\",\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * __Deprecated__ The functionality provided by this parameter has now been\r\n\t\t * superseded by that provided through `ajax`, which should be used instead.\r\n\t\t *\r\n\t\t * Set the HTTP method that is used to make the Ajax call for server-side\r\n\t\t * processing or Ajax sourced data.\r\n\t\t *  @type string\r\n\t\t *  @default GET\r\n\t\t *\r\n\t\t *  @dtopt Options\r\n\t\t *  @dtopt Server-side\r\n\t\t *  @name DataTable.defaults.serverMethod\r\n\t\t *\r\n\t\t *  @deprecated 1.10. Please use `ajax` for this functionality now.\r\n\t\t */\r\n\t\t\"sServerMethod\": \"GET\",\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * DataTables makes use of renderers when displaying HTML elements for\r\n\t\t * a table. These renderers can be added or modified by plug-ins to\r\n\t\t * generate suitable mark-up for a site. For example the Bootstrap\r\n\t\t * integration plug-in for DataTables uses a paging button renderer to\r\n\t\t * display pagination buttons in the mark-up required by Bootstrap.\r\n\t\t *\r\n\t\t * For further information about the renderers available see\r\n\t\t * DataTable.ext.renderer\r\n\t\t *  @type string|object\r\n\t\t *  @default null\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.renderer\r\n\t\t *\r\n\t\t */\r\n\t\t\"renderer\": null\r\n\t};\r\n\t\r\n\t_fnHungarianMap( DataTable.defaults );\r\n\t\r\n\t\r\n\t\r\n\t/*\r\n\t * Developer note - See note in model.defaults.js about the use of Hungarian\r\n\t * notation and camel case.\r\n\t */\r\n\t\r\n\t/**\r\n\t * Column options that can be given to DataTables at initialisation time.\r\n\t *  @namespace\r\n\t */\r\n\tDataTable.defaults.column = {\r\n\t\t/**\r\n\t\t * Define which column(s) an order will occur on for this column. This\r\n\t\t * allows a column's ordering to take multiple columns into account when\r\n\t\t * doing a sort or use the data from a different column. For example first\r\n\t\t * name / last name columns make sense to do a multi-column sort over the\r\n\t\t * two columns.\r\n\t\t *  @type array|int\r\n\t\t *  @default null <i>Takes the value of the column index automatically</i>\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.orderData\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columnDefs`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [\r\n\t\t *          { \"orderData\": [ 0, 1 ], \"targets\": [ 0 ] },\r\n\t\t *          { \"orderData\": [ 1, 0 ], \"targets\": [ 1 ] },\r\n\t\t *          { \"orderData\": 2, \"targets\": [ 2 ] }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columns`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columns\": [\r\n\t\t *          { \"orderData\": [ 0, 1 ] },\r\n\t\t *          { \"orderData\": [ 1, 0 ] },\r\n\t\t *          { \"orderData\": 2 },\r\n\t\t *          null,\r\n\t\t *          null\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"aDataSort\": null,\r\n\t\t\"iDataSort\": -1,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * You can control the default ordering direction, and even alter the\r\n\t\t * behaviour of the sort handler (i.e. only allow ascending ordering etc)\r\n\t\t * using this parameter.\r\n\t\t *  @type array\r\n\t\t *  @default [ 'asc', 'desc' ]\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.orderSequence\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columnDefs`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [\r\n\t\t *          { \"orderSequence\": [ \"asc\" ], \"targets\": [ 1 ] },\r\n\t\t *          { \"orderSequence\": [ \"desc\", \"asc\", \"asc\" ], \"targets\": [ 2 ] },\r\n\t\t *          { \"orderSequence\": [ \"desc\" ], \"targets\": [ 3 ] }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columns`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columns\": [\r\n\t\t *          null,\r\n\t\t *          { \"orderSequence\": [ \"asc\" ] },\r\n\t\t *          { \"orderSequence\": [ \"desc\", \"asc\", \"asc\" ] },\r\n\t\t *          { \"orderSequence\": [ \"desc\" ] },\r\n\t\t *          null\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"asSorting\": [ 'asc', 'desc' ],\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Enable or disable filtering on the data in this column.\r\n\t\t *  @type boolean\r\n\t\t *  @default true\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.searchable\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columnDefs`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [\r\n\t\t *          { \"searchable\": false, \"targets\": [ 0 ] }\r\n\t\t *        ] } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columns`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columns\": [\r\n\t\t *          { \"searchable\": false },\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          null\r\n\t\t *        ] } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bSearchable\": true,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Enable or disable ordering on this column.\r\n\t\t *  @type boolean\r\n\t\t *  @default true\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.orderable\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columnDefs`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [\r\n\t\t *          { \"orderable\": false, \"targets\": [ 0 ] }\r\n\t\t *        ] } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columns`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columns\": [\r\n\t\t *          { \"orderable\": false },\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          null\r\n\t\t *        ] } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bSortable\": true,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Enable or disable the display of this column.\r\n\t\t *  @type boolean\r\n\t\t *  @default true\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.visible\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columnDefs`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [\r\n\t\t *          { \"visible\": false, \"targets\": [ 0 ] }\r\n\t\t *        ] } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columns`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columns\": [\r\n\t\t *          { \"visible\": false },\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          null\r\n\t\t *        ] } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"bVisible\": true,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Developer definable function that is called whenever a cell is created (Ajax source,\r\n\t\t * etc) or processed for input (DOM source). This can be used as a compliment to mRender\r\n\t\t * allowing you to modify the DOM element (add background colour for example) when the\r\n\t\t * element is available.\r\n\t\t *  @type function\r\n\t\t *  @param {element} td The TD node that has been created\r\n\t\t *  @param {*} cellData The Data for the cell\r\n\t\t *  @param {array|object} rowData The data for the whole row\r\n\t\t *  @param {int} row The row index for the aoData data store\r\n\t\t *  @param {int} col The column index for aoColumns\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.createdCell\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [ {\r\n\t\t *          \"targets\": [3],\r\n\t\t *          \"createdCell\": function (td, cellData, rowData, row, col) {\r\n\t\t *            if ( cellData == \"1.7\" ) {\r\n\t\t *              $(td).css('color', 'blue')\r\n\t\t *            }\r\n\t\t *          }\r\n\t\t *        } ]\r\n\t\t *      });\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"fnCreatedCell\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * This parameter has been replaced by `data` in DataTables to ensure naming\r\n\t\t * consistency. `dataProp` can still be used, as there is backwards\r\n\t\t * compatibility in DataTables for this option, but it is strongly\r\n\t\t * recommended that you use `data` in preference to `dataProp`.\r\n\t\t *  @name DataTable.defaults.column.dataProp\r\n\t\t */\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * This property can be used to read data from any data source property,\r\n\t\t * including deeply nested objects / properties. `data` can be given in a\r\n\t\t * number of different ways which effect its behaviour:\r\n\t\t *\r\n\t\t * * `integer` - treated as an array index for the data source. This is the\r\n\t\t *   default that DataTables uses (incrementally increased for each column).\r\n\t\t * * `string` - read an object property from the data source. There are\r\n\t\t *   three 'special' options that can be used in the string to alter how\r\n\t\t *   DataTables reads the data from the source object:\r\n\t\t *    * `.` - Dotted Javascript notation. Just as you use a `.` in\r\n\t\t *      Javascript to read from nested objects, so to can the options\r\n\t\t *      specified in `data`. For example: `browser.version` or\r\n\t\t *      `browser.name`. If your object parameter name contains a period, use\r\n\t\t *      `\\\\` to escape it - i.e. `first\\\\.name`.\r\n\t\t *    * `[]` - Array notation. DataTables can automatically combine data\r\n\t\t *      from and array source, joining the data with the characters provided\r\n\t\t *      between the two brackets. For example: `name[, ]` would provide a\r\n\t\t *      comma-space separated list from the source array. If no characters\r\n\t\t *      are provided between the brackets, the original array source is\r\n\t\t *      returned.\r\n\t\t *    * `()` - Function notation. Adding `()` to the end of a parameter will\r\n\t\t *      execute a function of the name given. For example: `browser()` for a\r\n\t\t *      simple function on the data source, `browser.version()` for a\r\n\t\t *      function in a nested property or even `browser().version` to get an\r\n\t\t *      object property if the function called returns an object. Note that\r\n\t\t *      function notation is recommended for use in `render` rather than\r\n\t\t *      `data` as it is much simpler to use as a renderer.\r\n\t\t * * `null` - use the original data source for the row rather than plucking\r\n\t\t *   data directly from it. This action has effects on two other\r\n\t\t *   initialisation options:\r\n\t\t *    * `defaultContent` - When null is given as the `data` option and\r\n\t\t *      `defaultContent` is specified for the column, the value defined by\r\n\t\t *      `defaultContent` will be used for the cell.\r\n\t\t *    * `render` - When null is used for the `data` option and the `render`\r\n\t\t *      option is specified for the column, the whole data source for the\r\n\t\t *      row is used for the renderer.\r\n\t\t * * `function` - the function given will be executed whenever DataTables\r\n\t\t *   needs to set or get the data for a cell in the column. The function\r\n\t\t *   takes three parameters:\r\n\t\t *    * Parameters:\r\n\t\t *      * `{array|object}` The data source for the row\r\n\t\t *      * `{string}` The type call data requested - this will be 'set' when\r\n\t\t *        setting data or 'filter', 'display', 'type', 'sort' or undefined\r\n\t\t *        when gathering data. Note that when `undefined` is given for the\r\n\t\t *        type DataTables expects to get the raw data for the object back<\r\n\t\t *      * `{*}` Data to set when the second parameter is 'set'.\r\n\t\t *    * Return:\r\n\t\t *      * The return value from the function is not required when 'set' is\r\n\t\t *        the type of call, but otherwise the return is what will be used\r\n\t\t *        for the data requested.\r\n\t\t *\r\n\t\t * Note that `data` is a getter and setter option. If you just require\r\n\t\t * formatting of data for output, you will likely want to use `render` which\r\n\t\t * is simply a getter and thus simpler to use.\r\n\t\t *\r\n\t\t * Note that prior to DataTables 1.9.2 `data` was called `mDataProp`. The\r\n\t\t * name change reflects the flexibility of this property and is consistent\r\n\t\t * with the naming of mRender. If 'mDataProp' is given, then it will still\r\n\t\t * be used by DataTables, as it automatically maps the old name to the new\r\n\t\t * if required.\r\n\t\t *\r\n\t\t *  @type string|int|function|null\r\n\t\t *  @default null <i>Use automatically calculated column index</i>\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.data\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Read table data from objects\r\n\t\t *    // JSON structure for each row:\r\n\t\t *    //   {\r\n\t\t *    //      \"engine\": {value},\r\n\t\t *    //      \"browser\": {value},\r\n\t\t *    //      \"platform\": {value},\r\n\t\t *    //      \"version\": {value},\r\n\t\t *    //      \"grade\": {value}\r\n\t\t *    //   }\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"ajaxSource\": \"sources/objects.txt\",\r\n\t\t *        \"columns\": [\r\n\t\t *          { \"data\": \"engine\" },\r\n\t\t *          { \"data\": \"browser\" },\r\n\t\t *          { \"data\": \"platform\" },\r\n\t\t *          { \"data\": \"version\" },\r\n\t\t *          { \"data\": \"grade\" }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Read information from deeply nested objects\r\n\t\t *    // JSON structure for each row:\r\n\t\t *    //   {\r\n\t\t *    //      \"engine\": {value},\r\n\t\t *    //      \"browser\": {value},\r\n\t\t *    //      \"platform\": {\r\n\t\t *    //         \"inner\": {value}\r\n\t\t *    //      },\r\n\t\t *    //      \"details\": [\r\n\t\t *    //         {value}, {value}\r\n\t\t *    //      ]\r\n\t\t *    //   }\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"ajaxSource\": \"sources/deep.txt\",\r\n\t\t *        \"columns\": [\r\n\t\t *          { \"data\": \"engine\" },\r\n\t\t *          { \"data\": \"browser\" },\r\n\t\t *          { \"data\": \"platform.inner\" },\r\n\t\t *          { \"data\": \"platform.details.0\" },\r\n\t\t *          { \"data\": \"platform.details.1\" }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `data` as a function to provide different information for\r\n\t\t *    // sorting, filtering and display. In this case, currency (price)\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [ {\r\n\t\t *          \"targets\": [ 0 ],\r\n\t\t *          \"data\": function ( source, type, val ) {\r\n\t\t *            if (type === 'set') {\r\n\t\t *              source.price = val;\r\n\t\t *              // Store the computed dislay and filter values for efficiency\r\n\t\t *              source.price_display = val==\"\" ? \"\" : \"$\"+numberFormat(val);\r\n\t\t *              source.price_filter  = val==\"\" ? \"\" : \"$\"+numberFormat(val)+\" \"+val;\r\n\t\t *              return;\r\n\t\t *            }\r\n\t\t *            else if (type === 'display') {\r\n\t\t *              return source.price_display;\r\n\t\t *            }\r\n\t\t *            else if (type === 'filter') {\r\n\t\t *              return source.price_filter;\r\n\t\t *            }\r\n\t\t *            // 'sort', 'type' and undefined all just use the integer\r\n\t\t *            return source.price;\r\n\t\t *          }\r\n\t\t *        } ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using default content\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [ {\r\n\t\t *          \"targets\": [ 0 ],\r\n\t\t *          \"data\": null,\r\n\t\t *          \"defaultContent\": \"Click to edit\"\r\n\t\t *        } ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using array notation - outputting a list from an array\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [ {\r\n\t\t *          \"targets\": [ 0 ],\r\n\t\t *          \"data\": \"name[, ]\"\r\n\t\t *        } ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t */\r\n\t\t\"mData\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * This property is the rendering partner to `data` and it is suggested that\r\n\t\t * when you want to manipulate data for display (including filtering,\r\n\t\t * sorting etc) without altering the underlying data for the table, use this\r\n\t\t * property. `render` can be considered to be the the read only companion to\r\n\t\t * `data` which is read / write (then as such more complex). Like `data`\r\n\t\t * this option can be given in a number of different ways to effect its\r\n\t\t * behaviour:\r\n\t\t *\r\n\t\t * * `integer` - treated as an array index for the data source. This is the\r\n\t\t *   default that DataTables uses (incrementally increased for each column).\r\n\t\t * * `string` - read an object property from the data source. There are\r\n\t\t *   three 'special' options that can be used in the string to alter how\r\n\t\t *   DataTables reads the data from the source object:\r\n\t\t *    * `.` - Dotted Javascript notation. Just as you use a `.` in\r\n\t\t *      Javascript to read from nested objects, so to can the options\r\n\t\t *      specified in `data`. For example: `browser.version` or\r\n\t\t *      `browser.name`. If your object parameter name contains a period, use\r\n\t\t *      `\\\\` to escape it - i.e. `first\\\\.name`.\r\n\t\t *    * `[]` - Array notation. DataTables can automatically combine data\r\n\t\t *      from and array source, joining the data with the characters provided\r\n\t\t *      between the two brackets. For example: `name[, ]` would provide a\r\n\t\t *      comma-space separated list from the source array. If no characters\r\n\t\t *      are provided between the brackets, the original array source is\r\n\t\t *      returned.\r\n\t\t *    * `()` - Function notation. Adding `()` to the end of a parameter will\r\n\t\t *      execute a function of the name given. For example: `browser()` for a\r\n\t\t *      simple function on the data source, `browser.version()` for a\r\n\t\t *      function in a nested property or even `browser().version` to get an\r\n\t\t *      object property if the function called returns an object.\r\n\t\t * * `object` - use different data for the different data types requested by\r\n\t\t *   DataTables ('filter', 'display', 'type' or 'sort'). The property names\r\n\t\t *   of the object is the data type the property refers to and the value can\r\n\t\t *   defined using an integer, string or function using the same rules as\r\n\t\t *   `render` normally does. Note that an `_` option _must_ be specified.\r\n\t\t *   This is the default value to use if you haven't specified a value for\r\n\t\t *   the data type requested by DataTables.\r\n\t\t * * `function` - the function given will be executed whenever DataTables\r\n\t\t *   needs to set or get the data for a cell in the column. The function\r\n\t\t *   takes three parameters:\r\n\t\t *    * Parameters:\r\n\t\t *      * {array|object} The data source for the row (based on `data`)\r\n\t\t *      * {string} The type call data requested - this will be 'filter',\r\n\t\t *        'display', 'type' or 'sort'.\r\n\t\t *      * {array|object} The full data source for the row (not based on\r\n\t\t *        `data`)\r\n\t\t *    * Return:\r\n\t\t *      * The return value from the function is what will be used for the\r\n\t\t *        data requested.\r\n\t\t *\r\n\t\t *  @type string|int|function|object|null\r\n\t\t *  @default null Use the data source value.\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.render\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Create a comma separated list from an array of objects\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"ajaxSource\": \"sources/deep.txt\",\r\n\t\t *        \"columns\": [\r\n\t\t *          { \"data\": \"engine\" },\r\n\t\t *          { \"data\": \"browser\" },\r\n\t\t *          {\r\n\t\t *            \"data\": \"platform\",\r\n\t\t *            \"render\": \"[, ].name\"\r\n\t\t *          }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Execute a function to obtain data\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [ {\r\n\t\t *          \"targets\": [ 0 ],\r\n\t\t *          \"data\": null, // Use the full data source object for the renderer's source\r\n\t\t *          \"render\": \"browserName()\"\r\n\t\t *        } ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // As an object, extracting different data for the different types\r\n\t\t *    // This would be used with a data source such as:\r\n\t\t *    //   { \"phone\": 5552368, \"phone_filter\": \"5552368 555-2368\", \"phone_display\": \"555-2368\" }\r\n\t\t *    // Here the `phone` integer is used for sorting and type detection, while `phone_filter`\r\n\t\t *    // (which has both forms) is used for filtering for if a user inputs either format, while\r\n\t\t *    // the formatted phone number is the one that is shown in the table.\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [ {\r\n\t\t *          \"targets\": [ 0 ],\r\n\t\t *          \"data\": null, // Use the full data source object for the renderer's source\r\n\t\t *          \"render\": {\r\n\t\t *            \"_\": \"phone\",\r\n\t\t *            \"filter\": \"phone_filter\",\r\n\t\t *            \"display\": \"phone_display\"\r\n\t\t *          }\r\n\t\t *        } ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Use as a function to create a link from the data source\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [ {\r\n\t\t *          \"targets\": [ 0 ],\r\n\t\t *          \"data\": \"download_link\",\r\n\t\t *          \"render\": function ( data, type, full ) {\r\n\t\t *            return '<a href=\"'+data+'\">Download</a>';\r\n\t\t *          }\r\n\t\t *        } ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"mRender\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Change the cell type created for the column - either TD cells or TH cells. This\r\n\t\t * can be useful as TH cells have semantic meaning in the table body, allowing them\r\n\t\t * to act as a header for a row (you may wish to add scope='row' to the TH elements).\r\n\t\t *  @type string\r\n\t\t *  @default td\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.cellType\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Make the first column use TH cells\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [ {\r\n\t\t *          \"targets\": [ 0 ],\r\n\t\t *          \"cellType\": \"th\"\r\n\t\t *        } ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"sCellType\": \"td\",\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Class to give to each cell in this column.\r\n\t\t *  @type string\r\n\t\t *  @default <i>Empty string</i>\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.class\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columnDefs`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [\r\n\t\t *          { \"class\": \"my_class\", \"targets\": [ 0 ] }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columns`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columns\": [\r\n\t\t *          { \"class\": \"my_class\" },\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          null\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"sClass\": \"\",\r\n\t\r\n\t\t/**\r\n\t\t * When DataTables calculates the column widths to assign to each column,\r\n\t\t * it finds the longest string in each column and then constructs a\r\n\t\t * temporary table and reads the widths from that. The problem with this\r\n\t\t * is that \"mmm\" is much wider then \"iiii\", but the latter is a longer\r\n\t\t * string - thus the calculation can go wrong (doing it properly and putting\r\n\t\t * it into an DOM object and measuring that is horribly(!) slow). Thus as\r\n\t\t * a \"work around\" we provide this option. It will append its value to the\r\n\t\t * text that is found to be the longest string for the column - i.e. padding.\r\n\t\t * Generally you shouldn't need this!\r\n\t\t *  @type string\r\n\t\t *  @default <i>Empty string<i>\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.contentPadding\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columns`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columns\": [\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          {\r\n\t\t *            \"contentPadding\": \"mmm\"\r\n\t\t *          }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"sContentPadding\": \"\",\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Allows a default value to be given for a column's data, and will be used\r\n\t\t * whenever a null data source is encountered (this can be because `data`\r\n\t\t * is set to null, or because the data source itself is null).\r\n\t\t *  @type string\r\n\t\t *  @default null\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.defaultContent\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columnDefs`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [\r\n\t\t *          {\r\n\t\t *            \"data\": null,\r\n\t\t *            \"defaultContent\": \"Edit\",\r\n\t\t *            \"targets\": [ -1 ]\r\n\t\t *          }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columns`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columns\": [\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          {\r\n\t\t *            \"data\": null,\r\n\t\t *            \"defaultContent\": \"Edit\"\r\n\t\t *          }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"sDefaultContent\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * This parameter is only used in DataTables' server-side processing. It can\r\n\t\t * be exceptionally useful to know what columns are being displayed on the\r\n\t\t * client side, and to map these to database fields. When defined, the names\r\n\t\t * also allow DataTables to reorder information from the server if it comes\r\n\t\t * back in an unexpected order (i.e. if you switch your columns around on the\r\n\t\t * client-side, your server-side code does not also need updating).\r\n\t\t *  @type string\r\n\t\t *  @default <i>Empty string</i>\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.name\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columnDefs`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [\r\n\t\t *          { \"name\": \"engine\", \"targets\": [ 0 ] },\r\n\t\t *          { \"name\": \"browser\", \"targets\": [ 1 ] },\r\n\t\t *          { \"name\": \"platform\", \"targets\": [ 2 ] },\r\n\t\t *          { \"name\": \"version\", \"targets\": [ 3 ] },\r\n\t\t *          { \"name\": \"grade\", \"targets\": [ 4 ] }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columns`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columns\": [\r\n\t\t *          { \"name\": \"engine\" },\r\n\t\t *          { \"name\": \"browser\" },\r\n\t\t *          { \"name\": \"platform\" },\r\n\t\t *          { \"name\": \"version\" },\r\n\t\t *          { \"name\": \"grade\" }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"sName\": \"\",\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Defines a data source type for the ordering which can be used to read\r\n\t\t * real-time information from the table (updating the internally cached\r\n\t\t * version) prior to ordering. This allows ordering to occur on user\r\n\t\t * editable elements such as form inputs.\r\n\t\t *  @type string\r\n\t\t *  @default std\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.orderDataType\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columnDefs`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [\r\n\t\t *          { \"orderDataType\": \"dom-text\", \"targets\": [ 2, 3 ] },\r\n\t\t *          { \"type\": \"numeric\", \"targets\": [ 3 ] },\r\n\t\t *          { \"orderDataType\": \"dom-select\", \"targets\": [ 4 ] },\r\n\t\t *          { \"orderDataType\": \"dom-checkbox\", \"targets\": [ 5 ] }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columns`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columns\": [\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          { \"orderDataType\": \"dom-text\" },\r\n\t\t *          { \"orderDataType\": \"dom-text\", \"type\": \"numeric\" },\r\n\t\t *          { \"orderDataType\": \"dom-select\" },\r\n\t\t *          { \"orderDataType\": \"dom-checkbox\" }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"sSortDataType\": \"std\",\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * The title of this column.\r\n\t\t *  @type string\r\n\t\t *  @default null <i>Derived from the 'TH' value for this column in the\r\n\t\t *    original HTML table.</i>\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.title\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columnDefs`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [\r\n\t\t *          { \"title\": \"My column title\", \"targets\": [ 0 ] }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columns`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columns\": [\r\n\t\t *          { \"title\": \"My column title\" },\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          null\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"sTitle\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * The type allows you to specify how the data for this column will be\r\n\t\t * ordered. Four types (string, numeric, date and html (which will strip\r\n\t\t * HTML tags before ordering)) are currently available. Note that only date\r\n\t\t * formats understood by Javascript's Date() object will be accepted as type\r\n\t\t * date. For example: \"Mar 26, 2008 5:03 PM\". May take the values: 'string',\r\n\t\t * 'numeric', 'date' or 'html' (by default). Further types can be adding\r\n\t\t * through plug-ins.\r\n\t\t *  @type string\r\n\t\t *  @default null <i>Auto-detected from raw data</i>\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.type\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columnDefs`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [\r\n\t\t *          { \"type\": \"html\", \"targets\": [ 0 ] }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columns`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columns\": [\r\n\t\t *          { \"type\": \"html\" },\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          null\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"sType\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Defining the width of the column, this parameter may take any CSS value\r\n\t\t * (3em, 20px etc). DataTables applies 'smart' widths to columns which have not\r\n\t\t * been given a specific width through this interface ensuring that the table\r\n\t\t * remains readable.\r\n\t\t *  @type string\r\n\t\t *  @default null <i>Automatic</i>\r\n\t\t *\r\n\t\t *  @name DataTable.defaults.column.width\r\n\t\t *  @dtopt Columns\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columnDefs`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columnDefs\": [\r\n\t\t *          { \"width\": \"20%\", \"targets\": [ 0 ] }\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Using `columns`\r\n\t\t *    $(document).ready( function() {\r\n\t\t *      $('#example').dataTable( {\r\n\t\t *        \"columns\": [\r\n\t\t *          { \"width\": \"20%\" },\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          null,\r\n\t\t *          null\r\n\t\t *        ]\r\n\t\t *      } );\r\n\t\t *    } );\r\n\t\t */\r\n\t\t\"sWidth\": null\r\n\t};\r\n\t\r\n\t_fnHungarianMap( DataTable.defaults.column );\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * DataTables settings object - this holds all the information needed for a\r\n\t * given table, including configuration, data and current application of the\r\n\t * table options. DataTables does not have a single instance for each DataTable\r\n\t * with the settings attached to that instance, but rather instances of the\r\n\t * DataTable \"class\" are created on-the-fly as needed (typically by a\r\n\t * $().dataTable() call) and the settings object is then applied to that\r\n\t * instance.\r\n\t *\r\n\t * Note that this object is related to {@link DataTable.defaults} but this\r\n\t * one is the internal data store for DataTables's cache of columns. It should\r\n\t * NOT be manipulated outside of DataTables. Any configuration should be done\r\n\t * through the initialisation options.\r\n\t *  @namespace\r\n\t *  @todo Really should attach the settings object to individual instances so we\r\n\t *    don't need to create new instances on each $().dataTable() call (if the\r\n\t *    table already exists). It would also save passing oSettings around and\r\n\t *    into every single function. However, this is a very significant\r\n\t *    architecture change for DataTables and will almost certainly break\r\n\t *    backwards compatibility with older installations. This is something that\r\n\t *    will be done in 2.0.\r\n\t */\r\n\tDataTable.models.oSettings = {\r\n\t\t/**\r\n\t\t * Primary features of DataTables and their enablement state.\r\n\t\t *  @namespace\r\n\t\t */\r\n\t\t\"oFeatures\": {\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Flag to say if DataTables should automatically try to calculate the\r\n\t\t\t * optimum table and columns widths (true) or not (false).\r\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t\t *  @type boolean\r\n\t\t\t */\r\n\t\t\t\"bAutoWidth\": null,\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Delay the creation of TR and TD elements until they are actually\r\n\t\t\t * needed by a driven page draw. This can give a significant speed\r\n\t\t\t * increase for Ajax source and Javascript source data, but makes no\r\n\t\t\t * difference at all fro DOM and server-side processing tables.\r\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t\t *  @type boolean\r\n\t\t\t */\r\n\t\t\t\"bDeferRender\": null,\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Enable filtering on the table or not. Note that if this is disabled\r\n\t\t\t * then there is no filtering at all on the table, including fnFilter.\r\n\t\t\t * To just remove the filtering input use sDom and remove the 'f' option.\r\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t\t *  @type boolean\r\n\t\t\t */\r\n\t\t\t\"bFilter\": null,\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Table information element (the 'Showing x of y records' div) enable\r\n\t\t\t * flag.\r\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t\t *  @type boolean\r\n\t\t\t */\r\n\t\t\t\"bInfo\": null,\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Present a user control allowing the end user to change the page size\r\n\t\t\t * when pagination is enabled.\r\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t\t *  @type boolean\r\n\t\t\t */\r\n\t\t\t\"bLengthChange\": null,\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Pagination enabled or not. Note that if this is disabled then length\r\n\t\t\t * changing must also be disabled.\r\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t\t *  @type boolean\r\n\t\t\t */\r\n\t\t\t\"bPaginate\": null,\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Processing indicator enable flag whenever DataTables is enacting a\r\n\t\t\t * user request - typically an Ajax request for server-side processing.\r\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t\t *  @type boolean\r\n\t\t\t */\r\n\t\t\t\"bProcessing\": null,\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Server-side processing enabled flag - when enabled DataTables will\r\n\t\t\t * get all data from the server for every draw - there is no filtering,\r\n\t\t\t * sorting or paging done on the client-side.\r\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t\t *  @type boolean\r\n\t\t\t */\r\n\t\t\t\"bServerSide\": null,\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Sorting enablement flag.\r\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t\t *  @type boolean\r\n\t\t\t */\r\n\t\t\t\"bSort\": null,\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Multi-column sorting\r\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t\t *  @type boolean\r\n\t\t\t */\r\n\t\t\t\"bSortMulti\": null,\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Apply a class to the columns which are being sorted to provide a\r\n\t\t\t * visual highlight or not. This can slow things down when enabled since\r\n\t\t\t * there is a lot of DOM interaction.\r\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t\t *  @type boolean\r\n\t\t\t */\r\n\t\t\t\"bSortClasses\": null,\r\n\t\r\n\t\t\t/**\r\n\t\t\t * State saving enablement flag.\r\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t\t *  @type boolean\r\n\t\t\t */\r\n\t\t\t\"bStateSave\": null\r\n\t\t},\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Scrolling settings for a table.\r\n\t\t *  @namespace\r\n\t\t */\r\n\t\t\"oScroll\": {\r\n\t\t\t/**\r\n\t\t\t * When the table is shorter in height than sScrollY, collapse the\r\n\t\t\t * table container down to the height of the table (when true).\r\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t\t *  @type boolean\r\n\t\t\t */\r\n\t\t\t\"bCollapse\": null,\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Width of the scrollbar for the web-browser's platform. Calculated\r\n\t\t\t * during table initialisation.\r\n\t\t\t *  @type int\r\n\t\t\t *  @default 0\r\n\t\t\t */\r\n\t\t\t\"iBarWidth\": 0,\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Viewport width for horizontal scrolling. Horizontal scrolling is\r\n\t\t\t * disabled if an empty string.\r\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t\t *  @type string\r\n\t\t\t */\r\n\t\t\t\"sX\": null,\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Width to expand the table to when using x-scrolling. Typically you\r\n\t\t\t * should not need to use this.\r\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t\t *  @type string\r\n\t\t\t *  @deprecated\r\n\t\t\t */\r\n\t\t\t\"sXInner\": null,\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Viewport height for vertical scrolling. Vertical scrolling is disabled\r\n\t\t\t * if an empty string.\r\n\t\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t\t *  @type string\r\n\t\t\t */\r\n\t\t\t\"sY\": null\r\n\t\t},\r\n\t\r\n\t\t/**\r\n\t\t * Language information for the table.\r\n\t\t *  @namespace\r\n\t\t *  @extends DataTable.defaults.oLanguage\r\n\t\t */\r\n\t\t\"oLanguage\": {\r\n\t\t\t/**\r\n\t\t\t * Information callback function. See\r\n\t\t\t * {@link DataTable.defaults.fnInfoCallback}\r\n\t\t\t *  @type function\r\n\t\t\t *  @default null\r\n\t\t\t */\r\n\t\t\t\"fnInfoCallback\": null\r\n\t\t},\r\n\t\r\n\t\t/**\r\n\t\t * Browser support parameters\r\n\t\t *  @namespace\r\n\t\t */\r\n\t\t\"oBrowser\": {\r\n\t\t\t/**\r\n\t\t\t * Indicate if the browser incorrectly calculates width:100% inside a\r\n\t\t\t * scrolling element (IE6/7)\r\n\t\t\t *  @type boolean\r\n\t\t\t *  @default false\r\n\t\t\t */\r\n\t\t\t\"bScrollOversize\": false,\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Determine if the vertical scrollbar is on the right or left of the\r\n\t\t\t * scrolling container - needed for rtl language layout, although not\r\n\t\t\t * all browsers move the scrollbar (Safari).\r\n\t\t\t *  @type boolean\r\n\t\t\t *  @default false\r\n\t\t\t */\r\n\t\t\t\"bScrollbarLeft\": false\r\n\t\t},\r\n\t\r\n\t\r\n\t\t\"ajax\": null,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Array referencing the nodes which are used for the features. The\r\n\t\t * parameters of this object match what is allowed by sDom - i.e.\r\n\t\t *   <ul>\r\n\t\t *     <li>'l' - Length changing</li>\r\n\t\t *     <li>'f' - Filtering input</li>\r\n\t\t *     <li>'t' - The table!</li>\r\n\t\t *     <li>'i' - Information</li>\r\n\t\t *     <li>'p' - Pagination</li>\r\n\t\t *     <li>'r' - pRocessing</li>\r\n\t\t *   </ul>\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aanFeatures\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Store data information - see {@link DataTable.models.oRow} for detailed\r\n\t\t * information.\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoData\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Array of indexes which are in the current display (after filtering etc)\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aiDisplay\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Array of indexes for display - no filtering\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aiDisplayMaster\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Store information about each column that is in use\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoColumns\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Store information about the table's header\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoHeader\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Store information about the table's footer\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoFooter\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Store the applied global search information in case we want to force a\r\n\t\t * research or compare the old search to a new one.\r\n\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t *  @namespace\r\n\t\t *  @extends DataTable.models.oSearch\r\n\t\t */\r\n\t\t\"oPreviousSearch\": {},\r\n\t\r\n\t\t/**\r\n\t\t * Store the applied search for each column - see\r\n\t\t * {@link DataTable.models.oSearch} for the format that is used for the\r\n\t\t * filtering information for each column.\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoPreSearchCols\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Sorting that is applied to the table. Note that the inner arrays are\r\n\t\t * used in the following manner:\r\n\t\t * <ul>\r\n\t\t *   <li>Index 0 - column number</li>\r\n\t\t *   <li>Index 1 - current sorting direction</li>\r\n\t\t * </ul>\r\n\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t *  @type array\r\n\t\t *  @todo These inner arrays should really be objects\r\n\t\t */\r\n\t\t\"aaSorting\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Sorting that is always applied to the table (i.e. prefixed in front of\r\n\t\t * aaSorting).\r\n\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aaSortingFixed\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Classes to use for the striping of a table.\r\n\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"asStripeClasses\": null,\r\n\t\r\n\t\t/**\r\n\t\t * If restoring a table - we should restore its striping classes as well\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"asDestroyStripes\": [],\r\n\t\r\n\t\t/**\r\n\t\t * If restoring a table - we should restore its width\r\n\t\t *  @type int\r\n\t\t *  @default 0\r\n\t\t */\r\n\t\t\"sDestroyWidth\": 0,\r\n\t\r\n\t\t/**\r\n\t\t * Callback functions array for every time a row is inserted (i.e. on a draw).\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoRowCallback\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Callback functions for the header on each draw.\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoHeaderCallback\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Callback function for the footer on each draw.\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoFooterCallback\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Array of callback functions for draw callback functions\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoDrawCallback\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Array of callback functions for row created function\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoRowCreatedCallback\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Callback functions for just before the table is redrawn. A return of\r\n\t\t * false will be used to cancel the draw.\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoPreDrawCallback\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Callback functions for when the table has been initialised.\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoInitComplete\": [],\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Callbacks for modifying the settings to be stored for state saving, prior to\r\n\t\t * saving state.\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoStateSaveParams\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Callbacks for modifying the settings that have been stored for state saving\r\n\t\t * prior to using the stored values to restore the state.\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoStateLoadParams\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Callbacks for operating on the settings object once the saved state has been\r\n\t\t * loaded\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoStateLoaded\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Cache the table ID for quick access\r\n\t\t *  @type string\r\n\t\t *  @default <i>Empty string</i>\r\n\t\t */\r\n\t\t\"sTableId\": \"\",\r\n\t\r\n\t\t/**\r\n\t\t * The TABLE node for the main table\r\n\t\t *  @type node\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"nTable\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Permanent ref to the thead element\r\n\t\t *  @type node\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"nTHead\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Permanent ref to the tfoot element - if it exists\r\n\t\t *  @type node\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"nTFoot\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Permanent ref to the tbody element\r\n\t\t *  @type node\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"nTBody\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Cache the wrapper node (contains all DataTables controlled elements)\r\n\t\t *  @type node\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"nTableWrapper\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Indicate if when using server-side processing the loading of data\r\n\t\t * should be deferred until the second draw.\r\n\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t *  @type boolean\r\n\t\t *  @default false\r\n\t\t */\r\n\t\t\"bDeferLoading\": false,\r\n\t\r\n\t\t/**\r\n\t\t * Indicate if all required information has been read in\r\n\t\t *  @type boolean\r\n\t\t *  @default false\r\n\t\t */\r\n\t\t\"bInitialised\": false,\r\n\t\r\n\t\t/**\r\n\t\t * Information about open rows. Each object in the array has the parameters\r\n\t\t * 'nTr' and 'nParent'\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoOpenRows\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Dictate the positioning of DataTables' control elements - see\r\n\t\t * {@link DataTable.model.oInit.sDom}.\r\n\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t *  @type string\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"sDom\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Which type of pagination should be used.\r\n\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t *  @type string\r\n\t\t *  @default two_button\r\n\t\t */\r\n\t\t\"sPaginationType\": \"two_button\",\r\n\t\r\n\t\t/**\r\n\t\t * The state duration (for `stateSave`) in seconds.\r\n\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t *  @type int\r\n\t\t *  @default 0\r\n\t\t */\r\n\t\t\"iStateDuration\": 0,\r\n\t\r\n\t\t/**\r\n\t\t * Array of callback functions for state saving. Each array element is an\r\n\t\t * object with the following parameters:\r\n\t\t *   <ul>\r\n\t\t *     <li>function:fn - function to call. Takes two parameters, oSettings\r\n\t\t *       and the JSON string to save that has been thus far created. Returns\r\n\t\t *       a JSON string to be inserted into a json object\r\n\t\t *       (i.e. '\"param\": [ 0, 1, 2]')</li>\r\n\t\t *     <li>string:sName - name of callback</li>\r\n\t\t *   </ul>\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoStateSave\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Array of callback functions for state loading. Each array element is an\r\n\t\t * object with the following parameters:\r\n\t\t *   <ul>\r\n\t\t *     <li>function:fn - function to call. Takes two parameters, oSettings\r\n\t\t *       and the object stored. May return false to cancel state loading</li>\r\n\t\t *     <li>string:sName - name of callback</li>\r\n\t\t *   </ul>\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoStateLoad\": [],\r\n\t\r\n\t\t/**\r\n\t\t * State that was saved. Useful for back reference\r\n\t\t *  @type object\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"oSavedState\": null,\r\n\t\r\n\t\t/**\r\n\t\t * State that was loaded. Useful for back reference\r\n\t\t *  @type object\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"oLoadedState\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Source url for AJAX data for the table.\r\n\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t *  @type string\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"sAjaxSource\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Property from a given object from which to read the table data from. This\r\n\t\t * can be an empty string (when not server-side processing), in which case\r\n\t\t * it is  assumed an an array is given directly.\r\n\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t *  @type string\r\n\t\t */\r\n\t\t\"sAjaxDataProp\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Note if draw should be blocked while getting data\r\n\t\t *  @type boolean\r\n\t\t *  @default true\r\n\t\t */\r\n\t\t\"bAjaxDataGet\": true,\r\n\t\r\n\t\t/**\r\n\t\t * The last jQuery XHR object that was used for server-side data gathering.\r\n\t\t * This can be used for working with the XHR information in one of the\r\n\t\t * callbacks\r\n\t\t *  @type object\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"jqXHR\": null,\r\n\t\r\n\t\t/**\r\n\t\t * JSON returned from the server in the last Ajax request\r\n\t\t *  @type object\r\n\t\t *  @default undefined\r\n\t\t */\r\n\t\t\"json\": undefined,\r\n\t\r\n\t\t/**\r\n\t\t * Data submitted as part of the last Ajax request\r\n\t\t *  @type object\r\n\t\t *  @default undefined\r\n\t\t */\r\n\t\t\"oAjaxData\": undefined,\r\n\t\r\n\t\t/**\r\n\t\t * Function to get the server-side data.\r\n\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t *  @type function\r\n\t\t */\r\n\t\t\"fnServerData\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Functions which are called prior to sending an Ajax request so extra\r\n\t\t * parameters can easily be sent to the server\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoServerParams\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Send the XHR HTTP method - GET or POST (could be PUT or DELETE if\r\n\t\t * required).\r\n\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t *  @type string\r\n\t\t */\r\n\t\t\"sServerMethod\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Format numbers for display.\r\n\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t *  @type function\r\n\t\t */\r\n\t\t\"fnFormatNumber\": null,\r\n\t\r\n\t\t/**\r\n\t\t * List of options that can be used for the user selectable length menu.\r\n\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aLengthMenu\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Counter for the draws that the table does. Also used as a tracker for\r\n\t\t * server-side processing\r\n\t\t *  @type int\r\n\t\t *  @default 0\r\n\t\t */\r\n\t\t\"iDraw\": 0,\r\n\t\r\n\t\t/**\r\n\t\t * Indicate if a redraw is being done - useful for Ajax\r\n\t\t *  @type boolean\r\n\t\t *  @default false\r\n\t\t */\r\n\t\t\"bDrawing\": false,\r\n\t\r\n\t\t/**\r\n\t\t * Draw index (iDraw) of the last error when parsing the returned data\r\n\t\t *  @type int\r\n\t\t *  @default -1\r\n\t\t */\r\n\t\t\"iDrawError\": -1,\r\n\t\r\n\t\t/**\r\n\t\t * Paging display length\r\n\t\t *  @type int\r\n\t\t *  @default 10\r\n\t\t */\r\n\t\t\"_iDisplayLength\": 10,\r\n\t\r\n\t\t/**\r\n\t\t * Paging start point - aiDisplay index\r\n\t\t *  @type int\r\n\t\t *  @default 0\r\n\t\t */\r\n\t\t\"_iDisplayStart\": 0,\r\n\t\r\n\t\t/**\r\n\t\t * Server-side processing - number of records in the result set\r\n\t\t * (i.e. before filtering), Use fnRecordsTotal rather than\r\n\t\t * this property to get the value of the number of records, regardless of\r\n\t\t * the server-side processing setting.\r\n\t\t *  @type int\r\n\t\t *  @default 0\r\n\t\t *  @private\r\n\t\t */\r\n\t\t\"_iRecordsTotal\": 0,\r\n\t\r\n\t\t/**\r\n\t\t * Server-side processing - number of records in the current display set\r\n\t\t * (i.e. after filtering). Use fnRecordsDisplay rather than\r\n\t\t * this property to get the value of the number of records, regardless of\r\n\t\t * the server-side processing setting.\r\n\t\t *  @type boolean\r\n\t\t *  @default 0\r\n\t\t *  @private\r\n\t\t */\r\n\t\t\"_iRecordsDisplay\": 0,\r\n\t\r\n\t\t/**\r\n\t\t * Flag to indicate if jQuery UI marking and classes should be used.\r\n\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t *  @type boolean\r\n\t\t */\r\n\t\t\"bJUI\": null,\r\n\t\r\n\t\t/**\r\n\t\t * The classes to use for the table\r\n\t\t *  @type object\r\n\t\t *  @default {}\r\n\t\t */\r\n\t\t\"oClasses\": {},\r\n\t\r\n\t\t/**\r\n\t\t * Flag attached to the settings object so you can check in the draw\r\n\t\t * callback if filtering has been done in the draw. Deprecated in favour of\r\n\t\t * events.\r\n\t\t *  @type boolean\r\n\t\t *  @default false\r\n\t\t *  @deprecated\r\n\t\t */\r\n\t\t\"bFiltered\": false,\r\n\t\r\n\t\t/**\r\n\t\t * Flag attached to the settings object so you can check in the draw\r\n\t\t * callback if sorting has been done in the draw. Deprecated in favour of\r\n\t\t * events.\r\n\t\t *  @type boolean\r\n\t\t *  @default false\r\n\t\t *  @deprecated\r\n\t\t */\r\n\t\t\"bSorted\": false,\r\n\t\r\n\t\t/**\r\n\t\t * Indicate that if multiple rows are in the header and there is more than\r\n\t\t * one unique cell per column, if the top one (true) or bottom one (false)\r\n\t\t * should be used for sorting / title by DataTables.\r\n\t\t * Note that this parameter will be set by the initialisation routine. To\r\n\t\t * set a default use {@link DataTable.defaults}.\r\n\t\t *  @type boolean\r\n\t\t */\r\n\t\t\"bSortCellsTop\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Initialisation object that is used for the table\r\n\t\t *  @type object\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"oInit\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Destroy callback functions - for plug-ins to attach themselves to the\r\n\t\t * destroy so they can clean up markup and events.\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aoDestroyCallback\": [],\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Get the number of records in the current record set, before filtering\r\n\t\t *  @type function\r\n\t\t */\r\n\t\t\"fnRecordsTotal\": function ()\r\n\t\t{\r\n\t\t\treturn _fnDataSource( this ) == 'ssp' ?\r\n\t\t\t\tthis._iRecordsTotal * 1 :\r\n\t\t\t\tthis.aiDisplayMaster.length;\r\n\t\t},\r\n\t\r\n\t\t/**\r\n\t\t * Get the number of records in the current record set, after filtering\r\n\t\t *  @type function\r\n\t\t */\r\n\t\t\"fnRecordsDisplay\": function ()\r\n\t\t{\r\n\t\t\treturn _fnDataSource( this ) == 'ssp' ?\r\n\t\t\t\tthis._iRecordsDisplay * 1 :\r\n\t\t\t\tthis.aiDisplay.length;\r\n\t\t},\r\n\t\r\n\t\t/**\r\n\t\t * Get the display end point - aiDisplay index\r\n\t\t *  @type function\r\n\t\t */\r\n\t\t\"fnDisplayEnd\": function ()\r\n\t\t{\r\n\t\t\tvar\r\n\t\t\t\tlen      = this._iDisplayLength,\r\n\t\t\t\tstart    = this._iDisplayStart,\r\n\t\t\t\tcalc     = start + len,\r\n\t\t\t\trecords  = this.aiDisplay.length,\r\n\t\t\t\tfeatures = this.oFeatures,\r\n\t\t\t\tpaginate = features.bPaginate;\r\n\t\r\n\t\t\tif ( features.bServerSide ) {\r\n\t\t\t\treturn paginate === false || len === -1 ?\r\n\t\t\t\t\tstart + records :\r\n\t\t\t\t\tMath.min( start+len, this._iRecordsDisplay );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn ! paginate || calc>records || len===-1 ?\r\n\t\t\t\t\trecords :\r\n\t\t\t\t\tcalc;\r\n\t\t\t}\r\n\t\t},\r\n\t\r\n\t\t/**\r\n\t\t * The DataTables object for this table\r\n\t\t *  @type object\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"oInstance\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Unique identifier for each instance of the DataTables object. If there\r\n\t\t * is an ID on the table node, then it takes that value, otherwise an\r\n\t\t * incrementing internal counter is used.\r\n\t\t *  @type string\r\n\t\t *  @default null\r\n\t\t */\r\n\t\t\"sInstance\": null,\r\n\t\r\n\t\t/**\r\n\t\t * tabindex attribute value that is added to DataTables control elements, allowing\r\n\t\t * keyboard navigation of the table and its controls.\r\n\t\t */\r\n\t\t\"iTabIndex\": 0,\r\n\t\r\n\t\t/**\r\n\t\t * DIV container for the footer scrolling table if scrolling\r\n\t\t */\r\n\t\t\"nScrollHead\": null,\r\n\t\r\n\t\t/**\r\n\t\t * DIV container for the footer scrolling table if scrolling\r\n\t\t */\r\n\t\t\"nScrollFoot\": null,\r\n\t\r\n\t\t/**\r\n\t\t * Last applied sort\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t */\r\n\t\t\"aLastSort\": [],\r\n\t\r\n\t\t/**\r\n\t\t * Stored plug-in instances\r\n\t\t *  @type object\r\n\t\t *  @default {}\r\n\t\t */\r\n\t\t\"oPlugins\": {}\r\n\t};\r\n\r\n\t/**\r\n\t * Extension object for DataTables that is used to provide all extension\r\n\t * options.\r\n\t *\r\n\t * Note that the `DataTable.ext` object is available through\r\n\t * `jQuery.fn.dataTable.ext` where it may be accessed and manipulated. It is\r\n\t * also aliased to `jQuery.fn.dataTableExt` for historic reasons.\r\n\t *  @namespace\r\n\t *  @extends DataTable.models.ext\r\n\t */\r\n\t\r\n\t\r\n\t/**\r\n\t * DataTables extensions\r\n\t * \r\n\t * This namespace acts as a collection area for plug-ins that can be used to\r\n\t * extend DataTables capabilities. Indeed many of the build in methods\r\n\t * use this method to provide their own capabilities (sorting methods for\r\n\t * example).\r\n\t *\r\n\t * Note that this namespace is aliased to `jQuery.fn.dataTableExt` for legacy\r\n\t * reasons\r\n\t *\r\n\t *  @namespace\r\n\t */\r\n\tDataTable.ext = _ext = {\r\n\t\t/**\r\n\t\t * Element class names\r\n\t\t *\r\n\t\t *  @type object\r\n\t\t *  @default {}\r\n\t\t */\r\n\t\tclasses: {},\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Error reporting.\r\n\t\t * \r\n\t\t * How should DataTables report an error. Can take the value 'alert' or\r\n\t\t * 'throw'\r\n\t\t *\r\n\t\t *  @type string\r\n\t\t *  @default alert\r\n\t\t */\r\n\t\terrMode: \"alert\",\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Feature plug-ins.\r\n\t\t * \r\n\t\t * This is an array of objects which describe the feature plug-ins that are\r\n\t\t * available to DataTables. These feature plug-ins are then available for\r\n\t\t * use through the `dom` initialisation option.\r\n\t\t * \r\n\t\t * Each feature plug-in is described by an object which must have the\r\n\t\t * following properties:\r\n\t\t * \r\n\t\t * * `fnInit` - function that is used to initialise the plug-in,\r\n\t\t * * `cFeature` - a character so the feature can be enabled by the `dom`\r\n\t\t *   instillation option. This is case sensitive.\r\n\t\t *\r\n\t\t * The `fnInit` function has the following input parameters:\r\n\t\t *\r\n\t\t * 1. `{object}` DataTables settings object: see\r\n\t\t *    {@link DataTable.models.oSettings}\r\n\t\t *\r\n\t\t * And the following return is expected:\r\n\t\t * \r\n\t\t * * {node|null} The element which contains your feature. Note that the\r\n\t\t *   return may also be void if your plug-in does not require to inject any\r\n\t\t *   DOM elements into DataTables control (`dom`) - for example this might\r\n\t\t *   be useful when developing a plug-in which allows table control via\r\n\t\t *   keyboard entry\r\n\t\t *\r\n\t\t *  @type array\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    $.fn.dataTable.ext.features.push( {\r\n\t\t *      \"fnInit\": function( oSettings ) {\r\n\t\t *        return new TableTools( { \"oDTSettings\": oSettings } );\r\n\t\t *      },\r\n\t\t *      \"cFeature\": \"T\"\r\n\t\t *    } );\r\n\t\t */\r\n\t\tfeature: [],\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Row searching.\r\n\t\t * \r\n\t\t * This method of searching is complimentary to the default type based\r\n\t\t * searching, and a lot more comprehensive as it allows you complete control\r\n\t\t * over the searching logic. Each element in this array is a function\r\n\t\t * (parameters described below) that is called for every row in the table,\r\n\t\t * and your logic decides if it should be included in the searching data set\r\n\t\t * or not.\r\n\t\t *\r\n\t\t * Searching functions have the following input parameters:\r\n\t\t *\r\n\t\t * 1. `{object}` DataTables settings object: see\r\n\t\t *    {@link DataTable.models.oSettings}\r\n\t\t * 2. `{array|object}` Data for the row to be processed (same as the\r\n\t\t *    original format that was passed in as the data source, or an array\r\n\t\t *    from a DOM data source\r\n\t\t * 3. `{int}` Row index ({@link DataTable.models.oSettings.aoData}), which\r\n\t\t *    can be useful to retrieve the `TR` element if you need DOM interaction.\r\n\t\t *\r\n\t\t * And the following return is expected:\r\n\t\t *\r\n\t\t * * {boolean} Include the row in the searched result set (true) or not\r\n\t\t *   (false)\r\n\t\t *\r\n\t\t * Note that as with the main search ability in DataTables, technically this\r\n\t\t * is \"filtering\", since it is subtractive. However, for consistency in\r\n\t\t * naming we call it searching here.\r\n\t\t *\r\n\t\t *  @type array\r\n\t\t *  @default []\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // The following example shows custom search being applied to the\r\n\t\t *    // fourth column (i.e. the data[3] index) based on two input values\r\n\t\t *    // from the end-user, matching the data in a certain range.\r\n\t\t *    $.fn.dataTable.ext.search.push(\r\n\t\t *      function( settings, data, dataIndex ) {\r\n\t\t *        var min = document.getElementById('min').value * 1;\r\n\t\t *        var max = document.getElementById('max').value * 1;\r\n\t\t *        var version = data[3] == \"-\" ? 0 : data[3]*1;\r\n\t\t *\r\n\t\t *        if ( min == \"\" && max == \"\" ) {\r\n\t\t *          return true;\r\n\t\t *        }\r\n\t\t *        else if ( min == \"\" && version < max ) {\r\n\t\t *          return true;\r\n\t\t *        }\r\n\t\t *        else if ( min < version && \"\" == max ) {\r\n\t\t *          return true;\r\n\t\t *        }\r\n\t\t *        else if ( min < version && version < max ) {\r\n\t\t *          return true;\r\n\t\t *        }\r\n\t\t *        return false;\r\n\t\t *      }\r\n\t\t *    );\r\n\t\t */\r\n\t\tsearch: [],\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Internal functions, exposed for used in plug-ins.\r\n\t\t * \r\n\t\t * Please note that you should not need to use the internal methods for\r\n\t\t * anything other than a plug-in (and even then, try to avoid if possible).\r\n\t\t * The internal function may change between releases.\r\n\t\t *\r\n\t\t *  @type object\r\n\t\t *  @default {}\r\n\t\t */\r\n\t\tinternal: {},\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Legacy configuration options. Enable and disable legacy options that\r\n\t\t * are available in DataTables.\r\n\t\t *\r\n\t\t *  @type object\r\n\t\t */\r\n\t\tlegacy: {\r\n\t\t\t/**\r\n\t\t\t * Enable / disable DataTables 1.9 compatible server-side processing\r\n\t\t\t * requests\r\n\t\t\t *\r\n\t\t\t *  @type boolean\r\n\t\t\t *  @default null\r\n\t\t\t */\r\n\t\t\tajax: null\r\n\t\t},\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Pagination plug-in methods.\r\n\t\t * \r\n\t\t * Each entry in this object is a function and defines which buttons should\r\n\t\t * be shown by the pagination rendering method that is used for the table:\r\n\t\t * {@link DataTable.ext.renderer.pageButton}. The renderer addresses how the\r\n\t\t * buttons are displayed in the document, while the functions here tell it\r\n\t\t * what buttons to display. This is done by returning an array of button\r\n\t\t * descriptions (what each button will do).\r\n\t\t *\r\n\t\t * Pagination types (the four built in options and any additional plug-in\r\n\t\t * options defined here) can be used through the `paginationType`\r\n\t\t * initialisation parameter.\r\n\t\t *\r\n\t\t * The functions defined take two parameters:\r\n\t\t *\r\n\t\t * 1. `{int} page` The current page index\r\n\t\t * 2. `{int} pages` The number of pages in the table\r\n\t\t *\r\n\t\t * Each function is expected to return an array where each element of the\r\n\t\t * array can be one of:\r\n\t\t *\r\n\t\t * * `first` - Jump to first page when activated\r\n\t\t * * `last` - Jump to last page when activated\r\n\t\t * * `previous` - Show previous page when activated\r\n\t\t * * `next` - Show next page when activated\r\n\t\t * * `{int}` - Show page of the index given\r\n\t\t * * `{array}` - A nested array containing the above elements to add a\r\n\t\t *   containing 'DIV' element (might be useful for styling).\r\n\t\t *\r\n\t\t * Note that DataTables v1.9- used this object slightly differently whereby\r\n\t\t * an object with two functions would be defined for each plug-in. That\r\n\t\t * ability is still supported by DataTables 1.10+ to provide backwards\r\n\t\t * compatibility, but this option of use is now decremented and no longer\r\n\t\t * documented in DataTables 1.10+.\r\n\t\t *\r\n\t\t *  @type object\r\n\t\t *  @default {}\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Show previous, next and current page buttons only\r\n\t\t *    $.fn.dataTableExt.oPagination.current = function ( page, pages ) {\r\n\t\t *      return [ 'previous', page, 'next' ];\r\n\t\t *    };\r\n\t\t */\r\n\t\tpager: {},\r\n\t\r\n\t\r\n\t\trenderer: {\r\n\t\t\tpageButton: {},\r\n\t\t\theader: {}\r\n\t\t},\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Ordering plug-ins - custom data source\r\n\t\t * \r\n\t\t * The extension options for ordering of data available here is complimentary\r\n\t\t * to the default type based ordering that DataTables typically uses. It\r\n\t\t * allows much greater control over the the data that is being used to\r\n\t\t * order a column, but is necessarily therefore more complex.\r\n\t\t * \r\n\t\t * This type of ordering is useful if you want to do ordering based on data\r\n\t\t * live from the DOM (for example the contents of an 'input' element) rather\r\n\t\t * than just the static string that DataTables knows of.\r\n\t\t * \r\n\t\t * The way these plug-ins work is that you create an array of the values you\r\n\t\t * wish to be ordering for the column in question and then return that\r\n\t\t * array. The data in the array much be in the index order of the rows in\r\n\t\t * the table (not the currently ordering order!). Which order data gathering\r\n\t\t * function is run here depends on the `dt-init columns.orderDataType`\r\n\t\t * parameter that is used for the column (if any).\r\n\t\t *\r\n\t\t * The functions defined take two parameters:\r\n\t\t *\r\n\t\t * 1. `{object}` DataTables settings object: see\r\n\t\t *    {@link DataTable.models.oSettings}\r\n\t\t * 2. `{int}` Target column index\r\n\t\t *\r\n\t\t * Each function is expected to return an array:\r\n\t\t *\r\n\t\t * * `{array}` Data for the column to be ordering upon\r\n\t\t *\r\n\t\t *  @type array\r\n\t\t *\r\n\t\t *  @example\r\n\t\t *    // Ordering using `input` node values\r\n\t\t *    $.fn.dataTable.ext.order['dom-text'] = function  ( settings, col )\r\n\t\t *    {\r\n\t\t *      return this.api().column( col, {order:'index'} ).nodes().map( function ( td, i ) {\r\n\t\t *        return $('input', td).val();\r\n\t\t *      } );\r\n\t\t *    }\r\n\t\t */\r\n\t\torder: {},\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Type based plug-ins.\r\n\t\t *\r\n\t\t * Each column in DataTables has a type assigned to it, either by automatic\r\n\t\t * detection or by direct assignment using the `type` option for the column.\r\n\t\t * The type of a column will effect how it is ordering and search (plug-ins\r\n\t\t * can also make use of the column type if required).\r\n\t\t *\r\n\t\t * @namespace\r\n\t\t */\r\n\t\ttype: {\r\n\t\t\t/**\r\n\t\t\t * Type detection functions.\r\n\t\t\t *\r\n\t\t\t * The functions defined in this object are used to automatically detect\r\n\t\t\t * a column's type, making initialisation of DataTables super easy, even\r\n\t\t\t * when complex data is in the table.\r\n\t\t\t *\r\n\t\t\t * The functions defined take two parameters:\r\n\t\t\t *\r\n\t\t     *  1. `{*}` Data from the column cell to be analysed\r\n\t\t     *  2. `{settings}` DataTables settings object. This can be used to\r\n\t\t     *     perform context specific type detection - for example detection\r\n\t\t     *     based on language settings such as using a comma for a decimal\r\n\t\t     *     place. Generally speaking the options from the settings will not\r\n\t\t     *     be required\r\n\t\t\t *\r\n\t\t\t * Each function is expected to return:\r\n\t\t\t *\r\n\t\t\t * * `{string|null}` Data type detected, or null if unknown (and thus\r\n\t\t\t *   pass it on to the other type detection functions.\r\n\t\t\t *\r\n\t\t\t *  @type array\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    // Currency type detection plug-in:\r\n\t\t\t *    $.fn.dataTable.ext.type.detect.push(\r\n\t\t\t *      function ( data, settings ) {\r\n\t\t\t *        // Check the numeric part\r\n\t\t\t *        if ( ! $.isNumeric( data.substring(1) ) ) {\r\n\t\t\t *          return null;\r\n\t\t\t *        }\r\n\t\t\t *\r\n\t\t\t *        // Check prefixed by currency\r\n\t\t\t *        if ( data.charAt(0) == '$' || data.charAt(0) == '&pound;' ) {\r\n\t\t\t *          return 'currency';\r\n\t\t\t *        }\r\n\t\t\t *        return null;\r\n\t\t\t *      }\r\n\t\t\t *    );\r\n\t\t\t */\r\n\t\t\tdetect: [],\r\n\t\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Type based search formatting.\r\n\t\t\t *\r\n\t\t\t * The type based searching functions can be used to pre-format the\r\n\t\t\t * data to be search on. For example, it can be used to strip HTML\r\n\t\t\t * tags or to de-format telephone numbers for numeric only searching.\r\n\t\t\t *\r\n\t\t\t * Note that is a search is not defined for a column of a given type,\r\n\t\t\t * no search formatting will be performed.\r\n\t\t\t * \r\n\t\t\t * Pre-processing of searching data plug-ins - When you assign the sType\r\n\t\t\t * for a column (or have it automatically detected for you by DataTables\r\n\t\t\t * or a type detection plug-in), you will typically be using this for\r\n\t\t\t * custom sorting, but it can also be used to provide custom searching\r\n\t\t\t * by allowing you to pre-processing the data and returning the data in\r\n\t\t\t * the format that should be searched upon. This is done by adding\r\n\t\t\t * functions this object with a parameter name which matches the sType\r\n\t\t\t * for that target column. This is the corollary of <i>afnSortData</i>\r\n\t\t\t * for searching data.\r\n\t\t\t *\r\n\t\t\t * The functions defined take a single parameter:\r\n\t\t\t *\r\n\t\t     *  1. `{*}` Data from the column cell to be prepared for searching\r\n\t\t\t *\r\n\t\t\t * Each function is expected to return:\r\n\t\t\t *\r\n\t\t\t * * `{string|null}` Formatted string that will be used for the searching.\r\n\t\t\t *\r\n\t\t\t *  @type object\r\n\t\t\t *  @default {}\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    $.fn.dataTable.ext.type.search['title-numeric'] = function ( d ) {\r\n\t\t\t *      return d.replace(/\\n/g,\" \").replace( /<.*?>/g, \"\" );\r\n\t\t\t *    }\r\n\t\t\t */\r\n\t\t\tsearch: {},\r\n\t\r\n\t\r\n\t\t\t/**\r\n\t\t\t * Type based ordering.\r\n\t\t\t *\r\n\t\t\t * The column type tells DataTables what ordering to apply to the table\r\n\t\t\t * when a column is sorted upon. The order for each type that is defined,\r\n\t\t\t * is defined by the functions available in this object.\r\n\t\t\t *\r\n\t\t\t * Each ordering option can be described by three properties added to\r\n\t\t\t * this object:\r\n\t\t\t *\r\n\t\t\t * * `{type}-pre` - Pre-formatting function\r\n\t\t\t * * `{type}-asc` - Ascending order function\r\n\t\t\t * * `{type}-desc` - Descending order function\r\n\t\t\t *\r\n\t\t\t * All three can be used together, only `{type}-pre` or only\r\n\t\t\t * `{type}-asc` and `{type}-desc` together. It is generally recommended\r\n\t\t\t * that only `{type}-pre` is used, as this provides the optimal\r\n\t\t\t * implementation in terms of speed, although the others are provided\r\n\t\t\t * for compatibility with existing Javascript sort functions.\r\n\t\t\t *\r\n\t\t\t * `{type}-pre`: Functions defined take a single parameter:\r\n\t\t\t *\r\n\t\t     *  1. `{*}` Data from the column cell to be prepared for ordering\r\n\t\t\t *\r\n\t\t\t * And return:\r\n\t\t\t *\r\n\t\t\t * * `{*}` Data to be sorted upon\r\n\t\t\t *\r\n\t\t\t * `{type}-asc` and `{type}-desc`: Functions are typical Javascript sort\r\n\t\t\t * functions, taking two parameters:\r\n\t\t\t *\r\n\t\t     *  1. `{*}` Data to compare to the second parameter\r\n\t\t     *  2. `{*}` Data to compare to the first parameter\r\n\t\t\t *\r\n\t\t\t * And returning:\r\n\t\t\t *\r\n\t\t\t * * `{*}` Ordering match: <0 if first parameter should be sorted lower\r\n\t\t\t *   than the second parameter, ===0 if the two parameters are equal and\r\n\t\t\t *   >0 if the first parameter should be sorted height than the second\r\n\t\t\t *   parameter.\r\n\t\t\t * \r\n\t\t\t *  @type object\r\n\t\t\t *  @default {}\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    // Numeric ordering of formatted numbers with a pre-formatter\r\n\t\t\t *    $.extend( $.fn.dataTable.ext.type.order, {\r\n\t\t\t *      \"string-pre\": function(x) {\r\n\t\t\t *        a = (a === \"-\" || a === \"\") ? 0 : a.replace( /[^\\d\\-\\.]/g, \"\" );\r\n\t\t\t *        return parseFloat( a );\r\n\t\t\t *      }\r\n\t\t\t *    } );\r\n\t\t\t *\r\n\t\t\t *  @example\r\n\t\t\t *    // Case-sensitive string ordering, with no pre-formatting method\r\n\t\t\t *    $.extend( $.fn.dataTable.ext.order, {\r\n\t\t\t *      \"string-case-asc\": function(x,y) {\r\n\t\t\t *        return ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n\t\t\t *      },\r\n\t\t\t *      \"string-case-desc\": function(x,y) {\r\n\t\t\t *        return ((x < y) ? 1 : ((x > y) ? -1 : 0));\r\n\t\t\t *      }\r\n\t\t\t *    } );\r\n\t\t\t */\r\n\t\t\torder: {}\r\n\t\t},\r\n\t\r\n\t\t/**\r\n\t\t * Unique DataTables instance counter\r\n\t\t *\r\n\t\t * @type int\r\n\t\t * @private\r\n\t\t */\r\n\t\t_unique: 0,\r\n\t\r\n\t\r\n\t\t//\r\n\t\t// Depreciated\r\n\t\t// The following properties are retained for backwards compatiblity only.\r\n\t\t// The should not be used in new projects and will be removed in a future\r\n\t\t// version\r\n\t\t//\r\n\t\r\n\t\t/**\r\n\t\t * Version check function.\r\n\t\t *  @type function\r\n\t\t *  @depreciated Since 1.10\r\n\t\t */\r\n\t\tfnVersionCheck: DataTable.fnVersionCheck,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Index for what 'this' index API functions should use\r\n\t\t *  @type int\r\n\t\t *  @deprecated Since v1.10\r\n\t\t */\r\n\t\tiApiIndex: 0,\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * jQuery UI class container\r\n\t\t *  @type object\r\n\t\t *  @deprecated Since v1.10\r\n\t\t */\r\n\t\toJUIClasses: {},\r\n\t\r\n\t\r\n\t\t/**\r\n\t\t * Software version\r\n\t\t *  @type string\r\n\t\t *  @deprecated Since v1.10\r\n\t\t */\r\n\t\tsVersion: DataTable.version\r\n\t};\r\n\t\r\n\t\r\n\t//\r\n\t// Backwards compatibility. Alias to pre 1.10 Hungarian notation counter parts\r\n\t//\r\n\t$.extend( _ext, {\r\n\t\tafnFiltering: _ext.search,\r\n\t\taTypes:       _ext.type.detect,\r\n\t\tofnSearch:    _ext.type.search,\r\n\t\toSort:        _ext.type.order,\r\n\t\tafnSortData:  _ext.order,\r\n\t\taoFeatures:   _ext.feature,\r\n\t\toApi:         _ext.internal,\r\n\t\toStdClasses:  _ext.classes,\r\n\t\toPagination:  _ext.pager\r\n\t} );\r\n\t\r\n\t\r\n\t$.extend( DataTable.ext.classes, {\r\n\t\t\"sTable\": \"dataTable\",\r\n\t\t\"sNoFooter\": \"no-footer\",\r\n\t\r\n\t\t/* Paging buttons */\r\n\t\t\"sPageButton\": \"paginate_button\",\r\n\t\t\"sPageButtonActive\": \"current\",\r\n\t\t\"sPageButtonDisabled\": \"disabled\",\r\n\t\r\n\t\t/* Striping classes */\r\n\t\t\"sStripeOdd\": \"odd\",\r\n\t\t\"sStripeEven\": \"even\",\r\n\t\r\n\t\t/* Empty row */\r\n\t\t\"sRowEmpty\": \"dataTables_empty\",\r\n\t\r\n\t\t/* Features */\r\n\t\t\"sWrapper\": \"dataTables_wrapper\",\r\n\t\t\"sFilter\": \"dataTables_filter\",\r\n\t\t\"sInfo\": \"dataTables_info\",\r\n\t\t\"sPaging\": \"dataTables_paginate paging_\", /* Note that the type is postfixed */\r\n\t\t\"sLength\": \"dataTables_length\",\r\n\t\t\"sProcessing\": \"dataTables_processing\",\r\n\t\r\n\t\t/* Sorting */\r\n\t\t\"sSortAsc\": \"sorting_asc\",\r\n\t\t\"sSortDesc\": \"sorting_desc\",\r\n\t\t\"sSortable\": \"sorting\", /* Sortable in both directions */\r\n\t\t\"sSortableAsc\": \"sorting_asc_disabled\",\r\n\t\t\"sSortableDesc\": \"sorting_desc_disabled\",\r\n\t\t\"sSortableNone\": \"sorting_disabled\",\r\n\t\t\"sSortColumn\": \"sorting_\", /* Note that an int is postfixed for the sorting order */\r\n\t\r\n\t\t/* Filtering */\r\n\t\t\"sFilterInput\": \"\",\r\n\t\r\n\t\t/* Page length */\r\n\t\t\"sLengthSelect\": \"\",\r\n\t\r\n\t\t/* Scrolling */\r\n\t\t\"sScrollWrapper\": \"dataTables_scroll\",\r\n\t\t\"sScrollHead\": \"dataTables_scrollHead\",\r\n\t\t\"sScrollHeadInner\": \"dataTables_scrollHeadInner\",\r\n\t\t\"sScrollBody\": \"dataTables_scrollBody\",\r\n\t\t\"sScrollFoot\": \"dataTables_scrollFoot\",\r\n\t\t\"sScrollFootInner\": \"dataTables_scrollFootInner\",\r\n\t\r\n\t\t/* Misc */\r\n\t\t\"sHeaderTH\": \"\",\r\n\t\t\"sFooterTH\": \"\",\r\n\t\r\n\t\t// Deprecated\r\n\t\t\"sSortJUIAsc\": \"\",\r\n\t\t\"sSortJUIDesc\": \"\",\r\n\t\t\"sSortJUI\": \"\",\r\n\t\t\"sSortJUIAscAllowed\": \"\",\r\n\t\t\"sSortJUIDescAllowed\": \"\",\r\n\t\t\"sSortJUIWrapper\": \"\",\r\n\t\t\"sSortIcon\": \"\",\r\n\t\t\"sJUIHeader\": \"\",\r\n\t\t\"sJUIFooter\": \"\"\r\n\t} );\r\n\t\r\n\t\r\n\t(function() {\r\n\t\r\n\t// Reused strings for better compression. Closure compiler appears to have a\r\n\t// weird edge case where it is trying to expand strings rather than use the\r\n\t// variable version. This results in about 200 bytes being added, for very\r\n\t// little preference benefit since it this run on script load only.\r\n\tvar _empty = '';\r\n\t_empty = '';\r\n\t\r\n\tvar _stateDefault = _empty + 'ui-state-default';\r\n\tvar _sortIcon     = _empty + 'css_right ui-icon ui-icon-';\r\n\tvar _headerFooter = _empty + 'fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix';\r\n\t\r\n\t$.extend( DataTable.ext.oJUIClasses, DataTable.ext.classes, {\r\n\t\t/* Full numbers paging buttons */\r\n\t\t\"sPageButton\":         \"fg-button ui-button \"+_stateDefault,\r\n\t\t\"sPageButtonActive\":   \"ui-state-disabled\",\r\n\t\t\"sPageButtonDisabled\": \"ui-state-disabled\",\r\n\t\r\n\t\t/* Features */\r\n\t\t\"sPaging\": \"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi \"+\r\n\t\t\t\"ui-buttonset-multi paging_\", /* Note that the type is postfixed */\r\n\t\r\n\t\t/* Sorting */\r\n\t\t\"sSortAsc\":            _stateDefault+\" sorting_asc\",\r\n\t\t\"sSortDesc\":           _stateDefault+\" sorting_desc\",\r\n\t\t\"sSortable\":           _stateDefault+\" sorting\",\r\n\t\t\"sSortableAsc\":        _stateDefault+\" sorting_asc_disabled\",\r\n\t\t\"sSortableDesc\":       _stateDefault+\" sorting_desc_disabled\",\r\n\t\t\"sSortableNone\":       _stateDefault+\" sorting_disabled\",\r\n\t\t\"sSortJUIAsc\":         _sortIcon+\"triangle-1-n\",\r\n\t\t\"sSortJUIDesc\":        _sortIcon+\"triangle-1-s\",\r\n\t\t\"sSortJUI\":            _sortIcon+\"carat-2-n-s\",\r\n\t\t\"sSortJUIAscAllowed\":  _sortIcon+\"carat-1-n\",\r\n\t\t\"sSortJUIDescAllowed\": _sortIcon+\"carat-1-s\",\r\n\t\t\"sSortJUIWrapper\":     \"DataTables_sort_wrapper\",\r\n\t\t\"sSortIcon\":           \"DataTables_sort_icon\",\r\n\t\r\n\t\t/* Scrolling */\r\n\t\t\"sScrollHead\": \"dataTables_scrollHead \"+_stateDefault,\r\n\t\t\"sScrollFoot\": \"dataTables_scrollFoot \"+_stateDefault,\r\n\t\r\n\t\t/* Misc */\r\n\t\t\"sHeaderTH\":  _stateDefault,\r\n\t\t\"sFooterTH\":  _stateDefault,\r\n\t\t\"sJUIHeader\": _headerFooter+\" ui-corner-tl ui-corner-tr\",\r\n\t\t\"sJUIFooter\": _headerFooter+\" ui-corner-bl ui-corner-br\"\r\n\t} );\r\n\t\r\n\t}());\r\n\t\r\n\t\r\n\t\r\n\tvar extPagination = DataTable.ext.pager;\r\n\t\r\n\tfunction _numbers ( page, pages ) {\r\n\t\tvar\r\n\t\t\tnumbers = [],\r\n\t\t\tbuttons = extPagination.numbers_length,\r\n\t\t\thalf = Math.floor( buttons / 2 ),\r\n\t\t\ti = 1;\r\n\t\r\n\t\tif ( pages <= buttons ) {\r\n\t\t\tnumbers = _range( 0, pages );\r\n\t\t}\r\n\t\telse if ( page <= half ) {\r\n\t\t\tnumbers = _range( 0, buttons-2 );\r\n\t\t\tnumbers.push( 'ellipsis' );\r\n\t\t\tnumbers.push( pages-1 );\r\n\t\t}\r\n\t\telse if ( page >= pages - 1 - half ) {\r\n\t\t\tnumbers = _range( pages-(buttons-2), pages );\r\n\t\t\tnumbers.splice( 0, 0, 'ellipsis' ); // no unshift in ie6\r\n\t\t\tnumbers.splice( 0, 0, 0 );\r\n\t\t}\r\n\t\telse {\r\n\t\t\tnumbers = _range( page-1, page+2 );\r\n\t\t\tnumbers.push( 'ellipsis' );\r\n\t\t\tnumbers.push( pages-1 );\r\n\t\t\tnumbers.splice( 0, 0, 'ellipsis' );\r\n\t\t\tnumbers.splice( 0, 0, 0 );\r\n\t\t}\r\n\t\r\n\t\tnumbers.DT_el = 'span';\r\n\t\treturn numbers;\r\n\t}\r\n\t\r\n\t\r\n\t$.extend( extPagination, {\r\n\t\tsimple: function ( page, pages ) {\r\n\t\t\treturn [ 'previous', 'next' ];\r\n\t\t},\r\n\t\r\n\t\tfull: function ( page, pages ) {\r\n\t\t\treturn [  'first', 'previous', 'next', 'last' ];\r\n\t\t},\r\n\t\r\n\t\tsimple_numbers: function ( page, pages ) {\r\n\t\t\treturn [ 'previous', _numbers(page, pages), 'next' ];\r\n\t\t},\r\n\t\r\n\t\tfull_numbers: function ( page, pages ) {\r\n\t\t\treturn [ 'first', 'previous', _numbers(page, pages), 'next', 'last' ];\r\n\t\t},\r\n\t\r\n\t\t// For testing and plug-ins to use\r\n\t\t_numbers: _numbers,\r\n\t\tnumbers_length: 7\r\n\t} );\r\n\t\r\n\t\r\n\t$.extend( true, DataTable.ext.renderer, {\r\n\t\tpageButton: {\r\n\t\t\t_: function ( settings, host, idx, buttons, page, pages ) {\r\n\t\t\t\tvar classes = settings.oClasses;\r\n\t\t\t\tvar lang = settings.oLanguage.oPaginate;\r\n\t\t\t\tvar btnDisplay, btnClass, counter=0;\r\n\t\r\n\t\t\t\tvar attach = function( container, buttons ) {\r\n\t\t\t\t\tvar i, ien, node, button;\r\n\t\t\t\t\tvar clickHandler = function ( e ) {\r\n\t\t\t\t\t\t_fnPageChange( settings, e.data.action, true );\r\n\t\t\t\t\t};\r\n\t\r\n\t\t\t\t\tfor ( i=0, ien=buttons.length ; i<ien ; i++ ) {\r\n\t\t\t\t\t\tbutton = buttons[i];\r\n\t\r\n\t\t\t\t\t\tif ( $.isArray( button ) ) {\r\n\t\t\t\t\t\t\tvar inner = $( '<'+(button.DT_el || 'div')+'/>' )\r\n\t\t\t\t\t\t\t\t.appendTo( container );\r\n\t\t\t\t\t\t\tattach( inner, button );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tbtnDisplay = '';\r\n\t\t\t\t\t\t\tbtnClass = '';\r\n\t\r\n\t\t\t\t\t\t\tswitch ( button ) {\r\n\t\t\t\t\t\t\t\tcase 'ellipsis':\r\n\t\t\t\t\t\t\t\t\tcontainer.append('<span>&hellip;</span>');\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\r\n\t\t\t\t\t\t\t\tcase 'first':\r\n\t\t\t\t\t\t\t\t\tbtnDisplay = lang.sFirst;\r\n\t\t\t\t\t\t\t\t\tbtnClass = button + (page > 0 ?\r\n\t\t\t\t\t\t\t\t\t\t'' : ' '+classes.sPageButtonDisabled);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\r\n\t\t\t\t\t\t\t\tcase 'previous':\r\n\t\t\t\t\t\t\t\t\tbtnDisplay = lang.sPrevious;\r\n\t\t\t\t\t\t\t\t\tbtnClass = button + (page > 0 ?\r\n\t\t\t\t\t\t\t\t\t\t'' : ' '+classes.sPageButtonDisabled);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\r\n\t\t\t\t\t\t\t\tcase 'next':\r\n\t\t\t\t\t\t\t\t\tbtnDisplay = lang.sNext;\r\n\t\t\t\t\t\t\t\t\tbtnClass = button + (page < pages-1 ?\r\n\t\t\t\t\t\t\t\t\t\t'' : ' '+classes.sPageButtonDisabled);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\r\n\t\t\t\t\t\t\t\tcase 'last':\r\n\t\t\t\t\t\t\t\t\tbtnDisplay = lang.sLast;\r\n\t\t\t\t\t\t\t\t\tbtnClass = button + (page < pages-1 ?\r\n\t\t\t\t\t\t\t\t\t\t'' : ' '+classes.sPageButtonDisabled);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\tbtnDisplay = button + 1;\r\n\t\t\t\t\t\t\t\t\tbtnClass = page === button ?\r\n\t\t\t\t\t\t\t\t\t\tclasses.sPageButtonActive : '';\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\t\tif ( btnDisplay ) {\r\n\t\t\t\t\t\t\t\tnode = $('<a>', {\r\n\t\t\t\t\t\t\t\t\t\t'class': classes.sPageButton+' '+btnClass,\r\n\t\t\t\t\t\t\t\t\t\t'aria-controls': settings.sTableId,\r\n\t\t\t\t\t\t\t\t\t\t'data-dt-idx': counter,\r\n\t\t\t\t\t\t\t\t\t\t'tabindex': settings.iTabIndex,\r\n\t\t\t\t\t\t\t\t\t\t'id': idx === 0 && typeof button === 'string' ?\r\n\t\t\t\t\t\t\t\t\t\t\tsettings.sTableId +'_'+ button :\r\n\t\t\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t\t\t.html( btnDisplay )\r\n\t\t\t\t\t\t\t\t\t.appendTo( container );\r\n\t\r\n\t\t\t\t\t\t\t\t_fnBindAction(\r\n\t\t\t\t\t\t\t\t\tnode, {action: button}, clickHandler\r\n\t\t\t\t\t\t\t\t);\r\n\t\r\n\t\t\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\r\n\t\t\t\t// IE9 throws an 'unknown error' if document.activeElement is used\r\n\t\t\t\t// inside an iframe or frame. Try / catch the error. Not good for\r\n\t\t\t\t// accessibility, but neither are frames.\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// Because this approach is destroying and recreating the paging\r\n\t\t\t\t\t// elements, focus is lost on the select button which is bad for\r\n\t\t\t\t\t// accessibility. So we want to restore focus once the draw has\r\n\t\t\t\t\t// completed\r\n\t\t\t\t\tvar activeEl = $(document.activeElement).data('dt-idx');\r\n\t\r\n\t\t\t\t\tattach( $(host).empty(), buttons );\r\n\t\r\n\t\t\t\t\tif ( activeEl !== null ) {\r\n\t\t\t\t\t\t$(host).find( '[data-dt-idx='+activeEl+']' ).focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch (e) {}\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\tvar __numericReplace = function ( d, decimalPlace, re1, re2 ) {\r\n\t\tif ( !d || d === '-' ) {\r\n\t\t\treturn -Infinity;\r\n\t\t}\r\n\t\r\n\t\t// If a decimal place other than `.` is used, it needs to be given to the\r\n\t\t// function so we can detect it and replace with a `.` which is the only\r\n\t\t// decimal place Javascript recognises - it is not locale aware.\r\n\t\tif ( decimalPlace ) {\r\n\t\t\td = _numToDecimal( d, decimalPlace );\r\n\t\t}\r\n\t\r\n\t\tif ( d.replace ) {\r\n\t\t\tif ( re1 ) {\r\n\t\t\t\td = d.replace( re1, '' );\r\n\t\t\t}\r\n\t\r\n\t\t\tif ( re2 ) {\r\n\t\t\t\td = d.replace( re2, '' );\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\treturn d * 1;\r\n\t};\r\n\t\r\n\t\r\n\t// Add the numeric 'deformatting' functions for sorting. This is done in a\r\n\t// function to provide an easy ability for the language options to add\r\n\t// additional methods if a non-period decimal place is used.\r\n\tfunction _addNumericSort ( decimalPlace ) {\r\n\t\t$.each(\r\n\t\t\t{\r\n\t\t\t\t// Plain numbers\r\n\t\t\t\t\"num\": function ( d ) {\r\n\t\t\t\t\treturn __numericReplace( d, decimalPlace );\r\n\t\t\t\t},\r\n\t\r\n\t\t\t\t// Formatted numbers\r\n\t\t\t\t\"num-fmt\": function ( d ) {\r\n\t\t\t\t\treturn __numericReplace( d, decimalPlace, _re_formatted_numeric );\r\n\t\t\t\t},\r\n\t\r\n\t\t\t\t// HTML numeric\r\n\t\t\t\t\"html-num\": function ( d ) {\r\n\t\t\t\t\treturn __numericReplace( d, decimalPlace, _re_html );\r\n\t\t\t\t},\r\n\t\r\n\t\t\t\t// HTML numeric, formatted\r\n\t\t\t\t\"html-num-fmt\": function ( d ) {\r\n\t\t\t\t\treturn __numericReplace( d, decimalPlace, _re_html, _re_formatted_numeric );\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfunction ( key, fn ) {\r\n\t\t\t\t_ext.type.order[ key+decimalPlace+'-pre' ] = fn;\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\t\r\n\t\r\n\t// Default sort methods\r\n\t$.extend( _ext.type.order, {\r\n\t\t// Dates\r\n\t\t\"date-pre\": function ( d ) {\r\n\t\t\treturn Date.parse( d ) || 0;\r\n\t\t},\r\n\t\r\n\t\t// html\r\n\t\t\"html-pre\": function ( a ) {\r\n\t\t\treturn _empty(a) ?\r\n\t\t\t\t'' :\r\n\t\t\t\ta.replace ?\r\n\t\t\t\t\ta.replace( /<.*?>/g, \"\" ).toLowerCase() :\r\n\t\t\t\t\ta+'';\r\n\t\t},\r\n\t\r\n\t\t// string\r\n\t\t\"string-pre\": function ( a ) {\r\n\t\t\t// This is a little complex, but faster than always calling toString,\r\n\t\t\t// http://jsperf.com/tostring-v-check\r\n\t\t\treturn _empty(a) ?\r\n\t\t\t\t'' :\r\n\t\t\t\ttypeof a === 'string' ?\r\n\t\t\t\t\ta.toLowerCase() :\r\n\t\t\t\t\t! a.toString ?\r\n\t\t\t\t\t\t'' :\r\n\t\t\t\t\t\ta.toString();\r\n\t\t},\r\n\t\r\n\t\t// string-asc and -desc are retained only for compatibility with the old\r\n\t\t// sort methods\r\n\t\t\"string-asc\": function ( x, y ) {\r\n\t\t\treturn ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n\t\t},\r\n\t\r\n\t\t\"string-desc\": function ( x, y ) {\r\n\t\t\treturn ((x < y) ? 1 : ((x > y) ? -1 : 0));\r\n\t\t}\r\n\t} );\r\n\t\r\n\t\r\n\t// Numeric sorting types - order doesn't matter here\r\n\t_addNumericSort( '' );\r\n\t\r\n\t\r\n\t// Built in type detection. See model.ext.aTypes for information about\r\n\t// what is required from this methods.\r\n\t$.extend( DataTable.ext.type.detect, [\r\n\t\t// Plain numbers - first since V8 detects some plain numbers as dates\r\n\t\t// e.g. Date.parse('55') (but not all, e.g. Date.parse('22')...).\r\n\t\tfunction ( d, settings )\r\n\t\t{\r\n\t\t\tvar decimal = settings.oLanguage.sDecimal;\r\n\t\t\treturn _isNumber( d, decimal ) ? 'num'+decimal : null;\r\n\t\t},\r\n\t\r\n\t\t// Dates (only those recognised by the browser's Date.parse)\r\n\t\tfunction ( d, settings )\r\n\t\t{\r\n\t\t\t// V8 will remove any unknown characters at the start and end of the\r\n\t\t\t// expression, leading to false matches such as `$245.12` or `10%` being\r\n\t\t\t// a valid date. See forum thread 18941 for detail.\r\n\t\t\tif ( d && ( ! _re_date_start.test(d) || ! _re_date_end.test(d) ) ) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tvar parsed = Date.parse(d);\r\n\t\t\treturn (parsed !== null && !isNaN(parsed)) || _empty(d) ? 'date' : null;\r\n\t\t},\r\n\t\r\n\t\t// Formatted numbers\r\n\t\tfunction ( d, settings )\r\n\t\t{\r\n\t\t\tvar decimal = settings.oLanguage.sDecimal;\r\n\t\t\treturn _isNumber( d, decimal, true ) ? 'num-fmt'+decimal : null;\r\n\t\t},\r\n\t\r\n\t\t// HTML numeric\r\n\t\tfunction ( d, settings )\r\n\t\t{\r\n\t\t\tvar decimal = settings.oLanguage.sDecimal;\r\n\t\t\treturn _htmlNumeric( d, decimal ) ? 'html-num'+decimal : null;\r\n\t\t},\r\n\t\r\n\t\t// HTML numeric, formatted\r\n\t\tfunction ( d, settings )\r\n\t\t{\r\n\t\t\tvar decimal = settings.oLanguage.sDecimal;\r\n\t\t\treturn _htmlNumeric( d, decimal, true ) ? 'html-num-fmt'+decimal : null;\r\n\t\t},\r\n\t\r\n\t\t// HTML (this is strict checking - there must be html)\r\n\t\tfunction ( d, settings )\r\n\t\t{\r\n\t\t\treturn _empty( d ) || (typeof d === 'string' && d.indexOf('<') !== -1) ?\r\n\t\t\t\t'html' : null;\r\n\t\t}\r\n\t] );\r\n\t\r\n\t\r\n\t\r\n\t// Filter formatting functions. See model.ext.ofnSearch for information about\r\n\t// what is required from these methods.\r\n\t\r\n\t\r\n\t$.extend( DataTable.ext.type.search, {\r\n\t\thtml: function ( data ) {\r\n\t\t\treturn _empty(data) ?\r\n\t\t\t\tdata :\r\n\t\t\t\ttypeof data === 'string' ?\r\n\t\t\t\t\tdata\r\n\t\t\t\t\t\t.replace( _re_new_lines, \" \" )\r\n\t\t\t\t\t\t.replace( _re_html, \"\" ) :\r\n\t\t\t\t\t'';\r\n\t\t},\r\n\t\r\n\t\tstring: function ( data ) {\r\n\t\t\treturn _empty(data) ?\r\n\t\t\t\tdata :\r\n\t\t\t\ttypeof data === 'string' ?\r\n\t\t\t\t\tdata.replace( _re_new_lines, \" \" ) :\r\n\t\t\t\t\tdata;\r\n\t\t}\r\n\t} );\r\n\t\r\n\t\r\n\t\r\n\t$.extend( true, DataTable.ext.renderer, {\r\n\t\theader: {\r\n\t\t\t_: function ( settings, cell, column, classes ) {\r\n\t\t\t\t// No additional mark-up required\r\n\t\t\t\t// Attach a sort listener to update on sort - note that using the\r\n\t\t\t\t// `DT` namespace will allow the event to be removed automatically\r\n\t\t\t\t// on destroy, while the `dt` namespaced event is the one we are\r\n\t\t\t\t// listening for\r\n\t\t\t\t$(settings.nTable).on( 'order.dt.DT', function ( e, ctx, sorting, columns ) {\r\n\t\t\t\t\tif ( settings !== ctx ) { // need to check this this is the host\r\n\t\t\t\t\t\treturn;               // table, not a nested one\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tvar colIdx = column.idx;\r\n\t\r\n\t\t\t\t\tcell\r\n\t\t\t\t\t\t.removeClass(\r\n\t\t\t\t\t\t\tcolumn.sSortingClass +' '+\r\n\t\t\t\t\t\t\tclasses.sSortAsc +' '+\r\n\t\t\t\t\t\t\tclasses.sSortDesc\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t.addClass( columns[ colIdx ] == 'asc' ?\r\n\t\t\t\t\t\t\tclasses.sSortAsc : columns[ colIdx ] == 'desc' ?\r\n\t\t\t\t\t\t\t\tclasses.sSortDesc :\r\n\t\t\t\t\t\t\t\tcolumn.sSortingClass\r\n\t\t\t\t\t\t);\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\r\n\t\t\tjqueryui: function ( settings, cell, column, classes ) {\r\n\t\t\t\tvar colIdx = column.idx;\r\n\t\r\n\t\t\t\t$('<div/>')\r\n\t\t\t\t\t.addClass( classes.sSortJUIWrapper )\r\n\t\t\t\t\t.append( cell.contents() )\r\n\t\t\t\t\t.append( $('<span/>')\r\n\t\t\t\t\t\t.addClass( classes.sSortIcon+' '+column.sSortingClassJUI )\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.appendTo( cell );\r\n\t\r\n\t\t\t\t// Attach a sort listener to update on sort\r\n\t\t\t\t$(settings.nTable).on( 'order.dt.DT', function ( e, ctx, sorting, columns ) {\r\n\t\t\t\t\tif ( settings !== ctx ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tcell\r\n\t\t\t\t\t\t.removeClass( classes.sSortAsc +\" \"+classes.sSortDesc )\r\n\t\t\t\t\t\t.addClass( columns[ colIdx ] == 'asc' ?\r\n\t\t\t\t\t\t\tclasses.sSortAsc : columns[ colIdx ] == 'desc' ?\r\n\t\t\t\t\t\t\t\tclasses.sSortDesc :\r\n\t\t\t\t\t\t\t\tcolumn.sSortingClass\r\n\t\t\t\t\t\t);\r\n\t\r\n\t\t\t\t\tcell\r\n\t\t\t\t\t\t.find( 'span.'+classes.sSortIcon )\r\n\t\t\t\t\t\t.removeClass(\r\n\t\t\t\t\t\t\tclasses.sSortJUIAsc +\" \"+\r\n\t\t\t\t\t\t\tclasses.sSortJUIDesc +\" \"+\r\n\t\t\t\t\t\t\tclasses.sSortJUI +\" \"+\r\n\t\t\t\t\t\t\tclasses.sSortJUIAscAllowed +\" \"+\r\n\t\t\t\t\t\t\tclasses.sSortJUIDescAllowed\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t.addClass( columns[ colIdx ] == 'asc' ?\r\n\t\t\t\t\t\t\tclasses.sSortJUIAsc : columns[ colIdx ] == 'desc' ?\r\n\t\t\t\t\t\t\t\tclasses.sSortJUIDesc :\r\n\t\t\t\t\t\t\t\tcolumn.sSortingClassJUI\r\n\t\t\t\t\t\t);\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\t\r\n\t/*\r\n\t * Public helper functions. These aren't used internally by DataTables, or\r\n\t * called by any of the options passed into DataTables, but they can be used\r\n\t * externally by developers working with DataTables. They are helper functions\r\n\t * to make working with DataTables a little bit easier.\r\n\t */\r\n\t\r\n\t/**\r\n\t * Helpers for `columns.render`.\r\n\t *\r\n\t * The options defined here can be used with the `columns.render` initialisation\r\n\t * option to provide a display renderer. The following functions are defined:\r\n\t *\r\n\t * * `number` - Will format numeric data (defined by `columns.data`) for\r\n\t *   display, retaining the original unformatted data for sorting and filtering.\r\n\t *   It takes 4 parameters:\r\n\t *   * `string` - Thousands grouping separator\r\n\t *   * `string` - Decimal point indicator\r\n\t *   * `integer` - Number of decimal points to show\r\n\t *   * `string` (optional) - Prefix.\r\n\t *\r\n\t * @example\r\n\t *   // Column definition using the number renderer\r\n\t *   {\r\n\t *     data: \"salary\",\r\n\t *     render: $.fn.dataTable.render.number( '\\'', '.', 0, '$' )\r\n\t *   }\r\n\t *\r\n\t * @namespace\r\n\t */\r\n\tDataTable.render = {\r\n\t\tnumber: function ( thousands, decimal, precision, prefix ) {\r\n\t\t\treturn {\r\n\t\t\t\tdisplay: function ( d ) {\r\n\t\t\t\t\tvar negative = d < 0 ? '-' : '';\r\n\t\t\t\t\td = Math.abs( parseFloat( d ) );\r\n\t\r\n\t\t\t\t\tvar intPart = parseInt( d, 10 );\r\n\t\t\t\t\tvar floatPart = precision ?\r\n\t\t\t\t\t\tdecimal+(d - intPart).toFixed( precision ).substring( 2 ):\r\n\t\t\t\t\t\t'';\r\n\t\r\n\t\t\t\t\treturn negative + (prefix||'') +\r\n\t\t\t\t\t\tintPart.toString().replace(\r\n\t\t\t\t\t\t\t/\\B(?=(\\d{3})+(?!\\d))/g, thousands\r\n\t\t\t\t\t\t) +\r\n\t\t\t\t\t\tfloatPart;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t/*\r\n\t * This is really a good bit rubbish this method of exposing the internal methods\r\n\t * publicly... - To be fixed in 2.0 using methods on the prototype\r\n\t */\r\n\t\r\n\t\r\n\t/**\r\n\t * Create a wrapper function for exporting an internal functions to an external API.\r\n\t *  @param {string} fn API function name\r\n\t *  @returns {function} wrapped function\r\n\t *  @memberof DataTable#internal\r\n\t */\r\n\tfunction _fnExternApiFunc (fn)\r\n\t{\r\n\t\treturn function() {\r\n\t\t\tvar args = [_fnSettingsFromNode( this[DataTable.ext.iApiIndex] )].concat(\r\n\t\t\t\tArray.prototype.slice.call(arguments)\r\n\t\t\t);\r\n\t\t\treturn DataTable.ext.internal[fn].apply( this, args );\r\n\t\t};\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Reference to internal functions for use by plug-in developers. Note that\r\n\t * these methods are references to internal functions and are considered to be\r\n\t * private. If you use these methods, be aware that they are liable to change\r\n\t * between versions.\r\n\t *  @namespace\r\n\t */\r\n\t$.extend( DataTable.ext.internal, {\r\n\t\t_fnExternApiFunc: _fnExternApiFunc,\r\n\t\t_fnBuildAjax: _fnBuildAjax,\r\n\t\t_fnAjaxUpdate: _fnAjaxUpdate,\r\n\t\t_fnAjaxParameters: _fnAjaxParameters,\r\n\t\t_fnAjaxUpdateDraw: _fnAjaxUpdateDraw,\r\n\t\t_fnAjaxDataSrc: _fnAjaxDataSrc,\r\n\t\t_fnAddColumn: _fnAddColumn,\r\n\t\t_fnColumnOptions: _fnColumnOptions,\r\n\t\t_fnAdjustColumnSizing: _fnAdjustColumnSizing,\r\n\t\t_fnVisibleToColumnIndex: _fnVisibleToColumnIndex,\r\n\t\t_fnColumnIndexToVisible: _fnColumnIndexToVisible,\r\n\t\t_fnVisbleColumns: _fnVisbleColumns,\r\n\t\t_fnGetColumns: _fnGetColumns,\r\n\t\t_fnColumnTypes: _fnColumnTypes,\r\n\t\t_fnApplyColumnDefs: _fnApplyColumnDefs,\r\n\t\t_fnHungarianMap: _fnHungarianMap,\r\n\t\t_fnCamelToHungarian: _fnCamelToHungarian,\r\n\t\t_fnLanguageCompat: _fnLanguageCompat,\r\n\t\t_fnBrowserDetect: _fnBrowserDetect,\r\n\t\t_fnAddData: _fnAddData,\r\n\t\t_fnAddTr: _fnAddTr,\r\n\t\t_fnNodeToDataIndex: _fnNodeToDataIndex,\r\n\t\t_fnNodeToColumnIndex: _fnNodeToColumnIndex,\r\n\t\t_fnGetCellData: _fnGetCellData,\r\n\t\t_fnSetCellData: _fnSetCellData,\r\n\t\t_fnSplitObjNotation: _fnSplitObjNotation,\r\n\t\t_fnGetObjectDataFn: _fnGetObjectDataFn,\r\n\t\t_fnSetObjectDataFn: _fnSetObjectDataFn,\r\n\t\t_fnGetDataMaster: _fnGetDataMaster,\r\n\t\t_fnClearTable: _fnClearTable,\r\n\t\t_fnDeleteIndex: _fnDeleteIndex,\r\n\t\t_fnInvalidateRow: _fnInvalidateRow,\r\n\t\t_fnGetRowElements: _fnGetRowElements,\r\n\t\t_fnCreateTr: _fnCreateTr,\r\n\t\t_fnBuildHead: _fnBuildHead,\r\n\t\t_fnDrawHead: _fnDrawHead,\r\n\t\t_fnDraw: _fnDraw,\r\n\t\t_fnReDraw: _fnReDraw,\r\n\t\t_fnAddOptionsHtml: _fnAddOptionsHtml,\r\n\t\t_fnDetectHeader: _fnDetectHeader,\r\n\t\t_fnGetUniqueThs: _fnGetUniqueThs,\r\n\t\t_fnFeatureHtmlFilter: _fnFeatureHtmlFilter,\r\n\t\t_fnFilterComplete: _fnFilterComplete,\r\n\t\t_fnFilterCustom: _fnFilterCustom,\r\n\t\t_fnFilterColumn: _fnFilterColumn,\r\n\t\t_fnFilter: _fnFilter,\r\n\t\t_fnFilterCreateSearch: _fnFilterCreateSearch,\r\n\t\t_fnEscapeRegex: _fnEscapeRegex,\r\n\t\t_fnFilterData: _fnFilterData,\r\n\t\t_fnFeatureHtmlInfo: _fnFeatureHtmlInfo,\r\n\t\t_fnUpdateInfo: _fnUpdateInfo,\r\n\t\t_fnInfoMacros: _fnInfoMacros,\r\n\t\t_fnInitialise: _fnInitialise,\r\n\t\t_fnInitComplete: _fnInitComplete,\r\n\t\t_fnLengthChange: _fnLengthChange,\r\n\t\t_fnFeatureHtmlLength: _fnFeatureHtmlLength,\r\n\t\t_fnFeatureHtmlPaginate: _fnFeatureHtmlPaginate,\r\n\t\t_fnPageChange: _fnPageChange,\r\n\t\t_fnFeatureHtmlProcessing: _fnFeatureHtmlProcessing,\r\n\t\t_fnProcessingDisplay: _fnProcessingDisplay,\r\n\t\t_fnFeatureHtmlTable: _fnFeatureHtmlTable,\r\n\t\t_fnScrollDraw: _fnScrollDraw,\r\n\t\t_fnApplyToChildren: _fnApplyToChildren,\r\n\t\t_fnCalculateColumnWidths: _fnCalculateColumnWidths,\r\n\t\t_fnThrottle: _fnThrottle,\r\n\t\t_fnConvertToWidth: _fnConvertToWidth,\r\n\t\t_fnScrollingWidthAdjust: _fnScrollingWidthAdjust,\r\n\t\t_fnGetWidestNode: _fnGetWidestNode,\r\n\t\t_fnGetMaxLenString: _fnGetMaxLenString,\r\n\t\t_fnStringToCss: _fnStringToCss,\r\n\t\t_fnScrollBarWidth: _fnScrollBarWidth,\r\n\t\t_fnSortFlatten: _fnSortFlatten,\r\n\t\t_fnSort: _fnSort,\r\n\t\t_fnSortAria: _fnSortAria,\r\n\t\t_fnSortListener: _fnSortListener,\r\n\t\t_fnSortAttachListener: _fnSortAttachListener,\r\n\t\t_fnSortingClasses: _fnSortingClasses,\r\n\t\t_fnSortData: _fnSortData,\r\n\t\t_fnSaveState: _fnSaveState,\r\n\t\t_fnLoadState: _fnLoadState,\r\n\t\t_fnSettingsFromNode: _fnSettingsFromNode,\r\n\t\t_fnLog: _fnLog,\r\n\t\t_fnMap: _fnMap,\r\n\t\t_fnBindAction: _fnBindAction,\r\n\t\t_fnCallbackReg: _fnCallbackReg,\r\n\t\t_fnCallbackFire: _fnCallbackFire,\r\n\t\t_fnLengthOverflow: _fnLengthOverflow,\r\n\t\t_fnRenderer: _fnRenderer,\r\n\t\t_fnDataSource: _fnDataSource,\r\n\t\t_fnRowAttributes: _fnRowAttributes,\r\n\t\t_fnCalculateEnd: function () {} // Used by a lot of plug-ins, but redundant\r\n\t\t                                // in 1.10, so this dead-end function is\r\n\t\t                                // added to prevent errors\r\n\t} );\r\n\t\r\n\r\n\t// jQuery access\r\n\t$.fn.dataTable = DataTable;\r\n\r\n\t// Legacy aliases\r\n\t$.fn.dataTableSettings = DataTable.settings;\r\n\t$.fn.dataTableExt = DataTable.ext;\r\n\r\n\t// With a capital `D` we return a DataTables API instance rather than a\r\n\t// jQuery object\r\n\t$.fn.DataTable = function ( opts ) {\r\n\t\treturn $(this).dataTable( opts ).api();\r\n\t};\r\n\r\n\t// All properties that are available to $.fn.dataTable should also be\r\n\t// available on $.fn.DataTable\r\n\t$.each( DataTable, function ( prop, val ) {\r\n\t\t$.fn.DataTable[ prop ] = val;\r\n\t} );\r\n\r\n\r\n\t// Information about events fired by DataTables - for documentation.\r\n\t/**\r\n\t * Draw event, fired whenever the table is redrawn on the page, at the same\r\n\t * point as fnDrawCallback. This may be useful for binding events or\r\n\t * performing calculations when the table is altered at all.\r\n\t *  @name DataTable#draw.dt\r\n\t *  @event\r\n\t *  @param {event} e jQuery event object\r\n\t *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}\r\n\t */\r\n\r\n\t/**\r\n\t * Search event, fired when the searching applied to the table (using the\r\n\t * built-in global search, or column filters) is altered.\r\n\t *  @name DataTable#search.dt\r\n\t *  @event\r\n\t *  @param {event} e jQuery event object\r\n\t *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}\r\n\t */\r\n\r\n\t/**\r\n\t * Page change event, fired when the paging of the table is altered.\r\n\t *  @name DataTable#page.dt\r\n\t *  @event\r\n\t *  @param {event} e jQuery event object\r\n\t *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}\r\n\t */\r\n\r\n\t/**\r\n\t * Order event, fired when the ordering applied to the table is altered.\r\n\t *  @name DataTable#order.dt\r\n\t *  @event\r\n\t *  @param {event} e jQuery event object\r\n\t *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}\r\n\t */\r\n\r\n\t/**\r\n\t * DataTables initialisation complete event, fired when the table is fully\r\n\t * drawn, including Ajax data loaded, if Ajax data is required.\r\n\t *  @name DataTable#init.dt\r\n\t *  @event\r\n\t *  @param {event} e jQuery event object\r\n\t *  @param {object} oSettings DataTables settings object\r\n\t *  @param {object} json The JSON object request from the server - only\r\n\t *    present if client-side Ajax sourced data is used</li></ol>\r\n\t */\r\n\r\n\t/**\r\n\t * State save event, fired when the table has changed state a new state save\r\n\t * is required. This event allows modification of the state saving object\r\n\t * prior to actually doing the save, including addition or other state\r\n\t * properties (for plug-ins) or modification of a DataTables core property.\r\n\t *  @name DataTable#stateSaveParams.dt\r\n\t *  @event\r\n\t *  @param {event} e jQuery event object\r\n\t *  @param {object} oSettings DataTables settings object\r\n\t *  @param {object} json The state information to be saved\r\n\t */\r\n\r\n\t/**\r\n\t * State load event, fired when the table is loading state from the stored\r\n\t * data, but prior to the settings object being modified by the saved state\r\n\t * - allowing modification of the saved state is required or loading of\r\n\t * state for a plug-in.\r\n\t *  @name DataTable#stateLoadParams.dt\r\n\t *  @event\r\n\t *  @param {event} e jQuery event object\r\n\t *  @param {object} oSettings DataTables settings object\r\n\t *  @param {object} json The saved state information\r\n\t */\r\n\r\n\t/**\r\n\t * State loaded event, fired when state has been loaded from stored data and\r\n\t * the settings object has been modified by the loaded data.\r\n\t *  @name DataTable#stateLoaded.dt\r\n\t *  @event\r\n\t *  @param {event} e jQuery event object\r\n\t *  @param {object} oSettings DataTables settings object\r\n\t *  @param {object} json The saved state information\r\n\t */\r\n\r\n\t/**\r\n\t * Processing event, fired when DataTables is doing some kind of processing\r\n\t * (be it, order, searcg or anything else). It can be used to indicate to\r\n\t * the end user that there is something happening, or that something has\r\n\t * finished.\r\n\t *  @name DataTable#processing.dt\r\n\t *  @event\r\n\t *  @param {event} e jQuery event object\r\n\t *  @param {object} oSettings DataTables settings object\r\n\t *  @param {boolean} bShow Flag for if DataTables is doing processing or not\r\n\t */\r\n\r\n\t/**\r\n\t * Ajax (XHR) event, fired whenever an Ajax request is completed from a\r\n\t * request to made to the server for new data. This event is called before\r\n\t * DataTables processed the returned data, so it can also be used to pre-\r\n\t * process the data returned from the server, if needed.\r\n\t *\r\n\t * Note that this trigger is called in `fnServerData`, if you override\r\n\t * `fnServerData` and which to use this event, you need to trigger it in you\r\n\t * success function.\r\n\t *  @name DataTable#xhr.dt\r\n\t *  @event\r\n\t *  @param {event} e jQuery event object\r\n\t *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}\r\n\t *  @param {object} json JSON returned from the server\r\n\t *\r\n\t *  @example\r\n\t *     // Use a custom property returned from the server in another DOM element\r\n\t *     $('#table').dataTable().on('xhr.dt', function (e, settings, json) {\r\n\t *       $('#status').html( json.status );\r\n\t *     } );\r\n\t *\r\n\t *  @example\r\n\t *     // Pre-process the data returned from the server\r\n\t *     $('#table').dataTable().on('xhr.dt', function (e, settings, json) {\r\n\t *       for ( var i=0, ien=json.aaData.length ; i<ien ; i++ ) {\r\n\t *         json.aaData[i].sum = json.aaData[i].one + json.aaData[i].two;\r\n\t *       }\r\n\t *       // Note no return - manipulate the data directly in the JSON object.\r\n\t *     } );\r\n\t */\r\n\r\n\t/**\r\n\t * Destroy event, fired when the DataTable is destroyed by calling fnDestroy\r\n\t * or passing the bDestroy:true parameter in the initialisation object. This\r\n\t * can be used to remove bound events, added DOM nodes, etc.\r\n\t *  @name DataTable#destroy.dt\r\n\t *  @event\r\n\t *  @param {event} e jQuery event object\r\n\t *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}\r\n\t */\r\n\r\n\t/**\r\n\t * Page length change event, fired when number of records to show on each\r\n\t * page (the length) is changed.\r\n\t *  @name DataTable#length.dt\r\n\t *  @event\r\n\t *  @param {event} e jQuery event object\r\n\t *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}\r\n\t *  @param {integer} len New length\r\n\t */\r\n\r\n\t/**\r\n\t * Column sizing has changed.\r\n\t *  @name DataTable#column-sizing.dt\r\n\t *  @event\r\n\t *  @param {event} e jQuery event object\r\n\t *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}\r\n\t */\r\n\r\n\t/**\r\n\t * Column visibility has changed.\r\n\t *  @name DataTable#column-visibility.dt\r\n\t *  @event\r\n\t *  @param {event} e jQuery event object\r\n\t *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}\r\n\t *  @param {int} column Column index\r\n\t *  @param {bool} vis `false` if column now hidden, or `true` if visible\r\n\t */\r\n\r\n\treturn $.fn.dataTable;\r\n}));\r\n\r\n}(window, document));\r\n\r\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\")))\n\n//# sourceURL=webpack:///./src/public/js/vendor/datatables/jquery.dataTables.js?");

/***/ }),

/***/ "./src/public/js/vendor/easymde/dist/codemirror-4.inline-attachment.js":
/*!*****************************************************************************!*\
  !*** ./src/public/js/vendor/easymde/dist/codemirror-4.inline-attachment.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*jslint newcap: true */\r\n/*global inlineAttachment: false */\r\n/**\r\n * CodeMirror version for inlineAttachment\r\n *\r\n * Call inlineAttachment.attach(editor) to attach to a codemirror instance\r\n */\r\n(function() {\r\n    'use strict';\r\n\r\n    var codeMirrorEditor = function(instance) {\r\n\r\n        if (!instance.getWrapperElement) {\r\n            throw \"Invalid CodeMirror object given\";\r\n        }\r\n\r\n        this.codeMirror = instance;\r\n    };\r\n\r\n    codeMirrorEditor.prototype.getValue = function() {\r\n        return this.codeMirror.getValue();\r\n    };\r\n\r\n    codeMirrorEditor.prototype.insertValue = function(val) {\r\n        this.codeMirror.replaceSelection(val);\r\n    };\r\n\r\n    codeMirrorEditor.prototype.setValue = function(val) {\r\n        var cursor = this.codeMirror.getCursor();\r\n        this.codeMirror.setValue(val);\r\n        this.codeMirror.setCursor(cursor);\r\n    };\r\n\r\n    /**\r\n     * Attach InlineAttachment to CodeMirror\r\n     *\r\n     * @param {CodeMirror} codeMirror\r\n     */\r\n    codeMirrorEditor.attach = function(codeMirror, options) {\r\n\r\n        options = options || {};\r\n\r\n        var editor = new codeMirrorEditor(codeMirror),\r\n            inlineattach = new inlineAttachment(options, editor),\r\n            el = codeMirror.getWrapperElement();\r\n\r\n        el.addEventListener('paste', function(e) {\r\n            inlineattach.onPaste(e);\r\n        }, false);\r\n\r\n        codeMirror.setOption('onDragEvent', function(data, e) {\r\n            if (e.type === \"drop\") {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                return inlineattach.onDrop(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    var codeMirrorEditor4 = function(instance) {\r\n        codeMirrorEditor.call(this, instance);\r\n    };\r\n\r\n    codeMirrorEditor4.attach = function(codeMirror, options) {\r\n\r\n        options = options || {};\r\n\r\n        var editor = new codeMirrorEditor(codeMirror),\r\n            inlineattach = new inlineAttachment(options, editor),\r\n            el = codeMirror.getWrapperElement();\r\n\r\n        el.addEventListener('paste', function(e) {\r\n            inlineattach.onPaste(e);\r\n        }, false);\r\n\r\n        codeMirror.on('drop', function(data, e) {\r\n            if (inlineattach.onDrop(e)) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n\r\n    inlineAttachment.editors.codemirror4 = codeMirrorEditor4;\r\n\r\n})();\r\n\n\n//# sourceURL=webpack:///./src/public/js/vendor/easymde/dist/codemirror-4.inline-attachment.js?");

/***/ }),

/***/ "./src/public/js/vendor/easymde/dist/easymde.min.js":
/*!**********************************************************!*\
  !*** ./src/public/js/vendor/easymde/dist/easymde.min.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {var require;var require;/**\r\n * easymde v2.1.0\r\n * Copyright Jeroen Akkerman\r\n * @link https://github.com/ionaru/easy-markdown-editor\r\n * @license MIT\r\n */\r\n!function(e){if(true)module.exports=e();else {}}(function(){return function o(a,l,s){function c(t,e){if(!l[t]){if(!a[t]){var n=\"function\"==typeof require&&require;if(!e&&n)return require(t,!0);if(u)return u(t,!0);var r=new Error(\"Cannot find module '\"+t+\"'\");throw r.code=\"MODULE_NOT_FOUND\",r}var i=l[t]={exports:{}};a[t][0].call(i.exports,function(e){return c(a[t][1][e]||e)},i,i.exports,o,a,l,s)}return l[t].exports}for(var u=\"function\"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,n){\"use strict\";n.byteLength=function(e){var t=d(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){for(var t,n=d(e),r=n[0],i=n[1],o=new f((c=r,u=i,3*(c+u)/4-u)),a=0,l=0<i?r-4:r,s=0;s<l;s+=4)t=h[e.charCodeAt(s)]<<18|h[e.charCodeAt(s+1)]<<12|h[e.charCodeAt(s+2)]<<6|h[e.charCodeAt(s+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=255&t;var c,u;2===i&&(t=h[e.charCodeAt(s)]<<2|h[e.charCodeAt(s+1)]>>4,o[a++]=255&t);1===i&&(t=h[e.charCodeAt(s)]<<10|h[e.charCodeAt(s+1)]<<4|h[e.charCodeAt(s+2)]>>2,o[a++]=t>>8&255,o[a++]=255&t);return o},n.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,a=n-r;o<a;o+=16383)i.push(s(e,o,a<o+16383?a:o+16383));1===r?(t=e[n-1],i.push(l[t>>2]+l[t<<4&63]+\"==\")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(l[t>>10]+l[t>>4&63]+l[t<<2&63]+\"=\"));return i.join(\"\")};for(var l=[],h=[],f=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",i=0,o=r.length;i<o;++i)l[i]=r[i],h[r.charCodeAt(i)]=i;function d(e){var t=e.length;if(0<t%4)throw new Error(\"Invalid string. Length must be a multiple of 4\");var n=e.indexOf(\"=\");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function s(e,t,n){for(var r,i,o=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(l[(i=r)>>18&63]+l[i>>12&63]+l[i>>6&63]+l[63&i]);return o.join(\"\")}h[\"-\".charCodeAt(0)]=62,h[\"_\".charCodeAt(0)]=63},{}],2:[function(e,t,n){},{}],3:[function(e,t,n){\"use strict\";var r=e(\"base64-js\"),o=e(\"ieee754\");n.Buffer=h,n.SlowBuffer=function(e){+e!=e&&(e=0);return h.alloc(+e)},n.INSPECT_MAX_BYTES=50;var i=2147483647;function a(e){if(i<e)throw new RangeError(\"Invalid typed array length\");var t=new Uint8Array(e);return t.__proto__=h.prototype,t}function h(e,t,n){if(\"number\"==typeof e){if(\"string\"==typeof t)throw new Error(\"If encoding is specified then the first argument must be a string\");return c(e)}return l(e,t,n)}function l(e,t,n){if(\"number\"==typeof e)throw new TypeError('\"value\" argument must not be a number');return B(e)||e&&B(e.buffer)?function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('\"offset\" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('\"length\" is outside of buffer bounds');var r;r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n);return r.__proto__=h.prototype,r}(e,t,n):\"string\"==typeof e?function(e,t){\"string\"==typeof t&&\"\"!==t||(t=\"utf8\");if(!h.isEncoding(t))throw new TypeError(\"Unknown encoding: \"+t);var n=0|d(e,t),r=a(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t):function(e){if(h.isBuffer(e)){var t=0|f(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(e){if(ArrayBuffer.isView(e)||\"length\"in e)return\"number\"!=typeof e.length||W(e.length)?a(0):u(e);if(\"Buffer\"===e.type&&Array.isArray(e.data))return u(e.data)}throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.\")}(e)}function s(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be of type number');if(e<0)throw new RangeError('\"size\" argument must not be negative')}function c(e){return s(e),a(e<0?0:0|f(e))}function u(e){for(var t=e.length<0?0:0|f(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e){if(i<=e)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+i.toString(16)+\" bytes\");return 0|e}function d(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||B(e))return e.byteLength;\"string\"!=typeof e&&(e=\"\"+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":case void 0:return D(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*n;case\"hex\":return n>>>1;case\"base64\":return H(e).length;default:if(r)return D(e).length;t=(\"\"+t).toLowerCase(),r=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if(\"string\"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),W(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if(\"string\"==typeof t&&(t=h.from(t,r)),h.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if(\"number\"==typeof t)return t&=255,\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError(\"val must be string, number or Buffer\")}function g(e,t,n,r,i){var o,a=1,l=e.length,s=t.length;if(void 0!==r&&(\"ucs2\"===(r=String(r).toLowerCase())||\"ucs-2\"===r||\"utf16le\"===r||\"utf-16le\"===r)){if(e.length<2||t.length<2)return-1;l/=a=2,s/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<l;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===s)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(l<n+s&&(n=l-s),o=n;0<=o;o--){for(var h=!0,f=0;f<s;f++)if(c(e,o+f)!==c(t,f)){h=!1;break}if(h)return o}return-1}function v(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?i<(r=Number(r))&&(r=i):r=i;var o=t.length;o/2<r&&(r=o/2);for(var a=0;a<r;++a){var l=parseInt(t.substr(2*a,2),16);if(W(l))return a;e[n+a]=l}return a}function y(e,t,n,r){return R(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function b(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,l,s,c=e[i],u=null,h=239<c?4:223<c?3:191<c?2:1;if(i+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&127<(s=(31&c)<<6|63&o)&&(u=s);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&2047<(s=(15&c)<<12|(63&o)<<6|63&a)&&(s<55296||57343<s)&&(u=s);break;case 4:o=e[i+1],a=e[i+2],l=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&l)&&65535<(s=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&l)&&s<1114112&&(u=s)}null===u?(u=65533,h=1):65535<u&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return function(e){var t=e.length;if(t<=w)return String.fromCharCode.apply(String,e);var n=\"\",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=w));return n}(r)}n.kMaxLength=i,(h.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||\"undefined\"==typeof console||\"function\"!=typeof console.error||console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\"),Object.defineProperty(h.prototype,\"parent\",{get:function(){if(this instanceof h)return this.buffer}}),Object.defineProperty(h.prototype,\"offset\",{get:function(){if(this instanceof h)return this.byteOffset}}),\"undefined\"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=function(e,t,n){return l(e,t,n)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,h.alloc=function(e,t,n){return i=t,o=n,s(r=e),r<=0?a(r):void 0!==i?\"string\"==typeof o?a(r).fill(i,o):a(r).fill(i):a(r);var r,i,o},h.allocUnsafe=function(e){return c(e)},h.allocUnsafeSlow=function(e){return c(e)},h.isBuffer=function(e){return null!=e&&!0===e._isBuffer},h.compare=function(e,t){if(!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError(\"Arguments must be Buffers\");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},h.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=h.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(ArrayBuffer.isView(o)&&(o=h.from(o)),!h.isBuffer(o))throw new TypeError('\"list\" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},h.byteLength=d,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},h.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},h.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var e=this.length;return 0===e?\"\":0===arguments.length?b(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return\"\";if((n>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return C(this,t,n);case\"utf8\":case\"utf-8\":return b(this,t,n);case\"ascii\":return k(this,t,n);case\"latin1\":case\"binary\":return S(this,t,n);case\"base64\":return x(this,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return L(this,t,n);default:if(r)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),r=!0}}.apply(this,arguments)},h.prototype.equals=function(e){if(!h.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===h.compare(this,e)},h.prototype.inspect=function(){var e=\"\",t=n.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString(\"hex\",0,t).match(/.{2}/g).join(\" \"),this.length>t&&(e+=\" ... \")),\"<Buffer \"+e+\">\"},h.prototype.compare=function(e,t,n,r,i){if(!h.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError(\"out of range index\");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),l=Math.min(o,a),s=this.slice(r,i),c=e.slice(t,n),u=0;u<l;++u)if(s[u]!==c[u]){o=s[u],a=c[u];break}return o<a?-1:a<o?1:0},h.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},h.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},h.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},h.prototype.write=function(e,t,n,r){if(void 0===t)r=\"utf8\",n=this.length,t=0;else if(void 0===n&&\"string\"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r=\"utf8\")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");r||(r=\"utf8\");for(var o,a,l,s,c,u,h,f,d,p=!1;;)switch(r){case\"hex\":return v(this,e,t,n);case\"utf8\":case\"utf-8\":return f=t,d=n,R(D(e,(h=this).length-f),h,f,d);case\"ascii\":return y(this,e,t,n);case\"latin1\":case\"binary\":return y(this,e,t,n);case\"base64\":return s=this,c=t,u=n,R(H(e),s,c,u);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return a=t,l=n,R(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,(o=this).length-a),o,a,l);default:if(p)throw new TypeError(\"Unknown encoding: \"+r);r=(\"\"+r).toLowerCase(),p=!0}},h.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function k(e,t,n){var r=\"\";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function S(e,t,n){var r=\"\";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i=\"\",o=t;o<n;++o)i+=I(e[o]);return i}function L(e,t,n){for(var r=e.slice(t,n),i=\"\",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function T(e,t,n){if(e%1!=0||e<0)throw new RangeError(\"offset is not uint\");if(n<e+t)throw new RangeError(\"Trying to access beyond buffer length\")}function M(e,t,n,r,i,o){if(!h.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('\"value\" argument is out of bounds');if(n+r>e.length)throw new RangeError(\"Index out of range\")}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"Index out of range\")}function A(e,t,n,r,i){return t=+t,n>>>=0,i||N(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function E(e,t,n,r,i){return t=+t,n>>>=0,i||N(e,0,n,8),o.write(e,t,n,r,52,8),n+8}h.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=h.prototype,r},h.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||T(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},h.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||T(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},h.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},h.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||T(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},h.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||T(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},h.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!1,52,8)},h.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},h.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+n},h.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,255,0),this[t]=255&e,t+1},h.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},h.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,a=1,l=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===l&&0!==this[t+o-1]&&(l=1),this[t+o]=(e/a>>0)-l&255;return t+n},h.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,a=1,l=0;for(this[t+o]=255&e;0<=--o&&(a*=256);)e<0&&0===l&&0!==this[t+o+1]&&(l=1),this[t+o]=(e/a>>0)-l&255;return t+n},h.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},h.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},h.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeFloatLE=function(e,t,n){return A(this,e,t,!0,n)},h.prototype.writeFloatBE=function(e,t,n){return A(this,e,t,!1,n)},h.prototype.writeDoubleLE=function(e,t,n){return E(this,e,t,!0,n)},h.prototype.writeDoubleBE=function(e,t,n){return E(this,e,t,!1,n)},h.prototype.copy=function(e,t,n,r){if(!h.isBuffer(e))throw new TypeError(\"argument should be a Buffer\");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"sourceEnd out of bounds\");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&\"function\"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;0<=o;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},h.prototype.fill=function(e,t,n,r){if(\"string\"==typeof e){if(\"string\"==typeof t?(r=t,t=0,n=this.length):\"string\"==typeof n&&(r=n,n=this.length),void 0!==r&&\"string\"!=typeof r)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof r&&!h.isEncoding(r))throw new TypeError(\"Unknown encoding: \"+r);if(1===e.length){var i=e.charCodeAt(0);(\"utf8\"===r&&i<128||\"latin1\"===r)&&(e=i)}}else\"number\"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError(\"Out of range index\");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),\"number\"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=h.isBuffer(e)?e:new h(e,r),l=a.length;if(0===l)throw new TypeError('The value \"'+e+'\" is invalid for argument \"value\"');for(o=0;o<n-t;++o)this[o+t]=a[o%l]}return this};var O=/[^+/0-9A-Za-z-_]/g;function I(e){return e<16?\"0\"+e.toString(16):e.toString(16)}function D(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){return r.toByteArray(function(e){if((e=(e=e.split(\"=\")[0]).trim().replace(O,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e}(e))}function R(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function B(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&\"ArrayBuffer\"===e.constructor.name&&\"number\"==typeof e.byteLength}function W(e){return e!=e}},{\"base64-js\":1,ieee754:15}],4:[function(e,t,n){\"use strict\";var l=e(\"typo-js\");function s(a){\"function\"==typeof(a=a||{}).codeMirrorInstance&&\"function\"==typeof a.codeMirrorInstance.defineMode?(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),a.codeMirrorInstance.defineMode(\"spell-checker\",function(e){if(!s.aff_loading){s.aff_loading=!0;var t=new XMLHttpRequest;t.open(\"GET\",\"https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff\",!0),t.onload=function(){4===t.readyState&&200===t.status&&(s.aff_data=t.responseText,2==++s.num_loaded&&(s.typo=new l(\"en_US\",s.aff_data,s.dic_data,{platform:\"any\"})))},t.send(null)}if(!s.dic_loading){s.dic_loading=!0;var n=new XMLHttpRequest;n.open(\"GET\",\"https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic\",!0),n.onload=function(){4===n.readyState&&200===n.status&&(s.dic_data=n.responseText,2==++s.num_loaded&&(s.typo=new l(\"en_US\",s.aff_data,s.dic_data,{platform:\"any\"})))},n.send(null)}var r='!\"#$%&()*+,-./:;<=>?@[\\\\]^_`{|}~ ',i={token:function(e){var t=e.peek(),n=\"\";if(r.includes(t))return e.next(),null;for(;null!=(t=e.peek())&&!r.includes(t);)n+=t,e.next();return s.typo&&!s.typo.check(n)?\"spell-error\":null}},o=a.codeMirrorInstance.getMode(e,e.backdrop||\"text/plain\");return a.codeMirrorInstance.overlayMode(o,i,!0)})):console.log(\"CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`\")}s.num_loaded=0,s.aff_loading=!1,s.dic_loading=!1,s.aff_data=\"\",s.dic_data=\"\",t.exports=s},{\"typo-js\":17}],5:[function(e,t,n){(function(o){\"use strict\";o.defineOption(\"fullScreen\",!1,function(e,t,n){var r,i;(n==o.Init&&(n=!1),!n!=!t)&&(t?(i=(r=e).getWrapperElement(),r.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:i.style.width,height:i.style.height},i.style.width=\"\",i.style.height=\"auto\",i.className+=\" CodeMirror-fullscreen\",document.documentElement.style.overflow=\"hidden\",r.refresh()):function(e){var t=e.getWrapperElement();t.className=t.className.replace(/\\s*CodeMirror-fullscreen\\b/,\"\"),document.documentElement.style.overflow=\"\";var n=e.state.fullScreenRestore;t.style.width=n.width,t.style.height=n.height,window.scrollTo(n.scrollLeft,n.scrollTop),e.refresh()}(e))})})(\"object\"==typeof n&&\"object\"==typeof t?e(\"../../lib/codemirror\"):CodeMirror)},{\"../../lib/codemirror\":10}],6:[function(e,t,n){(function(o){function a(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function r(e){a(e);var t=e.state.placeholder=document.createElement(\"pre\");t.style.cssText=\"height: 0; overflow: visible\",t.style.direction=e.getOption(\"direction\"),t.className=\"CodeMirror-placeholder\";var n=e.getOption(\"placeholder\");\"string\"==typeof n&&(n=document.createTextNode(n)),t.appendChild(n),e.display.lineSpace.insertBefore(t,e.display.lineSpace.firstChild)}function l(e){i(e)&&r(e)}function s(e){var t=e.getWrapperElement(),n=i(e);t.className=t.className.replace(\" CodeMirror-empty\",\"\")+(n?\" CodeMirror-empty\":\"\"),n?r(e):a(e)}function i(e){return 1===e.lineCount()&&\"\"===e.getLine(0)}o.defineOption(\"placeholder\",\"\",function(e,t,n){var r=n&&n!=o.Init;if(t&&!r)e.on(\"blur\",l),e.on(\"change\",s),e.on(\"swapDoc\",s),s(e);else if(!t&&r){e.off(\"blur\",l),e.off(\"change\",s),e.off(\"swapDoc\",s),a(e);var i=e.getWrapperElement();i.className=i.className.replace(\" CodeMirror-empty\",\"\")}t&&!e.hasFocus()&&l(e)})})(\"object\"==typeof n&&\"object\"==typeof t?e(\"../../lib/codemirror\"):CodeMirror)},{\"../../lib/codemirror\":10}],7:[function(e,t,n){(function(m){\"use strict\";var g=/^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]\\s|[*+-]\\s|(\\d+)([.)]))(\\s*)/,v=/^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]|[*+-]|(\\d+)[.)])(\\s*)$/,y=/[*+-]\\s/;function x(e,t){var n=t.line,r=0,i=0,o=g.exec(e.getLine(n)),a=o[1];do{var l=n+(r+=1),s=e.getLine(l),c=g.exec(s);if(c){var u=c[1],h=parseInt(o[3],10)+r-i,f=parseInt(c[3],10),d=f;if(a!==u||isNaN(f)){if(a.length>u.length)return;if(a.length<u.length&&1===r)return;i+=1}else h===f&&(d=f+1),f<h&&(d=h+1),e.replaceRange(s.replace(g,u+d+c[4]+c[5]),{line:l,ch:0},{line:l,ch:s.length})}}while(c)}m.commands.newlineAndIndentContinueMarkdownList=function(e){if(e.getOption(\"disableInput\"))return m.Pass;for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,o=e.getStateAfter(i.line),a=!1!==o.list,l=0!==o.quote,s=e.getLine(i.line),c=g.exec(s),u=/^\\s*$/.test(s.slice(0,i.ch));if(!t[r].empty()||!a&&!l||!c||u)return void e.execCommand(\"newlineAndIndent\");if(v.test(s))/>\\s*$/.test(s)||e.replaceRange(\"\",{line:i.line,ch:0},{line:i.line,ch:i.ch+1}),n[r]=\"\\n\";else{var h=c[1],f=c[5],d=!(y.test(c[2])||0<=c[2].indexOf(\">\")),p=d?parseInt(c[3],10)+1+c[4]:c[2].replace(\"x\",\" \");n[r]=\"\\n\"+h+p+f,d&&x(e,i)}}e.replaceSelections(n)}})(\"object\"==typeof n&&\"object\"==typeof t?e(\"../../lib/codemirror\"):CodeMirror)},{\"../../lib/codemirror\":10}],8:[function(e,t,n){(function(t){\"use strict\";t.overlayMode=function(r,i,o){return{startState:function(){return{base:t.startState(r),overlay:t.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(e){return{base:t.copyState(r,e.base),overlay:t.copyState(i,e.overlay),basePos:e.basePos,baseCur:null,overlayPos:e.overlayPos,overlayCur:null}},token:function(e,t){return(e!=t.streamSeen||Math.min(t.basePos,t.overlayPos)<e.start)&&(t.streamSeen=e,t.basePos=t.overlayPos=e.start),e.start==t.basePos&&(t.baseCur=r.token(e,t.base),t.basePos=e.pos),e.start==t.overlayPos&&(e.pos=e.start,t.overlayCur=i.token(e,t.overlay),t.overlayPos=e.pos),e.pos=Math.min(t.basePos,t.overlayPos),null==t.overlayCur?t.baseCur:null!=t.baseCur&&t.overlay.combineTokens||o&&null==t.overlay.combineTokens?t.baseCur+\" \"+t.overlayCur:t.overlayCur},indent:r.indent&&function(e,t){return r.indent(e.base,t)},electricChars:r.electricChars,innerMode:function(e){return{state:e.base,mode:r}},blankLine:function(e){var t,n;return r.blankLine&&(t=r.blankLine(e.base)),i.blankLine&&(n=i.blankLine(e.overlay)),null==n?t:o&&null!=t?t+\" \"+n:n}}}})(\"object\"==typeof n&&\"object\"==typeof t?e(\"../../lib/codemirror\"):CodeMirror)},{\"../../lib/codemirror\":10}],9:[function(e,t,n){(function(i){\"use strict\";function o(e){e.state.markedSelection&&e.operation(function(){!function(e){if(!e.somethingSelected())return s(e);if(1<e.listSelections().length)return c(e);var t=e.getCursor(\"start\"),n=e.getCursor(\"end\"),r=e.state.markedSelection;if(!r.length)return l(e,t,n);var i=r[0].find(),o=r[r.length-1].find();if(!i||!o||n.line-t.line<=f||0<=p(t,o.to)||p(n,i.from)<=0)return c(e);for(;0<p(t,i.from);)r.shift().clear(),i=r[0].find();p(t,i.from)<0&&(i.to.line-t.line<f?(r.shift().clear(),l(e,t,i.to,0)):l(e,t,i.from,0));for(;p(n,o.to)<0;)r.pop().clear(),o=r[r.length-1].find();0<p(n,o.to)&&(n.line-o.from.line<f?(r.pop().clear(),l(e,o.from,n)):l(e,o.to,n))}(e)})}function a(e){e.state.markedSelection&&e.state.markedSelection.length&&e.operation(function(){s(e)})}i.defineOption(\"styleSelectedText\",!1,function(e,t,n){var r=n&&n!=i.Init;t&&!r?(e.state.markedSelection=[],e.state.markedSelectionStyle=\"string\"==typeof t?t:\"CodeMirror-selectedtext\",c(e),e.on(\"cursorActivity\",o),e.on(\"change\",a)):!t&&r&&(e.off(\"cursorActivity\",o),e.off(\"change\",a),s(e),e.state.markedSelection=e.state.markedSelectionStyle=null)});var f=8,d=i.Pos,p=i.cmpPos;function l(e,t,n,r){if(0!=p(t,n))for(var i=e.state.markedSelection,o=e.state.markedSelectionStyle,a=t.line;;){var l=a==t.line?t:d(a,0),s=a+f,c=s>=n.line,u=c?n:d(s,0),h=e.markText(l,u,{className:o});if(null==r?i.push(h):i.splice(r++,0,h),c)break;a=s}}function s(e){for(var t=e.state.markedSelection,n=0;n<t.length;++n)t[n].clear();t.length=0}function c(e){s(e);for(var t=e.listSelections(),n=0;n<t.length;n++)l(e,t[n].from(),t[n].to())}})(\"object\"==typeof n&&\"object\"==typeof t?e(\"../../lib/codemirror\"):CodeMirror)},{\"../../lib/codemirror\":10}],10:[function(e,t,n){var r,i;r=this,i=function(){\"use strict\";var e=navigator.userAgent,t=navigator.platform,m=/gecko\\/\\d/i.test(e),n=/MSIE \\d/.test(e),r=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(e),i=/Edge\\/(\\d+)/.exec(e),w=n||r||i,k=w&&(n?document.documentMode||6:+(i||r)[1]),x=!i&&/WebKit\\//.test(e),o=x&&/Qt\\/\\d+\\.\\d+/.test(e),a=!i&&/Chrome\\//.test(e),g=/Opera\\//.test(e),s=/Apple Computer/.test(navigator.vendor),l=/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(e),c=/PhantomJS/.test(e),u=!i&&/AppleWebKit/.test(e)&&/Mobile\\/\\w+/.test(e),h=/Android/.test(e),f=u||h||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),b=u||/Mac/.test(t),d=/\\bCrOS\\b/.test(e),p=/win/i.test(t),v=g&&e.match(/Version\\/(\\d*\\.\\d*)/);v&&(v=Number(v[1])),v&&15<=v&&(x=!(g=!1));var y=b&&(o||g&&(null==v||v<12.11)),S=m||w&&9<=k;function C(e){return new RegExp(\"(^|\\\\s)\"+e+\"(?:$|\\\\s)\\\\s*\")}var L,T=function(e,t){var n=e.className,r=C(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:\"\")}};function M(e){for(var t=e.childNodes.length;0<t;--t)e.removeChild(e.firstChild);return e}function N(e,t){return M(e).appendChild(t)}function E(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),\"string\"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function A(e,t,n,r){var i=E(e,t,n,r);return i.setAttribute(\"role\",\"presentation\"),i}function O(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function I(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function D(e,t){var n=e.className;C(t).test(n)||(e.className+=(n?\" \":\"\")+t)}function H(e,t){for(var n=e.split(\" \"),r=0;r<n.length;r++)n[r]&&!C(n[r]).test(t)&&(t+=\" \"+n[r]);return t}L=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd(\"character\",n),r.moveStart(\"character\",t),r};var R=function(e){e.select()};function B(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function W(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function F(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\\s\\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var l=e.indexOf(\"\\t\",o);if(l<0||t<=l)return a+(t-o);a+=l-o,a+=n-a%n,o=l+1}}u?R=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:w&&(R=function(e){try{e.select()}catch(e){}});var z=function(){this.id=null};function P(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}z.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var _=30,j={toString:function(){return\"CodeMirror.Pass\"}},q={scroll:!1},U={origin:\"*mouse\"},$={origin:\"+move\"};function G(e,t,n){for(var r=0,i=0;;){var o=e.indexOf(\"\\t\",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||t<=i+a)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,t<=(i+=n-i%n))return r}}var V=[\"\"];function X(e){for(;V.length<=e;)V.push(K(V)+\" \");return V[e]}function K(e){return e[e.length-1]}function Y(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Z(){}function J(e,t){var n;return Object.create?n=Object.create(e):(Z.prototype=e,n=new Z),t&&W(t,n),n}var Q=/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;function ee(e){return/\\w/.test(e)||\"\"<e&&(e.toUpperCase()!=e.toLowerCase()||Q.test(e))}function te(e,t){return t?!!(-1<t.source.indexOf(\"\\\\w\")&&ee(e))||t.test(e):ee(e)}function ne(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var re=/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;function ie(e){return 768<=e.charCodeAt(0)&&re.test(e)}function oe(e,t,n){for(;(n<0?0<t:t<e.length)&&ie(e.charAt(t));)t+=n;return t}function ae(e,t,n){for(var r=n<t?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function le(e,t,n){var r=this;this.input=n,r.scrollbarFiller=E(\"div\",null,\"CodeMirror-scrollbar-filler\"),r.scrollbarFiller.setAttribute(\"cm-not-content\",\"true\"),r.gutterFiller=E(\"div\",null,\"CodeMirror-gutter-filler\"),r.gutterFiller.setAttribute(\"cm-not-content\",\"true\"),r.lineDiv=A(\"div\",null,\"CodeMirror-code\"),r.selectionDiv=E(\"div\",null,null,\"position: relative; z-index: 1\"),r.cursorDiv=E(\"div\",null,\"CodeMirror-cursors\"),r.measure=E(\"div\",null,\"CodeMirror-measure\"),r.lineMeasure=E(\"div\",null,\"CodeMirror-measure\"),r.lineSpace=A(\"div\",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,\"position: relative; outline: none\");var i=A(\"div\",[r.lineSpace],\"CodeMirror-lines\");r.mover=E(\"div\",[i],null,\"position: relative\"),r.sizer=E(\"div\",[r.mover],\"CodeMirror-sizer\"),r.sizerWidth=null,r.heightForcer=E(\"div\",null,null,\"position: absolute; height: \"+_+\"px; width: 1px;\"),r.gutters=E(\"div\",null,\"CodeMirror-gutters\"),r.lineGutter=null,r.scroller=E(\"div\",[r.sizer,r.heightForcer,r.gutters],\"CodeMirror-scroll\"),r.scroller.setAttribute(\"tabIndex\",\"-1\"),r.wrapper=E(\"div\",[r.scrollbarFiller,r.gutterFiller,r.scroller],\"CodeMirror\"),w&&k<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),x||m&&f||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}function se(e,t){if((t-=e.first)<0||t>=e.size)throw new Error(\"There is no line \"+(t+e.first)+\" in the document.\");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function ce(e,n,r){var i=[],o=n.line;return e.iter(n.line,r.line+1,function(e){var t=e.text;o==r.line&&(t=t.slice(0,r.ch)),o==n.line&&(t=t.slice(n.ch)),i.push(t),++o}),i}function ue(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function he(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function fe(e){if(null==e.parent)return null;for(var t=e.parent,n=P(t.lines,e),r=t.parent;r;r=(t=r).parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function de(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var l=e.lines[a].height;if(t<l)break;t-=l}return n+a}function pe(e,t){return t>=e.first&&t<e.first+e.size}function me(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ge(e,t,n){if(void 0===n&&(n=null),!(this instanceof ge))return new ge(e,t,n);this.line=e,this.ch=t,this.sticky=n}function ve(e,t){return e.line-t.line||e.ch-t.ch}function ye(e,t){return e.sticky==t.sticky&&0==ve(e,t)}function xe(e){return ge(e.line,e.ch)}function be(e,t){return ve(e,t)<0?t:e}function we(e,t){return ve(e,t)<0?e:t}function ke(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Se(e,t){if(t.line<e.first)return ge(e.first,0);var n,r,i,o=e.first+e.size-1;return t.line>o?ge(o,se(e,o).text.length):(r=se(e,(n=t).line).text.length,null==(i=n.ch)||r<i?ge(n.line,r):i<0?ge(n.line,0):n)}function Ce(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=Se(e,t[r]);return n}var Le=!1,Te=!1;function Me(e,t,n){this.marker=e,this.from=t,this.to=n}function Ne(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Ae(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Ee(e,t){if(t.full)return null;var n=pe(e,t.from.line)&&se(e,t.from.line).markedSpans,r=pe(e,t.to.line)&&se(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==ve(t.from,t.to),l=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&\"bookmark\"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Me(a,o.from,l?null:o.to))}}return r}(n,i,a),s=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&\"bookmark\"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Me(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}(r,o,a),c=1==t.text.length,u=K(t.text).length+(c?i:0);if(l)for(var h=0;h<l.length;++h){var f=l[h];if(null==f.to){var d=Ne(s,f.marker);d?c&&(f.to=null==d.to?null:d.to+u):f.to=i}}if(s)for(var p=0;p<s.length;++p){var m=s[p];if(null!=m.to&&(m.to+=u),null==m.from)Ne(l,m.marker)||(m.from=u,c&&(l||(l=[])).push(m));else m.from+=u,c&&(l||(l=[])).push(m)}l&&(l=Oe(l)),s&&s!=l&&(s=Oe(s));var g=[l];if(!c){var v,y=t.text.length-2;if(0<y&&l)for(var x=0;x<l.length;++x)null==l[x].to&&(v||(v=[])).push(new Me(l[x].marker,null,null));for(var b=0;b<y;++b)g.push(v);g.push(s)}return g}function Oe(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ie(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function De(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function He(e){return e.inclusiveLeft?-1:0}function Re(e){return e.inclusiveRight?1:0}function Be(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=ve(r.from,i.from)||He(e)-He(t);if(o)return-o;var a=ve(r.to,i.to)||Re(e)-Re(t);return a||t.id-e.id}function We(e,t){var n,r=Te&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||Be(n,i.marker)<0)&&(n=i.marker);return n}function Fe(e){return We(e,!0)}function ze(e){return We(e,!1)}function Pe(e,t){var n,r=Te&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||Be(n,o.marker)<0)&&(n=o.marker)}return n}function _e(e,t,n,r,i){var o=se(e,t),a=Te&&o.markedSpans;if(a)for(var l=0;l<a.length;++l){var s=a[l];if(s.marker.collapsed){var c=s.marker.find(0),u=ve(c.from,n)||He(s.marker)-He(i),h=ve(c.to,r)||Re(s.marker)-Re(i);if(!(0<=u&&h<=0||u<=0&&0<=h)&&(u<=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?0<=ve(c.to,n):0<ve(c.to,n))||0<=u&&(s.marker.inclusiveRight&&i.inclusiveLeft?ve(c.from,r)<=0:ve(c.from,r)<0)))return!0}}}function je(e){for(var t;t=Fe(e);)e=t.find(-1,!0).line;return e}function qe(e,t){var n=se(e,t),r=je(n);return n==r?t:fe(r)}function Ue(e,t){if(t>e.lastLine())return t;var n,r=se(e,t);if(!$e(e,r))return t;for(;n=ze(r);)r=n.find(1,!0).line;return fe(r)+1}function $e(e,t){var n=Te&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Ge(e,t,r))return!0}}function Ge(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return Ge(e,r.line,Ne(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Ge(e,t,i))return!0}function Ve(e){for(var t=0,n=(e=je(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var l=o.children[a];if(l==n)break;t+=l.height}return t}function Xe(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Fe(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=ze(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function Ke(e){var n=e.display,t=e.doc;n.maxLine=se(t,t.first),n.maxLineLength=Xe(n.maxLine),n.maxLineChanged=!0,t.iter(function(e){var t=Xe(e);t>n.maxLineLength&&(n.maxLineLength=t,n.maxLine=e)})}var Ye=null;function Ze(e,t,n){var r;Ye=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&\"before\"==n?r=i:Ye=i),o.from==t&&(o.from!=o.to&&\"before\"!=n?r=i:Ye=i)}return null!=r?r:Ye}var Je=function(){var W=\"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\",F=\"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";var z=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,P=/[stwN]/,_=/[LRr]/,j=/[Lb1n]/,q=/[1n]/;function U(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var n=\"ltr\"==t?\"L\":\"R\";if(0==e.length||\"ltr\"==t&&!z.test(e))return!1;for(var r,i=e.length,o=[],a=0;a<i;++a)o.push((r=e.charCodeAt(a))<=247?W.charAt(r):1424<=r&&r<=1524?\"R\":1536<=r&&r<=1785?F.charAt(r-1536):1774<=r&&r<=2220?\"r\":8192<=r&&r<=8203?\"w\":8204==r?\"b\":\"L\");for(var l=0,s=n;l<i;++l){var c=o[l];\"m\"==c?o[l]=s:s=c}for(var u=0,h=n;u<i;++u){var f=o[u];\"1\"==f&&\"r\"==h?o[u]=\"n\":_.test(f)&&\"r\"==(h=f)&&(o[u]=\"R\")}for(var d=1,p=o[0];d<i-1;++d){var m=o[d];\"+\"==m&&\"1\"==p&&\"1\"==o[d+1]?o[d]=\"1\":\",\"!=m||p!=o[d+1]||\"1\"!=p&&\"n\"!=p||(o[d]=p),p=m}for(var g=0;g<i;++g){var v=o[g];if(\",\"==v)o[g]=\"N\";else if(\"%\"==v){var y=void 0;for(y=g+1;y<i&&\"%\"==o[y];++y);for(var x=g&&\"!\"==o[g-1]||y<i&&\"1\"==o[y]?\"1\":\"N\",b=g;b<y;++b)o[b]=x;g=y-1}}for(var w=0,k=n;w<i;++w){var S=o[w];\"L\"==k&&\"1\"==S?o[w]=\"L\":_.test(S)&&(k=S)}for(var C=0;C<i;++C)if(P.test(o[C])){var L=void 0;for(L=C+1;L<i&&P.test(o[L]);++L);for(var T=\"L\"==(C?o[C-1]:n),M=T==(\"L\"==(L<i?o[L]:n))?T?\"L\":\"R\":n,N=C;N<L;++N)o[N]=M;C=L-1}for(var A,E=[],O=0;O<i;)if(j.test(o[O])){var I=O;for(++O;O<i&&j.test(o[O]);++O);E.push(new U(0,I,O))}else{var D=O,H=E.length;for(++O;O<i&&\"L\"!=o[O];++O);for(var R=D;R<O;)if(q.test(o[R])){D<R&&E.splice(H,0,new U(1,D,R));var B=R;for(++R;R<O&&q.test(o[R]);++R);E.splice(H,0,new U(2,B,R)),D=R}else++R;D<O&&E.splice(H,0,new U(1,D,O))}return\"ltr\"==t&&(1==E[0].level&&(A=e.match(/^\\s+/))&&(E[0].from=A[0].length,E.unshift(new U(0,0,A[0].length))),1==K(E).level&&(A=e.match(/\\s+$/))&&(K(E).to-=A[0].length,E.push(new U(0,i-A[0].length,i)))),\"rtl\"==t?E.reverse():E}}();function Qe(e,t){var n=e.order;return null==n&&(n=e.order=Je(e.text,t)),n}var et=[],tt=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent(\"on\"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||et).concat(n)}};function nt(e,t){return e._handlers&&e._handlers[t]||et}function rt(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent(\"on\"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=P(i,n);-1<o&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function it(e,t){var n=nt(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function ot(e,t,n){return\"string\"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),it(e,n||t.type,e,t),ht(t)||t.codemirrorIgnore}function at(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==P(n,t[r])&&n.push(t[r])}function lt(e,t){return 0<nt(e,t).length}function st(e){e.prototype.on=function(e,t){tt(this,e,t)},e.prototype.off=function(e,t){rt(this,e,t)}}function ct(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ut(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ht(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ft(e){ct(e),ut(e)}function dt(e){return e.target||e.srcElement}function pt(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),b&&e.ctrlKey&&1==t&&(t=3),t}var mt,gt,vt=function(){if(w&&k<9)return!1;var e=E(\"div\");return\"draggable\"in e||\"dragDrop\"in e}();function yt(e){if(null==mt){var t=E(\"span\",\"\");N(e,E(\"span\",[t,document.createTextNode(\"x\")])),0!=e.firstChild.offsetHeight&&(mt=t.offsetWidth<=1&&2<t.offsetHeight&&!(w&&k<8))}var n=mt?E(\"span\",\"\"):E(\"span\",\"\",null,\"display: inline-block; width: 1px; margin-right: -1px\");return n.setAttribute(\"cm-text\",\"\"),n}function xt(e){if(null!=gt)return gt;var t=N(e,document.createTextNode(\"AA\")),n=L(t,0,1).getBoundingClientRect(),r=L(t,1,2).getBoundingClientRect();return M(e),!(!n||n.left==n.right)&&(gt=r.right-n.right<3)}var bt,wt=3!=\"\\n\\nb\".split(/\\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf(\"\\n\",t);-1==i&&(i=e.length);var o=e.slice(t,\"\\r\"==e.charAt(i-1)?i-1:i),a=o.indexOf(\"\\r\");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\\r\\n?|\\n/)},kt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints(\"StartToEnd\",t)},St=\"oncopy\"in(bt=E(\"div\"))||(bt.setAttribute(\"oncopy\",\"return;\"),\"function\"==typeof bt.oncopy),Ct=null;var Lt={},Tt={};function Mt(e){if(\"string\"==typeof e&&Tt.hasOwnProperty(e))e=Tt[e];else if(e&&\"string\"==typeof e.name&&Tt.hasOwnProperty(e.name)){var t=Tt[e.name];\"string\"==typeof t&&(t={name:t}),(e=J(t,e)).name=t.name}else{if(\"string\"==typeof e&&/^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(e))return Mt(\"application/xml\");if(\"string\"==typeof e&&/^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(e))return Mt(\"application/json\")}return\"string\"==typeof e?{name:e}:e||{name:\"null\"}}function Nt(e,t){t=Mt(t);var n=Lt[t.name];if(!n)return Nt(e,\"text/plain\");var r=n(e,t);if(At.hasOwnProperty(t.name)){var i=At[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r[\"_\"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var At={};function Et(e,t){W(t,At.hasOwnProperty(e)?At[e]:At[e]={})}function Ot(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function It(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Dt(e,t,n){return!e.startState||e.startState(t,n)}var Ht=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};Ht.prototype.eol=function(){return this.pos>=this.string.length},Ht.prototype.sol=function(){return this.pos==this.lineStart},Ht.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ht.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ht.prototype.eat=function(e){var t=this.string.charAt(this.pos);if(\"string\"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ht.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ht.prototype.eatSpace=function(){for(var e=this.pos;/[\\s\\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ht.prototype.skipToEnd=function(){this.pos=this.string.length},Ht.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(-1<t)return this.pos=t,!0},Ht.prototype.backUp=function(e){this.pos-=e},Ht.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.match=function(e,t,n){if(\"string\"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&0<r.index?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Ht.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ht.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ht.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ht.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Rt=function(e,t){this.state=e,this.lookAhead=t},Bt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function Wt(t,n,r,e){var s=[t.state.modeGen],i={};Gt(t,n.text,t.doc.mode,r,function(e,t){return s.push(e,t)},i,e);for(var c=r.state,o=function(e){r.baseTokens=s;var o=t.state.overlays[e],a=1,l=0;r.state=!0,Gt(t,n.text,o.mode,r,function(e,t){for(var n=a;l<e;){var r=s[a];e<r&&s.splice(a,1,e,s[a+1],r),a+=2,l=Math.min(e,r)}if(t)if(o.opaque)s.splice(n,a-n,e,\"overlay \"+t),a=n+2;else for(;n<a;n+=2){var i=s[n+1];s[n+1]=(i?i+\" \":\"\")+\"overlay \"+t}},i),r.state=c,r.baseTokens=null,r.baseTokenPos=1},a=0;a<t.state.overlays.length;++a)o(a);return{styles:s,classes:i.bgClass||i.textClass?i:null}}function Ft(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=zt(e,fe(t)),i=t.text.length>e.options.maxHighlightLength&&Ot(e.doc.mode,r.state),o=Wt(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function zt(n,r,e){var t=n.doc,i=n.display;if(!t.mode.startState)return new Bt(t,!0,r);var o=function(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),l=t;a<l;--l){if(l<=o.first)return o.first;var s=se(o,l-1),c=s.stateAfter;if(c&&(!n||l+(c instanceof Rt?c.lookAhead:0)<=o.modeFrontier))return l;var u=F(s.text,null,e.options.tabSize);(null==i||u<r)&&(i=l-1,r=u)}return i}(n,r,e),a=o>t.first&&se(t,o-1).stateAfter,l=a?Bt.fromSaved(t,a,o):new Bt(t,Dt(t.mode),o);return t.iter(o,r,function(e){Pt(n,e.text,l);var t=l.line;e.stateAfter=t==r-1||t%5==0||t>=i.viewFrom&&t<i.viewTo?l.save():null,l.nextLine()}),e&&(t.modeFrontier=l.line),l}function Pt(e,t,n,r){var i=e.doc.mode,o=new Ht(t,e.options.tabSize,n);for(o.start=o.pos=r||0,\"\"==t&&_t(i,n.state);!o.eol();)jt(i,o,n.state),o.start=o.pos}function _t(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=It(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function jt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=It(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error(\"Mode \"+e.name+\" failed to advance stream.\")}Bt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Bt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,\"\"),size:this.baseTokens[this.baseTokenPos]-e}},Bt.prototype.nextLine=function(){this.line++,0<this.maxLookAhead&&this.maxLookAhead--},Bt.fromSaved=function(e,t,n){return t instanceof Rt?new Bt(e,Ot(e.mode,t.state),n,t.lookAhead):new Bt(e,Ot(e.mode,t),n)},Bt.prototype.save=function(e){var t=!1!==e?Ot(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new Rt(t,this.maxLookAhead):t};var qt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Ut(e,t,n,r){var i,o,a=e.doc,l=a.mode,s=se(a,(t=Se(a,t)).line),c=zt(e,t.line,n),u=new Ht(s.text,e.options.tabSize,c);for(r&&(o=[]);(r||u.pos<t.ch)&&!u.eol();)u.start=u.pos,i=jt(l,u,c.state),r&&o.push(new qt(u,i,Ot(a.mode,c.state)));return r?o:new qt(u,i,c.state)}function $t(e,t){if(e)for(;;){var n=e.match(/(?:^|\\s+)line-(background-)?(\\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?\"bgClass\":\"textClass\";null==t[r]?t[r]=n[2]:new RegExp(\"(?:^|s)\"+n[2]+\"(?:$|s)\").test(t[r])||(t[r]+=\" \"+n[2])}return e}function Gt(e,t,n,r,i,o,a){var l=n.flattenSpans;null==l&&(l=e.options.flattenSpans);var s,c=0,u=null,h=new Ht(t,e.options.tabSize,r),f=e.options.addModeClass&&[null];for(\"\"==t&&$t(_t(n,r.state),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(l=!1,a&&Pt(e,t,r,h.pos),h.pos=t.length,s=null):s=$t(jt(n,h,r.state,f),o),f){var d=f[0].name;d&&(s=\"m-\"+(s?d+\" \"+s:d))}if(!l||u!=s){for(;c<h.start;)i(c=Math.min(h.start,c+5e3),u);u=s}h.start=h.pos}for(;c<h.pos;){var p=Math.min(h.pos,c+5e3);i(p,u),c=p}}var Vt=function(e,t,n){this.text=e,De(this,t),this.height=n?n(this):1};Vt.prototype.lineNo=function(){return fe(this)},st(Vt);var Xt={},Kt={};function Yt(e,t){if(!e||/^\\s*$/.test(e))return null;var n=t.addModeClass?Kt:Xt;return n[e]||(n[e]=e.replace(/\\S+/g,\"cm-$&\"))}function Zt(e,t){var n=A(\"span\",null,null,x?\"padding-right: .1px\":null),r={pre:A(\"pre\",[n],\"CodeMirror-line\"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(w||x)&&e.getOption(\"lineWrapping\")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;r.pos=0,r.addToken=Qt,xt(e.display.measure)&&(a=Qe(o,e.doc.direction))&&(r.addToken=en(r.addToken,a)),r.map=[],nn(o,r,Ft(e,o,t!=e.display.externalMeasured&&fe(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=H(o.styleClasses.bgClass,r.bgClass||\"\")),o.styleClasses.textClass&&(r.textClass=H(o.styleClasses.textClass,r.textClass||\"\"))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(yt(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(x){var l=r.content.lastChild;(/\\bcm-tab\\b/.test(l.className)||l.querySelector&&l.querySelector(\".cm-tab\"))&&(r.content.className=\"cm-tab-wrap-hack\")}return it(e,\"renderLine\",e,t.line,r.pre),r.pre.className&&(r.textClass=H(r.pre.className,r.textClass||\"\")),r}function Jt(e){var t=E(\"span\",\"\",\"cm-invalidchar\");return t.title=\"\\\\u\"+e.charCodeAt(0).toString(16),t.setAttribute(\"aria-label\",t.title),t}function Qt(e,t,n,r,i,o,a){if(t){var l,s=e.splitSpaces?function(e,t){if(1<e.length&&!/  /.test(e))return e;for(var n=t,r=\"\",i=0;i<e.length;i++){var o=e.charAt(i);\" \"!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=\"\"),r+=o,n=\" \"==o}return r}(t,e.trailingSpace):t,c=e.cm.state.specialChars,u=!1;if(c.test(t)){l=document.createDocumentFragment();for(var h=0;;){c.lastIndex=h;var f=c.exec(t),d=f?f.index-h:t.length-h;if(d){var p=document.createTextNode(s.slice(h,h+d));w&&k<9?l.appendChild(E(\"span\",[p])):l.appendChild(p),e.map.push(e.pos,e.pos+d,p),e.col+=d,e.pos+=d}if(!f)break;h+=d+1;var m=void 0;if(\"\\t\"==f[0]){var g=e.cm.options.tabSize,v=g-e.col%g;(m=l.appendChild(E(\"span\",X(v),\"cm-tab\"))).setAttribute(\"role\",\"presentation\"),m.setAttribute(\"cm-text\",\"\\t\"),e.col+=v}else\"\\r\"==f[0]||\"\\n\"==f[0]?(m=l.appendChild(E(\"span\",\"\\r\"==f[0]?\"\":\"\",\"cm-invalidchar\"))).setAttribute(\"cm-text\",f[0]):((m=e.cm.options.specialCharPlaceholder(f[0])).setAttribute(\"cm-text\",f[0]),w&&k<9?l.appendChild(E(\"span\",[m])):l.appendChild(m)),e.col+=1;e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,l=document.createTextNode(s),e.map.push(e.pos,e.pos+t.length,l),w&&k<9&&(u=!0),e.pos+=t.length;if(e.trailingSpace=32==s.charCodeAt(t.length-1),n||r||i||u||a){var y=n||\"\";r&&(y+=r),i&&(y+=i);var x=E(\"span\",[l],y,a);return o&&(x.title=o),e.content.appendChild(x)}e.content.appendChild(l)}}function en(h,f){return function(e,t,n,r,i,o,a){n=n?n+\" cm-force-border\":\"cm-force-border\";for(var l=e.pos,s=l+t.length;;){for(var c=void 0,u=0;u<f.length&&!((c=f[u]).to>l&&c.from<=l);u++);if(c.to>=s)return h(e,t,n,r,i,o,a);h(e,t.slice(0,c.to-l),n,r,null,o,a),r=null,t=t.slice(c.to-l),l=c.to}}}function tn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement(\"span\"))),i.setAttribute(\"cm-marker\",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function nn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,l,s,c,u,h,f,d=i.length,p=0,m=1,g=\"\",v=0;;){if(v==p){s=c=u=h=l=\"\",f=null,v=1/0;for(var y=[],x=void 0,b=0;b<r.length;++b){var w=r[b],k=w.marker;\"bookmark\"==k.type&&w.from==p&&k.widgetNode?y.push(k):w.from<=p&&(null==w.to||w.to>p||k.collapsed&&w.to==p&&w.from==p)?(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,c=\"\"),k.className&&(s+=\" \"+k.className),k.css&&(l=(l?l+\";\":\"\")+k.css),k.startStyle&&w.from==p&&(u+=\" \"+k.startStyle),k.endStyle&&w.to==v&&(x||(x=[])).push(k.endStyle,w.to),k.title&&!h&&(h=k.title),k.collapsed&&(!f||Be(f.marker,k)<0)&&(f=w)):w.from>p&&v>w.from&&(v=w.from)}if(x)for(var S=0;S<x.length;S+=2)x[S+1]==v&&(c+=\" \"+x[S]);if(!f||f.from==p)for(var C=0;C<y.length;++C)tn(t,0,y[C]);if(f&&(f.from||0)==p){if(tn(t,(null==f.to?d+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(d<=p)break;for(var L=Math.min(d,v);;){if(g){var T=p+g.length;if(!f){var M=L<T?g.slice(0,L-p):g;t.addToken(t,M,a?a+s:s,u,p+M.length==v?c:\"\",h,l)}if(L<=T){g=g.slice(L-p),p=L;break}p=T,u=\"\"}g=i.slice(o,o=n[m++]),a=Yt(n[m++],t.cm.options)}}else for(var N=1;N<n.length;N+=2)t.addToken(t,i.slice(o,o=n[N]),Yt(n[N+1],t.cm.options))}function rn(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=ze(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?fe(K(this.rest))-n+1:1,this.node=this.text=null,this.hidden=$e(e,t)}function on(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new rn(e.doc,se(e.doc,o),o);r=o+a.size,i.push(a)}return i}var an=null;var ln=null;function sn(e,t){var n=nt(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);an?r=an.delayedCallbacks:ln?r=ln:(r=ln=[],setTimeout(cn,0));for(var o=function(e){r.push(function(){return n[e].apply(null,i)})},a=0;a<n.length;++a)o(a)}}function cn(){var e=ln;ln=null;for(var t=0;t<e.length;++t)e[t]()}function un(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];\"text\"==o?dn(e,t):\"gutter\"==o?mn(e,t,n,r):\"class\"==o?pn(e,t):\"widget\"==o&&gn(e,t,r)}t.changes=null}function hn(e){return e.node==e.text&&(e.node=E(\"div\",null,null,\"position: relative\"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),w&&k<8&&(e.node.style.zIndex=2)),e.node}function fn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Zt(e,t)}function dn(e,t){var n=t.text.className,r=fn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,pn(e,t)):n&&(t.text.className=n)}function pn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+\" \"+(t.line.bgClass||\"\"):t.line.bgClass;if(n&&(n+=\" CodeMirror-linebackground\"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=hn(t);t.background=r.insertBefore(E(\"div\",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?hn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className=\"\");var n=t.textClass?t.textClass+\" \"+(t.line.textClass||\"\"):t.line.textClass;t.text.className=n||\"\"}function mn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=hn(t);t.gutterBackground=E(\"div\",null,\"CodeMirror-gutter-background \"+t.line.gutterClass,\"left: \"+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+\"px; width: \"+r.gutterTotalWidth+\"px\"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=hn(t),l=t.gutter=E(\"div\",null,\"CodeMirror-gutter-wrapper\",\"left: \"+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+\"px\");if(e.display.input.setUneditable(l),a.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=\" \"+t.line.gutterClass),!e.options.lineNumbers||o&&o[\"CodeMirror-linenumbers\"]||(t.lineNumber=l.appendChild(E(\"div\",me(e.options,n),\"CodeMirror-linenumber CodeMirror-gutter-elt\",\"left: \"+r.gutterLeft[\"CodeMirror-linenumbers\"]+\"px; width: \"+e.display.lineNumInnerWidth+\"px\"))),o)for(var s=0;s<e.options.gutters.length;++s){var c=e.options.gutters[s],u=o.hasOwnProperty(c)&&o[c];u&&l.appendChild(E(\"div\",[u],\"CodeMirror-gutter-elt\",\"left: \"+r.gutterLeft[c]+\"px; width: \"+r.gutterWidth[c]+\"px\"))}}}function gn(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,\"CodeMirror-linewidget\"==r.className&&t.node.removeChild(r);vn(e,t,n)}function vn(e,t,n){if(yn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)yn(e,t.rest[r],t,n,!1)}function yn(e,t,n,r,i){if(t.widgets)for(var o=hn(n),a=0,l=t.widgets;a<l.length;++a){var s=l[a],c=E(\"div\",[s.node],\"CodeMirror-linewidget\");s.handleMouseEvents||c.setAttribute(\"cm-ignore-events\",\"true\"),xn(s,c,n,r),e.display.input.setUneditable(c),i&&s.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),sn(s,\"redraw\")}}function xn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+\"px\",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+\"px\"),t.style.width=i+\"px\"}e.coverGutter&&(t.style.zIndex=5,t.style.position=\"relative\",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+\"px\"))}function bn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!O(document.body,e.node)){var n=\"position: relative;\";e.coverGutter&&(n+=\"margin-left: -\"+t.display.gutters.offsetWidth+\"px;\"),e.noHScroll&&(n+=\"width: \"+t.display.wrapper.clientWidth+\"px;\"),N(t.display.measure,E(\"div\",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function wn(e,t){for(var n=dt(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&\"true\"==n.getAttribute(\"cm-ignore-events\")||n.parentNode==e.sizer&&n!=e.mover)return!0}function kn(e){return e.lineSpace.offsetTop}function Sn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Cn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=N(e.measure,E(\"pre\",\"x\")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Ln(e){return _-e.display.nativeBarWidth}function Tn(e){return e.display.scroller.clientWidth-Ln(e)-e.display.barWidth}function Mn(e){return e.display.scroller.clientHeight-Ln(e)-e.display.barHeight}function Nn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(fe(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function An(e,t,n,r){return In(e,On(e,t),n,r)}function En(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[lr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function On(e,t){var n=fe(t),r=En(e,n);r&&!r.text?r=null:r&&r.changes&&(un(e,r,n,nr(e)),e.curOp.forceUpdate=!0),r||(r=function(e,t){var n=fe(t=je(t)),r=e.display.externalMeasured=new rn(e.doc,t,n);r.lineN=n;var i=r.built=Zt(e,r);return r.text=i.pre,N(e.display.lineMeasure,i.pre),r}(e,t));var i=Nn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function In(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||\"\");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(!function(e,t,n){var r=e.options.lineWrapping,i=r&&Tn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),l=0;l<a.length-1;l++){var s=a[l],c=a[l+1];2<Math.abs(s.bottom-c.bottom)&&o.push((s.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,r){var i,o=Rn(t.map,n,r),a=o.node,l=o.start,s=o.end,c=o.collapse;if(3==a.nodeType){for(var u=0;u<4;u++){for(;l&&ie(t.line.text.charAt(o.coverStart+l));)--l;for(;o.coverStart+s<o.coverEnd&&ie(t.line.text.charAt(o.coverStart+s));)++s;if((i=w&&k<9&&0==l&&s==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():Bn(L(a,l,s).getClientRects(),r)).left||i.right||0==l)break;s=l,l-=1,c=\"right\"}w&&k<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Ct)return Ct;var t=N(e,E(\"span\",\"x\")),n=t.getBoundingClientRect(),r=L(t,0,1).getBoundingClientRect();return Ct=1<Math.abs(n.left-r.left)}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,i))}else{var h;0<l&&(c=r=\"right\"),i=e.options.lineWrapping&&1<(h=a.getClientRects()).length?h[\"right\"==r?h.length-1:0]:a.getBoundingClientRect()}if(w&&k<9&&!l&&(!i||!i.left&&!i.right)){var f=a.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+tr(e.display),top:f.top,bottom:f.bottom}:Hn}for(var d=i.top-t.rect.top,p=i.bottom-t.rect.top,m=(d+p)/2,g=t.view.measure.heights,v=0;v<g.length-1&&!(m<g[v]);v++);var y=v?g[v-1]:0,x=g[v],b={left:(\"right\"==c?i.right:i.left)-t.rect.left,right:(\"left\"==c?i.left:i.right)-t.rect.left,top:y,bottom:x};i.left||i.right||(b.bogus=!0);e.options.singleCursorHeightPerLine||(b.rtop=d,b.rbottom=p);return b}(e,t,n,r)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Dn,Hn={left:0,right:0,top:0,bottom:0};function Rn(e,t,n){for(var r,i,o,a,l,s,c=0;c<e.length;c+=3)if(l=e[c],s=e[c+1],t<l?(i=0,o=1,a=\"left\"):t<s?o=(i=t-l)+1:(c==e.length-3||t==s&&e[c+3]>t)&&(i=(o=s-l)-1,s<=t&&(a=\"right\")),null!=i){if(r=e[c+2],l==s&&n==(r.insertLeft?\"left\":\"right\")&&(a=n),\"left\"==n&&0==i)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)r=e[2+(c-=3)],a=\"left\";if(\"right\"==n&&i==s-l)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)r=e[(c+=3)+2],a=\"right\";break}return{node:r,start:i,end:o,collapse:a,coverStart:l,coverEnd:s}}function Bn(e,t){var n=Hn;if(\"left\"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;0<=i&&(n=e[i]).left==n.right;i--);return n}function Wn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Fn(e){e.display.externalMeasure=null,M(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Wn(e.display.view[t])}function zn(e){Fn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Pn(){return a&&h?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function _n(){return a&&h?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function jn(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=bn(e.widgets[n]));return t}function qn(e,t,n,r,i){if(!i){var o=jn(t);n.top+=o,n.bottom+=o}if(\"line\"==r)return n;r||(r=\"local\");var a=Ve(t);if(\"local\"==r?a+=kn(e.display):a-=e.display.viewOffset,\"page\"==r||\"window\"==r){var l=e.display.lineSpace.getBoundingClientRect();a+=l.top+(\"window\"==r?0:_n());var s=l.left+(\"window\"==r?0:Pn());n.left+=s,n.right+=s}return n.top+=a,n.bottom+=a,n}function Un(e,t,n){if(\"div\"==n)return t;var r=t.left,i=t.top;if(\"page\"==n)r-=Pn(),i-=_n();else if(\"local\"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function $n(e,t,n,r,i){return r||(r=se(e.doc,t.line)),qn(e,r,An(e,r,t.ch,i),n)}function Gn(r,e,i,o,a,l){function s(e,t){var n=In(r,a,e,t?\"right\":\"left\",l);return t?n.left=n.right:n.right=n.left,qn(r,o,n,i)}o=o||se(r.doc,e.line),a||(a=On(r,o));var c=Qe(o,r.doc.direction),t=e.ch,n=e.sticky;if(t>=o.text.length?(t=o.text.length,n=\"before\"):t<=0&&(t=0,n=\"after\"),!c)return s(\"before\"==n?t-1:t,\"before\"==n);function u(e,t,n){return s(n?e-1:e,1==c[t].level!=n)}var h=Ze(c,t,n),f=Ye,d=u(t,h,\"before\"==n);return null!=f&&(d.other=u(t,f,\"before\"!=n)),d}function Vn(e,t){var n=0;t=Se(e.doc,t),e.options.lineWrapping||(n=tr(e.display)*t.ch);var r=se(e.doc,t.line),i=Ve(r)+kn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Xn(e,t,n,r,i){var o=ge(e,t,n);return o.xRel=i,r&&(o.outside=!0),o}function Kn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return Xn(r.first,0,null,!0,-1);var i=de(r,n),o=r.first+r.size-1;if(o<i)return Xn(r.first+r.size-1,se(r,o).text.length,null,!0,1);t<0&&(t=0);for(var a=se(r,i);;){var l=Qn(e,a,i,t,n),s=Pe(a,l.ch+(0<l.xRel?1:0));if(!s)return l;var c=s.find(1);if(c.line==i)return c;a=se(r,i=c.line)}}function Yn(t,e,n,r){r-=jn(e);var i=e.text.length,o=ae(function(e){return In(t,n,e-1).bottom<=r},i,0);return{begin:o,end:i=ae(function(e){return In(t,n,e).top>r},o,i)}}function Zn(e,t,n,r){return n||(n=On(e,t)),Yn(e,t,n,qn(e,t,In(e,n,r),\"line\").top)}function Jn(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Qn(n,e,t,r,i){i-=Ve(e);var o=On(n,e),a=jn(e),l=0,s=e.text.length,c=!0,u=Qe(e,n.doc.direction);if(u){var h=(n.options.lineWrapping?function(e,t,n,r,i,o,a){var l=Yn(e,t,r,a),s=l.begin,c=l.end;/\\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,h=null,f=0;f<i.length;f++){var d=i[f];if(!(d.from>=c||d.to<=s)){var p=1!=d.level,m=In(e,r,p?Math.min(c,d.to)-1:Math.max(s,d.from)).right,g=m<o?o-m+1e9:m-o;(!u||g<h)&&(u=d,h=g)}}u||(u=i[i.length-1]);u.from<s&&(u={from:s,to:u.to,level:u.level});u.to>c&&(u={from:u.from,to:c,level:u.level});return u}:function(r,i,o,a,l,s,c){var e=ae(function(e){var t=l[e],n=1!=t.level;return Jn(Gn(r,ge(o,n?t.to:t.from,n?\"before\":\"after\"),\"line\",i,a),s,c,!0)},0,l.length-1),t=l[e];if(0<e){var n=1!=t.level,u=Gn(r,ge(o,n?t.from:t.to,n?\"after\":\"before\"),\"line\",i,a);Jn(u,s,c,!0)&&u.top>c&&(t=l[e-1])}return t})(n,e,t,o,u,r,i);l=(c=1!=h.level)?h.from:h.to-1,s=c?h.to:h.from-1}var f,d,p=null,m=null,g=ae(function(e){var t=In(n,o,e);return t.top+=a,t.bottom+=a,!!Jn(t,r,i,!1)&&(t.top<=i&&t.left<=r&&(p=e,m=t),!0)},l,s),v=!1;if(m){var y=r-m.left<m.right-r,x=y==c;g=p+(x?0:1),d=x?\"after\":\"before\",f=y?m.left:m.right}else{c||g!=s&&g!=l||g++,d=0==g?\"after\":g==e.text.length?\"before\":In(n,o,g-(c?1:0)).bottom+a<=i==c?\"after\":\"before\";var b=Gn(n,ge(t,g,d),\"line\",e,o);f=b.left,v=i<b.top||i>=b.bottom}return Xn(t,g=oe(e.text,g,1),d,v,r-f)}function er(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Dn){Dn=E(\"pre\");for(var t=0;t<49;++t)Dn.appendChild(document.createTextNode(\"x\")),Dn.appendChild(E(\"br\"));Dn.appendChild(document.createTextNode(\"x\"))}N(e.measure,Dn);var n=Dn.offsetHeight/50;return 3<n&&(e.cachedTextHeight=n),M(e.measure),n||1}function tr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=E(\"span\",\"xxxxxxxxxx\"),n=E(\"pre\",[t]);N(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return 2<i&&(e.cachedCharWidth=i),i||10}function nr(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:rr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function rr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function ir(r){var i=er(r.display),o=r.options.lineWrapping,a=o&&Math.max(5,r.display.scroller.clientWidth/tr(r.display)-3);return function(e){if($e(r.doc,e))return 0;var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;n++)e.widgets[n].height&&(t+=e.widgets[n].height);return o?t+(Math.ceil(e.text.length/a)||1)*i:t+i}}function or(e){var t=e.doc,n=ir(e);t.iter(function(e){var t=n(e);t!=e.height&&he(e,t)})}function ar(e,t,n,r){var i=e.display;if(!n&&\"true\"==dt(t).getAttribute(\"cm-not-content\"))return null;var o,a,l=i.lineSpace.getBoundingClientRect();try{o=t.clientX-l.left,a=t.clientY-l.top}catch(t){return null}var s,c=Kn(e,o,a);if(r&&1==c.xRel&&(s=se(e.doc,c.line).text).length==c.ch){var u=F(s,s.length,e.options.tabSize)-s.length;c=ge(c.line,Math.max(0,Math.round((o-Cn(e.display).left)/tr(e.display))-u))}return c}function lr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function sr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function cr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var l=n.sel.ranges[a];if(!(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)){var s=l.empty();(s||e.options.showCursorWhenSelecting)&&ur(e,l.head,i),s||fr(e,l,o)}}return r}function ur(e,t,n){var r=Gn(e,t,\"div\",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(E(\"div\",\"\",\"CodeMirror-cursor\"));if(i.style.left=r.left+\"px\",i.style.top=r.top+\"px\",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+\"px\",r.other){var o=n.appendChild(E(\"div\",\"\",\"CodeMirror-cursor CodeMirror-secondarycursor\"));o.style.display=\"\",o.style.left=r.other.left+\"px\",o.style.top=r.other.top+\"px\",o.style.height=.85*(r.other.bottom-r.other.top)+\"px\"}}function hr(e,t){return e.top-t.top||e.left-t.left}function fr(a,e,t){var n=a.display,r=a.doc,i=document.createDocumentFragment(),o=Cn(a.display),T=o.left,M=Math.max(n.sizerWidth,Tn(a)-n.sizer.offsetLeft)-o.right,N=\"ltr\"==r.direction;function A(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),i.appendChild(E(\"div\",null,\"CodeMirror-selected\",\"position: absolute; left: \"+e+\"px;\\n                             top: \"+t+\"px; width: \"+(null==n?M-e:n)+\"px;\\n                             height: \"+(r-t)+\"px\"))}function l(n,y,x){var b,w,o=se(r,n),k=o.text.length;function S(e,t){return $n(a,ge(n,e),\"div\",o,t)}function C(e,t,n){var r=Zn(a,o,null,e),i=\"ltr\"==t==(\"after\"==n)?\"left\":\"right\";return S(\"after\"==n?r.begin:r.end-(/\\s/.test(o.text.charAt(r.end-1))?2:1),i)[i]}var L=Qe(o,r.direction);return function(e,t,n,r){if(!e)return r(t,n,\"ltr\",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?\"rtl\":\"ltr\",o),i=!0)}i||r(t,n,\"ltr\")}(L,y||0,null==x?k:x,function(e,t,n,r){var i=\"ltr\"==n,o=S(e,i?\"left\":\"right\"),a=S(t-1,i?\"right\":\"left\"),l=null==y&&0==e,s=null==x&&t==k,c=0==r,u=!L||r==L.length-1;if(a.top-o.top<=3){var h=(N?s:l)&&u,f=(N?l:s)&&c?T:(i?o:a).left,d=h?M:(i?a:o).right;A(f,o.top,d-f,o.bottom)}else{var p,m,g,v;i?(p=N&&l&&c?T:o.left,m=N?M:C(e,n,\"before\"),g=N?T:C(t,n,\"after\"),v=N&&s&&u?M:a.right):(p=N?C(e,n,\"before\"):T,m=!N&&l&&c?M:o.right,g=!N&&s&&u?T:a.left,v=N?C(t,n,\"after\"):M),A(p,o.top,m-p,o.bottom),o.bottom<a.top&&A(T,o.bottom,null,a.top),A(g,a.top,v-g,a.bottom)}(!b||hr(o,b)<0)&&(b=o),hr(a,b)<0&&(b=a),(!w||hr(o,w)<0)&&(w=o),hr(a,w)<0&&(w=a)}),{start:b,end:w}}var s=e.from(),c=e.to();if(s.line==c.line)l(s.line,s.ch,c.ch);else{var u=se(r,s.line),h=se(r,c.line),f=je(u)==je(h),d=l(s.line,s.ch,f?u.text.length+1:null).end,p=l(c.line,f?0:null,c.ch).start;f&&(d.top<p.top-2?(A(d.right,d.top,null,d.bottom),A(T,p.top,p.left,p.bottom)):A(d.right,d.top,p.left-d.right,d.bottom)),d.bottom<p.top&&A(T,d.bottom,null,p.top)}t.appendChild(i)}function dr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility=\"\",0<e.options.cursorBlinkRate?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?\"\":\"hidden\"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility=\"hidden\")}}function pr(e){e.state.focused||(e.display.input.focus(),gr(e))}function mr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,vr(e))},100)}function gr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),\"nocursor\"!=e.options.readOnly&&(e.state.focused||(it(e,\"focus\",e,t),e.state.focused=!0,D(e.display.wrapper,\"CodeMirror-focused\"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),x&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),dr(e))}function vr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(it(e,\"blur\",e,t),e.state.focused=!1,T(e.display.wrapper,\"CodeMirror-focused\")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function yr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=void 0;if(!i.hidden){if(w&&k<8){var a=i.node.offsetTop+i.node.offsetHeight;o=a-n,n=a}else{var l=i.node.getBoundingClientRect();o=l.bottom-l.top}var s=i.line.height-o;if(o<2&&(o=er(t)),(.005<s||s<-.005)&&(he(i.line,o),xr(i.line),i.rest))for(var c=0;c<i.rest.length;c++)xr(i.rest[c])}}}function xr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function br(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-kn(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=de(t,r),a=de(t,i);if(n&&n.ensure){var l=n.ensure.from.line,s=n.ensure.to.line;l<o?a=de(t,Ve(se(t,o=l))+e.wrapper.clientHeight):Math.min(s,t.lastLine())>=a&&(o=de(t,Ve(se(t,s))-e.wrapper.clientHeight),a=s)}return{from:o,to:Math.max(a,o+1)}}function wr(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=rr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+\"px\",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var l=n[a].alignable;if(l)for(var s=0;s<l.length;s++)l[s].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+\"px\")}}function kr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=me(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(E(\"div\",[E(\"div\",n)],\"CodeMirror-linenumber CodeMirror-gutter-elt\")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width=\"\",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+\"px\",li(e),!0}return!1}function Sr(e,t){var n=e.display,r=er(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Mn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var l=e.doc.height+Sn(n),s=t.top<r,c=t.bottom>l-r;if(t.top<i)a.scrollTop=s?0:t.top;else if(t.bottom>i+o){var u=Math.min(t.top,(c?l:t.bottom)-o);u!=i&&(a.scrollTop=u)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,f=Tn(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),d=t.right-t.left>f;return d&&(t.right=t.left+f),t.left<10?a.scrollLeft=0:t.left<h?a.scrollLeft=Math.max(0,t.left-(d?0:10)):t.right>f+h-3&&(a.scrollLeft=t.right+(d?0:10)-f),a}function Cr(e,t){null!=t&&(Mr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Lr(e){Mr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Tr(e,t,n){null==t&&null==n||Mr(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Mr(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Nr(e,Vn(e,t.from),Vn(e,t.to),t.margin))}function Nr(e,t,n,r){var i=Sr(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Tr(e,i.scrollLeft,i.scrollTop)}function Ar(e,t){Math.abs(e.doc.scrollTop-t)<2||(m||ai(e,{top:t}),Er(e,t,!0),m&&ai(e),ti(e,100))}function Er(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Or(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,wr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Ir(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Sn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Ln(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Dr=function(e,t,n){this.cm=n;var r=this.vert=E(\"div\",[E(\"div\",null,null,\"min-width: 1px\")],\"CodeMirror-vscrollbar\"),i=this.horiz=E(\"div\",[E(\"div\",null,null,\"height: 100%; min-height: 1px\")],\"CodeMirror-hscrollbar\");r.tabIndex=i.tabIndex=-1,e(r),e(i),tt(r,\"scroll\",function(){r.clientHeight&&t(r.scrollTop,\"vertical\")}),tt(i,\"scroll\",function(){i.clientWidth&&t(i.scrollLeft,\"horizontal\")}),this.checkedZeroWidth=!1,w&&k<8&&(this.horiz.style.minHeight=this.vert.style.minWidth=\"18px\")};Dr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display=\"block\",this.vert.style.bottom=t?r+\"px\":\"0\";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+\"px\"}else this.vert.style.display=\"\",this.vert.firstChild.style.height=\"0\";if(t){this.horiz.style.display=\"block\",this.horiz.style.right=n?r+\"px\":\"0\",this.horiz.style.left=e.barLeft+\"px\";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+\"px\"}else this.horiz.style.display=\"\",this.horiz.firstChild.style.width=\"0\";return!this.checkedZeroWidth&&0<e.clientHeight&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Dr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,\"horiz\")},Dr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,\"vert\")},Dr.prototype.zeroWidthHack=function(){var e=b&&!l?\"12px\":\"18px\";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents=\"none\",this.disableHoriz=new z,this.disableVert=new z},Dr.prototype.enableZeroWidthBar=function(n,r,i){n.style.pointerEvents=\"auto\",r.set(1e3,function e(){var t=n.getBoundingClientRect();(\"vert\"==i?document.elementFromPoint(t.right-1,(t.top+t.bottom)/2):document.elementFromPoint((t.right+t.left)/2,t.bottom-1))!=n?n.style.pointerEvents=\"none\":r.set(1e3,e)})},Dr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Hr=function(){};function Rr(e,t){t||(t=Ir(e));var n=e.display.barWidth,r=e.display.barHeight;Br(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&yr(e),Br(e,Ir(e)),n=e.display.barWidth,r=e.display.barHeight}function Br(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+\"px\",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+\"px\",n.heightForcer.style.borderBottom=r.bottom+\"px solid transparent\",r.right&&r.bottom?(n.scrollbarFiller.style.display=\"block\",n.scrollbarFiller.style.height=r.bottom+\"px\",n.scrollbarFiller.style.width=r.right+\"px\"):n.scrollbarFiller.style.display=\"\",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display=\"block\",n.gutterFiller.style.height=r.bottom+\"px\",n.gutterFiller.style.width=t.gutterWidth+\"px\"):n.gutterFiller.style.display=\"\"}Hr.prototype.update=function(){return{bottom:0,right:0}},Hr.prototype.setScrollLeft=function(){},Hr.prototype.setScrollTop=function(){},Hr.prototype.clear=function(){};var Wr={native:Dr,null:Hr};function Fr(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&T(n.display.wrapper,n.display.scrollbars.addClass)),n.display.scrollbars=new Wr[n.options.scrollbarStyle](function(e){n.display.wrapper.insertBefore(e,n.display.scrollbarFiller),tt(e,\"mousedown\",function(){n.state.focused&&setTimeout(function(){return n.display.input.focus()},0)}),e.setAttribute(\"cm-not-content\",\"true\")},function(e,t){\"horizontal\"==t?Or(n,e):Ar(n,e)},n),n.display.scrollbars.addClass&&D(n.display.wrapper,n.display.scrollbars.addClass)}var zr=0;function Pr(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++zr},t=e.curOp,an?an.ops.push(t):t.ownsGroup=an={ops:[t],delayedCallbacks:[]}}function _r(e){!function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}(n)}finally{an=null,t(n)}}(e.curOp,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)jr(t[n]);for(var r=0;r<t.length;r++)(i=t[r]).updatedDisplay=i.mustUpdate&&ii(i.cm,i.update);var i;for(var o=0;o<t.length;o++)qr(t[o]);for(var a=0;a<t.length;a++)Ur(t[a]);for(var l=0;l<t.length;l++)$r(t[l])}(e)})}function jr(e){var t,n,r=e.cm,i=r.display;!(n=(t=r).display).scrollbarsClipped&&n.scroller.offsetWidth&&(n.nativeBarWidth=n.scroller.offsetWidth-n.scroller.clientWidth,n.heightForcer.style.height=Ln(t)+\"px\",n.sizer.style.marginBottom=-n.nativeBarWidth+\"px\",n.sizer.style.borderRightWidth=Ln(t)+\"px\",n.scrollbarsClipped=!0),e.updateMaxLine&&Ke(r),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&r.options.lineWrapping,e.update=e.mustUpdate&&new ri(r,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function qr(e){var t=e.cm,n=t.display;e.updatedDisplay&&yr(t),e.barMeasure=Ir(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=An(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Ln(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Tn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Ur(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+\"px\",e.maxScrollLeft<t.doc.scrollLeft&&Or(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==I();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Rr(t,e.barMeasure),e.updatedDisplay&&si(t,e.barMeasure),e.selectionChanged&&dr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&pr(e.cm)}function $r(e){var t=e.cm,n=t.display,r=t.doc;(e.updatedDisplay&&oi(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Er(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Or(t,e.scrollLeft,!0,!0),e.scrollToPos)&&function(e,t){if(!ot(e,\"scrollCursorIntoView\")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!c){var o=E(\"div\",\"\",null,\"position: absolute;\\n                         top: \"+(t.top-n.viewOffset-kn(e.display))+\"px;\\n                         height: \"+(t.bottom-t.top+Ln(e)+n.barHeight)+\"px;\\n                         left: \"+t.left+\"px; width: \"+Math.max(2,t.right-t.left)+\"px;\");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n=\"before\"==(t=t.ch?ge(t.line,\"before\"==t.sticky?t.ch-1:t.ch,\"after\"):t).sticky?ge(t.line,t.ch+1,\"before\"):t);for(var o=0;o<5;o++){var a=!1,l=Gn(e,t),s=n&&n!=t?Gn(e,n):l,c=Sr(e,i={left:Math.min(l.left,s.left),top:Math.min(l.top,s.top)-r,right:Math.max(l.left,s.left),bottom:Math.max(l.bottom,s.bottom)+r}),u=e.doc.scrollTop,h=e.doc.scrollLeft;if(null!=c.scrollTop&&(Ar(e,c.scrollTop),1<Math.abs(e.doc.scrollTop-u)&&(a=!0)),null!=c.scrollLeft&&(Or(e,c.scrollLeft),1<Math.abs(e.doc.scrollLeft-h)&&(a=!0)),!a)break}return i}(t,Se(r,e.scrollToPos.from),Se(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||it(i[a],\"hide\");if(o)for(var l=0;l<o.length;++l)o[l].lines.length&&it(o[l],\"unhide\");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&it(t,\"changes\",t,e.changeObjs),e.update&&e.update.finish()}function Gr(e,t){if(e.curOp)return t();Pr(e);try{return t()}finally{_r(e)}}function Vr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Pr(e);try{return t.apply(e,arguments)}finally{_r(e)}}}function Xr(e){return function(){if(this.curOp)return e.apply(this,arguments);Pr(this);try{return e.apply(this,arguments)}finally{_r(this)}}}function Kr(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Pr(e);try{return t.apply(this,arguments)}finally{_r(e)}}}function Yr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Te&&qe(e.doc,t)<i.viewTo&&Jr(e);else if(n<=i.viewFrom)Te&&Ue(e.doc,n+r)>i.viewFrom?Jr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Jr(e);else if(t<=i.viewFrom){var o=Qr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Jr(e)}else if(n>=i.viewTo){var a=Qr(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):Jr(e)}else{var l=Qr(e,t,t,-1),s=Qr(e,n,n+r,1);l&&s?(i.view=i.view.slice(0,l.index).concat(on(e,l.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):Jr(e)}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(i.externalMeasured=null))}function Zr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[lr(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==P(a,n)&&a.push(n)}}}function Jr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Qr(e,t,n,r){var i,o=lr(e,t),a=e.display.view;if(!Te||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var l=e.display.viewFrom,s=0;s<o;s++)l+=a[s].size;if(l!=t){if(0<r){if(o==a.length-1)return null;i=l+a[o].size-t,o++}else i=l-t;t+=i,n+=i}for(;qe(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function ei(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function ti(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,B(ni,e))}function ni(s){var c=s.doc;if(!(c.highlightFrontier>=s.display.viewTo)){var u=+new Date+s.options.workTime,h=zt(s,c.highlightFrontier),f=[];c.iter(h.line,Math.min(c.first+c.size,s.display.viewTo+500),function(e){if(h.line>=s.display.viewFrom){var t=e.styles,n=e.text.length>s.options.maxHighlightLength?Ot(c.mode,h.state):null,r=Wt(s,e,h,!0);n&&(h.state=n),e.styles=r.styles;var i=e.styleClasses,o=r.classes;o?e.styleClasses=o:i&&(e.styleClasses=null);for(var a=!t||t.length!=e.styles.length||i!=o&&(!i||!o||i.bgClass!=o.bgClass||i.textClass!=o.textClass),l=0;!a&&l<t.length;++l)a=t[l]!=e.styles[l];a&&f.push(h.line),e.stateAfter=h.save(),h.nextLine()}else e.text.length<=s.options.maxHighlightLength&&Pt(s,e.text,h),e.stateAfter=h.line%5==0?h.save():null,h.nextLine();if(+new Date>u)return ti(s,s.options.workDelay),!0}),c.highlightFrontier=h.line,c.modeFrontier=Math.max(c.modeFrontier,h.line),f.length&&Gr(s,function(){for(var e=0;e<f.length;e++)Zr(s,f[e],\"text\")})}}var ri=function(e,t,n){var r=e.display;this.viewport=t,this.visible=br(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Tn(e),this.force=n,this.dims=nr(e),this.events=[]};function ii(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Jr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==ei(e))return!1;kr(e)&&(Jr(e),t.dims=nr(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),Te&&(o=qe(e.doc,o),a=Ue(e.doc,a));var l,s,c,u,h=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;s=o,c=a,0==(u=(l=e).display).view.length||s>=u.viewTo||c<=u.viewFrom?(u.view=on(l,s,c),u.viewFrom=s):(u.viewFrom>s?u.view=on(l,s,u.viewFrom).concat(u.view):u.viewFrom<s&&(u.view=u.view.slice(lr(l,s))),u.viewFrom=s,u.viewTo<c?u.view=u.view.concat(on(l,u.viewTo,c)):u.viewTo>c&&(u.view=u.view.slice(0,lr(l,c)))),u.viewTo=c,n.viewOffset=Ve(se(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+\"px\";var f=ei(e);if(!h&&0==f&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var d=function(e){if(e.hasFocus())return null;var t=I();if(!t||!O(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&O(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(e);return 4<f&&(n.lineDiv.style.display=\"none\"),function(n,e,t){var r=n.display,i=n.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function l(e){var t=e.nextSibling;return x&&b&&n.display.currentWheelTarget==e?e.style.display=\"none\":e.parentNode.removeChild(e),t}for(var s=r.view,c=r.viewFrom,u=0;u<s.length;u++){var h=s[u];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;a!=h.node;)a=l(a);var f=i&&null!=e&&e<=c&&h.lineNumber;h.changes&&(-1<P(h.changes,\"gutter\")&&(f=!1),un(n,h,c,t)),f&&(M(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(me(n.options,c)))),a=h.node.nextSibling}else{var d=(g=c,v=t,void 0,y=fn(p=n,m=h),m.text=m.node=y.pre,y.bgClass&&(m.bgClass=y.bgClass),y.textClass&&(m.textClass=y.textClass),pn(p,m),mn(p,m,g,v),vn(p,m,v),m.node);o.insertBefore(d,a)}c+=h.size}var p,m,g,v,y;for(;a;)a=l(a)}(e,n.updateLineNumbers,t.dims),4<f&&(n.lineDiv.style.display=\"\"),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=I()&&(e.activeElt.focus(),e.anchorNode&&O(document.body,e.anchorNode)&&O(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(d),M(n.cursorDiv),M(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,h&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ti(e,400)),!(n.updateLineNumbers=null)}function oi(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Tn(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Sn(e.display)-Mn(e),n.top)}),t.visible=br(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&ii(e,t);r=!1){yr(e);var i=Ir(e);sr(e),Rr(e,i),si(e,i),t.force=!1}t.signal(e,\"update\",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,\"viewportChange\",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function ai(e,t){var n=new ri(e,t);if(ii(e,n)){yr(e),oi(e,n);var r=Ir(e);sr(e),Rr(e,r),si(e,r),n.finish()}}function li(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+\"px\"}function si(e,t){e.display.sizer.style.minHeight=t.docHeight+\"px\",e.display.heightForcer.style.top=t.docHeight+\"px\",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Ln(e)+\"px\"}function ci(e){var t=e.display.gutters,n=e.options.gutters;M(t);for(var r=0;r<n.length;++r){var i=n[r],o=t.appendChild(E(\"div\",null,\"CodeMirror-gutter \"+i));\"CodeMirror-linenumbers\"==i&&((e.display.lineGutter=o).style.width=(e.display.lineNumWidth||1)+\"px\")}t.style.display=r?\"\":\"none\",li(e)}function ui(e){var t=P(e.gutters,\"CodeMirror-linenumbers\");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat([\"CodeMirror-linenumbers\"]):-1<t&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}ri.prototype.signal=function(e,t){lt(e,t)&&this.events.push(arguments)},ri.prototype.finish=function(){for(var e=0;e<this.events.length;e++)it.apply(null,this.events[e])};var hi=0,fi=null;function di(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function pi(e){var t=di(e);return t.x*=fi,t.y*=fi,t}function mi(e,t){var n=di(t),r=n.x,i=n.y,o=e.display,a=o.scroller,l=a.scrollWidth>a.clientWidth,s=a.scrollHeight>a.clientHeight;if(r&&l||i&&s){if(i&&b&&x)e:for(var c=t.target,u=o.view;c!=a;c=c.parentNode)for(var h=0;h<u.length;h++)if(u[h].node==c){e.display.currentWheelTarget=c;break e}if(r&&!m&&!g&&null!=fi)return i&&s&&Ar(e,Math.max(0,a.scrollTop+i*fi)),Or(e,Math.max(0,a.scrollLeft+r*fi)),(!i||i&&s)&&ct(t),void(o.wheelStartX=null);if(i&&null!=fi){var f=i*fi,d=e.doc.scrollTop,p=d+o.wrapper.clientHeight;f<0?d=Math.max(0,d+f-50):p=Math.min(e.doc.height,p+f+50),ai(e,{top:d,bottom:p})}hi<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(fi=(fi*hi+n)/(hi+1),++hi)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}w?fi=-.53:m?fi=15:a?fi=-.7:s&&(fi=-1/3);var gi=function(e,t){this.ranges=e,this.primIndex=t};gi.prototype.primary=function(){return this.ranges[this.primIndex]},gi.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!ye(n.anchor,r.anchor)||!ye(n.head,r.head))return!1}return!0},gi.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new vi(xe(this.ranges[t].anchor),xe(this.ranges[t].head));return new gi(e,this.primIndex)},gi.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},gi.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(0<=ve(t,r.from())&&ve(e,r.to())<=0)return n}return-1};var vi=function(e,t){this.anchor=e,this.head=t};function yi(e,t){var n=e[t];e.sort(function(e,t){return ve(e.from(),t.from())}),t=P(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(0<=ve(o.to(),i.from())){var a=we(o.from(),i.from()),l=be(o.to(),i.to()),s=o.empty()?i.from()==i.head:o.from()==o.head;r<=t&&--t,e.splice(--r,2,new vi(s?l:a,s?a:l))}}return new gi(e,t)}function xi(e,t){return new gi([new vi(e,t||e)],0)}function bi(e){return e.text?ge(e.from.line+e.text.length-1,K(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function wi(e,t){if(ve(e,t.from)<0)return e;if(ve(e,t.to)<=0)return bi(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=bi(t).ch-t.to.ch),ge(n,r)}function ki(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new vi(wi(i.anchor,t),wi(i.head,t)))}return yi(n,e.sel.primIndex)}function Si(e,t,n){return e.line==t.line?ge(n.line,e.ch-t.ch+n.ch):ge(n.line+(e.line-t.line),e.ch)}function Ci(e){e.doc.mode=Nt(e.options,e.doc.modeOption),Li(e)}function Li(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ti(e,100),e.state.modeGen++,e.curOp&&Yr(e)}function Ti(e,t){return 0==t.from.ch&&0==t.to.ch&&\"\"==K(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Mi(e,r,t,i){function o(e){return t?t[e]:null}function n(e,t,n){!function(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ie(e),De(e,n);var i=r?r(e):1;i!=e.height&&he(e,i)}(e,t,n,i),sn(e,\"change\",e,r)}function a(e,t){for(var n=[],r=e;r<t;++r)n.push(new Vt(c[r],o(r),i));return n}var l=r.from,s=r.to,c=r.text,u=se(e,l.line),h=se(e,s.line),f=K(c),d=o(c.length-1),p=s.line-l.line;if(r.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(Ti(e,r)){var m=a(0,c.length-1);n(h,h.text,d),p&&e.remove(l.line,p),m.length&&e.insert(l.line,m)}else if(u==h)if(1==c.length)n(u,u.text.slice(0,l.ch)+f+u.text.slice(s.ch),d);else{var g=a(1,c.length-1);g.push(new Vt(f+u.text.slice(s.ch),d,i)),n(u,u.text.slice(0,l.ch)+c[0],o(0)),e.insert(l.line+1,g)}else if(1==c.length)n(u,u.text.slice(0,l.ch)+c[0]+h.text.slice(s.ch),o(0)),e.remove(l.line+1,p);else{n(u,u.text.slice(0,l.ch)+c[0],o(0)),n(h,f+h.text.slice(s.ch),d);var v=a(1,c.length-1);1<p&&e.remove(l.line+1,p-1),e.insert(l.line+1,v)}sn(e,\"change\",e,r)}function Ni(e,l,s){!function e(t,n,r){if(t.linked)for(var i=0;i<t.linked.length;++i){var o=t.linked[i];if(o.doc!=n){var a=r&&o.sharedHist;s&&!a||(l(o.doc,a),e(o.doc,t,a))}}}(e,null,!0)}function Ai(e,t){if(t.cm)throw new Error(\"This document is already in use.\");or((e.doc=t).cm=e),Ci(e),Ei(e),e.options.lineWrapping||Ke(e),e.options.mode=t.modeOption,Yr(e)}function Ei(e){(\"rtl\"==e.doc.direction?D:T)(e.display.lineDiv,\"CodeMirror-rtl\")}function Oi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Ii(e,t){var n={from:xe(t.from),to:bi(t),text:ce(e,t.from,t.to)};return Wi(e,n,t.from.line,t.to.line+1),Ni(e,function(e){return Wi(e,n,t.from.line,t.to.line+1)},!0),n}function Di(e){for(;e.length;){if(!K(e).ranges)break;e.pop()}}function Hi(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,l,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&(\"+\"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||\"*\"==t.origin.charAt(0)))&&(o=(l=i).lastOp==r?(Di(l.done),K(l.done)):l.done.length&&!K(l.done).ranges?K(l.done):1<l.done.length&&!l.done[l.done.length-2].ranges?(l.done.pop(),K(l.done)):void 0))a=K(o.changes),0==ve(t.from,t.to)&&0==ve(t.from,a.to)?a.to=bi(t):o.changes.push(Ii(e,t));else{var c=K(i.done);for(c&&c.ranges||Bi(e.sel,i.done),o={changes:[Ii(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||it(e,\"historyAdded\")}function Ri(e,t,n,r){var i,o,a,l,s,c=e.history,u=r&&r.origin;n==c.lastSelOp||u&&c.lastSelOrigin==u&&(c.lastModTime==c.lastSelTime&&c.lastOrigin==u||(i=e,o=u,a=K(c.done),l=t,\"*\"==(s=o.charAt(0))||\"+\"==s&&a.ranges.length==l.ranges.length&&a.somethingSelected()==l.somethingSelected()&&new Date-i.history.lastSelTime<=(i.cm?i.cm.options.historyEventDelay:500)))?c.done[c.done.length-1]=t:Bi(t,c.done),c.lastSelTime=+new Date,c.lastSelOrigin=u,c.lastSelOp=n,r&&!1!==r.clearRedo&&Di(c.undone)}function Bi(e,t){var n=K(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Wi(t,n,e,r){var i=n[\"spans_\"+t.id],o=0;t.iter(Math.max(t.first,e),Math.min(t.first+t.size,r),function(e){e.markedSpans&&((i||(i=n[\"spans_\"+t.id]={}))[o]=e.markedSpans),++o})}function Fi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function zi(e,t){var n=function(e,t){var n=t[\"spans_\"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Fi(n[i]));return r}(e,t),r=Ee(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var l=0;l<a.length;++l){for(var s=a[l],c=0;c<o.length;++c)if(o[c].marker==s.marker)continue e;o.push(s)}else a&&(n[i]=a)}return n}function Pi(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?gi.prototype.deepCopy.call(o):o);else{var a=o.changes,l=[];r.push({changes:l});for(var s=0;s<a.length;++s){var c=a[s],u=void 0;if(l.push({from:c.from,to:c.to,text:c.text}),t)for(var h in c)(u=h.match(/^spans_(\\d+)$/))&&-1<P(t,Number(u[1]))&&(K(l)[h]=c[h],delete c[h])}}}return r}function _i(e,t,n,r){if(r){var i=e.anchor;if(n){var o=ve(t,i)<0;o!=ve(n,i)<0?(i=t,t=n):o!=ve(t,n)<0&&(t=n)}return new vi(i,t)}return new vi(n||t,t)}function ji(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Vi(e,new gi([_i(e.sel.primary(),t,n,i)],0),r)}function qi(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=_i(e.sel.ranges[o],t[o],null,i);Vi(e,yi(r,e.sel.primIndex),n)}function Ui(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Vi(e,yi(i,e.sel.primIndex),r)}function $i(e,t,n,r){Vi(e,xi(t,n),r)}function Gi(e,t,n){var r=e.history.done,i=K(r);i&&i.ranges?Xi(e,r[r.length-1]=t,n):Vi(e,t,n)}function Vi(e,t,n){Xi(e,t,n),Ri(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Xi(e,t,n){var r,i,o,a;(lt(e,\"beforeSelectionChange\")||e.cm&&lt(e.cm,\"beforeSelectionChange\"))&&(r=e,o=n,a={ranges:(i=t).ranges,update:function(e){this.ranges=[];for(var t=0;t<e.length;t++)this.ranges[t]=new vi(Se(r,e[t].anchor),Se(r,e[t].head))},origin:o&&o.origin},it(r,\"beforeSelectionChange\",r,a),r.cm&&it(r.cm,\"beforeSelectionChange\",r.cm,a),t=a.ranges!=i.ranges?yi(a.ranges,a.ranges.length-1):i),Ki(e,Zi(e,t,n&&n.bias||(ve(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||Lr(e.cm)}function Ki(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,at(e.cm)),sn(e,\"cursorActivity\",e))}function Yi(e){Ki(e,Zi(e,e.sel,null,!1))}function Zi(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],l=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],s=Qi(e,a.anchor,l&&l.anchor,n,r),c=Qi(e,a.head,l&&l.head,n,r);(i||s!=a.anchor||c!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new vi(s,c))}return i?yi(i,t.primIndex):t}function Ji(e,t,n,r,i){var o=se(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var l=o.markedSpans[a],s=l.marker;if((null==l.from||(s.inclusiveLeft?l.from<=t.ch:l.from<t.ch))&&(null==l.to||(s.inclusiveRight?l.to>=t.ch:l.to>t.ch))){if(i&&(it(s,\"beforeCursorEnter\"),s.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!s.atomic)continue;if(n){var c=s.find(r<0?1:-1),u=void 0;if((r<0?s.inclusiveRight:s.inclusiveLeft)&&(c=eo(e,c,-r,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=ve(c,n))&&(r<0?u<0:0<u))return Ji(e,c,t,r,i)}var h=s.find(r<0?-1:1);return(r<0?s.inclusiveLeft:s.inclusiveRight)&&(h=eo(e,h,r,h.line==t.line?o:null)),h?Ji(e,h,t,r,i):null}}return t}function Qi(e,t,n,r,i){var o=r||1,a=Ji(e,t,n,o,i)||!i&&Ji(e,t,n,o,!0)||Ji(e,t,n,-o,i)||!i&&Ji(e,t,n,-o,!0);return a||(e.cantEdit=!0,ge(e.first,0))}function eo(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?Se(e,ge(t.line-1)):null:0<n&&t.ch==(r||se(e,t.line)).text.length?t.line<e.first+e.size-1?ge(t.line+1,0):null:new ge(t.line,t.ch+n)}function to(e){e.setSelection(ge(e.firstLine(),0),ge(e.lastLine()),q)}function no(i,e,t){var o={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return o.canceled=!0}};return t&&(o.update=function(e,t,n,r){e&&(o.from=Se(i,e)),t&&(o.to=Se(i,t)),n&&(o.text=n),void 0!==r&&(o.origin=r)}),it(i,\"beforeChange\",i,o),i.cm&&it(i.cm,\"beforeChange\",i.cm,o),o.canceled?null:{from:o.from,to:o.to,text:o.text,origin:o.origin}}function ro(e,t,n){if(e.cm){if(!e.cm.curOp)return Vr(e.cm,ro)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(lt(e,\"beforeChange\")||e.cm&&lt(e.cm,\"beforeChange\"))||(t=no(e,t,!0))){var r=Le&&!n&&function(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=P(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],l=a.find(0),s=0;s<i.length;++s){var c=i[s];if(!(ve(c.to,l.from)<0||0<ve(c.from,l.to))){var u=[s,1],h=ve(c.from,l.from),f=ve(c.to,l.to);(h<0||!a.inclusiveLeft&&!h)&&u.push({from:c.from,to:l.from}),(0<f||!a.inclusiveRight&&!f)&&u.push({from:l.to,to:c.to}),i.splice.apply(i,u),s+=u.length-3}}return i}(e,t.from,t.to);if(r)for(var i=r.length-1;0<=i;--i)io(e,{from:r[i].from,to:r[i].to,text:i?[\"\"]:t.text,origin:t.origin});else io(e,t)}}function io(e,n){if(1!=n.text.length||\"\"!=n.text[0]||0!=ve(n.from,n.to)){var t=ki(e,n);Hi(e,n,t,e.cm?e.cm.curOp.id:NaN),lo(e,n,t,Ee(e,n));var r=[];Ni(e,function(e,t){t||-1!=P(r,e.history)||(ho(e.history,n),r.push(e.history)),lo(e,n,null,Ee(e,n))})}}function oo(i,o,e){var t=i.cm&&i.cm.state.suppressEdits;if(!t||e){for(var a,n=i.history,r=i.sel,l=\"undo\"==o?n.done:n.undone,s=\"undo\"==o?n.undone:n.done,c=0;c<l.length&&(a=l[c],e?!a.ranges||a.equals(i.sel):a.ranges);c++);if(c!=l.length){for(n.lastOrigin=n.lastSelOrigin=null;;){if(!(a=l.pop()).ranges){if(t)return void l.push(a);break}if(Bi(a,s),e&&!a.equals(i.sel))return void Vi(i,a,{clearRedo:!1});r=a}var u=[];Bi(r,s),s.push({changes:u,generation:n.generation}),n.generation=a.generation||++n.maxGeneration;for(var h=lt(i,\"beforeChange\")||i.cm&&lt(i.cm,\"beforeChange\"),f=function(e){var n=a.changes[e];if(n.origin=o,h&&!no(i,n,!1))return l.length=0,{};u.push(Ii(i,n));var t=e?ki(i,n):K(l);lo(i,n,t,zi(i,n)),!e&&i.cm&&i.cm.scrollIntoView({from:n.from,to:bi(n)});var r=[];Ni(i,function(e,t){t||-1!=P(r,e.history)||(ho(e.history,n),r.push(e.history)),lo(e,n,null,zi(e,n))})},d=a.changes.length-1;0<=d;--d){var p=f(d);if(p)return p.v}}}}function ao(e,t){if(0!=t&&(e.first+=t,e.sel=new gi(Y(e.sel.ranges,function(e){return new vi(ge(e.anchor.line+t,e.anchor.ch),ge(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Yr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Zr(e.cm,r,\"gutter\")}}function lo(e,t,n,r){if(e.cm&&!e.cm.curOp)return Vr(e.cm,lo)(e,t,n,r);if(t.to.line<e.first)ao(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ao(e,i),t={from:ge(e.first,0),to:ge(t.to.line+i,t.to.ch),text:[K(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ge(o,se(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ce(e,t.from,t.to),n||(n=ki(e,t)),e.cm?function(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,l=!1,s=o.line;e.options.lineWrapping||(s=fe(je(se(r,o.line))),r.iter(s,a.line+1,function(e){if(e==i.maxLine)return l=!0}));-1<r.sel.contains(t.from,t.to)&&at(e);Mi(r,t,n,ir(e)),e.options.lineWrapping||(r.iter(s,o.line+t.text.length,function(e){var t=Xe(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0));(function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;n<r;r--){var i=se(e,r).stateAfter;if(i&&(!(i instanceof Rt)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}})(r,o.line),ti(e,400);var c=t.text.length-(a.line-o.line)-1;t.full?Yr(e):o.line!=a.line||1!=t.text.length||Ti(e.doc,t)?Yr(e,o.line,a.line+1,c):Zr(e,o.line,\"text\");var u=lt(e,\"changes\"),h=lt(e,\"change\");if(h||u){var f={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};h&&sn(e,\"change\",e,f),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}(e.cm,t,r):Mi(e,t,r),Xi(e,n,q)}}function so(e,t,n,r,i){var o;(r||(r=n),ve(r,n)<0)&&(n=(o=[r,n])[0],r=o[1]);\"string\"==typeof t&&(t=e.splitLines(t)),ro(e,{from:n,to:r,text:t,origin:i})}function co(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function uo(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var l=0;l<o.ranges.length;l++)co(o.ranges[l].anchor,t,n,r),co(o.ranges[l].head,t,n,r)}else{for(var s=0;s<o.changes.length;++s){var c=o.changes[s];if(n<c.from.line)c.from=ge(c.from.line+r,c.from.ch),c.to=ge(c.to.line+r,c.to.ch);else if(t<=c.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function ho(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;uo(e.done,n,r,i),uo(e.undone,n,r,i)}function fo(e,t,n,r){var i=t,o=t;return\"number\"==typeof t?o=se(e,ke(e,t)):i=fe(t),null==i?null:(r(o,i)&&e.cm&&Zr(e.cm,i,n),o)}function po(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function mo(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}vi.prototype.from=function(){return we(this.anchor,this.head)},vi.prototype.to=function(){return be(this.anchor,this.head)},vi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},po.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n,r=e,i=e+t;r<i;++r){var o=this.lines[r];this.height-=o.height,(n=o).parent=null,Ie(n),sn(o,\"delete\")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},mo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(1<this.children.length||!(this.children[0]instanceof po))){var l=[];this.collapse(l),this.children=[new po(l)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&50<i.lines.length){for(var a=i.lines.length%25+25,l=a;l<i.lines.length;){var s=new po(i.lines.slice(l,l+=25));i.height-=s.height,this.children.splice(++r,0,s),s.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new mo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=P(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new mo(e.children);(r.parent=e).children=[r,t],e=r}t.parent=e.parent}while(10<e.children.length);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var go=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function vo(e,t,n){Ve(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Cr(e,n)}go.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=fe(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=bn(this);he(n,Math.max(0,n.height-o)),e&&(Gr(e,function(){vo(e,n,-o),Zr(e,r,\"widget\")}),sn(e,\"lineWidgetCleared\",e,this,r))}},go.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=bn(this)-t;i&&(he(r,r.height+i),n&&Gr(n,function(){n.curOp.forceUpdate=!0,vo(n,r,i),sn(n,\"lineWidgetChanged\",n,e,fe(r))}))},st(go);var yo=0,xo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++yo};function bo(t,r,i,e,n){if(e&&e.shared)return function(e,n,r,i,o){(i=W(i)).shared=!1;var a=[bo(e,n,r,i,o)],l=a[0],s=i.widgetNode;return Ni(e,function(e){s&&(i.widgetNode=s.cloneNode(!0)),a.push(bo(e,Se(e,n),Se(e,r),i,o));for(var t=0;t<e.linked.length;++t)if(e.linked[t].isParent)return;l=K(a)}),new wo(a,l)}(t,r,i,e,n);if(t.cm&&!t.cm.curOp)return Vr(t.cm,bo)(t,r,i,e,n);var o=new xo(t,n),a=ve(r,i);if(e&&W(e,o,!1),0<a||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=A(\"span\",[o.replacedWith],\"CodeMirror-widget\"),e.handleMouseEvents||o.widgetNode.setAttribute(\"cm-ignore-events\",\"true\"),e.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(_e(t,r.line,r,i,o)||r.line!=i.line&&_e(t,i.line,r,i,o))throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");Te=!0}o.addToHistory&&Hi(t,{from:r,to:i,origin:\"markText\"},t.sel,NaN);var l,s=r.line,c=t.cm;if(t.iter(s,i.line+1,function(e){var t,n;c&&o.collapsed&&!c.options.lineWrapping&&je(e)==c.display.maxLine&&(l=!0),o.collapsed&&s!=r.line&&he(e,0),t=e,n=new Me(o,s==r.line?r.ch:null,s==i.line?i.ch:null),t.markedSpans=t.markedSpans?t.markedSpans.concat([n]):[n],n.marker.attachLine(t),++s}),o.collapsed&&t.iter(r.line,i.line+1,function(e){$e(t,e)&&he(e,0)}),o.clearOnEnter&&tt(o,\"beforeCursorEnter\",function(){return o.clear()}),o.readOnly&&(Le=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++yo,o.atomic=!0),c){if(l&&(c.curOp.updateMaxLine=!0),o.collapsed)Yr(c,r.line,i.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=r.line;u<=i.line;u++)Zr(c,u,\"text\");o.atomic&&Yi(c.doc),sn(c,\"markerAdded\",c,o)}return o}xo.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&Pr(t),lt(this,\"clear\")){var r=this.find();r&&sn(this,\"clear\",r.from,r.to)}for(var i=null,o=null,a=0;a<this.lines.length;++a){var l=e.lines[a],s=Ne(l.markedSpans,e);t&&!e.collapsed?Zr(t,fe(l),\"text\"):t&&(null!=s.to&&(o=fe(l)),null!=s.from&&(i=fe(l))),l.markedSpans=Ae(l.markedSpans,s),null==s.from&&e.collapsed&&!$e(e.doc,l)&&t&&he(l,er(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var u=je(e.lines[c]),h=Xe(u);h>t.display.maxLineLength&&(t.display.maxLine=u,t.display.maxLineLength=h,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&Yr(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Yi(t.doc)),t&&sn(t,\"markerCleared\",t,this,i,o),n&&_r(t),this.parent&&this.parent.clear()}},xo.prototype.find=function(e,t){var n,r;null==e&&\"bookmark\"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Ne(o.markedSpans,this);if(null!=a.from&&(n=ge(t?o:fe(o),a.from),-1==e))return n;if(null!=a.to&&(r=ge(t?o:fe(o),a.to),1==e))return r}return n&&{from:n,to:r}},xo.prototype.changed=function(){var o=this,a=this.find(-1,!0),l=this,s=this.doc.cm;a&&s&&Gr(s,function(){var e=a.line,t=fe(a.line),n=En(s,t);if(n&&(Wn(n),s.curOp.selectionChanged=s.curOp.forceUpdate=!0),s.curOp.updateMaxLine=!0,!$e(l.doc,e)&&null!=l.height){var r=l.height;l.height=null;var i=bn(l)-r;i&&he(e,e.height+i)}sn(s,\"markerChanged\",s,o)})},xo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=P(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},xo.prototype.detachLine=function(e){if(this.lines.splice(P(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},st(xo);var wo=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function ko(e){return e.findMarks(ge(e.first,0),e.clipPos(ge(e.lastLine())),function(e){return e.parent})}function So(o){for(var e=function(e){var t=o[e],n=[t.primary.doc];Ni(t.primary.doc,function(e){return n.push(e)});for(var r=0;r<t.markers.length;r++){var i=t.markers[r];-1==P(n,i.doc)&&(i.parent=null,t.markers.splice(r--,1))}},t=0;t<o.length;t++)e(t)}wo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();sn(this,\"clear\")}},wo.prototype.find=function(e,t){return this.primary.find(e,t)},st(wo);var Co=0,Lo=function(e,t,n,r,i){if(!(this instanceof Lo))return new Lo(e,t,n,r,i);null==n&&(n=0),mo.call(this,[new po([new Vt(\"\",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=ge(n,0);this.sel=xi(o),this.history=new Oi(null),this.id=++Co,this.modeOption=t,this.lineSep=r,this.direction=\"rtl\"==i?\"rtl\":\"ltr\",this.extend=!1,\"string\"==typeof e&&(e=this.splitLines(e)),Mi(this,{from:o,to:o,text:e}),Vi(this,xi(o),q)};Lo.prototype=J(mo.prototype,{constructor:Lo,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ue(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Kr(function(e){var t=ge(this.first,0),n=this.first+this.size-1;ro(this,{from:t,to:ge(n,se(this,n).text.length),text:this.splitLines(e),origin:\"setValue\",full:!0},!0),this.cm&&Tr(this.cm,0,0),Vi(this,xi(t),q)}),replaceRange:function(e,t,n,r){so(this,e,t=Se(this,t),n=n?Se(this,n):t,r)},getRange:function(e,t,n){var r=ce(this,Se(this,e),Se(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(pe(this,e))return se(this,e)},getLineNumber:function(e){return fe(e)},getLineHandleVisualStart:function(e){return\"number\"==typeof e&&(e=se(this,e)),je(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Se(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||\"head\"==e?t.head:\"anchor\"==e?t.anchor:\"end\"==e||\"to\"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Kr(function(e,t,n){$i(this,Se(this,\"number\"==typeof e?ge(e,t||0):e),null,n)}),setSelection:Kr(function(e,t,n){$i(this,Se(this,e),Se(this,t||e),n)}),extendSelection:Kr(function(e,t,n){ji(this,Se(this,e),t&&Se(this,t),n)}),extendSelections:Kr(function(e,t){qi(this,Ce(this,e),t)}),extendSelectionsBy:Kr(function(e,t){qi(this,Ce(this,Y(this.sel.ranges,e)),t)}),setSelections:Kr(function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new vi(Se(this,e[i].anchor),Se(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Vi(this,yi(r,t),n)}}),addSelection:Kr(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new vi(Se(this,e),Se(this,t||e))),Vi(this,yi(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=ce(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=ce(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||\"+input\")},replaceSelections:Kr(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var l=t&&\"end\"!=t&&function(e,t,n){for(var r=[],i=ge(e.first,0),o=i,a=0;a<t.length;a++){var l=t[a],s=Si(l.from,i,o),c=Si(bi(l),i,o);if(i=l.to,o=c,\"around\"==n){var u=e.sel.ranges[a],h=ve(u.head,u.anchor)<0;r[a]=new vi(h?c:s,h?s:c)}else r[a]=new vi(s,s)}return new gi(r,e.sel.primIndex)}(this,r,t),s=r.length-1;0<=s;s--)ro(this,r[s]);l?Gi(this,l):this.cm&&Lr(this.cm)}),undo:Kr(function(){oo(this,\"undo\")}),redo:Kr(function(){oo(this,\"redo\")}),undoSelection:Kr(function(){oo(this,\"undo\",!0)}),redoSelection:Kr(function(){oo(this,\"redo\",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Oi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Pi(this.history.done),undone:Pi(this.history.undone)}},setHistory:function(e){var t=this.history=new Oi(this.history.maxGeneration);t.done=Pi(e.done.slice(0),null,!0),t.undone=Pi(e.undone.slice(0),null,!0)},setGutterMarker:Kr(function(e,n,r){return fo(this,e,\"gutter\",function(e){var t=e.gutterMarkers||(e.gutterMarkers={});return!(t[n]=r)&&ne(t)&&(e.gutterMarkers=null),!0})}),clearGutter:Kr(function(t){var n=this;this.iter(function(e){e.gutterMarkers&&e.gutterMarkers[t]&&fo(n,e,\"gutter\",function(){return e.gutterMarkers[t]=null,ne(e.gutterMarkers)&&(e.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(\"number\"==typeof e){if(!pe(this,e))return null;if(!(e=se(this,t=e)))return null}else if(null==(t=fe(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Kr(function(e,n,r){return fo(this,e,\"gutter\"==n?\"gutter\":\"class\",function(e){var t=\"text\"==n?\"textClass\":\"background\"==n?\"bgClass\":\"gutter\"==n?\"gutterClass\":\"wrapClass\";if(e[t]){if(C(r).test(e[t]))return!1;e[t]+=\" \"+r}else e[t]=r;return!0})}),removeLineClass:Kr(function(e,o,a){return fo(this,e,\"gutter\"==o?\"gutter\":\"class\",function(e){var t=\"text\"==o?\"textClass\":\"background\"==o?\"bgClass\":\"gutter\"==o?\"gutterClass\":\"wrapClass\",n=e[t];if(!n)return!1;if(null==a)e[t]=null;else{var r=n.match(C(a));if(!r)return!1;var i=r.index+r[0].length;e[t]=n.slice(0,r.index)+(r.index&&i!=n.length?\" \":\"\")+n.slice(i)||null}return!0})}),addLineWidget:Kr(function(e,t,n){return i=e,o=new go(r=this,t,n),(a=r.cm)&&o.noHScroll&&(a.display.alignWidgets=!0),fo(r,i,\"widget\",function(e){var t=e.widgets||(e.widgets=[]);if(null==o.insertAt?t.push(o):t.splice(Math.min(t.length-1,Math.max(0,o.insertAt)),0,o),o.line=e,a&&!$e(r,e)){var n=Ve(e)<r.scrollTop;he(e,e.height+bn(o)),n&&Cr(a,o.height),a.curOp.forceUpdate=!0}return!0}),a&&sn(a,\"lineWidgetAdded\",a,o,\"number\"==typeof i?i:fe(i)),o;var r,i,o,a}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return bo(this,Se(this,e),Se(this,t),n,n&&n.type||\"range\")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return bo(this,e=Se(this,e),e,n,\"bookmark\")},findMarksAt:function(e){var t=[],n=se(this,(e=Se(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(i,o,a){i=Se(this,i),o=Se(this,o);var l=[],s=i.line;return this.iter(i.line,o.line+1,function(e){var t=e.markedSpans;if(t)for(var n=0;n<t.length;n++){var r=t[n];null!=r.to&&s==i.line&&i.ch>=r.to||null==r.from&&s!=i.line||null!=r.from&&s==o.line&&r.from>=o.ch||a&&!a(r.marker)||l.push(r.marker.parent||r.marker)}++s}),l},getAllMarks:function(){var r=[];return this.iter(function(e){var t=e.markedSpans;if(t)for(var n=0;n<t.length;++n)null!=t[n].from&&r.push(t[n].marker)}),r},posFromIndex:function(n){var r,i=this.first,o=this.lineSeparator().length;return this.iter(function(e){var t=e.text.length+o;if(n<t)return r=n,!0;n-=t,++i}),Se(this,ge(i,r))},indexFromPos:function(e){var t=(e=Se(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Lo(ue(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Lo(ue(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(ve(o,a)){var l=bo(e,o,a,r.primary,r.primary.type);r.markers.push(l),l.parent=r}}}(r,ko(this)),r},unlinkDoc:function(e){if(e instanceof ka&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),So(ko(this));break}}if(e.history==this.history){var n=[e.id];Ni(e,function(e){return n.push(e.id)},!0),e.history=new Oi(null),e.history.done=Pi(this.history.done,n),e.history.undone=Pi(this.history.undone,n)}},iterLinkedDocs:function(e){Ni(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):wt(e)},lineSeparator:function(){return this.lineSep||\"\\n\"},setDirection:Kr(function(e){var t;(\"rtl\"!=e&&(e=\"ltr\"),e!=this.direction)&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Gr(t=this.cm,function(){Ei(t),Yr(t)}))})}),Lo.prototype.eachLine=Lo.prototype.iter;var To=0;function Mo(e){var i=this;if(No(i),!ot(i,e)&&!wn(i.display,e)){ct(e),w&&(To=+new Date);var o=ar(i,e,!0),t=e.dataTransfer.files;if(o&&!i.isReadOnly())if(t&&t.length&&window.FileReader&&window.File)for(var a=t.length,l=Array(a),s=0,n=function(e,n){if(!i.options.allowDropFileTypes||-1!=P(i.options.allowDropFileTypes,e.type)){var r=new FileReader;r.onload=Vr(i,function(){var e=r.result;if(/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(e)&&(e=\"\"),l[n]=e,++s==a){var t={from:o=Se(i.doc,o),to:o,text:i.doc.splitLines(l.join(i.doc.lineSeparator())),origin:\"paste\"};ro(i.doc,t),Gi(i.doc,xi(o,bi(t)))}}),r.readAsText(e)}},r=0;r<a;++r)n(t[r],r);else{if(i.state.draggingText&&-1<i.doc.sel.contains(o))return i.state.draggingText(e),void setTimeout(function(){return i.display.input.focus()},20);try{var c=e.dataTransfer.getData(\"Text\");if(c){var u;if(i.state.draggingText&&!i.state.draggingText.copy&&(u=i.listSelections()),Xi(i.doc,xi(o,o)),u)for(var h=0;h<u.length;++h)so(i.doc,\"\",u[h].anchor,u[h].head,\"drag\");i.replaceSelection(c,\"around\",\"paste\"),i.display.input.focus()}}catch(e){}}}}function No(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ao(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName(\"CodeMirror\"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}var Eo=!1;function Oo(){var e;Eo||(tt(window,\"resize\",function(){null==e&&(e=setTimeout(function(){e=null,Ao(Io)},100))}),tt(window,\"blur\",function(){return Ao(vr)}),Eo=!0)}function Io(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Do={3:\"Pause\",8:\"Backspace\",9:\"Tab\",13:\"Enter\",16:\"Shift\",17:\"Ctrl\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Esc\",32:\"Space\",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"Left\",38:\"Up\",39:\"Right\",40:\"Down\",44:\"PrintScrn\",45:\"Insert\",46:\"Delete\",59:\";\",61:\"=\",91:\"Mod\",92:\"Mod\",93:\"Mod\",106:\"*\",107:\"=\",109:\"-\",110:\".\",111:\"/\",127:\"Delete\",145:\"ScrollLock\",173:\"-\",186:\";\",187:\"=\",188:\",\",189:\"-\",190:\".\",191:\"/\",192:\"`\",219:\"[\",220:\"\\\\\",221:\"]\",222:\"'\",63232:\"Up\",63233:\"Down\",63234:\"Left\",63235:\"Right\",63272:\"Delete\",63273:\"Home\",63275:\"End\",63276:\"PageUp\",63277:\"PageDown\",63302:\"Insert\"},Ho=0;Ho<10;Ho++)Do[Ho+48]=Do[Ho+96]=String(Ho);for(var Ro=65;Ro<=90;Ro++)Do[Ro]=String.fromCharCode(Ro);for(var Bo=1;Bo<=12;Bo++)Do[Bo+111]=Do[Bo+63235]=\"F\"+Bo;var Wo={};function Fo(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var l=o[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else{if(!/^s(hift)?$/i.test(l))throw new Error(\"Unrecognized modifier name: \"+l);r=!0}}return t&&(e=\"Alt-\"+e),n&&(e=\"Ctrl-\"+e),i&&(e=\"Cmd-\"+e),r&&(e=\"Shift-\"+e),e}function zo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if(\"...\"==r){delete e[n];continue}for(var i=Y(n.split(\" \"),Fo),o=0;o<i.length;o++){var a=void 0,l=void 0;o==i.length-1?(l=i.join(\" \"),a=r):(l=i.slice(0,o+1).join(\" \"),a=\"...\");var s=t[l];if(s){if(s!=a)throw new Error(\"Inconsistent bindings for \"+l)}else t[l]=a}delete e[n]}for(var c in t)e[c]=t[c];return e}function Po(e,t,n,r){var i=(t=Uo(t)).call?t.call(e,r):t[e];if(!1===i)return\"nothing\";if(\"...\"===i)return\"multi\";if(null!=i&&n(i))return\"handled\";if(t.fallthrough){if(\"[object Array]\"!=Object.prototype.toString.call(t.fallthrough))return Po(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=Po(e,t.fallthrough[o],n,r);if(a)return a}}}function _o(e){var t=\"string\"==typeof e?e:Do[e.keyCode];return\"Ctrl\"==t||\"Alt\"==t||\"Shift\"==t||\"Mod\"==t}function jo(e,t,n){var r=e;return t.altKey&&\"Alt\"!=r&&(e=\"Alt-\"+e),(y?t.metaKey:t.ctrlKey)&&\"Ctrl\"!=r&&(e=\"Ctrl-\"+e),(y?t.ctrlKey:t.metaKey)&&\"Cmd\"!=r&&(e=\"Cmd-\"+e),!n&&t.shiftKey&&\"Shift\"!=r&&(e=\"Shift-\"+e),e}function qo(e,t){if(g&&34==e.keyCode&&e.char)return!1;var n=Do[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),jo(n,e,t))}function Uo(e){return\"string\"==typeof e?Wo[e]:e}function $o(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=e(n[i]);r.length&&ve(o.from,K(r).to)<=0;){var a=r.pop();if(ve(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Gr(t,function(){for(var e=r.length-1;0<=e;e--)so(t.doc,\"\",r[e].from,r[e].to,\"+delete\");Lr(t)})}function Go(e,t,n){var r=oe(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Vo(e,t,n){var r=Go(e,t.ch,n);return null==r?null:new ge(t.line,r,n<0?\"after\":\"before\")}function Xo(e,t,n,r,i){if(e){var o=Qe(n,t.doc.direction);if(o){var a,l=i<0?K(o):o[0],s=i<0==(1==l.level)?\"after\":\"before\";if(0<l.level||\"rtl\"==t.doc.direction){var c=On(t,n);a=i<0?n.text.length-1:0;var u=In(t,c,a).top;a=ae(function(e){return In(t,c,e).top==u},i<0==(1==l.level)?l.from:l.to-1,a),\"before\"==s&&(a=Go(n,a,1))}else a=i<0?l.to:l.from;return new ge(r,a,s)}}return new ge(r,i<0?n.text.length:0,i<0?\"before\":\"after\")}Wo.basic={Left:\"goCharLeft\",Right:\"goCharRight\",Up:\"goLineUp\",Down:\"goLineDown\",End:\"goLineEnd\",Home:\"goLineStartSmart\",PageUp:\"goPageUp\",PageDown:\"goPageDown\",Delete:\"delCharAfter\",Backspace:\"delCharBefore\",\"Shift-Backspace\":\"delCharBefore\",Tab:\"defaultTab\",\"Shift-Tab\":\"indentAuto\",Enter:\"newlineAndIndent\",Insert:\"toggleOverwrite\",Esc:\"singleSelection\"},Wo.pcDefault={\"Ctrl-A\":\"selectAll\",\"Ctrl-D\":\"deleteLine\",\"Ctrl-Z\":\"undo\",\"Shift-Ctrl-Z\":\"redo\",\"Ctrl-Y\":\"redo\",\"Ctrl-Home\":\"goDocStart\",\"Ctrl-End\":\"goDocEnd\",\"Ctrl-Up\":\"goLineUp\",\"Ctrl-Down\":\"goLineDown\",\"Ctrl-Left\":\"goGroupLeft\",\"Ctrl-Right\":\"goGroupRight\",\"Alt-Left\":\"goLineStart\",\"Alt-Right\":\"goLineEnd\",\"Ctrl-Backspace\":\"delGroupBefore\",\"Ctrl-Delete\":\"delGroupAfter\",\"Ctrl-S\":\"save\",\"Ctrl-F\":\"find\",\"Ctrl-G\":\"findNext\",\"Shift-Ctrl-G\":\"findPrev\",\"Shift-Ctrl-F\":\"replace\",\"Shift-Ctrl-R\":\"replaceAll\",\"Ctrl-[\":\"indentLess\",\"Ctrl-]\":\"indentMore\",\"Ctrl-U\":\"undoSelection\",\"Shift-Ctrl-U\":\"redoSelection\",\"Alt-U\":\"redoSelection\",fallthrough:\"basic\"},Wo.emacsy={\"Ctrl-F\":\"goCharRight\",\"Ctrl-B\":\"goCharLeft\",\"Ctrl-P\":\"goLineUp\",\"Ctrl-N\":\"goLineDown\",\"Alt-F\":\"goWordRight\",\"Alt-B\":\"goWordLeft\",\"Ctrl-A\":\"goLineStart\",\"Ctrl-E\":\"goLineEnd\",\"Ctrl-V\":\"goPageDown\",\"Shift-Ctrl-V\":\"goPageUp\",\"Ctrl-D\":\"delCharAfter\",\"Ctrl-H\":\"delCharBefore\",\"Alt-D\":\"delWordAfter\",\"Alt-Backspace\":\"delWordBefore\",\"Ctrl-K\":\"killLine\",\"Ctrl-T\":\"transposeChars\",\"Ctrl-O\":\"openLine\"},Wo.macDefault={\"Cmd-A\":\"selectAll\",\"Cmd-D\":\"deleteLine\",\"Cmd-Z\":\"undo\",\"Shift-Cmd-Z\":\"redo\",\"Cmd-Y\":\"redo\",\"Cmd-Home\":\"goDocStart\",\"Cmd-Up\":\"goDocStart\",\"Cmd-End\":\"goDocEnd\",\"Cmd-Down\":\"goDocEnd\",\"Alt-Left\":\"goGroupLeft\",\"Alt-Right\":\"goGroupRight\",\"Cmd-Left\":\"goLineLeft\",\"Cmd-Right\":\"goLineRight\",\"Alt-Backspace\":\"delGroupBefore\",\"Ctrl-Alt-Backspace\":\"delGroupAfter\",\"Alt-Delete\":\"delGroupAfter\",\"Cmd-S\":\"save\",\"Cmd-F\":\"find\",\"Cmd-G\":\"findNext\",\"Shift-Cmd-G\":\"findPrev\",\"Cmd-Alt-F\":\"replace\",\"Shift-Cmd-Alt-F\":\"replaceAll\",\"Cmd-[\":\"indentLess\",\"Cmd-]\":\"indentMore\",\"Cmd-Backspace\":\"delWrappedLineLeft\",\"Cmd-Delete\":\"delWrappedLineRight\",\"Cmd-U\":\"undoSelection\",\"Shift-Cmd-U\":\"redoSelection\",\"Ctrl-Up\":\"goDocStart\",\"Ctrl-Down\":\"goDocEnd\",fallthrough:[\"basic\",\"emacsy\"]},Wo.default=b?Wo.macDefault:Wo.pcDefault;var Ko={selectAll:to,singleSelection:function(e){return e.setSelection(e.getCursor(\"anchor\"),e.getCursor(\"head\"),q)},killLine:function(n){return $o(n,function(e){if(e.empty()){var t=se(n.doc,e.head.line).text.length;return e.head.ch==t&&e.head.line<n.lastLine()?{from:e.head,to:ge(e.head.line+1,0)}:{from:e.head,to:ge(e.head.line,t)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return $o(t,function(e){return{from:ge(e.from().line,0),to:Se(t.doc,ge(e.to().line+1,0))}})},delLineLeft:function(e){return $o(e,function(e){return{from:ge(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(n){return $o(n,function(e){var t=n.charCoords(e.head,\"div\").top+5;return{from:n.coordsChar({left:0,top:t},\"div\"),to:e.from()}})},delWrappedLineRight:function(r){return $o(r,function(e){var t=r.charCoords(e.head,\"div\").top+5,n=r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:t},\"div\");return{from:e.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ge(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ge(e.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Yo(t,e.head.line)},{origin:\"+move\",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return Zo(t,e.head)},{origin:\"+move\",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return function(e,t){var n=se(e.doc,t),r=function(e){for(var t;t=ze(e);)e=t.find(1,!0).line;return e}(n);r!=n&&(t=fe(r));return Xo(!0,e,n,t,-1)}(t,e.head.line)},{origin:\"+move\",bias:-1})},goLineRight:function(n){return n.extendSelectionsBy(function(e){var t=n.cursorCoords(e.head,\"div\").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:t},\"div\")},$)},goLineLeft:function(n){return n.extendSelectionsBy(function(e){var t=n.cursorCoords(e.head,\"div\").top+5;return n.coordsChar({left:0,top:t},\"div\")},$)},goLineLeftSmart:function(r){return r.extendSelectionsBy(function(e){var t=r.cursorCoords(e.head,\"div\").top+5,n=r.coordsChar({left:0,top:t},\"div\");return n.ch<r.getLine(n.line).search(/\\S/)?Zo(r,e.head):n},$)},goLineUp:function(e){return e.moveV(-1,\"line\")},goLineDown:function(e){return e.moveV(1,\"line\")},goPageUp:function(e){return e.moveV(-1,\"page\")},goPageDown:function(e){return e.moveV(1,\"page\")},goCharLeft:function(e){return e.moveH(-1,\"char\")},goCharRight:function(e){return e.moveH(1,\"char\")},goColumnLeft:function(e){return e.moveH(-1,\"column\")},goColumnRight:function(e){return e.moveH(1,\"column\")},goWordLeft:function(e){return e.moveH(-1,\"word\")},goGroupRight:function(e){return e.moveH(1,\"group\")},goGroupLeft:function(e){return e.moveH(-1,\"group\")},goWordRight:function(e){return e.moveH(1,\"word\")},delCharBefore:function(e){return e.deleteH(-1,\"char\")},delCharAfter:function(e){return e.deleteH(1,\"char\")},delWordBefore:function(e){return e.deleteH(-1,\"word\")},delWordAfter:function(e){return e.deleteH(1,\"word\")},delGroupBefore:function(e){return e.deleteH(-1,\"group\")},delGroupAfter:function(e){return e.deleteH(1,\"group\")},indentAuto:function(e){return e.indentSelection(\"smart\")},indentMore:function(e){return e.indentSelection(\"add\")},indentLess:function(e){return e.indentSelection(\"subtract\")},insertTab:function(e){return e.replaceSelection(\"\\t\")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=F(e.getLine(o.line),o.ch,r);t.push(X(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection(\"add\"):e.execCommand(\"insertTab\")},transposeChars:function(a){return Gr(a,function(){for(var e=a.listSelections(),t=[],n=0;n<e.length;n++)if(e[n].empty()){var r=e[n].head,i=se(a.doc,r.line).text;if(i)if(r.ch==i.length&&(r=new ge(r.line,r.ch-1)),0<r.ch)r=new ge(r.line,r.ch+1),a.replaceRange(i.charAt(r.ch-1)+i.charAt(r.ch-2),ge(r.line,r.ch-2),r,\"+transpose\");else if(r.line>a.doc.first){var o=se(a.doc,r.line-1).text;o&&(r=new ge(r.line,1),a.replaceRange(i.charAt(0)+a.doc.lineSeparator()+o.charAt(o.length-1),ge(r.line-1,o.length-1),r,\"+transpose\"))}t.push(new vi(r,r))}a.setSelections(t)})},newlineAndIndent:function(r){return Gr(r,function(){for(var e=r.listSelections(),t=e.length-1;0<=t;t--)r.replaceRange(r.doc.lineSeparator(),e[t].anchor,e[t].head,\"+input\");e=r.listSelections();for(var n=0;n<e.length;n++)r.indentLine(e[n].from().line,null,!0);Lr(r)})},openLine:function(e){return e.replaceSelection(\"\\n\",\"start\")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Yo(e,t){var n=se(e.doc,t),r=je(n);return r!=n&&(t=fe(r)),Xo(!0,e,r,t,1)}function Zo(e,t){var n=Yo(e,t.line),r=se(e.doc,n.line),i=Qe(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return ge(n.line,a?0:o,n.sticky)}return n}function Jo(e,t,n){if(\"string\"==typeof t&&!(t=Ko[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=j}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}var Qo=new z;function ea(e,t,n,r){var i=e.state.keySeq;if(i){if(_o(t))return\"handled\";if(/\\'$/.test(t)?e.state.keySeq=null:Qo.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),ta(e,i+\" \"+t,n,r))return!0}return ta(e,t,n,r)}function ta(e,t,n,r){var i=function(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Po(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Po(t,e.options.extraKeys,n,e)||Po(t,e.options.keyMap,n,e)}(e,t,r);return\"multi\"==i&&(e.state.keySeq=t),\"handled\"==i&&sn(e,\"keyHandled\",e,t,n),\"handled\"!=i&&\"multi\"!=i||(ct(n),dr(e)),!!i}function na(t,e){var n=qo(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?ea(t,\"Shift-\"+n,e,function(e){return Jo(t,e,!0)})||ea(t,n,e,function(e){if(\"string\"==typeof e?/^go[A-Z]/.test(e):e.motion)return Jo(t,e)}):ea(t,n,e,function(e){return Jo(t,e)}))}var ra=null;function ia(e){if(this.curOp.focus=I(),!ot(this,e)){w&&k<11&&27==e.keyCode&&(e.returnValue=!1);var t=e.keyCode;this.display.shift=16==t||e.shiftKey;var n=na(this,e);g&&(ra=n?t:null,!n&&88==t&&!St&&(b?e.metaKey:e.ctrlKey)&&this.replaceSelection(\"\",null,\"cut\")),18!=t||/\\bCodeMirror-crosshair\\b/.test(this.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(T(t,\"CodeMirror-crosshair\"),rt(document,\"keyup\",n),rt(document,\"mouseover\",n))}D(t,\"CodeMirror-crosshair\"),tt(document,\"keyup\",n),tt(document,\"mouseover\",n)}(this)}}function oa(e){16==e.keyCode&&(this.doc.sel.shift=!1),ot(this,e)}function aa(e){if(!(wn(this.display,e)||ot(this,e)||e.ctrlKey&&!e.altKey||b&&e.metaKey)){var t=e.keyCode,n=e.charCode;if(g&&t==ra)return ra=null,void ct(e);if(!g||e.which&&!(e.which<10)||!na(this,e)){var r,i=String.fromCharCode(null==n?t:n);if(\"\\b\"!=i)if(!ea(r=this,\"'\"+i+\"'\",e,function(e){return Jo(r,e,!0)}))this.display.input.onKeyPress(e)}}}var la,sa,ca=function(e,t,n){this.time=e,this.pos=t,this.button=n};function ua(e){var t=this,n=t.display;if(!(ot(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,wn(n,e))x||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!da(t,e)){var r,i,o,a=ar(t,e),l=pt(e),s=a?(r=a,i=l,o=+new Date,sa&&sa.compare(o,r,i)?(la=sa=null,\"triple\"):la&&la.compare(o,r,i)?(sa=new ca(o,r,i),la=null,\"double\"):(la=new ca(o,r,i),sa=null,\"single\")):\"single\";window.focus(),1==l&&t.state.selectingText&&t.state.selectingText(e),a&&function(n,e,r,t,i){var o=\"Click\";\"double\"==t?o=\"Double\"+o:\"triple\"==t&&(o=\"Triple\"+o);return ea(n,jo(o=(1==e?\"Left\":2==e?\"Middle\":\"Right\")+o,i),i,function(e){if(\"string\"==typeof e&&(e=Ko[e]),!e)return!1;var t=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),t=e(n,r)!=j}finally{n.state.suppressEdits=!1}return t})}(t,l,a,s,e)||(1==l?a?function(e,t,n,r){w?setTimeout(B(pr,e),0):e.curOp.focus=I();var i,o=function(e,t,n){var r=e.getOption(\"configureMouse\"),i=r?r(e,t,n):{};if(null==i.unit){var o=d?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?\"rectangle\":\"single\"==t?\"char\":\"double\"==t?\"word\":\"line\"}(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey);null==i.addNew&&(i.addNew=b?n.metaKey:n.ctrlKey);null==i.moveOnDrag&&(i.moveOnDrag=!(b?n.altKey:n.ctrlKey));return i}(e,n,r),a=e.doc.sel;e.options.dragDrop&&vt&&!e.isReadOnly()&&\"single\"==n&&-1<(i=a.contains(t))&&(ve((i=a.ranges[i]).from(),t)<0||0<t.xRel)&&(0<ve(i.to(),t)||t.xRel<0)?function(t,n,r,i){var o=t.display,a=!1,l=Vr(t,function(e){x&&(o.scroller.draggable=!1),t.state.draggingText=!1,rt(o.wrapper.ownerDocument,\"mouseup\",l),rt(o.wrapper.ownerDocument,\"mousemove\",s),rt(o.scroller,\"dragstart\",c),rt(o.scroller,\"drop\",l),a||(ct(e),i.addNew||ji(t.doc,r,null,null,i.extend),x||w&&9==k?setTimeout(function(){o.wrapper.ownerDocument.body.focus(),o.input.focus()},20):o.input.focus())}),s=function(e){a=a||10<=Math.abs(n.clientX-e.clientX)+Math.abs(n.clientY-e.clientY)},c=function(){return a=!0};x&&(o.scroller.draggable=!0);(t.state.draggingText=l).copy=!i.moveOnDrag,o.scroller.dragDrop&&o.scroller.dragDrop();tt(o.wrapper.ownerDocument,\"mouseup\",l),tt(o.wrapper.ownerDocument,\"mousemove\",s),tt(o.scroller,\"dragstart\",c),tt(o.scroller,\"drop\",l),mr(t),setTimeout(function(){return o.input.focus()},20)}(e,r,t,o):function(g,e,v,y){var a=g.display,x=g.doc;ct(e);var b,w,k=x.sel,t=k.ranges;y.addNew&&!y.extend?(w=x.sel.contains(v),b=-1<w?t[w]:new vi(v,v)):(b=x.sel.primary(),w=x.sel.primIndex);if(\"rectangle\"==y.unit)y.addNew||(b=new vi(v,v)),v=ar(g,e,!0,!0),w=-1;else{var n=ha(g,v,y.unit);b=y.extend?_i(b,n.anchor,n.head,y.extend):n}y.addNew?-1==w?(w=t.length,Vi(x,yi(t.concat([b]),w),{scroll:!1,origin:\"*mouse\"})):1<t.length&&t[w].empty()&&\"char\"==y.unit&&!y.extend?(Vi(x,yi(t.slice(0,w).concat(t.slice(w+1)),0),{scroll:!1,origin:\"*mouse\"}),k=x.sel):Ui(x,w,b,U):(Vi(x,new gi([b],w=0),U),k=x.sel);var S=v;function l(e){if(0!=ve(S,e))if(S=e,\"rectangle\"==y.unit){for(var t=[],n=g.options.tabSize,r=F(se(x,v.line).text,v.ch,n),i=F(se(x,e.line).text,e.ch,n),o=Math.min(r,i),a=Math.max(r,i),l=Math.min(v.line,e.line),s=Math.min(g.lastLine(),Math.max(v.line,e.line));l<=s;l++){var c=se(x,l).text,u=G(c,o,n);o==a?t.push(new vi(ge(l,u),ge(l,u))):c.length>u&&t.push(new vi(ge(l,u),ge(l,G(c,a,n))))}t.length||t.push(new vi(v,v)),Vi(x,yi(k.ranges.slice(0,w).concat(t),w),{origin:\"*mouse\",scroll:!1}),g.scrollIntoView(e)}else{var h,f=b,d=ha(g,e,y.unit),p=f.anchor;0<ve(d.anchor,p)?(h=d.head,p=we(f.from(),d.anchor)):(h=d.anchor,p=be(f.to(),d.head));var m=k.ranges.slice(0);m[w]=function(e,t){var n=t.anchor,r=t.head,i=se(e.doc,n.line);if(0==ve(n,r)&&n.sticky==r.sticky)return t;var o=Qe(i);if(!o)return t;var a=Ze(o,n.ch,n.sticky),l=o[a];if(l.from!=n.ch&&l.to!=n.ch)return t;var s,c=a+(l.from==n.ch==(1!=l.level)?0:1);if(0==c||c==o.length)return t;if(r.line!=n.line)s=0<(r.line-n.line)*(\"ltr\"==e.doc.direction?1:-1);else{var u=Ze(o,r.ch,r.sticky),h=u-a||(r.ch-n.ch)*(1==l.level?-1:1);s=u==c-1||u==c?h<0:0<h}var f=o[c+(s?-1:0)],d=s==(1==f.level),p=d?f.from:f.to,m=d?\"after\":\"before\";return n.ch==p&&n.sticky==m?t:new vi(new ge(n.line,p,m),r)}(g,new vi(Se(x,p),h)),Vi(x,yi(m,w),U)}}var s=a.wrapper.getBoundingClientRect(),c=0;function r(e){g.state.selectingText=!1,c=1/0,ct(e),a.input.focus(),rt(a.wrapper.ownerDocument,\"mousemove\",i),rt(a.wrapper.ownerDocument,\"mouseup\",o),x.history.lastSelOrigin=null}var i=Vr(g,function(e){0!==e.buttons&&pt(e)?function e(t){var n=++c;var r=ar(g,t,!0,\"rectangle\"==y.unit);if(!r)return;if(0!=ve(r,S)){g.curOp.focus=I(),l(r);var i=br(a,x);(r.line>=i.to||r.line<i.from)&&setTimeout(Vr(g,function(){c==n&&e(t)}),150)}else{var o=t.clientY<s.top?-20:t.clientY>s.bottom?20:0;o&&setTimeout(Vr(g,function(){c==n&&(a.scroller.scrollTop+=o,e(t))}),50)}}(e):r(e)}),o=Vr(g,r);g.state.selectingText=o,tt(a.wrapper.ownerDocument,\"mousemove\",i),tt(a.wrapper.ownerDocument,\"mouseup\",o)}(e,r,t,o)}(t,a,s,e):dt(e)==n.scroller&&ct(e):2==l?(a&&ji(t.doc,a),setTimeout(function(){return n.input.focus()},20)):3==l&&(S?pa(t,e):mr(t)))}}function ha(e,t,n){if(\"char\"==n)return new vi(t,t);if(\"word\"==n)return e.findWordAt(t);if(\"line\"==n)return new vi(ge(t.line,0),Se(e.doc,ge(t.line+1,0)));var r=n(e,t);return new vi(r.from,r.to)}function fa(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&ct(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(o>l.bottom||!lt(e,n))return ht(t);o-=l.top-a.viewOffset;for(var s=0;s<e.options.gutters.length;++s){var c=a.gutters.childNodes[s];if(c&&c.getBoundingClientRect().right>=i)return it(e,n,e,de(e.doc,o),e.options.gutters[s],t),ht(t)}}function da(e,t){return fa(e,t,\"gutterClick\",!0)}function pa(e,t){wn(e.display,t)||function(e,t){if(!lt(e,\"gutterContextMenu\"))return!1;return fa(e,t,\"gutterContextMenu\",!1)}(e,t)||ot(e,t,\"contextmenu\")||e.display.input.onContextMenu(t)}function ma(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\\s*cm-s-\\S+/g,\"\")+e.options.theme.replace(/(^|\\s)\\s*/g,\" cm-s-\"),zn(e)}ca.prototype.compare=function(e,t,n){return this.time+400>e&&0==ve(t,this.pos)&&n==this.button};var ga={toString:function(){return\"CodeMirror.Init\"}},va={},ya={};function xa(e){ci(e),Yr(e),wr(e)}function ba(e,t,n){if(!t!=!(n&&n!=ga)){var r=e.display.dragFunctions,i=t?tt:rt;i(e.display.scroller,\"dragstart\",r.start),i(e.display.scroller,\"dragenter\",r.enter),i(e.display.scroller,\"dragover\",r.over),i(e.display.scroller,\"dragleave\",r.leave),i(e.display.scroller,\"drop\",r.drop)}}function wa(e){e.options.lineWrapping?(D(e.display.wrapper,\"CodeMirror-wrap\"),e.display.sizer.style.minWidth=\"\",e.display.sizerWidth=null):(T(e.display.wrapper,\"CodeMirror-wrap\"),Ke(e)),or(e),Yr(e),zn(e),setTimeout(function(){return Rr(e)},100)}function ka(e,t){var n=this;if(!(this instanceof ka))return new ka(e,t);this.options=t=t?W(t):{},W(va,t,!1),ui(t);var r=t.value;\"string\"==typeof r&&(r=new Lo(r,t.mode,null,t.lineSeparator,t.direction)),this.doc=r;var i=new ka.inputStyles[t.inputStyle](this),o=this.display=new le(e,r,i);for(var a in ci(o.wrapper.CodeMirror=this),ma(this),t.lineWrapping&&(this.display.wrapper.className+=\" CodeMirror-wrap\"),Fr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new z,keySeq:null,specialChars:null},t.autofocus&&!f&&o.input.focus(),w&&k<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(i){var o=i.display;tt(o.scroller,\"mousedown\",Vr(i,ua)),tt(o.scroller,\"dblclick\",w&&k<11?Vr(i,function(e){if(!ot(i,e)){var t=ar(i,e);if(t&&!da(i,e)&&!wn(i.display,e)){ct(e);var n=i.findWordAt(t);ji(i.doc,n.anchor,n.head)}}}):function(e){return ot(i,e)||ct(e)});S||tt(o.scroller,\"contextmenu\",function(e){return pa(i,e)});var n,r={end:0};function a(){o.activeTouch&&(n=setTimeout(function(){return o.activeTouch=null},1e3),(r=o.activeTouch).end=+new Date)}function l(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return 400<n*n+r*r}tt(o.scroller,\"touchstart\",function(e){if(!ot(i,e)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(e)&&!da(i,e)){o.input.ensurePolled(),clearTimeout(n);var t=+new Date;o.activeTouch={start:t,moved:!1,prev:t-r.end<=300?r:null},1==e.touches.length&&(o.activeTouch.left=e.touches[0].pageX,o.activeTouch.top=e.touches[0].pageY)}}),tt(o.scroller,\"touchmove\",function(){o.activeTouch&&(o.activeTouch.moved=!0)}),tt(o.scroller,\"touchend\",function(e){var t=o.activeTouch;if(t&&!wn(o,e)&&null!=t.left&&!t.moved&&new Date-t.start<300){var n,r=i.coordsChar(o.activeTouch,\"page\");n=!t.prev||l(t,t.prev)?new vi(r,r):!t.prev.prev||l(t,t.prev.prev)?i.findWordAt(r):new vi(ge(r.line,0),Se(i.doc,ge(r.line+1,0))),i.setSelection(n.anchor,n.head),i.focus(),ct(e)}a()}),tt(o.scroller,\"touchcancel\",a),tt(o.scroller,\"scroll\",function(){o.scroller.clientHeight&&(Ar(i,o.scroller.scrollTop),Or(i,o.scroller.scrollLeft,!0),it(i,\"scroll\",i))}),tt(o.scroller,\"mousewheel\",function(e){return mi(i,e)}),tt(o.scroller,\"DOMMouseScroll\",function(e){return mi(i,e)}),tt(o.wrapper,\"scroll\",function(){return o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),o.dragFunctions={enter:function(e){ot(i,e)||ft(e)},over:function(e){ot(i,e)||(!function(e,t){var n=ar(e,t);if(n){var r=document.createDocumentFragment();ur(e,n,r),e.display.dragCursor||(e.display.dragCursor=E(\"div\",null,\"CodeMirror-cursors CodeMirror-dragcursors\"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),N(e.display.dragCursor,r)}}(i,e),ft(e))},start:function(e){return function(e,t){if(w&&(!e.state.draggingText||+new Date-To<100))ft(t);else if(!ot(e,t)&&!wn(e.display,t)&&(t.dataTransfer.setData(\"Text\",e.getSelection()),t.dataTransfer.effectAllowed=\"copyMove\",t.dataTransfer.setDragImage&&!s)){var n=E(\"img\",null,null,\"position: fixed; left: 0; top: 0;\");n.src=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\",g&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),g&&n.parentNode.removeChild(n)}}(i,e)},drop:Vr(i,Mo),leave:function(e){ot(i,e)||No(i)}};var e=o.input.getField();tt(e,\"keyup\",function(e){return oa.call(i,e)}),tt(e,\"keydown\",Vr(i,ia)),tt(e,\"keypress\",Vr(i,aa)),tt(e,\"focus\",function(e){return gr(i,e)}),tt(e,\"blur\",function(e){return vr(i,e)})}(this),Oo(),Pr(this),this.curOp.forceUpdate=!0,Ai(this,r),t.autofocus&&!f||this.hasFocus()?setTimeout(B(gr,this),20):vr(this),ya)ya.hasOwnProperty(a)&&ya[a](n,t[a],ga);kr(this),t.finishInit&&t.finishInit(this);for(var l=0;l<Sa.length;++l)Sa[l](n);_r(this),x&&t.lineWrapping&&\"optimizelegibility\"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering=\"auto\")}ka.defaults=va,ka.optionHandlers=ya;var Sa=[];function Ca(e,t,n,r){var i,o=e.doc;null==n&&(n=\"add\"),\"smart\"==n&&(o.mode.indent?i=zt(e,t).state:n=\"prev\");var a=e.options.tabSize,l=se(o,t),s=F(l.text,null,a);l.stateAfter&&(l.stateAfter=null);var c,u=l.text.match(/^\\s*/)[0];if(r||/\\S/.test(l.text)){if(\"smart\"==n&&((c=o.mode.indent(i,l.text.slice(u.length),l.text))==j||150<c)){if(!r)return;n=\"prev\"}}else c=0,n=\"not\";\"prev\"==n?c=t>o.first?F(se(o,t-1).text,null,a):0:\"add\"==n?c=s+e.options.indentUnit:\"subtract\"==n?c=s-e.options.indentUnit:\"number\"==typeof n&&(c=s+n),c=Math.max(0,c);var h=\"\",f=0;if(e.options.indentWithTabs)for(var d=Math.floor(c/a);d;--d)f+=a,h+=\"\\t\";if(f<c&&(h+=X(c-f)),h!=u)return so(o,h,ge(t,0),ge(t,u.length),\"+input\"),!(l.stateAfter=null);for(var p=0;p<o.sel.ranges.length;p++){var m=o.sel.ranges[p];if(m.head.line==t&&m.head.ch<u.length){var g=ge(t,u.length);Ui(o,p,new vi(g,g));break}}}ka.defineInitHook=function(e){return Sa.push(e)};var La=null;function Ta(e){La=e}function Ma(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a,l=e.state.pasteIncoming||\"paste\"==i,s=wt(t),c=null;if(l&&1<r.ranges.length)if(La&&La.text.join(\"\\n\")==t){if(r.ranges.length%La.text.length==0){c=[];for(var u=0;u<La.text.length;u++)c.push(o.splitLines(La.text[u]))}}else s.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(c=Y(s,function(e){return[e]}));for(var h=r.ranges.length-1;0<=h;h--){var f=r.ranges[h],d=f.from(),p=f.to();f.empty()&&(n&&0<n?d=ge(d.line,d.ch-n):e.state.overwrite&&!l?p=ge(p.line,Math.min(se(o,p.line).text.length,p.ch+K(s).length)):La&&La.lineWise&&La.text.join(\"\\n\")==t&&(d=p=ge(d.line,0))),a=e.curOp.updateInput;var m={from:d,to:p,text:c?c[h%c.length]:s,origin:i||(l?\"paste\":e.state.cutIncoming?\"cut\":\"+input\")};ro(e.doc,m),sn(e,\"inputRead\",e,m)}t&&!l&&Aa(e,t),Lr(e),e.curOp.updateInput=a,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Na(e,t){var n=e.clipboardData&&e.clipboardData.getData(\"Text\");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Gr(t,function(){return Ma(t,n,0,null,\"paste\")}),!0}function Aa(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;0<=r;r--){var i=n.ranges[r];if(!(100<i.head.ch||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var l=0;l<o.electricChars.length;l++)if(-1<t.indexOf(o.electricChars.charAt(l))){a=Ca(e,i.head.line,\"smart\");break}}else o.electricInput&&o.electricInput.test(se(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Ca(e,i.head.line,\"smart\"));a&&sn(e,\"electricInput\",e,i.head.line)}}}function Ea(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:ge(i,0),head:ge(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Oa(e,t){e.setAttribute(\"autocorrect\",\"off\"),e.setAttribute(\"autocapitalize\",\"off\"),e.setAttribute(\"spellcheck\",!!t)}function Ia(){var e=E(\"textarea\",null,null,\"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\"),t=E(\"div\",[e],null,\"overflow: hidden; position: relative; width: 3px; height: 0px;\");return x?e.style.width=\"1000px\":e.setAttribute(\"wrap\",\"off\"),u&&(e.style.border=\"1px solid black\"),Oa(e),t}function Da(r,i,o,e,a){var t=i,n=o,l=se(r,i.line);function s(e){var t,n;if(null==(t=a?function(t,n,l,e){var s=Qe(n,t.doc.direction);if(!s)return Vo(n,l,e);l.ch>=n.text.length?(l.ch=n.text.length,l.sticky=\"before\"):l.ch<=0&&(l.ch=0,l.sticky=\"after\");var r=Ze(s,l.ch,l.sticky),i=s[r];if(\"ltr\"==t.doc.direction&&i.level%2==0&&(0<e?i.to>l.ch:i.from<l.ch))return Vo(n,l,e);var o,c=function(e,t){return Go(n,e instanceof ge?e.ch:e,t)},a=function(e){return t.options.lineWrapping?(o=o||On(t,n),Zn(t,n,o,e)):{begin:0,end:n.text.length}},u=a(\"before\"==l.sticky?c(l,-1):l.ch);if(\"rtl\"==t.doc.direction||1==i.level){var h=1==i.level==e<0,f=c(l,h?1:-1);if(null!=f&&(h?f<=i.to&&f<=u.end:f>=i.from&&f>=u.begin)){var d=h?\"before\":\"after\";return new ge(l.line,f,d)}}var p=function(e,t,n){for(var r=function(e,t){return t?new ge(l.line,c(e,1),\"before\"):new ge(l.line,e,\"after\")};0<=e&&e<s.length;e+=t){var i=s[e],o=0<t==(1!=i.level),a=o?n.begin:c(n.end,-1);if(i.from<=a&&a<i.to)return r(a,o);if(a=o?i.from:c(i.to,-1),n.begin<=a&&a<n.end)return r(a,o)}},m=p(r+e,e,u);if(m)return m;var g=0<e?u.end:c(u.begin,-1);return null==g||0<e&&g==n.text.length||!(m=p(0<e?0:s.length-1,e,a(g)))?null:m}(r.cm,l,i,o):Vo(l,i,o))){if(e||(n=i.line+o)<r.first||n>=r.first+r.size||(i=new ge(n,i.ch,i.sticky),!(l=se(r,n))))return!1;i=Xo(a,r.cm,l,i.line,o)}else i=t;return!0}if(\"char\"==e)s();else if(\"column\"==e)s(!0);else if(\"word\"==e||\"group\"==e)for(var c=null,u=\"group\"==e,h=r.cm&&r.cm.getHelper(i,\"wordChars\"),f=!0;!(o<0)||s(!f);f=!1){var d=l.text.charAt(i.ch)||\"\\n\",p=te(d,h)?\"w\":u&&\"\\n\"==d?\"n\":!u||/\\s/.test(d)?null:\"p\";if(!u||f||p||(p=\"s\"),c&&c!=p){o<0&&(o=1,s(),i.sticky=\"after\");break}if(p&&(c=p),0<o&&!s(!f))break}var m=Qi(r,i,t,n,!0);return ye(t,m)&&(m.hitSide=!0),m}function Ha(e,t,n,r){var i,o,a=e.doc,l=t.left;if(\"page\"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(s-.5*er(e.display),3);i=(0<n?t.bottom:t.top)+n*c}else\"line\"==r&&(i=0<n?t.bottom+3:t.top-3);for(;(o=Kn(e,l,i)).outside;){if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}var Ra=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new z,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ba(e,t){var n=En(e,t.line);if(!n||n.hidden)return null;var r=se(e.doc,t.line),i=Nn(n,r,t.line),o=Qe(r,e.doc.direction),a=\"left\";o&&(a=Ze(o,t.ch)%2?\"right\":\"left\");var l=Rn(i.map,t.ch,a);return l.offset=\"right\"==l.collapse?l.end:l.start,l}function Wa(e,t){return t&&(e.bad=!0),e}function Fa(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return Wa(e.clipPos(ge(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return za(o,t,n)}}function za(c,e,t){var n=c.text.firstChild,r=!1;if(!e||!O(n,e))return Wa(ge(fe(c.line),0),!0);if(e==n&&(r=!0,e=n.childNodes[t],t=0,!e)){var i=c.rest?K(c.rest):c.line;return Wa(ge(fe(i),i.text.length),r)}var o=3==e.nodeType?e:null,a=e;for(o||1!=e.childNodes.length||3!=e.firstChild.nodeType||(o=e.firstChild,t&&(t=o.nodeValue.length));a.parentNode!=n;)a=a.parentNode;var u=c.measure,h=u.maps;function l(e,t,n){for(var r=-1;r<(h?h.length:0);r++)for(var i=r<0?u.map:h[r],o=0;o<i.length;o+=3){var a=i[o+2];if(a==e||a==t){var l=fe(r<0?c.line:c.rest[r]),s=i[o]+n;return(n<0||a!=e)&&(s=i[o+(n?1:0)]),ge(l,s)}}}var s=l(o,a,t);if(s)return Wa(s,r);for(var f=a.nextSibling,d=o?o.nodeValue.length-t:0;f;f=f.nextSibling){if(s=l(f,f.firstChild,0))return Wa(ge(s.line,s.ch-d),r);d+=f.textContent.length}for(var p=a.previousSibling,m=t;p;p=p.previousSibling){if(s=l(p,p.firstChild,-1))return Wa(ge(s.line,s.ch+m),r);m+=p.textContent.length}}Ra.prototype.init=function(e){var t=this,a=this,l=a.cm,s=a.div=e.lineDiv;function n(e){if(!ot(l,e)){if(l.somethingSelected())Ta({lineWise:!1,text:l.getSelections()}),\"cut\"==e.type&&l.replaceSelection(\"\",null,\"cut\");else{if(!l.options.lineWiseCopyCut)return;var t=Ea(l);Ta({lineWise:!0,text:t.text}),\"cut\"==e.type&&l.operation(function(){l.setSelections(t.ranges,0,q),l.replaceSelection(\"\",null,\"cut\")})}if(e.clipboardData){e.clipboardData.clearData();var n=La.text.join(\"\\n\");if(e.clipboardData.setData(\"Text\",n),e.clipboardData.getData(\"Text\")==n)return void e.preventDefault()}var r=Ia(),i=r.firstChild;l.display.lineSpace.insertBefore(r,l.display.lineSpace.firstChild),i.value=La.text.join(\"\\n\");var o=document.activeElement;R(i),setTimeout(function(){l.display.lineSpace.removeChild(r),o.focus(),o==s&&a.showPrimarySelection()},50)}}Oa(s,l.options.spellcheck),tt(s,\"paste\",function(e){ot(l,e)||Na(e,l)||k<=11&&setTimeout(Vr(l,function(){return t.updateFromDOM()}),20)}),tt(s,\"compositionstart\",function(e){t.composing={data:e.data,done:!1}}),tt(s,\"compositionupdate\",function(e){t.composing||(t.composing={data:e.data,done:!1})}),tt(s,\"compositionend\",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),tt(s,\"touchstart\",function(){return a.forceCompositionEnd()}),tt(s,\"input\",function(){t.composing||t.readFromDOMSoon()}),tt(s,\"copy\",n),tt(s,\"cut\",n)},Ra.prototype.prepareSelection=function(){var e=cr(this.cm,!1);return e.focus=this.cm.state.focused,e},Ra.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ra.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ra.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var o=Fa(t,e.anchorNode,e.anchorOffset),a=Fa(t,e.focusNode,e.focusOffset);if(!o||o.bad||!a||a.bad||0!=ve(we(o,a),r)||0!=ve(be(o,a),i)){var l=t.display.view,s=r.line>=t.display.viewFrom&&Ba(t,r)||{node:l[0].measure.map[2],offset:0},c=i.line<t.display.viewTo&&Ba(t,i);if(!c){var u=l[l.length-1].measure,h=u.maps?u.maps[u.maps.length-1]:u.map;c={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(s&&c){var f,d=e.rangeCount&&e.getRangeAt(0);try{f=L(s.node,s.offset,c.offset,c.node)}catch(e){}f&&(!m&&t.state.focused?(e.collapse(s.node,s.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),d&&null==e.anchorNode?e.addRange(d):m&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ra.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Ra.prototype.showMultipleSelections=function(e){N(this.cm.display.cursorDiv,e.cursors),N(this.cm.display.selectionDiv,e.selection)},Ra.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ra.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return O(this.div,t)},Ra.prototype.focus=function(){\"nocursor\"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ra.prototype.blur=function(){this.div.blur()},Ra.prototype.getField=function(){return this.div},Ra.prototype.supportsTouch=function(){return!0},Ra.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Gr(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},Ra.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ra.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(h&&a&&this.cm.options.gutters.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:\"keydown\",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Fa(t,e.anchorNode,e.anchorOffset),r=Fa(t,e.focusNode,e.focusOffset);n&&r&&Gr(t,function(){Vi(t.doc,xi(n,r),q),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},Ra.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),l=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=ge(a.line-1,se(r.doc,a.line-1).length)),l.ch==se(r.doc,l.line).text.length&&l.line<r.lastLine()&&(l=ge(l.line+1,0)),a.line<i.viewFrom||l.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=lr(r,a.line))?(t=fe(i.view[0].line),n=i.view[0].node):(t=fe(i.view[e].line),n=i.view[e-1].node.nextSibling);var s,c,u=lr(r,l.line);if(u==i.view.length-1?(s=i.viewTo-1,c=i.lineDiv.lastChild):(s=fe(i.view[u+1].line)-1,c=i.view[u+1].node.previousSibling),!n)return!1;for(var h=r.doc.splitLines(function(s,e,t,c,u){var n=\"\",h=!1,f=s.doc.lineSeparator(),d=!1;function p(){h&&(n+=f,d&&(n+=f),h=d=!1)}function m(e){e&&(p(),n+=e)}function g(e){if(1==e.nodeType){var t=e.getAttribute(\"cm-text\");if(t)return void m(t);var n,r=e.getAttribute(\"cm-marker\");if(r){var i=s.findMarks(ge(c,0),ge(u+1,0),(l=+r,function(e){return e.id==l}));return void(i.length&&(n=i[0].find(0))&&m(ce(s.doc,n.from,n.to).join(f)))}if(\"false\"==e.getAttribute(\"contenteditable\"))return;var o=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;o&&p();for(var a=0;a<e.childNodes.length;a++)g(e.childNodes[a]);/^(pre|p)$/i.test(e.nodeName)&&(d=!0),o&&(h=!0)}else 3==e.nodeType&&m(e.nodeValue.replace(/\\u200b/g,\"\").replace(/\\u00a0/g,\" \"));var l}for(;g(e),e!=t;)e=e.nextSibling,d=!1;return n}(r,n,c,t,s)),f=ce(r.doc,ge(t,0),ge(s,se(r.doc,s).text.length));1<h.length&&1<f.length;)if(K(h)==K(f))h.pop(),f.pop(),s--;else{if(h[0]!=f[0])break;h.shift(),f.shift(),t++}for(var d=0,p=0,m=h[0],g=f[0],v=Math.min(m.length,g.length);d<v&&m.charCodeAt(d)==g.charCodeAt(d);)++d;for(var y=K(h),x=K(f),b=Math.min(y.length-(1==h.length?d:0),x.length-(1==f.length?d:0));p<b&&y.charCodeAt(y.length-p-1)==x.charCodeAt(x.length-p-1);)++p;if(1==h.length&&1==f.length&&t==a.line)for(;d&&d>a.ch&&y.charCodeAt(y.length-p-1)==x.charCodeAt(x.length-p-1);)d--,p++;h[h.length-1]=y.slice(0,y.length-p).replace(/^\\u200b+/,\"\"),h[0]=h[0].slice(d).replace(/\\u200b+$/,\"\");var w=ge(t,d),k=ge(s,f.length?K(f).length-p:0);return 1<h.length||h[0]||ve(w,k)?(so(r.doc,h,w,k,\"+input\"),!0):void 0},Ra.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ra.prototype.reset=function(){this.forceCompositionEnd()},Ra.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ra.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Ra.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Gr(this.cm,function(){return Yr(e.cm)})},Ra.prototype.setUneditable=function(e){e.contentEditable=\"false\"},Ra.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Vr(this.cm,Ma)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ra.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(\"nocursor\"!=e)},Ra.prototype.onContextMenu=function(){},Ra.prototype.resetPosition=function(){},Ra.prototype.needsContentAttribute=!0;var Pa,_a,ja,qa=function(e){this.cm=e,this.prevInput=\"\",this.pollingFast=!1,this.polling=new z,this.hasSelection=!1,this.composing=null};qa.prototype.init=function(t){var e=this,n=this,r=this.cm;this.createField(t);var i=this.textarea;function o(e){if(!ot(r,e)){if(r.somethingSelected())Ta({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Ea(r);Ta({lineWise:!0,text:t.text}),\"cut\"==e.type?r.setSelections(t.ranges,null,q):(n.prevInput=\"\",i.value=t.text.join(\"\\n\"),R(i))}\"cut\"==e.type&&(r.state.cutIncoming=!0)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),u&&(i.style.width=\"0px\"),tt(i,\"input\",function(){w&&9<=k&&e.hasSelection&&(e.hasSelection=null),n.poll()}),tt(i,\"paste\",function(e){ot(r,e)||Na(e,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),tt(i,\"cut\",o),tt(i,\"copy\",o),tt(t.scroller,\"paste\",function(e){wn(t,e)||ot(r,e)||(r.state.pasteIncoming=!0,n.focus())}),tt(t.lineSpace,\"selectstart\",function(e){wn(t,e)||ct(e)}),tt(i,\"compositionstart\",function(){var e=r.getCursor(\"from\");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor(\"to\"),{className:\"CodeMirror-composing\"})}}),tt(i,\"compositionend\",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},qa.prototype.createField=function(e){this.wrapper=Ia(),this.textarea=this.wrapper.firstChild},qa.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=cr(e);if(e.options.moveInputWithCursor){var i=Gn(e,n.sel.primary().head,\"div\"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},qa.prototype.showSelection=function(e){var t=this.cm.display;N(t.cursorDiv,e.cursors),N(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+\"px\",this.wrapper.style.left=e.teLeft+\"px\")},qa.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput=\"\";var n=t.getSelection();this.textarea.value=n,t.state.focused&&R(this.textarea),w&&9<=k&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value=\"\",w&&9<=k&&(this.hasSelection=null))}},qa.prototype.getField=function(){return this.textarea},qa.prototype.supportsTouch=function(){return!1},qa.prototype.focus=function(){if(\"nocursor\"!=this.cm.options.readOnly&&(!f||I()!=this.textarea))try{this.textarea.focus()}catch(e){}},qa.prototype.blur=function(){this.textarea.blur()},qa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},qa.prototype.receivedFocus=function(){this.slowPoll()},qa.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},qa.prototype.fastPoll=function(){var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,function e(){n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))})},qa.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||kt(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(w&&9<=k&&this.hasSelection===i||b&&/[\\uf700-\\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r=\"\"),8666==o)return this.reset(),this.cm.execCommand(\"undo\")}for(var a=0,l=Math.min(r.length,i.length);a<l&&r.charCodeAt(a)==i.charCodeAt(a);)++a;return Gr(t,function(){Ma(t,i.slice(a),r.length-a,null,e.composing?\"*compose\":null),1e3<i.length||-1<i.indexOf(\"\\n\")?n.value=e.prevInput=\"\":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor(\"to\"),{className:\"CodeMirror-composing\"}))}),!0},qa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},qa.prototype.onKeyPress=function(){w&&9<=k&&(this.hasSelection=null),this.fastPoll()},qa.prototype.onContextMenu=function(e){var n=this,r=n.cm,i=r.display,o=n.textarea,t=ar(r,e),a=i.scroller.scrollTop;if(t&&!g){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(t)&&Vr(r,Vi)(r.doc,xi(t),q);var l=o.style.cssText,s=n.wrapper.style.cssText;n.wrapper.style.cssText=\"position: absolute\";var c,u=n.wrapper.getBoundingClientRect();if(o.style.cssText=\"position: absolute; width: 30px; height: 30px;\\n      top: \"+(e.clientY-u.top-5)+\"px; left: \"+(e.clientX-u.left-5)+\"px;\\n      z-index: 1000; background: \"+(w?\"rgba(255, 255, 255, .05)\":\"transparent\")+\";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\",x&&(c=window.scrollY),i.input.focus(),x&&window.scrollTo(null,c),i.input.reset(),r.somethingSelected()||(o.value=n.prevInput=\" \"),n.contextMenuPending=!0,i.selForContextMenu=r.doc.sel,clearTimeout(i.detectingSelectAll),w&&9<=k&&f(),S){ft(e);var h=function(){rt(window,\"mouseup\",h),setTimeout(d,20)};tt(window,\"mouseup\",h)}else setTimeout(d,50)}function f(){if(null!=o.selectionStart){var e=r.somethingSelected(),t=\"\"+(e?o.value:\"\");o.value=\"\",o.value=t,n.prevInput=e?\"\":\"\",o.selectionStart=1,o.selectionEnd=t.length,i.selForContextMenu=r.doc.sel}}function d(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=s,o.style.cssText=l,w&&k<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=a),null!=o.selectionStart){(!w||w&&k<9)&&f();var e=0,t=function(){i.selForContextMenu==r.doc.sel&&0==o.selectionStart&&0<o.selectionEnd&&\"\"==n.prevInput?Vr(r,to)(r):e++<10?i.detectingSelectAll=setTimeout(t,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(t,200)}}},qa.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=\"nocursor\"==e},qa.prototype.setUneditable=function(){},qa.prototype.needsContentAttribute=!1,function(i){var o=i.optionHandlers;function e(e,t,r,n){i.defaults[e]=t,r&&(o[e]=n?function(e,t,n){n!=ga&&r(e,t,n)}:r)}i.defineOption=e,i.Init=ga,e(\"value\",\"\",function(e,t){return e.setValue(t)},!0),e(\"mode\",null,function(e,t){e.doc.modeOption=t,Ci(e)},!0),e(\"indentUnit\",2,Ci,!0),e(\"indentWithTabs\",!1),e(\"smartIndent\",!0),e(\"tabSize\",4,function(e){Li(e),zn(e),Yr(e)},!0),e(\"lineSeparator\",null,function(e,r){if(e.doc.lineSep=r){var i=[],o=e.doc.first;e.doc.iter(function(e){for(var t=0;;){var n=e.text.indexOf(r,t);if(-1==n)break;t=n+r.length,i.push(ge(o,n))}o++});for(var t=i.length-1;0<=t;t--)so(e.doc,r,i[t],ge(i[t].line,i[t].ch+r.length))}}),e(\"specialChars\",/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test(\"\\t\")?\"\":\"|\\t\"),\"g\"),n!=ga&&e.refresh()}),e(\"specialCharPlaceholder\",Jt,function(e){return e.refresh()},!0),e(\"electricChars\",!0),e(\"inputStyle\",f?\"contenteditable\":\"textarea\",function(){throw new Error(\"inputStyle can not (yet) be changed in a running editor\")},!0),e(\"spellcheck\",!1,function(e,t){return e.getInputField().spellcheck=t},!0),e(\"rtlMoveVisually\",!p),e(\"wholeLineUpdateBefore\",!0),e(\"theme\",\"default\",function(e){ma(e),xa(e)},!0),e(\"keyMap\",\"default\",function(e,t,n){var r=Uo(t),i=n!=ga&&Uo(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),e(\"extraKeys\",null),e(\"configureMouse\",null),e(\"lineWrapping\",!1,wa,!0),e(\"gutters\",[],function(e){ui(e.options),xa(e)},!0),e(\"fixedGutter\",!0,function(e,t){e.display.gutters.style.left=t?rr(e.display)+\"px\":\"0\",e.refresh()},!0),e(\"coverGutterNextToScrollbar\",!1,function(e){return Rr(e)},!0),e(\"scrollbarStyle\",\"native\",function(e){Fr(e),Rr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),e(\"lineNumbers\",!1,function(e){ui(e.options),xa(e)},!0),e(\"firstLineNumber\",1,xa,!0),e(\"lineNumberFormatter\",function(e){return e},xa,!0),e(\"showCursorWhenSelecting\",!1,sr,!0),e(\"resetSelectionOnContextMenu\",!0),e(\"lineWiseCopyCut\",!0),e(\"pasteLinesPerSelection\",!0),e(\"readOnly\",!1,function(e,t){\"nocursor\"==t&&(vr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),e(\"disableInput\",!1,function(e,t){t||e.display.input.reset()},!0),e(\"dragDrop\",!0,ba),e(\"allowDropFileTypes\",null),e(\"cursorBlinkRate\",530),e(\"cursorScrollMargin\",0),e(\"cursorHeight\",1,sr,!0),e(\"singleCursorHeightPerLine\",!0,sr,!0),e(\"workTime\",100),e(\"workDelay\",100),e(\"flattenSpans\",!0,Li,!0),e(\"addModeClass\",!1,Li,!0),e(\"pollInterval\",100),e(\"undoDepth\",200,function(e,t){return e.doc.history.undoDepth=t}),e(\"historyEventDelay\",1250),e(\"viewportMargin\",10,function(e){return e.refresh()},!0),e(\"maxHighlightLength\",1e4,Li,!0),e(\"moveInputWithCursor\",!0,function(e,t){t||e.display.input.resetPosition()}),e(\"tabindex\",null,function(e,t){return e.display.input.getField().tabIndex=t||\"\"}),e(\"autofocus\",null),e(\"direction\",\"ltr\",function(e,t){return e.doc.setDirection(t)},!0)}(ka),_a=(Pa=ka).optionHandlers,ja=Pa.helpers={},Pa.prototype={constructor:Pa,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,r=n[e];n[e]==t&&\"mode\"!=e||(n[e]=t,_a.hasOwnProperty(e)&&Vr(this,_a[e])(this,t,r),it(this,\"optionChange\",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?\"push\":\"unshift\"](Uo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Xr(function(e,t){var n=e.token?e:Pa.getMode(this.options,e);if(n.startState)throw new Error(\"Overlays may not be stateful.\");!function(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}(this.state.overlays,{mode:n,modeSpec:e,opaque:t&&t.opaque,priority:t&&t.priority||0},function(e){return e.priority}),this.state.modeGen++,Yr(this)}),removeOverlay:Xr(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||\"string\"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Yr(this)}}),indentLine:Xr(function(e,t,n){\"string\"!=typeof t&&\"number\"!=typeof t&&(t=null==t?this.options.smartIndent?\"smart\":\"prev\":t?\"add\":\"subtract\"),pe(this.doc,e)&&Ca(this,e,t,n)}),indentSelection:Xr(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Ca(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Lr(this));else{var o=i.from(),a=i.to(),l=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var s=l;s<n;++s)Ca(this,s,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&0<c[r].from().ch&&Ui(this.doc,r,new vi(o,c[r].to()),q)}}}),getTokenAt:function(e,t){return Ut(this,e,t)},getLineTokens:function(e,t){return Ut(this,ge(e),t,!0)},getTokenTypeAt:function(e){e=Se(this.doc,e);var t,n=Ft(this,se(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var l=t?t.indexOf(\"overlay \"):-1;return l<0?t:0==l?null:t.slice(0,l-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?Pa.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!ja.hasOwnProperty(t))return n;var r=ja[t],i=this.getModeAt(e);if(\"string\"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var a=r[i[t][o]];a&&n.push(a)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var l=0;l<r._global.length;l++){var s=r._global[l];s.pred(i,this)&&-1==P(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(e,t){var n=this.doc;return zt(this,(e=ke(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Gn(this,null==e?n.head:\"object\"==typeof e?Se(this.doc,e):e?n.from():n.to(),t||\"page\")},charCoords:function(e,t){return $n(this,Se(this.doc,e),t||\"page\")},coordsChar:function(e,t){return Kn(this,(e=Un(this,e,t||\"page\")).left,e.top)},lineAtHeight:function(e,t){return e=Un(this,{top:e,left:0},t||\"page\").top,de(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if(\"number\"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:o<e&&(e=o,i=!0),r=se(this.doc,e)}else r=e;return qn(this,r,{top:0,left:0},t||\"page\",n||i).top+(i?this.doc.height-Ve(r):0)},defaultTextHeight:function(){return er(this.display)},defaultCharWidth:function(){return tr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o,a,l,s=this.display,c=(e=Gn(this,Se(this.doc,e))).bottom,u=e.left;if(t.style.position=\"absolute\",t.setAttribute(\"cm-ignore-events\",\"true\"),this.display.input.setUneditable(t),s.sizer.appendChild(t),\"over\"==r)c=e.top;else if(\"above\"==r||\"near\"==r){var h=Math.max(s.wrapper.clientHeight,this.doc.height),f=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);(\"above\"==r||e.bottom+t.offsetHeight>h)&&e.top>t.offsetHeight?c=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=h&&(c=e.bottom),u+t.offsetWidth>f&&(u=f-t.offsetWidth)}t.style.top=c+\"px\",t.style.left=t.style.right=\"\",\"right\"==i?(u=s.sizer.clientWidth-t.offsetWidth,t.style.right=\"0px\"):(\"left\"==i?u=0:\"middle\"==i&&(u=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=u+\"px\"),n&&(o=this,a={left:u,top:c,right:u+t.offsetWidth,bottom:c+t.offsetHeight},null!=(l=Sr(o,a)).scrollTop&&Ar(o,l.scrollTop),null!=l.scrollLeft&&Or(o,l.scrollLeft))},triggerOnKeyDown:Xr(ia),triggerOnKeyPress:Xr(aa),triggerOnKeyUp:oa,triggerOnMouseDown:Xr(ua),execCommand:function(e){if(Ko.hasOwnProperty(e))return Ko[e].call(null,this)},triggerElectric:Xr(function(e){Aa(this,e)}),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=Se(this.doc,e),a=0;a<t&&!(o=Da(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:Xr(function(t,n){var r=this;this.extendSelectionsBy(function(e){return r.display.shift||r.doc.extend||e.empty()?Da(r.doc,e.head,t,n,r.options.rtlMoveVisually):t<0?e.from():e.to()},$)}),deleteH:Xr(function(n,r){var e=this.doc.sel,i=this.doc;e.somethingSelected()?i.replaceSelection(\"\",null,\"+delete\"):$o(this,function(e){var t=Da(i,e.head,n,r,!1);return n<0?{from:t,to:e.head}:{from:e.head,to:t}})}),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=Se(this.doc,e),l=0;l<t;++l){var s=Gn(this,a,\"div\");if(null==o?o=s.left:s.left=o,(a=Ha(this,s,i,n)).hitSide)break}return a},moveV:Xr(function(r,i){var o=this,a=this.doc,l=[],s=!this.display.shift&&!a.extend&&a.sel.somethingSelected();if(a.extendSelectionsBy(function(e){if(s)return r<0?e.from():e.to();var t=Gn(o,e.head,\"div\");null!=e.goalColumn&&(t.left=e.goalColumn),l.push(t.left);var n=Ha(o,t,r,i);return\"page\"==i&&e==a.sel.primary()&&Cr(o,$n(o,n,\"div\").top-t.top),n},$),l.length)for(var e=0;e<a.sel.ranges.length;e++)a.sel.ranges[e].goalColumn=l[e]}),findWordAt:function(e){var t=se(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,\"wordChars\");\"before\"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),a=te(o,i)?function(e){return te(e,i)}:/\\s/.test(o)?function(e){return/\\s/.test(e)}:function(e){return!/\\s/.test(e)&&!te(e)};0<n&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new vi(ge(e.line,n),ge(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?D(this.display.cursorDiv,\"CodeMirror-overwrite\"):T(this.display.cursorDiv,\"CodeMirror-overwrite\"),it(this,\"overwriteToggle\",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==I()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Xr(function(e,t){Tr(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ln(this)-this.display.barHeight,width:e.scrollWidth-Ln(this)-this.display.barWidth,clientHeight:Mn(this),clientWidth:Tn(this)}},scrollIntoView:Xr(function(e,t){var n,r;null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):\"number\"==typeof e?e={from:ge(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?(r=e,Mr(n=this),n.curOp.scrollToPos=r):Nr(this,e.from,e.to,e.margin)}),setSize:Xr(function(e,t){var n=this,r=function(e){return\"number\"==typeof e||/^\\d+$/.test(String(e))?e+\"px\":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&Fn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Zr(n,i,\"widget\");break}++i}),this.curOp.forceUpdate=!0,it(this,\"refresh\",this)}),operation:function(e){return Gr(this,e)},startOperation:function(){return Pr(this)},endOperation:function(){return _r(this)},refresh:Xr(function(){var e=this.display.cachedTextHeight;Yr(this),this.curOp.forceUpdate=!0,zn(this),Tr(this,this.doc.scrollLeft,this.doc.scrollTop),li(this),(null==e||.5<Math.abs(e-er(this.display)))&&or(this),it(this,\"refresh\",this)}),swapDoc:Xr(function(e){var t=this.doc;return t.cm=null,Ai(this,e),zn(this),this.display.input.reset(),Tr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,sn(this,\"swapDoc\",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},st(Pa),Pa.registerHelper=function(e,t,n){ja.hasOwnProperty(e)||(ja[e]=Pa[e]={_global:[]}),ja[e][t]=n},Pa.registerGlobalHelper=function(e,t,n,r){Pa.registerHelper(e,t,r),ja[e]._global.push({pred:n,val:r})};var Ua,$a=\"iter insert remove copy getEditor constructor\".split(\" \");for(var Ga in Lo.prototype)Lo.prototype.hasOwnProperty(Ga)&&P($a,Ga)<0&&(ka.prototype[Ga]=function(e){return function(){return e.apply(this.doc,arguments)}}(Lo.prototype[Ga]));return st(Lo),ka.inputStyles={textarea:qa,contenteditable:Ra},ka.defineMode=function(e){ka.defaults.mode||\"null\"==e||(ka.defaults.mode=e),function(e,t){2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Lt[e]=t}.apply(this,arguments)},ka.defineMIME=function(e,t){Tt[e]=t},ka.defineMode(\"null\",function(){return{token:function(e){return e.skipToEnd()}}}),ka.defineMIME(\"text/plain\",\"null\"),ka.defineExtension=function(e,t){ka.prototype[e]=t},ka.defineDocExtension=function(e,t){Lo.prototype[e]=t},ka.fromTextArea=function(t,e){if((e=e?W(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=I();e.autofocus=n==t||null!=t.getAttribute(\"autofocus\")&&n==document.body}function r(){t.value=l.getValue()}var i;if(t.form&&(tt(t.form,\"submit\",r),!e.leaveSubmitMethodAlone)){var o=t.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}e.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display=\"\",t.form&&(rt(t.form,\"submit\",r),\"function\"==typeof t.form.submit&&(t.form.submit=i))}},t.style.display=\"none\";var l=ka(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return l},(Ua=ka).off=rt,Ua.on=tt,Ua.wheelEventPixels=pi,Ua.Doc=Lo,Ua.splitLines=wt,Ua.countColumn=F,Ua.findColumn=G,Ua.isWordChar=ee,Ua.Pass=j,Ua.signal=it,Ua.Line=Vt,Ua.changeEnd=bi,Ua.scrollbarModel=Wr,Ua.Pos=ge,Ua.cmpPos=ve,Ua.modes=Lt,Ua.mimeModes=Tt,Ua.resolveMode=Mt,Ua.getMode=Nt,Ua.modeExtensions=At,Ua.extendMode=Et,Ua.copyState=Ot,Ua.startState=Dt,Ua.innerMode=It,Ua.commands=Ko,Ua.keyMap=Wo,Ua.keyName=qo,Ua.isModifierKey=_o,Ua.lookupKey=Po,Ua.normalizeKeyMap=zo,Ua.StringStream=Ht,Ua.SharedTextMarker=wo,Ua.TextMarker=xo,Ua.LineWidget=go,Ua.e_preventDefault=ct,Ua.e_stopPropagation=ut,Ua.e_stop=ft,Ua.addClass=D,Ua.contains=O,Ua.rmClass=T,Ua.keyNames=Do,ka.version=\"5.39.0\",ka},\"object\"==typeof n&&void 0!==t?t.exports=i():r.CodeMirror=i()},{}],11:[function(e,t,n){var r;r=function(a){\"use strict\";var l=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\\.beep|\\.lwz|\\.xpc|\\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\\.beeps?|xmpp|xri|ymsgr|z39\\.50[rs]?):(?:\\/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)(?:[^\\s()<>]|\\([^\\s()<>]*\\))+(?:\\([^\\s()<>]*\\)|[^\\s`*!()\\[\\]{};:'\".,<>?]))/i;a.defineMode(\"gfm\",function(e,i){var o=0;var t={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,t){if(t.combineTokens=null,t.codeBlock)return e.match(/^```+/)?t.codeBlock=!1:e.skipToEnd(),null;if(e.sol()&&(t.code=!1),e.sol()&&e.match(/^```+/))return e.skipToEnd(),t.codeBlock=!0,null;if(\"`\"===e.peek()){e.next();var n=e.pos;e.eatWhile(\"`\");var r=1+e.pos-n;return t.code?r===o&&(t.code=!1):(o=r,t.code=!0),null}if(t.code)return e.next(),null;if(e.eatSpace())return t.ateSpace=!0,null;if((e.sol()||t.ateSpace)&&(t.ateSpace=!1)!==i.gitHubSpice){if(e.match(/^(?:[a-zA-Z0-9\\-_]+\\/)?(?:[a-zA-Z0-9\\-_]+@)?(?=.{0,6}\\d)(?:[a-f0-9]{7,40}\\b)/))return t.combineTokens=!0,\"link\";if(e.match(/^(?:[a-zA-Z0-9\\-_]+\\/)?(?:[a-zA-Z0-9\\-_]+)?#[0-9]+\\b/))return t.combineTokens=!0,\"link\"}return e.match(l)&&\"](\"!=e.string.slice(e.start-2,e.start)&&(0==e.start||/\\W/.test(e.string.charAt(e.start-1)))?(t.combineTokens=!0,\"link\"):(e.next(),null)},blankLine:function(e){return e.code=!1,null}},n={taskLists:!0,strikethrough:!0,emoji:!0};for(var r in i)n[r]=i[r];return n.name=\"markdown\",a.overlayMode(a.getMode(e,n),t)},\"markdown\"),a.defineMIME(\"text/x-gfm\",\"gfm\")},\"object\"==typeof n&&\"object\"==typeof t?r(e(\"../../lib/codemirror\"),e(\"../markdown/markdown\"),e(\"../../addon/mode/overlay\")):r(CodeMirror)},{\"../../addon/mode/overlay\":8,\"../../lib/codemirror\":10,\"../markdown/markdown\":12}],12:[function(e,t,n){var r;r=function(R){\"use strict\";R.defineMode(\"markdown\",function(p,w){var k=R.getMode(p,\"text/html\"),i=\"null\"==k.name;void 0===w.highlightFormatting&&(w.highlightFormatting=!1),void 0===w.maxBlockquoteDepth&&(w.maxBlockquoteDepth=0),void 0===w.taskLists&&(w.taskLists=!1),void 0===w.strikethrough&&(w.strikethrough=!1),void 0===w.emoji&&(w.emoji=!1),void 0===w.fencedCodeBlockHighlighting&&(w.fencedCodeBlockHighlighting=!0),void 0===w.xml&&(w.xml=!0),void 0===w.tokenTypeOverrides&&(w.tokenTypeOverrides={});var S={header:\"header\",code:\"comment\",quote:\"quote\",list1:\"variable-2\",list2:\"variable-3\",list3:\"keyword\",hr:\"hr\",image:\"image\",imageAltText:\"image-alt-text\",imageMarker:\"image-marker\",formatting:\"formatting\",linkInline:\"link\",linkEmail:\"link\",linkText:\"link\",linkHref:\"string\",em:\"em\",strong:\"strong\",strikethrough:\"strikethrough\",emoji:\"builtin\"};for(var e in S)S.hasOwnProperty(e)&&w.tokenTypeOverrides[e]&&(S[e]=w.tokenTypeOverrides[e]);var m=/^([*\\-_])(?:\\s*\\1){2,}\\s*$/,g=/^(?:[*\\-+]|^[0-9]+([.)]))\\s+/,C=/^\\[(x| )\\](?=\\s)/i,v=w.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,y=/^ *(?:\\={1,}|-{1,})\\s*$/,n=/^[^#!\\[\\]*_\\\\<>` \"'(~:]+/,x=/^(~~~+|```+)[ \\t]*([\\w+#-]*)[^\\n`]*$/,b=/^\\s*\\[[^\\]]+?\\]:.*$/,L=/[!\\\"#$%&\\'()*+,\\-\\.\\/:;<=>?@\\[\\\\\\]^_`{|}~]/;function T(e,t,n){return t.f=t.inline=n,n(e,t)}function M(e,t,n){return t.f=t.block=n,n(e,t)}function r(e){if(e.linkTitle=!1,e.linkHref=!1,e.linkText=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,e.f==N){var t=i;if(!t){var n=R.innerMode(k,e.htmlState);t=\"xml\"==n.mode.name&&null===n.state.tagStart&&!n.state.context&&n.state.tokenize.isInText}t&&(e.f=O,e.block=a,e.htmlState=null)}return e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine={stream:null},null}function a(e,t){var n,r=e.column()===t.indentation,i=!(n=t.prevLine.stream)||!/\\S/.test(n.string),o=t.indentedCode,a=t.prevLine.hr,l=!1!==t.list,s=(t.listStack[t.listStack.length-1]||0)+3;t.indentedCode=!1;var c=t.indentation;if(null===t.indentationDiff&&(t.indentationDiff=t.indentation,l)){for(t.em=!1,t.strong=!1,t.code=!1,t.strikethrough=!1,t.list=null;c<t.listStack[t.listStack.length-1];)t.listStack.pop(),t.listStack.length?t.indentation=t.listStack[t.listStack.length-1]:t.list=!1;!1!==t.list&&(t.indentationDiff=c-t.listStack[t.listStack.length-1])}var u=!(i||a||t.prevLine.header||l&&o||t.prevLine.fencedCodeEnd),h=(!1===t.list||a||i)&&t.indentation<=s&&e.match(m),f=null;if(4<=t.indentationDiff&&(o||t.prevLine.fencedCodeEnd||t.prevLine.header||i))return e.skipToEnd(),t.indentedCode=!0,S.code;if(e.eatSpace())return null;if(r&&t.indentation<=s&&(f=e.match(v))&&f[1].length<=6)return t.quote=0,t.header=f[1].length,t.thisLine.header=!0,w.highlightFormatting&&(t.formatting=\"header\"),t.f=t.inline,E(t);if(t.indentation<=s&&e.eat(\">\"))return t.quote=r?1:t.quote+1,w.highlightFormatting&&(t.formatting=\"quote\"),e.eatSpace(),E(t);if(!h&&!t.setext&&r&&t.indentation<=s&&(f=e.match(g))){var d=f[1]?\"ol\":\"ul\";return t.indentation=c+e.current().length,t.list=!0,t.quote=0,t.listStack.push(t.indentation),w.taskLists&&e.match(C,!1)&&(t.taskList=!0),t.f=t.inline,w.highlightFormatting&&(t.formatting=[\"list\",\"list-\"+d]),E(t)}return r&&t.indentation<=s&&(f=e.match(x,!0))?(t.quote=0,t.fencedEndRE=new RegExp(f[1]+\"+ *$\"),t.localMode=w.fencedCodeBlockHighlighting&&function(e){if(R.findModeByName){var t=R.findModeByName(e);t&&(e=t.mime||t.mimes[0])}var n=R.getMode(p,e);return\"null\"==n.name?null:n}(f[2]),t.localMode&&(t.localState=R.startState(t.localMode)),t.f=t.block=A,w.highlightFormatting&&(t.formatting=\"code-block\"),t.code=-1,E(t)):t.setext||!(u&&l||t.quote||!1!==t.list||t.code||h||b.test(e.string))&&(f=e.lookAhead(1))&&(f=f.match(y))?(t.setext?(t.header=t.setext,t.setext=0,e.skipToEnd(),w.highlightFormatting&&(t.formatting=\"header\")):(t.header=\"=\"==f[0].charAt(0)?1:2,t.setext=t.header),t.thisLine.header=!0,t.f=t.inline,E(t)):h?(e.skipToEnd(),t.hr=!0,t.thisLine.hr=!0,S.hr):\"[\"===e.peek()?T(e,t,H):T(e,t,t.inline)}function N(e,t){var n=k.token(e,t.htmlState);if(!i){var r=R.innerMode(k,t.htmlState);(\"xml\"==r.mode.name&&null===r.state.tagStart&&!r.state.context&&r.state.tokenize.isInText||t.md_inside&&-1<e.current().indexOf(\">\"))&&(t.f=O,t.block=a,t.htmlState=null)}return n}function A(e,t){var n,r=t.listStack[t.listStack.length-1]||0,i=t.indentation<r,o=r+3;return t.fencedEndRE&&t.indentation<=o&&(i||e.match(t.fencedEndRE))?(w.highlightFormatting&&(t.formatting=\"code-block\"),i||(n=E(t)),t.localMode=t.localState=null,t.block=a,t.f=O,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,i?M(e,t,t.block):n):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),S.code)}function E(e){var t=[];if(e.formatting){t.push(S.formatting),\"string\"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var n=0;n<e.formatting.length;n++)t.push(S.formatting+\"-\"+e.formatting[n]),\"header\"===e.formatting[n]&&t.push(S.formatting+\"-\"+e.formatting[n]+\"-\"+e.header),\"quote\"===e.formatting[n]&&(!w.maxBlockquoteDepth||w.maxBlockquoteDepth>=e.quote?t.push(S.formatting+\"-\"+e.formatting[n]+\"-\"+e.quote):t.push(\"error\"))}if(e.taskOpen)return t.push(\"meta\"),t.length?t.join(\" \"):null;if(e.taskClosed)return t.push(\"property\"),t.length?t.join(\" \"):null;if(e.linkHref?t.push(S.linkHref,\"url\"):(e.strong&&t.push(S.strong),e.em&&t.push(S.em),e.strikethrough&&t.push(S.strikethrough),e.emoji&&t.push(S.emoji),e.linkText&&t.push(S.linkText),e.code&&t.push(S.code),e.image&&t.push(S.image),e.imageAltText&&t.push(S.imageAltText,\"link\"),e.imageMarker&&t.push(S.imageMarker)),e.header&&t.push(S.header,S.header+\"-\"+e.header),e.quote&&(t.push(S.quote),!w.maxBlockquoteDepth||w.maxBlockquoteDepth>=e.quote?t.push(S.quote+\"-\"+e.quote):t.push(S.quote+\"-\"+w.maxBlockquoteDepth)),!1!==e.list){var r=(e.listStack.length-1)%3;r?1===r?t.push(S.list2):t.push(S.list3):t.push(S.list1)}return e.trailingSpaceNewLine?t.push(\"trailing-space-new-line\"):e.trailingSpace&&t.push(\"trailing-space-\"+(e.trailingSpace%2?\"a\":\"b\")),t.length?t.join(\" \"):null}function t(e,t){if(e.match(n,!0))return E(t)}function O(e,t){var n=t.text(e,t);if(void 0!==n)return n;if(t.list)return t.list=null,E(t);if(t.taskList)return\" \"===e.match(C,!0)[1]?t.taskOpen=!0:t.taskClosed=!0,w.highlightFormatting&&(t.formatting=\"task\"),t.taskList=!1,E(t);if(t.taskOpen=!1,t.taskClosed=!1,t.header&&e.match(/^#+$/,!0))return w.highlightFormatting&&(t.formatting=\"header\"),E(t);var r=e.next();if(t.linkTitle){t.linkTitle=!1;var i=r;\"(\"===r&&(i=\")\");var o=\"^\\\\s*(?:[^\"+(i=(i+\"\").replace(/([.?*+^\\[\\]\\\\(){}|-])/g,\"\\\\$1\"))+\"\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)\"+i;if(e.match(new RegExp(o),!0))return S.linkHref}if(\"`\"===r){var a=t.formatting;w.highlightFormatting&&(t.formatting=\"code\"),e.eatWhile(\"`\");var l=e.current().length;if(0!=t.code||t.quote&&1!=l){if(l==t.code){var s=E(t);return t.code=0,s}return t.formatting=a,E(t)}return t.code=l,E(t)}if(t.code)return E(t);if(\"\\\\\"===r&&(e.next(),w.highlightFormatting)){var c=E(t),u=S.formatting+\"-escape\";return c?c+\" \"+u:u}if(\"!\"===r&&e.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/,!1))return t.imageMarker=!0,t.image=!0,w.highlightFormatting&&(t.formatting=\"image\"),E(t);if(\"[\"===r&&t.imageMarker&&e.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/,!1))return t.imageMarker=!1,t.imageAltText=!0,w.highlightFormatting&&(t.formatting=\"image\"),E(t);if(\"]\"===r&&t.imageAltText){w.highlightFormatting&&(t.formatting=\"image\");var c=E(t);return t.imageAltText=!1,t.image=!1,t.inline=t.f=D,c}if(\"[\"===r&&!t.image)return t.linkText=!0,w.highlightFormatting&&(t.formatting=\"link\"),E(t);if(\"]\"===r&&t.linkText){w.highlightFormatting&&(t.formatting=\"link\");var c=E(t);return t.linkText=!1,t.inline=t.f=e.match(/\\(.*?\\)| ?\\[.*?\\]/,!1)?D:O,c}if(\"<\"===r&&e.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/,!1))return t.f=t.inline=I,w.highlightFormatting&&(t.formatting=\"link\"),(c=E(t))?c+=\" \":c=\"\",c+S.linkInline;if(\"<\"===r&&e.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/,!1))return t.f=t.inline=I,w.highlightFormatting&&(t.formatting=\"link\"),(c=E(t))?c+=\" \":c=\"\",c+S.linkEmail;if(w.xml&&\"<\"===r&&e.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i,!1)){var h=e.string.indexOf(\">\",e.pos);if(-1!=h){var f=e.string.substring(e.start,h);/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(f)&&(t.md_inside=!0)}return e.backUp(1),t.htmlState=R.startState(k),M(e,t,N)}if(w.xml&&\"<\"===r&&e.match(/^\\/\\w*?>/))return t.md_inside=!1,\"tag\";if(\"*\"===r||\"_\"===r){for(var d=1,p=1==e.pos?\" \":e.string.charAt(e.pos-2);d<3&&e.eat(r);)d++;var m=e.peek()||\" \",g=!/\\s/.test(m)&&(!L.test(m)||/\\s/.test(p)||L.test(p)),v=!/\\s/.test(p)&&(!L.test(p)||/\\s/.test(m)||L.test(m)),y=null,x=null;if(d%2&&(t.em||!g||\"*\"!==r&&v&&!L.test(p)?t.em!=r||!v||\"*\"!==r&&g&&!L.test(m)||(y=!1):y=!0),1<d&&(t.strong||!g||\"*\"!==r&&v&&!L.test(p)?t.strong!=r||!v||\"*\"!==r&&g&&!L.test(m)||(x=!1):x=!0),null!=x||null!=y){w.highlightFormatting&&(t.formatting=null==y?\"strong\":null==x?\"em\":\"strong em\"),!0===y&&(t.em=r),!0===x&&(t.strong=r);s=E(t);return!1===y&&(t.em=!1),!1===x&&(t.strong=!1),s}}else if(\" \"===r&&(e.eat(\"*\")||e.eat(\"_\"))){if(\" \"===e.peek())return E(t);e.backUp(1)}if(w.strikethrough)if(\"~\"===r&&e.eatWhile(r)){if(t.strikethrough){w.highlightFormatting&&(t.formatting=\"strikethrough\");s=E(t);return t.strikethrough=!1,s}if(e.match(/^[^\\s]/,!1))return t.strikethrough=!0,w.highlightFormatting&&(t.formatting=\"strikethrough\"),E(t)}else if(\" \"===r&&e.match(/^~~/,!0)){if(\" \"===e.peek())return E(t);e.backUp(2)}if(w.emoji&&\":\"===r&&e.match(/^[a-z_\\d+-]+:/)){t.emoji=!0,w.highlightFormatting&&(t.formatting=\"emoji\");var b=E(t);return t.emoji=!1,b}return\" \"===r&&(e.match(/^ +$/,!1)?t.trailingSpace++:t.trailingSpace&&(t.trailingSpaceNewLine=!0)),E(t)}function I(e,t){if(\">\"===e.next()){t.f=t.inline=O,w.highlightFormatting&&(t.formatting=\"link\");var n=E(t);return n?n+=\" \":n=\"\",n+S.linkInline}return e.match(/^[^>]+/,!0),S.linkInline}function D(e,t){if(e.eatSpace())return null;var i,n=e.next();return\"(\"===n||\"[\"===n?(t.f=t.inline=(i=\"(\"===n?\")\":\"]\",function(e,t){var n=e.next();if(n===i){t.f=t.inline=O,w.highlightFormatting&&(t.formatting=\"link-string\");var r=E(t);return t.linkHref=!1,r}return e.match(o[i]),t.linkHref=!0,E(t)}),w.highlightFormatting&&(t.formatting=\"link-string\"),t.linkHref=!0,E(t)):\"error\"}var o={\")\":/^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\"]\":/^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/};function H(e,t){return e.match(/^([^\\]\\\\]|\\\\.)*\\]:/,!1)?(t.f=l,e.next(),w.highlightFormatting&&(t.formatting=\"link\"),t.linkText=!0,E(t)):T(e,t,O)}function l(e,t){if(e.match(/^\\]:/,!0)){t.f=t.inline=s,w.highlightFormatting&&(t.formatting=\"link\");var n=E(t);return t.linkText=!1,n}return e.match(/^([^\\]\\\\]|\\\\.)+/,!0),S.linkText}function s(e,t){return e.eatSpace()?null:(e.match(/^[^\\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\\\\\|\\\\.)+\"|'(?:[^'\\\\]|\\\\\\\\|\\\\.)+'|\\((?:[^)\\\\]|\\\\\\\\|\\\\.)+\\)))?/,!0),t.f=t.inline=O,S.linkHref+\" url\")}var c={startState:function(){return{f:a,prevLine:{stream:null},thisLine:{stream:null},block:a,htmlState:null,indentation:0,inline:O,text:t,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(e){return{f:e.f,prevLine:e.prevLine,thisLine:e.thisLine,block:e.block,htmlState:e.htmlState&&R.copyState(k,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?R.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,formatting:!1,linkText:e.linkText,linkTitle:e.linkTitle,linkHref:e.linkHref,code:e.code,em:e.em,strong:e.strong,strikethrough:e.strikethrough,emoji:e.emoji,header:e.header,setext:e.setext,hr:e.hr,taskList:e.taskList,list:e.list,listStack:e.listStack.slice(0),quote:e.quote,indentedCode:e.indentedCode,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside,fencedEndRE:e.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\\s*$/,!0))return r(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=N)){var n=e.match(/^\\s*/,!0)[0].replace(/\\t/g,\"    \").length;if(t.indentation=n,t.indentationDiff=null,0<n)return null}}return t.f(e,t)},innerMode:function(e){return e.block==N?{state:e.htmlState,mode:k}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:c}},indent:function(e,t,n){return e.block==N&&k.indent?k.indent(e.htmlState,t,n):e.localState&&e.localMode.indent?e.localMode.indent(e.localState,t,n):R.Pass},blankLine:r,getType:E,closeBrackets:\"()[]{}''\\\"\\\"``\",fold:\"markdown\"};return c},\"xml\"),R.defineMIME(\"text/markdown\",\"markdown\"),R.defineMIME(\"text/x-markdown\",\"markdown\")},\"object\"==typeof n&&\"object\"==typeof t?r(e(\"../../lib/codemirror\"),e(\"../xml/xml\"),e(\"../meta\")):r(CodeMirror)},{\"../../lib/codemirror\":10,\"../meta\":13,\"../xml/xml\":14}],13:[function(e,t,n){(function(o){\"use strict\";o.modeInfo=[{name:\"APL\",mime:\"text/apl\",mode:\"apl\",ext:[\"dyalog\",\"apl\"]},{name:\"PGP\",mimes:[\"application/pgp\",\"application/pgp-encrypted\",\"application/pgp-keys\",\"application/pgp-signature\"],mode:\"asciiarmor\",ext:[\"asc\",\"pgp\",\"sig\"]},{name:\"ASN.1\",mime:\"text/x-ttcn-asn\",mode:\"asn.1\",ext:[\"asn\",\"asn1\"]},{name:\"Asterisk\",mime:\"text/x-asterisk\",mode:\"asterisk\",file:/^extensions\\.conf$/i},{name:\"Brainfuck\",mime:\"text/x-brainfuck\",mode:\"brainfuck\",ext:[\"b\",\"bf\"]},{name:\"C\",mime:\"text/x-csrc\",mode:\"clike\",ext:[\"c\",\"h\",\"ino\"]},{name:\"C++\",mime:\"text/x-c++src\",mode:\"clike\",ext:[\"cpp\",\"c++\",\"cc\",\"cxx\",\"hpp\",\"h++\",\"hh\",\"hxx\"],alias:[\"cpp\"]},{name:\"Cobol\",mime:\"text/x-cobol\",mode:\"cobol\",ext:[\"cob\",\"cpy\"]},{name:\"C#\",mime:\"text/x-csharp\",mode:\"clike\",ext:[\"cs\"],alias:[\"csharp\"]},{name:\"Clojure\",mime:\"text/x-clojure\",mode:\"clojure\",ext:[\"clj\",\"cljc\",\"cljx\"]},{name:\"ClojureScript\",mime:\"text/x-clojurescript\",mode:\"clojure\",ext:[\"cljs\"]},{name:\"Closure Stylesheets (GSS)\",mime:\"text/x-gss\",mode:\"css\",ext:[\"gss\"]},{name:\"CMake\",mime:\"text/x-cmake\",mode:\"cmake\",ext:[\"cmake\",\"cmake.in\"],file:/^CMakeLists.txt$/},{name:\"CoffeeScript\",mimes:[\"application/vnd.coffeescript\",\"text/coffeescript\",\"text/x-coffeescript\"],mode:\"coffeescript\",ext:[\"coffee\"],alias:[\"coffee\",\"coffee-script\"]},{name:\"Common Lisp\",mime:\"text/x-common-lisp\",mode:\"commonlisp\",ext:[\"cl\",\"lisp\",\"el\"],alias:[\"lisp\"]},{name:\"Cypher\",mime:\"application/x-cypher-query\",mode:\"cypher\",ext:[\"cyp\",\"cypher\"]},{name:\"Cython\",mime:\"text/x-cython\",mode:\"python\",ext:[\"pyx\",\"pxd\",\"pxi\"]},{name:\"Crystal\",mime:\"text/x-crystal\",mode:\"crystal\",ext:[\"cr\"]},{name:\"CSS\",mime:\"text/css\",mode:\"css\",ext:[\"css\"]},{name:\"CQL\",mime:\"text/x-cassandra\",mode:\"sql\",ext:[\"cql\"]},{name:\"D\",mime:\"text/x-d\",mode:\"d\",ext:[\"d\"]},{name:\"Dart\",mimes:[\"application/dart\",\"text/x-dart\"],mode:\"dart\",ext:[\"dart\"]},{name:\"diff\",mime:\"text/x-diff\",mode:\"diff\",ext:[\"diff\",\"patch\"]},{name:\"Django\",mime:\"text/x-django\",mode:\"django\"},{name:\"Dockerfile\",mime:\"text/x-dockerfile\",mode:\"dockerfile\",file:/^Dockerfile$/},{name:\"DTD\",mime:\"application/xml-dtd\",mode:\"dtd\",ext:[\"dtd\"]},{name:\"Dylan\",mime:\"text/x-dylan\",mode:\"dylan\",ext:[\"dylan\",\"dyl\",\"intr\"]},{name:\"EBNF\",mime:\"text/x-ebnf\",mode:\"ebnf\"},{name:\"ECL\",mime:\"text/x-ecl\",mode:\"ecl\",ext:[\"ecl\"]},{name:\"edn\",mime:\"application/edn\",mode:\"clojure\",ext:[\"edn\"]},{name:\"Eiffel\",mime:\"text/x-eiffel\",mode:\"eiffel\",ext:[\"e\"]},{name:\"Elm\",mime:\"text/x-elm\",mode:\"elm\",ext:[\"elm\"]},{name:\"Embedded Javascript\",mime:\"application/x-ejs\",mode:\"htmlembedded\",ext:[\"ejs\"]},{name:\"Embedded Ruby\",mime:\"application/x-erb\",mode:\"htmlembedded\",ext:[\"erb\"]},{name:\"Erlang\",mime:\"text/x-erlang\",mode:\"erlang\",ext:[\"erl\"]},{name:\"Esper\",mime:\"text/x-esper\",mode:\"sql\"},{name:\"Factor\",mime:\"text/x-factor\",mode:\"factor\",ext:[\"factor\"]},{name:\"FCL\",mime:\"text/x-fcl\",mode:\"fcl\"},{name:\"Forth\",mime:\"text/x-forth\",mode:\"forth\",ext:[\"forth\",\"fth\",\"4th\"]},{name:\"Fortran\",mime:\"text/x-fortran\",mode:\"fortran\",ext:[\"f\",\"for\",\"f77\",\"f90\"]},{name:\"F#\",mime:\"text/x-fsharp\",mode:\"mllike\",ext:[\"fs\"],alias:[\"fsharp\"]},{name:\"Gas\",mime:\"text/x-gas\",mode:\"gas\",ext:[\"s\"]},{name:\"Gherkin\",mime:\"text/x-feature\",mode:\"gherkin\",ext:[\"feature\"]},{name:\"GitHub Flavored Markdown\",mime:\"text/x-gfm\",mode:\"gfm\",file:/^(readme|contributing|history).md$/i},{name:\"Go\",mime:\"text/x-go\",mode:\"go\",ext:[\"go\"]},{name:\"Groovy\",mime:\"text/x-groovy\",mode:\"groovy\",ext:[\"groovy\",\"gradle\"],file:/^Jenkinsfile$/},{name:\"HAML\",mime:\"text/x-haml\",mode:\"haml\",ext:[\"haml\"]},{name:\"Haskell\",mime:\"text/x-haskell\",mode:\"haskell\",ext:[\"hs\"]},{name:\"Haskell (Literate)\",mime:\"text/x-literate-haskell\",mode:\"haskell-literate\",ext:[\"lhs\"]},{name:\"Haxe\",mime:\"text/x-haxe\",mode:\"haxe\",ext:[\"hx\"]},{name:\"HXML\",mime:\"text/x-hxml\",mode:\"haxe\",ext:[\"hxml\"]},{name:\"ASP.NET\",mime:\"application/x-aspx\",mode:\"htmlembedded\",ext:[\"aspx\"],alias:[\"asp\",\"aspx\"]},{name:\"HTML\",mime:\"text/html\",mode:\"htmlmixed\",ext:[\"html\",\"htm\",\"handlebars\",\"hbs\"],alias:[\"xhtml\"]},{name:\"HTTP\",mime:\"message/http\",mode:\"http\"},{name:\"IDL\",mime:\"text/x-idl\",mode:\"idl\",ext:[\"pro\"]},{name:\"Pug\",mime:\"text/x-pug\",mode:\"pug\",ext:[\"jade\",\"pug\"],alias:[\"jade\"]},{name:\"Java\",mime:\"text/x-java\",mode:\"clike\",ext:[\"java\"]},{name:\"Java Server Pages\",mime:\"application/x-jsp\",mode:\"htmlembedded\",ext:[\"jsp\"],alias:[\"jsp\"]},{name:\"JavaScript\",mimes:[\"text/javascript\",\"text/ecmascript\",\"application/javascript\",\"application/x-javascript\",\"application/ecmascript\"],mode:\"javascript\",ext:[\"js\"],alias:[\"ecmascript\",\"js\",\"node\"]},{name:\"JSON\",mimes:[\"application/json\",\"application/x-json\"],mode:\"javascript\",ext:[\"json\",\"map\"],alias:[\"json5\"]},{name:\"JSON-LD\",mime:\"application/ld+json\",mode:\"javascript\",ext:[\"jsonld\"],alias:[\"jsonld\"]},{name:\"JSX\",mime:\"text/jsx\",mode:\"jsx\",ext:[\"jsx\"]},{name:\"Jinja2\",mime:\"null\",mode:\"jinja2\"},{name:\"Julia\",mime:\"text/x-julia\",mode:\"julia\",ext:[\"jl\"]},{name:\"Kotlin\",mime:\"text/x-kotlin\",mode:\"clike\",ext:[\"kt\"]},{name:\"LESS\",mime:\"text/x-less\",mode:\"css\",ext:[\"less\"]},{name:\"LiveScript\",mime:\"text/x-livescript\",mode:\"livescript\",ext:[\"ls\"],alias:[\"ls\"]},{name:\"Lua\",mime:\"text/x-lua\",mode:\"lua\",ext:[\"lua\"]},{name:\"Markdown\",mime:\"text/x-markdown\",mode:\"markdown\",ext:[\"markdown\",\"md\",\"mkd\"]},{name:\"mIRC\",mime:\"text/mirc\",mode:\"mirc\"},{name:\"MariaDB SQL\",mime:\"text/x-mariadb\",mode:\"sql\"},{name:\"Mathematica\",mime:\"text/x-mathematica\",mode:\"mathematica\",ext:[\"m\",\"nb\"]},{name:\"Modelica\",mime:\"text/x-modelica\",mode:\"modelica\",ext:[\"mo\"]},{name:\"MUMPS\",mime:\"text/x-mumps\",mode:\"mumps\",ext:[\"mps\"]},{name:\"MS SQL\",mime:\"text/x-mssql\",mode:\"sql\"},{name:\"mbox\",mime:\"application/mbox\",mode:\"mbox\",ext:[\"mbox\"]},{name:\"MySQL\",mime:\"text/x-mysql\",mode:\"sql\"},{name:\"Nginx\",mime:\"text/x-nginx-conf\",mode:\"nginx\",file:/nginx.*\\.conf$/i},{name:\"NSIS\",mime:\"text/x-nsis\",mode:\"nsis\",ext:[\"nsh\",\"nsi\"]},{name:\"NTriples\",mimes:[\"application/n-triples\",\"application/n-quads\",\"text/n-triples\"],mode:\"ntriples\",ext:[\"nt\",\"nq\"]},{name:\"Objective-C\",mime:\"text/x-objectivec\",mode:\"clike\",ext:[\"m\",\"mm\"],alias:[\"objective-c\",\"objc\"]},{name:\"OCaml\",mime:\"text/x-ocaml\",mode:\"mllike\",ext:[\"ml\",\"mli\",\"mll\",\"mly\"]},{name:\"Octave\",mime:\"text/x-octave\",mode:\"octave\",ext:[\"m\"]},{name:\"Oz\",mime:\"text/x-oz\",mode:\"oz\",ext:[\"oz\"]},{name:\"Pascal\",mime:\"text/x-pascal\",mode:\"pascal\",ext:[\"p\",\"pas\"]},{name:\"PEG.js\",mime:\"null\",mode:\"pegjs\",ext:[\"jsonld\"]},{name:\"Perl\",mime:\"text/x-perl\",mode:\"perl\",ext:[\"pl\",\"pm\"]},{name:\"PHP\",mimes:[\"text/x-php\",\"application/x-httpd-php\",\"application/x-httpd-php-open\"],mode:\"php\",ext:[\"php\",\"php3\",\"php4\",\"php5\",\"php7\",\"phtml\"]},{name:\"Pig\",mime:\"text/x-pig\",mode:\"pig\",ext:[\"pig\"]},{name:\"Plain Text\",mime:\"text/plain\",mode:\"null\",ext:[\"txt\",\"text\",\"conf\",\"def\",\"list\",\"log\"]},{name:\"PLSQL\",mime:\"text/x-plsql\",mode:\"sql\",ext:[\"pls\"]},{name:\"PowerShell\",mime:\"application/x-powershell\",mode:\"powershell\",ext:[\"ps1\",\"psd1\",\"psm1\"]},{name:\"Properties files\",mime:\"text/x-properties\",mode:\"properties\",ext:[\"properties\",\"ini\",\"in\"],alias:[\"ini\",\"properties\"]},{name:\"ProtoBuf\",mime:\"text/x-protobuf\",mode:\"protobuf\",ext:[\"proto\"]},{name:\"Python\",mime:\"text/x-python\",mode:\"python\",ext:[\"BUILD\",\"bzl\",\"py\",\"pyw\"],file:/^(BUCK|BUILD)$/},{name:\"Puppet\",mime:\"text/x-puppet\",mode:\"puppet\",ext:[\"pp\"]},{name:\"Q\",mime:\"text/x-q\",mode:\"q\",ext:[\"q\"]},{name:\"R\",mime:\"text/x-rsrc\",mode:\"r\",ext:[\"r\",\"R\"],alias:[\"rscript\"]},{name:\"reStructuredText\",mime:\"text/x-rst\",mode:\"rst\",ext:[\"rst\"],alias:[\"rst\"]},{name:\"RPM Changes\",mime:\"text/x-rpm-changes\",mode:\"rpm\"},{name:\"RPM Spec\",mime:\"text/x-rpm-spec\",mode:\"rpm\",ext:[\"spec\"]},{name:\"Ruby\",mime:\"text/x-ruby\",mode:\"ruby\",ext:[\"rb\"],alias:[\"jruby\",\"macruby\",\"rake\",\"rb\",\"rbx\"]},{name:\"Rust\",mime:\"text/x-rustsrc\",mode:\"rust\",ext:[\"rs\"]},{name:\"SAS\",mime:\"text/x-sas\",mode:\"sas\",ext:[\"sas\"]},{name:\"Sass\",mime:\"text/x-sass\",mode:\"sass\",ext:[\"sass\"]},{name:\"Scala\",mime:\"text/x-scala\",mode:\"clike\",ext:[\"scala\"]},{name:\"Scheme\",mime:\"text/x-scheme\",mode:\"scheme\",ext:[\"scm\",\"ss\"]},{name:\"SCSS\",mime:\"text/x-scss\",mode:\"css\",ext:[\"scss\"]},{name:\"Shell\",mimes:[\"text/x-sh\",\"application/x-sh\"],mode:\"shell\",ext:[\"sh\",\"ksh\",\"bash\"],alias:[\"bash\",\"sh\",\"zsh\"],file:/^PKGBUILD$/},{name:\"Sieve\",mime:\"application/sieve\",mode:\"sieve\",ext:[\"siv\",\"sieve\"]},{name:\"Slim\",mimes:[\"text/x-slim\",\"application/x-slim\"],mode:\"slim\",ext:[\"slim\"]},{name:\"Smalltalk\",mime:\"text/x-stsrc\",mode:\"smalltalk\",ext:[\"st\"]},{name:\"Smarty\",mime:\"text/x-smarty\",mode:\"smarty\",ext:[\"tpl\"]},{name:\"Solr\",mime:\"text/x-solr\",mode:\"solr\"},{name:\"SML\",mime:\"text/x-sml\",mode:\"mllike\",ext:[\"sml\",\"sig\",\"fun\",\"smackspec\"]},{name:\"Soy\",mime:\"text/x-soy\",mode:\"soy\",ext:[\"soy\"],alias:[\"closure template\"]},{name:\"SPARQL\",mime:\"application/sparql-query\",mode:\"sparql\",ext:[\"rq\",\"sparql\"],alias:[\"sparul\"]},{name:\"Spreadsheet\",mime:\"text/x-spreadsheet\",mode:\"spreadsheet\",alias:[\"excel\",\"formula\"]},{name:\"SQL\",mime:\"text/x-sql\",mode:\"sql\",ext:[\"sql\"]},{name:\"SQLite\",mime:\"text/x-sqlite\",mode:\"sql\"},{name:\"Squirrel\",mime:\"text/x-squirrel\",mode:\"clike\",ext:[\"nut\"]},{name:\"Stylus\",mime:\"text/x-styl\",mode:\"stylus\",ext:[\"styl\"]},{name:\"Swift\",mime:\"text/x-swift\",mode:\"swift\",ext:[\"swift\"]},{name:\"sTeX\",mime:\"text/x-stex\",mode:\"stex\"},{name:\"LaTeX\",mime:\"text/x-latex\",mode:\"stex\",ext:[\"text\",\"ltx\",\"tex\"],alias:[\"tex\"]},{name:\"SystemVerilog\",mime:\"text/x-systemverilog\",mode:\"verilog\",ext:[\"v\",\"sv\",\"svh\"]},{name:\"Tcl\",mime:\"text/x-tcl\",mode:\"tcl\",ext:[\"tcl\"]},{name:\"Textile\",mime:\"text/x-textile\",mode:\"textile\",ext:[\"textile\"]},{name:\"TiddlyWiki \",mime:\"text/x-tiddlywiki\",mode:\"tiddlywiki\"},{name:\"Tiki wiki\",mime:\"text/tiki\",mode:\"tiki\"},{name:\"TOML\",mime:\"text/x-toml\",mode:\"toml\",ext:[\"toml\"]},{name:\"Tornado\",mime:\"text/x-tornado\",mode:\"tornado\"},{name:\"troff\",mime:\"text/troff\",mode:\"troff\",ext:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"]},{name:\"TTCN\",mime:\"text/x-ttcn\",mode:\"ttcn\",ext:[\"ttcn\",\"ttcn3\",\"ttcnpp\"]},{name:\"TTCN_CFG\",mime:\"text/x-ttcn-cfg\",mode:\"ttcn-cfg\",ext:[\"cfg\"]},{name:\"Turtle\",mime:\"text/turtle\",mode:\"turtle\",ext:[\"ttl\"]},{name:\"TypeScript\",mime:\"application/typescript\",mode:\"javascript\",ext:[\"ts\"],alias:[\"ts\"]},{name:\"TypeScript-JSX\",mime:\"text/typescript-jsx\",mode:\"jsx\",ext:[\"tsx\"],alias:[\"tsx\"]},{name:\"Twig\",mime:\"text/x-twig\",mode:\"twig\"},{name:\"Web IDL\",mime:\"text/x-webidl\",mode:\"webidl\",ext:[\"webidl\"]},{name:\"VB.NET\",mime:\"text/x-vb\",mode:\"vb\",ext:[\"vb\"]},{name:\"VBScript\",mime:\"text/vbscript\",mode:\"vbscript\",ext:[\"vbs\"]},{name:\"Velocity\",mime:\"text/velocity\",mode:\"velocity\",ext:[\"vtl\"]},{name:\"Verilog\",mime:\"text/x-verilog\",mode:\"verilog\",ext:[\"v\"]},{name:\"VHDL\",mime:\"text/x-vhdl\",mode:\"vhdl\",ext:[\"vhd\",\"vhdl\"]},{name:\"Vue.js Component\",mimes:[\"script/x-vue\",\"text/x-vue\"],mode:\"vue\",ext:[\"vue\"]},{name:\"XML\",mimes:[\"application/xml\",\"text/xml\"],mode:\"xml\",ext:[\"xml\",\"xsl\",\"xsd\",\"svg\"],alias:[\"rss\",\"wsdl\",\"xsd\"]},{name:\"XQuery\",mime:\"application/xquery\",mode:\"xquery\",ext:[\"xy\",\"xquery\"]},{name:\"Yacas\",mime:\"text/x-yacas\",mode:\"yacas\",ext:[\"ys\"]},{name:\"YAML\",mimes:[\"text/x-yaml\",\"text/yaml\"],mode:\"yaml\",ext:[\"yaml\",\"yml\"],alias:[\"yml\"]},{name:\"Z80\",mime:\"text/x-z80\",mode:\"z80\",ext:[\"z80\"]},{name:\"mscgen\",mime:\"text/x-mscgen\",mode:\"mscgen\",ext:[\"mscgen\",\"mscin\",\"msc\"]},{name:\"xu\",mime:\"text/x-xu\",mode:\"mscgen\",ext:[\"xu\"]},{name:\"msgenny\",mime:\"text/x-msgenny\",mode:\"mscgen\",ext:[\"msgenny\"]}];for(var e=0;e<o.modeInfo.length;e++){var t=o.modeInfo[e];t.mimes&&(t.mime=t.mimes[0])}o.findModeByMIME=function(e){e=e.toLowerCase();for(var t=0;t<o.modeInfo.length;t++){var n=o.modeInfo[t];if(n.mime==e)return n;if(n.mimes)for(var r=0;r<n.mimes.length;r++)if(n.mimes[r]==e)return n}return/\\+xml$/.test(e)?o.findModeByMIME(\"application/xml\"):/\\+json$/.test(e)?o.findModeByMIME(\"application/json\"):void 0},o.findModeByExtension=function(e){for(var t=0;t<o.modeInfo.length;t++){var n=o.modeInfo[t];if(n.ext)for(var r=0;r<n.ext.length;r++)if(n.ext[r]==e)return n}},o.findModeByFileName=function(e){for(var t=0;t<o.modeInfo.length;t++){var n=o.modeInfo[t];if(n.file&&n.file.test(e))return n}var r=e.lastIndexOf(\".\"),i=-1<r&&e.substring(r+1,e.length);if(i)return o.findModeByExtension(i)},o.findModeByName=function(e){e=e.toLowerCase();for(var t=0;t<o.modeInfo.length;t++){var n=o.modeInfo[t];if(n.name.toLowerCase()==e)return n;if(n.alias)for(var r=0;r<n.alias.length;r++)if(n.alias[r].toLowerCase()==e)return n}}})(\"object\"==typeof n&&\"object\"==typeof t?e(\"../lib/codemirror\"):CodeMirror)},{\"../lib/codemirror\":10}],14:[function(e,t,n){(function(S){\"use strict\";var C={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},L={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};S.defineMode(\"xml\",function(e,t){var a,o,l=e.indentUnit,s={},n=t.htmlMode?C:L;for(var r in n)s[r]=n[r];for(var r in t)s[r]=t[r];function c(t,n){function e(e){return(n.tokenize=e)(t,n)}var r=t.next();return\"<\"==r?t.eat(\"!\")?t.eat(\"[\")?t.match(\"CDATA[\")?e(i(\"atom\",\"]]>\")):null:t.match(\"--\")?e(i(\"comment\",\"--\\x3e\")):t.match(\"DOCTYPE\",!0,!0)?(t.eatWhile(/[\\w\\._\\-]/),e(function r(i){return function(e,t){for(var n;null!=(n=e.next());){if(\"<\"==n)return t.tokenize=r(i+1),t.tokenize(e,t);if(\">\"==n){if(1==i){t.tokenize=c;break}return t.tokenize=r(i-1),t.tokenize(e,t)}}return\"meta\"}}(1))):null:t.eat(\"?\")?(t.eatWhile(/[\\w\\._\\-]/),n.tokenize=i(\"meta\",\"?>\"),\"meta\"):(a=t.eat(\"/\")?\"closeTag\":\"openTag\",n.tokenize=u,\"tag bracket\"):\"&\"==r?(t.eat(\"#\")?t.eat(\"x\")?t.eatWhile(/[a-fA-F\\d]/)&&t.eat(\";\"):t.eatWhile(/[\\d]/)&&t.eat(\";\"):t.eatWhile(/[\\w\\.\\-:]/)&&t.eat(\";\"))?\"atom\":\"error\":(t.eatWhile(/[^&<]/),null)}function u(e,t){var n,r,i=e.next();if(\">\"==i||\"/\"==i&&e.eat(\">\"))return t.tokenize=c,a=\">\"==i?\"endTag\":\"selfcloseTag\",\"tag bracket\";if(\"=\"==i)return a=\"equals\",null;if(\"<\"==i){t.tokenize=c,t.state=p,t.tagName=t.tagStart=null;var o=t.tokenize(e,t);return o?o+\" tag error\":\"tag error\"}return/[\\'\\\"]/.test(i)?(t.tokenize=(n=i,(r=function(e,t){for(;!e.eol();)if(e.next()==n){t.tokenize=u;break}return\"string\"}).isInAttribute=!0,r),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/),\"word\")}function i(n,r){return function(e,t){for(;!e.eol();){if(e.match(r)){t.tokenize=c;break}e.next()}return n}}function h(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(s.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function f(e){e.context&&(e.context=e.context.prev)}function d(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!s.contextGrabbers.hasOwnProperty(n)||!s.contextGrabbers[n].hasOwnProperty(t))return;f(e)}}function p(e,t,n){return\"openTag\"==e?(n.tagStart=t.column(),m):\"closeTag\"==e?g:p}function m(e,t,n){return\"word\"==e?(n.tagName=t.current(),o=\"tag\",x):s.allowMissingTagName&&\"endTag\"==e?(o=\"tag bracket\",x(e,t,n)):(o=\"error\",m)}function g(e,t,n){if(\"word\"==e){var r=t.current();return n.context&&n.context.tagName!=r&&s.implicitlyClosed.hasOwnProperty(n.context.tagName)&&f(n),n.context&&n.context.tagName==r||!1===s.matchClosing?(o=\"tag\",v):(o=\"tag error\",y)}return s.allowMissingTagName&&\"endTag\"==e?(o=\"tag bracket\",v(e,t,n)):(o=\"error\",y)}function v(e,t,n){return\"endTag\"!=e?(o=\"error\",v):(f(n),p)}function y(e,t,n){return o=\"error\",v(e,0,n)}function x(e,t,n){if(\"word\"==e)return o=\"attribute\",b;if(\"endTag\"==e||\"selfcloseTag\"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,\"selfcloseTag\"==e||s.autoSelfClosers.hasOwnProperty(r)?d(n,r):(d(n,r),n.context=new h(n,r,i==n.indented)),p}return o=\"error\",x}function b(e,t,n){return\"equals\"==e?w:(s.allowMissing||(o=\"error\"),x(e,0,n))}function w(e,t,n){return\"string\"==e?k:\"word\"==e&&s.allowUnquoted?(o=\"string\",x):(o=\"error\",x(e,0,n))}function k(e,t,n){return\"string\"==e?k:x(e,0,n)}return c.isInText=!0,{startState:function(e){var t={tokenize:c,state:p,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;a=null;var n=t.tokenize(e,t);return(n||a)&&\"comment\"!=n&&(o=null,t.state=t.state(a||n,e,t),o&&(n=\"error\"==o?n+\" error\":o)),n},indent:function(e,t,n){var r=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+l;if(r&&r.noIndent)return S.Pass;if(e.tokenize!=u&&e.tokenize!=c)return n?n.match(/^(\\s*)/)[0].length:0;if(e.tagName)return!1!==s.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+l*(s.multilineTagIndentFactor||1);if(s.alignCDATA&&/<!\\[CDATA\\[/.test(t))return 0;var i=t&&/^<(\\/)?([\\w_:\\.-]*)/.exec(t);if(i&&i[1])for(;r;){if(r.tagName==i[2]){r=r.prev;break}if(!s.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(i)for(;r;){var o=s.contextGrabbers[r.tagName];if(!o||!o.hasOwnProperty(i[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+l:e.baseIndent||0},electricInput:/<\\/[\\s\\w:]+>$/,blockCommentStart:\"\\x3c!--\",blockCommentEnd:\"--\\x3e\",configuration:s.htmlMode?\"html\":\"xml\",helperType:s.htmlMode?\"html\":\"xml\",skipAttribute:function(e){e.state==w&&(e.state=x)}}}),S.defineMIME(\"text/xml\",\"xml\"),S.defineMIME(\"application/xml\",\"xml\"),S.mimeModes.hasOwnProperty(\"text/html\")||S.defineMIME(\"text/html\",{name:\"xml\",htmlMode:!0})})(\"object\"==typeof n&&\"object\"==typeof t?e(\"../../lib/codemirror\"):CodeMirror)},{\"../../lib/codemirror\":10}],15:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,l=8*i-r-1,s=(1<<l)-1,c=s>>1,u=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-u)-1,d>>=-u,u+=l;0<u;o=256*o+e[t+h],h+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;0<u;a=256*a+e[t+h],h+=f,u-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,l,s,c=8*o-i-1,u=(1<<c)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),2<=(t+=1<=a+h?f/s:f*Math.pow(2,1-h))*s&&(a++,s/=2),u<=a+h?(l=0,a=u):1<=a+h?(l=(t*s-1)*Math.pow(2,i),a+=h):(l=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));8<=i;e[n+d]=255&l,d+=p,l/=256,i-=8);for(a=a<<i|l,c+=i;0<c;e[n+d]=255&a,d+=p,a/=256,c-=8);e[n+d-p]|=128*m}},{}],16:[function(e,y,x){(function(e){!function(e){\"use strict\";var m={newline:/^\\n+/,code:/^( {4}[^\\n]+\\n*)+/,fences:d,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,heading:/^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,nptable:d,blockquote:/^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,list:/^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,html:\"^ {0,3}(?:<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)|comment[^\\\\n]*(\\\\n+|$)|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*|<![A-Z][\\\\s\\\\S]*?>\\\\n*|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=\\\\h*\\\\n)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=\\\\h*\\\\n)[\\\\s\\\\S]*?(?:\\\\n{2,}|$))\",def:/^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,table:d,lheading:/^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,paragraph:/^([^\\n]+(?:\\n(?!hr|heading|lheading| {0,3}>|<\\/?(?:tag)(?: +|\\n|\\/?>)|<(?:script|pre|style|!--))[^\\n]+)*)/,text:/^[^\\n]+/};function s(e){this.tokens=[],this.tokens.links={},this.options=e||v.defaults,this.rules=m.normal,this.options.pedantic?this.rules=m.pedantic:this.options.gfm&&(this.options.tables?this.rules=m.tables:this.rules=m.gfm)}m._label=/(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/,m._title=/(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/,m.def=t(m.def).replace(\"label\",m._label).replace(\"title\",m._title).getRegex(),m.bullet=/(?:[*+-]|\\d+\\.)/,m.item=/^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/,m.item=t(m.item,\"gm\").replace(/bull/g,m.bullet).getRegex(),m.list=t(m.list).replace(/bull/g,m.bullet).replace(\"hr\",\"\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))\").replace(\"def\",\"\\\\n+(?=\"+m.def.source+\")\").getRegex(),m._tag=\"address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul\",m._comment=/<!--(?!-?>)[\\s\\S]*?-->/,m.html=t(m.html,\"i\").replace(\"comment\",m._comment).replace(\"tag\",m._tag).replace(\"attribute\",/ +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex(),m.paragraph=t(m.paragraph).replace(\"hr\",m.hr).replace(\"heading\",m.heading).replace(\"lheading\",m.lheading).replace(\"tag\",m._tag).getRegex(),m.blockquote=t(m.blockquote).replace(\"paragraph\",m.paragraph).getRegex(),m.normal=p({},m),m.gfm=p({},m.normal,{fences:/^ *(`{3,}|~{3,})[ \\.]*(\\S+)? *\\n([\\s\\S]*?)\\n? *\\1 *(?:\\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/}),m.gfm.paragraph=t(m.paragraph).replace(\"(?!\",\"(?!\"+m.gfm.fences.source.replace(\"\\\\1\",\"\\\\2\")+\"|\"+m.list.source.replace(\"\\\\1\",\"\\\\3\")+\"|\").getRegex(),m.tables=p({},m.gfm,{nptable:/^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:.*[^>\\n ].*(?:\\n|$))*)\\n*|$)/,table:/^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n((?: *[^>\\n ].*(?:\\n|$))*)\\n*|$)/}),m.pedantic=p({},m.normal,{html:t(\"^ *(?:comment *(?:\\\\n|\\\\s*$)|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)|<tag(?:\\\"[^\\\"]*\\\"|'[^']*'|\\\\s[^'\\\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))\").replace(\"comment\",m._comment).replace(/tag/g,\"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b\").getRegex(),def:/^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/}),s.rules=m,s.lex=function(e,t){return new s(t).lex(e)},s.prototype.lex=function(e){return e=e.replace(/\\r\\n|\\r/g,\"\\n\").replace(/\\t/g,\"    \").replace(/\\u00a0/g,\" \").replace(/\\u2424/g,\"\\n\"),this.token(e,!0)},s.prototype.token=function(e,t){var n,r,i,o,a,l,s,c,u,h,f,d,p;for(e=e.replace(/^ +$/gm,\"\");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),1<i[0].length&&this.tokens.push({type:\"space\"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,\"\"),this.tokens.push({type:\"code\",text:this.options.pedantic?i:i.replace(/\\n+$/,\"\")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:\"code\",lang:i[2],text:i[3]||\"\"});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:\"heading\",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))&&(l={type:\"table\",header:g(i[1].replace(/^ *| *\\| *$/g,\"\")),align:i[2].replace(/^ *|\\| *$/g,\"\").split(/ *\\| */),cells:i[3]?i[3].replace(/\\n$/,\"\").split(\"\\n\"):[]}).header.length===l.align.length){for(e=e.substring(i[0].length),c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]=\"right\":/^ *:-+: *$/.test(l.align[c])?l.align[c]=\"center\":/^ *:-+ *$/.test(l.align[c])?l.align[c]=\"left\":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=g(l.cells[c],l.header.length);this.tokens.push(l)}else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:\"hr\"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:\"blockquote_start\"}),i=i[0].replace(/^ *> ?/gm,\"\"),this.token(i,t),this.tokens.push({type:\"blockquote_end\"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),f=1<(o=i[2]).length,this.tokens.push({type:\"list_start\",ordered:f,start:f?+o:\"\"}),n=!1,h=(i=i[0].match(this.rules.item)).length,c=0;c<h;c++)s=(l=i[c]).length,~(l=l.replace(/^ *([*+-]|\\d+\\.) +/,\"\")).indexOf(\"\\n \")&&(s-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,\"\"):l.replace(new RegExp(\"^ {1,\"+s+\"}\",\"gm\"),\"\")),this.options.smartLists&&c!==h-1&&(o===(a=m.bullet.exec(i[c+1])[0])||1<o.length&&1<a.length||(e=i.slice(c+1).join(\"\\n\")+e,c=h-1)),r=n||/\\n\\n(?!\\s*$)/.test(l),c!==h-1&&(n=\"\\n\"===l.charAt(l.length-1),r||(r=n)),p=void 0,(d=/^\\[[ xX]\\] /.test(l))&&(p=\" \"!==l[1],l=l.replace(/^\\[[ xX]\\] +/,\"\")),this.tokens.push({type:r?\"loose_item_start\":\"list_item_start\",task:d,checked:p}),this.token(l,!1),this.tokens.push({type:\"list_item_end\"});this.tokens.push({type:\"list_end\"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?\"paragraph\":\"html\",pre:!this.options.sanitizer&&(\"pre\"===i[1]||\"script\"===i[1]||\"style\"===i[1]),text:i[0]});else if(t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),i[3]&&(i[3]=i[3].substring(1,i[3].length-1)),u=i[1].toLowerCase().replace(/\\s+/g,\" \"),this.tokens.links[u]||(this.tokens.links[u]={href:i[2],title:i[3]});else if(t&&(i=this.rules.table.exec(e))&&(l={type:\"table\",header:g(i[1].replace(/^ *| *\\| *$/g,\"\")),align:i[2].replace(/^ *|\\| *$/g,\"\").split(/ *\\| */),cells:i[3]?i[3].replace(/(?: *\\| *)?\\n$/,\"\").split(\"\\n\"):[]}).header.length===l.align.length){for(e=e.substring(i[0].length),c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]=\"right\":/^ *:-+: *$/.test(l.align[c])?l.align[c]=\"center\":/^ *:-+ *$/.test(l.align[c])?l.align[c]=\"left\":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=g(l.cells[c].replace(/^ *\\| *| *\\| *$/g,\"\"),l.header.length);this.tokens.push(l)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:\"heading\",depth:\"=\"===i[2]?1:2,text:i[1]});else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:\"paragraph\",text:\"\\n\"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:\"text\",text:i[0]});else if(e)throw new Error(\"Infinite loop on byte: \"+e.charCodeAt(0));return this.tokens};var n={escape:/^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,autolink:/^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,url:d,tag:\"^comment|^</[a-zA-Z][\\\\w:-]*\\\\s*>|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>|^<\\\\?[\\\\s\\\\S]*?\\\\?>|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\",link:/^!?\\[(label)\\]\\(href(?:\\s+(title))?\\s*\\)/,reflink:/^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,nolink:/^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,strong:/^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)|^__([^\\s])__(?!_)|^\\*\\*([^\\s])\\*\\*(?!\\*)/,em:/^_([^\\s][\\s\\S]*?[^\\s_])_(?!_)|^_([^\\s_][\\s\\S]*?[^\\s])_(?!_)|^\\*([^\\s][\\s\\S]*?[^\\s*])\\*(?!\\*)|^\\*([^\\s*][\\s\\S]*?[^\\s])\\*(?!\\*)|^_([^\\s_])_(?!_)|^\\*([^\\s*])\\*(?!\\*)/,code:/^(`+)\\s*([\\s\\S]*?[^`]?)\\s*\\1(?!`)/,br:/^ {2,}\\n(?!\\s*$)/,del:d,text:/^[\\s\\S]+?(?=[\\\\<!\\[`*]|\\b_| {2,}\\n|$)/};function l(e,t){if(this.options=t||v.defaults,this.links=e,this.rules=n.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error(\"Tokens array requires a `links` property.\");this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.options.breaks?this.rules=n.breaks:this.rules=n.gfm)}function r(e){this.options=e||v.defaults}function i(){}function c(e){this.tokens=[],this.token=null,this.options=e||v.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function u(e,t){return e.replace(t?/&/g:/&(?!#?\\w+;)/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#39;\")}function h(e){return e.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/gi,function(e,t){return\"colon\"===(t=t.toLowerCase())?\":\":\"#\"===t.charAt(0)?\"x\"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):\"\"})}function t(n,e){return n=n.source||n,e=e||\"\",{replace:function(e,t){return t=(t=t.source||t).replace(/(^|[^\\[])\\^/g,\"$1\"),n=n.replace(e,t),this},getRegex:function(){return new RegExp(n,e)}}}function o(e,t){return a[\" \"+e]||(/^[^:]+:\\/*[^/]*$/.test(e)?a[\" \"+e]=e+\"/\":a[\" \"+e]=e.replace(/[^/]*$/,\"\")),e=a[\" \"+e],\"//\"===t.slice(0,2)?e.replace(/:[\\s\\S]*/,\":\")+t:\"/\"===t.charAt(0)?e.replace(/(:\\/*[^/]*)[\\s\\S]*/,\"$1\")+t:e+t}n._escapes=/\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g,n._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,n._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,n.autolink=t(n.autolink).replace(\"scheme\",n._scheme).replace(\"email\",n._email).getRegex(),n._attribute=/\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/,n.tag=t(n.tag).replace(\"comment\",m._comment).replace(\"attribute\",n._attribute).getRegex(),n._label=/(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]?|`[^`]*`|[^\\[\\]\\\\])*?/,n._href=/\\s*(<(?:\\\\[<>]?|[^\\s<>\\\\])*>|(?:\\\\[()]?|\\([^\\s\\x00-\\x1f()\\\\]*\\)|[^\\s\\x00-\\x1f()\\\\])*?)/,n._title=/\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/,n.link=t(n.link).replace(\"label\",n._label).replace(\"href\",n._href).replace(\"title\",n._title).getRegex(),n.reflink=t(n.reflink).replace(\"label\",n._label).getRegex(),n.normal=p({},n),n.pedantic=p({},n.normal,{strong:/^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,em:/^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,link:t(/^!?\\[(label)\\]\\((.*?)\\)/).replace(\"label\",n._label).getRegex(),reflink:t(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace(\"label\",n._label).getRegex()}),n.gfm=p({},n.normal,{escape:t(n.escape).replace(\"])\",\"~|])\").getRegex(),url:t(/^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/).replace(\"email\",n._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\\S)([\\s\\S]*?\\S)~~/,text:t(n.text).replace(\"]|\",\"~]|\").replace(\"|\",\"|https?://|ftp://|www\\\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\\\|}~-]+@|\").getRegex()}),n.breaks=p({},n.gfm,{br:t(n.br).replace(\"{2,}\",\"*\").getRegex(),text:t(n.gfm.text).replace(\"{2,}\",\"*\").getRegex()}),l.rules=n,l.output=function(e,t,n){return new l(t,n).output(e)},l.prototype.output=function(e){for(var t,n,r,i,o,a=\"\";e;)if(o=this.rules.escape.exec(e))e=e.substring(o[0].length),a+=o[1];else if(o=this.rules.autolink.exec(e))e=e.substring(o[0].length),r=\"@\"===o[2]?\"mailto:\"+(n=u(this.mangle(o[1]))):n=u(o[1]),a+=this.renderer.link(r,null,n);else if(this.inLink||!(o=this.rules.url.exec(e))){if(o=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\\/a>/i.test(o[0])&&(this.inLink=!1),e=e.substring(o[0].length),a+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):u(o[0]):o[0];else if(o=this.rules.link.exec(e))e=e.substring(o[0].length),this.inLink=!0,r=o[2],this.options.pedantic?(t=/^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(r))?(r=t[1],i=t[3]):i=\"\":i=o[3]?o[3].slice(1,-1):\"\",r=r.trim().replace(/^<([\\s\\S]*)>$/,\"$1\"),a+=this.outputLink(o,{href:l.escapes(r),title:l.escapes(i)}),this.inLink=!1;else if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){if(e=e.substring(o[0].length),t=(o[2]||o[1]).replace(/\\s+/g,\" \"),!(t=this.links[t.toLowerCase()])||!t.href){a+=o[0].charAt(0),e=o[0].substring(1)+e;continue}this.inLink=!0,a+=this.outputLink(o,t),this.inLink=!1}else if(o=this.rules.strong.exec(e))e=e.substring(o[0].length),a+=this.renderer.strong(this.output(o[4]||o[3]||o[2]||o[1]));else if(o=this.rules.em.exec(e))e=e.substring(o[0].length),a+=this.renderer.em(this.output(o[6]||o[5]||o[4]||o[3]||o[2]||o[1]));else if(o=this.rules.code.exec(e))e=e.substring(o[0].length),a+=this.renderer.codespan(u(o[2].trim(),!0));else if(o=this.rules.br.exec(e))e=e.substring(o[0].length),a+=this.renderer.br();else if(o=this.rules.del.exec(e))e=e.substring(o[0].length),a+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),a+=this.renderer.text(u(this.smartypants(o[0])));else if(e)throw new Error(\"Infinite loop on byte: \"+e.charCodeAt(0))}else o[0]=this.rules._backpedal.exec(o[0])[0],e=e.substring(o[0].length),\"@\"===o[2]?r=\"mailto:\"+(n=u(o[0])):(n=u(o[0]),r=\"www.\"===o[1]?\"http://\"+n:n),a+=this.renderer.link(r,null,n);return a},l.escapes=function(e){return e?e.replace(l.rules._escapes,\"$1\"):e},l.prototype.outputLink=function(e,t){var n=t.href,r=t.title?u(t.title):null;return\"!\"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,u(e[1]))},l.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,\"\").replace(/--/g,\"\").replace(/(^|[-\\u2014/(\\[{\"\\s])'/g,\"$1\").replace(/'/g,\"\").replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g,\"$1\").replace(/\"/g,\"\").replace(/\\.{3}/g,\"\"):e},l.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n=\"\",r=e.length,i=0;i<r;i++)t=e.charCodeAt(i),.5<Math.random()&&(t=\"x\"+t.toString(16)),n+=\"&#\"+t+\";\";return n},r.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class=\"'+this.options.langPrefix+u(t,!0)+'\">'+(n?e:u(e,!0))+\"</code></pre>\\n\":\"<pre><code>\"+(n?e:u(e,!0))+\"</code></pre>\"},r.prototype.blockquote=function(e){return\"<blockquote>\\n\"+e+\"</blockquote>\\n\"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,n){return this.options.headerIds?\"<h\"+t+' id=\"'+this.options.headerPrefix+n.toLowerCase().replace(/[^\\w]+/g,\"-\")+'\">'+e+\"</h\"+t+\">\\n\":\"<h\"+t+\">\"+e+\"</h\"+t+\">\\n\"},r.prototype.hr=function(){return this.options.xhtml?\"<hr/>\\n\":\"<hr>\\n\"},r.prototype.list=function(e,t,n){var r=t?\"ol\":\"ul\";return\"<\"+r+(t&&1!==n?' start=\"'+n+'\"':\"\")+\">\\n\"+e+\"</\"+r+\">\\n\"},r.prototype.listitem=function(e){return\"<li>\"+e+\"</li>\\n\"},r.prototype.checkbox=function(e){return\"<input \"+(e?'checked=\"\" ':\"\")+'disabled=\"\" type=\"checkbox\"'+(this.options.xhtml?\" /\":\"\")+\"> \"},r.prototype.paragraph=function(e){return\"<p>\"+e+\"</p>\\n\"},r.prototype.table=function(e,t){return t&&(t=\"<tbody>\"+t+\"</tbody>\"),\"<table>\\n<thead>\\n\"+e+\"</thead>\\n\"+t+\"</table>\\n\"},r.prototype.tablerow=function(e){return\"<tr>\\n\"+e+\"</tr>\\n\"},r.prototype.tablecell=function(e,t){var n=t.header?\"th\":\"td\";return(t.align?\"<\"+n+' align=\"'+t.align+'\">':\"<\"+n+\">\")+e+\"</\"+n+\">\\n\"},r.prototype.strong=function(e){return\"<strong>\"+e+\"</strong>\"},r.prototype.em=function(e){return\"<em>\"+e+\"</em>\"},r.prototype.codespan=function(e){return\"<code>\"+e+\"</code>\"},r.prototype.br=function(){return this.options.xhtml?\"<br/>\":\"<br>\"},r.prototype.del=function(e){return\"<del>\"+e+\"</del>\"},r.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(h(e)).replace(/[^\\w:]/g,\"\").toLowerCase()}catch(e){return n}if(0===r.indexOf(\"javascript:\")||0===r.indexOf(\"vbscript:\")||0===r.indexOf(\"data:\"))return n}this.options.baseUrl&&!f.test(e)&&(e=o(this.options.baseUrl,e));try{e=encodeURI(e).replace(/%25/g,\"%\")}catch(e){return n}var i='<a href=\"'+u(e)+'\"';return t&&(i+=' title=\"'+t+'\"'),i+=\">\"+n+\"</a>\"},r.prototype.image=function(e,t,n){this.options.baseUrl&&!f.test(e)&&(e=o(this.options.baseUrl,e));var r='<img src=\"'+e+'\" alt=\"'+n+'\"';return t&&(r+=' title=\"'+t+'\"'),r+=this.options.xhtml?\"/>\":\">\"},r.prototype.text=function(e){return e},i.prototype.strong=i.prototype.em=i.prototype.codespan=i.prototype.del=i.prototype.text=function(e){return e},i.prototype.link=i.prototype.image=function(e,t,n){return\"\"+n},i.prototype.br=function(){return\"\"},c.parse=function(e,t){return new c(t).parse(e)},c.prototype.parse=function(e){this.inline=new l(e.links,this.options),this.inlineText=new l(e.links,p({},this.options,{renderer:new i})),this.tokens=e.reverse();for(var t=\"\";this.next();)t+=this.tok();return t},c.prototype.next=function(){return this.token=this.tokens.pop()},c.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},c.prototype.parseText=function(){for(var e=this.token.text;\"text\"===this.peek().type;)e+=\"\\n\"+this.next().text;return this.inline.output(e)},c.prototype.tok=function(){switch(this.token.type){case\"space\":return\"\";case\"hr\":return this.renderer.hr();case\"heading\":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,h(this.inlineText.output(this.token.text)));case\"code\":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case\"table\":var e,t,n,r,i=\"\",o=\"\";for(n=\"\",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n=\"\",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(i,o);case\"blockquote_start\":for(o=\"\";\"blockquote_end\"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case\"list_start\":o=\"\";for(var a=this.token.ordered,l=this.token.start;\"list_end\"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a,l);case\"list_item_start\":for(o=\"\",this.token.task&&(o+=this.renderer.checkbox(this.token.checked));\"list_item_end\"!==this.next().type;)o+=\"text\"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case\"loose_item_start\":for(o=\"\";\"list_item_end\"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case\"html\":return this.renderer.html(this.token.text);case\"paragraph\":return this.renderer.paragraph(this.inline.output(this.token.text));case\"text\":return this.renderer.paragraph(this.parseText())}};var a={},f=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function d(){}function p(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function g(e,t){var n=e.replace(/([^\\\\])\\|/g,\"$1 |\").split(/ +\\| */),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push(\"\");for(;r<n.length;r++)n[r]=n[r].replace(/\\\\\\|/g,\"|\");return n}function v(e,n,r){if(null==e)throw new Error(\"marked(): input parameter is undefined or null\");if(\"string\"!=typeof e)throw new Error(\"marked(): input parameter is of type \"+Object.prototype.toString.call(e)+\", string expected\");if(r||\"function\"==typeof n){r||(r=n,n=null);var i,o,a=(n=p({},v.defaults,n||{})).highlight,t=0;try{i=s.lex(e,n)}catch(e){return r(e)}o=i.length;var l=function(t){if(t)return n.highlight=a,r(t);var e;try{e=c.parse(i,n)}catch(e){t=e}return n.highlight=a,t?r(t):r(null,e)};if(!a||a.length<3)return l();if(delete n.highlight,!o)return l();for(;t<i.length;t++)!function(n){\"code\"!==n.type?--o||l():a(n.text,n.lang,function(e,t){return e?l(e):null==t||t===n.text?--o||l():(n.text=t,n.escaped=!0,void(--o||l()))})}(i[t])}else try{return n&&(n=p({},v.defaults,n)),c.parse(s.lex(e,n),n)}catch(e){if(e.message+=\"\\nPlease report this to https://github.com/markedjs/marked.\",(n||v.defaults).silent)return\"<p>An error occurred:</p><pre>\"+u(e.message+\"\",!0)+\"</pre>\";throw e}}d.exec=d,v.options=v.setOptions=function(e){return p(v.defaults,e),v},v.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:\"\",highlight:null,langPrefix:\"language-\",mangle:!0,pedantic:!1,renderer:new r,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},v.defaults=v.getDefaults(),v.Parser=c,v.parser=c.parse,v.Renderer=r,v.TextRenderer=i,v.Lexer=s,v.lexer=s.lex,v.InlineLexer=l,v.inlineLexer=l.output,v.parse=v,void 0!==y&&\"object\"==typeof x?y.exports=v:e.marked=v}(this||(\"undefined\"!=typeof window?window:e))}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],17:[function(u,t,e){(function(c,p){var e;!function(){\"use strict\";(e=function(e,i,o,a){a=a||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=a.flags||{},this.memoized={},this.loaded=!1;var t,l,s,c,u,h=this;function n(e,t){var n=h._readFile(e,null,a.asyncLoad);a.asyncLoad?n.then(function(e){t(e)}):t(n)}function r(e){i=e,o&&d()}function f(e){o=e,i&&d()}function d(){for(h.rules=h._parseAFF(i),h.compoundRuleCodes={},l=0,c=h.compoundRules.length;l<c;l++){var e=h.compoundRules[l];for(s=0,u=e.length;s<u;s++)h.compoundRuleCodes[e[s]]=[]}for(l in\"ONLYINCOMPOUND\"in h.flags&&(h.compoundRuleCodes[h.flags.ONLYINCOMPOUND]=[]),h.dictionaryTable=h._parseDIC(o),h.compoundRuleCodes)0===h.compoundRuleCodes[l].length&&delete h.compoundRuleCodes[l];for(l=0,c=h.compoundRules.length;l<c;l++){var t=h.compoundRules[l],n=\"\";for(s=0,u=t.length;s<u;s++){var r=t[s];r in h.compoundRuleCodes?n+=\"(\"+h.compoundRuleCodes[r].join(\"|\")+\")\":n+=r}h.compoundRules[l]=new RegExp(n,\"i\")}h.loaded=!0,a.asyncLoad&&a.loadedCallback&&a.loadedCallback(h)}return e&&(h.dictionary=e,i&&o?d():\"undefined\"!=typeof window&&\"chrome\"in window&&\"extension\"in window.chrome&&\"getURL\"in window.chrome.extension?(t=a.dictionaryPath?a.dictionaryPath:\"typo/dictionaries\",i||n(chrome.extension.getURL(t+\"/\"+e+\"/\"+e+\".aff\"),r),o||n(chrome.extension.getURL(t+\"/\"+e+\"/\"+e+\".dic\"),f)):(t=a.dictionaryPath?a.dictionaryPath:void 0!==p?p+\"/dictionaries\":\"./dictionaries\",i||n(t+\"/\"+e+\"/\"+e+\".aff\",r),o||n(t+\"/\"+e+\"/\"+e+\".dic\",f))),this}).prototype={load:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this},_readFile:function(e,t,n){if(t=t||\"utf8\",\"undefined\"!=typeof XMLHttpRequest){var r,i=new XMLHttpRequest;return i.open(\"GET\",e,n),n&&(r=new Promise(function(e,t){i.onload=function(){200===i.status?e(i.responseText):t(i.statusText)},i.onerror=function(){t(i.statusText)}})),i.overrideMimeType&&i.overrideMimeType(\"text/plain; charset=\"+t),i.send(null),n?r:i.responseText}if(void 0!==u){var o=u(\"fs\");try{if(o.existsSync(e)){var a=o.statSync(e),l=o.openSync(e,\"r\"),s=new c(a.size);return o.readSync(l,s,0,s.length,null),s.toString(t,0,s.length)}console.log(\"Path \"+e+\" does not exist.\")}catch(e){return console.log(e),\"\"}}},_parseAFF:function(e){var t,n,r,i,o,a,l,s={},c=(e=this._removeAffixComments(e)).split(\"\\n\");for(i=0,a=c.length;i<a;i++){var u=(t=c[i]).split(/\\s+/),h=u[0];if(\"PFX\"==h||\"SFX\"==h){var f=u[1],d=u[2],p=[];for(l=(o=i+1)+(n=parseInt(u[3],10));o<l;o++){var m=(r=c[o].split(/\\s+/))[2],g=r[3].split(\"/\"),v=g[0];\"0\"===v&&(v=\"\");var y=this.parseRuleCodes(g[1]),x=r[4],b={};b.add=v,0<y.length&&(b.continuationClasses=y),\".\"!==x&&(b.match=\"SFX\"===h?new RegExp(x+\"$\"):new RegExp(\"^\"+x)),\"0\"!=m&&(b.remove=\"SFX\"===h?new RegExp(m+\"$\"):m),p.push(b)}s[f]={type:h,combineable:\"Y\"==d,entries:p},i+=n}else if(\"COMPOUNDRULE\"===h){for(l=(o=i+1)+(n=parseInt(u[1],10));o<l;o++)r=(t=c[o]).split(/\\s+/),this.compoundRules.push(r[1]);i+=n}else\"REP\"===h?3===(r=t.split(/\\s+/)).length&&this.replacementTable.push([r[1],r[2]]):this.flags[h]=u[1]}return s},_removeAffixComments:function(e){return e=(e=(e=(e=e.replace(/^\\s*#.*$/gm,\"\")).replace(/^\\s\\s*/m,\"\").replace(/\\s\\s*$/m,\"\")).replace(/\\n{2,}/g,\"\\n\")).replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\")},_parseDIC:function(e){var t=(e=this._removeDicComments(e)).split(\"\\n\"),n={};function r(e,t){n.hasOwnProperty(e)||(n[e]=null),0<t.length&&(null===n[e]&&(n[e]=[]),n[e].push(t))}for(var i=1,o=t.length;i<o;i++){var a=t[i].split(\"/\",2),l=a[0];if(1<a.length){var s=this.parseRuleCodes(a[1]);\"NEEDAFFIX\"in this.flags&&-1!=s.indexOf(this.flags.NEEDAFFIX)||r(l,s);for(var c=0,u=s.length;c<u;c++){var h=s[c],f=this.rules[h];if(f)for(var d=this._applyRule(l,f),p=0,m=d.length;p<m;p++){var g=d[p];if(r(g,[]),f.combineable)for(var v=c+1;v<u;v++){var y=s[v],x=this.rules[y];if(x&&x.combineable&&f.type!=x.type)for(var b=this._applyRule(g,x),w=0,k=b.length;w<k;w++){r(b[w],[])}}}h in this.compoundRuleCodes&&this.compoundRuleCodes[h].push(l)}}else r(l.trim(),[])}return n},_removeDicComments:function(e){return e=e.replace(/^\\t.*$/gm,\"\")},parseRuleCodes:function(e){if(!e)return[];if(!(\"FLAG\"in this.flags))return e.split(\"\");if(\"long\"===this.flags.FLAG){for(var t=[],n=0,r=e.length;n<r;n+=2)t.push(e.substr(n,2));return t}return\"num\"===this.flags.FLAG?e.split(\",\"):void 0},_applyRule:function(e,t){for(var n=t.entries,r=[],i=0,o=n.length;i<o;i++){var a=n[i];if(!a.match||e.match(a.match)){var l=e;if(a.remove&&(l=l.replace(a.remove,\"\")),\"SFX\"===t.type?l+=a.add:l=a.add+l,r.push(l),\"continuationClasses\"in a)for(var s=0,c=a.continuationClasses.length;s<c;s++){var u=this.rules[a.continuationClasses[s]];u&&(r=r.concat(this._applyRule(l,u)))}}}return r},check:function(e){if(!this.loaded)throw\"Dictionary not loaded.\";var t=e.replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\");if(this.checkExact(t))return!0;if(t.toUpperCase()===t){var n=t[0]+t.substring(1).toLowerCase();if(this.hasFlag(n,\"KEEPCASE\"))return!1;if(this.checkExact(n))return!0}var r=t.toLowerCase();if(r!==t){if(this.hasFlag(r,\"KEEPCASE\"))return!1;if(this.checkExact(r))return!0}return!1},checkExact:function(e){if(!this.loaded)throw\"Dictionary not loaded.\";var t,n,r=this.dictionaryTable[e];if(void 0===r){if(\"COMPOUNDMIN\"in this.flags&&e.length>=this.flags.COMPOUNDMIN)for(t=0,n=this.compoundRules.length;t<n;t++)if(e.match(this.compoundRules[t]))return!0}else{if(null===r)return!0;if(\"object\"==typeof r)for(t=0,n=r.length;t<n;t++)if(!this.hasFlag(e,\"ONLYINCOMPOUND\",r[t]))return!0}return!1},hasFlag:function(e,t,n){if(!this.loaded)throw\"Dictionary not loaded.\";return!!(t in this.flags&&(void 0===n&&(n=Array.prototype.concat.apply([],this.dictionaryTable[e])),n&&-1!==n.indexOf(this.flags[t])))},alphabet:\"\",suggest:function(e,u){if(!this.loaded)throw\"Dictionary not loaded.\";if(u=u||5,this.memoized.hasOwnProperty(e)){var t=this.memoized[e].limit;if(u<=t||this.memoized[e].suggestions.length<t)return this.memoized[e].suggestions.slice(0,u)}if(this.check(e))return[];for(var n=0,r=this.replacementTable.length;n<r;n++){var i=this.replacementTable[n];if(-1!==e.indexOf(i[0])){var o=e.replace(i[0],i[1]);if(this.check(o))return[o]}}var h=this;function f(e){var t,n,r,i,o,a,l=[];for(t=0,i=e.length;t<i;t++){var s=e[t];for(n=0,o=s.length+1;n<o;n++){var c=[s.substring(0,n),s.substring(n)];if(c[1]&&l.push(c[0]+c[1].substring(1)),1<c[1].length&&c[1][1]!==c[1][0]&&l.push(c[0]+c[1][1]+c[1][0]+c[1].substring(2)),c[1])for(r=0,a=h.alphabet.length;r<a;r++)h.alphabet[r]!=c[1].substring(0,1)&&l.push(c[0]+h.alphabet[r]+c[1].substring(1));if(c[1])for(r=0,a=h.alphabet.length;r<a;r++)l.push(c[0]+h.alphabet[r]+c[1])}}return l}return h.alphabet=\"abcdefghijklmnopqrstuvwxyz\",this.memoized[e]={suggestions:function(e){var t,n,r=f([e]),i=f(r),o=function(e){for(var t=[],n=0,r=e.length;n<r;n++)h.check(e[n])&&t.push(e[n]);return t}(r.concat(i)),a={};for(t=0,n=o.length;t<n;t++)o[t]in a?a[o[t]]+=1:a[o[t]]=1;var l=[];for(t in a)a.hasOwnProperty(t)&&l.push([t,a[t]]);l.sort(function(e,t){return e[1]<t[1]?-1:1}).reverse();var s=[],c=\"lowercase\";for(e.toUpperCase()===e?c=\"uppercase\":e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase()===e&&(c=\"capitalized\"),t=0,n=Math.min(u,l.length);t<n;t++)\"uppercase\"===c?l[t][0]=l[t][0].toUpperCase():\"capitalized\"===c&&(l[t][0]=l[t][0].substr(0,1).toUpperCase()+l[t][0].substr(1)),h.hasFlag(l[t][0],\"NOSUGGEST\")||s.push(l[t][0]);return s}(e),limit:u},this.memoized[e].suggestions}}}(),void 0!==t&&(t.exports=e)}).call(this,u(\"buffer\").Buffer,\"/node_modules/typo-js\")},{buffer:3,fs:2}],18:[function(e,t,n){var r=e(\"codemirror\");r.commands.tabAndIndentMarkdownList=function(e){var t=e.listSelections()[0].head;if(!1!==e.getStateAfter(t.line).list)e.execCommand(\"indentMore\");else if(e.options.indentWithTabs)e.execCommand(\"insertTab\");else{var n=Array(e.options.tabSize+1).join(\" \");e.replaceSelection(n)}},r.commands.shiftTabAndUnindentMarkdownList=function(e){var t=e.listSelections()[0].head;if(!1!==e.getStateAfter(t.line).list)e.execCommand(\"indentLess\");else if(e.options.indentWithTabs)e.execCommand(\"insertTab\");else{var n=Array(e.options.tabSize+1).join(\" \");e.replaceSelection(n)}}},{codemirror:10}],19:[function(e,t,n){\"use strict\";var c=e(\"codemirror\");e(\"codemirror/addon/edit/continuelist.js\"),e(\"./codemirror/tablist\"),e(\"codemirror/addon/display/fullscreen.js\"),e(\"codemirror/mode/markdown/markdown.js\"),e(\"codemirror/addon/mode/overlay.js\"),e(\"codemirror/addon/display/placeholder.js\"),e(\"codemirror/addon/selection/mark-selection.js\"),e(\"codemirror/mode/gfm/gfm.js\"),e(\"codemirror/mode/xml/xml.js\");var u=e(\"codemirror-spell-checker\"),i=e(\"marked\"),o=/Mac/.test(navigator.platform),a=new RegExp(/(<a.*?https?:\\/\\/.*?[^a]>)+?/g),h={toggleBold:r,toggleItalic:y,drawLink:E,toggleHeadingSmaller:k,toggleHeadingBigger:S,drawImage:O,toggleBlockquote:w,toggleOrderedList:N,toggleUnorderedList:M,toggleCodeBlock:b,togglePreview:W,toggleStrikethrough:x,toggleHeading1:C,toggleHeading2:L,toggleHeading3:T,cleanBlock:A,drawTable:I,drawHorizontalRule:D,undo:H,redo:R,toggleSideBySide:B,toggleFullScreen:v},l={toggleBold:\"Cmd-B\",toggleItalic:\"Cmd-I\",drawLink:\"Cmd-K\",toggleHeadingSmaller:\"Cmd-H\",toggleHeadingBigger:\"Shift-Cmd-H\",cleanBlock:\"Cmd-E\",drawImage:\"Cmd-Alt-I\",toggleBlockquote:\"Cmd-'\",toggleOrderedList:\"Cmd-Alt-L\",toggleUnorderedList:\"Cmd-L\",toggleCodeBlock:\"Cmd-Alt-C\",togglePreview:\"Cmd-P\",toggleSideBySide:\"F9\",toggleFullScreen:\"F11\"},s=function(e){for(var t in h)if(h[t]===e)return t;return null},f=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t};function d(e){return e=o?e.replace(\"Ctrl\",\"Cmd\"):e.replace(\"Cmd\",\"Ctrl\")}function p(e,t,n){e=e||{};var r=document.createElement(\"button\");t=null==t||t,e.title&&t&&(r.title=function(e,t,n){var r,i=e;t&&(r=s(t),n[r]&&(i+=\" (\"+d(n[r])+\")\"));return i}(e.title,e.action,n),o&&(r.title=r.title.replace(\"Ctrl\",\"\"),r.title=r.title.replace(\"Alt\",\"\"))),e.noDisable&&r.classList.add(\"no-disable\"),e.noMobile&&r.classList.add(\"no-mobile\"),r.tabIndex=-1;var i=document.createElement(\"i\");return i.className=e.className,r.appendChild(i),r}function m(e,t){t=t||e.getCursor(\"start\");var n=e.getTokenAt(t);if(!n.type)return{};for(var r,i,o=n.type.split(\" \"),a={},l=0;l<o.length;l++)\"strong\"===(r=o[l])?a.bold=!0:\"variable-2\"===r?(i=e.getLine(t.line),/^\\s*\\d+\\.\\s/.test(i)?a[\"ordered-list\"]=!0:a[\"unordered-list\"]=!0):\"atom\"===r?a.quote=!0:\"em\"===r?a.italic=!0:\"quote\"===r?a.quote=!0:\"strikethrough\"===r?a.strikethrough=!0:\"comment\"===r?a.code=!0:\"link\"===r?a.link=!0:\"tag\"===r?a.image=!0:r.match(/^header(-[1-6])?$/)&&(a[r.replace(\"header\",\"heading\")]=!0);return a}var g=\"\";function v(e){var t=e.codemirror;t.setOption(\"fullScreen\",!t.getOption(\"fullScreen\")),t.getOption(\"fullScreen\")?(g=document.body.style.overflow,document.body.style.overflow=\"hidden\"):document.body.style.overflow=g;var n=t.getWrapperElement();if(/fullscreen/.test(n.previousSibling.className)?n.previousSibling.className=n.previousSibling.className.replace(/\\s*fullscreen\\b/,\"\"):n.previousSibling.className+=\" fullscreen\",e.toolbarElements.fullscreen){var r=e.toolbarElements.fullscreen;/active/.test(r.className)?r.className=r.className.replace(/\\s*active\\s*/g,\"\"):r.className+=\" active\"}var i=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(i.className)&&B(e)}function r(e){_(e,\"bold\",e.options.blockStyles.bold)}function y(e){_(e,\"italic\",e.options.blockStyles.italic)}function x(e){_(e,\"strikethrough\",\"~~\")}function b(e){var t=e.options.blockStyles.code;function a(e){if(\"object\"!=typeof e)throw\"fencing_line() takes a 'line' object (not a line number, or line text).  Got: \"+typeof e+\": \"+e;return e.styles&&e.styles[2]&&-1!==e.styles[2].indexOf(\"formatting-code-block\")}function l(e){return e.state.base.base||e.state.base}function n(e,t,n,r,i){n=n||e.getLineHandle(t),r=r||e.getTokenAt({line:t,ch:1}),i=i||!!n.text&&e.getTokenAt({line:t,ch:n.text.length-1});var o=r.type?r.type.split(\" \"):[];return i&&l(i).indentedCode?\"indented\":-1!==o.indexOf(\"comment\")&&(l(r).fencedChars||l(i).fencedChars||a(n)?\"fenced\":\"single\")}var r,i,o,s,c,u,h,f,d,p,m,g,v=e.codemirror,y=v.getCursor(\"start\"),x=v.getCursor(\"end\"),b=v.getTokenAt({line:y.line,ch:y.ch||1}),w=v.getLineHandle(y.line),k=n(v,y.line,w,b);if(\"single\"===k){var S=w.text.slice(0,y.ch).replace(\"`\",\"\"),C=w.text.slice(y.ch).replace(\"`\",\"\");v.replaceRange(S+C,{line:y.line,ch:0},{line:y.line,ch:99999999999999}),y.ch--,y!==x&&x.ch--,v.setSelection(y,x),v.focus()}else if(\"fenced\"===k)if(y.line!==x.line||y.ch!==x.ch){for(r=y.line;0<=r&&!a(w=v.getLineHandle(r));r--);var L,T,M,N,A=l(v.getTokenAt({line:r,ch:1})).fencedChars;a(v.getLineHandle(y.line))?(L=\"\",T=y.line):a(v.getLineHandle(y.line-1))?(L=\"\",T=y.line-1):(L=A+\"\\n\",T=y.line),a(v.getLineHandle(x.line))?(M=\"\",N=x.line,0===x.ch&&(N+=1)):(M=0!==x.ch&&a(v.getLineHandle(x.line+1))?\"\":A+\"\\n\",N=x.line+1),0===x.ch&&(N-=1),v.operation(function(){v.replaceRange(M,{line:N,ch:0},{line:N+(M?0:1),ch:0}),v.replaceRange(L,{line:T,ch:0},{line:T+(L?0:1),ch:0})}),v.setSelection({line:T+(L?1:0),ch:0},{line:N+(L?1:-1),ch:0}),v.focus()}else{var E=y.line;if(a(v.getLineHandle(y.line))&&(\"fenced\"===n(v,y.line+1)?(r=y.line,E=y.line+1):(i=y.line,E=y.line-1)),void 0===r)for(r=E;0<=r&&!a(w=v.getLineHandle(r));r--);if(void 0===i)for(o=v.lineCount(),i=E;i<o&&!a(w=v.getLineHandle(i));i++);v.operation(function(){v.replaceRange(\"\",{line:r,ch:0},{line:r+1,ch:0}),v.replaceRange(\"\",{line:i-1,ch:0},{line:i,ch:0})}),v.focus()}else if(\"indented\"===k){if(y.line!==x.line||y.ch!==x.ch)r=y.line,i=x.line,0===x.ch&&i--;else{for(r=y.line;0<=r;r--)if(!(w=v.getLineHandle(r)).text.match(/^\\s*$/)&&\"indented\"!==n(v,r,w)){r+=1;break}for(o=v.lineCount(),i=y.line;i<o;i++)if(!(w=v.getLineHandle(i)).text.match(/^\\s*$/)&&\"indented\"!==n(v,i,w)){i-=1;break}}var O=v.getLineHandle(i+1),I=O&&v.getTokenAt({line:i+1,ch:O.text.length-1});I&&l(I).indentedCode&&v.replaceRange(\"\\n\",{line:i+1,ch:0});for(var D=r;D<=i;D++)v.indentLine(D,\"subtract\");v.focus()}else{var H=y.line===x.line&&y.ch===x.ch&&0===y.ch,R=y.line!==x.line;H||R?(s=v,u=x,h=t,f=(c=y).line+1,d=u.line+1,p=c.line!==u.line,m=h+\"\\n\",g=\"\\n\"+h,p&&d++,p&&0===u.ch&&(g=h+\"\\n\",d--),F(s,!1,[m,g]),s.setSelection({line:f,ch:0},{line:d,ch:0})):F(v,!1,[\"`\",\"`\"])}}function w(e){P(e.codemirror,\"quote\")}function k(e){z(e.codemirror,\"smaller\")}function S(e){z(e.codemirror,\"bigger\")}function C(e){z(e.codemirror,void 0,1)}function L(e){z(e.codemirror,void 0,2)}function T(e){z(e.codemirror,void 0,3)}function M(e){P(e.codemirror,\"unordered-list\")}function N(e){P(e.codemirror,\"ordered-list\")}function A(e){!function(e){if(/editor-preview-active/.test(e.getWrapperElement().lastChild.className))return;for(var t,n=e.getCursor(\"start\"),r=e.getCursor(\"end\"),i=n.line;i<=r.line;i++)t=(t=e.getLine(i)).replace(/^[ ]*([# ]+|\\*|-|[> ]+|[0-9]+(.|\\)))[ ]*/,\"\"),e.replaceRange(t,{line:i,ch:0},{line:i,ch:99999999999999})}(e.codemirror)}function E(e){var t=e.codemirror,n=m(t),r=e.options,i=\"https://\";if(r.promptURLs&&!(i=prompt(r.promptTexts.link)))return!1;F(t,n.link,r.insertTexts.link,i)}function O(e){var t=e.codemirror,n=m(t),r=e.options,i=\"https://\";if(r.promptURLs&&!(i=prompt(r.promptTexts.image)))return!1;F(t,n.image,r.insertTexts.image,i)}function I(e){var t=e.codemirror,n=m(t),r=e.options;F(t,n.table,r.insertTexts.table)}function D(e){var t=e.codemirror,n=m(t),r=e.options;F(t,n.image,r.insertTexts.horizontalRule)}function H(e){var t=e.codemirror;t.undo(),t.focus()}function R(e){var t=e.codemirror;t.redo(),t.focus()}function B(e){var t=e.codemirror,n=t.getWrapperElement(),r=n.nextSibling,i=e.toolbarElements[\"side-by-side\"],o=!1;/editor-preview-active-side/.test(r.className)?(r.className=r.className.replace(/\\s*editor-preview-active-side\\s*/g,\"\"),i.className=i.className.replace(/\\s*active\\s*/g,\"\"),n.className=n.className.replace(/\\s*CodeMirror-sided\\s*/g,\" \")):(setTimeout(function(){t.getOption(\"fullScreen\")||v(e),r.className+=\" editor-preview-active-side\"},1),i.className+=\" active\",n.className+=\" CodeMirror-sided\",o=!0);var a=n.lastChild;if(/editor-preview-active/.test(a.className)){a.className=a.className.replace(/\\s*editor-preview-active\\s*/g,\"\");var l=e.toolbarElements.preview,s=n.previousSibling;l.className=l.className.replace(/\\s*active\\s*/g,\"\"),s.className=s.className.replace(/\\s*disabled-for-preview*/g,\"\")}t.sideBySideRenderingFunction||(t.sideBySideRenderingFunction=function(){r.innerHTML=e.options.previewRender(e.value(),r)}),o?(r.innerHTML=e.options.previewRender(e.value(),r),t.on(\"update\",t.sideBySideRenderingFunction)):t.off(\"update\",t.sideBySideRenderingFunction),t.refresh()}function W(e){var t=e.codemirror,n=t.getWrapperElement(),r=n.previousSibling,i=!!e.options.toolbar&&e.toolbarElements.preview,o=n.lastChild;o&&/editor-preview/.test(o.className)||((o=document.createElement(\"div\")).className=\"editor-preview\",n.appendChild(o)),/editor-preview-active/.test(o.className)?(o.className=o.className.replace(/\\s*editor-preview-active\\s*/g,\"\"),i&&(i.className=i.className.replace(/\\s*active\\s*/g,\"\"),r.className=r.className.replace(/\\s*disabled-for-preview*/g,\"\"))):(setTimeout(function(){o.className+=\" editor-preview-active\"},1),i&&(i.className+=\" active\",r.className+=\" disabled-for-preview\")),o.innerHTML=e.options.previewRender(e.value(),o);var a=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(a.className)&&B(e)}function F(e,t,n,r){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){var i,o=n[0],a=n[1],l={},s={};Object.assign(l,e.getCursor(\"start\")),Object.assign(s,e.getCursor(\"end\")),r&&(a=a.replace(\"#url#\",r)),t?(o=(i=e.getLine(l.line)).slice(0,l.ch),a=i.slice(l.ch),e.replaceRange(o+a,{line:l.line,ch:0})):(i=e.getSelection(),e.replaceSelection(o+i+a),l.ch+=o.length,l!==s&&(s.ch+=o.length)),e.setSelection(l,s),e.focus()}}function z(e,t,n){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var r,i,o,a=e.getCursor(\"start\"),l=e.getCursor(\"end\"),s=a.line;s<=l.line;s++)r=s,i=void 0,i=e.getLine(r),o=i.search(/[^#]/),i=void 0!==t?o<=0?\"bigger\"==t?\"###### \"+i:\"# \"+i:6==o&&\"smaller\"==t?i.substr(7):1==o&&\"bigger\"==t?i.substr(2):\"bigger\"==t?i.substr(1):\"#\"+i:1==n?o<=0?\"# \"+i:o==n?i.substr(o+1):\"# \"+i.substr(o+1):2==n?o<=0?\"## \"+i:o==n?i.substr(o+1):\"## \"+i.substr(o+1):o<=0?\"### \"+i:o==n?i.substr(o+1):\"### \"+i.substr(o+1),e.replaceRange(i,{line:r,ch:0},{line:r,ch:99999999999999});e.focus()}}function P(s,c){if(!/editor-preview-active/.test(s.getWrapperElement().lastChild.className)){for(var u=/^(\\s*)(\\*|-|\\+|\\d*\\.)(\\s+)/,h=/^\\s*/,f=m(s),e=s.getCursor(\"start\"),t=s.getCursor(\"end\"),d={quote:/^(\\s*)>\\s+/,\"unordered-list\":u,\"ordered-list\":u},p=1,n=e.line;n<=t.line;n++)!function(e){var t,n,r,i,o=s.getLine(e);if(f[c])o=o.replace(d[c],\"$1\");else{var a=u.exec(o),l=(i=p,{quote:\">\",\"unordered-list\":\"*\",\"ordered-list\":\"%%i.\"}[c].replace(\"%%i\",i));null!==a?(t=c,n=a[2],r=new RegExp({quote:\">\",\"unordered-list\":\"*\",\"ordered-list\":\"d+.\"}[t]),n&&r.test(n)&&(l=\"\"),o=a[1]+l+a[3]+o.replace(h,\"\").replace(d[c],\"$1\")):o=l+\" \"+o,p+=1}s.replaceRange(o,{line:e,ch:0},{line:e,ch:99999999999999})}(n);s.focus()}}function _(e,t,n,r){if(!/editor-preview-active/.test(e.codemirror.getWrapperElement().lastChild.className)){r=void 0===r?n:r;var i,o=e.codemirror,a=m(o),l=n,s=r,c=o.getCursor(\"start\"),u=o.getCursor(\"end\");a[t]?(l=(i=o.getLine(c.line)).slice(0,c.ch),s=i.slice(c.ch),\"bold\"==t?(l=l.replace(/(\\*\\*|__)(?![\\s\\S]*(\\*\\*|__))/,\"\"),s=s.replace(/(\\*\\*|__)/,\"\")):\"italic\"==t?(l=l.replace(/(\\*|_)(?![\\s\\S]*(\\*|_))/,\"\"),s=s.replace(/(\\*|_)/,\"\")):\"strikethrough\"==t&&(l=l.replace(/(\\*\\*|~~)(?![\\s\\S]*(\\*\\*|~~))/,\"\"),s=s.replace(/(\\*\\*|~~)/,\"\")),o.replaceRange(l+s,{line:c.line,ch:0},{line:c.line,ch:99999999999999}),\"bold\"==t||\"strikethrough\"==t?(c.ch-=2,c!==u&&(u.ch-=2)):\"italic\"==t&&(c.ch-=1,c!==u&&(u.ch-=1))):(i=o.getSelection(),\"bold\"==t?i=(i=i.split(\"**\").join(\"\")).split(\"__\").join(\"\"):\"italic\"==t?i=(i=i.split(\"*\").join(\"\")).split(\"_\").join(\"\"):\"strikethrough\"==t&&(i=i.split(\"~~\").join(\"\")),o.replaceSelection(l+i+s),c.ch+=n.length,u.ch=c.ch+i.length),o.setSelection(c,u),o.focus()}}function j(e,t){for(var n in t)t.hasOwnProperty(n)&&(t[n]instanceof Array?e[n]=t[n].concat(e[n]instanceof Array?e[n]:[]):null!==t[n]&&\"object\"==typeof t[n]&&t[n].constructor===Object?e[n]=j(e[n]||{},t[n]):e[n]=t[n]);return e}function q(e){for(var t=1;t<arguments.length;t++)e=j(e,arguments[t]);return e}function U(e){var t=e.match(/[a-zA-Z0-9_\\u0392-\\u03c9\\u0410-\\u04F9]+|[\\u4E00-\\u9FFF\\u3400-\\u4dbf\\uf900-\\ufaff\\u3040-\\u309f\\uac00-\\ud7af]+/g),n=0;if(null===t)return n;for(var r=0;r<t.length;r++)19968<=t[r].charCodeAt(0)?n+=t[r].length:n+=1;return n}var $={bold:{name:\"bold\",action:r,className:\"fa fa-bold\",title:\"Bold\",default:!0},italic:{name:\"italic\",action:y,className:\"fa fa-italic\",title:\"Italic\",default:!0},strikethrough:{name:\"strikethrough\",action:x,className:\"fa fa-strikethrough\",title:\"Strikethrough\"},heading:{name:\"heading\",action:k,className:\"fa fa-header fa-heading\",title:\"Heading\",default:!0},\"heading-smaller\":{name:\"heading-smaller\",action:k,className:\"fa fa-header fa-heading fa-header-x fa-header-smaller\",title:\"Smaller Heading\"},\"heading-bigger\":{name:\"heading-bigger\",action:S,className:\"fa fa-header fa-heading fa-header-x fa-header-bigger\",title:\"Bigger Heading\"},\"heading-1\":{name:\"heading-1\",action:C,className:\"fa fa-header fa-heading fa-header-x fa-header-1\",title:\"Big Heading\"},\"heading-2\":{name:\"heading-2\",action:L,className:\"fa fa-header fa-heading fa-header-x fa-header-2\",title:\"Medium Heading\"},\"heading-3\":{name:\"heading-3\",action:T,className:\"fa fa-header fa-heading fa-header-x fa-header-3\",title:\"Small Heading\"},\"separator-1\":{name:\"separator-1\"},code:{name:\"code\",action:b,className:\"fa fa-code\",title:\"Code\"},quote:{name:\"quote\",action:w,className:\"fa fa-quote-left\",title:\"Quote\",default:!0},\"unordered-list\":{name:\"unordered-list\",action:M,className:\"fa fa-list-ul\",title:\"Generic List\",default:!0},\"ordered-list\":{name:\"ordered-list\",action:N,className:\"fa fa-list-ol\",title:\"Numbered List\",default:!0},\"clean-block\":{name:\"clean-block\",action:A,className:\"fa fa-eraser fa-clean-block\",title:\"Clean block\"},\"separator-2\":{name:\"separator-2\"},link:{name:\"link\",action:E,className:\"fa fa-link\",title:\"Create Link\",default:!0},image:{name:\"image\",action:O,className:\"fa fa-image\",title:\"Insert Image\",default:!0},table:{name:\"table\",action:I,className:\"fa fa-table\",title:\"Insert Table\"},\"horizontal-rule\":{name:\"horizontal-rule\",action:D,className:\"fa fa-minus\",title:\"Insert Horizontal Line\"},\"separator-3\":{name:\"separator-3\"},preview:{name:\"preview\",action:W,className:\"fa fa-eye\",noDisable:!0,title:\"Toggle Preview\",default:!0},\"side-by-side\":{name:\"side-by-side\",action:B,className:\"fa fa-columns\",noDisable:!0,noMobile:!0,title:\"Toggle Side by Side\",default:!0},fullscreen:{name:\"fullscreen\",action:v,className:\"fa fa-arrows-alt\",noDisable:!0,noMobile:!0,title:\"Toggle Fullscreen\",default:!0},\"separator-4\":{name:\"separator-4\"},guide:{name:\"guide\",action:\"https://simplemde.com/markdown-guide\",className:\"fa fa-question-circle\",noDisable:!0,title:\"Markdown Guide\",default:!0},\"separator-5\":{name:\"separator-5\"},undo:{name:\"undo\",action:H,className:\"fa fa-undo\",noDisable:!0,title:\"Undo\"},redo:{name:\"redo\",action:R,className:\"fa fa-repeat\",noDisable:!0,title:\"Redo\"}},G={link:[\"[\",\"](#url#)\"],image:[\"![](\",\"#url#)\"],table:[\"\",\"\\n\\n| Column 1 | Column 2 | Column 3 |\\n| -------- | -------- | -------- |\\n| Text     | Text     | Text     |\\n\\n\"],horizontalRule:[\"\",\"\\n\\n-----\\n\\n\"]},V={link:\"URL for the link:\",image:\"URL of the image:\"},X={bold:\"**\",code:\"```\",italic:\"*\"};function K(e){(e=e||{}).parent=this;var t=!0;if(!1===e.autoDownloadFontAwesome&&(t=!1),!0!==e.autoDownloadFontAwesome)for(var n=document.styleSheets,r=0;r<n.length;r++)n[r].href&&-1<n[r].href.indexOf(\"//maxcdn.bootstrapcdn.com/font-awesome/\")&&(t=!1);if(t){var i=document.createElement(\"link\");i.rel=\"stylesheet\",i.href=\"https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css\",document.getElementsByTagName(\"head\")[0].appendChild(i)}if(e.element)this.element=e.element;else if(null===e.element)return void console.log(\"EasyMDE: Error. No element was found.\");if(void 0===e.toolbar)for(var o in e.toolbar=[],$)$.hasOwnProperty(o)&&(-1!=o.indexOf(\"separator-\")&&e.toolbar.push(\"|\"),(!0===$[o].default||e.showIcons&&e.showIcons.constructor===Array&&-1!=e.showIcons.indexOf(o))&&e.toolbar.push(o));e.hasOwnProperty(\"status\")||(e.status=[\"autosave\",\"lines\",\"words\",\"cursor\"]),e.previewRender||(e.previewRender=function(e){return this.parent.markdown(e)}),e.parsingConfig=q({highlightFormatting:!0},e.parsingConfig||{}),e.insertTexts=q({},G,e.insertTexts||{}),e.promptTexts=q({},V,e.promptTexts||{}),e.blockStyles=q({},X,e.blockStyles||{}),e.shortcuts=q({},l,e.shortcuts||{}),e.minHeight=e.minHeight||\"300px\",null!=e.autosave&&null!=e.autosave.unique_id&&\"\"!=e.autosave.unique_id&&(e.autosave.uniqueId=e.autosave.unique_id),this.options=e,this.render(),!e.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(e.initialValue)}function Y(){if(\"object\"!=typeof localStorage)return!1;try{localStorage.setItem(\"smde_localStorage\",1),localStorage.removeItem(\"smde_localStorage\")}catch(e){return!1}return!0}K.prototype.markdown=function(e){if(i){var t;if(t=this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?this.options.renderingConfig.markedOptions:{},this.options&&this.options.renderingConfig&&!1===this.options.renderingConfig.singleLineBreaks?t.breaks=!1:t.breaks=!0,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting){var n=this.options.renderingConfig.hljs||window.hljs;n&&(t.highlight=function(e){return n.highlightAuto(e).value})}i.setOptions(t);var r=i(e);return r=function(e){for(var t;null!==(t=a.exec(e));){var n=t[0];if(-1===n.indexOf(\"target=\")){var r=n.replace(/>$/,' target=\"_blank\">');e=e.replace(n,r)}}return e}(r)}},K.prototype.render=function(e){if(e||(e=this.element||document.getElementsByTagName(\"textarea\")[0]),!this._rendered||this._rendered!==e){this.element=e;var t,n,r=this.options,i=this,o={};for(var a in r.shortcuts)null!==r.shortcuts[a]&&null!==h[a]&&function(e){o[d(r.shortcuts[e])]=function(){h[e](i)}}(a);if(o.Enter=\"newlineAndIndentContinueMarkdownList\",o.Tab=\"tabAndIndentMarkdownList\",o[\"Shift-Tab\"]=\"shiftTabAndUnindentMarkdownList\",o.Esc=function(e){e.getOption(\"fullScreen\")&&v(i)},document.addEventListener(\"keydown\",function(e){27==(e=e||window.event).keyCode&&i.codemirror.getOption(\"fullScreen\")&&v(i)},!1),!1!==r.spellChecker?(t=\"spell-checker\",(n=r.parsingConfig).name=\"gfm\",n.gitHubSpice=!1,u({codeMirrorInstance:c})):((t=r.parsingConfig).name=\"gfm\",t.gitHubSpice=!1),this.codemirror=c.fromTextArea(e,{mode:t,backdrop:n,theme:\"paper\",tabSize:null!=r.tabSize?r.tabSize:2,indentUnit:null!=r.tabSize?r.tabSize:2,indentWithTabs:!1!==r.indentWithTabs,lineNumbers:!1,autofocus:!0===r.autofocus,extraKeys:o,lineWrapping:!1!==r.lineWrapping,allowDropFileTypes:[\"text/plain\"],placeholder:r.placeholder||e.getAttribute(\"placeholder\")||\"\",styleSelectedText:null!=r.styleSelectedText?r.styleSelectedText:!f(),configureMouse:function(e,t,n){return{addNew:!1}}}),this.codemirror.getScrollerElement().style.minHeight=r.minHeight,!0===r.forceSync){var l=this.codemirror;l.on(\"change\",function(){l.save()})}!(this.gui={})!==r.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==r.status&&(this.gui.statusbar=this.createStatusbar()),null!=r.autosave&&!0===r.autosave.enabled&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var s=this.codemirror;setTimeout(function(){s.refresh()}.bind(s),0)}},K.prototype.autosave=function(){if(Y()){var e=this;if(null==this.options.autosave.uniqueId||\"\"==this.options.autosave.uniqueId)return void console.log(\"EasyMDE: You must set a uniqueId to use the autosave feature\");null!=e.element.form&&null!=e.element.form&&e.element.form.addEventListener(\"submit\",function(){localStorage.removeItem(\"smde_\"+e.options.autosave.uniqueId)}),!0!==this.options.autosave.loaded&&(\"string\"==typeof localStorage.getItem(\"smde_\"+this.options.autosave.uniqueId)&&\"\"!=localStorage.getItem(\"smde_\"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem(\"smde_\"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem(\"smde_\"+this.options.autosave.uniqueId,e.value());var t=document.getElementById(\"autosaved\");if(null!=t&&null!=t&&\"\"!=t){var n=new Date,r=n.getHours(),i=n.getMinutes(),o=\"am\",a=r;12<=a&&(a=r-12,o=\"pm\"),0==a&&(a=12),i=i<10?\"0\"+i:i,t.innerHTML=\"Autosaved: \"+a+\":\"+i+\" \"+o}this.autosaveTimeoutId=setTimeout(function(){e.autosave()},this.options.autosave.delay||1e4)}else console.log(\"EasyMDE: localStorage not available, cannot autosave\")},K.prototype.clearAutosavedValue=function(){if(Y()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||\"\"==this.options.autosave.uniqueId)return void console.log(\"EasyMDE: You must set a uniqueId to clear the autosave value\");localStorage.removeItem(\"smde_\"+this.options.autosave.uniqueId)}else console.log(\"EasyMDE: localStorage not available, cannot autosave\")},K.prototype.createSideBySide=function(){var r=this.codemirror,e=r.getWrapperElement(),i=e.nextSibling;if(i&&/editor-preview-side/.test(i.className)||((i=document.createElement(\"div\")).className=\"editor-preview-side\",e.parentNode.insertBefore(i,e.nextSibling)),!1===this.options.syncSideBySidePreviewScroll)return i;var o=!1,a=!1;return r.on(\"scroll\",function(e){if(o)o=!1;else{a=!0;var t=e.getScrollInfo().height-e.getScrollInfo().clientHeight,n=parseFloat(e.getScrollInfo().top)/t,r=(i.scrollHeight-i.clientHeight)*n;i.scrollTop=r}}),i.onscroll=function(){if(a)a=!1;else{o=!0;var e=i.scrollHeight-i.clientHeight,t=parseFloat(i.scrollTop)/e,n=(r.getScrollInfo().height-r.getScrollInfo().clientHeight)*t;r.scrollTo(0,n)}},i},K.prototype.createToolbar=function(e){if((e=e||this.options.toolbar)&&0!==e.length){var t;for(t=0;t<e.length;t++)null!=$[e[t]]&&(e[t]=$[e[t]]);var r=document.createElement(\"div\");r.className=\"editor-toolbar\";var i=this,o={};for(i.toolbar=e,t=0;t<e.length;t++)if((\"guide\"!=e[t].name||!1!==i.options.toolbarGuideIcon)&&!(i.options.hideIcons&&-1!=i.options.hideIcons.indexOf(e[t].name)||(\"fullscreen\"==e[t].name||\"side-by-side\"==e[t].name)&&f())){if(\"|\"===e[t]){for(var n=!1,a=t+1;a<e.length;a++)\"|\"===e[a]||i.options.hideIcons&&-1!=i.options.hideIcons.indexOf(e[a].name)||(n=!0);if(!n)continue}!function(t){var e,n;\"|\"===t?((n=document.createElement(\"i\")).className=\"separator\",n.innerHTML=\"|\",e=n):e=p(t,i.options.toolbarTips,i.options.shortcuts),t.action&&(\"function\"==typeof t.action?e.onclick=function(e){e.preventDefault(),t.action(i)}:\"string\"==typeof t.action&&(e.onclick=function(e){e.preventDefault(),window.open(t.action,\"_blank\")})),o[t.name||t]=e,r.appendChild(e)}(e[t])}i.toolbarElements=o;var l=this.codemirror;l.on(\"cursorActivity\",function(){var e,t,n=m(l);for(var r in o)t=void 0,t=o[e=r],n[e]?t.className+=\" active\":\"fullscreen\"!=e&&\"side-by-side\"!=e&&(t.className=t.className.replace(/\\s*active\\s*/g,\"\"))});var s=l.getWrapperElement();return s.parentNode.insertBefore(r,s),r}},K.prototype.createStatusbar=function(e){e=e||this.options.status;var t=this.options,n=this.codemirror;if(e&&0!==e.length){var r,i,o,a=[];for(r=0;r<e.length;r++)if(o=i=void 0,\"object\"==typeof e[r])a.push({className:e[r].className,defaultValue:e[r].defaultValue,onUpdate:e[r].onUpdate});else{var l=e[r];\"words\"===l?(o=function(e){e.innerHTML=U(n.getValue())},i=function(e){e.innerHTML=U(n.getValue())}):\"lines\"===l?(o=function(e){e.innerHTML=n.lineCount()},i=function(e){e.innerHTML=n.lineCount()}):\"cursor\"===l?(o=function(e){e.innerHTML=\"0:0\"},i=function(e){var t=n.getCursor();e.innerHTML=t.line+\":\"+t.ch}):\"autosave\"===l&&(o=function(e){null!=t.autosave&&!0===t.autosave.enabled&&e.setAttribute(\"id\",\"autosaved\")}),a.push({className:l,defaultValue:o,onUpdate:i})}var s=document.createElement(\"div\");for(s.className=\"editor-statusbar\",r=0;r<a.length;r++){var c=a[r],u=document.createElement(\"span\");u.className=c.className,\"function\"==typeof c.defaultValue&&c.defaultValue(u),\"function\"==typeof c.onUpdate&&this.codemirror.on(\"update\",function(e,t){return function(){t.onUpdate(e)}}(u,c)),s.appendChild(u)}var h=this.codemirror.getWrapperElement();return h.parentNode.insertBefore(s,h.nextSibling),s}},K.prototype.value=function(e){var t=this.codemirror;if(void 0===e)return t.getValue();if(t.getDoc().setValue(e),this.isPreviewActive()){var n=t.getWrapperElement().lastChild;n.innerHTML=this.options.previewRender(e,n)}return this},K.toggleBold=r,K.toggleItalic=y,K.toggleStrikethrough=x,K.toggleBlockquote=w,K.toggleHeadingSmaller=k,K.toggleHeadingBigger=S,K.toggleHeading1=C,K.toggleHeading2=L,K.toggleHeading3=T,K.toggleCodeBlock=b,K.toggleUnorderedList=M,K.toggleOrderedList=N,K.cleanBlock=A,K.drawLink=E,K.drawImage=O,K.drawTable=I,K.drawHorizontalRule=D,K.undo=H,K.redo=R,K.togglePreview=W,K.toggleSideBySide=B,K.toggleFullScreen=v,K.prototype.toggleBold=function(){r(this)},K.prototype.toggleItalic=function(){y(this)},K.prototype.toggleStrikethrough=function(){x(this)},K.prototype.toggleBlockquote=function(){w(this)},K.prototype.toggleHeadingSmaller=function(){k(this)},K.prototype.toggleHeadingBigger=function(){S(this)},K.prototype.toggleHeading1=function(){C(this)},K.prototype.toggleHeading2=function(){L(this)},K.prototype.toggleHeading3=function(){T(this)},K.prototype.toggleCodeBlock=function(){b(this)},K.prototype.toggleUnorderedList=function(){M(this)},K.prototype.toggleOrderedList=function(){N(this)},K.prototype.cleanBlock=function(){A(this)},K.prototype.drawLink=function(){E(this)},K.prototype.drawImage=function(){O(this)},K.prototype.drawTable=function(){I(this)},K.prototype.drawHorizontalRule=function(){D(this)},K.prototype.undo=function(){H(this)},K.prototype.redo=function(){R(this)},K.prototype.togglePreview=function(){W(this)},K.prototype.toggleSideBySide=function(){B(this)},K.prototype.toggleFullScreen=function(){v(this)},K.prototype.isPreviewActive=function(){var e=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(e.className)},K.prototype.isSideBySideActive=function(){var e=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(e.className)},K.prototype.isFullscreenActive=function(){return this.codemirror.getOption(\"fullScreen\")},K.prototype.getState=function(){return m(this.codemirror)},K.prototype.toTextArea=function(){var e=this.codemirror,t=e.getWrapperElement();t.parentNode&&(this.gui.toolbar&&t.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&t.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&t.parentNode.removeChild(this.gui.sideBySide)),e.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},t.exports=K},{\"./codemirror/tablist\":18,codemirror:10,\"codemirror-spell-checker\":4,\"codemirror/addon/display/fullscreen.js\":5,\"codemirror/addon/display/placeholder.js\":6,\"codemirror/addon/edit/continuelist.js\":7,\"codemirror/addon/mode/overlay.js\":8,\"codemirror/addon/selection/mark-selection.js\":9,\"codemirror/mode/gfm/gfm.js\":11,\"codemirror/mode/markdown/markdown.js\":12,\"codemirror/mode/xml/xml.js\":14,marked:16}]},{},[19])(19)});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack:///./src/public/js/vendor/easymde/dist/easymde.min.js?");

/***/ }),

/***/ "./src/public/js/vendor/easymde/dist/inline-attachment.js":
/*!****************************************************************!*\
  !*** ./src/public/js/vendor/easymde/dist/inline-attachment.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*jslint newcap: true */\r\n/*global XMLHttpRequest: false, FormData: false */\r\n/*\r\n * Inline Text Attachment\r\n *\r\n * Author: Roy van Kaathoven\r\n * Contact: ik@royvankaathoven.nl\r\n */\r\n(function(document, window) {\r\n    'use strict';\r\n\r\n    var inlineAttachment = function(options, instance) {\r\n        this.settings = inlineAttachment.util.merge(options, inlineAttachment.defaults);\r\n        this.editor = instance;\r\n        this.filenameTag = '{filename}';\r\n        this.lastValue = null;\r\n    };\r\n\r\n    /**\r\n     * Will holds the available editors\r\n     *\r\n     * @type {Object}\r\n     */\r\n    inlineAttachment.editors = {};\r\n\r\n    /**\r\n     * Utility functions\r\n     */\r\n    inlineAttachment.util = {\r\n\r\n        /**\r\n         * Simple function to merge the given objects\r\n         *\r\n         * @param {Object[]} object Multiple object parameters\r\n         * @returns {Object}\r\n         */\r\n        merge: function() {\r\n            var result = {};\r\n            for (var i = arguments.length - 1; i >= 0; i--) {\r\n                var obj = arguments[i];\r\n                for (var k in obj) {\r\n                    if (obj.hasOwnProperty(k)) {\r\n                        result[k] = obj[k];\r\n                    }\r\n                }\r\n            }\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Append a line of text at the bottom, ensuring there aren't unnecessary newlines\r\n         *\r\n         * @param {String} appended Current content\r\n         * @param {String} previous Value which should be appended after the current content\r\n         */\r\n        appendInItsOwnLine: function(previous, appended) {\r\n            return (previous + \"\\n\\n[[D]]\" + appended)\r\n                .replace(/(\\n{2,})\\[\\[D\\]\\]/, \"\\n\\n\")\r\n                .replace(/^(\\n*)/, \"\");\r\n        },\r\n\r\n        /**\r\n         * Inserts the given value at the current cursor position of the textarea element\r\n         *\r\n         * @param  {HtmlElement} el\r\n         * @param  {String} value Text which will be inserted at the cursor position\r\n         */\r\n        insertTextAtCursor: function(el, text) {\r\n            var scrollPos = el.scrollTop,\r\n                strPos = 0,\r\n                browser = false,\r\n                range;\r\n\r\n            if ((el.selectionStart || el.selectionStart === '0')) {\r\n                browser = \"ff\";\r\n            } else if (document.selection) {\r\n                browser = \"ie\";\r\n            }\r\n\r\n            if (browser === \"ie\") {\r\n                el.focus();\r\n                range = document.selection.createRange();\r\n                range.moveStart('character', -el.value.length);\r\n                strPos = range.text.length;\r\n            } else if (browser === \"ff\") {\r\n                strPos = el.selectionStart;\r\n            }\r\n\r\n            var front = (el.value).substring(0, strPos);\r\n            var back = (el.value).substring(strPos, el.value.length);\r\n            el.value = front + text + back;\r\n            strPos = strPos + text.length;\r\n            if (browser === \"ie\") {\r\n                el.focus();\r\n                range = document.selection.createRange();\r\n                range.moveStart('character', -el.value.length);\r\n                range.moveStart('character', strPos);\r\n                range.moveEnd('character', 0);\r\n                range.select();\r\n            } else if (browser === \"ff\") {\r\n                el.selectionStart = strPos;\r\n                el.selectionEnd = strPos;\r\n                el.focus();\r\n            }\r\n            el.scrollTop = scrollPos;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Default configuration options\r\n     *\r\n     * @type {Object}\r\n     */\r\n    inlineAttachment.defaults = {\r\n        /**\r\n         * URL where the file will be send\r\n         */\r\n        uploadUrl: 'upload_attachment.php',\r\n\r\n        /**\r\n         * Which method will be used to send the file to the upload URL\r\n         */\r\n        uploadMethod: 'POST',\r\n\r\n        /**\r\n         * Name in which the file will be placed\r\n         */\r\n        uploadFieldName: 'file',\r\n\r\n        /**\r\n         * Extension which will be used when a file extension could not\r\n         * be detected\r\n         */\r\n        defaultExtension: 'png',\r\n\r\n        /**\r\n         * JSON field which refers to the uploaded file URL\r\n         */\r\n        jsonFieldName: 'filename',\r\n\r\n        /**\r\n         * Allowed MIME types\r\n         */\r\n        allowedTypes: [\r\n            'image/jpeg',\r\n            'image/png',\r\n            'image/jpg',\r\n            'image/gif'\r\n        ],\r\n\r\n        /**\r\n         * Text which will be inserted when dropping or pasting a file.\r\n         * Acts as a placeholder which will be replaced when the file is done with uploading\r\n         */\r\n        progressText: '![Uploading file...]()',\r\n\r\n        /**\r\n         * When a file has successfully been uploaded the progressText\r\n         * will be replaced by the urlText, the {filename} tag will be replaced\r\n         * by the filename that has been returned by the server\r\n         */\r\n        urlText: \"![file]({filename})\",\r\n\r\n        /**\r\n         * Text which will be used when uploading has failed\r\n         */\r\n        errorText: \"Error uploading file\",\r\n\r\n        /**\r\n         * Extra parameters which will be send when uploading a file\r\n         */\r\n        extraParams: {},\r\n\r\n        /**\r\n         * Extra headers which will be send when uploading a file\r\n         */\r\n        extraHeaders: {},\r\n\r\n        /**\r\n         * Before the file is send\r\n         */\r\n        beforeFileUpload: function() {\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * Triggers when a file is dropped or pasted\r\n         */\r\n        onFileReceived: function() {},\r\n\r\n        /**\r\n         * Custom upload handler\r\n         *\r\n         * @return {Boolean} when false is returned it will prevent default upload behavior\r\n         */\r\n        onFileUploadResponse: function() {\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * Custom error handler. Runs after removing the placeholder text and before the alert().\r\n         * Return false from this function to prevent the alert dialog.\r\n         *\r\n         * @return {Boolean} when false is returned it will prevent default error behavior\r\n         */\r\n        onFileUploadError: function() {\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * When a file has succesfully been uploaded\r\n         */\r\n        onFileUploaded: function() {}\r\n    };\r\n\r\n    /**\r\n     * Uploads the blob\r\n     *\r\n     * @param  {Blob} file blob data received from event.dataTransfer object\r\n     * @return {XMLHttpRequest} request object which sends the file\r\n     */\r\n    inlineAttachment.prototype.uploadFile = function(file) {\r\n        var me = this,\r\n            formData = new FormData(),\r\n            xhr = new XMLHttpRequest(),\r\n            settings = this.settings,\r\n            extension = settings.defaultExtension || settings.defualtExtension;\r\n\r\n        if (typeof settings.setupFormData === 'function') {\r\n            settings.setupFormData(formData, file);\r\n        }\r\n\r\n        // Attach the file. If coming from clipboard, add a default filename (only works in Chrome for now)\r\n        // http://stackoverflow.com/questions/6664967/how-to-give-a-blob-uploaded-as-formdata-a-file-name\r\n        if (file.name) {\r\n            var fileNameMatches = file.name.match(/\\.(.+)$/);\r\n            if (fileNameMatches) {\r\n                extension = fileNameMatches[1];\r\n            }\r\n        }\r\n\r\n        var remoteFilename = \"image-\" + Date.now() + \".\" + extension;\r\n        if (typeof settings.remoteFilename === 'function') {\r\n            remoteFilename = settings.remoteFilename(file);\r\n        }\r\n\r\n        formData.append(settings.uploadFieldName, file, remoteFilename);\r\n\r\n        // Append the extra parameters to the formdata\r\n        if (typeof settings.extraParams === \"object\") {\r\n            for (var key in settings.extraParams) {\r\n                if (settings.extraParams.hasOwnProperty(key)) {\r\n                    formData.append(key, settings.extraParams[key]);\r\n                }\r\n            }\r\n        }\r\n\r\n        xhr.open('POST', settings.uploadUrl);\r\n\r\n        // Add any available extra headers\r\n        if (typeof settings.extraHeaders === \"object\") {\r\n            for (var header in settings.extraHeaders) {\r\n                if (settings.extraHeaders.hasOwnProperty(header)) {\r\n                    xhr.setRequestHeader(header, settings.extraHeaders[header]);\r\n                }\r\n            }\r\n        }\r\n\r\n        xhr.onload = function() {\r\n            // If HTTP status is OK or Created\r\n            if (xhr.status === 200 || xhr.status === 201) {\r\n                me.onFileUploadResponse(xhr);\r\n            } else {\r\n                me.onFileUploadError(xhr);\r\n            }\r\n        };\r\n        if (settings.beforeFileUpload(xhr) !== false) {\r\n            xhr.send(formData);\r\n        }\r\n        return xhr;\r\n    };\r\n\r\n    /**\r\n     * Returns if the given file is allowed to handle\r\n     *\r\n     * @param {File} clipboard data file\r\n     */\r\n    inlineAttachment.prototype.isFileAllowed = function(file) {\r\n        if (file.kind === 'string') { return false; }\r\n        if (this.settings.allowedTypes.indexOf('*') === 0){\r\n            return true;\r\n        } else {\r\n            return this.settings.allowedTypes.indexOf(file.type) >= 0;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Handles upload response\r\n     *\r\n     * @param  {XMLHttpRequest} xhr\r\n     * @return {Void}\r\n     */\r\n    inlineAttachment.prototype.onFileUploadResponse = function(xhr) {\r\n        if (this.settings.onFileUploadResponse.call(this, xhr) !== false) {\r\n            var result = JSON.parse(xhr.responseText),\r\n                filename = result[this.settings.jsonFieldName];\r\n\r\n            if (result && filename) {\r\n                var newValue;\r\n                if (typeof this.settings.urlText === 'function') {\r\n                    newValue = this.settings.urlText.call(this, filename, result);\r\n                } else {\r\n                    newValue = this.settings.urlText.replace(this.filenameTag, filename);\r\n                }\r\n                var text = this.editor.getValue().replace(this.lastValue, newValue);\r\n                this.editor.setValue(text);\r\n                this.settings.onFileUploaded.call(this, filename);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Called when a file has failed to upload\r\n     *\r\n     * @param  {XMLHttpRequest} xhr\r\n     * @return {Void}\r\n     */\r\n    inlineAttachment.prototype.onFileUploadError = function(xhr) {\r\n        if (this.settings.onFileUploadError.call(this, xhr) !== false) {\r\n            var text = this.editor.getValue().replace(this.lastValue, this.settings.errorText);\r\n            this.editor.setValue(text);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Called when a file has been inserted, either by drop or paste\r\n     *\r\n     * @param  {File} file\r\n     * @return {Void}\r\n     */\r\n    inlineAttachment.prototype.onFileInserted = function(file) {\r\n        if (this.settings.onFileReceived.call(this, file) !== false) {\r\n            this.lastValue = this.settings.progressText;\r\n            this.editor.insertValue(this.lastValue);\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Called when a paste event occured\r\n     * @param  {Event} e\r\n     * @return {Boolean} if the event was handled\r\n     */\r\n    inlineAttachment.prototype.onPaste = function(e) {\r\n        var result = false,\r\n            clipboardData = e.clipboardData,\r\n            items;\r\n\r\n        if (typeof clipboardData === \"object\") {\r\n            items = clipboardData.items || clipboardData.files || [];\r\n\r\n            for (var i = 0; i < items.length; i++) {\r\n                var item = items[i];\r\n                if (this.isFileAllowed(item)) {\r\n                    result = true;\r\n                    this.onFileInserted(item.getAsFile());\r\n                    this.uploadFile(item.getAsFile());\r\n                }\r\n            }\r\n        }\r\n\r\n        if (result) { e.preventDefault(); }\r\n\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * Called when a drop event occures\r\n     * @param  {Event} e\r\n     * @return {Boolean} if the event was handled\r\n     */\r\n    inlineAttachment.prototype.onDrop = function(e) {\r\n        var result = false;\r\n        for (var i = 0; i < e.dataTransfer.files.length; i++) {\r\n            var file = e.dataTransfer.files[i];\r\n            if (this.isFileAllowed(file)) {\r\n                result = true;\r\n                this.onFileInserted(file);\r\n                this.uploadFile(file);\r\n            }\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    window.inlineAttachment = inlineAttachment;\r\n\r\n})(document, window);\r\n\n\n//# sourceURL=webpack:///./src/public/js/vendor/easymde/dist/inline-attachment.js?");

/***/ }),

/***/ "./src/public/js/vendor/easymde/dist/input.inline-attachment.js":
/*!**********************************************************************!*\
  !*** ./src/public/js/vendor/easymde/dist/input.inline-attachment.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*jslint newcap: true */\r\n/*global inlineAttachment: false */\r\n(function() {\r\n    'use strict';\r\n\r\n    inlineAttachment.editors.input = {\r\n        Editor: function(instance) {\r\n\r\n            var input = instance;\r\n\r\n            return {\r\n                getValue: function() {\r\n                    return input.value;\r\n                },\r\n                insertValue: function(val) {\r\n                    inlineAttachment.util.insertTextAtCursor(input, val);\r\n                },\r\n                setValue: function(val) {\r\n                    input.value = val;\r\n                }\r\n            };\r\n        },\r\n        attachToInput: function(input, options) {\r\n            options = options || {};\r\n\r\n            var editor = new inlineAttachment.editors.input.Editor(input),\r\n                inlineattach = new inlineAttachment(options, editor);\r\n\r\n            input.addEventListener('paste', function(e) {\r\n                inlineattach.onPaste(e);\r\n            }, false);\r\n            input.addEventListener('drop', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                inlineattach.onDrop(e);\r\n            }, false);\r\n            input.addEventListener('dragenter', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n            }, false);\r\n            input.addEventListener('dragover', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n            }, false);\r\n        }\r\n    };\r\n\r\n})();\r\n\n\n//# sourceURL=webpack:///./src/public/js/vendor/easymde/dist/input.inline-attachment.js?");

/***/ }),

/***/ "./src/public/js/vendor/grapesjs/grapes.min.js":
/*!*****************************************************!*\
  !*** ./src/public/js/vendor/grapesjs/grapes.min.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*! grapesjs - 0.14.50 */\r\n!(function (t, e) {\r\n   true\r\n    ? (module.exports = e())\r\n    : undefined\r\n})(window, function () {\r\n  return (function (t) {\r\n    var e = {}\r\n    function n (i) {\r\n      if (e[i]) return e[i].exports\r\n      var r = (e[i] = { i: i, l: !1, exports: {} })\r\n      return t[i].call(r.exports, r, r.exports, n), (r.l = !0), r.exports\r\n    }\r\n    return (\r\n      (n.m = t),\r\n      (n.c = e),\r\n      (n.d = function (t, e, i) {\r\n        n.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: i })\r\n      }),\r\n      (n.r = function (t) {\r\n        'undefined' != typeof Symbol &&\r\n          Symbol.toStringTag &&\r\n          Object.defineProperty(t, Symbol.toStringTag, { value: 'Module' }),\r\n          Object.defineProperty(t, '__esModule', { value: !0 })\r\n      }),\r\n      (n.t = function (t, e) {\r\n        if ((1 & e && (t = n(t)), 8 & e)) return t\r\n        if (4 & e && 'object' == typeof t && t && t.__esModule) return t\r\n        var i = Object.create(null)\r\n        if ((n.r(i), Object.defineProperty(i, 'default', { enumerable: !0, value: t }), 2 & e && 'string' != typeof t))\r\n          for (var r in t)\r\n            n.d(\r\n              i,\r\n              r,\r\n              function (e) {\r\n                return t[e]\r\n              }.bind(null, r)\r\n            )\r\n        return i\r\n      }),\r\n      (n.n = function (t) {\r\n        var e =\r\n          t && t.__esModule\r\n            ? function () {\r\n                return t.default\r\n              }\r\n            : function () {\r\n                return t\r\n              }\r\n        return n.d(e, 'a', e), e\r\n      }),\r\n      (n.o = function (t, e) {\r\n        return Object.prototype.hasOwnProperty.call(t, e)\r\n      }),\r\n      (n.p = ''),\r\n      n((n.s = 87))\r\n    )\r\n  })([\r\n    function (t, e, n) {\r\n      ;(function (i) {\r\n        var r, o, s\r\n        ;(s = ('object' == typeof self && self.self === self && self) || ('object' == typeof i && i.global === i && i)),\r\n          (r = [n(1), n(13), e]),\r\n          void 0 ===\r\n            (o = function (t, e, n) {\r\n              s.Backbone = (function (t, e, n, i) {\r\n                var r = t.Backbone,\r\n                  o = Array.prototype.slice\r\n                ;(e.VERSION = '1.3.3'),\r\n                  (e.$ = i),\r\n                  (e.noConflict = function () {\r\n                    return (t.Backbone = r), this\r\n                  }),\r\n                  (e.emulateHTTP = !1),\r\n                  (e.emulateJSON = !1)\r\n                var s = function (t, e, i) {\r\n                    n.each(e, function (e, r) {\r\n                      n[r] &&\r\n                        (t.prototype[r] = (function (t, e, i) {\r\n                          switch (t) {\r\n                            case 1:\r\n                              return function () {\r\n                                return n[e](this[i])\r\n                              }\r\n                            case 2:\r\n                              return function (t) {\r\n                                return n[e](this[i], t)\r\n                              }\r\n                            case 3:\r\n                              return function (t, r) {\r\n                                return n[e](this[i], a(t, this), r)\r\n                              }\r\n                            case 4:\r\n                              return function (t, r, o) {\r\n                                return n[e](this[i], a(t, this), r, o)\r\n                              }\r\n                            default:\r\n                              return function () {\r\n                                var t = o.call(arguments)\r\n                                return t.unshift(this[i]), n[e].apply(n, t)\r\n                              }\r\n                          }\r\n                        })(e, r, i))\r\n                    })\r\n                  },\r\n                  a = function (t, e) {\r\n                    return n.isFunction(t)\r\n                      ? t\r\n                      : n.isObject(t) && !e._isModel(t)\r\n                      ? l(t)\r\n                      : n.isString(t)\r\n                      ? function (e) {\r\n                          return e.get(t)\r\n                        }\r\n                      : t\r\n                  },\r\n                  l = function (t) {\r\n                    var e = n.matches(t)\r\n                    return function (t) {\r\n                      return e(t.attributes)\r\n                    }\r\n                  },\r\n                  c = (e.Events = {}),\r\n                  u = /\\s+/,\r\n                  h = function (t, e, i, r, o) {\r\n                    var s,\r\n                      a = 0\r\n                    if (i && 'object' == typeof i) {\r\n                      void 0 !== r && 'context' in o && void 0 === o.context && (o.context = r)\r\n                      for (s = n.keys(i); a < s.length; a++) e = h(t, e, s[a], i[s[a]], o)\r\n                    } else if (i && u.test(i)) for (s = i.split(u); a < s.length; a++) e = t(e, s[a], r, o)\r\n                    else e = t(e, i, r, o)\r\n                    return e\r\n                  }\r\n                c.on = function (t, e, n) {\r\n                  return d(this, t, e, n)\r\n                }\r\n                var d = function (t, e, n, i, r) {\r\n                  if (((t._events = h(f, t._events || {}, e, n, { context: i, ctx: t, listening: r })), r)) {\r\n                    var o = t._listeners || (t._listeners = {})\r\n                    o[r.id] = r\r\n                  }\r\n                  return t\r\n                }\r\n                c.listenTo = function (t, e, i) {\r\n                  if (!t) return this\r\n                  var r = t._listenId || (t._listenId = n.uniqueId('l')),\r\n                    o = this._listeningTo || (this._listeningTo = {}),\r\n                    s = o[r]\r\n                  if (!s) {\r\n                    var a = this._listenId || (this._listenId = n.uniqueId('l'))\r\n                    s = o[r] = { obj: t, objId: r, id: a, listeningTo: o, count: 0 }\r\n                  }\r\n                  return d(t, e, i, this, s), this\r\n                }\r\n                var f = function (t, e, n, i) {\r\n                  if (n) {\r\n                    var r = t[e] || (t[e] = []),\r\n                      o = i.context,\r\n                      s = i.ctx,\r\n                      a = i.listening\r\n                    a && a.count++, r.push({ callback: n, context: o, ctx: o || s, listening: a })\r\n                  }\r\n                  return t\r\n                }\r\n                ;(c.off = function (t, e, n) {\r\n                  return this._events\r\n                    ? ((this._events = h(p, this._events, t, e, { context: n, listeners: this._listeners })), this)\r\n                    : this\r\n                }),\r\n                  (c.stopListening = function (t, e, i) {\r\n                    var r = this._listeningTo\r\n                    if (!r) return this\r\n                    for (var o = t ? [t._listenId] : n.keys(r), s = 0; s < o.length; s++) {\r\n                      var a = r[o[s]]\r\n                      if (!a) break\r\n                      a.obj.off(e, i, this)\r\n                    }\r\n                    return this\r\n                  })\r\n                var p = function (t, e, i, r) {\r\n                  if (t) {\r\n                    var o,\r\n                      s = 0,\r\n                      a = r.context,\r\n                      l = r.listeners\r\n                    if (e || i || a) {\r\n                      for (var c = e ? [e] : n.keys(t); s < c.length; s++) {\r\n                        e = c[s]\r\n                        var u = t[e]\r\n                        if (!u) break\r\n                        for (var h = [], d = 0; d < u.length; d++) {\r\n                          var f = u[d]\r\n                          ;(i && i !== f.callback && i !== f.callback._callback) || (a && a !== f.context)\r\n                            ? h.push(f)\r\n                            : (o = f.listening) && 0 == --o.count && (delete l[o.id], delete o.listeningTo[o.objId])\r\n                        }\r\n                        h.length ? (t[e] = h) : delete t[e]\r\n                      }\r\n                      return t\r\n                    }\r\n                    for (var p = n.keys(l); s < p.length; s++)\r\n                      (o = l[p[s]]), delete l[o.id], delete o.listeningTo[o.objId]\r\n                  }\r\n                }\r\n                ;(c.once = function (t, e, i) {\r\n                  var r = h(g, {}, t, e, n.bind(this.off, this))\r\n                  return 'string' == typeof t && null == i && (e = void 0), this.on(r, e, i)\r\n                }),\r\n                  (c.listenToOnce = function (t, e, i) {\r\n                    var r = h(g, {}, e, i, n.bind(this.stopListening, this, t))\r\n                    return this.listenTo(t, r)\r\n                  })\r\n                var g = function (t, e, i, r) {\r\n                  if (i) {\r\n                    var o = (t[e] = n.once(function () {\r\n                      r(e, o), i.apply(this, arguments)\r\n                    }))\r\n                    o._callback = i\r\n                  }\r\n                  return t\r\n                }\r\n                c.trigger = function (t) {\r\n                  if (!this._events) return this\r\n                  for (var e = Math.max(0, arguments.length - 1), n = Array(e), i = 0; i < e; i++)\r\n                    n[i] = arguments[i + 1]\r\n                  return h(v, this._events, t, void 0, n), this\r\n                }\r\n                var v = function (t, e, n, i) {\r\n                    if (t) {\r\n                      var r = t[e],\r\n                        o = t.all\r\n                      r && o && (o = o.slice()), r && m(r, i), o && m(o, [e].concat(i))\r\n                    }\r\n                    return t\r\n                  },\r\n                  m = function (t, e) {\r\n                    var n,\r\n                      i = -1,\r\n                      r = t.length,\r\n                      o = e[0],\r\n                      s = e[1],\r\n                      a = e[2]\r\n                    switch (e.length) {\r\n                      case 0:\r\n                        for (; ++i < r; ) (n = t[i]).callback.call(n.ctx)\r\n                        return\r\n                      case 1:\r\n                        for (; ++i < r; ) (n = t[i]).callback.call(n.ctx, o)\r\n                        return\r\n                      case 2:\r\n                        for (; ++i < r; ) (n = t[i]).callback.call(n.ctx, o, s)\r\n                        return\r\n                      case 3:\r\n                        for (; ++i < r; ) (n = t[i]).callback.call(n.ctx, o, s, a)\r\n                        return\r\n                      default:\r\n                        for (; ++i < r; ) (n = t[i]).callback.apply(n.ctx, e)\r\n                        return\r\n                    }\r\n                  }\r\n                ;(c.bind = c.on), (c.unbind = c.off), n.extend(e, c)\r\n                var y = (e.Model = function (t, e) {\r\n                  var i = t || {}\r\n                  e || (e = {}),\r\n                    (this.cid = n.uniqueId(this.cidPrefix)),\r\n                    (this.attributes = {}),\r\n                    e.collection && (this.collection = e.collection),\r\n                    e.parse && (i = this.parse(i, e) || {})\r\n                  var r = n.result(this, 'defaults')\r\n                  ;(i = n.defaults(n.extend({}, r, i), r)),\r\n                    this.set(i, e),\r\n                    (this.changed = {}),\r\n                    this.initialize.apply(this, arguments)\r\n                })\r\n                n.extend(y.prototype, c, {\r\n                  changed: null,\r\n                  validationError: null,\r\n                  idAttribute: 'id',\r\n                  cidPrefix: 'c',\r\n                  initialize: function () {},\r\n                  toJSON: function (t) {\r\n                    return n.clone(this.attributes)\r\n                  },\r\n                  sync: function () {\r\n                    return e.sync.apply(this, arguments)\r\n                  },\r\n                  get: function (t) {\r\n                    return this.attributes[t]\r\n                  },\r\n                  escape: function (t) {\r\n                    return n.escape(this.get(t))\r\n                  },\r\n                  has: function (t) {\r\n                    return null != this.get(t)\r\n                  },\r\n                  matches: function (t) {\r\n                    return !!n.iteratee(t, this)(this.attributes)\r\n                  },\r\n                  set: function (t, e, i) {\r\n                    if (null == t) return this\r\n                    var r\r\n                    if (\r\n                      ('object' == typeof t ? ((r = t), (i = e)) : ((r = {})[t] = e),\r\n                      i || (i = {}),\r\n                      !this._validate(r, i))\r\n                    )\r\n                      return !1\r\n                    var o = i.unset,\r\n                      s = i.silent,\r\n                      a = [],\r\n                      l = this._changing\r\n                    ;(this._changing = !0),\r\n                      l || ((this._previousAttributes = n.clone(this.attributes)), (this.changed = {}))\r\n                    var c = this.attributes,\r\n                      u = this.changed,\r\n                      h = this._previousAttributes\r\n                    for (var d in r)\r\n                      (e = r[d]),\r\n                        n.isEqual(c[d], e) || a.push(d),\r\n                        n.isEqual(h[d], e) ? delete u[d] : (u[d] = e),\r\n                        o ? delete c[d] : (c[d] = e)\r\n                    if ((this.idAttribute in r && (this.id = this.get(this.idAttribute)), !s)) {\r\n                      a.length && (this._pending = i)\r\n                      for (var f = 0; f < a.length; f++) this.trigger('change:' + a[f], this, c[a[f]], i)\r\n                    }\r\n                    if (l) return this\r\n                    if (!s)\r\n                      for (; this._pending; ) (i = this._pending), (this._pending = !1), this.trigger('change', this, i)\r\n                    return (this._pending = !1), (this._changing = !1), this\r\n                  },\r\n                  unset: function (t, e) {\r\n                    return this.set(t, void 0, n.extend({}, e, { unset: !0 }))\r\n                  },\r\n                  clear: function (t) {\r\n                    var e = {}\r\n                    for (var i in this.attributes) e[i] = void 0\r\n                    return this.set(e, n.extend({}, t, { unset: !0 }))\r\n                  },\r\n                  hasChanged: function (t) {\r\n                    return null == t ? !n.isEmpty(this.changed) : n.has(this.changed, t)\r\n                  },\r\n                  changedAttributes: function (t) {\r\n                    if (!t) return !!this.hasChanged() && n.clone(this.changed)\r\n                    var e = this._changing ? this._previousAttributes : this.attributes,\r\n                      i = {}\r\n                    for (var r in t) {\r\n                      var o = t[r]\r\n                      n.isEqual(e[r], o) || (i[r] = o)\r\n                    }\r\n                    return !!n.size(i) && i\r\n                  },\r\n                  previous: function (t) {\r\n                    return null != t && this._previousAttributes ? this._previousAttributes[t] : null\r\n                  },\r\n                  previousAttributes: function () {\r\n                    return n.clone(this._previousAttributes)\r\n                  },\r\n                  fetch: function (t) {\r\n                    t = n.extend({ parse: !0 }, t)\r\n                    var e = this,\r\n                      i = t.success\r\n                    return (\r\n                      (t.success = function (n) {\r\n                        var r = t.parse ? e.parse(n, t) : n\r\n                        if (!e.set(r, t)) return !1\r\n                        i && i.call(t.context, e, n, t), e.trigger('sync', e, n, t)\r\n                      }),\r\n                      j(this, t),\r\n                      this.sync('read', this, t)\r\n                    )\r\n                  },\r\n                  save: function (t, e, i) {\r\n                    var r\r\n                    null == t || 'object' == typeof t ? ((r = t), (i = e)) : ((r = {})[t] = e)\r\n                    var o = (i = n.extend({ validate: !0, parse: !0 }, i)).wait\r\n                    if (r && !o) {\r\n                      if (!this.set(r, i)) return !1\r\n                    } else if (!this._validate(r, i)) return !1\r\n                    var s = this,\r\n                      a = i.success,\r\n                      l = this.attributes\r\n                    ;(i.success = function (t) {\r\n                      s.attributes = l\r\n                      var e = i.parse ? s.parse(t, i) : t\r\n                      if ((o && (e = n.extend({}, r, e)), e && !s.set(e, i))) return !1\r\n                      a && a.call(i.context, s, t, i), s.trigger('sync', s, t, i)\r\n                    }),\r\n                      j(this, i),\r\n                      r && o && (this.attributes = n.extend({}, l, r))\r\n                    var c = this.isNew() ? 'create' : i.patch ? 'patch' : 'update'\r\n                    'patch' !== c || i.attrs || (i.attrs = r)\r\n                    var u = this.sync(c, this, i)\r\n                    return (this.attributes = l), u\r\n                  },\r\n                  destroy: function (t) {\r\n                    t = t ? n.clone(t) : {}\r\n                    var e = this,\r\n                      i = t.success,\r\n                      r = t.wait,\r\n                      o = function () {\r\n                        e.stopListening(), e.trigger('destroy', e, e.collection, t)\r\n                      }\r\n                    t.success = function (n) {\r\n                      r && o(), i && i.call(t.context, e, n, t), e.isNew() || e.trigger('sync', e, n, t)\r\n                    }\r\n                    var s = !1\r\n                    return (\r\n                      this.isNew() ? n.defer(t.success) : (j(this, t), (s = this.sync('delete', this, t))), r || o(), s\r\n                    )\r\n                  },\r\n                  url: function () {\r\n                    var t = n.result(this, 'urlRoot') || n.result(this.collection, 'url') || F()\r\n                    if (this.isNew()) return t\r\n                    var e = this.get(this.idAttribute)\r\n                    return t.replace(/[^\\/]$/, '$&/') + encodeURIComponent(e)\r\n                  },\r\n                  parse: function (t, e) {\r\n                    return t\r\n                  },\r\n                  clone: function () {\r\n                    return new this.constructor(this.attributes)\r\n                  },\r\n                  isNew: function () {\r\n                    return !this.has(this.idAttribute)\r\n                  },\r\n                  isValid: function (t) {\r\n                    return this._validate({}, n.extend({}, t, { validate: !0 }))\r\n                  },\r\n                  _validate: function (t, e) {\r\n                    if (!e.validate || !this.validate) return !0\r\n                    t = n.extend({}, this.attributes, t)\r\n                    var i = (this.validationError = this.validate(t, e) || null)\r\n                    return !i || (this.trigger('invalid', this, i, n.extend(e, { validationError: i })), !1)\r\n                  }\r\n                }),\r\n                  s(\r\n                    y,\r\n                    { keys: 1, values: 1, pairs: 1, invert: 1, pick: 0, omit: 0, chain: 1, isEmpty: 1 },\r\n                    'attributes'\r\n                  )\r\n                var b = (e.Collection = function (t, e) {\r\n                    e || (e = {}),\r\n                      e.model && (this.model = e.model),\r\n                      void 0 !== e.comparator && (this.comparator = e.comparator),\r\n                      this._reset(),\r\n                      this.initialize.apply(this, arguments),\r\n                      t && this.reset(t, n.extend({ silent: !0 }, e))\r\n                  }),\r\n                  x = { add: !0, remove: !0, merge: !0 },\r\n                  w = { add: !0, remove: !1 },\r\n                  C = function (t, e, n) {\r\n                    n = Math.min(Math.max(n, 0), t.length)\r\n                    var i,\r\n                      r = Array(t.length - n),\r\n                      o = e.length\r\n                    for (i = 0; i < r.length; i++) r[i] = t[i + n]\r\n                    for (i = 0; i < o; i++) t[i + n] = e[i]\r\n                    for (i = 0; i < r.length; i++) t[i + o + n] = r[i]\r\n                  }\r\n                n.extend(b.prototype, c, {\r\n                  model: y,\r\n                  initialize: function () {},\r\n                  toJSON: function (t) {\r\n                    return this.map(function (e) {\r\n                      return e.toJSON(t)\r\n                    })\r\n                  },\r\n                  sync: function () {\r\n                    return e.sync.apply(this, arguments)\r\n                  },\r\n                  add: function (t, e) {\r\n                    return this.set(t, n.extend({ merge: !1 }, e, w))\r\n                  },\r\n                  remove: function (t, e) {\r\n                    e = n.extend({}, e)\r\n                    var i = !n.isArray(t)\r\n                    t = i ? [t] : t.slice()\r\n                    var r = this._removeModels(t, e)\r\n                    return (\r\n                      !e.silent &&\r\n                        r.length &&\r\n                        ((e.changes = { added: [], merged: [], removed: r }), this.trigger('update', this, e)),\r\n                      i ? r[0] : r\r\n                    )\r\n                  },\r\n                  set: function (t, e) {\r\n                    if (null != t) {\r\n                      ;(e = n.extend({}, x, e)).parse && !this._isModel(t) && (t = this.parse(t, e) || [])\r\n                      var i = !n.isArray(t)\r\n                      t = i ? [t] : t.slice()\r\n                      var r = e.at\r\n                      null != r && (r = +r), r > this.length && (r = this.length), r < 0 && (r += this.length + 1)\r\n                      var o,\r\n                        s,\r\n                        a = [],\r\n                        l = [],\r\n                        c = [],\r\n                        u = [],\r\n                        h = {},\r\n                        d = e.add,\r\n                        f = e.merge,\r\n                        p = e.remove,\r\n                        g = !1,\r\n                        v = this.comparator && null == r && !1 !== e.sort,\r\n                        m = n.isString(this.comparator) ? this.comparator : null\r\n                      for (s = 0; s < t.length; s++) {\r\n                        o = t[s]\r\n                        var y = this.get(o)\r\n                        if (y) {\r\n                          if (f && o !== y) {\r\n                            var b = this._isModel(o) ? o.attributes : o\r\n                            e.parse && (b = y.parse(b, e)), y.set(b, e), c.push(y), v && !g && (g = y.hasChanged(m))\r\n                          }\r\n                          h[y.cid] || ((h[y.cid] = !0), a.push(y)), (t[s] = y)\r\n                        } else\r\n                          d &&\r\n                            (o = t[s] = this._prepareModel(o, e)) &&\r\n                            (l.push(o), this._addReference(o, e), (h[o.cid] = !0), a.push(o))\r\n                      }\r\n                      if (p) {\r\n                        for (s = 0; s < this.length; s++) (o = this.models[s]), h[o.cid] || u.push(o)\r\n                        u.length && this._removeModels(u, e)\r\n                      }\r\n                      var w = !1,\r\n                        k = !v && d && p\r\n                      if (\r\n                        (a.length && k\r\n                          ? ((w =\r\n                              this.length !== a.length ||\r\n                              n.some(this.models, function (t, e) {\r\n                                return t !== a[e]\r\n                              })),\r\n                            (this.models.length = 0),\r\n                            C(this.models, a, 0),\r\n                            (this.length = this.models.length))\r\n                          : l.length &&\r\n                            (v && (g = !0),\r\n                            C(this.models, l, null == r ? this.length : r),\r\n                            (this.length = this.models.length)),\r\n                        g && this.sort({ silent: !0 }),\r\n                        !e.silent)\r\n                      ) {\r\n                        for (s = 0; s < l.length; s++)\r\n                          null != r && (e.index = r + s), (o = l[s]).trigger('add', o, this, e)\r\n                        ;(g || w) && this.trigger('sort', this, e),\r\n                          (l.length || u.length || c.length) &&\r\n                            ((e.changes = { added: l, removed: u, merged: c }), this.trigger('update', this, e))\r\n                      }\r\n                      return i ? t[0] : t\r\n                    }\r\n                  },\r\n                  reset: function (t, e) {\r\n                    e = e ? n.clone(e) : {}\r\n                    for (var i = 0; i < this.models.length; i++) this._removeReference(this.models[i], e)\r\n                    return (\r\n                      (e.previousModels = this.models),\r\n                      this._reset(),\r\n                      (t = this.add(t, n.extend({ silent: !0 }, e))),\r\n                      e.silent || this.trigger('reset', this, e),\r\n                      t\r\n                    )\r\n                  },\r\n                  push: function (t, e) {\r\n                    return this.add(t, n.extend({ at: this.length }, e))\r\n                  },\r\n                  pop: function (t) {\r\n                    var e = this.at(this.length - 1)\r\n                    return this.remove(e, t)\r\n                  },\r\n                  unshift: function (t, e) {\r\n                    return this.add(t, n.extend({ at: 0 }, e))\r\n                  },\r\n                  shift: function (t) {\r\n                    var e = this.at(0)\r\n                    return this.remove(e, t)\r\n                  },\r\n                  slice: function () {\r\n                    return o.apply(this.models, arguments)\r\n                  },\r\n                  get: function (t) {\r\n                    if (null != t)\r\n                      return (\r\n                        this._byId[t] || this._byId[this.modelId(t.attributes || t)] || (t.cid && this._byId[t.cid])\r\n                      )\r\n                  },\r\n                  has: function (t) {\r\n                    return null != this.get(t)\r\n                  },\r\n                  at: function (t) {\r\n                    return t < 0 && (t += this.length), this.models[t]\r\n                  },\r\n                  where: function (t, e) {\r\n                    return this[e ? 'find' : 'filter'](t)\r\n                  },\r\n                  findWhere: function (t) {\r\n                    return this.where(t, !0)\r\n                  },\r\n                  sort: function (t) {\r\n                    var e = this.comparator\r\n                    if (!e) throw new Error('Cannot sort a set without a comparator')\r\n                    t || (t = {})\r\n                    var i = e.length\r\n                    return (\r\n                      n.isFunction(e) && (e = n.bind(e, this)),\r\n                      1 === i || n.isString(e) ? (this.models = this.sortBy(e)) : this.models.sort(e),\r\n                      t.silent || this.trigger('sort', this, t),\r\n                      this\r\n                    )\r\n                  },\r\n                  pluck: function (t) {\r\n                    return this.map(t + '')\r\n                  },\r\n                  fetch: function (t) {\r\n                    var e = (t = n.extend({ parse: !0 }, t)).success,\r\n                      i = this\r\n                    return (\r\n                      (t.success = function (n) {\r\n                        var r = t.reset ? 'reset' : 'set'\r\n                        i[r](n, t), e && e.call(t.context, i, n, t), i.trigger('sync', i, n, t)\r\n                      }),\r\n                      j(this, t),\r\n                      this.sync('read', this, t)\r\n                    )\r\n                  },\r\n                  create: function (t, e) {\r\n                    var i = (e = e ? n.clone(e) : {}).wait\r\n                    if (!(t = this._prepareModel(t, e))) return !1\r\n                    i || this.add(t, e)\r\n                    var r = this,\r\n                      o = e.success\r\n                    return (\r\n                      (e.success = function (t, e, n) {\r\n                        i && r.add(t, n), o && o.call(n.context, t, e, n)\r\n                      }),\r\n                      t.save(null, e),\r\n                      t\r\n                    )\r\n                  },\r\n                  parse: function (t, e) {\r\n                    return t\r\n                  },\r\n                  clone: function () {\r\n                    return new this.constructor(this.models, { model: this.model, comparator: this.comparator })\r\n                  },\r\n                  modelId: function (t) {\r\n                    return t[this.model.prototype.idAttribute || 'id']\r\n                  },\r\n                  _reset: function () {\r\n                    ;(this.length = 0), (this.models = []), (this._byId = {})\r\n                  },\r\n                  _prepareModel: function (t, e) {\r\n                    if (this._isModel(t)) return t.collection || (t.collection = this), t\r\n                    ;(e = e ? n.clone(e) : {}).collection = this\r\n                    var i = new this.model(t, e)\r\n                    return i.validationError ? (this.trigger('invalid', this, i.validationError, e), !1) : i\r\n                  },\r\n                  _removeModels: function (t, e) {\r\n                    for (var n = [], i = 0; i < t.length; i++) {\r\n                      var r = this.get(t[i])\r\n                      if (r) {\r\n                        var o = this.indexOf(r)\r\n                        this.models.splice(o, 1), this.length--, delete this._byId[r.cid]\r\n                        var s = this.modelId(r.attributes)\r\n                        null != s && delete this._byId[s],\r\n                          e.silent || ((e.index = o), r.trigger('remove', r, this, e)),\r\n                          n.push(r),\r\n                          this._removeReference(r, e)\r\n                      }\r\n                    }\r\n                    return n\r\n                  },\r\n                  _isModel: function (t) {\r\n                    return t instanceof y\r\n                  },\r\n                  _addReference: function (t, e) {\r\n                    this._byId[t.cid] = t\r\n                    var n = this.modelId(t.attributes)\r\n                    null != n && (this._byId[n] = t), t.on('all', this._onModelEvent, this)\r\n                  },\r\n                  _removeReference: function (t, e) {\r\n                    delete this._byId[t.cid]\r\n                    var n = this.modelId(t.attributes)\r\n                    null != n && delete this._byId[n],\r\n                      this === t.collection && delete t.collection,\r\n                      t.off('all', this._onModelEvent, this)\r\n                  },\r\n                  _onModelEvent: function (t, e, n, i) {\r\n                    if (e) {\r\n                      if (('add' === t || 'remove' === t) && n !== this) return\r\n                      if (('destroy' === t && this.remove(e, i), 'change' === t)) {\r\n                        var r = this.modelId(e.previousAttributes()),\r\n                          o = this.modelId(e.attributes)\r\n                        r !== o && (null != r && delete this._byId[r], null != o && (this._byId[o] = e))\r\n                      }\r\n                    }\r\n                    this.trigger.apply(this, arguments)\r\n                  }\r\n                }),\r\n                  s(\r\n                    b,\r\n                    {\r\n                      forEach: 3,\r\n                      each: 3,\r\n                      map: 3,\r\n                      collect: 3,\r\n                      reduce: 0,\r\n                      foldl: 0,\r\n                      inject: 0,\r\n                      reduceRight: 0,\r\n                      foldr: 0,\r\n                      find: 3,\r\n                      detect: 3,\r\n                      filter: 3,\r\n                      select: 3,\r\n                      reject: 3,\r\n                      every: 3,\r\n                      all: 3,\r\n                      some: 3,\r\n                      any: 3,\r\n                      include: 3,\r\n                      includes: 3,\r\n                      contains: 3,\r\n                      invoke: 0,\r\n                      max: 3,\r\n                      min: 3,\r\n                      toArray: 1,\r\n                      size: 1,\r\n                      first: 3,\r\n                      head: 3,\r\n                      take: 3,\r\n                      initial: 3,\r\n                      rest: 3,\r\n                      tail: 3,\r\n                      drop: 3,\r\n                      last: 3,\r\n                      without: 0,\r\n                      difference: 0,\r\n                      indexOf: 3,\r\n                      shuffle: 1,\r\n                      lastIndexOf: 3,\r\n                      isEmpty: 1,\r\n                      chain: 1,\r\n                      sample: 3,\r\n                      partition: 3,\r\n                      groupBy: 3,\r\n                      countBy: 3,\r\n                      sortBy: 3,\r\n                      indexBy: 3,\r\n                      findIndex: 3,\r\n                      findLastIndex: 3\r\n                    },\r\n                    'models'\r\n                  )\r\n                var k = (e.View = function (t) {\r\n                    ;(this.cid = n.uniqueId('view')),\r\n                      n.extend(this, n.pick(t, T)),\r\n                      this._ensureElement(),\r\n                      this.initialize.apply(this, arguments)\r\n                  }),\r\n                  S = /^(\\S+)\\s*(.*)$/,\r\n                  T = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events']\r\n                n.extend(k.prototype, c, {\r\n                  tagName: 'div',\r\n                  $: function (t) {\r\n                    return this.$el.find(t)\r\n                  },\r\n                  initialize: function () {},\r\n                  render: function () {\r\n                    return this\r\n                  },\r\n                  remove: function () {\r\n                    return this._removeElement(), this.stopListening(), this\r\n                  },\r\n                  _removeElement: function () {\r\n                    this.$el.remove()\r\n                  },\r\n                  setElement: function (t) {\r\n                    return this.undelegateEvents(), this._setElement(t), this.delegateEvents(), this\r\n                  },\r\n                  _setElement: function (t) {\r\n                    ;(this.$el = t instanceof e.$ ? t : e.$(t)), (this.el = this.$el[0])\r\n                  },\r\n                  delegateEvents: function (t) {\r\n                    if ((t || (t = n.result(this, 'events')), !t)) return this\r\n                    for (var e in (this.undelegateEvents(), t)) {\r\n                      var i = t[e]\r\n                      if ((n.isFunction(i) || (i = this[i]), i)) {\r\n                        var r = e.match(S)\r\n                        this.delegate(r[1], r[2], n.bind(i, this))\r\n                      }\r\n                    }\r\n                    return this\r\n                  },\r\n                  delegate: function (t, e, n) {\r\n                    return this.$el.on(t + '.delegateEvents' + this.cid, e, n), this\r\n                  },\r\n                  undelegateEvents: function () {\r\n                    return this.$el && this.$el.off('.delegateEvents' + this.cid), this\r\n                  },\r\n                  undelegate: function (t, e, n) {\r\n                    return this.$el.off(t + '.delegateEvents' + this.cid, e, n), this\r\n                  },\r\n                  _createElement: function (t) {\r\n                    return document.createElement(t)\r\n                  },\r\n                  _ensureElement: function () {\r\n                    if (this.el) this.setElement(n.result(this, 'el'))\r\n                    else {\r\n                      var t = n.extend({}, n.result(this, 'attributes'))\r\n                      this.id && (t.id = n.result(this, 'id')),\r\n                        this.className && (t.class = n.result(this, 'className')),\r\n                        this.setElement(this._createElement(n.result(this, 'tagName'))),\r\n                        this._setAttributes(t)\r\n                    }\r\n                  },\r\n                  _setAttributes: function (t) {\r\n                    this.$el.attr(t)\r\n                  }\r\n                }),\r\n                  (e.sync = function (t, i, r) {\r\n                    var o = E[t]\r\n                    n.defaults(r || (r = {}), { emulateHTTP: e.emulateHTTP, emulateJSON: e.emulateJSON })\r\n                    var s = { type: o, dataType: 'json' }\r\n                    if (\r\n                      (r.url || (s.url = n.result(i, 'url') || F()),\r\n                      null != r.data ||\r\n                        !i ||\r\n                        ('create' !== t && 'update' !== t && 'patch' !== t) ||\r\n                        ((s.contentType = 'application/json'), (s.data = JSON.stringify(r.attrs || i.toJSON(r)))),\r\n                      r.emulateJSON &&\r\n                        ((s.contentType = 'application/x-www-form-urlencoded'),\r\n                        (s.data = s.data ? { model: s.data } : {})),\r\n                      r.emulateHTTP && ('PUT' === o || 'DELETE' === o || 'PATCH' === o))\r\n                    ) {\r\n                      ;(s.type = 'POST'), r.emulateJSON && (s.data._method = o)\r\n                      var a = r.beforeSend\r\n                      r.beforeSend = function (t) {\r\n                        if ((t.setRequestHeader('X-HTTP-Method-Override', o), a)) return a.apply(this, arguments)\r\n                      }\r\n                    }\r\n                    'GET' === s.type || r.emulateJSON || (s.processData = !1)\r\n                    var l = r.error\r\n                    r.error = function (t, e, n) {\r\n                      ;(r.textStatus = e), (r.errorThrown = n), l && l.call(r.context, t, e, n)\r\n                    }\r\n                    var c = (r.xhr = e.ajax(n.extend(s, r)))\r\n                    return i.trigger('request', i, c, r), c\r\n                  })\r\n                var E = { create: 'POST', update: 'PUT', patch: 'PATCH', delete: 'DELETE', read: 'GET' }\r\n                e.ajax = function () {\r\n                  return e.$.ajax.apply(e.$, arguments)\r\n                }\r\n                var M = (e.Router = function (t) {\r\n                    t || (t = {}),\r\n                      t.routes && (this.routes = t.routes),\r\n                      this._bindRoutes(),\r\n                      this.initialize.apply(this, arguments)\r\n                  }),\r\n                  A = /\\((.*?)\\)/g,\r\n                  O = /(\\(\\?)?:\\w+/g,\r\n                  P = /\\*\\w+/g,\r\n                  L = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g\r\n                n.extend(M.prototype, c, {\r\n                  initialize: function () {},\r\n                  route: function (t, i, r) {\r\n                    n.isRegExp(t) || (t = this._routeToRegExp(t)),\r\n                      n.isFunction(i) && ((r = i), (i = '')),\r\n                      r || (r = this[i])\r\n                    var o = this\r\n                    return (\r\n                      e.history.route(t, function (n) {\r\n                        var s = o._extractParameters(t, n)\r\n                        !1 !== o.execute(r, s, i) &&\r\n                          (o.trigger.apply(o, ['route:' + i].concat(s)),\r\n                          o.trigger('route', i, s),\r\n                          e.history.trigger('route', o, i, s))\r\n                      }),\r\n                      this\r\n                    )\r\n                  },\r\n                  execute: function (t, e, n) {\r\n                    t && t.apply(this, e)\r\n                  },\r\n                  navigate: function (t, n) {\r\n                    return e.history.navigate(t, n), this\r\n                  },\r\n                  _bindRoutes: function () {\r\n                    if (this.routes) {\r\n                      this.routes = n.result(this, 'routes')\r\n                      for (var t, e = n.keys(this.routes); null != (t = e.pop()); ) this.route(t, this.routes[t])\r\n                    }\r\n                  },\r\n                  _routeToRegExp: function (t) {\r\n                    return (\r\n                      (t = t\r\n                        .replace(L, '\\\\$&')\r\n                        .replace(A, '(?:$1)?')\r\n                        .replace(O, function (t, e) {\r\n                          return e ? t : '([^/?]+)'\r\n                        })\r\n                        .replace(P, '([^?]*?)')),\r\n                      new RegExp('^' + t + '(?:\\\\?([\\\\s\\\\S]*))?$')\r\n                    )\r\n                  },\r\n                  _extractParameters: function (t, e) {\r\n                    var i = t.exec(e).slice(1)\r\n                    return n.map(i, function (t, e) {\r\n                      return e === i.length - 1 ? t || null : t ? decodeURIComponent(t) : null\r\n                    })\r\n                  }\r\n                })\r\n                var _ = (e.History = function () {\r\n                    ;(this.handlers = []),\r\n                      (this.checkUrl = n.bind(this.checkUrl, this)),\r\n                      'undefined' != typeof window &&\r\n                        ((this.location = window.location), (this.history = window.history))\r\n                  }),\r\n                  N = /^[#\\/]|\\s+$/g,\r\n                  D = /^\\/+|\\/+$/g,\r\n                  I = /#.*$/\r\n                ;(_.started = !1),\r\n                  n.extend(_.prototype, c, {\r\n                    interval: 50,\r\n                    atRoot: function () {\r\n                      var t = this.location.pathname.replace(/[^\\/]$/, '$&/')\r\n                      return t === this.root && !this.getSearch()\r\n                    },\r\n                    matchRoot: function () {\r\n                      var t = this.decodeFragment(this.location.pathname),\r\n                        e = t.slice(0, this.root.length - 1) + '/'\r\n                      return e === this.root\r\n                    },\r\n                    decodeFragment: function (t) {\r\n                      return decodeURI(t.replace(/%25/g, '%2525'))\r\n                    },\r\n                    getSearch: function () {\r\n                      var t = this.location.href.replace(/#.*/, '').match(/\\?.+/)\r\n                      return t ? t[0] : ''\r\n                    },\r\n                    getHash: function (t) {\r\n                      var e = (t || this).location.href.match(/#(.*)$/)\r\n                      return e ? e[1] : ''\r\n                    },\r\n                    getPath: function () {\r\n                      var t = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1)\r\n                      return '/' === t.charAt(0) ? t.slice(1) : t\r\n                    },\r\n                    getFragment: function (t) {\r\n                      return (\r\n                        null == t &&\r\n                          (t = this._usePushState || !this._wantsHashChange ? this.getPath() : this.getHash()),\r\n                        t.replace(N, '')\r\n                      )\r\n                    },\r\n                    start: function (t) {\r\n                      if (_.started) throw new Error('Backbone.history has already been started')\r\n                      if (\r\n                        ((_.started = !0),\r\n                        (this.options = n.extend({ root: '/' }, this.options, t)),\r\n                        (this.root = this.options.root),\r\n                        (this._wantsHashChange = !1 !== this.options.hashChange),\r\n                        (this._hasHashChange =\r\n                          'onhashchange' in window && (void 0 === document.documentMode || document.documentMode > 7)),\r\n                        (this._useHashChange = this._wantsHashChange && this._hasHashChange),\r\n                        (this._wantsPushState = !!this.options.pushState),\r\n                        (this._hasPushState = !(!this.history || !this.history.pushState)),\r\n                        (this._usePushState = this._wantsPushState && this._hasPushState),\r\n                        (this.fragment = this.getFragment()),\r\n                        (this.root = ('/' + this.root + '/').replace(D, '/')),\r\n                        this._wantsHashChange && this._wantsPushState)\r\n                      ) {\r\n                        if (!this._hasPushState && !this.atRoot()) {\r\n                          var e = this.root.slice(0, -1) || '/'\r\n                          return this.location.replace(e + '#' + this.getPath()), !0\r\n                        }\r\n                        this._hasPushState && this.atRoot() && this.navigate(this.getHash(), { replace: !0 })\r\n                      }\r\n                      if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {\r\n                        ;(this.iframe = document.createElement('iframe')),\r\n                          (this.iframe.src = 'javascript:0'),\r\n                          (this.iframe.style.display = 'none'),\r\n                          (this.iframe.tabIndex = -1)\r\n                        var i = document.body,\r\n                          r = i.insertBefore(this.iframe, i.firstChild).contentWindow\r\n                        r.document.open(), r.document.close(), (r.location.hash = '#' + this.fragment)\r\n                      }\r\n                      var o =\r\n                        window.addEventListener ||\r\n                        function (t, e) {\r\n                          return attachEvent('on' + t, e)\r\n                        }\r\n                      if (\r\n                        (this._usePushState\r\n                          ? o('popstate', this.checkUrl, !1)\r\n                          : this._useHashChange && !this.iframe\r\n                          ? o('hashchange', this.checkUrl, !1)\r\n                          : this._wantsHashChange &&\r\n                            (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)),\r\n                        !this.options.silent)\r\n                      )\r\n                        return this.loadUrl()\r\n                    },\r\n                    stop: function () {\r\n                      var t =\r\n                        window.removeEventListener ||\r\n                        function (t, e) {\r\n                          return detachEvent('on' + t, e)\r\n                        }\r\n                      this._usePushState\r\n                        ? t('popstate', this.checkUrl, !1)\r\n                        : this._useHashChange && !this.iframe && t('hashchange', this.checkUrl, !1),\r\n                        this.iframe && (document.body.removeChild(this.iframe), (this.iframe = null)),\r\n                        this._checkUrlInterval && clearInterval(this._checkUrlInterval),\r\n                        (_.started = !1)\r\n                    },\r\n                    route: function (t, e) {\r\n                      this.handlers.unshift({ route: t, callback: e })\r\n                    },\r\n                    checkUrl: function (t) {\r\n                      var e = this.getFragment()\r\n                      if (\r\n                        (e === this.fragment && this.iframe && (e = this.getHash(this.iframe.contentWindow)),\r\n                        e === this.fragment)\r\n                      )\r\n                        return !1\r\n                      this.iframe && this.navigate(e), this.loadUrl()\r\n                    },\r\n                    loadUrl: function (t) {\r\n                      return (\r\n                        !!this.matchRoot() &&\r\n                        ((t = this.fragment = this.getFragment(t)),\r\n                        n.some(this.handlers, function (e) {\r\n                          if (e.route.test(t)) return e.callback(t), !0\r\n                        }))\r\n                      )\r\n                    },\r\n                    navigate: function (t, e) {\r\n                      if (!_.started) return !1\r\n                      ;(e && !0 !== e) || (e = { trigger: !!e }), (t = this.getFragment(t || ''))\r\n                      var n = this.root\r\n                      ;('' !== t && '?' !== t.charAt(0)) || (n = n.slice(0, -1) || '/')\r\n                      var i = n + t\r\n                      if (((t = this.decodeFragment(t.replace(I, ''))), this.fragment !== t)) {\r\n                        if (((this.fragment = t), this._usePushState))\r\n                          this.history[e.replace ? 'replaceState' : 'pushState']({}, document.title, i)\r\n                        else {\r\n                          if (!this._wantsHashChange) return this.location.assign(i)\r\n                          if (\r\n                            (this._updateHash(this.location, t, e.replace),\r\n                            this.iframe && t !== this.getHash(this.iframe.contentWindow))\r\n                          ) {\r\n                            var r = this.iframe.contentWindow\r\n                            e.replace || (r.document.open(), r.document.close()),\r\n                              this._updateHash(r.location, t, e.replace)\r\n                          }\r\n                        }\r\n                        return e.trigger ? this.loadUrl(t) : void 0\r\n                      }\r\n                    },\r\n                    _updateHash: function (t, e, n) {\r\n                      if (n) {\r\n                        var i = t.href.replace(/(javascript:|#).*$/, '')\r\n                        t.replace(i + '#' + e)\r\n                      } else t.hash = '#' + e\r\n                    }\r\n                  }),\r\n                  (e.history = new _()),\r\n                  (y.extend = b.extend = M.extend = k.extend = _.extend = function (t, e) {\r\n                    var i,\r\n                      r = this\r\n                    return (\r\n                      (i =\r\n                        t && n.has(t, 'constructor')\r\n                          ? t.constructor\r\n                          : function () {\r\n                              return r.apply(this, arguments)\r\n                            }),\r\n                      n.extend(i, r, e),\r\n                      (i.prototype = n.create(r.prototype, t)),\r\n                      (i.prototype.constructor = i),\r\n                      (i.__super__ = r.prototype),\r\n                      i\r\n                    )\r\n                  })\r\n                var F = function () {\r\n                    throw new Error('A \"url\" property or function must be specified')\r\n                  },\r\n                  j = function (t, e) {\r\n                    var n = e.error\r\n                    e.error = function (i) {\r\n                      n && n.call(e.context, t, i, e), t.trigger('error', t, i, e)\r\n                    }\r\n                  }\r\n                return e\r\n              })(s, n, t, e)\r\n            }.apply(e, r)) || (t.exports = o)\r\n      }.call(this, n(8)))\r\n    },\r\n    function (t, e, n) {\r\n      ;(function (t, n) {\r\n        var i\r\n        !(function () {\r\n          var r =\r\n              ('object' == typeof self && self.self === self && self) ||\r\n              ('object' == typeof t && t.global === t && t) ||\r\n              this ||\r\n              {},\r\n            o = r._,\r\n            s = Array.prototype,\r\n            a = Object.prototype,\r\n            l = 'undefined' != typeof Symbol ? Symbol.prototype : null,\r\n            c = s.push,\r\n            u = s.slice,\r\n            h = a.toString,\r\n            d = a.hasOwnProperty,\r\n            f = Array.isArray,\r\n            p = Object.keys,\r\n            g = Object.create,\r\n            v = function () {},\r\n            m = function (t) {\r\n              return t instanceof m ? t : this instanceof m ? void (this._wrapped = t) : new m(t)\r\n            }\r\n          e.nodeType ? (r._ = m) : (!n.nodeType && n.exports && (e = n.exports = m), (e._ = m)), (m.VERSION = '1.9.1')\r\n          var y,\r\n            b = function (t, e, n) {\r\n              if (void 0 === e) return t\r\n              switch (null == n ? 3 : n) {\r\n                case 1:\r\n                  return function (n) {\r\n                    return t.call(e, n)\r\n                  }\r\n                case 3:\r\n                  return function (n, i, r) {\r\n                    return t.call(e, n, i, r)\r\n                  }\r\n                case 4:\r\n                  return function (n, i, r, o) {\r\n                    return t.call(e, n, i, r, o)\r\n                  }\r\n              }\r\n              return function () {\r\n                return t.apply(e, arguments)\r\n              }\r\n            },\r\n            x = function (t, e, n) {\r\n              return m.iteratee !== y\r\n                ? m.iteratee(t, e)\r\n                : null == t\r\n                ? m.identity\r\n                : m.isFunction(t)\r\n                ? b(t, e, n)\r\n                : m.isObject(t) && !m.isArray(t)\r\n                ? m.matcher(t)\r\n                : m.property(t)\r\n            }\r\n          m.iteratee = y = function (t, e) {\r\n            return x(t, e, 1 / 0)\r\n          }\r\n          var w = function (t, e) {\r\n              return (\r\n                (e = null == e ? t.length - 1 : +e),\r\n                function () {\r\n                  for (var n = Math.max(arguments.length - e, 0), i = Array(n), r = 0; r < n; r++)\r\n                    i[r] = arguments[r + e]\r\n                  switch (e) {\r\n                    case 0:\r\n                      return t.call(this, i)\r\n                    case 1:\r\n                      return t.call(this, arguments[0], i)\r\n                    case 2:\r\n                      return t.call(this, arguments[0], arguments[1], i)\r\n                  }\r\n                  var o = Array(e + 1)\r\n                  for (r = 0; r < e; r++) o[r] = arguments[r]\r\n                  return (o[e] = i), t.apply(this, o)\r\n                }\r\n              )\r\n            },\r\n            C = function (t) {\r\n              if (!m.isObject(t)) return {}\r\n              if (g) return g(t)\r\n              v.prototype = t\r\n              var e = new v()\r\n              return (v.prototype = null), e\r\n            },\r\n            k = function (t) {\r\n              return function (e) {\r\n                return null == e ? void 0 : e[t]\r\n              }\r\n            },\r\n            S = function (t, e) {\r\n              return null != t && d.call(t, e)\r\n            },\r\n            T = function (t, e) {\r\n              for (var n = e.length, i = 0; i < n; i++) {\r\n                if (null == t) return\r\n                t = t[e[i]]\r\n              }\r\n              return n ? t : void 0\r\n            },\r\n            E = Math.pow(2, 53) - 1,\r\n            M = k('length'),\r\n            A = function (t) {\r\n              var e = M(t)\r\n              return 'number' == typeof e && e >= 0 && e <= E\r\n            }\r\n          ;(m.each = m.forEach = function (t, e, n) {\r\n            var i, r\r\n            if (((e = b(e, n)), A(t))) for (i = 0, r = t.length; i < r; i++) e(t[i], i, t)\r\n            else {\r\n              var o = m.keys(t)\r\n              for (i = 0, r = o.length; i < r; i++) e(t[o[i]], o[i], t)\r\n            }\r\n            return t\r\n          }),\r\n            (m.map = m.collect = function (t, e, n) {\r\n              e = x(e, n)\r\n              for (var i = !A(t) && m.keys(t), r = (i || t).length, o = Array(r), s = 0; s < r; s++) {\r\n                var a = i ? i[s] : s\r\n                o[s] = e(t[a], a, t)\r\n              }\r\n              return o\r\n            })\r\n          var O = function (t) {\r\n            return function (e, n, i, r) {\r\n              var o = arguments.length >= 3\r\n              return (function (e, n, i, r) {\r\n                var o = !A(e) && m.keys(e),\r\n                  s = (o || e).length,\r\n                  a = t > 0 ? 0 : s - 1\r\n                for (r || ((i = e[o ? o[a] : a]), (a += t)); a >= 0 && a < s; a += t) {\r\n                  var l = o ? o[a] : a\r\n                  i = n(i, e[l], l, e)\r\n                }\r\n                return i\r\n              })(e, b(n, r, 4), i, o)\r\n            }\r\n          }\r\n          ;(m.reduce = m.foldl = m.inject = O(1)),\r\n            (m.reduceRight = m.foldr = O(-1)),\r\n            (m.find = m.detect = function (t, e, n) {\r\n              var i = (A(t) ? m.findIndex : m.findKey)(t, e, n)\r\n              if (void 0 !== i && -1 !== i) return t[i]\r\n            }),\r\n            (m.filter = m.select = function (t, e, n) {\r\n              var i = []\r\n              return (\r\n                (e = x(e, n)),\r\n                m.each(t, function (t, n, r) {\r\n                  e(t, n, r) && i.push(t)\r\n                }),\r\n                i\r\n              )\r\n            }),\r\n            (m.reject = function (t, e, n) {\r\n              return m.filter(t, m.negate(x(e)), n)\r\n            }),\r\n            (m.every = m.all = function (t, e, n) {\r\n              e = x(e, n)\r\n              for (var i = !A(t) && m.keys(t), r = (i || t).length, o = 0; o < r; o++) {\r\n                var s = i ? i[o] : o\r\n                if (!e(t[s], s, t)) return !1\r\n              }\r\n              return !0\r\n            }),\r\n            (m.some = m.any = function (t, e, n) {\r\n              e = x(e, n)\r\n              for (var i = !A(t) && m.keys(t), r = (i || t).length, o = 0; o < r; o++) {\r\n                var s = i ? i[o] : o\r\n                if (e(t[s], s, t)) return !0\r\n              }\r\n              return !1\r\n            }),\r\n            (m.contains = m.includes = m.include = function (t, e, n, i) {\r\n              return A(t) || (t = m.values(t)), ('number' != typeof n || i) && (n = 0), m.indexOf(t, e, n) >= 0\r\n            }),\r\n            (m.invoke = w(function (t, e, n) {\r\n              var i, r\r\n              return (\r\n                m.isFunction(e) ? (r = e) : m.isArray(e) && ((i = e.slice(0, -1)), (e = e[e.length - 1])),\r\n                m.map(t, function (t) {\r\n                  var o = r\r\n                  if (!o) {\r\n                    if ((i && i.length && (t = T(t, i)), null == t)) return\r\n                    o = t[e]\r\n                  }\r\n                  return null == o ? o : o.apply(t, n)\r\n                })\r\n              )\r\n            })),\r\n            (m.pluck = function (t, e) {\r\n              return m.map(t, m.property(e))\r\n            }),\r\n            (m.where = function (t, e) {\r\n              return m.filter(t, m.matcher(e))\r\n            }),\r\n            (m.findWhere = function (t, e) {\r\n              return m.find(t, m.matcher(e))\r\n            }),\r\n            (m.max = function (t, e, n) {\r\n              var i,\r\n                r,\r\n                o = -1 / 0,\r\n                s = -1 / 0\r\n              if (null == e || ('number' == typeof e && 'object' != typeof t[0] && null != t))\r\n                for (var a = 0, l = (t = A(t) ? t : m.values(t)).length; a < l; a++)\r\n                  null != (i = t[a]) && i > o && (o = i)\r\n              else\r\n                (e = x(e, n)),\r\n                  m.each(t, function (t, n, i) {\r\n                    ;((r = e(t, n, i)) > s || (r === -1 / 0 && o === -1 / 0)) && ((o = t), (s = r))\r\n                  })\r\n              return o\r\n            }),\r\n            (m.min = function (t, e, n) {\r\n              var i,\r\n                r,\r\n                o = 1 / 0,\r\n                s = 1 / 0\r\n              if (null == e || ('number' == typeof e && 'object' != typeof t[0] && null != t))\r\n                for (var a = 0, l = (t = A(t) ? t : m.values(t)).length; a < l; a++)\r\n                  null != (i = t[a]) && i < o && (o = i)\r\n              else\r\n                (e = x(e, n)),\r\n                  m.each(t, function (t, n, i) {\r\n                    ;((r = e(t, n, i)) < s || (r === 1 / 0 && o === 1 / 0)) && ((o = t), (s = r))\r\n                  })\r\n              return o\r\n            }),\r\n            (m.shuffle = function (t) {\r\n              return m.sample(t, 1 / 0)\r\n            }),\r\n            (m.sample = function (t, e, n) {\r\n              if (null == e || n) return A(t) || (t = m.values(t)), t[m.random(t.length - 1)]\r\n              var i = A(t) ? m.clone(t) : m.values(t),\r\n                r = M(i)\r\n              e = Math.max(Math.min(e, r), 0)\r\n              for (var o = r - 1, s = 0; s < e; s++) {\r\n                var a = m.random(s, o),\r\n                  l = i[s]\r\n                ;(i[s] = i[a]), (i[a] = l)\r\n              }\r\n              return i.slice(0, e)\r\n            }),\r\n            (m.sortBy = function (t, e, n) {\r\n              var i = 0\r\n              return (\r\n                (e = x(e, n)),\r\n                m.pluck(\r\n                  m\r\n                    .map(t, function (t, n, r) {\r\n                      return { value: t, index: i++, criteria: e(t, n, r) }\r\n                    })\r\n                    .sort(function (t, e) {\r\n                      var n = t.criteria,\r\n                        i = e.criteria\r\n                      if (n !== i) {\r\n                        if (n > i || void 0 === n) return 1\r\n                        if (n < i || void 0 === i) return -1\r\n                      }\r\n                      return t.index - e.index\r\n                    }),\r\n                  'value'\r\n                )\r\n              )\r\n            })\r\n          var P = function (t, e) {\r\n            return function (n, i, r) {\r\n              var o = e ? [[], []] : {}\r\n              return (\r\n                (i = x(i, r)),\r\n                m.each(n, function (e, r) {\r\n                  var s = i(e, r, n)\r\n                  t(o, e, s)\r\n                }),\r\n                o\r\n              )\r\n            }\r\n          }\r\n          ;(m.groupBy = P(function (t, e, n) {\r\n            S(t, n) ? t[n].push(e) : (t[n] = [e])\r\n          })),\r\n            (m.indexBy = P(function (t, e, n) {\r\n              t[n] = e\r\n            })),\r\n            (m.countBy = P(function (t, e, n) {\r\n              S(t, n) ? t[n]++ : (t[n] = 1)\r\n            }))\r\n          var L = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g\r\n          ;(m.toArray = function (t) {\r\n            return t\r\n              ? m.isArray(t)\r\n                ? u.call(t)\r\n                : m.isString(t)\r\n                ? t.match(L)\r\n                : A(t)\r\n                ? m.map(t, m.identity)\r\n                : m.values(t)\r\n              : []\r\n          }),\r\n            (m.size = function (t) {\r\n              return null == t ? 0 : A(t) ? t.length : m.keys(t).length\r\n            }),\r\n            (m.partition = P(function (t, e, n) {\r\n              t[n ? 0 : 1].push(e)\r\n            }, !0)),\r\n            (m.first = m.head = m.take = function (t, e, n) {\r\n              return null == t || t.length < 1\r\n                ? null == e\r\n                  ? void 0\r\n                  : []\r\n                : null == e || n\r\n                ? t[0]\r\n                : m.initial(t, t.length - e)\r\n            }),\r\n            (m.initial = function (t, e, n) {\r\n              return u.call(t, 0, Math.max(0, t.length - (null == e || n ? 1 : e)))\r\n            }),\r\n            (m.last = function (t, e, n) {\r\n              return null == t || t.length < 1\r\n                ? null == e\r\n                  ? void 0\r\n                  : []\r\n                : null == e || n\r\n                ? t[t.length - 1]\r\n                : m.rest(t, Math.max(0, t.length - e))\r\n            }),\r\n            (m.rest = m.tail = m.drop = function (t, e, n) {\r\n              return u.call(t, null == e || n ? 1 : e)\r\n            }),\r\n            (m.compact = function (t) {\r\n              return m.filter(t, Boolean)\r\n            })\r\n          var _ = function (t, e, n, i) {\r\n            for (var r = (i = i || []).length, o = 0, s = M(t); o < s; o++) {\r\n              var a = t[o]\r\n              if (A(a) && (m.isArray(a) || m.isArguments(a)))\r\n                if (e) for (var l = 0, c = a.length; l < c; ) i[r++] = a[l++]\r\n                else _(a, e, n, i), (r = i.length)\r\n              else n || (i[r++] = a)\r\n            }\r\n            return i\r\n          }\r\n          ;(m.flatten = function (t, e) {\r\n            return _(t, e, !1)\r\n          }),\r\n            (m.without = w(function (t, e) {\r\n              return m.difference(t, e)\r\n            })),\r\n            (m.uniq = m.unique = function (t, e, n, i) {\r\n              m.isBoolean(e) || ((i = n), (n = e), (e = !1)), null != n && (n = x(n, i))\r\n              for (var r = [], o = [], s = 0, a = M(t); s < a; s++) {\r\n                var l = t[s],\r\n                  c = n ? n(l, s, t) : l\r\n                e && !n\r\n                  ? ((s && o === c) || r.push(l), (o = c))\r\n                  : n\r\n                  ? m.contains(o, c) || (o.push(c), r.push(l))\r\n                  : m.contains(r, l) || r.push(l)\r\n              }\r\n              return r\r\n            }),\r\n            (m.union = w(function (t) {\r\n              return m.uniq(_(t, !0, !0))\r\n            })),\r\n            (m.intersection = function (t) {\r\n              for (var e = [], n = arguments.length, i = 0, r = M(t); i < r; i++) {\r\n                var o = t[i]\r\n                if (!m.contains(e, o)) {\r\n                  var s\r\n                  for (s = 1; s < n && m.contains(arguments[s], o); s++);\r\n                  s === n && e.push(o)\r\n                }\r\n              }\r\n              return e\r\n            }),\r\n            (m.difference = w(function (t, e) {\r\n              return (\r\n                (e = _(e, !0, !0)),\r\n                m.filter(t, function (t) {\r\n                  return !m.contains(e, t)\r\n                })\r\n              )\r\n            })),\r\n            (m.unzip = function (t) {\r\n              for (var e = (t && m.max(t, M).length) || 0, n = Array(e), i = 0; i < e; i++) n[i] = m.pluck(t, i)\r\n              return n\r\n            }),\r\n            (m.zip = w(m.unzip)),\r\n            (m.object = function (t, e) {\r\n              for (var n = {}, i = 0, r = M(t); i < r; i++) e ? (n[t[i]] = e[i]) : (n[t[i][0]] = t[i][1])\r\n              return n\r\n            })\r\n          var N = function (t) {\r\n            return function (e, n, i) {\r\n              n = x(n, i)\r\n              for (var r = M(e), o = t > 0 ? 0 : r - 1; o >= 0 && o < r; o += t) if (n(e[o], o, e)) return o\r\n              return -1\r\n            }\r\n          }\r\n          ;(m.findIndex = N(1)),\r\n            (m.findLastIndex = N(-1)),\r\n            (m.sortedIndex = function (t, e, n, i) {\r\n              for (var r = (n = x(n, i, 1))(e), o = 0, s = M(t); o < s; ) {\r\n                var a = Math.floor((o + s) / 2)\r\n                n(t[a]) < r ? (o = a + 1) : (s = a)\r\n              }\r\n              return o\r\n            })\r\n          var D = function (t, e, n) {\r\n            return function (i, r, o) {\r\n              var s = 0,\r\n                a = M(i)\r\n              if ('number' == typeof o)\r\n                t > 0 ? (s = o >= 0 ? o : Math.max(o + a, s)) : (a = o >= 0 ? Math.min(o + 1, a) : o + a + 1)\r\n              else if (n && o && a) return i[(o = n(i, r))] === r ? o : -1\r\n              if (r != r) return (o = e(u.call(i, s, a), m.isNaN)) >= 0 ? o + s : -1\r\n              for (o = t > 0 ? s : a - 1; o >= 0 && o < a; o += t) if (i[o] === r) return o\r\n              return -1\r\n            }\r\n          }\r\n          ;(m.indexOf = D(1, m.findIndex, m.sortedIndex)),\r\n            (m.lastIndexOf = D(-1, m.findLastIndex)),\r\n            (m.range = function (t, e, n) {\r\n              null == e && ((e = t || 0), (t = 0)), n || (n = e < t ? -1 : 1)\r\n              for (var i = Math.max(Math.ceil((e - t) / n), 0), r = Array(i), o = 0; o < i; o++, t += n) r[o] = t\r\n              return r\r\n            }),\r\n            (m.chunk = function (t, e) {\r\n              if (null == e || e < 1) return []\r\n              for (var n = [], i = 0, r = t.length; i < r; ) n.push(u.call(t, i, (i += e)))\r\n              return n\r\n            })\r\n          var I = function (t, e, n, i, r) {\r\n            if (!(i instanceof e)) return t.apply(n, r)\r\n            var o = C(t.prototype),\r\n              s = t.apply(o, r)\r\n            return m.isObject(s) ? s : o\r\n          }\r\n          ;(m.bind = w(function (t, e, n) {\r\n            if (!m.isFunction(t)) throw new TypeError('Bind must be called on a function')\r\n            var i = w(function (r) {\r\n              return I(t, i, e, this, n.concat(r))\r\n            })\r\n            return i\r\n          })),\r\n            (m.partial = w(function (t, e) {\r\n              var n = m.partial.placeholder,\r\n                i = function () {\r\n                  for (var r = 0, o = e.length, s = Array(o), a = 0; a < o; a++)\r\n                    s[a] = e[a] === n ? arguments[r++] : e[a]\r\n                  for (; r < arguments.length; ) s.push(arguments[r++])\r\n                  return I(t, i, this, this, s)\r\n                }\r\n              return i\r\n            })),\r\n            (m.partial.placeholder = m),\r\n            (m.bindAll = w(function (t, e) {\r\n              var n = (e = _(e, !1, !1)).length\r\n              if (n < 1) throw new Error('bindAll must be passed function names')\r\n              for (; n--; ) {\r\n                var i = e[n]\r\n                t[i] = m.bind(t[i], t)\r\n              }\r\n            })),\r\n            (m.memoize = function (t, e) {\r\n              var n = function (i) {\r\n                var r = n.cache,\r\n                  o = '' + (e ? e.apply(this, arguments) : i)\r\n                return S(r, o) || (r[o] = t.apply(this, arguments)), r[o]\r\n              }\r\n              return (n.cache = {}), n\r\n            }),\r\n            (m.delay = w(function (t, e, n) {\r\n              return setTimeout(function () {\r\n                return t.apply(null, n)\r\n              }, e)\r\n            })),\r\n            (m.defer = m.partial(m.delay, m, 1)),\r\n            (m.throttle = function (t, e, n) {\r\n              var i,\r\n                r,\r\n                o,\r\n                s,\r\n                a = 0\r\n              n || (n = {})\r\n              var l = function () {\r\n                  ;(a = !1 === n.leading ? 0 : m.now()), (i = null), (s = t.apply(r, o)), i || (r = o = null)\r\n                },\r\n                c = function () {\r\n                  var c = m.now()\r\n                  a || !1 !== n.leading || (a = c)\r\n                  var u = e - (c - a)\r\n                  return (\r\n                    (r = this),\r\n                    (o = arguments),\r\n                    u <= 0 || u > e\r\n                      ? (i && (clearTimeout(i), (i = null)), (a = c), (s = t.apply(r, o)), i || (r = o = null))\r\n                      : i || !1 === n.trailing || (i = setTimeout(l, u)),\r\n                    s\r\n                  )\r\n                }\r\n              return (\r\n                (c.cancel = function () {\r\n                  clearTimeout(i), (a = 0), (i = r = o = null)\r\n                }),\r\n                c\r\n              )\r\n            }),\r\n            (m.debounce = function (t, e, n) {\r\n              var i,\r\n                r,\r\n                o = function (e, n) {\r\n                  ;(i = null), n && (r = t.apply(e, n))\r\n                },\r\n                s = w(function (s) {\r\n                  if ((i && clearTimeout(i), n)) {\r\n                    var a = !i\r\n                    ;(i = setTimeout(o, e)), a && (r = t.apply(this, s))\r\n                  } else i = m.delay(o, e, this, s)\r\n                  return r\r\n                })\r\n              return (\r\n                (s.cancel = function () {\r\n                  clearTimeout(i), (i = null)\r\n                }),\r\n                s\r\n              )\r\n            }),\r\n            (m.wrap = function (t, e) {\r\n              return m.partial(e, t)\r\n            }),\r\n            (m.negate = function (t) {\r\n              return function () {\r\n                return !t.apply(this, arguments)\r\n              }\r\n            }),\r\n            (m.compose = function () {\r\n              var t = arguments,\r\n                e = t.length - 1\r\n              return function () {\r\n                for (var n = e, i = t[e].apply(this, arguments); n--; ) i = t[n].call(this, i)\r\n                return i\r\n              }\r\n            }),\r\n            (m.after = function (t, e) {\r\n              return function () {\r\n                if (--t < 1) return e.apply(this, arguments)\r\n              }\r\n            }),\r\n            (m.before = function (t, e) {\r\n              var n\r\n              return function () {\r\n                return --t > 0 && (n = e.apply(this, arguments)), t <= 1 && (e = null), n\r\n              }\r\n            }),\r\n            (m.once = m.partial(m.before, 2)),\r\n            (m.restArguments = w)\r\n          var F = !{ toString: null }.propertyIsEnumerable('toString'),\r\n            j = ['valueOf', 'isPrototypeOf', 'toString', 'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'],\r\n            R = function (t, e) {\r\n              var n = j.length,\r\n                i = t.constructor,\r\n                r = (m.isFunction(i) && i.prototype) || a,\r\n                o = 'constructor'\r\n              for (S(t, o) && !m.contains(e, o) && e.push(o); n--; )\r\n                (o = j[n]) in t && t[o] !== r[o] && !m.contains(e, o) && e.push(o)\r\n            }\r\n          ;(m.keys = function (t) {\r\n            if (!m.isObject(t)) return []\r\n            if (p) return p(t)\r\n            var e = []\r\n            for (var n in t) S(t, n) && e.push(n)\r\n            return F && R(t, e), e\r\n          }),\r\n            (m.allKeys = function (t) {\r\n              if (!m.isObject(t)) return []\r\n              var e = []\r\n              for (var n in t) e.push(n)\r\n              return F && R(t, e), e\r\n            }),\r\n            (m.values = function (t) {\r\n              for (var e = m.keys(t), n = e.length, i = Array(n), r = 0; r < n; r++) i[r] = t[e[r]]\r\n              return i\r\n            }),\r\n            (m.mapObject = function (t, e, n) {\r\n              e = x(e, n)\r\n              for (var i = m.keys(t), r = i.length, o = {}, s = 0; s < r; s++) {\r\n                var a = i[s]\r\n                o[a] = e(t[a], a, t)\r\n              }\r\n              return o\r\n            }),\r\n            (m.pairs = function (t) {\r\n              for (var e = m.keys(t), n = e.length, i = Array(n), r = 0; r < n; r++) i[r] = [e[r], t[e[r]]]\r\n              return i\r\n            }),\r\n            (m.invert = function (t) {\r\n              for (var e = {}, n = m.keys(t), i = 0, r = n.length; i < r; i++) e[t[n[i]]] = n[i]\r\n              return e\r\n            }),\r\n            (m.functions = m.methods = function (t) {\r\n              var e = []\r\n              for (var n in t) m.isFunction(t[n]) && e.push(n)\r\n              return e.sort()\r\n            })\r\n          var z = function (t, e) {\r\n            return function (n) {\r\n              var i = arguments.length\r\n              if ((e && (n = Object(n)), i < 2 || null == n)) return n\r\n              for (var r = 1; r < i; r++)\r\n                for (var o = arguments[r], s = t(o), a = s.length, l = 0; l < a; l++) {\r\n                  var c = s[l]\r\n                  ;(e && void 0 !== n[c]) || (n[c] = o[c])\r\n                }\r\n              return n\r\n            }\r\n          }\r\n          ;(m.extend = z(m.allKeys)),\r\n            (m.extendOwn = m.assign = z(m.keys)),\r\n            (m.findKey = function (t, e, n) {\r\n              e = x(e, n)\r\n              for (var i, r = m.keys(t), o = 0, s = r.length; o < s; o++) if (e(t[(i = r[o])], i, t)) return i\r\n            })\r\n          var V,\r\n            H,\r\n            $ = function (t, e, n) {\r\n              return e in n\r\n            }\r\n          ;(m.pick = w(function (t, e) {\r\n            var n = {},\r\n              i = e[0]\r\n            if (null == t) return n\r\n            m.isFunction(i)\r\n              ? (e.length > 1 && (i = b(i, e[1])), (e = m.allKeys(t)))\r\n              : ((i = $), (e = _(e, !1, !1)), (t = Object(t)))\r\n            for (var r = 0, o = e.length; r < o; r++) {\r\n              var s = e[r],\r\n                a = t[s]\r\n              i(a, s, t) && (n[s] = a)\r\n            }\r\n            return n\r\n          })),\r\n            (m.omit = w(function (t, e) {\r\n              var n,\r\n                i = e[0]\r\n              return (\r\n                m.isFunction(i)\r\n                  ? ((i = m.negate(i)), e.length > 1 && (n = e[1]))\r\n                  : ((e = m.map(_(e, !1, !1), String)),\r\n                    (i = function (t, n) {\r\n                      return !m.contains(e, n)\r\n                    })),\r\n                m.pick(t, i, n)\r\n              )\r\n            })),\r\n            (m.defaults = z(m.allKeys, !0)),\r\n            (m.create = function (t, e) {\r\n              var n = C(t)\r\n              return e && m.extendOwn(n, e), n\r\n            }),\r\n            (m.clone = function (t) {\r\n              return m.isObject(t) ? (m.isArray(t) ? t.slice() : m.extend({}, t)) : t\r\n            }),\r\n            (m.tap = function (t, e) {\r\n              return e(t), t\r\n            }),\r\n            (m.isMatch = function (t, e) {\r\n              var n = m.keys(e),\r\n                i = n.length\r\n              if (null == t) return !i\r\n              for (var r = Object(t), o = 0; o < i; o++) {\r\n                var s = n[o]\r\n                if (e[s] !== r[s] || !(s in r)) return !1\r\n              }\r\n              return !0\r\n            }),\r\n            (V = function (t, e, n, i) {\r\n              if (t === e) return 0 !== t || 1 / t == 1 / e\r\n              if (null == t || null == e) return !1\r\n              if (t != t) return e != e\r\n              var r = typeof t\r\n              return ('function' === r || 'object' === r || 'object' == typeof e) && H(t, e, n, i)\r\n            }),\r\n            (H = function (t, e, n, i) {\r\n              t instanceof m && (t = t._wrapped), e instanceof m && (e = e._wrapped)\r\n              var r = h.call(t)\r\n              if (r !== h.call(e)) return !1\r\n              switch (r) {\r\n                case '[object RegExp]':\r\n                case '[object String]':\r\n                  return '' + t == '' + e\r\n                case '[object Number]':\r\n                  return +t != +t ? +e != +e : 0 == +t ? 1 / +t == 1 / e : +t == +e\r\n                case '[object Date]':\r\n                case '[object Boolean]':\r\n                  return +t == +e\r\n                case '[object Symbol]':\r\n                  return l.valueOf.call(t) === l.valueOf.call(e)\r\n              }\r\n              var o = '[object Array]' === r\r\n              if (!o) {\r\n                if ('object' != typeof t || 'object' != typeof e) return !1\r\n                var s = t.constructor,\r\n                  a = e.constructor\r\n                if (\r\n                  s !== a &&\r\n                  !(m.isFunction(s) && s instanceof s && m.isFunction(a) && a instanceof a) &&\r\n                  'constructor' in t &&\r\n                  'constructor' in e\r\n                )\r\n                  return !1\r\n              }\r\n              i = i || []\r\n              for (var c = (n = n || []).length; c--; ) if (n[c] === t) return i[c] === e\r\n              if ((n.push(t), i.push(e), o)) {\r\n                if ((c = t.length) !== e.length) return !1\r\n                for (; c--; ) if (!V(t[c], e[c], n, i)) return !1\r\n              } else {\r\n                var u,\r\n                  d = m.keys(t)\r\n                if (((c = d.length), m.keys(e).length !== c)) return !1\r\n                for (; c--; ) if (((u = d[c]), !S(e, u) || !V(t[u], e[u], n, i))) return !1\r\n              }\r\n              return n.pop(), i.pop(), !0\r\n            }),\r\n            (m.isEqual = function (t, e) {\r\n              return V(t, e)\r\n            }),\r\n            (m.isEmpty = function (t) {\r\n              return (\r\n                null == t ||\r\n                (A(t) && (m.isArray(t) || m.isString(t) || m.isArguments(t)) ? 0 === t.length : 0 === m.keys(t).length)\r\n              )\r\n            }),\r\n            (m.isElement = function (t) {\r\n              return !(!t || 1 !== t.nodeType)\r\n            }),\r\n            (m.isArray =\r\n              f ||\r\n              function (t) {\r\n                return '[object Array]' === h.call(t)\r\n              }),\r\n            (m.isObject = function (t) {\r\n              var e = typeof t\r\n              return 'function' === e || ('object' === e && !!t)\r\n            }),\r\n            m.each(\r\n              [\r\n                'Arguments',\r\n                'Function',\r\n                'String',\r\n                'Number',\r\n                'Date',\r\n                'RegExp',\r\n                'Error',\r\n                'Symbol',\r\n                'Map',\r\n                'WeakMap',\r\n                'Set',\r\n                'WeakSet'\r\n              ],\r\n              function (t) {\r\n                m['is' + t] = function (e) {\r\n                  return h.call(e) === '[object ' + t + ']'\r\n                }\r\n              }\r\n            ),\r\n            m.isArguments(arguments) ||\r\n              (m.isArguments = function (t) {\r\n                return S(t, 'callee')\r\n              })\r\n          var B = r.document && r.document.childNodes\r\n          'object' != typeof Int8Array &&\r\n            'function' != typeof B &&\r\n            (m.isFunction = function (t) {\r\n              return 'function' == typeof t || !1\r\n            }),\r\n            (m.isFinite = function (t) {\r\n              return !m.isSymbol(t) && isFinite(t) && !isNaN(parseFloat(t))\r\n            }),\r\n            (m.isNaN = function (t) {\r\n              return m.isNumber(t) && isNaN(t)\r\n            }),\r\n            (m.isBoolean = function (t) {\r\n              return !0 === t || !1 === t || '[object Boolean]' === h.call(t)\r\n            }),\r\n            (m.isNull = function (t) {\r\n              return null === t\r\n            }),\r\n            (m.isUndefined = function (t) {\r\n              return void 0 === t\r\n            }),\r\n            (m.has = function (t, e) {\r\n              if (!m.isArray(e)) return S(t, e)\r\n              for (var n = e.length, i = 0; i < n; i++) {\r\n                var r = e[i]\r\n                if (null == t || !d.call(t, r)) return !1\r\n                t = t[r]\r\n              }\r\n              return !!n\r\n            }),\r\n            (m.noConflict = function () {\r\n              return (r._ = o), this\r\n            }),\r\n            (m.identity = function (t) {\r\n              return t\r\n            }),\r\n            (m.constant = function (t) {\r\n              return function () {\r\n                return t\r\n              }\r\n            }),\r\n            (m.noop = function () {}),\r\n            (m.property = function (t) {\r\n              return m.isArray(t)\r\n                ? function (e) {\r\n                    return T(e, t)\r\n                  }\r\n                : k(t)\r\n            }),\r\n            (m.propertyOf = function (t) {\r\n              return null == t\r\n                ? function () {}\r\n                : function (e) {\r\n                    return m.isArray(e) ? T(t, e) : t[e]\r\n                  }\r\n            }),\r\n            (m.matcher = m.matches = function (t) {\r\n              return (\r\n                (t = m.extendOwn({}, t)),\r\n                function (e) {\r\n                  return m.isMatch(e, t)\r\n                }\r\n              )\r\n            }),\r\n            (m.times = function (t, e, n) {\r\n              var i = Array(Math.max(0, t))\r\n              e = b(e, n, 1)\r\n              for (var r = 0; r < t; r++) i[r] = e(r)\r\n              return i\r\n            }),\r\n            (m.random = function (t, e) {\r\n              return null == e && ((e = t), (t = 0)), t + Math.floor(Math.random() * (e - t + 1))\r\n            }),\r\n            (m.now =\r\n              Date.now ||\r\n              function () {\r\n                return new Date().getTime()\r\n              })\r\n          var W = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '\"': '&quot;', \"'\": '&#x27;', '`': '&#x60;' },\r\n            U = m.invert(W),\r\n            q = function (t) {\r\n              var e = function (e) {\r\n                  return t[e]\r\n                },\r\n                n = '(?:' + m.keys(t).join('|') + ')',\r\n                i = RegExp(n),\r\n                r = RegExp(n, 'g')\r\n              return function (t) {\r\n                return (t = null == t ? '' : '' + t), i.test(t) ? t.replace(r, e) : t\r\n              }\r\n            }\r\n          ;(m.escape = q(W)),\r\n            (m.unescape = q(U)),\r\n            (m.result = function (t, e, n) {\r\n              m.isArray(e) || (e = [e])\r\n              var i = e.length\r\n              if (!i) return m.isFunction(n) ? n.call(t) : n\r\n              for (var r = 0; r < i; r++) {\r\n                var o = null == t ? void 0 : t[e[r]]\r\n                void 0 === o && ((o = n), (r = i)), (t = m.isFunction(o) ? o.call(t) : o)\r\n              }\r\n              return t\r\n            })\r\n          var K = 0\r\n          ;(m.uniqueId = function (t) {\r\n            var e = ++K + ''\r\n            return t ? t + e : e\r\n          }),\r\n            (m.templateSettings = {\r\n              evaluate: /<%([\\s\\S]+?)%>/g,\r\n              interpolate: /<%=([\\s\\S]+?)%>/g,\r\n              escape: /<%-([\\s\\S]+?)%>/g\r\n            })\r\n          var Y = /(.)^/,\r\n            G = { \"'\": \"'\", '\\\\': '\\\\', '\\r': 'r', '\\n': 'n', '\\u2028': 'u2028', '\\u2029': 'u2029' },\r\n            X = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g,\r\n            J = function (t) {\r\n              return '\\\\' + G[t]\r\n            }\r\n          ;(m.template = function (t, e, n) {\r\n            !e && n && (e = n), (e = m.defaults({}, e, m.templateSettings))\r\n            var i,\r\n              r = RegExp(\r\n                [(e.escape || Y).source, (e.interpolate || Y).source, (e.evaluate || Y).source].join('|') + '|$',\r\n                'g'\r\n              ),\r\n              o = 0,\r\n              s = \"__p+='\"\r\n            t.replace(r, function (e, n, i, r, a) {\r\n              return (\r\n                (s += t.slice(o, a).replace(X, J)),\r\n                (o = a + e.length),\r\n                n\r\n                  ? (s += \"'+\\n((__t=(\" + n + \"))==null?'':_.escape(__t))+\\n'\")\r\n                  : i\r\n                  ? (s += \"'+\\n((__t=(\" + i + \"))==null?'':__t)+\\n'\")\r\n                  : r && (s += \"';\\n\" + r + \"\\n__p+='\"),\r\n                e\r\n              )\r\n            }),\r\n              (s += \"';\\n\"),\r\n              e.variable || (s = 'with(obj||{}){\\n' + s + '}\\n'),\r\n              (s =\r\n                \"var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\\n\" +\r\n                s +\r\n                'return __p;\\n')\r\n            try {\r\n              i = new Function(e.variable || 'obj', '_', s)\r\n            } catch (t) {\r\n              throw ((t.source = s), t)\r\n            }\r\n            var a = function (t) {\r\n                return i.call(this, t, m)\r\n              },\r\n              l = e.variable || 'obj'\r\n            return (a.source = 'function(' + l + '){\\n' + s + '}'), a\r\n          }),\r\n            (m.chain = function (t) {\r\n              var e = m(t)\r\n              return (e._chain = !0), e\r\n            })\r\n          var Z = function (t, e) {\r\n            return t._chain ? m(e).chain() : e\r\n          }\r\n          ;(m.mixin = function (t) {\r\n            return (\r\n              m.each(m.functions(t), function (e) {\r\n                var n = (m[e] = t[e])\r\n                m.prototype[e] = function () {\r\n                  var t = [this._wrapped]\r\n                  return c.apply(t, arguments), Z(this, n.apply(m, t))\r\n                }\r\n              }),\r\n              m\r\n            )\r\n          }),\r\n            m.mixin(m),\r\n            m.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function (t) {\r\n              var e = s[t]\r\n              m.prototype[t] = function () {\r\n                var n = this._wrapped\r\n                return (\r\n                  e.apply(n, arguments), ('shift' !== t && 'splice' !== t) || 0 !== n.length || delete n[0], Z(this, n)\r\n                )\r\n              }\r\n            }),\r\n            m.each(['concat', 'join', 'slice'], function (t) {\r\n              var e = s[t]\r\n              m.prototype[t] = function () {\r\n                return Z(this, e.apply(this._wrapped, arguments))\r\n              }\r\n            }),\r\n            (m.prototype.value = function () {\r\n              return this._wrapped\r\n            }),\r\n            (m.prototype.valueOf = m.prototype.toJSON = m.prototype.value),\r\n            (m.prototype.toString = function () {\r\n              return String(this._wrapped)\r\n            }),\r\n            void 0 ===\r\n              (i = function () {\r\n                return m\r\n              }.apply(e, [])) || (n.exports = i)\r\n        })()\r\n      }.call(this, n(8), n(91)(t)))\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      Object.defineProperty(e, '__esModule', { value: !0 }),\r\n        (e.getUnitFromValue = e.normalizeFloat = e.shallowDiff = e.getElement = e.camelCase = e.getModel = e.matches = e.upFirst = e.hasDnd = e.off = e.on = void 0)\r\n      var i = n(1),\r\n        r = window.Element.prototype,\r\n        o = r.matches || r.webkitMatchesSelector || r.mozMatchesSelector || r.msMatchesSelector,\r\n        s = function (t) {\r\n          return t[0].toUpperCase() + t.toLowerCase().slice(1)\r\n        }\r\n      ;(e.on = function (t, e, n) {\r\n        ;(e = e.split(/\\s+/)), (t = t instanceof Array ? t : [t])\r\n        for (\r\n          var i = function (i) {\r\n              t.forEach(function (t) {\r\n                return t.addEventListener(e[i], n)\r\n              })\r\n            },\r\n            r = 0;\r\n          r < e.length;\r\n          ++r\r\n        )\r\n          i(r)\r\n      }),\r\n        (e.off = function (t, e, n) {\r\n          ;(e = e.split(/\\s+/)), (t = t instanceof Array ? t : [t])\r\n          for (\r\n            var i = function (i) {\r\n                t.forEach(function (t) {\r\n                  return t.removeEventListener(e[i], n)\r\n                })\r\n              },\r\n              r = 0;\r\n            r < e.length;\r\n            ++r\r\n          )\r\n            i(r)\r\n        }),\r\n        (e.hasDnd = function (t) {\r\n          return 'draggable' in document.createElement('i') && (t ? t.get('Config').nativeDnD : 1)\r\n        }),\r\n        (e.upFirst = s),\r\n        (e.matches = o),\r\n        (e.getModel = function (t, e) {\r\n          var n = t\r\n          return (0, i.isElement)(t) && (n = e(t).data('model')), n\r\n        }),\r\n        (e.camelCase = function (t) {\r\n          var e = t.split('-').filter(String)\r\n          return e[0].toLowerCase() + e.slice(1).map(s)\r\n        }),\r\n        (e.getElement = function (t) {\r\n          return (0, i.isElement)(t) ? t : t && t.getEl ? t.getEl() : void 0\r\n        }),\r\n        (e.shallowDiff = function (t, e) {\r\n          var n = {},\r\n            r = (0, i.keys)(e)\r\n          for (var o in t)\r\n            if (t.hasOwnProperty(o)) {\r\n              var s = t[o],\r\n                a = e[o]\r\n              r.indexOf(o) >= 0 ? s !== a && (n[o] = a) : (n[o] = null)\r\n            }\r\n          for (var l in e) e.hasOwnProperty(l) && (0, i.isUndefined)(t[l]) && (n[l] = e[l])\r\n          return n\r\n        }),\r\n        (e.normalizeFloat = function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,\r\n            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,\r\n            i = 0\r\n          if (isNaN(t)) return n\r\n          if (((t = parseFloat(t)), Math.floor(t) !== t)) {\r\n            var r = e.toString().split('.')[1]\r\n            i = r ? r.length : 0\r\n          }\r\n          return i ? parseFloat(t.toFixed(i)) : t\r\n        }),\r\n        (e.getUnitFromValue = function (t) {\r\n          return t.replace(parseFloat(t), '')\r\n        })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        o = n(1),\r\n        s = n(2),\r\n        a = n(69),\r\n        l = (i = a) && i.__esModule ? i : { default: i }\r\n      function c (t) {\r\n        if (Array.isArray(t)) {\r\n          for (var e = 0, n = Array(t.length); e < t.length; e++) n[e] = t[e]\r\n          return n\r\n        }\r\n        return Array.from(t)\r\n      }\r\n      var u = n(0),\r\n        h = n(23),\r\n        d = n(9),\r\n        f = n(10),\r\n        p = n(184),\r\n        g = {},\r\n        v = 0,\r\n        m = function (t) {\r\n          return t.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&')\r\n        },\r\n        y = u.Model.extend(l.default).extend(\r\n          {\r\n            defaults: {\r\n              tagName: 'div',\r\n              type: '',\r\n              name: '',\r\n              removable: !0,\r\n              draggable: !0,\r\n              droppable: !0,\r\n              badgable: !0,\r\n              stylable: !0,\r\n              'stylable-require': '',\r\n              'style-signature': '',\r\n              unstylable: '',\r\n              highlightable: !0,\r\n              copyable: !0,\r\n              resizable: !1,\r\n              editable: !1,\r\n              layerable: !0,\r\n              selectable: !0,\r\n              hoverable: !0,\r\n              void: !1,\r\n              state: '',\r\n              status: '',\r\n              content: '',\r\n              icon: '',\r\n              style: '',\r\n              classes: '',\r\n              script: '',\r\n              attributes: '',\r\n              traits: ['id', 'title'],\r\n              propagate: '',\r\n              toolbar: null\r\n            },\r\n            init: function () {},\r\n            updated: function (t, e, n) {},\r\n            removed: function () {},\r\n            initialize: function () {\r\n              var t = this,\r\n                e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n                n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n                i = n.em,\r\n                s = this.parent(),\r\n                a = s && s.attributes\r\n              if (a && a.propagate) {\r\n                var l = {},\r\n                  c = a.propagate\r\n                c.forEach(function (t) {\r\n                  return (l[t] = s.get(t))\r\n                }),\r\n                  (l.propagate = c),\r\n                  (l = r({}, l, e)),\r\n                  this.set(l)\r\n              }\r\n              var u = this.get('propagate')\r\n              u && this.set('propagate', (0, o.isArray)(u) ? u : [u]),\r\n                n && n.config && n.config.voidElements.indexOf(this.get('tagName')) >= 0 && this.set('void', !0),\r\n                (n.em = i),\r\n                (this.opt = n),\r\n                (this.em = i),\r\n                (this.config = n.config || {}),\r\n                (this.ccid = y.createId(this)),\r\n                this.set('attributes', r({}, this.defaults.attributes || {}, this.get('attributes') || {})),\r\n                this.initClasses(),\r\n                this.initTraits(),\r\n                this.initComponents(),\r\n                this.initToolbar(),\r\n                this.listenTo(this, 'change:script', this.scriptUpdated),\r\n                this.listenTo(this, 'change:tagName', this.tagUpdated),\r\n                this.listenTo(this, 'change:attributes', this.attrUpdated),\r\n                this.set('status', ''),\r\n                ['classes', 'traits', 'components'].forEach(function (e) {\r\n                  var n = 'add remove ' + ('components' !== e ? 'change' : '')\r\n                  t.listenTo(t.get(e), n.trim(), function () {\r\n                    for (var n = arguments.length, i = Array(n), r = 0; r < n; r++) i[r] = arguments[r]\r\n                    return t.emitUpdate.apply(t, [e].concat(i))\r\n                  })\r\n                }),\r\n                n.temporary || (this.init(), i && i.trigger('component:create', this))\r\n            },\r\n            is: function (t) {\r\n              return !(this.get('type') != t)\r\n            },\r\n            index: function () {\r\n              var t = this.collection\r\n              return t && t.indexOf(this)\r\n            },\r\n            find: function (t) {\r\n              var e = []\r\n              return (\r\n                this.view.$el.find(t).each(function (t, n, i) {\r\n                  var r = i.eq(n).data('model')\r\n                  r && e.push(r)\r\n                }),\r\n                e\r\n              )\r\n            },\r\n            closest: function (t) {\r\n              var e = this.view.$el.closest(t)\r\n              return e.length && e.data('model')\r\n            },\r\n            tagUpdated: function () {\r\n              var t = this.collection,\r\n                e = t.indexOf(this)\r\n              t.remove(this), t.add(this, { at: e })\r\n            },\r\n            replaceWith: function (t) {\r\n              var e = this.collection,\r\n                n = e.indexOf(this)\r\n              return e.remove(this), e.add(t, { at: n })\r\n            },\r\n            attrUpdated: function () {\r\n              this.setAttributes(this.get('attributes'), { silent: 1 })\r\n            },\r\n            setAttributes: function (t) {\r\n              var e = this,\r\n                n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n                i = (t = r({}, t)).class\r\n              i && this.setClass(i), delete t.class\r\n              var a = t.style\r\n              a && this.setStyle(a), delete t.style, this.set('attributes', t, n)\r\n              var l = r({}, this.previous('attributes')),\r\n                c = (0, s.shallowDiff)(l, t)\r\n              return (\r\n                (0, o.keys)(c).forEach(function (t) {\r\n                  return e.trigger('change:attributes:' + t)\r\n                }),\r\n                this\r\n              )\r\n            },\r\n            addAttributes: function (t) {\r\n              var e = r({}, this.getAttributes(), t)\r\n              return this.setAttributes(e), this\r\n            },\r\n            getStyle: function () {\r\n              var t = this.em\r\n              if (t && t.getConfig('avoidInlineStyle')) {\r\n                var e = this.get('state'),\r\n                  n = t.get('CssComposer').getIdRule(this.getId(), { state: e })\r\n                if (((this.rule = n), n)) return n.getStyle()\r\n              }\r\n              return l.default.getStyle.call(this)\r\n            },\r\n            setStyle: function () {\r\n              var t = this,\r\n                e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n                n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n                i = this.em,\r\n                a = this.opt\r\n              if (i && i.getConfig('avoidInlineStyle') && !a.temporary) {\r\n                ;(e = (0, o.isString)(e) ? this.parseStyle(e) : e), (e = r({}, e, this.get('style')))\r\n                var c = this.get('state'),\r\n                  u = i.get('CssComposer'),\r\n                  h = this.getStyle()\r\n                this.rule = u.setIdRule(this.getId(), e, r({}, n, { state: c }))\r\n                var d = (0, s.shallowDiff)(h, e)\r\n                this.set('style', {}, { silent: 1 }),\r\n                  (0, o.keys)(d).forEach(function (e) {\r\n                    return t.trigger('change:style:' + e)\r\n                  })\r\n              } else e = l.default.setStyle.apply(this, arguments)\r\n              return e\r\n            },\r\n            getAttributes: function () {\r\n              var t = this.em,\r\n                e = [],\r\n                n = r({}, this.get('attributes')),\r\n                i = t && t.get('SelectorManager'),\r\n                s = this.getId()\r\n              if (\r\n                (this.get('classes').forEach(function (t) {\r\n                  return e.push((0, o.isString)(t) ? t : t.get('name'))\r\n                }),\r\n                e.length && (n.class = e.join(' ')),\r\n                !(0, o.has)(n, 'id'))\r\n              ) {\r\n                var a = void 0\r\n                !(function (t) {\r\n                  return t && t.getConfig('avoidInlineStyle')\r\n                })(t)\r\n                  ? (0, o.isEmpty)(this.getStyle()) || (a = 1)\r\n                  : (a = i && i.get(s, i.Selector.TYPE_ID)),\r\n                  a && (n.id = this.getId())\r\n              }\r\n              return n\r\n            },\r\n            addClass: function (t) {\r\n              var e = this.em.get('SelectorManager').addClass(t)\r\n              return this.get('classes').add(e)\r\n            },\r\n            setClass: function (t) {\r\n              return this.get('classes').reset(), this.addClass(t)\r\n            },\r\n            removeClass: function (t) {\r\n              var e = []\r\n              t = (0, o.isArray)(t) ? t : [t]\r\n              var n = this.get('classes'),\r\n                i = d.TYPE_CLASS\r\n              return (\r\n                t.forEach(function (t) {\r\n                  t.split(' ').forEach(function (t) {\r\n                    var r = n.where({ name: t, type: i })[0]\r\n                    r && e.push(n.remove(r))\r\n                  })\r\n                }),\r\n                e\r\n              )\r\n            },\r\n            getClasses: function () {\r\n              var t = this.getAttributes().class\r\n              return t ? t.split(' ') : []\r\n            },\r\n            initClasses: function () {\r\n              var t = [this, 'change:classes', this.initClasses]\r\n              this.stopListening.apply(this, t)\r\n              var e = this.normalizeClasses(this.get('classes') || []),\r\n                n = new f([])\r\n              return this.set('classes', n), n.add(e), this.listenTo.apply(this, t), this\r\n            },\r\n            initComponents: function () {\r\n              var t = [this, 'change:components', this.initComponents]\r\n              this.stopListening.apply(this, t)\r\n              var e = new h(null, this.opt)\r\n              e.parent = this\r\n              var n = this.get('components'),\r\n                i = !this.opt.avoidChildren\r\n              return this.set('components', e), i && e.add(n), this.listenTo.apply(this, t), this\r\n            },\r\n            initTraits: function () {\r\n              var t = [this, 'change:traits', this.initTraits]\r\n              this.stopListening.apply(this, t), this.loadTraits()\r\n              var e = r({}, this.get('attributes')),\r\n                n = this.get('traits')\r\n              return (\r\n                n.each(function (t) {\r\n                  if (!t.get('changeProp')) {\r\n                    var n = t.get('name'),\r\n                      i = t.getInitValue()\r\n                    n && i && (e[n] = i)\r\n                  }\r\n                }),\r\n                n.length && this.set('attributes', e),\r\n                this.listenTo.apply(this, t),\r\n                this\r\n              )\r\n            },\r\n            append: function (t) {\r\n              var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n                n = this.components().add(t, e)\r\n              return (0, o.isArray)(n) ? n : [n]\r\n            },\r\n            components: function (t) {\r\n              var e = this.get('components')\r\n              return (0, o.isUndefined)(t) ? e : (e.reset(), t && this.append(t))\r\n            },\r\n            parent: function () {\r\n              var t = this.collection\r\n              return t && t.parent\r\n            },\r\n            scriptUpdated: function () {\r\n              this.set('scriptUpdated', 1)\r\n            },\r\n            initToolbar: function () {\r\n              var t = this.em,\r\n                e = (t && t.getConfig('stylePrefix')) || ''\r\n              if (!this.get('toolbar')) {\r\n                var n = []\r\n                this.collection && n.push({ attributes: { class: 'fa fa-arrow-up' }, command: 'select-parent' }),\r\n                  this.get('draggable') &&\r\n                    n.push({\r\n                      attributes: { class: 'fa fa-arrows ' + e + 'no-touch-actions', draggable: !0 },\r\n                      command: 'tlb-move'\r\n                    }),\r\n                  this.get('copyable') && n.push({ attributes: { class: 'fa fa-clone' }, command: 'tlb-clone' }),\r\n                  this.get('removable') && n.push({ attributes: { class: 'fa fa-trash-o' }, command: 'tlb-delete' }),\r\n                  this.set('toolbar', n)\r\n              }\r\n            },\r\n            loadTraits: function (t) {\r\n              var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n              if (!((t = t || this.get('traits')) instanceof p)) {\r\n                var n = new p([], this.opt)\r\n                n.setTarget(this),\r\n                  t.length &&\r\n                    (t.forEach(function (t) {\r\n                      return t.attributes && delete t.attributes.value\r\n                    }),\r\n                    n.add(t)),\r\n                  this.set('traits', n, e)\r\n              }\r\n              return this\r\n            },\r\n            getTrait: function (t) {\r\n              return this.get('traits').filter(function (e) {\r\n                return e.get('id') === t || e.get('name') === t\r\n              })[0]\r\n            },\r\n            normalizeClasses: function (t) {\r\n              var e = [],\r\n                n = this.em\r\n              if (n) {\r\n                var i = n.get('SelectorManager')\r\n                if (i)\r\n                  return (\r\n                    t.forEach(function (t) {\r\n                      var n = ''\r\n                      n = 'string' == typeof t ? t : t.name\r\n                      var r = i.add(n)\r\n                      e.push(r)\r\n                    }),\r\n                    e\r\n                  )\r\n              }\r\n            },\r\n            clone: function () {\r\n              var t = this.em,\r\n                e = this.getStyle(),\r\n                n = r({}, this.attributes),\r\n                i = r({}, this.opt)\r\n              ;(n.attributes = r({}, n.attributes)),\r\n                delete n.attributes.id,\r\n                (n.components = []),\r\n                (n.classes = []),\r\n                (n.traits = []),\r\n                this.get('components').each(function (t, e) {\r\n                  n.components[e] = t.clone()\r\n                }),\r\n                this.get('traits').each(function (t, e) {\r\n                  n.traits[e] = t.clone()\r\n                }),\r\n                this.get('classes').each(function (t, e) {\r\n                  n.classes[e] = t.get('name')\r\n                }),\r\n                (n.status = ''),\r\n                (n.view = ''),\r\n                (i.collection = null),\r\n                t && t.getConfig('avoidInlineStyle') && !(0, o.isEmpty)(e) && (n.style = e)\r\n              var s = new this.constructor(n, i)\r\n              return t && t.trigger('component:clone', s), this.trigger('component:clone', s), s\r\n            },\r\n            getName: function () {\r\n              var t = this.get('name') || this.get('custom-name'),\r\n                e = this.get('tagName')\r\n              e = 'div' == e ? 'box' : e\r\n              var n = this.get('type') || e\r\n              return (n = n.charAt(0).toUpperCase() + n.slice(1)), t || n\r\n            },\r\n            getIcon: function () {\r\n              var t = this.get('icon')\r\n              return t ? t + ' ' : ''\r\n            },\r\n            toHTML: function () {\r\n              var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n                e = [],\r\n                n = this.get('tagName'),\r\n                i = this.get('void'),\r\n                r = t.attributes,\r\n                s = this.getAttrToHTML()\r\n              for (var a in (r && ((0, o.isFunction)(r) ? (s = r(this, s) || {}) : (0, o.isObject)(r) && (s = r)), s)) {\r\n                var l = s[a],\r\n                  c = (0, o.isString)(l) ? l.replace(/\"/g, '&quot;') : l\r\n                ;(0, o.isUndefined)(c) || ((0, o.isBoolean)(c) ? c && e.push(a) : e.push(a + '=\"' + c + '\"'))\r\n              }\r\n              var u = '<' + n + (e.length ? ' ' + e.join(' ') : '') + (i ? '/' : '') + '>' + this.get('content')\r\n              return (\r\n                this.get('components').each(function (e) {\r\n                  return (u += e.toHTML(t))\r\n                }),\r\n                !i && (u += '</' + n + '>'),\r\n                u\r\n              )\r\n            },\r\n            getAttrToHTML: function () {\r\n              var t = this.getAttributes()\r\n              return delete t.style, t\r\n            },\r\n            toJSON: function () {\r\n              for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n              var i = u.Model.prototype.toJSON.apply(this, e)\r\n              if (\r\n                ((i.attributes = this.getAttributes()),\r\n                delete i.attributes.class,\r\n                delete i.toolbar,\r\n                this.em.getConfig('avoidDefaults'))\r\n              ) {\r\n                var r = (0, o.result)(this, 'defaults')\r\n                ;(0, o.forEach)(r, function (t, e) {\r\n                  ;-1 === ['type', 'content'].indexOf(e) && i[e] === t && delete i[e]\r\n                }),\r\n                  (0, o.isEmpty)(i.type) && delete i.type,\r\n                  (0, o.forEach)(['attributes', 'style'], function (t) {\r\n                    ;(0, o.isEmpty)(r[t]) && (0, o.isEmpty)(i[t]) && delete i[t]\r\n                  }),\r\n                  (0, o.forEach)(['classes', 'components'], function (t) {\r\n                    ;(0, o.isEmpty)(r[t]) && !i[t].length && delete i[t]\r\n                  })\r\n              }\r\n              return i\r\n            },\r\n            getId: function () {\r\n              return (this.get('attributes') || {}).id || this.ccid || this.cid\r\n            },\r\n            setId: function (t) {\r\n              var e = r({}, this.get('attributes'))\r\n              return (e.id = t), this.set('attributes', e), this\r\n            },\r\n            getEl: function () {\r\n              return this.view && this.view.el\r\n            },\r\n            getView: function () {\r\n              return this.view\r\n            },\r\n            getScriptString: function (t) {\r\n              var e = this,\r\n                n = t || this.get('script')\r\n              if (!n) return n\r\n              if ('function' == typeof n) {\r\n                var i = n.toString().trim()\r\n                n = (i = i.replace(/^function[\\s\\w]*\\(\\)\\s?\\{/, '').replace(/\\}$/, '')).trim()\r\n              }\r\n              var r = this.em.getConfig(),\r\n                o = m(r.tagVarStart || '{[ '),\r\n                s = m(r.tagVarEnd || ' ]}'),\r\n                a = new RegExp(o + '([\\\\w\\\\d-]*)' + s, 'g')\r\n              return (n = n.replace(a, function (t, n) {\r\n                return e.scriptUpdated(), e.attributes[n] || ''\r\n              }))\r\n            },\r\n            emitUpdate: function (t) {\r\n              for (\r\n                var e = this.em,\r\n                  n = 'component:update' + (t ? ':' + t : ''),\r\n                  i = arguments.length,\r\n                  r = Array(i > 1 ? i - 1 : 0),\r\n                  o = 1;\r\n                o < i;\r\n                o++\r\n              )\r\n                r[o - 1] = arguments[o]\r\n              t && this.updated.apply(this, [t, t && this.get(t), t && this.previous(t)].concat(c(r))),\r\n                this.trigger.apply(this, [n].concat(c(r))),\r\n                e && e.trigger.apply(e, [n, this].concat(c(r)))\r\n            },\r\n            onAll: function (t) {\r\n              return (\r\n                (0, o.isFunction)(t) &&\r\n                  (t(this),\r\n                  this.components().forEach(function (e) {\r\n                    return e.onAll(t)\r\n                  })),\r\n                this\r\n              )\r\n            },\r\n            remove: function () {\r\n              return this.collection.remove(this)\r\n            },\r\n            resetId: function () {\r\n              arguments.length > 0 && void 0 !== arguments[0] && arguments[0]\r\n              var t = this.em,\r\n                e = this.getId()\r\n              if (e) {\r\n                var n = y.createId(this)\r\n                this.setId(n)\r\n                var i = t && t.get('CssComposer').getIdRule(e),\r\n                  r = i && i.get('selectors').at(0)\r\n                return r && r.set('name', n), this\r\n              }\r\n            }\r\n          },\r\n          {\r\n            isComponent: function (t) {\r\n              return { tagName: t.tagName ? t.tagName.toLowerCase() : '' }\r\n            },\r\n            createId: function (t) {\r\n              var e = (++v).toString().length + 2,\r\n                n = 'i' + (Math.random() + 1.1).toString(36).slice(-e)\r\n              return (g[n] = t), n\r\n            },\r\n            getList: function () {\r\n              return g\r\n            }\r\n          }\r\n        )\r\n      t.exports = y\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        o = n(0),\r\n        s = (i = o) && i.__esModule ? i : { default: i },\r\n        a = n(1)\r\n      var l = n(23),\r\n        c = n(72),\r\n        u = n(10)\r\n      t.exports = s.default.View.extend({\r\n        className: function () {\r\n          return this.getClasses()\r\n        },\r\n        tagName: function () {\r\n          return this.model.get('tagName')\r\n        },\r\n        initialize: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            e = this.model,\r\n            n = t.config || {},\r\n            i = n.em,\r\n            r = e.opt || {}\r\n          ;(this.opts = t),\r\n            (this.modelOpt = r),\r\n            (this.config = n),\r\n            (this.em = i || ''),\r\n            (this.pfx = n.stylePrefix || ''),\r\n            (this.ppfx = n.pStylePrefix || ''),\r\n            (this.attr = e.get('attributes')),\r\n            (this.classe = this.attr.class || [])\r\n          var o = this.$el\r\n          this.listenTo(e, 'change:style', this.updateStyle),\r\n            this.listenTo(e, 'change:attributes', this.renderAttributes),\r\n            this.listenTo(e, 'change:highlightable', this.updateHighlight),\r\n            this.listenTo(e, 'change:status', this.updateStatus),\r\n            this.listenTo(e, 'change:state', this.updateState),\r\n            this.listenTo(e, 'change:script', this.render),\r\n            this.listenTo(e, 'change:content', this.updateContent),\r\n            this.listenTo(e, 'change', this.handleChange),\r\n            this.listenTo(e, 'active', this.onActive),\r\n            o.data('model', e),\r\n            (e.view = this),\r\n            this.initClasses(),\r\n            this.initComponents({ avoidRender: 1 }),\r\n            !r.temporary && this.init()\r\n        },\r\n        init: function () {},\r\n        onActive: function () {},\r\n        initClasses: function () {\r\n          var t = this.model,\r\n            e = t.get('classes')\r\n          e instanceof u &&\r\n            (this.stopListening(t, 'change:classes', this.initClasses),\r\n            this.listenTo(t, 'change:classes', this.initClasses),\r\n            this.listenTo(e, 'add remove change', this.updateClasses),\r\n            e.length && this.importClasses())\r\n        },\r\n        initComponents: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            e = this.model,\r\n            n = this.$el,\r\n            i = this.childrenView,\r\n            r = e.get('components'),\r\n            o = [e, 'change:components', this.initComponents]\r\n          r instanceof l &&\r\n            (n.data('collection', r),\r\n            i && i.remove(),\r\n            this.stopListening.apply(this, o),\r\n            !t.avoidRender && this.renderChildren(),\r\n            this.listenTo.apply(this, o))\r\n        },\r\n        handleChange: function () {\r\n          var t = this.model\r\n          for (var e in (t.emitUpdate(), t.changed)) t.emitUpdate(e)\r\n        },\r\n        importClasses: function () {\r\n          var t = this.config.em.get('SelectorManager')\r\n          t &&\r\n            this.model.get('classes').each(function (e) {\r\n              t.add(e.get('name'))\r\n            })\r\n        },\r\n        updateState: function (t) {\r\n          var e = 'hc-state'\r\n          this.model.get('state') ? this.$el.addClass(e) : this.$el.removeClass(e)\r\n        },\r\n        updateStatus: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            e = (this.em, this.el),\r\n            n = this.model.get('status'),\r\n            i = this.pfx,\r\n            r = this.ppfx,\r\n            o = i + 'selected',\r\n            s = o + '-parent',\r\n            a = r + 'freezed',\r\n            l = r + 'hovered',\r\n            c = [o, s, a, l]\r\n          this.$el.removeClass(c.join(' '))\r\n          var u = e.getAttribute('class') || '',\r\n            h = ''\r\n          switch (n) {\r\n            case 'selected':\r\n              h = u + ' ' + o\r\n              break\r\n            case 'selected-parent':\r\n              h = u + ' ' + s\r\n              break\r\n            case 'freezed':\r\n              h = u + ' ' + a\r\n              break\r\n            case 'freezed-selected':\r\n              h = u + ' ' + a + ' ' + o\r\n              break\r\n            case 'hovered':\r\n              h = t.avoidHover ? '' : u + ' ' + l\r\n          }\r\n          ;(h = h.trim()) && e.setAttribute('class', h)\r\n        },\r\n        updateHighlight: function () {\r\n          var t = this.model.get('highlightable')\r\n          this.setAttribute('data-highlightable', t ? 1 : '')\r\n        },\r\n        updateStyle: function () {\r\n          var t = this.em,\r\n            e = this.model\r\n          if (t && t.get('avoidInlineStyle')) {\r\n            this.el.id = e.getId()\r\n            var n = e.getStyle()\r\n            !(0, a.isEmpty)(n) && e.setStyle(n)\r\n          } else this.setAttribute('style', e.styleToString())\r\n        },\r\n        updateClasses: function () {\r\n          var t = this.model\r\n            .get('classes')\r\n            .pluck('name')\r\n            .join(' ')\r\n          this.setAttribute('class', t), this.updateStatus()\r\n        },\r\n        setAttribute: function (t, e) {\r\n          var n = this.$el\r\n          e ? n.attr(t, e) : n.removeAttr(t)\r\n        },\r\n        getClasses: function () {\r\n          return this.model.getClasses().join(' ')\r\n        },\r\n        updateAttributes: function () {\r\n          var t = [],\r\n            e = this.model,\r\n            n = this.$el,\r\n            i = this.el,\r\n            o = { 'data-gjs-type': e.get('type') || 'default' }\r\n          e.get('highlightable') && (o['data-highlightable'] = 1),\r\n            (0, a.each)(i.attributes, function (e) {\r\n              return t.push(e.nodeName)\r\n            }),\r\n            t.forEach(function (t) {\r\n              return n.removeAttr(t)\r\n            })\r\n          var s = r({}, o, e.getAttributes())\r\n          ;(0, a.keys)(s).forEach(function (t) {\r\n            return !1 === s[t] && delete s[t]\r\n          }),\r\n            n.attr(s),\r\n            this.updateStyle()\r\n        },\r\n        updateContent: function () {\r\n          this.getChildrenContainer().innerHTML = this.model.get('content')\r\n        },\r\n        prevDef: function (t) {\r\n          t.preventDefault()\r\n        },\r\n        updateScript: function () {\r\n          if (this.model.get('script')) {\r\n            var t = this.em\r\n            if (t)\r\n              t.get('Canvas')\r\n                .getCanvasView()\r\n                .updateScript(this)\r\n          }\r\n        },\r\n        getChildrenContainer: function () {\r\n          var t = this.el\r\n          return (\r\n            'function' == typeof this.getChildrenSelector\r\n              ? (t = this.el.querySelector(this.getChildrenSelector()))\r\n              : this.getTemplate,\r\n            t\r\n          )\r\n        },\r\n        renderChildren: function () {\r\n          this.updateContent()\r\n          var t = this.getChildrenContainer(),\r\n            e = new c({\r\n              collection: this.model.get('components'),\r\n              config: this.config,\r\n              componentTypes: this.opts.componentTypes\r\n            })\r\n          e.render(t), (this.childrenView = e)\r\n          for (var n = Array.prototype.slice.call(e.el.childNodes), i = 0, r = n.length; i < r; i++)\r\n            t.appendChild(n.shift())\r\n        },\r\n        renderAttributes: function () {\r\n          this.updateAttributes(), this.updateClasses()\r\n        },\r\n        render: function () {\r\n          return this.renderAttributes(), this.renderChildren(), this.updateScript(), this.postRender(), this\r\n        },\r\n        postRender: function () {\r\n          var t = this.em,\r\n            e = this.model\r\n          this.modelOpt.temporary || (this.onRender(), t && t.trigger('component:mount', e))\r\n        },\r\n        onRender: function () {}\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i },\r\n        s = n(1),\r\n        a = n(2)\r\n      t.exports = o.default.View.extend({\r\n        template: function (t) {\r\n          return (\r\n            '\\n      <div class=\"' +\r\n            this.pfx +\r\n            'label\">\\n        ' +\r\n            this.templateLabel(t) +\r\n            '\\n      </div>\\n      <div class=\"' +\r\n            this.ppfx +\r\n            'fields\">\\n        ' +\r\n            this.templateInput(t) +\r\n            '\\n      </div>\\n    '\r\n          )\r\n        },\r\n        templateLabel: function (t) {\r\n          var e = this.pfx,\r\n            n = t.get('icon'),\r\n            i = t.get('info'),\r\n            r = t.parent\r\n          return (\r\n            '\\n      <span class=\"' +\r\n            e +\r\n            'icon ' +\r\n            n +\r\n            '\" title=\"' +\r\n            i +\r\n            '\">\\n        ' +\r\n            t.get('name') +\r\n            '\\n      </span>\\n      ' +\r\n            (r ? '' : '<b class=\"' + e + 'clear\" data-clear-style>&Cross;</b>') +\r\n            '\\n    '\r\n          )\r\n        },\r\n        templateInput: function (t) {\r\n          return (\r\n            '\\n      <div class=\"' +\r\n            this.ppfx +\r\n            'field\">\\n        <input placeholder=\"' +\r\n            t.getDefaultValue() +\r\n            '\"/>\\n      </div>\\n    '\r\n          )\r\n        },\r\n        events: (function (t, e, n) {\r\n          return (\r\n            e in t\r\n              ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 })\r\n              : (t[e] = n),\r\n            t\r\n          )\r\n        })({ change: 'inputValueChanged' }, 'click [data-clear-style]', 'clear'),\r\n        initialize: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n          ;(0, s.bindAll)(this, 'targetUpdated'), (this.config = t.config || {})\r\n          var e = this.config.em\r\n          ;(this.em = e),\r\n            (this.pfx = this.config.stylePrefix || ''),\r\n            (this.ppfx = this.config.pStylePrefix || ''),\r\n            (this.target = t.target || {}),\r\n            (this.propTarget = t.propTarget || {}),\r\n            (this.onChange = t.onChange),\r\n            (this.onInputRender = t.onInputRender || {}),\r\n            (this.customValue = t.customValue || {})\r\n          var n = this.model\r\n          ;(this.property = n.get('property')), (this.input = null)\r\n          var i = this.pfx\r\n          ;(this.inputHolderId = '#' + i + 'input-holder'),\r\n            (this.sector = n.collection && n.collection.sector),\r\n            (n.view = this),\r\n            n.get('value') || n.set('value', n.getDefaultValue()),\r\n            e && e.on('update:component:style:' + this.property, this.targetUpdated),\r\n            this.listenTo(this.propTarget, 'update styleManager:update', this.targetUpdated),\r\n            this.listenTo(n, 'destroy remove', this.remove),\r\n            this.listenTo(n, 'change:value', this.modelValueChanged),\r\n            this.listenTo(n, 'targetUpdated', this.targetUpdated),\r\n            this.listenTo(n, 'change:visible', this.updateVisibility),\r\n            this.listenTo(n, 'change:status', this.updateStatus)\r\n          var r = this.init && this.init.bind(this)\r\n          r && r()\r\n        },\r\n        updateStatus: function () {\r\n          var t = this.model,\r\n            e = t.get('status'),\r\n            n = t.parent,\r\n            i = this.pfx,\r\n            r = this.ppfx,\r\n            o = this.config,\r\n            s = r + 'four-color',\r\n            a = r + 'color-warn',\r\n            l = this.$el.children('.' + i + 'label'),\r\n            c = this.getClearEl(),\r\n            u = c ? c.style : {}\r\n          switch ((l.removeClass(s + ' ' + a), (u.display = 'none'), e)) {\r\n            case 'updated':\r\n              !n && l.addClass(s), o.clearProperties && (u.display = 'inline')\r\n              break\r\n            case 'computed':\r\n              l.addClass(a)\r\n          }\r\n        },\r\n        clear: function (t) {\r\n          var e = this\r\n          t && t.stopPropagation(),\r\n            this.model.clearValue(),\r\n            setTimeout(function () {\r\n              return e.targetUpdated()\r\n            })\r\n        },\r\n        getClearEl: function () {\r\n          return this.clearEl || (this.clearEl = this.el.querySelector('[data-clear-style]')), this.clearEl\r\n        },\r\n        getTarget: function () {\r\n          return this.getTargetModel()\r\n        },\r\n        getTargetModel: function () {\r\n          return this.propTarget && this.propTarget.model\r\n        },\r\n        getHelperModel: function () {\r\n          return this.propTarget && this.propTarget.helper\r\n        },\r\n        inputValueChanged: function (t) {\r\n          t && t.stopPropagation(),\r\n            this.model.setValue(this.getInputValue(), 1, { fromInput: 1 }),\r\n            this.elementUpdated()\r\n        },\r\n        elementUpdated: function () {\r\n          this.setStatus('updated')\r\n        },\r\n        setStatus: function (t) {\r\n          this.model.set('status', t)\r\n          var e = this.model.parent\r\n          e && t && e.set('status', t)\r\n        },\r\n        emitUpdateTarget: (0, s.debounce)(function () {\r\n          var t = this.config.em\r\n          t && t.trigger('styleManager:update:target', this.getTarget())\r\n        }),\r\n        targetUpdated: function () {\r\n          if ((this.emitUpdateTarget(), this.checkVisibility())) {\r\n            var t = this.config,\r\n              e = t.em,\r\n              n = this.model,\r\n              i = '',\r\n              r = '',\r\n              o = this.getTargetValue({ ignoreDefault: 1 }),\r\n              s = n.getDefaultValue(),\r\n              a = this.getComputedValue()\r\n            o\r\n              ? ((i = o), t.highlightChanged && (r = 'updated'))\r\n              : a && t.showComputed && a != s\r\n              ? ((i = a), t.highlightComputed && (r = 'computed'))\r\n              : ((i = s), (r = '')),\r\n              n.setValue(i, 0, { fromTarget: 1 }),\r\n              this.setStatus(r),\r\n              e && (e.trigger('styleManager:change', this), e.trigger('styleManager:change:' + n.get('property'), this))\r\n          }\r\n        },\r\n        checkVisibility: function () {\r\n          var t = 1\r\n          return (\r\n            this.config.hideNotStylable &&\r\n              (this.isTargetStylable() && this.isComponentStylable() ? this.show() : (this.hide(), (t = 0)),\r\n              this.sector && this.sector.trigger('updateVisibility')),\r\n            t\r\n          )\r\n        },\r\n        getTargetValue: function () {\r\n          var t,\r\n            e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            n = this.model,\r\n            i = this.getTargetModel(),\r\n            r = this.customValue\r\n          if (!i) return t\r\n          if (\r\n            ((t = i.getStyle()[n.get('property')]) || e.ignoreDefault || (t = n.getDefaultValue()),\r\n            'function' == typeof r && !e.ignoreCustomValue)\r\n          ) {\r\n            var o = r(this, n.collection.indexOf(n))\r\n            o && (t = o)\r\n          }\r\n          return t\r\n        },\r\n        getComputedValue: function () {\r\n          var t = this.propTarget,\r\n            e = t.computed || {},\r\n            n = t.computedDefault || {},\r\n            i = this.config.avoidComputed || [],\r\n            r = this.model.get('property'),\r\n            o = i.indexOf(r) < 0,\r\n            s = e[r],\r\n            l = n[(0, a.camelCase)(r)]\r\n          return e && o && l !== s && s\r\n        },\r\n        getInputValue: function () {\r\n          var t = this.getInputEl()\r\n          return t ? t.value : ''\r\n        },\r\n        modelValueChanged: function (t, e) {\r\n          var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\r\n            i = this.config.em,\r\n            r = this.model,\r\n            o = r.getFullValue(),\r\n            s = this.getTarget(),\r\n            a = r.get('property'),\r\n            l = this.onChange\r\n          if ((n.fromInput || this.setValue(o), s && this.isTargetStylable() && this.isComponentStylable())) {\r\n            n.fromTarget || (l && !n.fromParent ? l(s, this, n) : this.updateTargetStyle(o, null, n))\r\n            var c = i && i.getSelected()\r\n            i &&\r\n              c &&\r\n              (i.trigger('component:update', c),\r\n              i.trigger('component:styleUpdate', c, a),\r\n              i.trigger('component:styleUpdate:' + a, c))\r\n          }\r\n        },\r\n        updateTargetStyle: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : '',\r\n            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\r\n            i = e || this.model.get('property'),\r\n            r = this.getTarget(),\r\n            o = r.getStyle()\r\n          t ? (o[i] = t) : delete o[i], r.setStyle(o, n)\r\n          var s = this.getHelperModel()\r\n          s && s.setStyle(o, n)\r\n        },\r\n        isTargetStylable: function (t) {\r\n          var e = t || this.getTarget(),\r\n            n = this.model,\r\n            i = n.get('id'),\r\n            r = n.get('property'),\r\n            o = n.get('toRequire'),\r\n            a = e.get('unstylable'),\r\n            l = e.get('stylable-require'),\r\n            c = e.get('stylable')\r\n          return (\r\n            (0, s.isArray)(c) && (c = c.indexOf(r) >= 0),\r\n            (0, s.isArray)(a) && (c = a.indexOf(r) < 0),\r\n            o && (c = !t || (l && (l.indexOf(i) >= 0 || l.indexOf(r) >= 0))),\r\n            c\r\n          )\r\n        },\r\n        isComponentStylable: function () {\r\n          var t = this.em,\r\n            e = t && t.getSelected()\r\n          return !e || this.isTargetStylable(e)\r\n        },\r\n        setRawValue: function (t) {\r\n          this.setValue(this.model.parseValue(t))\r\n        },\r\n        setValue: function (t) {\r\n          var e = this.model,\r\n            n = (0, s.isUndefined)(t) ? e.getDefaultValue() : t,\r\n            i = this.getInputEl()\r\n          i && (i.value = n)\r\n        },\r\n        getInputEl: function () {\r\n          return this.input || (this.input = this.el.querySelector('input')), this.input\r\n        },\r\n        updateVisibility: function () {\r\n          this.el.style.display = this.model.get('visible') ? 'block' : 'none'\r\n        },\r\n        show: function () {\r\n          this.model.set('visible', 1)\r\n        },\r\n        hide: function () {\r\n          this.model.set('visible', 0)\r\n        },\r\n        cleanValue: function () {\r\n          this.setValue('')\r\n        },\r\n        clearCached: function () {\r\n          ;(this.clearEl = null), (this.input = null), (this.$input = null)\r\n        },\r\n        render: function () {\r\n          this.clearCached()\r\n          var t = this.pfx,\r\n            e = this.model,\r\n            n = this.el,\r\n            i = e.get('property'),\r\n            r = e.get('full'),\r\n            o = t + 'property'\r\n          ;(n.innerHTML = this.template(e)),\r\n            (n.className = o + ' ' + t + e.get('type') + ' ' + o + '__' + i),\r\n            (n.className += r ? ' ' + o + '--full' : ''),\r\n            this.updateStatus()\r\n          var s = this.onRender && this.onRender.bind(this)\r\n          s && s(), this.setValue(e.get('value'), { targetUpdate: 1 })\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      t.exports = (function () {\r\n        'use strict'\r\n        var t = navigator.userAgent,\r\n          e = navigator.platform,\r\n          n = /gecko\\/\\d/i.test(t),\r\n          i = /MSIE \\d/.test(t),\r\n          r = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(t),\r\n          o = /Edge\\/(\\d+)/.exec(t),\r\n          s = i || r || o,\r\n          a = s && (i ? document.documentMode || 6 : +(o || r)[1]),\r\n          l = !o && /WebKit\\//.test(t),\r\n          c = l && /Qt\\/\\d+\\.\\d+/.test(t),\r\n          u = !o && /Chrome\\//.test(t),\r\n          h = /Opera\\//.test(t),\r\n          d = /Apple Computer/.test(navigator.vendor),\r\n          f = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(t),\r\n          p = /PhantomJS/.test(t),\r\n          g = !o && /AppleWebKit/.test(t) && /Mobile\\/\\w+/.test(t),\r\n          v = /Android/.test(t),\r\n          m = g || v || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),\r\n          y = g || /Mac/.test(e),\r\n          b = /\\bCrOS\\b/.test(t),\r\n          x = /win/i.test(e),\r\n          w = h && t.match(/Version\\/(\\d*\\.\\d*)/)\r\n        w && (w = Number(w[1])), w && w >= 15 && ((h = !1), (l = !0))\r\n        var C = y && (c || (h && (null == w || w < 12.11))),\r\n          k = n || (s && a >= 9)\r\n        function S (t) {\r\n          return new RegExp('(^|\\\\s)' + t + '(?:$|\\\\s)\\\\s*')\r\n        }\r\n        var T,\r\n          E = function (t, e) {\r\n            var n = t.className,\r\n              i = S(e).exec(n)\r\n            if (i) {\r\n              var r = n.slice(i.index + i[0].length)\r\n              t.className = n.slice(0, i.index) + (r ? i[1] + r : '')\r\n            }\r\n          }\r\n        function M (t) {\r\n          for (var e = t.childNodes.length; e > 0; --e) t.removeChild(t.firstChild)\r\n          return t\r\n        }\r\n        function A (t, e) {\r\n          return M(t).appendChild(e)\r\n        }\r\n        function O (t, e, n, i) {\r\n          var r = document.createElement(t)\r\n          if ((n && (r.className = n), i && (r.style.cssText = i), 'string' == typeof e))\r\n            r.appendChild(document.createTextNode(e))\r\n          else if (e) for (var o = 0; o < e.length; ++o) r.appendChild(e[o])\r\n          return r\r\n        }\r\n        function P (t, e, n, i) {\r\n          var r = O(t, e, n, i)\r\n          return r.setAttribute('role', 'presentation'), r\r\n        }\r\n        function L (t, e) {\r\n          if ((3 == e.nodeType && (e = e.parentNode), t.contains)) return t.contains(e)\r\n          do {\r\n            if ((11 == e.nodeType && (e = e.host), e == t)) return !0\r\n          } while ((e = e.parentNode))\r\n        }\r\n        function _ () {\r\n          var t\r\n          try {\r\n            t = document.activeElement\r\n          } catch (e) {\r\n            t = document.body || null\r\n          }\r\n          for (; t && t.shadowRoot && t.shadowRoot.activeElement; ) t = t.shadowRoot.activeElement\r\n          return t\r\n        }\r\n        function N (t, e) {\r\n          var n = t.className\r\n          S(e).test(n) || (t.className += (n ? ' ' : '') + e)\r\n        }\r\n        function D (t, e) {\r\n          for (var n = t.split(' '), i = 0; i < n.length; i++) n[i] && !S(n[i]).test(e) && (e += ' ' + n[i])\r\n          return e\r\n        }\r\n        T = document.createRange\r\n          ? function (t, e, n, i) {\r\n              var r = document.createRange()\r\n              return r.setEnd(i || t, n), r.setStart(t, e), r\r\n            }\r\n          : function (t, e, n) {\r\n              var i = document.body.createTextRange()\r\n              try {\r\n                i.moveToElementText(t.parentNode)\r\n              } catch (t) {\r\n                return i\r\n              }\r\n              return i.collapse(!0), i.moveEnd('character', n), i.moveStart('character', e), i\r\n            }\r\n        var I = function (t) {\r\n          t.select()\r\n        }\r\n        function F (t) {\r\n          var e = Array.prototype.slice.call(arguments, 1)\r\n          return function () {\r\n            return t.apply(null, e)\r\n          }\r\n        }\r\n        function j (t, e, n) {\r\n          for (var i in (e || (e = {}), t)) !t.hasOwnProperty(i) || (!1 === n && e.hasOwnProperty(i)) || (e[i] = t[i])\r\n          return e\r\n        }\r\n        function R (t, e, n, i, r) {\r\n          null == e && -1 == (e = t.search(/[^\\s\\u00a0]/)) && (e = t.length)\r\n          for (var o = i || 0, s = r || 0; ; ) {\r\n            var a = t.indexOf('\\t', o)\r\n            if (a < 0 || a >= e) return s + (e - o)\r\n            ;(s += a - o), (s += n - (s % n)), (o = a + 1)\r\n          }\r\n        }\r\n        g\r\n          ? (I = function (t) {\r\n              ;(t.selectionStart = 0), (t.selectionEnd = t.value.length)\r\n            })\r\n          : s &&\r\n            (I = function (t) {\r\n              try {\r\n                t.select()\r\n              } catch (t) {}\r\n            })\r\n        var z = function () {\r\n          this.id = null\r\n        }\r\n        function V (t, e) {\r\n          for (var n = 0; n < t.length; ++n) if (t[n] == e) return n\r\n          return -1\r\n        }\r\n        z.prototype.set = function (t, e) {\r\n          clearTimeout(this.id), (this.id = setTimeout(e, t))\r\n        }\r\n        var H = 30,\r\n          $ = {\r\n            toString: function () {\r\n              return 'CodeMirror.Pass'\r\n            }\r\n          },\r\n          B = { scroll: !1 },\r\n          W = { origin: '*mouse' },\r\n          U = { origin: '+move' }\r\n        function q (t, e, n) {\r\n          for (var i = 0, r = 0; ; ) {\r\n            var o = t.indexOf('\\t', i)\r\n            ;-1 == o && (o = t.length)\r\n            var s = o - i\r\n            if (o == t.length || r + s >= e) return i + Math.min(s, e - r)\r\n            if (((r += o - i), (i = o + 1), (r += n - (r % n)) >= e)) return i\r\n          }\r\n        }\r\n        var K = ['']\r\n        function Y (t) {\r\n          for (; K.length <= t; ) K.push(G(K) + ' ')\r\n          return K[t]\r\n        }\r\n        function G (t) {\r\n          return t[t.length - 1]\r\n        }\r\n        function X (t, e) {\r\n          for (var n = [], i = 0; i < t.length; i++) n[i] = e(t[i], i)\r\n          return n\r\n        }\r\n        function J () {}\r\n        function Z (t, e) {\r\n          var n\r\n          return Object.create ? (n = Object.create(t)) : ((J.prototype = t), (n = new J())), e && j(e, n), n\r\n        }\r\n        var Q = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/\r\n        function tt (t) {\r\n          return /\\w/.test(t) || (t > '' && (t.toUpperCase() != t.toLowerCase() || Q.test(t)))\r\n        }\r\n        function et (t, e) {\r\n          return e ? !!(e.source.indexOf('\\\\w') > -1 && tt(t)) || e.test(t) : tt(t)\r\n        }\r\n        function nt (t) {\r\n          for (var e in t) if (t.hasOwnProperty(e) && t[e]) return !1\r\n          return !0\r\n        }\r\n        var it = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/\r\n        function rt (t) {\r\n          return t.charCodeAt(0) >= 768 && it.test(t)\r\n        }\r\n        function ot (t, e, n) {\r\n          for (; (n < 0 ? e > 0 : e < t.length) && rt(t.charAt(e)); ) e += n\r\n          return e\r\n        }\r\n        function st (t, e, n) {\r\n          for (var i = e > n ? -1 : 1; ; ) {\r\n            if (e == n) return e\r\n            var r = (e + n) / 2,\r\n              o = i < 0 ? Math.ceil(r) : Math.floor(r)\r\n            if (o == e) return t(o) ? e : n\r\n            t(o) ? (n = o) : (e = o + i)\r\n          }\r\n        }\r\n        function at (t, e, i) {\r\n          var r = this\r\n          ;(this.input = i),\r\n            (r.scrollbarFiller = O('div', null, 'CodeMirror-scrollbar-filler')),\r\n            r.scrollbarFiller.setAttribute('cm-not-content', 'true'),\r\n            (r.gutterFiller = O('div', null, 'CodeMirror-gutter-filler')),\r\n            r.gutterFiller.setAttribute('cm-not-content', 'true'),\r\n            (r.lineDiv = P('div', null, 'CodeMirror-code')),\r\n            (r.selectionDiv = O('div', null, null, 'position: relative; z-index: 1')),\r\n            (r.cursorDiv = O('div', null, 'CodeMirror-cursors')),\r\n            (r.measure = O('div', null, 'CodeMirror-measure')),\r\n            (r.lineMeasure = O('div', null, 'CodeMirror-measure')),\r\n            (r.lineSpace = P(\r\n              'div',\r\n              [r.measure, r.lineMeasure, r.selectionDiv, r.cursorDiv, r.lineDiv],\r\n              null,\r\n              'position: relative; outline: none'\r\n            ))\r\n          var o = P('div', [r.lineSpace], 'CodeMirror-lines')\r\n          ;(r.mover = O('div', [o], null, 'position: relative')),\r\n            (r.sizer = O('div', [r.mover], 'CodeMirror-sizer')),\r\n            (r.sizerWidth = null),\r\n            (r.heightForcer = O('div', null, null, 'position: absolute; height: ' + H + 'px; width: 1px;')),\r\n            (r.gutters = O('div', null, 'CodeMirror-gutters')),\r\n            (r.lineGutter = null),\r\n            (r.scroller = O('div', [r.sizer, r.heightForcer, r.gutters], 'CodeMirror-scroll')),\r\n            r.scroller.setAttribute('tabIndex', '-1'),\r\n            (r.wrapper = O('div', [r.scrollbarFiller, r.gutterFiller, r.scroller], 'CodeMirror')),\r\n            s && a < 8 && ((r.gutters.style.zIndex = -1), (r.scroller.style.paddingRight = 0)),\r\n            l || (n && m) || (r.scroller.draggable = !0),\r\n            t && (t.appendChild ? t.appendChild(r.wrapper) : t(r.wrapper)),\r\n            (r.viewFrom = r.viewTo = e.first),\r\n            (r.reportedViewFrom = r.reportedViewTo = e.first),\r\n            (r.view = []),\r\n            (r.renderedView = null),\r\n            (r.externalMeasured = null),\r\n            (r.viewOffset = 0),\r\n            (r.lastWrapHeight = r.lastWrapWidth = 0),\r\n            (r.updateLineNumbers = null),\r\n            (r.nativeBarWidth = r.barHeight = r.barWidth = 0),\r\n            (r.scrollbarsClipped = !1),\r\n            (r.lineNumWidth = r.lineNumInnerWidth = r.lineNumChars = null),\r\n            (r.alignWidgets = !1),\r\n            (r.cachedCharWidth = r.cachedTextHeight = r.cachedPaddingH = null),\r\n            (r.maxLine = null),\r\n            (r.maxLineLength = 0),\r\n            (r.maxLineChanged = !1),\r\n            (r.wheelDX = r.wheelDY = r.wheelStartX = r.wheelStartY = null),\r\n            (r.shift = !1),\r\n            (r.selForContextMenu = null),\r\n            (r.activeTouch = null),\r\n            i.init(r)\r\n        }\r\n        function lt (t, e) {\r\n          if ((e -= t.first) < 0 || e >= t.size)\r\n            throw new Error('There is no line ' + (e + t.first) + ' in the document.')\r\n          for (var n = t; !n.lines; )\r\n            for (var i = 0; ; ++i) {\r\n              var r = n.children[i],\r\n                o = r.chunkSize()\r\n              if (e < o) {\r\n                n = r\r\n                break\r\n              }\r\n              e -= o\r\n            }\r\n          return n.lines[e]\r\n        }\r\n        function ct (t, e, n) {\r\n          var i = [],\r\n            r = e.line\r\n          return (\r\n            t.iter(e.line, n.line + 1, function (t) {\r\n              var o = t.text\r\n              r == n.line && (o = o.slice(0, n.ch)), r == e.line && (o = o.slice(e.ch)), i.push(o), ++r\r\n            }),\r\n            i\r\n          )\r\n        }\r\n        function ut (t, e, n) {\r\n          var i = []\r\n          return (\r\n            t.iter(e, n, function (t) {\r\n              i.push(t.text)\r\n            }),\r\n            i\r\n          )\r\n        }\r\n        function ht (t, e) {\r\n          var n = e - t.height\r\n          if (n) for (var i = t; i; i = i.parent) i.height += n\r\n        }\r\n        function dt (t) {\r\n          if (null == t.parent) return null\r\n          for (var e = t.parent, n = V(e.lines, t), i = e.parent; i; e = i, i = i.parent)\r\n            for (var r = 0; i.children[r] != e; ++r) n += i.children[r].chunkSize()\r\n          return n + e.first\r\n        }\r\n        function ft (t, e) {\r\n          var n = t.first\r\n          t: do {\r\n            for (var i = 0; i < t.children.length; ++i) {\r\n              var r = t.children[i],\r\n                o = r.height\r\n              if (e < o) {\r\n                t = r\r\n                continue t\r\n              }\r\n              ;(e -= o), (n += r.chunkSize())\r\n            }\r\n            return n\r\n          } while (!t.lines)\r\n          for (var s = 0; s < t.lines.length; ++s) {\r\n            var a = t.lines[s],\r\n              l = a.height\r\n            if (e < l) break\r\n            e -= l\r\n          }\r\n          return n + s\r\n        }\r\n        function pt (t, e) {\r\n          return e >= t.first && e < t.first + t.size\r\n        }\r\n        function gt (t, e) {\r\n          return String(t.lineNumberFormatter(e + t.firstLineNumber))\r\n        }\r\n        function vt (t, e, n) {\r\n          if ((void 0 === n && (n = null), !(this instanceof vt))) return new vt(t, e, n)\r\n          ;(this.line = t), (this.ch = e), (this.sticky = n)\r\n        }\r\n        function mt (t, e) {\r\n          return t.line - e.line || t.ch - e.ch\r\n        }\r\n        function yt (t, e) {\r\n          return t.sticky == e.sticky && 0 == mt(t, e)\r\n        }\r\n        function bt (t) {\r\n          return vt(t.line, t.ch)\r\n        }\r\n        function xt (t, e) {\r\n          return mt(t, e) < 0 ? e : t\r\n        }\r\n        function wt (t, e) {\r\n          return mt(t, e) < 0 ? t : e\r\n        }\r\n        function Ct (t, e) {\r\n          return Math.max(t.first, Math.min(e, t.first + t.size - 1))\r\n        }\r\n        function kt (t, e) {\r\n          if (e.line < t.first) return vt(t.first, 0)\r\n          var n = t.first + t.size - 1\r\n          return e.line > n\r\n            ? vt(n, lt(t, n).text.length)\r\n            : (function (t, e) {\r\n                var n = t.ch\r\n                return null == n || n > e ? vt(t.line, e) : n < 0 ? vt(t.line, 0) : t\r\n              })(e, lt(t, e.line).text.length)\r\n        }\r\n        function St (t, e) {\r\n          for (var n = [], i = 0; i < e.length; i++) n[i] = kt(t, e[i])\r\n          return n\r\n        }\r\n        var Tt = !1,\r\n          Et = !1\r\n        function Mt (t, e, n) {\r\n          ;(this.marker = t), (this.from = e), (this.to = n)\r\n        }\r\n        function At (t, e) {\r\n          if (t)\r\n            for (var n = 0; n < t.length; ++n) {\r\n              var i = t[n]\r\n              if (i.marker == e) return i\r\n            }\r\n        }\r\n        function Ot (t, e) {\r\n          for (var n, i = 0; i < t.length; ++i) t[i] != e && (n || (n = [])).push(t[i])\r\n          return n\r\n        }\r\n        function Pt (t, e) {\r\n          if (e.full) return null\r\n          var n = pt(t, e.from.line) && lt(t, e.from.line).markedSpans,\r\n            i = pt(t, e.to.line) && lt(t, e.to.line).markedSpans\r\n          if (!n && !i) return null\r\n          var r = e.from.ch,\r\n            o = e.to.ch,\r\n            s = 0 == mt(e.from, e.to),\r\n            a = (function (t, e, n) {\r\n              var i\r\n              if (t)\r\n                for (var r = 0; r < t.length; ++r) {\r\n                  var o = t[r],\r\n                    s = o.marker,\r\n                    a = null == o.from || (s.inclusiveLeft ? o.from <= e : o.from < e)\r\n                  if (a || (o.from == e && 'bookmark' == s.type && (!n || !o.marker.insertLeft))) {\r\n                    var l = null == o.to || (s.inclusiveRight ? o.to >= e : o.to > e)\r\n                    ;(i || (i = [])).push(new Mt(s, o.from, l ? null : o.to))\r\n                  }\r\n                }\r\n              return i\r\n            })(n, r, s),\r\n            l = (function (t, e, n) {\r\n              var i\r\n              if (t)\r\n                for (var r = 0; r < t.length; ++r) {\r\n                  var o = t[r],\r\n                    s = o.marker,\r\n                    a = null == o.to || (s.inclusiveRight ? o.to >= e : o.to > e)\r\n                  if (a || (o.from == e && 'bookmark' == s.type && (!n || o.marker.insertLeft))) {\r\n                    var l = null == o.from || (s.inclusiveLeft ? o.from <= e : o.from < e)\r\n                    ;(i || (i = [])).push(new Mt(s, l ? null : o.from - e, null == o.to ? null : o.to - e))\r\n                  }\r\n                }\r\n              return i\r\n            })(i, o, s),\r\n            c = 1 == e.text.length,\r\n            u = G(e.text).length + (c ? r : 0)\r\n          if (a)\r\n            for (var h = 0; h < a.length; ++h) {\r\n              var d = a[h]\r\n              if (null == d.to) {\r\n                var f = At(l, d.marker)\r\n                f ? c && (d.to = null == f.to ? null : f.to + u) : (d.to = r)\r\n              }\r\n            }\r\n          if (l)\r\n            for (var p = 0; p < l.length; ++p) {\r\n              var g = l[p]\r\n              if ((null != g.to && (g.to += u), null == g.from)) {\r\n                var v = At(a, g.marker)\r\n                v || ((g.from = u), c && (a || (a = [])).push(g))\r\n              } else (g.from += u), c && (a || (a = [])).push(g)\r\n            }\r\n          a && (a = Lt(a)), l && l != a && (l = Lt(l))\r\n          var m = [a]\r\n          if (!c) {\r\n            var y,\r\n              b = e.text.length - 2\r\n            if (b > 0 && a)\r\n              for (var x = 0; x < a.length; ++x)\r\n                null == a[x].to && (y || (y = [])).push(new Mt(a[x].marker, null, null))\r\n            for (var w = 0; w < b; ++w) m.push(y)\r\n            m.push(l)\r\n          }\r\n          return m\r\n        }\r\n        function Lt (t) {\r\n          for (var e = 0; e < t.length; ++e) {\r\n            var n = t[e]\r\n            null != n.from && n.from == n.to && !1 !== n.marker.clearWhenEmpty && t.splice(e--, 1)\r\n          }\r\n          return t.length ? t : null\r\n        }\r\n        function _t (t) {\r\n          var e = t.markedSpans\r\n          if (e) {\r\n            for (var n = 0; n < e.length; ++n) e[n].marker.detachLine(t)\r\n            t.markedSpans = null\r\n          }\r\n        }\r\n        function Nt (t, e) {\r\n          if (e) {\r\n            for (var n = 0; n < e.length; ++n) e[n].marker.attachLine(t)\r\n            t.markedSpans = e\r\n          }\r\n        }\r\n        function Dt (t) {\r\n          return t.inclusiveLeft ? -1 : 0\r\n        }\r\n        function It (t) {\r\n          return t.inclusiveRight ? 1 : 0\r\n        }\r\n        function Ft (t, e) {\r\n          var n = t.lines.length - e.lines.length\r\n          if (0 != n) return n\r\n          var i = t.find(),\r\n            r = e.find(),\r\n            o = mt(i.from, r.from) || Dt(t) - Dt(e)\r\n          if (o) return -o\r\n          var s = mt(i.to, r.to) || It(t) - It(e)\r\n          return s || e.id - t.id\r\n        }\r\n        function jt (t, e) {\r\n          var n,\r\n            i = Et && t.markedSpans\r\n          if (i)\r\n            for (var r = void 0, o = 0; o < i.length; ++o)\r\n              (r = i[o]).marker.collapsed &&\r\n                null == (e ? r.from : r.to) &&\r\n                (!n || Ft(n, r.marker) < 0) &&\r\n                (n = r.marker)\r\n          return n\r\n        }\r\n        function Rt (t) {\r\n          return jt(t, !0)\r\n        }\r\n        function zt (t) {\r\n          return jt(t, !1)\r\n        }\r\n        function Vt (t, e) {\r\n          var n,\r\n            i = Et && t.markedSpans\r\n          if (i)\r\n            for (var r = 0; r < i.length; ++r) {\r\n              var o = i[r]\r\n              o.marker.collapsed &&\r\n                (null == o.from || o.from < e) &&\r\n                (null == o.to || o.to > e) &&\r\n                (!n || Ft(n, o.marker) < 0) &&\r\n                (n = o.marker)\r\n            }\r\n          return n\r\n        }\r\n        function Ht (t, e, n, i, r) {\r\n          var o = lt(t, e),\r\n            s = Et && o.markedSpans\r\n          if (s)\r\n            for (var a = 0; a < s.length; ++a) {\r\n              var l = s[a]\r\n              if (l.marker.collapsed) {\r\n                var c = l.marker.find(0),\r\n                  u = mt(c.from, n) || Dt(l.marker) - Dt(r),\r\n                  h = mt(c.to, i) || It(l.marker) - It(r)\r\n                if (\r\n                  !((u >= 0 && h <= 0) || (u <= 0 && h >= 0)) &&\r\n                  ((u <= 0 && (l.marker.inclusiveRight && r.inclusiveLeft ? mt(c.to, n) >= 0 : mt(c.to, n) > 0)) ||\r\n                    (u >= 0 && (l.marker.inclusiveRight && r.inclusiveLeft ? mt(c.from, i) <= 0 : mt(c.from, i) < 0)))\r\n                )\r\n                  return !0\r\n              }\r\n            }\r\n        }\r\n        function $t (t) {\r\n          for (var e; (e = Rt(t)); ) t = e.find(-1, !0).line\r\n          return t\r\n        }\r\n        function Bt (t, e) {\r\n          var n = lt(t, e),\r\n            i = $t(n)\r\n          return n == i ? e : dt(i)\r\n        }\r\n        function Wt (t, e) {\r\n          if (e > t.lastLine()) return e\r\n          var n,\r\n            i = lt(t, e)\r\n          if (!Ut(t, i)) return e\r\n          for (; (n = zt(i)); ) i = n.find(1, !0).line\r\n          return dt(i) + 1\r\n        }\r\n        function Ut (t, e) {\r\n          var n = Et && e.markedSpans\r\n          if (n)\r\n            for (var i = void 0, r = 0; r < n.length; ++r)\r\n              if ((i = n[r]).marker.collapsed) {\r\n                if (null == i.from) return !0\r\n                if (!i.marker.widgetNode && 0 == i.from && i.marker.inclusiveLeft && qt(t, e, i)) return !0\r\n              }\r\n        }\r\n        function qt (t, e, n) {\r\n          if (null == n.to) {\r\n            var i = n.marker.find(1, !0)\r\n            return qt(t, i.line, At(i.line.markedSpans, n.marker))\r\n          }\r\n          if (n.marker.inclusiveRight && n.to == e.text.length) return !0\r\n          for (var r = void 0, o = 0; o < e.markedSpans.length; ++o)\r\n            if (\r\n              (r = e.markedSpans[o]).marker.collapsed &&\r\n              !r.marker.widgetNode &&\r\n              r.from == n.to &&\r\n              (null == r.to || r.to != n.from) &&\r\n              (r.marker.inclusiveLeft || n.marker.inclusiveRight) &&\r\n              qt(t, e, r)\r\n            )\r\n              return !0\r\n        }\r\n        function Kt (t) {\r\n          t = $t(t)\r\n          for (var e = 0, n = t.parent, i = 0; i < n.lines.length; ++i) {\r\n            var r = n.lines[i]\r\n            if (r == t) break\r\n            e += r.height\r\n          }\r\n          for (var o = n.parent; o; o = (n = o).parent)\r\n            for (var s = 0; s < o.children.length; ++s) {\r\n              var a = o.children[s]\r\n              if (a == n) break\r\n              e += a.height\r\n            }\r\n          return e\r\n        }\r\n        function Yt (t) {\r\n          if (0 == t.height) return 0\r\n          for (var e, n = t.text.length, i = t; (e = Rt(i)); ) {\r\n            var r = e.find(0, !0)\r\n            ;(i = r.from.line), (n += r.from.ch - r.to.ch)\r\n          }\r\n          for (i = t; (e = zt(i)); ) {\r\n            var o = e.find(0, !0)\r\n            ;(n -= i.text.length - o.from.ch), (i = o.to.line), (n += i.text.length - o.to.ch)\r\n          }\r\n          return n\r\n        }\r\n        function Gt (t) {\r\n          var e = t.display,\r\n            n = t.doc\r\n          ;(e.maxLine = lt(n, n.first)),\r\n            (e.maxLineLength = Yt(e.maxLine)),\r\n            (e.maxLineChanged = !0),\r\n            n.iter(function (t) {\r\n              var n = Yt(t)\r\n              n > e.maxLineLength && ((e.maxLineLength = n), (e.maxLine = t))\r\n            })\r\n        }\r\n        var Xt = null\r\n        function Jt (t, e, n) {\r\n          var i\r\n          Xt = null\r\n          for (var r = 0; r < t.length; ++r) {\r\n            var o = t[r]\r\n            if (o.from < e && o.to > e) return r\r\n            o.to == e && (o.from != o.to && 'before' == n ? (i = r) : (Xt = r)),\r\n              o.from == e && (o.from != o.to && 'before' != n ? (i = r) : (Xt = r))\r\n          }\r\n          return null != i ? i : Xt\r\n        }\r\n        var Zt = (function () {\r\n          var t =\r\n              'bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN',\r\n            e =\r\n              'nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111'\r\n          var n = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,\r\n            i = /[stwN]/,\r\n            r = /[LRr]/,\r\n            o = /[Lb1n]/,\r\n            s = /[1n]/\r\n          function a (t, e, n) {\r\n            ;(this.level = t), (this.from = e), (this.to = n)\r\n          }\r\n          return function (l, c) {\r\n            var u,\r\n              h = 'ltr' == c ? 'L' : 'R'\r\n            if (0 == l.length || ('ltr' == c && !n.test(l))) return !1\r\n            for (var d = l.length, f = [], p = 0; p < d; ++p)\r\n              f.push(\r\n                (u = l.charCodeAt(p)) <= 247\r\n                  ? t.charAt(u)\r\n                  : 1424 <= u && u <= 1524\r\n                  ? 'R'\r\n                  : 1536 <= u && u <= 1785\r\n                  ? e.charAt(u - 1536)\r\n                  : 1774 <= u && u <= 2220\r\n                  ? 'r'\r\n                  : 8192 <= u && u <= 8203\r\n                  ? 'w'\r\n                  : 8204 == u\r\n                  ? 'b'\r\n                  : 'L'\r\n              )\r\n            for (var g = 0, v = h; g < d; ++g) {\r\n              var m = f[g]\r\n              'm' == m ? (f[g] = v) : (v = m)\r\n            }\r\n            for (var y = 0, b = h; y < d; ++y) {\r\n              var x = f[y]\r\n              '1' == x && 'r' == b ? (f[y] = 'n') : r.test(x) && ((b = x), 'r' == x && (f[y] = 'R'))\r\n            }\r\n            for (var w = 1, C = f[0]; w < d - 1; ++w) {\r\n              var k = f[w]\r\n              '+' == k && '1' == C && '1' == f[w + 1]\r\n                ? (f[w] = '1')\r\n                : ',' != k || C != f[w + 1] || ('1' != C && 'n' != C) || (f[w] = C),\r\n                (C = k)\r\n            }\r\n            for (var S = 0; S < d; ++S) {\r\n              var T = f[S]\r\n              if (',' == T) f[S] = 'N'\r\n              else if ('%' == T) {\r\n                var E = void 0\r\n                for (E = S + 1; E < d && '%' == f[E]; ++E);\r\n                for (var M = (S && '!' == f[S - 1]) || (E < d && '1' == f[E]) ? '1' : 'N', A = S; A < E; ++A) f[A] = M\r\n                S = E - 1\r\n              }\r\n            }\r\n            for (var O = 0, P = h; O < d; ++O) {\r\n              var L = f[O]\r\n              'L' == P && '1' == L ? (f[O] = 'L') : r.test(L) && (P = L)\r\n            }\r\n            for (var _ = 0; _ < d; ++_)\r\n              if (i.test(f[_])) {\r\n                var N = void 0\r\n                for (N = _ + 1; N < d && i.test(f[N]); ++N);\r\n                for (\r\n                  var D = 'L' == (_ ? f[_ - 1] : h),\r\n                    I = 'L' == (N < d ? f[N] : h),\r\n                    F = D == I ? (D ? 'L' : 'R') : h,\r\n                    j = _;\r\n                  j < N;\r\n                  ++j\r\n                )\r\n                  f[j] = F\r\n                _ = N - 1\r\n              }\r\n            for (var R, z = [], V = 0; V < d; )\r\n              if (o.test(f[V])) {\r\n                var H = V\r\n                for (++V; V < d && o.test(f[V]); ++V);\r\n                z.push(new a(0, H, V))\r\n              } else {\r\n                var $ = V,\r\n                  B = z.length\r\n                for (++V; V < d && 'L' != f[V]; ++V);\r\n                for (var W = $; W < V; )\r\n                  if (s.test(f[W])) {\r\n                    $ < W && z.splice(B, 0, new a(1, $, W))\r\n                    var U = W\r\n                    for (++W; W < V && s.test(f[W]); ++W);\r\n                    z.splice(B, 0, new a(2, U, W)), ($ = W)\r\n                  } else ++W\r\n                $ < V && z.splice(B, 0, new a(1, $, V))\r\n              }\r\n            return (\r\n              'ltr' == c &&\r\n                (1 == z[0].level &&\r\n                  (R = l.match(/^\\s+/)) &&\r\n                  ((z[0].from = R[0].length), z.unshift(new a(0, 0, R[0].length))),\r\n                1 == G(z).level &&\r\n                  (R = l.match(/\\s+$/)) &&\r\n                  ((G(z).to -= R[0].length), z.push(new a(0, d - R[0].length, d)))),\r\n              'rtl' == c ? z.reverse() : z\r\n            )\r\n          }\r\n        })()\r\n        function Qt (t, e) {\r\n          var n = t.order\r\n          return null == n && (n = t.order = Zt(t.text, e)), n\r\n        }\r\n        var te = [],\r\n          ee = function (t, e, n) {\r\n            if (t.addEventListener) t.addEventListener(e, n, !1)\r\n            else if (t.attachEvent) t.attachEvent('on' + e, n)\r\n            else {\r\n              var i = t._handlers || (t._handlers = {})\r\n              i[e] = (i[e] || te).concat(n)\r\n            }\r\n          }\r\n        function ne (t, e) {\r\n          return (t._handlers && t._handlers[e]) || te\r\n        }\r\n        function ie (t, e, n) {\r\n          if (t.removeEventListener) t.removeEventListener(e, n, !1)\r\n          else if (t.detachEvent) t.detachEvent('on' + e, n)\r\n          else {\r\n            var i = t._handlers,\r\n              r = i && i[e]\r\n            if (r) {\r\n              var o = V(r, n)\r\n              o > -1 && (i[e] = r.slice(0, o).concat(r.slice(o + 1)))\r\n            }\r\n          }\r\n        }\r\n        function re (t, e) {\r\n          var n = ne(t, e)\r\n          if (n.length)\r\n            for (var i = Array.prototype.slice.call(arguments, 2), r = 0; r < n.length; ++r) n[r].apply(null, i)\r\n        }\r\n        function oe (t, e, n) {\r\n          return (\r\n            'string' == typeof e &&\r\n              (e = {\r\n                type: e,\r\n                preventDefault: function () {\r\n                  this.defaultPrevented = !0\r\n                }\r\n              }),\r\n            re(t, n || e.type, t, e),\r\n            he(e) || e.codemirrorIgnore\r\n          )\r\n        }\r\n        function se (t) {\r\n          var e = t._handlers && t._handlers.cursorActivity\r\n          if (e)\r\n            for (\r\n              var n = t.curOp.cursorActivityHandlers || (t.curOp.cursorActivityHandlers = []), i = 0;\r\n              i < e.length;\r\n              ++i\r\n            )\r\n              -1 == V(n, e[i]) && n.push(e[i])\r\n        }\r\n        function ae (t, e) {\r\n          return ne(t, e).length > 0\r\n        }\r\n        function le (t) {\r\n          ;(t.prototype.on = function (t, e) {\r\n            ee(this, t, e)\r\n          }),\r\n            (t.prototype.off = function (t, e) {\r\n              ie(this, t, e)\r\n            })\r\n        }\r\n        function ce (t) {\r\n          t.preventDefault ? t.preventDefault() : (t.returnValue = !1)\r\n        }\r\n        function ue (t) {\r\n          t.stopPropagation ? t.stopPropagation() : (t.cancelBubble = !0)\r\n        }\r\n        function he (t) {\r\n          return null != t.defaultPrevented ? t.defaultPrevented : 0 == t.returnValue\r\n        }\r\n        function de (t) {\r\n          ce(t), ue(t)\r\n        }\r\n        function fe (t) {\r\n          return t.target || t.srcElement\r\n        }\r\n        function pe (t) {\r\n          var e = t.which\r\n          return (\r\n            null == e && (1 & t.button ? (e = 1) : 2 & t.button ? (e = 3) : 4 & t.button && (e = 2)),\r\n            y && t.ctrlKey && 1 == e && (e = 3),\r\n            e\r\n          )\r\n        }\r\n        var ge,\r\n          ve,\r\n          me = (function () {\r\n            if (s && a < 9) return !1\r\n            var t = O('div')\r\n            return 'draggable' in t || 'dragDrop' in t\r\n          })()\r\n        function ye (t) {\r\n          if (null == ge) {\r\n            var e = O('span', '')\r\n            A(t, O('span', [e, document.createTextNode('x')])),\r\n              0 != t.firstChild.offsetHeight && (ge = e.offsetWidth <= 1 && e.offsetHeight > 2 && !(s && a < 8))\r\n          }\r\n          var n = ge ? O('span', '') : O('span', '', null, 'display: inline-block; width: 1px; margin-right: -1px')\r\n          return n.setAttribute('cm-text', ''), n\r\n        }\r\n        function be (t) {\r\n          if (null != ve) return ve\r\n          var e = A(t, document.createTextNode('AA')),\r\n            n = T(e, 0, 1).getBoundingClientRect(),\r\n            i = T(e, 1, 2).getBoundingClientRect()\r\n          return M(t), !(!n || n.left == n.right) && (ve = i.right - n.right < 3)\r\n        }\r\n        var xe,\r\n          we =\r\n            3 != '\\n\\nb'.split(/\\n/).length\r\n              ? function (t) {\r\n                  for (var e = 0, n = [], i = t.length; e <= i; ) {\r\n                    var r = t.indexOf('\\n', e)\r\n                    ;-1 == r && (r = t.length)\r\n                    var o = t.slice(e, '\\r' == t.charAt(r - 1) ? r - 1 : r),\r\n                      s = o.indexOf('\\r')\r\n                    ;-1 != s ? (n.push(o.slice(0, s)), (e += s + 1)) : (n.push(o), (e = r + 1))\r\n                  }\r\n                  return n\r\n                }\r\n              : function (t) {\r\n                  return t.split(/\\r\\n?|\\n/)\r\n                },\r\n          Ce = window.getSelection\r\n            ? function (t) {\r\n                try {\r\n                  return t.selectionStart != t.selectionEnd\r\n                } catch (t) {\r\n                  return !1\r\n                }\r\n              }\r\n            : function (t) {\r\n                var e\r\n                try {\r\n                  e = t.ownerDocument.selection.createRange()\r\n                } catch (t) {}\r\n                return !(!e || e.parentElement() != t) && 0 != e.compareEndPoints('StartToEnd', e)\r\n              },\r\n          ke = 'oncopy' in (xe = O('div')) || (xe.setAttribute('oncopy', 'return;'), 'function' == typeof xe.oncopy),\r\n          Se = null,\r\n          Te = {},\r\n          Ee = {}\r\n        function Me (t) {\r\n          if ('string' == typeof t && Ee.hasOwnProperty(t)) t = Ee[t]\r\n          else if (t && 'string' == typeof t.name && Ee.hasOwnProperty(t.name)) {\r\n            var e = Ee[t.name]\r\n            'string' == typeof e && (e = { name: e }), ((t = Z(e, t)).name = e.name)\r\n          } else {\r\n            if ('string' == typeof t && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(t)) return Me('application/xml')\r\n            if ('string' == typeof t && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(t)) return Me('application/json')\r\n          }\r\n          return 'string' == typeof t ? { name: t } : t || { name: 'null' }\r\n        }\r\n        function Ae (t, e) {\r\n          e = Me(e)\r\n          var n = Te[e.name]\r\n          if (!n) return Ae(t, 'text/plain')\r\n          var i = n(t, e)\r\n          if (Oe.hasOwnProperty(e.name)) {\r\n            var r = Oe[e.name]\r\n            for (var o in r) r.hasOwnProperty(o) && (i.hasOwnProperty(o) && (i['_' + o] = i[o]), (i[o] = r[o]))\r\n          }\r\n          if (((i.name = e.name), e.helperType && (i.helperType = e.helperType), e.modeProps))\r\n            for (var s in e.modeProps) i[s] = e.modeProps[s]\r\n          return i\r\n        }\r\n        var Oe = {}\r\n        function Pe (t, e) {\r\n          var n = Oe.hasOwnProperty(t) ? Oe[t] : (Oe[t] = {})\r\n          j(e, n)\r\n        }\r\n        function Le (t, e) {\r\n          if (!0 === e) return e\r\n          if (t.copyState) return t.copyState(e)\r\n          var n = {}\r\n          for (var i in e) {\r\n            var r = e[i]\r\n            r instanceof Array && (r = r.concat([])), (n[i] = r)\r\n          }\r\n          return n\r\n        }\r\n        function _e (t, e) {\r\n          for (var n; t.innerMode && (n = t.innerMode(e)) && n.mode != t; ) (e = n.state), (t = n.mode)\r\n          return n || { mode: t, state: e }\r\n        }\r\n        function Ne (t, e, n) {\r\n          return !t.startState || t.startState(e, n)\r\n        }\r\n        var De = function (t, e, n) {\r\n          ;(this.pos = this.start = 0),\r\n            (this.string = t),\r\n            (this.tabSize = e || 8),\r\n            (this.lastColumnPos = this.lastColumnValue = 0),\r\n            (this.lineStart = 0),\r\n            (this.lineOracle = n)\r\n        }\r\n        ;(De.prototype.eol = function () {\r\n          return this.pos >= this.string.length\r\n        }),\r\n          (De.prototype.sol = function () {\r\n            return this.pos == this.lineStart\r\n          }),\r\n          (De.prototype.peek = function () {\r\n            return this.string.charAt(this.pos) || void 0\r\n          }),\r\n          (De.prototype.next = function () {\r\n            if (this.pos < this.string.length) return this.string.charAt(this.pos++)\r\n          }),\r\n          (De.prototype.eat = function (t) {\r\n            var e = this.string.charAt(this.pos)\r\n            if ('string' == typeof t ? e == t : e && (t.test ? t.test(e) : t(e))) return ++this.pos, e\r\n          }),\r\n          (De.prototype.eatWhile = function (t) {\r\n            for (var e = this.pos; this.eat(t); );\r\n            return this.pos > e\r\n          }),\r\n          (De.prototype.eatSpace = function () {\r\n            for (var t = this.pos; /[\\s\\u00a0]/.test(this.string.charAt(this.pos)); ) ++this.pos\r\n            return this.pos > t\r\n          }),\r\n          (De.prototype.skipToEnd = function () {\r\n            this.pos = this.string.length\r\n          }),\r\n          (De.prototype.skipTo = function (t) {\r\n            var e = this.string.indexOf(t, this.pos)\r\n            if (e > -1) return (this.pos = e), !0\r\n          }),\r\n          (De.prototype.backUp = function (t) {\r\n            this.pos -= t\r\n          }),\r\n          (De.prototype.column = function () {\r\n            return (\r\n              this.lastColumnPos < this.start &&\r\n                ((this.lastColumnValue = R(\r\n                  this.string,\r\n                  this.start,\r\n                  this.tabSize,\r\n                  this.lastColumnPos,\r\n                  this.lastColumnValue\r\n                )),\r\n                (this.lastColumnPos = this.start)),\r\n              this.lastColumnValue - (this.lineStart ? R(this.string, this.lineStart, this.tabSize) : 0)\r\n            )\r\n          }),\r\n          (De.prototype.indentation = function () {\r\n            return (\r\n              R(this.string, null, this.tabSize) - (this.lineStart ? R(this.string, this.lineStart, this.tabSize) : 0)\r\n            )\r\n          }),\r\n          (De.prototype.match = function (t, e, n) {\r\n            if ('string' != typeof t) {\r\n              var i = this.string.slice(this.pos).match(t)\r\n              return i && i.index > 0 ? null : (i && !1 !== e && (this.pos += i[0].length), i)\r\n            }\r\n            var r = function (t) {\r\n                return n ? t.toLowerCase() : t\r\n              },\r\n              o = this.string.substr(this.pos, t.length)\r\n            if (r(o) == r(t)) return !1 !== e && (this.pos += t.length), !0\r\n          }),\r\n          (De.prototype.current = function () {\r\n            return this.string.slice(this.start, this.pos)\r\n          }),\r\n          (De.prototype.hideFirstChars = function (t, e) {\r\n            this.lineStart += t\r\n            try {\r\n              return e()\r\n            } finally {\r\n              this.lineStart -= t\r\n            }\r\n          }),\r\n          (De.prototype.lookAhead = function (t) {\r\n            var e = this.lineOracle\r\n            return e && e.lookAhead(t)\r\n          }),\r\n          (De.prototype.baseToken = function () {\r\n            var t = this.lineOracle\r\n            return t && t.baseToken(this.pos)\r\n          })\r\n        var Ie = function (t, e) {\r\n            ;(this.state = t), (this.lookAhead = e)\r\n          },\r\n          Fe = function (t, e, n, i) {\r\n            ;(this.state = e),\r\n              (this.doc = t),\r\n              (this.line = n),\r\n              (this.maxLookAhead = i || 0),\r\n              (this.baseTokens = null),\r\n              (this.baseTokenPos = 1)\r\n          }\r\n        function je (t, e, n, i) {\r\n          var r = [t.state.modeGen],\r\n            o = {}\r\n          qe(\r\n            t,\r\n            e.text,\r\n            t.doc.mode,\r\n            n,\r\n            function (t, e) {\r\n              return r.push(t, e)\r\n            },\r\n            o,\r\n            i\r\n          )\r\n          for (\r\n            var s = n.state,\r\n              a = function (i) {\r\n                n.baseTokens = r\r\n                var a = t.state.overlays[i],\r\n                  l = 1,\r\n                  c = 0\r\n                ;(n.state = !0),\r\n                  qe(\r\n                    t,\r\n                    e.text,\r\n                    a.mode,\r\n                    n,\r\n                    function (t, e) {\r\n                      for (var n = l; c < t; ) {\r\n                        var i = r[l]\r\n                        i > t && r.splice(l, 1, t, r[l + 1], i), (l += 2), (c = Math.min(t, i))\r\n                      }\r\n                      if (e)\r\n                        if (a.opaque) r.splice(n, l - n, t, 'overlay ' + e), (l = n + 2)\r\n                        else\r\n                          for (; n < l; n += 2) {\r\n                            var o = r[n + 1]\r\n                            r[n + 1] = (o ? o + ' ' : '') + 'overlay ' + e\r\n                          }\r\n                    },\r\n                    o\r\n                  ),\r\n                  (n.state = s),\r\n                  (n.baseTokens = null),\r\n                  (n.baseTokenPos = 1)\r\n              },\r\n              l = 0;\r\n            l < t.state.overlays.length;\r\n            ++l\r\n          )\r\n            a(l)\r\n          return { styles: r, classes: o.bgClass || o.textClass ? o : null }\r\n        }\r\n        function Re (t, e, n) {\r\n          if (!e.styles || e.styles[0] != t.state.modeGen) {\r\n            var i = ze(t, dt(e)),\r\n              r = e.text.length > t.options.maxHighlightLength && Le(t.doc.mode, i.state),\r\n              o = je(t, e, i)\r\n            r && (i.state = r),\r\n              (e.stateAfter = i.save(!r)),\r\n              (e.styles = o.styles),\r\n              o.classes ? (e.styleClasses = o.classes) : e.styleClasses && (e.styleClasses = null),\r\n              n === t.doc.highlightFrontier &&\r\n                (t.doc.modeFrontier = Math.max(t.doc.modeFrontier, ++t.doc.highlightFrontier))\r\n          }\r\n          return e.styles\r\n        }\r\n        function ze (t, e, n) {\r\n          var i = t.doc,\r\n            r = t.display\r\n          if (!i.mode.startState) return new Fe(i, !0, e)\r\n          var o = (function (t, e, n) {\r\n              for (var i, r, o = t.doc, s = n ? -1 : e - (t.doc.mode.innerMode ? 1e3 : 100), a = e; a > s; --a) {\r\n                if (a <= o.first) return o.first\r\n                var l = lt(o, a - 1),\r\n                  c = l.stateAfter\r\n                if (c && (!n || a + (c instanceof Ie ? c.lookAhead : 0) <= o.modeFrontier)) return a\r\n                var u = R(l.text, null, t.options.tabSize)\r\n                ;(null == r || i > u) && ((r = a - 1), (i = u))\r\n              }\r\n              return r\r\n            })(t, e, n),\r\n            s = o > i.first && lt(i, o - 1).stateAfter,\r\n            a = s ? Fe.fromSaved(i, s, o) : new Fe(i, Ne(i.mode), o)\r\n          return (\r\n            i.iter(o, e, function (n) {\r\n              Ve(t, n.text, a)\r\n              var i = a.line\r\n              ;(n.stateAfter = i == e - 1 || i % 5 == 0 || (i >= r.viewFrom && i < r.viewTo) ? a.save() : null),\r\n                a.nextLine()\r\n            }),\r\n            n && (i.modeFrontier = a.line),\r\n            a\r\n          )\r\n        }\r\n        function Ve (t, e, n, i) {\r\n          var r = t.doc.mode,\r\n            o = new De(e, t.options.tabSize, n)\r\n          for (o.start = o.pos = i || 0, '' == e && He(r, n.state); !o.eol(); ) $e(r, o, n.state), (o.start = o.pos)\r\n        }\r\n        function He (t, e) {\r\n          if (t.blankLine) return t.blankLine(e)\r\n          if (t.innerMode) {\r\n            var n = _e(t, e)\r\n            return n.mode.blankLine ? n.mode.blankLine(n.state) : void 0\r\n          }\r\n        }\r\n        function $e (t, e, n, i) {\r\n          for (var r = 0; r < 10; r++) {\r\n            i && (i[0] = _e(t, n).mode)\r\n            var o = t.token(e, n)\r\n            if (e.pos > e.start) return o\r\n          }\r\n          throw new Error('Mode ' + t.name + ' failed to advance stream.')\r\n        }\r\n        ;(Fe.prototype.lookAhead = function (t) {\r\n          var e = this.doc.getLine(this.line + t)\r\n          return null != e && t > this.maxLookAhead && (this.maxLookAhead = t), e\r\n        }),\r\n          (Fe.prototype.baseToken = function (t) {\r\n            if (!this.baseTokens) return null\r\n            for (; this.baseTokens[this.baseTokenPos] <= t; ) this.baseTokenPos += 2\r\n            var e = this.baseTokens[this.baseTokenPos + 1]\r\n            return { type: e && e.replace(/( |^)overlay .*/, ''), size: this.baseTokens[this.baseTokenPos] - t }\r\n          }),\r\n          (Fe.prototype.nextLine = function () {\r\n            this.line++, this.maxLookAhead > 0 && this.maxLookAhead--\r\n          }),\r\n          (Fe.fromSaved = function (t, e, n) {\r\n            return e instanceof Ie ? new Fe(t, Le(t.mode, e.state), n, e.lookAhead) : new Fe(t, Le(t.mode, e), n)\r\n          }),\r\n          (Fe.prototype.save = function (t) {\r\n            var e = !1 !== t ? Le(this.doc.mode, this.state) : this.state\r\n            return this.maxLookAhead > 0 ? new Ie(e, this.maxLookAhead) : e\r\n          })\r\n        var Be = function (t, e, n) {\r\n          ;(this.start = t.start),\r\n            (this.end = t.pos),\r\n            (this.string = t.current()),\r\n            (this.type = e || null),\r\n            (this.state = n)\r\n        }\r\n        function We (t, e, n, i) {\r\n          var r,\r\n            o = t.doc,\r\n            s = o.mode\r\n          e = kt(o, e)\r\n          var a,\r\n            l = lt(o, e.line),\r\n            c = ze(t, e.line, n),\r\n            u = new De(l.text, t.options.tabSize, c)\r\n          for (i && (a = []); (i || u.pos < e.ch) && !u.eol(); )\r\n            (u.start = u.pos), (r = $e(s, u, c.state)), i && a.push(new Be(u, r, Le(o.mode, c.state)))\r\n          return i ? a : new Be(u, r, c.state)\r\n        }\r\n        function Ue (t, e) {\r\n          if (t)\r\n            for (;;) {\r\n              var n = t.match(/(?:^|\\s+)line-(background-)?(\\S+)/)\r\n              if (!n) break\r\n              t = t.slice(0, n.index) + t.slice(n.index + n[0].length)\r\n              var i = n[1] ? 'bgClass' : 'textClass'\r\n              null == e[i] ? (e[i] = n[2]) : new RegExp('(?:^|s)' + n[2] + '(?:$|s)').test(e[i]) || (e[i] += ' ' + n[2])\r\n            }\r\n          return t\r\n        }\r\n        function qe (t, e, n, i, r, o, s) {\r\n          var a = n.flattenSpans\r\n          null == a && (a = t.options.flattenSpans)\r\n          var l,\r\n            c = 0,\r\n            u = null,\r\n            h = new De(e, t.options.tabSize, i),\r\n            d = t.options.addModeClass && [null]\r\n          for ('' == e && Ue(He(n, i.state), o); !h.eol(); ) {\r\n            if (\r\n              (h.pos > t.options.maxHighlightLength\r\n                ? ((a = !1), s && Ve(t, e, i, h.pos), (h.pos = e.length), (l = null))\r\n                : (l = Ue($e(n, h, i.state, d), o)),\r\n              d)\r\n            ) {\r\n              var f = d[0].name\r\n              f && (l = 'm-' + (l ? f + ' ' + l : f))\r\n            }\r\n            if (!a || u != l) {\r\n              for (; c < h.start; ) (c = Math.min(h.start, c + 5e3)), r(c, u)\r\n              u = l\r\n            }\r\n            h.start = h.pos\r\n          }\r\n          for (; c < h.pos; ) {\r\n            var p = Math.min(h.pos, c + 5e3)\r\n            r(p, u), (c = p)\r\n          }\r\n        }\r\n        var Ke = function (t, e, n) {\r\n          ;(this.text = t), Nt(this, e), (this.height = n ? n(this) : 1)\r\n        }\r\n        function Ye (t) {\r\n          ;(t.parent = null), _t(t)\r\n        }\r\n        ;(Ke.prototype.lineNo = function () {\r\n          return dt(this)\r\n        }),\r\n          le(Ke)\r\n        var Ge = {},\r\n          Xe = {}\r\n        function Je (t, e) {\r\n          if (!t || /^\\s*$/.test(t)) return null\r\n          var n = e.addModeClass ? Xe : Ge\r\n          return n[t] || (n[t] = t.replace(/\\S+/g, 'cm-$&'))\r\n        }\r\n        function Ze (t, e) {\r\n          var n = P('span', null, null, l ? 'padding-right: .1px' : null),\r\n            i = {\r\n              pre: P('pre', [n], 'CodeMirror-line'),\r\n              content: n,\r\n              col: 0,\r\n              pos: 0,\r\n              cm: t,\r\n              trailingSpace: !1,\r\n              splitSpaces: t.getOption('lineWrapping')\r\n            }\r\n          e.measure = {}\r\n          for (var r = 0; r <= (e.rest ? e.rest.length : 0); r++) {\r\n            var o = r ? e.rest[r - 1] : e.line,\r\n              s = void 0\r\n            ;(i.pos = 0),\r\n              (i.addToken = tn),\r\n              be(t.display.measure) && (s = Qt(o, t.doc.direction)) && (i.addToken = en(i.addToken, s)),\r\n              (i.map = [])\r\n            var a = e != t.display.externalMeasured && dt(o)\r\n            rn(o, i, Re(t, o, a)),\r\n              o.styleClasses &&\r\n                (o.styleClasses.bgClass && (i.bgClass = D(o.styleClasses.bgClass, i.bgClass || '')),\r\n                o.styleClasses.textClass && (i.textClass = D(o.styleClasses.textClass, i.textClass || ''))),\r\n              0 == i.map.length && i.map.push(0, 0, i.content.appendChild(ye(t.display.measure))),\r\n              0 == r\r\n                ? ((e.measure.map = i.map), (e.measure.cache = {}))\r\n                : ((e.measure.maps || (e.measure.maps = [])).push(i.map),\r\n                  (e.measure.caches || (e.measure.caches = [])).push({}))\r\n          }\r\n          if (l) {\r\n            var c = i.content.lastChild\r\n            ;(/\\bcm-tab\\b/.test(c.className) || (c.querySelector && c.querySelector('.cm-tab'))) &&\r\n              (i.content.className = 'cm-tab-wrap-hack')\r\n          }\r\n          return (\r\n            re(t, 'renderLine', t, e.line, i.pre),\r\n            i.pre.className && (i.textClass = D(i.pre.className, i.textClass || '')),\r\n            i\r\n          )\r\n        }\r\n        function Qe (t) {\r\n          var e = O('span', '', 'cm-invalidchar')\r\n          return (e.title = '\\\\u' + t.charCodeAt(0).toString(16)), e.setAttribute('aria-label', e.title), e\r\n        }\r\n        function tn (t, e, n, i, r, o, l) {\r\n          if (e) {\r\n            var c,\r\n              u = t.splitSpaces\r\n                ? (function (t, e) {\r\n                    if (t.length > 1 && !/  /.test(t)) return t\r\n                    for (var n = e, i = '', r = 0; r < t.length; r++) {\r\n                      var o = t.charAt(r)\r\n                      ' ' != o || !n || (r != t.length - 1 && 32 != t.charCodeAt(r + 1)) || (o = ''),\r\n                        (i += o),\r\n                        (n = ' ' == o)\r\n                    }\r\n                    return i\r\n                  })(e, t.trailingSpace)\r\n                : e,\r\n              h = t.cm.state.specialChars,\r\n              d = !1\r\n            if (h.test(e)) {\r\n              c = document.createDocumentFragment()\r\n              for (var f = 0; ; ) {\r\n                h.lastIndex = f\r\n                var p = h.exec(e),\r\n                  g = p ? p.index - f : e.length - f\r\n                if (g) {\r\n                  var v = document.createTextNode(u.slice(f, f + g))\r\n                  s && a < 9 ? c.appendChild(O('span', [v])) : c.appendChild(v),\r\n                    t.map.push(t.pos, t.pos + g, v),\r\n                    (t.col += g),\r\n                    (t.pos += g)\r\n                }\r\n                if (!p) break\r\n                f += g + 1\r\n                var m = void 0\r\n                if ('\\t' == p[0]) {\r\n                  var y = t.cm.options.tabSize,\r\n                    b = y - (t.col % y)\r\n                  ;(m = c.appendChild(O('span', Y(b), 'cm-tab'))).setAttribute('role', 'presentation'),\r\n                    m.setAttribute('cm-text', '\\t'),\r\n                    (t.col += b)\r\n                } else\r\n                  '\\r' == p[0] || '\\n' == p[0]\r\n                    ? ((m = c.appendChild(O('span', '\\r' == p[0] ? '' : '', 'cm-invalidchar'))).setAttribute(\r\n                        'cm-text',\r\n                        p[0]\r\n                      ),\r\n                      (t.col += 1))\r\n                    : ((m = t.cm.options.specialCharPlaceholder(p[0])).setAttribute('cm-text', p[0]),\r\n                      s && a < 9 ? c.appendChild(O('span', [m])) : c.appendChild(m),\r\n                      (t.col += 1))\r\n                t.map.push(t.pos, t.pos + 1, m), t.pos++\r\n              }\r\n            } else\r\n              (t.col += e.length),\r\n                (c = document.createTextNode(u)),\r\n                t.map.push(t.pos, t.pos + e.length, c),\r\n                s && a < 9 && (d = !0),\r\n                (t.pos += e.length)\r\n            if (((t.trailingSpace = 32 == u.charCodeAt(e.length - 1)), n || i || r || d || o)) {\r\n              var x = n || ''\r\n              i && (x += i), r && (x += r)\r\n              var w = O('span', [c], x, o)\r\n              if (l) for (var C in l) l.hasOwnProperty(C) && 'style' != C && 'class' != C && w.setAttribute(C, l[C])\r\n              return t.content.appendChild(w)\r\n            }\r\n            t.content.appendChild(c)\r\n          }\r\n        }\r\n        function en (t, e) {\r\n          return function (n, i, r, o, s, a, l) {\r\n            r = r ? r + ' cm-force-border' : 'cm-force-border'\r\n            for (var c = n.pos, u = c + i.length; ; ) {\r\n              for (var h = void 0, d = 0; d < e.length && !((h = e[d]).to > c && h.from <= c); d++);\r\n              if (h.to >= u) return t(n, i, r, o, s, a, l)\r\n              t(n, i.slice(0, h.to - c), r, o, null, a, l), (o = null), (i = i.slice(h.to - c)), (c = h.to)\r\n            }\r\n          }\r\n        }\r\n        function nn (t, e, n, i) {\r\n          var r = !i && n.widgetNode\r\n          r && t.map.push(t.pos, t.pos + e, r),\r\n            !i &&\r\n              t.cm.display.input.needsContentAttribute &&\r\n              (r || (r = t.content.appendChild(document.createElement('span'))), r.setAttribute('cm-marker', n.id)),\r\n            r && (t.cm.display.input.setUneditable(r), t.content.appendChild(r)),\r\n            (t.pos += e),\r\n            (t.trailingSpace = !1)\r\n        }\r\n        function rn (t, e, n) {\r\n          var i = t.markedSpans,\r\n            r = t.text,\r\n            o = 0\r\n          if (i)\r\n            for (var s, a, l, c, u, h, d, f = r.length, p = 0, g = 1, v = '', m = 0; ; ) {\r\n              if (m == p) {\r\n                ;(l = c = u = a = ''), (d = null), (h = null), (m = 1 / 0)\r\n                for (var y = [], b = void 0, x = 0; x < i.length; ++x) {\r\n                  var w = i[x],\r\n                    C = w.marker\r\n                  if ('bookmark' == C.type && w.from == p && C.widgetNode) y.push(C)\r\n                  else if (w.from <= p && (null == w.to || w.to > p || (C.collapsed && w.to == p && w.from == p))) {\r\n                    if (\r\n                      (null != w.to && w.to != p && m > w.to && ((m = w.to), (c = '')),\r\n                      C.className && (l += ' ' + C.className),\r\n                      C.css && (a = (a ? a + ';' : '') + C.css),\r\n                      C.startStyle && w.from == p && (u += ' ' + C.startStyle),\r\n                      C.endStyle && w.to == m && (b || (b = [])).push(C.endStyle, w.to),\r\n                      C.title && ((d || (d = {})).title = C.title),\r\n                      C.attributes)\r\n                    )\r\n                      for (var k in C.attributes) (d || (d = {}))[k] = C.attributes[k]\r\n                    C.collapsed && (!h || Ft(h.marker, C) < 0) && (h = w)\r\n                  } else w.from > p && m > w.from && (m = w.from)\r\n                }\r\n                if (b) for (var S = 0; S < b.length; S += 2) b[S + 1] == m && (c += ' ' + b[S])\r\n                if (!h || h.from == p) for (var T = 0; T < y.length; ++T) nn(e, 0, y[T])\r\n                if (h && (h.from || 0) == p) {\r\n                  if ((nn(e, (null == h.to ? f + 1 : h.to) - p, h.marker, null == h.from), null == h.to)) return\r\n                  h.to == p && (h = !1)\r\n                }\r\n              }\r\n              if (p >= f) break\r\n              for (var E = Math.min(f, m); ; ) {\r\n                if (v) {\r\n                  var M = p + v.length\r\n                  if (!h) {\r\n                    var A = M > E ? v.slice(0, E - p) : v\r\n                    e.addToken(e, A, s ? s + l : l, u, p + A.length == m ? c : '', a, d)\r\n                  }\r\n                  if (M >= E) {\r\n                    ;(v = v.slice(E - p)), (p = E)\r\n                    break\r\n                  }\r\n                  ;(p = M), (u = '')\r\n                }\r\n                ;(v = r.slice(o, (o = n[g++]))), (s = Je(n[g++], e.cm.options))\r\n              }\r\n            }\r\n          else for (var O = 1; O < n.length; O += 2) e.addToken(e, r.slice(o, (o = n[O])), Je(n[O + 1], e.cm.options))\r\n        }\r\n        function on (t, e, n) {\r\n          ;(this.line = e),\r\n            (this.rest = (function (t) {\r\n              for (var e, n; (e = zt(t)); ) (t = e.find(1, !0).line), (n || (n = [])).push(t)\r\n              return n\r\n            })(e)),\r\n            (this.size = this.rest ? dt(G(this.rest)) - n + 1 : 1),\r\n            (this.node = this.text = null),\r\n            (this.hidden = Ut(t, e))\r\n        }\r\n        function sn (t, e, n) {\r\n          for (var i, r = [], o = e; o < n; o = i) {\r\n            var s = new on(t.doc, lt(t.doc, o), o)\r\n            ;(i = o + s.size), r.push(s)\r\n          }\r\n          return r\r\n        }\r\n        var an = null,\r\n          ln = null\r\n        function cn (t, e) {\r\n          var n = ne(t, e)\r\n          if (n.length) {\r\n            var i,\r\n              r = Array.prototype.slice.call(arguments, 2)\r\n            an ? (i = an.delayedCallbacks) : ln ? (i = ln) : ((i = ln = []), setTimeout(un, 0))\r\n            for (\r\n              var o = function (t) {\r\n                  i.push(function () {\r\n                    return n[t].apply(null, r)\r\n                  })\r\n                },\r\n                s = 0;\r\n              s < n.length;\r\n              ++s\r\n            )\r\n              o(s)\r\n          }\r\n        }\r\n        function un () {\r\n          var t = ln\r\n          ln = null\r\n          for (var e = 0; e < t.length; ++e) t[e]()\r\n        }\r\n        function hn (t, e, n, i) {\r\n          for (var r = 0; r < e.changes.length; r++) {\r\n            var o = e.changes[r]\r\n            'text' == o\r\n              ? pn(t, e)\r\n              : 'gutter' == o\r\n              ? vn(t, e, n, i)\r\n              : 'class' == o\r\n              ? gn(t, e)\r\n              : 'widget' == o && mn(t, e, i)\r\n          }\r\n          e.changes = null\r\n        }\r\n        function dn (t) {\r\n          return (\r\n            t.node == t.text &&\r\n              ((t.node = O('div', null, null, 'position: relative')),\r\n              t.text.parentNode && t.text.parentNode.replaceChild(t.node, t.text),\r\n              t.node.appendChild(t.text),\r\n              s && a < 8 && (t.node.style.zIndex = 2)),\r\n            t.node\r\n          )\r\n        }\r\n        function fn (t, e) {\r\n          var n = t.display.externalMeasured\r\n          return n && n.line == e.line\r\n            ? ((t.display.externalMeasured = null), (e.measure = n.measure), n.built)\r\n            : Ze(t, e)\r\n        }\r\n        function pn (t, e) {\r\n          var n = e.text.className,\r\n            i = fn(t, e)\r\n          e.text == e.node && (e.node = i.pre),\r\n            e.text.parentNode.replaceChild(i.pre, e.text),\r\n            (e.text = i.pre),\r\n            i.bgClass != e.bgClass || i.textClass != e.textClass\r\n              ? ((e.bgClass = i.bgClass), (e.textClass = i.textClass), gn(t, e))\r\n              : n && (e.text.className = n)\r\n        }\r\n        function gn (t, e) {\r\n          !(function (t, e) {\r\n            var n = e.bgClass ? e.bgClass + ' ' + (e.line.bgClass || '') : e.line.bgClass\r\n            if ((n && (n += ' CodeMirror-linebackground'), e.background))\r\n              n\r\n                ? (e.background.className = n)\r\n                : (e.background.parentNode.removeChild(e.background), (e.background = null))\r\n            else if (n) {\r\n              var i = dn(e)\r\n              ;(e.background = i.insertBefore(O('div', null, n), i.firstChild)),\r\n                t.display.input.setUneditable(e.background)\r\n            }\r\n          })(t, e),\r\n            e.line.wrapClass ? (dn(e).className = e.line.wrapClass) : e.node != e.text && (e.node.className = '')\r\n          var n = e.textClass ? e.textClass + ' ' + (e.line.textClass || '') : e.line.textClass\r\n          e.text.className = n || ''\r\n        }\r\n        function vn (t, e, n, i) {\r\n          if (\r\n            (e.gutter && (e.node.removeChild(e.gutter), (e.gutter = null)),\r\n            e.gutterBackground && (e.node.removeChild(e.gutterBackground), (e.gutterBackground = null)),\r\n            e.line.gutterClass)\r\n          ) {\r\n            var r = dn(e)\r\n            ;(e.gutterBackground = O(\r\n              'div',\r\n              null,\r\n              'CodeMirror-gutter-background ' + e.line.gutterClass,\r\n              'left: ' +\r\n                (t.options.fixedGutter ? i.fixedPos : -i.gutterTotalWidth) +\r\n                'px; width: ' +\r\n                i.gutterTotalWidth +\r\n                'px'\r\n            )),\r\n              t.display.input.setUneditable(e.gutterBackground),\r\n              r.insertBefore(e.gutterBackground, e.text)\r\n          }\r\n          var o = e.line.gutterMarkers\r\n          if (t.options.lineNumbers || o) {\r\n            var s = dn(e),\r\n              a = (e.gutter = O(\r\n                'div',\r\n                null,\r\n                'CodeMirror-gutter-wrapper',\r\n                'left: ' + (t.options.fixedGutter ? i.fixedPos : -i.gutterTotalWidth) + 'px'\r\n              ))\r\n            if (\r\n              (t.display.input.setUneditable(a),\r\n              s.insertBefore(a, e.text),\r\n              e.line.gutterClass && (a.className += ' ' + e.line.gutterClass),\r\n              !t.options.lineNumbers ||\r\n                (o && o['CodeMirror-linenumbers']) ||\r\n                (e.lineNumber = a.appendChild(\r\n                  O(\r\n                    'div',\r\n                    gt(t.options, n),\r\n                    'CodeMirror-linenumber CodeMirror-gutter-elt',\r\n                    'left: ' +\r\n                      i.gutterLeft['CodeMirror-linenumbers'] +\r\n                      'px; width: ' +\r\n                      t.display.lineNumInnerWidth +\r\n                      'px'\r\n                  )\r\n                )),\r\n              o)\r\n            )\r\n              for (var l = 0; l < t.options.gutters.length; ++l) {\r\n                var c = t.options.gutters[l],\r\n                  u = o.hasOwnProperty(c) && o[c]\r\n                u &&\r\n                  a.appendChild(\r\n                    O(\r\n                      'div',\r\n                      [u],\r\n                      'CodeMirror-gutter-elt',\r\n                      'left: ' + i.gutterLeft[c] + 'px; width: ' + i.gutterWidth[c] + 'px'\r\n                    )\r\n                  )\r\n              }\r\n          }\r\n        }\r\n        function mn (t, e, n) {\r\n          e.alignable && (e.alignable = null)\r\n          for (var i = e.node.firstChild, r = void 0; i; i = r)\r\n            (r = i.nextSibling), 'CodeMirror-linewidget' == i.className && e.node.removeChild(i)\r\n          bn(t, e, n)\r\n        }\r\n        function yn (t, e, n, i) {\r\n          var r = fn(t, e)\r\n          return (\r\n            (e.text = e.node = r.pre),\r\n            r.bgClass && (e.bgClass = r.bgClass),\r\n            r.textClass && (e.textClass = r.textClass),\r\n            gn(t, e),\r\n            vn(t, e, n, i),\r\n            bn(t, e, i),\r\n            e.node\r\n          )\r\n        }\r\n        function bn (t, e, n) {\r\n          if ((xn(t, e.line, e, n, !0), e.rest)) for (var i = 0; i < e.rest.length; i++) xn(t, e.rest[i], e, n, !1)\r\n        }\r\n        function xn (t, e, n, i, r) {\r\n          if (e.widgets)\r\n            for (var o = dn(n), s = 0, a = e.widgets; s < a.length; ++s) {\r\n              var l = a[s],\r\n                c = O('div', [l.node], 'CodeMirror-linewidget')\r\n              l.handleMouseEvents || c.setAttribute('cm-ignore-events', 'true'),\r\n                wn(l, c, n, i),\r\n                t.display.input.setUneditable(c),\r\n                r && l.above ? o.insertBefore(c, n.gutter || n.text) : o.appendChild(c),\r\n                cn(l, 'redraw')\r\n            }\r\n        }\r\n        function wn (t, e, n, i) {\r\n          if (t.noHScroll) {\r\n            ;(n.alignable || (n.alignable = [])).push(e)\r\n            var r = i.wrapperWidth\r\n            ;(e.style.left = i.fixedPos + 'px'),\r\n              t.coverGutter || ((r -= i.gutterTotalWidth), (e.style.paddingLeft = i.gutterTotalWidth + 'px')),\r\n              (e.style.width = r + 'px')\r\n          }\r\n          t.coverGutter &&\r\n            ((e.style.zIndex = 5),\r\n            (e.style.position = 'relative'),\r\n            t.noHScroll || (e.style.marginLeft = -i.gutterTotalWidth + 'px'))\r\n        }\r\n        function Cn (t) {\r\n          if (null != t.height) return t.height\r\n          var e = t.doc.cm\r\n          if (!e) return 0\r\n          if (!L(document.body, t.node)) {\r\n            var n = 'position: relative;'\r\n            t.coverGutter && (n += 'margin-left: -' + e.display.gutters.offsetWidth + 'px;'),\r\n              t.noHScroll && (n += 'width: ' + e.display.wrapper.clientWidth + 'px;'),\r\n              A(e.display.measure, O('div', [t.node], null, n))\r\n          }\r\n          return (t.height = t.node.parentNode.offsetHeight)\r\n        }\r\n        function kn (t, e) {\r\n          for (var n = fe(e); n != t.wrapper; n = n.parentNode)\r\n            if (\r\n              !n ||\r\n              (1 == n.nodeType && 'true' == n.getAttribute('cm-ignore-events')) ||\r\n              (n.parentNode == t.sizer && n != t.mover)\r\n            )\r\n              return !0\r\n        }\r\n        function Sn (t) {\r\n          return t.lineSpace.offsetTop\r\n        }\r\n        function Tn (t) {\r\n          return t.mover.offsetHeight - t.lineSpace.offsetHeight\r\n        }\r\n        function En (t) {\r\n          if (t.cachedPaddingH) return t.cachedPaddingH\r\n          var e = A(t.measure, O('pre', 'x')),\r\n            n = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle,\r\n            i = { left: parseInt(n.paddingLeft), right: parseInt(n.paddingRight) }\r\n          return isNaN(i.left) || isNaN(i.right) || (t.cachedPaddingH = i), i\r\n        }\r\n        function Mn (t) {\r\n          return H - t.display.nativeBarWidth\r\n        }\r\n        function An (t) {\r\n          return t.display.scroller.clientWidth - Mn(t) - t.display.barWidth\r\n        }\r\n        function On (t) {\r\n          return t.display.scroller.clientHeight - Mn(t) - t.display.barHeight\r\n        }\r\n        function Pn (t, e, n) {\r\n          if (t.line == e) return { map: t.measure.map, cache: t.measure.cache }\r\n          for (var i = 0; i < t.rest.length; i++)\r\n            if (t.rest[i] == e) return { map: t.measure.maps[i], cache: t.measure.caches[i] }\r\n          for (var r = 0; r < t.rest.length; r++)\r\n            if (dt(t.rest[r]) > n) return { map: t.measure.maps[r], cache: t.measure.caches[r], before: !0 }\r\n        }\r\n        function Ln (t, e, n, i) {\r\n          return Dn(t, Nn(t, e), n, i)\r\n        }\r\n        function _n (t, e) {\r\n          if (e >= t.display.viewFrom && e < t.display.viewTo) return t.display.view[ci(t, e)]\r\n          var n = t.display.externalMeasured\r\n          return n && e >= n.lineN && e < n.lineN + n.size ? n : void 0\r\n        }\r\n        function Nn (t, e) {\r\n          var n = dt(e),\r\n            i = _n(t, n)\r\n          i && !i.text ? (i = null) : i && i.changes && (hn(t, i, n, ri(t)), (t.curOp.forceUpdate = !0)),\r\n            i ||\r\n              (i = (function (t, e) {\r\n                var n = dt((e = $t(e))),\r\n                  i = (t.display.externalMeasured = new on(t.doc, e, n))\r\n                i.lineN = n\r\n                var r = (i.built = Ze(t, i))\r\n                return (i.text = r.pre), A(t.display.lineMeasure, r.pre), i\r\n              })(t, e))\r\n          var r = Pn(i, e, n)\r\n          return { line: e, view: i, rect: null, map: r.map, cache: r.cache, before: r.before, hasHeights: !1 }\r\n        }\r\n        function Dn (t, e, n, i, r) {\r\n          e.before && (n = -1)\r\n          var o,\r\n            l = n + (i || '')\r\n          return (\r\n            e.cache.hasOwnProperty(l)\r\n              ? (o = e.cache[l])\r\n              : (e.rect || (e.rect = e.view.text.getBoundingClientRect()),\r\n                e.hasHeights ||\r\n                  ((function (t, e, n) {\r\n                    var i = t.options.lineWrapping,\r\n                      r = i && An(t)\r\n                    if (!e.measure.heights || (i && e.measure.width != r)) {\r\n                      var o = (e.measure.heights = [])\r\n                      if (i) {\r\n                        e.measure.width = r\r\n                        for (var s = e.text.firstChild.getClientRects(), a = 0; a < s.length - 1; a++) {\r\n                          var l = s[a],\r\n                            c = s[a + 1]\r\n                          Math.abs(l.bottom - c.bottom) > 2 && o.push((l.bottom + c.top) / 2 - n.top)\r\n                        }\r\n                      }\r\n                      o.push(n.bottom - n.top)\r\n                    }\r\n                  })(t, e.view, e.rect),\r\n                  (e.hasHeights = !0)),\r\n                (o = (function (t, e, n, i) {\r\n                  var r,\r\n                    o = jn(e.map, n, i),\r\n                    l = o.node,\r\n                    c = o.start,\r\n                    u = o.end,\r\n                    h = o.collapse\r\n                  if (3 == l.nodeType) {\r\n                    for (var d = 0; d < 4; d++) {\r\n                      for (; c && rt(e.line.text.charAt(o.coverStart + c)); ) --c\r\n                      for (; o.coverStart + u < o.coverEnd && rt(e.line.text.charAt(o.coverStart + u)); ) ++u\r\n                      if (\r\n                        (r =\r\n                          s && a < 9 && 0 == c && u == o.coverEnd - o.coverStart\r\n                            ? l.parentNode.getBoundingClientRect()\r\n                            : Rn(T(l, c, u).getClientRects(), i)).left ||\r\n                        r.right ||\r\n                        0 == c\r\n                      )\r\n                        break\r\n                      ;(u = c), (c -= 1), (h = 'right')\r\n                    }\r\n                    s &&\r\n                      a < 11 &&\r\n                      (r = (function (t, e) {\r\n                        if (\r\n                          !window.screen ||\r\n                          null == screen.logicalXDPI ||\r\n                          screen.logicalXDPI == screen.deviceXDPI ||\r\n                          !(function (t) {\r\n                            if (null != Se) return Se\r\n                            var e = A(t, O('span', 'x')),\r\n                              n = e.getBoundingClientRect(),\r\n                              i = T(e, 0, 1).getBoundingClientRect()\r\n                            return (Se = Math.abs(n.left - i.left) > 1)\r\n                          })(t)\r\n                        )\r\n                          return e\r\n                        var n = screen.logicalXDPI / screen.deviceXDPI,\r\n                          i = screen.logicalYDPI / screen.deviceYDPI\r\n                        return { left: e.left * n, right: e.right * n, top: e.top * i, bottom: e.bottom * i }\r\n                      })(t.display.measure, r))\r\n                  } else {\r\n                    var f\r\n                    c > 0 && (h = i = 'right'),\r\n                      (r =\r\n                        t.options.lineWrapping && (f = l.getClientRects()).length > 1\r\n                          ? f['right' == i ? f.length - 1 : 0]\r\n                          : l.getBoundingClientRect())\r\n                  }\r\n                  if (s && a < 9 && !c && (!r || (!r.left && !r.right))) {\r\n                    var p = l.parentNode.getClientRects()[0]\r\n                    r = p ? { left: p.left, right: p.left + ii(t.display), top: p.top, bottom: p.bottom } : Fn\r\n                  }\r\n                  for (\r\n                    var g = r.top - e.rect.top,\r\n                      v = r.bottom - e.rect.top,\r\n                      m = (g + v) / 2,\r\n                      y = e.view.measure.heights,\r\n                      b = 0;\r\n                    b < y.length - 1 && !(m < y[b]);\r\n                    b++\r\n                  );\r\n                  var x = b ? y[b - 1] : 0,\r\n                    w = y[b],\r\n                    C = {\r\n                      left: ('right' == h ? r.right : r.left) - e.rect.left,\r\n                      right: ('left' == h ? r.left : r.right) - e.rect.left,\r\n                      top: x,\r\n                      bottom: w\r\n                    }\r\n                  return (\r\n                    r.left || r.right || (C.bogus = !0),\r\n                    t.options.singleCursorHeightPerLine || ((C.rtop = g), (C.rbottom = v)),\r\n                    C\r\n                  )\r\n                })(t, e, n, i)).bogus || (e.cache[l] = o)),\r\n            { left: o.left, right: o.right, top: r ? o.rtop : o.top, bottom: r ? o.rbottom : o.bottom }\r\n          )\r\n        }\r\n        var In,\r\n          Fn = { left: 0, right: 0, top: 0, bottom: 0 }\r\n        function jn (t, e, n) {\r\n          for (var i, r, o, s, a, l, c = 0; c < t.length; c += 3)\r\n            if (\r\n              ((a = t[c]),\r\n              (l = t[c + 1]),\r\n              e < a\r\n                ? ((r = 0), (o = 1), (s = 'left'))\r\n                : e < l\r\n                ? (o = 1 + (r = e - a))\r\n                : (c == t.length - 3 || (e == l && t[c + 3] > e)) && ((r = (o = l - a) - 1), e >= l && (s = 'right')),\r\n              null != r)\r\n            ) {\r\n              if (((i = t[c + 2]), a == l && n == (i.insertLeft ? 'left' : 'right') && (s = n), 'left' == n && 0 == r))\r\n                for (; c && t[c - 2] == t[c - 3] && t[c - 1].insertLeft; ) (i = t[2 + (c -= 3)]), (s = 'left')\r\n              if ('right' == n && r == l - a)\r\n                for (; c < t.length - 3 && t[c + 3] == t[c + 4] && !t[c + 5].insertLeft; )\r\n                  (i = t[(c += 3) + 2]), (s = 'right')\r\n              break\r\n            }\r\n          return { node: i, start: r, end: o, collapse: s, coverStart: a, coverEnd: l }\r\n        }\r\n        function Rn (t, e) {\r\n          var n = Fn\r\n          if ('left' == e) for (var i = 0; i < t.length && (n = t[i]).left == n.right; i++);\r\n          else for (var r = t.length - 1; r >= 0 && (n = t[r]).left == n.right; r--);\r\n          return n\r\n        }\r\n        function zn (t) {\r\n          if (t.measure && ((t.measure.cache = {}), (t.measure.heights = null), t.rest))\r\n            for (var e = 0; e < t.rest.length; e++) t.measure.caches[e] = {}\r\n        }\r\n        function Vn (t) {\r\n          ;(t.display.externalMeasure = null), M(t.display.lineMeasure)\r\n          for (var e = 0; e < t.display.view.length; e++) zn(t.display.view[e])\r\n        }\r\n        function Hn (t) {\r\n          Vn(t),\r\n            (t.display.cachedCharWidth = t.display.cachedTextHeight = t.display.cachedPaddingH = null),\r\n            t.options.lineWrapping || (t.display.maxLineChanged = !0),\r\n            (t.display.lineNumChars = null)\r\n        }\r\n        function $n () {\r\n          return u && v\r\n            ? -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft))\r\n            : window.pageXOffset || (document.documentElement || document.body).scrollLeft\r\n        }\r\n        function Bn () {\r\n          return u && v\r\n            ? -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop))\r\n            : window.pageYOffset || (document.documentElement || document.body).scrollTop\r\n        }\r\n        function Wn (t) {\r\n          var e = 0\r\n          if (t.widgets) for (var n = 0; n < t.widgets.length; ++n) t.widgets[n].above && (e += Cn(t.widgets[n]))\r\n          return e\r\n        }\r\n        function Un (t, e, n, i, r) {\r\n          if (!r) {\r\n            var o = Wn(e)\r\n            ;(n.top += o), (n.bottom += o)\r\n          }\r\n          if ('line' == i) return n\r\n          i || (i = 'local')\r\n          var s = Kt(e)\r\n          if (('local' == i ? (s += Sn(t.display)) : (s -= t.display.viewOffset), 'page' == i || 'window' == i)) {\r\n            var a = t.display.lineSpace.getBoundingClientRect()\r\n            s += a.top + ('window' == i ? 0 : Bn())\r\n            var l = a.left + ('window' == i ? 0 : $n())\r\n            ;(n.left += l), (n.right += l)\r\n          }\r\n          return (n.top += s), (n.bottom += s), n\r\n        }\r\n        function qn (t, e, n) {\r\n          if ('div' == n) return e\r\n          var i = e.left,\r\n            r = e.top\r\n          if ('page' == n) (i -= $n()), (r -= Bn())\r\n          else if ('local' == n || !n) {\r\n            var o = t.display.sizer.getBoundingClientRect()\r\n            ;(i += o.left), (r += o.top)\r\n          }\r\n          var s = t.display.lineSpace.getBoundingClientRect()\r\n          return { left: i - s.left, top: r - s.top }\r\n        }\r\n        function Kn (t, e, n, i, r) {\r\n          return i || (i = lt(t.doc, e.line)), Un(t, i, Ln(t, i, e.ch, r), n)\r\n        }\r\n        function Yn (t, e, n, i, r, o) {\r\n          function s (e, s) {\r\n            var a = Dn(t, r, e, s ? 'right' : 'left', o)\r\n            return s ? (a.left = a.right) : (a.right = a.left), Un(t, i, a, n)\r\n          }\r\n          ;(i = i || lt(t.doc, e.line)), r || (r = Nn(t, i))\r\n          var a = Qt(i, t.doc.direction),\r\n            l = e.ch,\r\n            c = e.sticky\r\n          if ((l >= i.text.length ? ((l = i.text.length), (c = 'before')) : l <= 0 && ((l = 0), (c = 'after')), !a))\r\n            return s('before' == c ? l - 1 : l, 'before' == c)\r\n          function u (t, e, n) {\r\n            var i = a[e],\r\n              r = 1 == i.level\r\n            return s(n ? t - 1 : t, r != n)\r\n          }\r\n          var h = Jt(a, l, c),\r\n            d = Xt,\r\n            f = u(l, h, 'before' == c)\r\n          return null != d && (f.other = u(l, d, 'before' != c)), f\r\n        }\r\n        function Gn (t, e) {\r\n          var n = 0\r\n          ;(e = kt(t.doc, e)), t.options.lineWrapping || (n = ii(t.display) * e.ch)\r\n          var i = lt(t.doc, e.line),\r\n            r = Kt(i) + Sn(t.display)\r\n          return { left: n, right: n, top: r, bottom: r + i.height }\r\n        }\r\n        function Xn (t, e, n, i, r) {\r\n          var o = vt(t, e, n)\r\n          return (o.xRel = r), i && (o.outside = !0), o\r\n        }\r\n        function Jn (t, e, n) {\r\n          var i = t.doc\r\n          if ((n += t.display.viewOffset) < 0) return Xn(i.first, 0, null, !0, -1)\r\n          var r = ft(i, n),\r\n            o = i.first + i.size - 1\r\n          if (r > o) return Xn(i.first + i.size - 1, lt(i, o).text.length, null, !0, 1)\r\n          e < 0 && (e = 0)\r\n          for (var s = lt(i, r); ; ) {\r\n            var a = ei(t, s, r, e, n),\r\n              l = Vt(s, a.ch + (a.xRel > 0 ? 1 : 0))\r\n            if (!l) return a\r\n            var c = l.find(1)\r\n            if (c.line == r) return c\r\n            s = lt(i, (r = c.line))\r\n          }\r\n        }\r\n        function Zn (t, e, n, i) {\r\n          i -= Wn(e)\r\n          var r = e.text.length,\r\n            o = st(\r\n              function (e) {\r\n                return Dn(t, n, e - 1).bottom <= i\r\n              },\r\n              r,\r\n              0\r\n            )\r\n          return (\r\n            (r = st(\r\n              function (e) {\r\n                return Dn(t, n, e).top > i\r\n              },\r\n              o,\r\n              r\r\n            )),\r\n            { begin: o, end: r }\r\n          )\r\n        }\r\n        function Qn (t, e, n, i) {\r\n          n || (n = Nn(t, e))\r\n          var r = Un(t, e, Dn(t, n, i), 'line').top\r\n          return Zn(t, e, n, r)\r\n        }\r\n        function ti (t, e, n, i) {\r\n          return !(t.bottom <= n) && (t.top > n || (i ? t.left : t.right) > e)\r\n        }\r\n        function ei (t, e, n, i, r) {\r\n          r -= Kt(e)\r\n          var o = Nn(t, e),\r\n            s = Wn(e),\r\n            a = 0,\r\n            l = e.text.length,\r\n            c = !0,\r\n            u = Qt(e, t.doc.direction)\r\n          if (u) {\r\n            var h = (t.options.lineWrapping\r\n              ? function (t, e, n, i, r, o, s) {\r\n                  var a = Zn(t, e, i, s),\r\n                    l = a.begin,\r\n                    c = a.end\r\n                  ;/\\s/.test(e.text.charAt(c - 1)) && c--\r\n                  for (var u = null, h = null, d = 0; d < r.length; d++) {\r\n                    var f = r[d]\r\n                    if (!(f.from >= c || f.to <= l)) {\r\n                      var p = 1 != f.level,\r\n                        g = Dn(t, i, p ? Math.min(c, f.to) - 1 : Math.max(l, f.from)).right,\r\n                        v = g < o ? o - g + 1e9 : g - o\r\n                      ;(!u || h > v) && ((u = f), (h = v))\r\n                    }\r\n                  }\r\n                  return (\r\n                    u || (u = r[r.length - 1]),\r\n                    u.from < l && (u = { from: l, to: u.to, level: u.level }),\r\n                    u.to > c && (u = { from: u.from, to: c, level: u.level }),\r\n                    u\r\n                  )\r\n                }\r\n              : function (t, e, n, i, r, o, s) {\r\n                  var a = st(\r\n                      function (a) {\r\n                        var l = r[a],\r\n                          c = 1 != l.level\r\n                        return ti(Yn(t, vt(n, c ? l.to : l.from, c ? 'before' : 'after'), 'line', e, i), o, s, !0)\r\n                      },\r\n                      0,\r\n                      r.length - 1\r\n                    ),\r\n                    l = r[a]\r\n                  if (a > 0) {\r\n                    var c = 1 != l.level,\r\n                      u = Yn(t, vt(n, c ? l.from : l.to, c ? 'after' : 'before'), 'line', e, i)\r\n                    ti(u, o, s, !0) && u.top > s && (l = r[a - 1])\r\n                  }\r\n                  return l\r\n                })(t, e, n, o, u, i, r)\r\n            ;(c = 1 != h.level), (a = c ? h.from : h.to - 1), (l = c ? h.to : h.from - 1)\r\n          }\r\n          var d,\r\n            f,\r\n            p = null,\r\n            g = null,\r\n            v = st(\r\n              function (e) {\r\n                var n = Dn(t, o, e)\r\n                return (\r\n                  (n.top += s),\r\n                  (n.bottom += s),\r\n                  !!ti(n, i, r, !1) && (n.top <= r && n.left <= i && ((p = e), (g = n)), !0)\r\n                )\r\n              },\r\n              a,\r\n              l\r\n            ),\r\n            m = !1\r\n          if (g) {\r\n            var y = i - g.left < g.right - i,\r\n              b = y == c\r\n            ;(v = p + (b ? 0 : 1)), (f = b ? 'after' : 'before'), (d = y ? g.left : g.right)\r\n          } else {\r\n            c || (v != l && v != a) || v++,\r\n              (f =\r\n                0 == v\r\n                  ? 'after'\r\n                  : v == e.text.length\r\n                  ? 'before'\r\n                  : Dn(t, o, v - (c ? 1 : 0)).bottom + s <= r == c\r\n                  ? 'after'\r\n                  : 'before')\r\n            var x = Yn(t, vt(n, v, f), 'line', e, o)\r\n            ;(d = x.left), (m = r < x.top || r >= x.bottom)\r\n          }\r\n          return (v = ot(e.text, v, 1)), Xn(n, v, f, m, i - d)\r\n        }\r\n        function ni (t) {\r\n          if (null != t.cachedTextHeight) return t.cachedTextHeight\r\n          if (null == In) {\r\n            In = O('pre')\r\n            for (var e = 0; e < 49; ++e) In.appendChild(document.createTextNode('x')), In.appendChild(O('br'))\r\n            In.appendChild(document.createTextNode('x'))\r\n          }\r\n          A(t.measure, In)\r\n          var n = In.offsetHeight / 50\r\n          return n > 3 && (t.cachedTextHeight = n), M(t.measure), n || 1\r\n        }\r\n        function ii (t) {\r\n          if (null != t.cachedCharWidth) return t.cachedCharWidth\r\n          var e = O('span', 'xxxxxxxxxx'),\r\n            n = O('pre', [e])\r\n          A(t.measure, n)\r\n          var i = e.getBoundingClientRect(),\r\n            r = (i.right - i.left) / 10\r\n          return r > 2 && (t.cachedCharWidth = r), r || 10\r\n        }\r\n        function ri (t) {\r\n          for (\r\n            var e = t.display, n = {}, i = {}, r = e.gutters.clientLeft, o = e.gutters.firstChild, s = 0;\r\n            o;\r\n            o = o.nextSibling, ++s\r\n          )\r\n            (n[t.options.gutters[s]] = o.offsetLeft + o.clientLeft + r), (i[t.options.gutters[s]] = o.clientWidth)\r\n          return {\r\n            fixedPos: oi(e),\r\n            gutterTotalWidth: e.gutters.offsetWidth,\r\n            gutterLeft: n,\r\n            gutterWidth: i,\r\n            wrapperWidth: e.wrapper.clientWidth\r\n          }\r\n        }\r\n        function oi (t) {\r\n          return t.scroller.getBoundingClientRect().left - t.sizer.getBoundingClientRect().left\r\n        }\r\n        function si (t) {\r\n          var e = ni(t.display),\r\n            n = t.options.lineWrapping,\r\n            i = n && Math.max(5, t.display.scroller.clientWidth / ii(t.display) - 3)\r\n          return function (r) {\r\n            if (Ut(t.doc, r)) return 0\r\n            var o = 0\r\n            if (r.widgets) for (var s = 0; s < r.widgets.length; s++) r.widgets[s].height && (o += r.widgets[s].height)\r\n            return n ? o + (Math.ceil(r.text.length / i) || 1) * e : o + e\r\n          }\r\n        }\r\n        function ai (t) {\r\n          var e = t.doc,\r\n            n = si(t)\r\n          e.iter(function (t) {\r\n            var e = n(t)\r\n            e != t.height && ht(t, e)\r\n          })\r\n        }\r\n        function li (t, e, n, i) {\r\n          var r = t.display\r\n          if (!n && 'true' == fe(e).getAttribute('cm-not-content')) return null\r\n          var o,\r\n            s,\r\n            a = r.lineSpace.getBoundingClientRect()\r\n          try {\r\n            ;(o = e.clientX - a.left), (s = e.clientY - a.top)\r\n          } catch (e) {\r\n            return null\r\n          }\r\n          var l,\r\n            c = Jn(t, o, s)\r\n          if (i && 1 == c.xRel && (l = lt(t.doc, c.line).text).length == c.ch) {\r\n            var u = R(l, l.length, t.options.tabSize) - l.length\r\n            c = vt(c.line, Math.max(0, Math.round((o - En(t.display).left) / ii(t.display)) - u))\r\n          }\r\n          return c\r\n        }\r\n        function ci (t, e) {\r\n          if (e >= t.display.viewTo) return null\r\n          if ((e -= t.display.viewFrom) < 0) return null\r\n          for (var n = t.display.view, i = 0; i < n.length; i++) if ((e -= n[i].size) < 0) return i\r\n        }\r\n        function ui (t) {\r\n          t.display.input.showSelection(t.display.input.prepareSelection())\r\n        }\r\n        function hi (t, e) {\r\n          void 0 === e && (e = !0)\r\n          for (\r\n            var n = t.doc,\r\n              i = {},\r\n              r = (i.cursors = document.createDocumentFragment()),\r\n              o = (i.selection = document.createDocumentFragment()),\r\n              s = 0;\r\n            s < n.sel.ranges.length;\r\n            s++\r\n          )\r\n            if (e || s != n.sel.primIndex) {\r\n              var a = n.sel.ranges[s]\r\n              if (!(a.from().line >= t.display.viewTo || a.to().line < t.display.viewFrom)) {\r\n                var l = a.empty()\r\n                ;(l || t.options.showCursorWhenSelecting) && di(t, a.head, r), l || pi(t, a, o)\r\n              }\r\n            }\r\n          return i\r\n        }\r\n        function di (t, e, n) {\r\n          var i = Yn(t, e, 'div', null, null, !t.options.singleCursorHeightPerLine),\r\n            r = n.appendChild(O('div', '', 'CodeMirror-cursor'))\r\n          if (\r\n            ((r.style.left = i.left + 'px'),\r\n            (r.style.top = i.top + 'px'),\r\n            (r.style.height = Math.max(0, i.bottom - i.top) * t.options.cursorHeight + 'px'),\r\n            i.other)\r\n          ) {\r\n            var o = n.appendChild(O('div', '', 'CodeMirror-cursor CodeMirror-secondarycursor'))\r\n            ;(o.style.display = ''),\r\n              (o.style.left = i.other.left + 'px'),\r\n              (o.style.top = i.other.top + 'px'),\r\n              (o.style.height = 0.85 * (i.other.bottom - i.other.top) + 'px')\r\n          }\r\n        }\r\n        function fi (t, e) {\r\n          return t.top - e.top || t.left - e.left\r\n        }\r\n        function pi (t, e, n) {\r\n          var i = t.display,\r\n            r = t.doc,\r\n            o = document.createDocumentFragment(),\r\n            s = En(t.display),\r\n            a = s.left,\r\n            l = Math.max(i.sizerWidth, An(t) - i.sizer.offsetLeft) - s.right,\r\n            c = 'ltr' == r.direction\r\n          function u (t, e, n, i) {\r\n            e < 0 && (e = 0),\r\n              (e = Math.round(e)),\r\n              (i = Math.round(i)),\r\n              o.appendChild(\r\n                O(\r\n                  'div',\r\n                  null,\r\n                  'CodeMirror-selected',\r\n                  'position: absolute; left: ' +\r\n                    t +\r\n                    'px;\\n                             top: ' +\r\n                    e +\r\n                    'px; width: ' +\r\n                    (null == n ? l - t : n) +\r\n                    'px;\\n                             height: ' +\r\n                    (i - e) +\r\n                    'px'\r\n                )\r\n              )\r\n          }\r\n          function h (e, n, i) {\r\n            var o,\r\n              s,\r\n              h = lt(r, e),\r\n              d = h.text.length\r\n            function f (n, i) {\r\n              return Kn(t, vt(e, n), 'div', h, i)\r\n            }\r\n            function p (e, n, i) {\r\n              var r = Qn(t, h, null, e),\r\n                o = ('ltr' == n) == ('after' == i) ? 'left' : 'right',\r\n                s = 'after' == i ? r.begin : r.end - (/\\s/.test(h.text.charAt(r.end - 1)) ? 2 : 1)\r\n              return f(s, o)[o]\r\n            }\r\n            var g = Qt(h, r.direction)\r\n            return (\r\n              (function (t, e, n, i) {\r\n                if (!t) return i(e, n, 'ltr', 0)\r\n                for (var r = !1, o = 0; o < t.length; ++o) {\r\n                  var s = t[o]\r\n                  ;((s.from < n && s.to > e) || (e == n && s.to == e)) &&\r\n                    (i(Math.max(s.from, e), Math.min(s.to, n), 1 == s.level ? 'rtl' : 'ltr', o), (r = !0))\r\n                }\r\n                r || i(e, n, 'ltr')\r\n              })(g, n || 0, null == i ? d : i, function (t, e, r, h) {\r\n                var v = 'ltr' == r,\r\n                  m = f(t, v ? 'left' : 'right'),\r\n                  y = f(e - 1, v ? 'right' : 'left'),\r\n                  b = null == n && 0 == t,\r\n                  x = null == i && e == d,\r\n                  w = 0 == h,\r\n                  C = !g || h == g.length - 1\r\n                if (y.top - m.top <= 3) {\r\n                  var k = (c ? b : x) && w,\r\n                    S = (c ? x : b) && C,\r\n                    T = k ? a : (v ? m : y).left,\r\n                    E = S ? l : (v ? y : m).right\r\n                  u(T, m.top, E - T, m.bottom)\r\n                } else {\r\n                  var M, A, O, P\r\n                  v\r\n                    ? ((M = c && b && w ? a : m.left),\r\n                      (A = c ? l : p(t, r, 'before')),\r\n                      (O = c ? a : p(e, r, 'after')),\r\n                      (P = c && x && C ? l : y.right))\r\n                    : ((M = c ? p(t, r, 'before') : a),\r\n                      (A = !c && b && w ? l : m.right),\r\n                      (O = !c && x && C ? a : y.left),\r\n                      (P = c ? p(e, r, 'after') : l)),\r\n                    u(M, m.top, A - M, m.bottom),\r\n                    m.bottom < y.top && u(a, m.bottom, null, y.top),\r\n                    u(O, y.top, P - O, y.bottom)\r\n                }\r\n                ;(!o || fi(m, o) < 0) && (o = m),\r\n                  fi(y, o) < 0 && (o = y),\r\n                  (!s || fi(m, s) < 0) && (s = m),\r\n                  fi(y, s) < 0 && (s = y)\r\n              }),\r\n              { start: o, end: s }\r\n            )\r\n          }\r\n          var d = e.from(),\r\n            f = e.to()\r\n          if (d.line == f.line) h(d.line, d.ch, f.ch)\r\n          else {\r\n            var p = lt(r, d.line),\r\n              g = lt(r, f.line),\r\n              v = $t(p) == $t(g),\r\n              m = h(d.line, d.ch, v ? p.text.length + 1 : null).end,\r\n              y = h(f.line, v ? 0 : null, f.ch).start\r\n            v &&\r\n              (m.top < y.top - 2\r\n                ? (u(m.right, m.top, null, m.bottom), u(a, y.top, y.left, y.bottom))\r\n                : u(m.right, m.top, y.left - m.right, m.bottom)),\r\n              m.bottom < y.top && u(a, m.bottom, null, y.top)\r\n          }\r\n          n.appendChild(o)\r\n        }\r\n        function gi (t) {\r\n          if (t.state.focused) {\r\n            var e = t.display\r\n            clearInterval(e.blinker)\r\n            var n = !0\r\n            ;(e.cursorDiv.style.visibility = ''),\r\n              t.options.cursorBlinkRate > 0\r\n                ? (e.blinker = setInterval(function () {\r\n                    return (e.cursorDiv.style.visibility = (n = !n) ? '' : 'hidden')\r\n                  }, t.options.cursorBlinkRate))\r\n                : t.options.cursorBlinkRate < 0 && (e.cursorDiv.style.visibility = 'hidden')\r\n          }\r\n        }\r\n        function vi (t) {\r\n          t.state.focused || (t.display.input.focus(), yi(t))\r\n        }\r\n        function mi (t) {\r\n          ;(t.state.delayingBlurEvent = !0),\r\n            setTimeout(function () {\r\n              t.state.delayingBlurEvent && ((t.state.delayingBlurEvent = !1), bi(t))\r\n            }, 100)\r\n        }\r\n        function yi (t, e) {\r\n          t.state.delayingBlurEvent && (t.state.delayingBlurEvent = !1),\r\n            'nocursor' != t.options.readOnly &&\r\n              (t.state.focused ||\r\n                (re(t, 'focus', t, e),\r\n                (t.state.focused = !0),\r\n                N(t.display.wrapper, 'CodeMirror-focused'),\r\n                t.curOp ||\r\n                  t.display.selForContextMenu == t.doc.sel ||\r\n                  (t.display.input.reset(),\r\n                  l &&\r\n                    setTimeout(function () {\r\n                      return t.display.input.reset(!0)\r\n                    }, 20)),\r\n                t.display.input.receivedFocus()),\r\n              gi(t))\r\n        }\r\n        function bi (t, e) {\r\n          t.state.delayingBlurEvent ||\r\n            (t.state.focused &&\r\n              (re(t, 'blur', t, e), (t.state.focused = !1), E(t.display.wrapper, 'CodeMirror-focused')),\r\n            clearInterval(t.display.blinker),\r\n            setTimeout(function () {\r\n              t.state.focused || (t.display.shift = !1)\r\n            }, 150))\r\n        }\r\n        function xi (t) {\r\n          for (var e = t.display, n = e.lineDiv.offsetTop, i = 0; i < e.view.length; i++) {\r\n            var r = e.view[i],\r\n              o = t.options.lineWrapping,\r\n              l = void 0,\r\n              c = 0\r\n            if (!r.hidden) {\r\n              if (s && a < 8) {\r\n                var u = r.node.offsetTop + r.node.offsetHeight\r\n                ;(l = u - n), (n = u)\r\n              } else {\r\n                var h = r.node.getBoundingClientRect()\r\n                ;(l = h.bottom - h.top),\r\n                  !o && r.text.firstChild && (c = r.text.firstChild.getBoundingClientRect().right - h.left - 1)\r\n              }\r\n              var d = r.line.height - l\r\n              if ((l < 2 && (l = ni(e)), (d > 0.005 || d < -0.005) && (ht(r.line, l), wi(r.line), r.rest)))\r\n                for (var f = 0; f < r.rest.length; f++) wi(r.rest[f])\r\n              if (c > t.display.sizerWidth) {\r\n                var p = Math.ceil(c / ii(t.display))\r\n                p > t.display.maxLineLength &&\r\n                  ((t.display.maxLineLength = p), (t.display.maxLine = r.line), (t.display.maxLineChanged = !0))\r\n              }\r\n            }\r\n          }\r\n        }\r\n        function wi (t) {\r\n          if (t.widgets)\r\n            for (var e = 0; e < t.widgets.length; ++e) {\r\n              var n = t.widgets[e],\r\n                i = n.node.parentNode\r\n              i && (n.height = i.offsetHeight)\r\n            }\r\n        }\r\n        function Ci (t, e, n) {\r\n          var i = n && null != n.top ? Math.max(0, n.top) : t.scroller.scrollTop\r\n          i = Math.floor(i - Sn(t))\r\n          var r = n && null != n.bottom ? n.bottom : i + t.wrapper.clientHeight,\r\n            o = ft(e, i),\r\n            s = ft(e, r)\r\n          if (n && n.ensure) {\r\n            var a = n.ensure.from.line,\r\n              l = n.ensure.to.line\r\n            a < o\r\n              ? ((o = a), (s = ft(e, Kt(lt(e, a)) + t.wrapper.clientHeight)))\r\n              : Math.min(l, e.lastLine()) >= s && ((o = ft(e, Kt(lt(e, l)) - t.wrapper.clientHeight)), (s = l))\r\n          }\r\n          return { from: o, to: Math.max(s, o + 1) }\r\n        }\r\n        function ki (t) {\r\n          var e = t.display,\r\n            n = e.view\r\n          if (e.alignWidgets || (e.gutters.firstChild && t.options.fixedGutter)) {\r\n            for (\r\n              var i = oi(e) - e.scroller.scrollLeft + t.doc.scrollLeft, r = e.gutters.offsetWidth, o = i + 'px', s = 0;\r\n              s < n.length;\r\n              s++\r\n            )\r\n              if (!n[s].hidden) {\r\n                t.options.fixedGutter &&\r\n                  (n[s].gutter && (n[s].gutter.style.left = o),\r\n                  n[s].gutterBackground && (n[s].gutterBackground.style.left = o))\r\n                var a = n[s].alignable\r\n                if (a) for (var l = 0; l < a.length; l++) a[l].style.left = o\r\n              }\r\n            t.options.fixedGutter && (e.gutters.style.left = i + r + 'px')\r\n          }\r\n        }\r\n        function Si (t) {\r\n          if (!t.options.lineNumbers) return !1\r\n          var e = t.doc,\r\n            n = gt(t.options, e.first + e.size - 1),\r\n            i = t.display\r\n          if (n.length != i.lineNumChars) {\r\n            var r = i.measure.appendChild(O('div', [O('div', n)], 'CodeMirror-linenumber CodeMirror-gutter-elt')),\r\n              o = r.firstChild.offsetWidth,\r\n              s = r.offsetWidth - o\r\n            return (\r\n              (i.lineGutter.style.width = ''),\r\n              (i.lineNumInnerWidth = Math.max(o, i.lineGutter.offsetWidth - s) + 1),\r\n              (i.lineNumWidth = i.lineNumInnerWidth + s),\r\n              (i.lineNumChars = i.lineNumInnerWidth ? n.length : -1),\r\n              (i.lineGutter.style.width = i.lineNumWidth + 'px'),\r\n              cr(t),\r\n              !0\r\n            )\r\n          }\r\n          return !1\r\n        }\r\n        function Ti (t, e) {\r\n          var n = t.display,\r\n            i = ni(t.display)\r\n          e.top < 0 && (e.top = 0)\r\n          var r = t.curOp && null != t.curOp.scrollTop ? t.curOp.scrollTop : n.scroller.scrollTop,\r\n            o = On(t),\r\n            s = {}\r\n          e.bottom - e.top > o && (e.bottom = e.top + o)\r\n          var a = t.doc.height + Tn(n),\r\n            l = e.top < i,\r\n            c = e.bottom > a - i\r\n          if (e.top < r) s.scrollTop = l ? 0 : e.top\r\n          else if (e.bottom > r + o) {\r\n            var u = Math.min(e.top, (c ? a : e.bottom) - o)\r\n            u != r && (s.scrollTop = u)\r\n          }\r\n          var h = t.curOp && null != t.curOp.scrollLeft ? t.curOp.scrollLeft : n.scroller.scrollLeft,\r\n            d = An(t) - (t.options.fixedGutter ? n.gutters.offsetWidth : 0),\r\n            f = e.right - e.left > d\r\n          return (\r\n            f && (e.right = e.left + d),\r\n            e.left < 10\r\n              ? (s.scrollLeft = 0)\r\n              : e.left < h\r\n              ? (s.scrollLeft = Math.max(0, e.left - (f ? 0 : 10)))\r\n              : e.right > d + h - 3 && (s.scrollLeft = e.right + (f ? 0 : 10) - d),\r\n            s\r\n          )\r\n        }\r\n        function Ei (t, e) {\r\n          null != e &&\r\n            (Oi(t), (t.curOp.scrollTop = (null == t.curOp.scrollTop ? t.doc.scrollTop : t.curOp.scrollTop) + e))\r\n        }\r\n        function Mi (t) {\r\n          Oi(t)\r\n          var e = t.getCursor()\r\n          t.curOp.scrollToPos = { from: e, to: e, margin: t.options.cursorScrollMargin }\r\n        }\r\n        function Ai (t, e, n) {\r\n          ;(null == e && null == n) || Oi(t),\r\n            null != e && (t.curOp.scrollLeft = e),\r\n            null != n && (t.curOp.scrollTop = n)\r\n        }\r\n        function Oi (t) {\r\n          var e = t.curOp.scrollToPos\r\n          if (e) {\r\n            t.curOp.scrollToPos = null\r\n            var n = Gn(t, e.from),\r\n              i = Gn(t, e.to)\r\n            Pi(t, n, i, e.margin)\r\n          }\r\n        }\r\n        function Pi (t, e, n, i) {\r\n          var r = Ti(t, {\r\n            left: Math.min(e.left, n.left),\r\n            top: Math.min(e.top, n.top) - i,\r\n            right: Math.max(e.right, n.right),\r\n            bottom: Math.max(e.bottom, n.bottom) + i\r\n          })\r\n          Ai(t, r.scrollLeft, r.scrollTop)\r\n        }\r\n        function Li (t, e) {\r\n          Math.abs(t.doc.scrollTop - e) < 2 || (n || lr(t, { top: e }), _i(t, e, !0), n && lr(t), ir(t, 100))\r\n        }\r\n        function _i (t, e, n) {\r\n          ;(e = Math.min(t.display.scroller.scrollHeight - t.display.scroller.clientHeight, e)),\r\n            (t.display.scroller.scrollTop != e || n) &&\r\n              ((t.doc.scrollTop = e),\r\n              t.display.scrollbars.setScrollTop(e),\r\n              t.display.scroller.scrollTop != e && (t.display.scroller.scrollTop = e))\r\n        }\r\n        function Ni (t, e, n, i) {\r\n          ;(e = Math.min(e, t.display.scroller.scrollWidth - t.display.scroller.clientWidth)),\r\n            ((n ? e == t.doc.scrollLeft : Math.abs(t.doc.scrollLeft - e) < 2) && !i) ||\r\n              ((t.doc.scrollLeft = e),\r\n              ki(t),\r\n              t.display.scroller.scrollLeft != e && (t.display.scroller.scrollLeft = e),\r\n              t.display.scrollbars.setScrollLeft(e))\r\n        }\r\n        function Di (t) {\r\n          var e = t.display,\r\n            n = e.gutters.offsetWidth,\r\n            i = Math.round(t.doc.height + Tn(t.display))\r\n          return {\r\n            clientHeight: e.scroller.clientHeight,\r\n            viewHeight: e.wrapper.clientHeight,\r\n            scrollWidth: e.scroller.scrollWidth,\r\n            clientWidth: e.scroller.clientWidth,\r\n            viewWidth: e.wrapper.clientWidth,\r\n            barLeft: t.options.fixedGutter ? n : 0,\r\n            docHeight: i,\r\n            scrollHeight: i + Mn(t) + e.barHeight,\r\n            nativeBarWidth: e.nativeBarWidth,\r\n            gutterWidth: n\r\n          }\r\n        }\r\n        var Ii = function (t, e, n) {\r\n          this.cm = n\r\n          var i = (this.vert = O('div', [O('div', null, null, 'min-width: 1px')], 'CodeMirror-vscrollbar')),\r\n            r = (this.horiz = O(\r\n              'div',\r\n              [O('div', null, null, 'height: 100%; min-height: 1px')],\r\n              'CodeMirror-hscrollbar'\r\n            ))\r\n          ;(i.tabIndex = r.tabIndex = -1),\r\n            t(i),\r\n            t(r),\r\n            ee(i, 'scroll', function () {\r\n              i.clientHeight && e(i.scrollTop, 'vertical')\r\n            }),\r\n            ee(r, 'scroll', function () {\r\n              r.clientWidth && e(r.scrollLeft, 'horizontal')\r\n            }),\r\n            (this.checkedZeroWidth = !1),\r\n            s && a < 8 && (this.horiz.style.minHeight = this.vert.style.minWidth = '18px')\r\n        }\r\n        ;(Ii.prototype.update = function (t) {\r\n          var e = t.scrollWidth > t.clientWidth + 1,\r\n            n = t.scrollHeight > t.clientHeight + 1,\r\n            i = t.nativeBarWidth\r\n          if (n) {\r\n            ;(this.vert.style.display = 'block'), (this.vert.style.bottom = e ? i + 'px' : '0')\r\n            var r = t.viewHeight - (e ? i : 0)\r\n            this.vert.firstChild.style.height = Math.max(0, t.scrollHeight - t.clientHeight + r) + 'px'\r\n          } else (this.vert.style.display = ''), (this.vert.firstChild.style.height = '0')\r\n          if (e) {\r\n            ;(this.horiz.style.display = 'block'),\r\n              (this.horiz.style.right = n ? i + 'px' : '0'),\r\n              (this.horiz.style.left = t.barLeft + 'px')\r\n            var o = t.viewWidth - t.barLeft - (n ? i : 0)\r\n            this.horiz.firstChild.style.width = Math.max(0, t.scrollWidth - t.clientWidth + o) + 'px'\r\n          } else (this.horiz.style.display = ''), (this.horiz.firstChild.style.width = '0')\r\n          return (\r\n            !this.checkedZeroWidth &&\r\n              t.clientHeight > 0 &&\r\n              (0 == i && this.zeroWidthHack(), (this.checkedZeroWidth = !0)),\r\n            { right: n ? i : 0, bottom: e ? i : 0 }\r\n          )\r\n        }),\r\n          (Ii.prototype.setScrollLeft = function (t) {\r\n            this.horiz.scrollLeft != t && (this.horiz.scrollLeft = t),\r\n              this.disableHoriz && this.enableZeroWidthBar(this.horiz, this.disableHoriz, 'horiz')\r\n          }),\r\n          (Ii.prototype.setScrollTop = function (t) {\r\n            this.vert.scrollTop != t && (this.vert.scrollTop = t),\r\n              this.disableVert && this.enableZeroWidthBar(this.vert, this.disableVert, 'vert')\r\n          }),\r\n          (Ii.prototype.zeroWidthHack = function () {\r\n            var t = y && !f ? '12px' : '18px'\r\n            ;(this.horiz.style.height = this.vert.style.width = t),\r\n              (this.horiz.style.pointerEvents = this.vert.style.pointerEvents = 'none'),\r\n              (this.disableHoriz = new z()),\r\n              (this.disableVert = new z())\r\n          }),\r\n          (Ii.prototype.enableZeroWidthBar = function (t, e, n) {\r\n            ;(t.style.pointerEvents = 'auto'),\r\n              e.set(1e3, function i () {\r\n                var r = t.getBoundingClientRect(),\r\n                  o =\r\n                    'vert' == n\r\n                      ? document.elementFromPoint(r.right - 1, (r.top + r.bottom) / 2)\r\n                      : document.elementFromPoint((r.right + r.left) / 2, r.bottom - 1)\r\n                o != t ? (t.style.pointerEvents = 'none') : e.set(1e3, i)\r\n              })\r\n          }),\r\n          (Ii.prototype.clear = function () {\r\n            var t = this.horiz.parentNode\r\n            t.removeChild(this.horiz), t.removeChild(this.vert)\r\n          })\r\n        var Fi = function () {}\r\n        function ji (t, e) {\r\n          e || (e = Di(t))\r\n          var n = t.display.barWidth,\r\n            i = t.display.barHeight\r\n          Ri(t, e)\r\n          for (var r = 0; (r < 4 && n != t.display.barWidth) || i != t.display.barHeight; r++)\r\n            n != t.display.barWidth && t.options.lineWrapping && xi(t),\r\n              Ri(t, Di(t)),\r\n              (n = t.display.barWidth),\r\n              (i = t.display.barHeight)\r\n        }\r\n        function Ri (t, e) {\r\n          var n = t.display,\r\n            i = n.scrollbars.update(e)\r\n          ;(n.sizer.style.paddingRight = (n.barWidth = i.right) + 'px'),\r\n            (n.sizer.style.paddingBottom = (n.barHeight = i.bottom) + 'px'),\r\n            (n.heightForcer.style.borderBottom = i.bottom + 'px solid transparent'),\r\n            i.right && i.bottom\r\n              ? ((n.scrollbarFiller.style.display = 'block'),\r\n                (n.scrollbarFiller.style.height = i.bottom + 'px'),\r\n                (n.scrollbarFiller.style.width = i.right + 'px'))\r\n              : (n.scrollbarFiller.style.display = ''),\r\n            i.bottom && t.options.coverGutterNextToScrollbar && t.options.fixedGutter\r\n              ? ((n.gutterFiller.style.display = 'block'),\r\n                (n.gutterFiller.style.height = i.bottom + 'px'),\r\n                (n.gutterFiller.style.width = e.gutterWidth + 'px'))\r\n              : (n.gutterFiller.style.display = '')\r\n        }\r\n        ;(Fi.prototype.update = function () {\r\n          return { bottom: 0, right: 0 }\r\n        }),\r\n          (Fi.prototype.setScrollLeft = function () {}),\r\n          (Fi.prototype.setScrollTop = function () {}),\r\n          (Fi.prototype.clear = function () {})\r\n        var zi = { native: Ii, null: Fi }\r\n        function Vi (t) {\r\n          t.display.scrollbars &&\r\n            (t.display.scrollbars.clear(),\r\n            t.display.scrollbars.addClass && E(t.display.wrapper, t.display.scrollbars.addClass)),\r\n            (t.display.scrollbars = new zi[t.options.scrollbarStyle](\r\n              function (e) {\r\n                t.display.wrapper.insertBefore(e, t.display.scrollbarFiller),\r\n                  ee(e, 'mousedown', function () {\r\n                    t.state.focused &&\r\n                      setTimeout(function () {\r\n                        return t.display.input.focus()\r\n                      }, 0)\r\n                  }),\r\n                  e.setAttribute('cm-not-content', 'true')\r\n              },\r\n              function (e, n) {\r\n                'horizontal' == n ? Ni(t, e) : Li(t, e)\r\n              },\r\n              t\r\n            )),\r\n            t.display.scrollbars.addClass && N(t.display.wrapper, t.display.scrollbars.addClass)\r\n        }\r\n        var Hi = 0\r\n        function $i (t) {\r\n          var e\r\n          ;(t.curOp = {\r\n            cm: t,\r\n            viewChanged: !1,\r\n            startHeight: t.doc.height,\r\n            forceUpdate: !1,\r\n            updateInput: null,\r\n            typing: !1,\r\n            changeObjs: null,\r\n            cursorActivityHandlers: null,\r\n            cursorActivityCalled: 0,\r\n            selectionChanged: !1,\r\n            updateMaxLine: !1,\r\n            scrollLeft: null,\r\n            scrollTop: null,\r\n            scrollToPos: null,\r\n            focus: !1,\r\n            id: ++Hi\r\n          }),\r\n            (e = t.curOp),\r\n            an ? an.ops.push(e) : (e.ownsGroup = an = { ops: [e], delayedCallbacks: [] })\r\n        }\r\n        function Bi (t) {\r\n          var e = t.curOp\r\n          e &&\r\n            (function (t, e) {\r\n              var n = t.ownsGroup\r\n              if (n)\r\n                try {\r\n                  !(function (t) {\r\n                    var e = t.delayedCallbacks,\r\n                      n = 0\r\n                    do {\r\n                      for (; n < e.length; n++) e[n].call(null)\r\n                      for (var i = 0; i < t.ops.length; i++) {\r\n                        var r = t.ops[i]\r\n                        if (r.cursorActivityHandlers)\r\n                          for (; r.cursorActivityCalled < r.cursorActivityHandlers.length; )\r\n                            r.cursorActivityHandlers[r.cursorActivityCalled++].call(null, r.cm)\r\n                      }\r\n                    } while (n < e.length)\r\n                  })(n)\r\n                } finally {\r\n                  ;(an = null), e(n)\r\n                }\r\n            })(e, function (t) {\r\n              for (var e = 0; e < t.ops.length; e++) t.ops[e].cm.curOp = null\r\n              !(function (t) {\r\n                for (var e = t.ops, n = 0; n < e.length; n++) Wi(e[n])\r\n                for (var i = 0; i < e.length; i++) (r = e[i]).updatedDisplay = r.mustUpdate && sr(r.cm, r.update)\r\n                for (var r, o = 0; o < e.length; o++) Ui(e[o])\r\n                for (var s = 0; s < e.length; s++) qi(e[s])\r\n                for (var a = 0; a < e.length; a++) Ki(e[a])\r\n              })(t)\r\n            })\r\n        }\r\n        function Wi (t) {\r\n          var e = t.cm,\r\n            n = e.display\r\n          !(function (t) {\r\n            var e = t.display\r\n            !e.scrollbarsClipped &&\r\n              e.scroller.offsetWidth &&\r\n              ((e.nativeBarWidth = e.scroller.offsetWidth - e.scroller.clientWidth),\r\n              (e.heightForcer.style.height = Mn(t) + 'px'),\r\n              (e.sizer.style.marginBottom = -e.nativeBarWidth + 'px'),\r\n              (e.sizer.style.borderRightWidth = Mn(t) + 'px'),\r\n              (e.scrollbarsClipped = !0))\r\n          })(e),\r\n            t.updateMaxLine && Gt(e),\r\n            (t.mustUpdate =\r\n              t.viewChanged ||\r\n              t.forceUpdate ||\r\n              null != t.scrollTop ||\r\n              (t.scrollToPos && (t.scrollToPos.from.line < n.viewFrom || t.scrollToPos.to.line >= n.viewTo)) ||\r\n              (n.maxLineChanged && e.options.lineWrapping)),\r\n            (t.update =\r\n              t.mustUpdate && new or(e, t.mustUpdate && { top: t.scrollTop, ensure: t.scrollToPos }, t.forceUpdate))\r\n        }\r\n        function Ui (t) {\r\n          var e = t.cm,\r\n            n = e.display\r\n          t.updatedDisplay && xi(e),\r\n            (t.barMeasure = Di(e)),\r\n            n.maxLineChanged &&\r\n              !e.options.lineWrapping &&\r\n              ((t.adjustWidthTo = Ln(e, n.maxLine, n.maxLine.text.length).left + 3),\r\n              (e.display.sizerWidth = t.adjustWidthTo),\r\n              (t.barMeasure.scrollWidth = Math.max(\r\n                n.scroller.clientWidth,\r\n                n.sizer.offsetLeft + t.adjustWidthTo + Mn(e) + e.display.barWidth\r\n              )),\r\n              (t.maxScrollLeft = Math.max(0, n.sizer.offsetLeft + t.adjustWidthTo - An(e)))),\r\n            (t.updatedDisplay || t.selectionChanged) && (t.preparedSelection = n.input.prepareSelection())\r\n        }\r\n        function qi (t) {\r\n          var e = t.cm\r\n          null != t.adjustWidthTo &&\r\n            ((e.display.sizer.style.minWidth = t.adjustWidthTo + 'px'),\r\n            t.maxScrollLeft < e.doc.scrollLeft && Ni(e, Math.min(e.display.scroller.scrollLeft, t.maxScrollLeft), !0),\r\n            (e.display.maxLineChanged = !1))\r\n          var n = t.focus && t.focus == _()\r\n          t.preparedSelection && e.display.input.showSelection(t.preparedSelection, n),\r\n            (t.updatedDisplay || t.startHeight != e.doc.height) && ji(e, t.barMeasure),\r\n            t.updatedDisplay && ur(e, t.barMeasure),\r\n            t.selectionChanged && gi(e),\r\n            e.state.focused && t.updateInput && e.display.input.reset(t.typing),\r\n            n && vi(t.cm)\r\n        }\r\n        function Ki (t) {\r\n          var e = t.cm,\r\n            n = e.display,\r\n            i = e.doc\r\n          if (\r\n            (t.updatedDisplay && ar(e, t.update),\r\n            null == n.wheelStartX ||\r\n              (null == t.scrollTop && null == t.scrollLeft && !t.scrollToPos) ||\r\n              (n.wheelStartX = n.wheelStartY = null),\r\n            null != t.scrollTop && _i(e, t.scrollTop, t.forceScroll),\r\n            null != t.scrollLeft && Ni(e, t.scrollLeft, !0, !0),\r\n            t.scrollToPos)\r\n          ) {\r\n            var r = (function (t, e, n, i) {\r\n              var r\r\n              null == i && (i = 0),\r\n                t.options.lineWrapping ||\r\n                  e != n ||\r\n                  ((e = e.ch ? vt(e.line, 'before' == e.sticky ? e.ch - 1 : e.ch, 'after') : e),\r\n                  (n = 'before' == e.sticky ? vt(e.line, e.ch + 1, 'before') : e))\r\n              for (var o = 0; o < 5; o++) {\r\n                var s = !1,\r\n                  a = Yn(t, e),\r\n                  l = n && n != e ? Yn(t, n) : a\r\n                r = {\r\n                  left: Math.min(a.left, l.left),\r\n                  top: Math.min(a.top, l.top) - i,\r\n                  right: Math.max(a.left, l.left),\r\n                  bottom: Math.max(a.bottom, l.bottom) + i\r\n                }\r\n                var c = Ti(t, r),\r\n                  u = t.doc.scrollTop,\r\n                  h = t.doc.scrollLeft\r\n                if (\r\n                  (null != c.scrollTop && (Li(t, c.scrollTop), Math.abs(t.doc.scrollTop - u) > 1 && (s = !0)),\r\n                  null != c.scrollLeft && (Ni(t, c.scrollLeft), Math.abs(t.doc.scrollLeft - h) > 1 && (s = !0)),\r\n                  !s)\r\n                )\r\n                  break\r\n              }\r\n              return r\r\n            })(e, kt(i, t.scrollToPos.from), kt(i, t.scrollToPos.to), t.scrollToPos.margin)\r\n            !(function (t, e) {\r\n              if (!oe(t, 'scrollCursorIntoView')) {\r\n                var n = t.display,\r\n                  i = n.sizer.getBoundingClientRect(),\r\n                  r = null\r\n                if (\r\n                  (e.top + i.top < 0\r\n                    ? (r = !0)\r\n                    : e.bottom + i.top > (window.innerHeight || document.documentElement.clientHeight) && (r = !1),\r\n                  null != r && !p)\r\n                ) {\r\n                  var o = O(\r\n                    'div',\r\n                    '',\r\n                    null,\r\n                    'position: absolute;\\n                         top: ' +\r\n                      (e.top - n.viewOffset - Sn(t.display)) +\r\n                      'px;\\n                         height: ' +\r\n                      (e.bottom - e.top + Mn(t) + n.barHeight) +\r\n                      'px;\\n                         left: ' +\r\n                      e.left +\r\n                      'px; width: ' +\r\n                      Math.max(2, e.right - e.left) +\r\n                      'px;'\r\n                  )\r\n                  t.display.lineSpace.appendChild(o), o.scrollIntoView(r), t.display.lineSpace.removeChild(o)\r\n                }\r\n              }\r\n            })(e, r)\r\n          }\r\n          var o = t.maybeHiddenMarkers,\r\n            s = t.maybeUnhiddenMarkers\r\n          if (o) for (var a = 0; a < o.length; ++a) o[a].lines.length || re(o[a], 'hide')\r\n          if (s) for (var l = 0; l < s.length; ++l) s[l].lines.length && re(s[l], 'unhide')\r\n          n.wrapper.offsetHeight && (i.scrollTop = e.display.scroller.scrollTop),\r\n            t.changeObjs && re(e, 'changes', e, t.changeObjs),\r\n            t.update && t.update.finish()\r\n        }\r\n        function Yi (t, e) {\r\n          if (t.curOp) return e()\r\n          $i(t)\r\n          try {\r\n            return e()\r\n          } finally {\r\n            Bi(t)\r\n          }\r\n        }\r\n        function Gi (t, e) {\r\n          return function () {\r\n            if (t.curOp) return e.apply(t, arguments)\r\n            $i(t)\r\n            try {\r\n              return e.apply(t, arguments)\r\n            } finally {\r\n              Bi(t)\r\n            }\r\n          }\r\n        }\r\n        function Xi (t) {\r\n          return function () {\r\n            if (this.curOp) return t.apply(this, arguments)\r\n            $i(this)\r\n            try {\r\n              return t.apply(this, arguments)\r\n            } finally {\r\n              Bi(this)\r\n            }\r\n          }\r\n        }\r\n        function Ji (t) {\r\n          return function () {\r\n            var e = this.cm\r\n            if (!e || e.curOp) return t.apply(this, arguments)\r\n            $i(e)\r\n            try {\r\n              return t.apply(this, arguments)\r\n            } finally {\r\n              Bi(e)\r\n            }\r\n          }\r\n        }\r\n        function Zi (t, e, n, i) {\r\n          null == e && (e = t.doc.first), null == n && (n = t.doc.first + t.doc.size), i || (i = 0)\r\n          var r = t.display\r\n          if (\r\n            (i && n < r.viewTo && (null == r.updateLineNumbers || r.updateLineNumbers > e) && (r.updateLineNumbers = e),\r\n            (t.curOp.viewChanged = !0),\r\n            e >= r.viewTo)\r\n          )\r\n            Et && Bt(t.doc, e) < r.viewTo && tr(t)\r\n          else if (n <= r.viewFrom) Et && Wt(t.doc, n + i) > r.viewFrom ? tr(t) : ((r.viewFrom += i), (r.viewTo += i))\r\n          else if (e <= r.viewFrom && n >= r.viewTo) tr(t)\r\n          else if (e <= r.viewFrom) {\r\n            var o = er(t, n, n + i, 1)\r\n            o ? ((r.view = r.view.slice(o.index)), (r.viewFrom = o.lineN), (r.viewTo += i)) : tr(t)\r\n          } else if (n >= r.viewTo) {\r\n            var s = er(t, e, e, -1)\r\n            s ? ((r.view = r.view.slice(0, s.index)), (r.viewTo = s.lineN)) : tr(t)\r\n          } else {\r\n            var a = er(t, e, e, -1),\r\n              l = er(t, n, n + i, 1)\r\n            a && l\r\n              ? ((r.view = r.view\r\n                  .slice(0, a.index)\r\n                  .concat(sn(t, a.lineN, l.lineN))\r\n                  .concat(r.view.slice(l.index))),\r\n                (r.viewTo += i))\r\n              : tr(t)\r\n          }\r\n          var c = r.externalMeasured\r\n          c && (n < c.lineN ? (c.lineN += i) : e < c.lineN + c.size && (r.externalMeasured = null))\r\n        }\r\n        function Qi (t, e, n) {\r\n          t.curOp.viewChanged = !0\r\n          var i = t.display,\r\n            r = t.display.externalMeasured\r\n          if (\r\n            (r && e >= r.lineN && e < r.lineN + r.size && (i.externalMeasured = null),\r\n            !(e < i.viewFrom || e >= i.viewTo))\r\n          ) {\r\n            var o = i.view[ci(t, e)]\r\n            if (null != o.node) {\r\n              var s = o.changes || (o.changes = [])\r\n              ;-1 == V(s, n) && s.push(n)\r\n            }\r\n          }\r\n        }\r\n        function tr (t) {\r\n          ;(t.display.viewFrom = t.display.viewTo = t.doc.first), (t.display.view = []), (t.display.viewOffset = 0)\r\n        }\r\n        function er (t, e, n, i) {\r\n          var r,\r\n            o = ci(t, e),\r\n            s = t.display.view\r\n          if (!Et || n == t.doc.first + t.doc.size) return { index: o, lineN: n }\r\n          for (var a = t.display.viewFrom, l = 0; l < o; l++) a += s[l].size\r\n          if (a != e) {\r\n            if (i > 0) {\r\n              if (o == s.length - 1) return null\r\n              ;(r = a + s[o].size - e), o++\r\n            } else r = a - e\r\n            ;(e += r), (n += r)\r\n          }\r\n          for (; Bt(t.doc, n) != n; ) {\r\n            if (o == (i < 0 ? 0 : s.length - 1)) return null\r\n            ;(n += i * s[o - (i < 0 ? 1 : 0)].size), (o += i)\r\n          }\r\n          return { index: o, lineN: n }\r\n        }\r\n        function nr (t) {\r\n          for (var e = t.display.view, n = 0, i = 0; i < e.length; i++) {\r\n            var r = e[i]\r\n            r.hidden || (r.node && !r.changes) || ++n\r\n          }\r\n          return n\r\n        }\r\n        function ir (t, e) {\r\n          t.doc.highlightFrontier < t.display.viewTo && t.state.highlight.set(e, F(rr, t))\r\n        }\r\n        function rr (t) {\r\n          var e = t.doc\r\n          if (!(e.highlightFrontier >= t.display.viewTo)) {\r\n            var n = +new Date() + t.options.workTime,\r\n              i = ze(t, e.highlightFrontier),\r\n              r = []\r\n            e.iter(i.line, Math.min(e.first + e.size, t.display.viewTo + 500), function (o) {\r\n              if (i.line >= t.display.viewFrom) {\r\n                var s = o.styles,\r\n                  a = o.text.length > t.options.maxHighlightLength ? Le(e.mode, i.state) : null,\r\n                  l = je(t, o, i, !0)\r\n                a && (i.state = a), (o.styles = l.styles)\r\n                var c = o.styleClasses,\r\n                  u = l.classes\r\n                u ? (o.styleClasses = u) : c && (o.styleClasses = null)\r\n                for (\r\n                  var h =\r\n                      !s ||\r\n                      s.length != o.styles.length ||\r\n                      (c != u && (!c || !u || c.bgClass != u.bgClass || c.textClass != u.textClass)),\r\n                    d = 0;\r\n                  !h && d < s.length;\r\n                  ++d\r\n                )\r\n                  h = s[d] != o.styles[d]\r\n                h && r.push(i.line), (o.stateAfter = i.save()), i.nextLine()\r\n              } else o.text.length <= t.options.maxHighlightLength && Ve(t, o.text, i), (o.stateAfter = i.line % 5 == 0 ? i.save() : null), i.nextLine()\r\n              if (+new Date() > n) return ir(t, t.options.workDelay), !0\r\n            }),\r\n              (e.highlightFrontier = i.line),\r\n              (e.modeFrontier = Math.max(e.modeFrontier, i.line)),\r\n              r.length &&\r\n                Yi(t, function () {\r\n                  for (var e = 0; e < r.length; e++) Qi(t, r[e], 'text')\r\n                })\r\n          }\r\n        }\r\n        var or = function (t, e, n) {\r\n          var i = t.display\r\n          ;(this.viewport = e),\r\n            (this.visible = Ci(i, t.doc, e)),\r\n            (this.editorIsHidden = !i.wrapper.offsetWidth),\r\n            (this.wrapperHeight = i.wrapper.clientHeight),\r\n            (this.wrapperWidth = i.wrapper.clientWidth),\r\n            (this.oldDisplayWidth = An(t)),\r\n            (this.force = n),\r\n            (this.dims = ri(t)),\r\n            (this.events = [])\r\n        }\r\n        function sr (t, e) {\r\n          var n = t.display,\r\n            i = t.doc\r\n          if (e.editorIsHidden) return tr(t), !1\r\n          if (\r\n            !e.force &&\r\n            e.visible.from >= n.viewFrom &&\r\n            e.visible.to <= n.viewTo &&\r\n            (null == n.updateLineNumbers || n.updateLineNumbers >= n.viewTo) &&\r\n            n.renderedView == n.view &&\r\n            0 == nr(t)\r\n          )\r\n            return !1\r\n          Si(t) && (tr(t), (e.dims = ri(t)))\r\n          var r = i.first + i.size,\r\n            o = Math.max(e.visible.from - t.options.viewportMargin, i.first),\r\n            s = Math.min(r, e.visible.to + t.options.viewportMargin)\r\n          n.viewFrom < o && o - n.viewFrom < 20 && (o = Math.max(i.first, n.viewFrom)),\r\n            n.viewTo > s && n.viewTo - s < 20 && (s = Math.min(r, n.viewTo)),\r\n            Et && ((o = Bt(t.doc, o)), (s = Wt(t.doc, s)))\r\n          var a =\r\n            o != n.viewFrom || s != n.viewTo || n.lastWrapHeight != e.wrapperHeight || n.lastWrapWidth != e.wrapperWidth\r\n          !(function (t, e, n) {\r\n            var i = t.display\r\n            0 == i.view.length || e >= i.viewTo || n <= i.viewFrom\r\n              ? ((i.view = sn(t, e, n)), (i.viewFrom = e))\r\n              : (i.viewFrom > e\r\n                  ? (i.view = sn(t, e, i.viewFrom).concat(i.view))\r\n                  : i.viewFrom < e && (i.view = i.view.slice(ci(t, e))),\r\n                (i.viewFrom = e),\r\n                i.viewTo < n\r\n                  ? (i.view = i.view.concat(sn(t, i.viewTo, n)))\r\n                  : i.viewTo > n && (i.view = i.view.slice(0, ci(t, n)))),\r\n              (i.viewTo = n)\r\n          })(t, o, s),\r\n            (n.viewOffset = Kt(lt(t.doc, n.viewFrom))),\r\n            (t.display.mover.style.top = n.viewOffset + 'px')\r\n          var c = nr(t)\r\n          if (\r\n            !a &&\r\n            0 == c &&\r\n            !e.force &&\r\n            n.renderedView == n.view &&\r\n            (null == n.updateLineNumbers || n.updateLineNumbers >= n.viewTo)\r\n          )\r\n            return !1\r\n          var u = (function (t) {\r\n            if (t.hasFocus()) return null\r\n            var e = _()\r\n            if (!e || !L(t.display.lineDiv, e)) return null\r\n            var n = { activeElt: e }\r\n            if (window.getSelection) {\r\n              var i = window.getSelection()\r\n              i.anchorNode &&\r\n                i.extend &&\r\n                L(t.display.lineDiv, i.anchorNode) &&\r\n                ((n.anchorNode = i.anchorNode),\r\n                (n.anchorOffset = i.anchorOffset),\r\n                (n.focusNode = i.focusNode),\r\n                (n.focusOffset = i.focusOffset))\r\n            }\r\n            return n\r\n          })(t)\r\n          return (\r\n            c > 4 && (n.lineDiv.style.display = 'none'),\r\n            (function (t, e, n) {\r\n              var i = t.display,\r\n                r = t.options.lineNumbers,\r\n                o = i.lineDiv,\r\n                s = o.firstChild\r\n              function a (e) {\r\n                var n = e.nextSibling\r\n                return (\r\n                  l && y && t.display.currentWheelTarget == e\r\n                    ? (e.style.display = 'none')\r\n                    : e.parentNode.removeChild(e),\r\n                  n\r\n                )\r\n              }\r\n              for (var c = i.view, u = i.viewFrom, h = 0; h < c.length; h++) {\r\n                var d = c[h]\r\n                if (d.hidden);\r\n                else if (d.node && d.node.parentNode == o) {\r\n                  for (; s != d.node; ) s = a(s)\r\n                  var f = r && null != e && e <= u && d.lineNumber\r\n                  d.changes && (V(d.changes, 'gutter') > -1 && (f = !1), hn(t, d, u, n)),\r\n                    f && (M(d.lineNumber), d.lineNumber.appendChild(document.createTextNode(gt(t.options, u)))),\r\n                    (s = d.node.nextSibling)\r\n                } else {\r\n                  var p = yn(t, d, u, n)\r\n                  o.insertBefore(p, s)\r\n                }\r\n                u += d.size\r\n              }\r\n              for (; s; ) s = a(s)\r\n            })(t, n.updateLineNumbers, e.dims),\r\n            c > 4 && (n.lineDiv.style.display = ''),\r\n            (n.renderedView = n.view),\r\n            (function (t) {\r\n              if (\r\n                t &&\r\n                t.activeElt &&\r\n                t.activeElt != _() &&\r\n                (t.activeElt.focus(), t.anchorNode && L(document.body, t.anchorNode) && L(document.body, t.focusNode))\r\n              ) {\r\n                var e = window.getSelection(),\r\n                  n = document.createRange()\r\n                n.setEnd(t.anchorNode, t.anchorOffset),\r\n                  n.collapse(!1),\r\n                  e.removeAllRanges(),\r\n                  e.addRange(n),\r\n                  e.extend(t.focusNode, t.focusOffset)\r\n              }\r\n            })(u),\r\n            M(n.cursorDiv),\r\n            M(n.selectionDiv),\r\n            (n.gutters.style.height = n.sizer.style.minHeight = 0),\r\n            a && ((n.lastWrapHeight = e.wrapperHeight), (n.lastWrapWidth = e.wrapperWidth), ir(t, 400)),\r\n            (n.updateLineNumbers = null),\r\n            !0\r\n          )\r\n        }\r\n        function ar (t, e) {\r\n          for (\r\n            var n = e.viewport, i = !0;\r\n            ((i && t.options.lineWrapping && e.oldDisplayWidth != An(t)) ||\r\n              (n && null != n.top && (n = { top: Math.min(t.doc.height + Tn(t.display) - On(t), n.top) }),\r\n              (e.visible = Ci(t.display, t.doc, n)),\r\n              !(e.visible.from >= t.display.viewFrom && e.visible.to <= t.display.viewTo))) &&\r\n            sr(t, e);\r\n            i = !1\r\n          ) {\r\n            xi(t)\r\n            var r = Di(t)\r\n            ui(t), ji(t, r), ur(t, r), (e.force = !1)\r\n          }\r\n          e.signal(t, 'update', t),\r\n            (t.display.viewFrom == t.display.reportedViewFrom && t.display.viewTo == t.display.reportedViewTo) ||\r\n              (e.signal(t, 'viewportChange', t, t.display.viewFrom, t.display.viewTo),\r\n              (t.display.reportedViewFrom = t.display.viewFrom),\r\n              (t.display.reportedViewTo = t.display.viewTo))\r\n        }\r\n        function lr (t, e) {\r\n          var n = new or(t, e)\r\n          if (sr(t, n)) {\r\n            xi(t), ar(t, n)\r\n            var i = Di(t)\r\n            ui(t), ji(t, i), ur(t, i), n.finish()\r\n          }\r\n        }\r\n        function cr (t) {\r\n          var e = t.display.gutters.offsetWidth\r\n          t.display.sizer.style.marginLeft = e + 'px'\r\n        }\r\n        function ur (t, e) {\r\n          ;(t.display.sizer.style.minHeight = e.docHeight + 'px'),\r\n            (t.display.heightForcer.style.top = e.docHeight + 'px'),\r\n            (t.display.gutters.style.height = e.docHeight + t.display.barHeight + Mn(t) + 'px')\r\n        }\r\n        function hr (t) {\r\n          var e = t.display.gutters,\r\n            n = t.options.gutters\r\n          M(e)\r\n          for (var i = 0; i < n.length; ++i) {\r\n            var r = n[i],\r\n              o = e.appendChild(O('div', null, 'CodeMirror-gutter ' + r))\r\n            'CodeMirror-linenumbers' == r &&\r\n              ((t.display.lineGutter = o), (o.style.width = (t.display.lineNumWidth || 1) + 'px'))\r\n          }\r\n          ;(e.style.display = i ? '' : 'none'), cr(t)\r\n        }\r\n        function dr (t) {\r\n          var e = V(t.gutters, 'CodeMirror-linenumbers')\r\n          ;-1 == e && t.lineNumbers\r\n            ? (t.gutters = t.gutters.concat(['CodeMirror-linenumbers']))\r\n            : e > -1 && !t.lineNumbers && ((t.gutters = t.gutters.slice(0)), t.gutters.splice(e, 1))\r\n        }\r\n        ;(or.prototype.signal = function (t, e) {\r\n          ae(t, e) && this.events.push(arguments)\r\n        }),\r\n          (or.prototype.finish = function () {\r\n            for (var t = 0; t < this.events.length; t++) re.apply(null, this.events[t])\r\n          })\r\n        var fr = 0,\r\n          pr = null\r\n        function gr (t) {\r\n          var e = t.wheelDeltaX,\r\n            n = t.wheelDeltaY\r\n          return (\r\n            null == e && t.detail && t.axis == t.HORIZONTAL_AXIS && (e = t.detail),\r\n            null == n && t.detail && t.axis == t.VERTICAL_AXIS ? (n = t.detail) : null == n && (n = t.wheelDelta),\r\n            { x: e, y: n }\r\n          )\r\n        }\r\n        function vr (t) {\r\n          var e = gr(t)\r\n          return (e.x *= pr), (e.y *= pr), e\r\n        }\r\n        function mr (t, e) {\r\n          var i = gr(e),\r\n            r = i.x,\r\n            o = i.y,\r\n            s = t.display,\r\n            a = s.scroller,\r\n            c = a.scrollWidth > a.clientWidth,\r\n            u = a.scrollHeight > a.clientHeight\r\n          if ((r && c) || (o && u)) {\r\n            if (o && y && l)\r\n              t: for (var d = e.target, f = s.view; d != a; d = d.parentNode)\r\n                for (var p = 0; p < f.length; p++)\r\n                  if (f[p].node == d) {\r\n                    t.display.currentWheelTarget = d\r\n                    break t\r\n                  }\r\n            if (r && !n && !h && null != pr)\r\n              return (\r\n                o && u && Li(t, Math.max(0, a.scrollTop + o * pr)),\r\n                Ni(t, Math.max(0, a.scrollLeft + r * pr)),\r\n                (!o || (o && u)) && ce(e),\r\n                void (s.wheelStartX = null)\r\n              )\r\n            if (o && null != pr) {\r\n              var g = o * pr,\r\n                v = t.doc.scrollTop,\r\n                m = v + s.wrapper.clientHeight\r\n              g < 0 ? (v = Math.max(0, v + g - 50)) : (m = Math.min(t.doc.height, m + g + 50)),\r\n                lr(t, { top: v, bottom: m })\r\n            }\r\n            fr < 20 &&\r\n              (null == s.wheelStartX\r\n                ? ((s.wheelStartX = a.scrollLeft),\r\n                  (s.wheelStartY = a.scrollTop),\r\n                  (s.wheelDX = r),\r\n                  (s.wheelDY = o),\r\n                  setTimeout(function () {\r\n                    if (null != s.wheelStartX) {\r\n                      var t = a.scrollLeft - s.wheelStartX,\r\n                        e = a.scrollTop - s.wheelStartY,\r\n                        n = (e && s.wheelDY && e / s.wheelDY) || (t && s.wheelDX && t / s.wheelDX)\r\n                      ;(s.wheelStartX = s.wheelStartY = null), n && ((pr = (pr * fr + n) / (fr + 1)), ++fr)\r\n                    }\r\n                  }, 200))\r\n                : ((s.wheelDX += r), (s.wheelDY += o)))\r\n          }\r\n        }\r\n        s ? (pr = -0.53) : n ? (pr = 15) : u ? (pr = -0.7) : d && (pr = -1 / 3)\r\n        var yr = function (t, e) {\r\n          ;(this.ranges = t), (this.primIndex = e)\r\n        }\r\n        ;(yr.prototype.primary = function () {\r\n          return this.ranges[this.primIndex]\r\n        }),\r\n          (yr.prototype.equals = function (t) {\r\n            if (t == this) return !0\r\n            if (t.primIndex != this.primIndex || t.ranges.length != this.ranges.length) return !1\r\n            for (var e = 0; e < this.ranges.length; e++) {\r\n              var n = this.ranges[e],\r\n                i = t.ranges[e]\r\n              if (!yt(n.anchor, i.anchor) || !yt(n.head, i.head)) return !1\r\n            }\r\n            return !0\r\n          }),\r\n          (yr.prototype.deepCopy = function () {\r\n            for (var t = [], e = 0; e < this.ranges.length; e++)\r\n              t[e] = new br(bt(this.ranges[e].anchor), bt(this.ranges[e].head))\r\n            return new yr(t, this.primIndex)\r\n          }),\r\n          (yr.prototype.somethingSelected = function () {\r\n            for (var t = 0; t < this.ranges.length; t++) if (!this.ranges[t].empty()) return !0\r\n            return !1\r\n          }),\r\n          (yr.prototype.contains = function (t, e) {\r\n            e || (e = t)\r\n            for (var n = 0; n < this.ranges.length; n++) {\r\n              var i = this.ranges[n]\r\n              if (mt(e, i.from()) >= 0 && mt(t, i.to()) <= 0) return n\r\n            }\r\n            return -1\r\n          })\r\n        var br = function (t, e) {\r\n          ;(this.anchor = t), (this.head = e)\r\n        }\r\n        function xr (t, e, n) {\r\n          var i = t && t.options.selectionsMayTouch,\r\n            r = e[n]\r\n          e.sort(function (t, e) {\r\n            return mt(t.from(), e.from())\r\n          }),\r\n            (n = V(e, r))\r\n          for (var o = 1; o < e.length; o++) {\r\n            var s = e[o],\r\n              a = e[o - 1],\r\n              l = mt(a.to(), s.from())\r\n            if (i && !s.empty() ? l > 0 : l >= 0) {\r\n              var c = wt(a.from(), s.from()),\r\n                u = xt(a.to(), s.to()),\r\n                h = a.empty() ? s.from() == s.head : a.from() == a.head\r\n              o <= n && --n, e.splice(--o, 2, new br(h ? u : c, h ? c : u))\r\n            }\r\n          }\r\n          return new yr(e, n)\r\n        }\r\n        function wr (t, e) {\r\n          return new yr([new br(t, e || t)], 0)\r\n        }\r\n        function Cr (t) {\r\n          return t.text\r\n            ? vt(t.from.line + t.text.length - 1, G(t.text).length + (1 == t.text.length ? t.from.ch : 0))\r\n            : t.to\r\n        }\r\n        function kr (t, e) {\r\n          if (mt(t, e.from) < 0) return t\r\n          if (mt(t, e.to) <= 0) return Cr(e)\r\n          var n = t.line + e.text.length - (e.to.line - e.from.line) - 1,\r\n            i = t.ch\r\n          return t.line == e.to.line && (i += Cr(e).ch - e.to.ch), vt(n, i)\r\n        }\r\n        function Sr (t, e) {\r\n          for (var n = [], i = 0; i < t.sel.ranges.length; i++) {\r\n            var r = t.sel.ranges[i]\r\n            n.push(new br(kr(r.anchor, e), kr(r.head, e)))\r\n          }\r\n          return xr(t.cm, n, t.sel.primIndex)\r\n        }\r\n        function Tr (t, e, n) {\r\n          return t.line == e.line ? vt(n.line, t.ch - e.ch + n.ch) : vt(n.line + (t.line - e.line), t.ch)\r\n        }\r\n        function Er (t) {\r\n          ;(t.doc.mode = Ae(t.options, t.doc.modeOption)), Mr(t)\r\n        }\r\n        function Mr (t) {\r\n          t.doc.iter(function (t) {\r\n            t.stateAfter && (t.stateAfter = null), t.styles && (t.styles = null)\r\n          }),\r\n            (t.doc.modeFrontier = t.doc.highlightFrontier = t.doc.first),\r\n            ir(t, 100),\r\n            t.state.modeGen++,\r\n            t.curOp && Zi(t)\r\n        }\r\n        function Ar (t, e) {\r\n          return 0 == e.from.ch && 0 == e.to.ch && '' == G(e.text) && (!t.cm || t.cm.options.wholeLineUpdateBefore)\r\n        }\r\n        function Or (t, e, n, i) {\r\n          function r (t) {\r\n            return n ? n[t] : null\r\n          }\r\n          function o (t, n, r) {\r\n            !(function (t, e, n, i) {\r\n              ;(t.text = e),\r\n                t.stateAfter && (t.stateAfter = null),\r\n                t.styles && (t.styles = null),\r\n                null != t.order && (t.order = null),\r\n                _t(t),\r\n                Nt(t, n)\r\n              var r = i ? i(t) : 1\r\n              r != t.height && ht(t, r)\r\n            })(t, n, r, i),\r\n              cn(t, 'change', t, e)\r\n          }\r\n          function s (t, e) {\r\n            for (var n = [], o = t; o < e; ++o) n.push(new Ke(c[o], r(o), i))\r\n            return n\r\n          }\r\n          var a = e.from,\r\n            l = e.to,\r\n            c = e.text,\r\n            u = lt(t, a.line),\r\n            h = lt(t, l.line),\r\n            d = G(c),\r\n            f = r(c.length - 1),\r\n            p = l.line - a.line\r\n          if (e.full) t.insert(0, s(0, c.length)), t.remove(c.length, t.size - c.length)\r\n          else if (Ar(t, e)) {\r\n            var g = s(0, c.length - 1)\r\n            o(h, h.text, f), p && t.remove(a.line, p), g.length && t.insert(a.line, g)\r\n          } else if (u == h)\r\n            if (1 == c.length) o(u, u.text.slice(0, a.ch) + d + u.text.slice(l.ch), f)\r\n            else {\r\n              var v = s(1, c.length - 1)\r\n              v.push(new Ke(d + u.text.slice(l.ch), f, i)),\r\n                o(u, u.text.slice(0, a.ch) + c[0], r(0)),\r\n                t.insert(a.line + 1, v)\r\n            }\r\n          else if (1 == c.length) o(u, u.text.slice(0, a.ch) + c[0] + h.text.slice(l.ch), r(0)), t.remove(a.line + 1, p)\r\n          else {\r\n            o(u, u.text.slice(0, a.ch) + c[0], r(0)), o(h, d + h.text.slice(l.ch), f)\r\n            var m = s(1, c.length - 1)\r\n            p > 1 && t.remove(a.line + 1, p - 1), t.insert(a.line + 1, m)\r\n          }\r\n          cn(t, 'change', t, e)\r\n        }\r\n        function Pr (t, e, n) {\r\n          !(function t (i, r, o) {\r\n            if (i.linked)\r\n              for (var s = 0; s < i.linked.length; ++s) {\r\n                var a = i.linked[s]\r\n                if (a.doc != r) {\r\n                  var l = o && a.sharedHist\r\n                  ;(n && !l) || (e(a.doc, l), t(a.doc, i, l))\r\n                }\r\n              }\r\n          })(t, null, !0)\r\n        }\r\n        function Lr (t, e) {\r\n          if (e.cm) throw new Error('This document is already in use.')\r\n          ;(t.doc = e),\r\n            (e.cm = t),\r\n            ai(t),\r\n            Er(t),\r\n            _r(t),\r\n            t.options.lineWrapping || Gt(t),\r\n            (t.options.mode = e.modeOption),\r\n            Zi(t)\r\n        }\r\n        function _r (t) {\r\n          ;('rtl' == t.doc.direction ? N : E)(t.display.lineDiv, 'CodeMirror-rtl')\r\n        }\r\n        function Nr (t) {\r\n          ;(this.done = []),\r\n            (this.undone = []),\r\n            (this.undoDepth = 1 / 0),\r\n            (this.lastModTime = this.lastSelTime = 0),\r\n            (this.lastOp = this.lastSelOp = null),\r\n            (this.lastOrigin = this.lastSelOrigin = null),\r\n            (this.generation = this.maxGeneration = t || 1)\r\n        }\r\n        function Dr (t, e) {\r\n          var n = { from: bt(e.from), to: Cr(e), text: ct(t, e.from, e.to) }\r\n          return (\r\n            zr(t, n, e.from.line, e.to.line + 1),\r\n            Pr(\r\n              t,\r\n              function (t) {\r\n                return zr(t, n, e.from.line, e.to.line + 1)\r\n              },\r\n              !0\r\n            ),\r\n            n\r\n          )\r\n        }\r\n        function Ir (t) {\r\n          for (; t.length; ) {\r\n            var e = G(t)\r\n            if (!e.ranges) break\r\n            t.pop()\r\n          }\r\n        }\r\n        function Fr (t, e, n, i) {\r\n          var r = t.history\r\n          r.undone.length = 0\r\n          var o,\r\n            s,\r\n            a = +new Date()\r\n          if (\r\n            (r.lastOp == i ||\r\n              (r.lastOrigin == e.origin &&\r\n                e.origin &&\r\n                (('+' == e.origin.charAt(0) && r.lastModTime > a - (t.cm ? t.cm.options.historyEventDelay : 500)) ||\r\n                  '*' == e.origin.charAt(0)))) &&\r\n            (o = (function (t, e) {\r\n              return e\r\n                ? (Ir(t.done), G(t.done))\r\n                : t.done.length && !G(t.done).ranges\r\n                ? G(t.done)\r\n                : t.done.length > 1 && !t.done[t.done.length - 2].ranges\r\n                ? (t.done.pop(), G(t.done))\r\n                : void 0\r\n            })(r, r.lastOp == i))\r\n          )\r\n            (s = G(o.changes)),\r\n              0 == mt(e.from, e.to) && 0 == mt(e.from, s.to) ? (s.to = Cr(e)) : o.changes.push(Dr(t, e))\r\n          else {\r\n            var l = G(r.done)\r\n            for (\r\n              (l && l.ranges) || Rr(t.sel, r.done),\r\n                o = { changes: [Dr(t, e)], generation: r.generation },\r\n                r.done.push(o);\r\n              r.done.length > r.undoDepth;\r\n\r\n            )\r\n              r.done.shift(), r.done[0].ranges || r.done.shift()\r\n          }\r\n          r.done.push(n),\r\n            (r.generation = ++r.maxGeneration),\r\n            (r.lastModTime = r.lastSelTime = a),\r\n            (r.lastOp = r.lastSelOp = i),\r\n            (r.lastOrigin = r.lastSelOrigin = e.origin),\r\n            s || re(t, 'historyAdded')\r\n        }\r\n        function jr (t, e, n, i) {\r\n          var r = t.history,\r\n            o = i && i.origin\r\n          n == r.lastSelOp ||\r\n          (o &&\r\n            r.lastSelOrigin == o &&\r\n            ((r.lastModTime == r.lastSelTime && r.lastOrigin == o) ||\r\n              (function (t, e, n, i) {\r\n                var r = e.charAt(0)\r\n                return (\r\n                  '*' == r ||\r\n                  ('+' == r &&\r\n                    n.ranges.length == i.ranges.length &&\r\n                    n.somethingSelected() == i.somethingSelected() &&\r\n                    new Date() - t.history.lastSelTime <= (t.cm ? t.cm.options.historyEventDelay : 500))\r\n                )\r\n              })(t, o, G(r.done), e)))\r\n            ? (r.done[r.done.length - 1] = e)\r\n            : Rr(e, r.done),\r\n            (r.lastSelTime = +new Date()),\r\n            (r.lastSelOrigin = o),\r\n            (r.lastSelOp = n),\r\n            i && !1 !== i.clearRedo && Ir(r.undone)\r\n        }\r\n        function Rr (t, e) {\r\n          var n = G(e)\r\n          ;(n && n.ranges && n.equals(t)) || e.push(t)\r\n        }\r\n        function zr (t, e, n, i) {\r\n          var r = e['spans_' + t.id],\r\n            o = 0\r\n          t.iter(Math.max(t.first, n), Math.min(t.first + t.size, i), function (n) {\r\n            n.markedSpans && ((r || (r = e['spans_' + t.id] = {}))[o] = n.markedSpans), ++o\r\n          })\r\n        }\r\n        function Vr (t) {\r\n          if (!t) return null\r\n          for (var e, n = 0; n < t.length; ++n)\r\n            t[n].marker.explicitlyCleared ? e || (e = t.slice(0, n)) : e && e.push(t[n])\r\n          return e ? (e.length ? e : null) : t\r\n        }\r\n        function Hr (t, e) {\r\n          var n = (function (t, e) {\r\n              var n = e['spans_' + t.id]\r\n              if (!n) return null\r\n              for (var i = [], r = 0; r < e.text.length; ++r) i.push(Vr(n[r]))\r\n              return i\r\n            })(t, e),\r\n            i = Pt(t, e)\r\n          if (!n) return i\r\n          if (!i) return n\r\n          for (var r = 0; r < n.length; ++r) {\r\n            var o = n[r],\r\n              s = i[r]\r\n            if (o && s)\r\n              t: for (var a = 0; a < s.length; ++a) {\r\n                for (var l = s[a], c = 0; c < o.length; ++c) if (o[c].marker == l.marker) continue t\r\n                o.push(l)\r\n              }\r\n            else s && (n[r] = s)\r\n          }\r\n          return n\r\n        }\r\n        function $r (t, e, n) {\r\n          for (var i = [], r = 0; r < t.length; ++r) {\r\n            var o = t[r]\r\n            if (o.ranges) i.push(n ? yr.prototype.deepCopy.call(o) : o)\r\n            else {\r\n              var s = o.changes,\r\n                a = []\r\n              i.push({ changes: a })\r\n              for (var l = 0; l < s.length; ++l) {\r\n                var c = s[l],\r\n                  u = void 0\r\n                if ((a.push({ from: c.from, to: c.to, text: c.text }), e))\r\n                  for (var h in c)\r\n                    (u = h.match(/^spans_(\\d+)$/)) && V(e, Number(u[1])) > -1 && ((G(a)[h] = c[h]), delete c[h])\r\n              }\r\n            }\r\n          }\r\n          return i\r\n        }\r\n        function Br (t, e, n, i) {\r\n          if (i) {\r\n            var r = t.anchor\r\n            if (n) {\r\n              var o = mt(e, r) < 0\r\n              o != mt(n, r) < 0 ? ((r = e), (e = n)) : o != mt(e, n) < 0 && (e = n)\r\n            }\r\n            return new br(r, e)\r\n          }\r\n          return new br(n || e, e)\r\n        }\r\n        function Wr (t, e, n, i, r) {\r\n          null == r && (r = t.cm && (t.cm.display.shift || t.extend)),\r\n            Gr(t, new yr([Br(t.sel.primary(), e, n, r)], 0), i)\r\n        }\r\n        function Ur (t, e, n) {\r\n          for (var i = [], r = t.cm && (t.cm.display.shift || t.extend), o = 0; o < t.sel.ranges.length; o++)\r\n            i[o] = Br(t.sel.ranges[o], e[o], null, r)\r\n          var s = xr(t.cm, i, t.sel.primIndex)\r\n          Gr(t, s, n)\r\n        }\r\n        function qr (t, e, n, i) {\r\n          var r = t.sel.ranges.slice(0)\r\n          ;(r[e] = n), Gr(t, xr(t.cm, r, t.sel.primIndex), i)\r\n        }\r\n        function Kr (t, e, n, i) {\r\n          Gr(t, wr(e, n), i)\r\n        }\r\n        function Yr (t, e, n) {\r\n          var i = t.history.done,\r\n            r = G(i)\r\n          r && r.ranges ? ((i[i.length - 1] = e), Xr(t, e, n)) : Gr(t, e, n)\r\n        }\r\n        function Gr (t, e, n) {\r\n          Xr(t, e, n), jr(t, t.sel, t.cm ? t.cm.curOp.id : NaN, n)\r\n        }\r\n        function Xr (t, e, n) {\r\n          ;(ae(t, 'beforeSelectionChange') || (t.cm && ae(t.cm, 'beforeSelectionChange'))) &&\r\n            (e = (function (t, e, n) {\r\n              var i = {\r\n                ranges: e.ranges,\r\n                update: function (e) {\r\n                  this.ranges = []\r\n                  for (var n = 0; n < e.length; n++) this.ranges[n] = new br(kt(t, e[n].anchor), kt(t, e[n].head))\r\n                },\r\n                origin: n && n.origin\r\n              }\r\n              return (\r\n                re(t, 'beforeSelectionChange', t, i),\r\n                t.cm && re(t.cm, 'beforeSelectionChange', t.cm, i),\r\n                i.ranges != e.ranges ? xr(t.cm, i.ranges, i.ranges.length - 1) : e\r\n              )\r\n            })(t, e, n))\r\n          var i = (n && n.bias) || (mt(e.primary().head, t.sel.primary().head) < 0 ? -1 : 1)\r\n          Jr(t, Qr(t, e, i, !0)), (n && !1 === n.scroll) || !t.cm || Mi(t.cm)\r\n        }\r\n        function Jr (t, e) {\r\n          e.equals(t.sel) ||\r\n            ((t.sel = e),\r\n            t.cm && ((t.cm.curOp.updateInput = t.cm.curOp.selectionChanged = !0), se(t.cm)),\r\n            cn(t, 'cursorActivity', t))\r\n        }\r\n        function Zr (t) {\r\n          Jr(t, Qr(t, t.sel, null, !1))\r\n        }\r\n        function Qr (t, e, n, i) {\r\n          for (var r, o = 0; o < e.ranges.length; o++) {\r\n            var s = e.ranges[o],\r\n              a = e.ranges.length == t.sel.ranges.length && t.sel.ranges[o],\r\n              l = eo(t, s.anchor, a && a.anchor, n, i),\r\n              c = eo(t, s.head, a && a.head, n, i)\r\n            ;(r || l != s.anchor || c != s.head) && (r || (r = e.ranges.slice(0, o)), (r[o] = new br(l, c)))\r\n          }\r\n          return r ? xr(t.cm, r, e.primIndex) : e\r\n        }\r\n        function to (t, e, n, i, r) {\r\n          var o = lt(t, e.line)\r\n          if (o.markedSpans)\r\n            for (var s = 0; s < o.markedSpans.length; ++s) {\r\n              var a = o.markedSpans[s],\r\n                l = a.marker\r\n              if (\r\n                (null == a.from || (l.inclusiveLeft ? a.from <= e.ch : a.from < e.ch)) &&\r\n                (null == a.to || (l.inclusiveRight ? a.to >= e.ch : a.to > e.ch))\r\n              ) {\r\n                if (r && (re(l, 'beforeCursorEnter'), l.explicitlyCleared)) {\r\n                  if (o.markedSpans) {\r\n                    --s\r\n                    continue\r\n                  }\r\n                  break\r\n                }\r\n                if (!l.atomic) continue\r\n                if (n) {\r\n                  var c = l.find(i < 0 ? 1 : -1),\r\n                    u = void 0\r\n                  if (\r\n                    ((i < 0 ? l.inclusiveRight : l.inclusiveLeft) &&\r\n                      (c = no(t, c, -i, c && c.line == e.line ? o : null)),\r\n                    c && c.line == e.line && (u = mt(c, n)) && (i < 0 ? u < 0 : u > 0))\r\n                  )\r\n                    return to(t, c, e, i, r)\r\n                }\r\n                var h = l.find(i < 0 ? -1 : 1)\r\n                return (\r\n                  (i < 0 ? l.inclusiveLeft : l.inclusiveRight) && (h = no(t, h, i, h.line == e.line ? o : null)),\r\n                  h ? to(t, h, e, i, r) : null\r\n                )\r\n              }\r\n            }\r\n          return e\r\n        }\r\n        function eo (t, e, n, i, r) {\r\n          var o = i || 1,\r\n            s = to(t, e, n, o, r) || (!r && to(t, e, n, o, !0)) || to(t, e, n, -o, r) || (!r && to(t, e, n, -o, !0))\r\n          return s || ((t.cantEdit = !0), vt(t.first, 0))\r\n        }\r\n        function no (t, e, n, i) {\r\n          return n < 0 && 0 == e.ch\r\n            ? e.line > t.first\r\n              ? kt(t, vt(e.line - 1))\r\n              : null\r\n            : n > 0 && e.ch == (i || lt(t, e.line)).text.length\r\n            ? e.line < t.first + t.size - 1\r\n              ? vt(e.line + 1, 0)\r\n              : null\r\n            : new vt(e.line, e.ch + n)\r\n        }\r\n        function io (t) {\r\n          t.setSelection(vt(t.firstLine(), 0), vt(t.lastLine()), B)\r\n        }\r\n        function ro (t, e, n) {\r\n          var i = {\r\n            canceled: !1,\r\n            from: e.from,\r\n            to: e.to,\r\n            text: e.text,\r\n            origin: e.origin,\r\n            cancel: function () {\r\n              return (i.canceled = !0)\r\n            }\r\n          }\r\n          return (\r\n            n &&\r\n              (i.update = function (e, n, r, o) {\r\n                e && (i.from = kt(t, e)), n && (i.to = kt(t, n)), r && (i.text = r), void 0 !== o && (i.origin = o)\r\n              }),\r\n            re(t, 'beforeChange', t, i),\r\n            t.cm && re(t.cm, 'beforeChange', t.cm, i),\r\n            i.canceled ? null : { from: i.from, to: i.to, text: i.text, origin: i.origin }\r\n          )\r\n        }\r\n        function oo (t, e, n) {\r\n          if (t.cm) {\r\n            if (!t.cm.curOp) return Gi(t.cm, oo)(t, e, n)\r\n            if (t.cm.state.suppressEdits) return\r\n          }\r\n          if (!(ae(t, 'beforeChange') || (t.cm && ae(t.cm, 'beforeChange'))) || (e = ro(t, e, !0))) {\r\n            var i =\r\n              Tt &&\r\n              !n &&\r\n              (function (t, e, n) {\r\n                var i = null\r\n                if (\r\n                  (t.iter(e.line, n.line + 1, function (t) {\r\n                    if (t.markedSpans)\r\n                      for (var e = 0; e < t.markedSpans.length; ++e) {\r\n                        var n = t.markedSpans[e].marker\r\n                        !n.readOnly || (i && -1 != V(i, n)) || (i || (i = [])).push(n)\r\n                      }\r\n                  }),\r\n                  !i)\r\n                )\r\n                  return null\r\n                for (var r = [{ from: e, to: n }], o = 0; o < i.length; ++o)\r\n                  for (var s = i[o], a = s.find(0), l = 0; l < r.length; ++l) {\r\n                    var c = r[l]\r\n                    if (!(mt(c.to, a.from) < 0 || mt(c.from, a.to) > 0)) {\r\n                      var u = [l, 1],\r\n                        h = mt(c.from, a.from),\r\n                        d = mt(c.to, a.to)\r\n                      ;(h < 0 || (!s.inclusiveLeft && !h)) && u.push({ from: c.from, to: a.from }),\r\n                        (d > 0 || (!s.inclusiveRight && !d)) && u.push({ from: a.to, to: c.to }),\r\n                        r.splice.apply(r, u),\r\n                        (l += u.length - 3)\r\n                    }\r\n                  }\r\n                return r\r\n              })(t, e.from, e.to)\r\n            if (i)\r\n              for (var r = i.length - 1; r >= 0; --r)\r\n                so(t, { from: i[r].from, to: i[r].to, text: r ? [''] : e.text, origin: e.origin })\r\n            else so(t, e)\r\n          }\r\n        }\r\n        function so (t, e) {\r\n          if (1 != e.text.length || '' != e.text[0] || 0 != mt(e.from, e.to)) {\r\n            var n = Sr(t, e)\r\n            Fr(t, e, n, t.cm ? t.cm.curOp.id : NaN), co(t, e, n, Pt(t, e))\r\n            var i = []\r\n            Pr(t, function (t, n) {\r\n              n || -1 != V(i, t.history) || (po(t.history, e), i.push(t.history)), co(t, e, null, Pt(t, e))\r\n            })\r\n          }\r\n        }\r\n        function ao (t, e, n) {\r\n          var i = t.cm && t.cm.state.suppressEdits\r\n          if (!i || n) {\r\n            for (\r\n              var r,\r\n                o = t.history,\r\n                s = t.sel,\r\n                a = 'undo' == e ? o.done : o.undone,\r\n                l = 'undo' == e ? o.undone : o.done,\r\n                c = 0;\r\n              c < a.length && ((r = a[c]), n ? !r.ranges || r.equals(t.sel) : r.ranges);\r\n              c++\r\n            );\r\n            if (c != a.length) {\r\n              for (o.lastOrigin = o.lastSelOrigin = null; ; ) {\r\n                if (!(r = a.pop()).ranges) {\r\n                  if (i) return void a.push(r)\r\n                  break\r\n                }\r\n                if ((Rr(r, l), n && !r.equals(t.sel))) return void Gr(t, r, { clearRedo: !1 })\r\n                s = r\r\n              }\r\n              var u = []\r\n              Rr(s, l),\r\n                l.push({ changes: u, generation: o.generation }),\r\n                (o.generation = r.generation || ++o.maxGeneration)\r\n              for (\r\n                var h = ae(t, 'beforeChange') || (t.cm && ae(t.cm, 'beforeChange')),\r\n                  d = function (n) {\r\n                    var i = r.changes[n]\r\n                    if (((i.origin = e), h && !ro(t, i, !1))) return (a.length = 0), {}\r\n                    u.push(Dr(t, i))\r\n                    var o = n ? Sr(t, i) : G(a)\r\n                    co(t, i, o, Hr(t, i)), !n && t.cm && t.cm.scrollIntoView({ from: i.from, to: Cr(i) })\r\n                    var s = []\r\n                    Pr(t, function (t, e) {\r\n                      e || -1 != V(s, t.history) || (po(t.history, i), s.push(t.history)), co(t, i, null, Hr(t, i))\r\n                    })\r\n                  },\r\n                  f = r.changes.length - 1;\r\n                f >= 0;\r\n                --f\r\n              ) {\r\n                var p = d(f)\r\n                if (p) return p.v\r\n              }\r\n            }\r\n          }\r\n        }\r\n        function lo (t, e) {\r\n          if (\r\n            0 != e &&\r\n            ((t.first += e),\r\n            (t.sel = new yr(\r\n              X(t.sel.ranges, function (t) {\r\n                return new br(vt(t.anchor.line + e, t.anchor.ch), vt(t.head.line + e, t.head.ch))\r\n              }),\r\n              t.sel.primIndex\r\n            )),\r\n            t.cm)\r\n          ) {\r\n            Zi(t.cm, t.first, t.first - e, e)\r\n            for (var n = t.cm.display, i = n.viewFrom; i < n.viewTo; i++) Qi(t.cm, i, 'gutter')\r\n          }\r\n        }\r\n        function co (t, e, n, i) {\r\n          if (t.cm && !t.cm.curOp) return Gi(t.cm, co)(t, e, n, i)\r\n          if (e.to.line < t.first) lo(t, e.text.length - 1 - (e.to.line - e.from.line))\r\n          else if (!(e.from.line > t.lastLine())) {\r\n            if (e.from.line < t.first) {\r\n              var r = e.text.length - 1 - (t.first - e.from.line)\r\n              lo(t, r),\r\n                (e = { from: vt(t.first, 0), to: vt(e.to.line + r, e.to.ch), text: [G(e.text)], origin: e.origin })\r\n            }\r\n            var o = t.lastLine()\r\n            e.to.line > o &&\r\n              (e = { from: e.from, to: vt(o, lt(t, o).text.length), text: [e.text[0]], origin: e.origin }),\r\n              (e.removed = ct(t, e.from, e.to)),\r\n              n || (n = Sr(t, e)),\r\n              t.cm\r\n                ? (function (t, e, n) {\r\n                    var i = t.doc,\r\n                      r = t.display,\r\n                      o = e.from,\r\n                      s = e.to,\r\n                      a = !1,\r\n                      l = o.line\r\n                    t.options.lineWrapping ||\r\n                      ((l = dt($t(lt(i, o.line)))),\r\n                      i.iter(l, s.line + 1, function (t) {\r\n                        if (t == r.maxLine) return (a = !0), !0\r\n                      })),\r\n                      i.sel.contains(e.from, e.to) > -1 && se(t),\r\n                      Or(i, e, n, si(t)),\r\n                      t.options.lineWrapping ||\r\n                        (i.iter(l, o.line + e.text.length, function (t) {\r\n                          var e = Yt(t)\r\n                          e > r.maxLineLength &&\r\n                            ((r.maxLine = t), (r.maxLineLength = e), (r.maxLineChanged = !0), (a = !1))\r\n                        }),\r\n                        a && (t.curOp.updateMaxLine = !0)),\r\n                      (function (t, e) {\r\n                        if (((t.modeFrontier = Math.min(t.modeFrontier, e)), !(t.highlightFrontier < e - 10))) {\r\n                          for (var n = t.first, i = e - 1; i > n; i--) {\r\n                            var r = lt(t, i).stateAfter\r\n                            if (r && (!(r instanceof Ie) || i + r.lookAhead < e)) {\r\n                              n = i + 1\r\n                              break\r\n                            }\r\n                          }\r\n                          t.highlightFrontier = Math.min(t.highlightFrontier, n)\r\n                        }\r\n                      })(i, o.line),\r\n                      ir(t, 400)\r\n                    var c = e.text.length - (s.line - o.line) - 1\r\n                    e.full\r\n                      ? Zi(t)\r\n                      : o.line != s.line || 1 != e.text.length || Ar(t.doc, e)\r\n                      ? Zi(t, o.line, s.line + 1, c)\r\n                      : Qi(t, o.line, 'text')\r\n                    var u = ae(t, 'changes'),\r\n                      h = ae(t, 'change')\r\n                    if (h || u) {\r\n                      var d = { from: o, to: s, text: e.text, removed: e.removed, origin: e.origin }\r\n                      h && cn(t, 'change', t, d), u && (t.curOp.changeObjs || (t.curOp.changeObjs = [])).push(d)\r\n                    }\r\n                    t.display.selForContextMenu = null\r\n                  })(t.cm, e, i)\r\n                : Or(t, e, i),\r\n              Xr(t, n, B)\r\n          }\r\n        }\r\n        function uo (t, e, n, i, r) {\r\n          var o\r\n          i || (i = n),\r\n            mt(i, n) < 0 && ((n = (o = [i, n])[0]), (i = o[1])),\r\n            'string' == typeof e && (e = t.splitLines(e)),\r\n            oo(t, { from: n, to: i, text: e, origin: r })\r\n        }\r\n        function ho (t, e, n, i) {\r\n          n < t.line ? (t.line += i) : e < t.line && ((t.line = e), (t.ch = 0))\r\n        }\r\n        function fo (t, e, n, i) {\r\n          for (var r = 0; r < t.length; ++r) {\r\n            var o = t[r],\r\n              s = !0\r\n            if (o.ranges) {\r\n              o.copied || ((o = t[r] = o.deepCopy()).copied = !0)\r\n              for (var a = 0; a < o.ranges.length; a++) ho(o.ranges[a].anchor, e, n, i), ho(o.ranges[a].head, e, n, i)\r\n            } else {\r\n              for (var l = 0; l < o.changes.length; ++l) {\r\n                var c = o.changes[l]\r\n                if (n < c.from.line) (c.from = vt(c.from.line + i, c.from.ch)), (c.to = vt(c.to.line + i, c.to.ch))\r\n                else if (e <= c.to.line) {\r\n                  s = !1\r\n                  break\r\n                }\r\n              }\r\n              s || (t.splice(0, r + 1), (r = 0))\r\n            }\r\n          }\r\n        }\r\n        function po (t, e) {\r\n          var n = e.from.line,\r\n            i = e.to.line,\r\n            r = e.text.length - (i - n) - 1\r\n          fo(t.done, n, i, r), fo(t.undone, n, i, r)\r\n        }\r\n        function go (t, e, n, i) {\r\n          var r = e,\r\n            o = e\r\n          return (\r\n            'number' == typeof e ? (o = lt(t, Ct(t, e))) : (r = dt(e)),\r\n            null == r ? null : (i(o, r) && t.cm && Qi(t.cm, r, n), o)\r\n          )\r\n        }\r\n        function vo (t) {\r\n          ;(this.lines = t), (this.parent = null)\r\n          for (var e = 0, n = 0; n < t.length; ++n) (t[n].parent = this), (e += t[n].height)\r\n          this.height = e\r\n        }\r\n        function mo (t) {\r\n          this.children = t\r\n          for (var e = 0, n = 0, i = 0; i < t.length; ++i) {\r\n            var r = t[i]\r\n            ;(e += r.chunkSize()), (n += r.height), (r.parent = this)\r\n          }\r\n          ;(this.size = e), (this.height = n), (this.parent = null)\r\n        }\r\n        ;(br.prototype.from = function () {\r\n          return wt(this.anchor, this.head)\r\n        }),\r\n          (br.prototype.to = function () {\r\n            return xt(this.anchor, this.head)\r\n          }),\r\n          (br.prototype.empty = function () {\r\n            return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch\r\n          }),\r\n          (vo.prototype = {\r\n            chunkSize: function () {\r\n              return this.lines.length\r\n            },\r\n            removeInner: function (t, e) {\r\n              for (var n = t, i = t + e; n < i; ++n) {\r\n                var r = this.lines[n]\r\n                ;(this.height -= r.height), Ye(r), cn(r, 'delete')\r\n              }\r\n              this.lines.splice(t, e)\r\n            },\r\n            collapse: function (t) {\r\n              t.push.apply(t, this.lines)\r\n            },\r\n            insertInner: function (t, e, n) {\r\n              ;(this.height += n),\r\n                (this.lines = this.lines\r\n                  .slice(0, t)\r\n                  .concat(e)\r\n                  .concat(this.lines.slice(t)))\r\n              for (var i = 0; i < e.length; ++i) e[i].parent = this\r\n            },\r\n            iterN: function (t, e, n) {\r\n              for (var i = t + e; t < i; ++t) if (n(this.lines[t])) return !0\r\n            }\r\n          }),\r\n          (mo.prototype = {\r\n            chunkSize: function () {\r\n              return this.size\r\n            },\r\n            removeInner: function (t, e) {\r\n              this.size -= e\r\n              for (var n = 0; n < this.children.length; ++n) {\r\n                var i = this.children[n],\r\n                  r = i.chunkSize()\r\n                if (t < r) {\r\n                  var o = Math.min(e, r - t),\r\n                    s = i.height\r\n                  if (\r\n                    (i.removeInner(t, o),\r\n                    (this.height -= s - i.height),\r\n                    r == o && (this.children.splice(n--, 1), (i.parent = null)),\r\n                    0 == (e -= o))\r\n                  )\r\n                    break\r\n                  t = 0\r\n                } else t -= r\r\n              }\r\n              if (this.size - e < 25 && (this.children.length > 1 || !(this.children[0] instanceof vo))) {\r\n                var a = []\r\n                this.collapse(a), (this.children = [new vo(a)]), (this.children[0].parent = this)\r\n              }\r\n            },\r\n            collapse: function (t) {\r\n              for (var e = 0; e < this.children.length; ++e) this.children[e].collapse(t)\r\n            },\r\n            insertInner: function (t, e, n) {\r\n              ;(this.size += e.length), (this.height += n)\r\n              for (var i = 0; i < this.children.length; ++i) {\r\n                var r = this.children[i],\r\n                  o = r.chunkSize()\r\n                if (t <= o) {\r\n                  if ((r.insertInner(t, e, n), r.lines && r.lines.length > 50)) {\r\n                    for (var s = (r.lines.length % 25) + 25, a = s; a < r.lines.length; ) {\r\n                      var l = new vo(r.lines.slice(a, (a += 25)))\r\n                      ;(r.height -= l.height), this.children.splice(++i, 0, l), (l.parent = this)\r\n                    }\r\n                    ;(r.lines = r.lines.slice(0, s)), this.maybeSpill()\r\n                  }\r\n                  break\r\n                }\r\n                t -= o\r\n              }\r\n            },\r\n            maybeSpill: function () {\r\n              if (!(this.children.length <= 10)) {\r\n                var t = this\r\n                do {\r\n                  var e = t.children.splice(t.children.length - 5, 5),\r\n                    n = new mo(e)\r\n                  if (t.parent) {\r\n                    ;(t.size -= n.size), (t.height -= n.height)\r\n                    var i = V(t.parent.children, t)\r\n                    t.parent.children.splice(i + 1, 0, n)\r\n                  } else {\r\n                    var r = new mo(t.children)\r\n                    ;(r.parent = t), (t.children = [r, n]), (t = r)\r\n                  }\r\n                  n.parent = t.parent\r\n                } while (t.children.length > 10)\r\n                t.parent.maybeSpill()\r\n              }\r\n            },\r\n            iterN: function (t, e, n) {\r\n              for (var i = 0; i < this.children.length; ++i) {\r\n                var r = this.children[i],\r\n                  o = r.chunkSize()\r\n                if (t < o) {\r\n                  var s = Math.min(e, o - t)\r\n                  if (r.iterN(t, s, n)) return !0\r\n                  if (0 == (e -= s)) break\r\n                  t = 0\r\n                } else t -= o\r\n              }\r\n            }\r\n          })\r\n        var yo = function (t, e, n) {\r\n          if (n) for (var i in n) n.hasOwnProperty(i) && (this[i] = n[i])\r\n          ;(this.doc = t), (this.node = e)\r\n        }\r\n        function bo (t, e, n) {\r\n          Kt(e) < ((t.curOp && t.curOp.scrollTop) || t.doc.scrollTop) && Ei(t, n)\r\n        }\r\n        ;(yo.prototype.clear = function () {\r\n          var t = this.doc.cm,\r\n            e = this.line.widgets,\r\n            n = this.line,\r\n            i = dt(n)\r\n          if (null != i && e) {\r\n            for (var r = 0; r < e.length; ++r) e[r] == this && e.splice(r--, 1)\r\n            e.length || (n.widgets = null)\r\n            var o = Cn(this)\r\n            ht(n, Math.max(0, n.height - o)),\r\n              t &&\r\n                (Yi(t, function () {\r\n                  bo(t, n, -o), Qi(t, i, 'widget')\r\n                }),\r\n                cn(t, 'lineWidgetCleared', t, this, i))\r\n          }\r\n        }),\r\n          (yo.prototype.changed = function () {\r\n            var t = this,\r\n              e = this.height,\r\n              n = this.doc.cm,\r\n              i = this.line\r\n            this.height = null\r\n            var r = Cn(this) - e\r\n            r &&\r\n              (Ut(this.doc, i) || ht(i, i.height + r),\r\n              n &&\r\n                Yi(n, function () {\r\n                  ;(n.curOp.forceUpdate = !0), bo(n, i, r), cn(n, 'lineWidgetChanged', n, t, dt(i))\r\n                }))\r\n          }),\r\n          le(yo)\r\n        var xo = 0,\r\n          wo = function (t, e) {\r\n            ;(this.lines = []), (this.type = e), (this.doc = t), (this.id = ++xo)\r\n          }\r\n        function Co (t, e, n, i, r) {\r\n          if (i && i.shared)\r\n            return (function (t, e, n, i, r) {\r\n              ;(i = j(i)).shared = !1\r\n              var o = [Co(t, e, n, i, r)],\r\n                s = o[0],\r\n                a = i.widgetNode\r\n              return (\r\n                Pr(t, function (t) {\r\n                  a && (i.widgetNode = a.cloneNode(!0)), o.push(Co(t, kt(t, e), kt(t, n), i, r))\r\n                  for (var l = 0; l < t.linked.length; ++l) if (t.linked[l].isParent) return\r\n                  s = G(o)\r\n                }),\r\n                new ko(o, s)\r\n              )\r\n            })(t, e, n, i, r)\r\n          if (t.cm && !t.cm.curOp) return Gi(t.cm, Co)(t, e, n, i, r)\r\n          var o = new wo(t, r),\r\n            s = mt(e, n)\r\n          if ((i && j(i, o, !1), s > 0 || (0 == s && !1 !== o.clearWhenEmpty))) return o\r\n          if (\r\n            (o.replacedWith &&\r\n              ((o.collapsed = !0),\r\n              (o.widgetNode = P('span', [o.replacedWith], 'CodeMirror-widget')),\r\n              i.handleMouseEvents || o.widgetNode.setAttribute('cm-ignore-events', 'true'),\r\n              i.insertLeft && (o.widgetNode.insertLeft = !0)),\r\n            o.collapsed)\r\n          ) {\r\n            if (Ht(t, e.line, e, n, o) || (e.line != n.line && Ht(t, n.line, e, n, o)))\r\n              throw new Error('Inserting collapsed marker partially overlapping an existing one')\r\n            Et = !0\r\n          }\r\n          o.addToHistory && Fr(t, { from: e, to: n, origin: 'markText' }, t.sel, NaN)\r\n          var a,\r\n            l = e.line,\r\n            c = t.cm\r\n          if (\r\n            (t.iter(l, n.line + 1, function (t) {\r\n              c && o.collapsed && !c.options.lineWrapping && $t(t) == c.display.maxLine && (a = !0),\r\n                o.collapsed && l != e.line && ht(t, 0),\r\n                (function (t, e) {\r\n                  ;(t.markedSpans = t.markedSpans ? t.markedSpans.concat([e]) : [e]), e.marker.attachLine(t)\r\n                })(t, new Mt(o, l == e.line ? e.ch : null, l == n.line ? n.ch : null)),\r\n                ++l\r\n            }),\r\n            o.collapsed &&\r\n              t.iter(e.line, n.line + 1, function (e) {\r\n                Ut(t, e) && ht(e, 0)\r\n              }),\r\n            o.clearOnEnter &&\r\n              ee(o, 'beforeCursorEnter', function () {\r\n                return o.clear()\r\n              }),\r\n            o.readOnly && ((Tt = !0), (t.history.done.length || t.history.undone.length) && t.clearHistory()),\r\n            o.collapsed && ((o.id = ++xo), (o.atomic = !0)),\r\n            c)\r\n          ) {\r\n            if ((a && (c.curOp.updateMaxLine = !0), o.collapsed)) Zi(c, e.line, n.line + 1)\r\n            else if (o.className || o.startStyle || o.endStyle || o.css || o.attributes || o.title)\r\n              for (var u = e.line; u <= n.line; u++) Qi(c, u, 'text')\r\n            o.atomic && Zr(c.doc), cn(c, 'markerAdded', c, o)\r\n          }\r\n          return o\r\n        }\r\n        ;(wo.prototype.clear = function () {\r\n          if (!this.explicitlyCleared) {\r\n            var t = this.doc.cm,\r\n              e = t && !t.curOp\r\n            if ((e && $i(t), ae(this, 'clear'))) {\r\n              var n = this.find()\r\n              n && cn(this, 'clear', n.from, n.to)\r\n            }\r\n            for (var i = null, r = null, o = 0; o < this.lines.length; ++o) {\r\n              var s = this.lines[o],\r\n                a = At(s.markedSpans, this)\r\n              t && !this.collapsed\r\n                ? Qi(t, dt(s), 'text')\r\n                : t && (null != a.to && (r = dt(s)), null != a.from && (i = dt(s))),\r\n                (s.markedSpans = Ot(s.markedSpans, a)),\r\n                null == a.from && this.collapsed && !Ut(this.doc, s) && t && ht(s, ni(t.display))\r\n            }\r\n            if (t && this.collapsed && !t.options.lineWrapping)\r\n              for (var l = 0; l < this.lines.length; ++l) {\r\n                var c = $t(this.lines[l]),\r\n                  u = Yt(c)\r\n                u > t.display.maxLineLength &&\r\n                  ((t.display.maxLine = c), (t.display.maxLineLength = u), (t.display.maxLineChanged = !0))\r\n              }\r\n            null != i && t && this.collapsed && Zi(t, i, r + 1),\r\n              (this.lines.length = 0),\r\n              (this.explicitlyCleared = !0),\r\n              this.atomic && this.doc.cantEdit && ((this.doc.cantEdit = !1), t && Zr(t.doc)),\r\n              t && cn(t, 'markerCleared', t, this, i, r),\r\n              e && Bi(t),\r\n              this.parent && this.parent.clear()\r\n          }\r\n        }),\r\n          (wo.prototype.find = function (t, e) {\r\n            var n, i\r\n            null == t && 'bookmark' == this.type && (t = 1)\r\n            for (var r = 0; r < this.lines.length; ++r) {\r\n              var o = this.lines[r],\r\n                s = At(o.markedSpans, this)\r\n              if (null != s.from && ((n = vt(e ? o : dt(o), s.from)), -1 == t)) return n\r\n              if (null != s.to && ((i = vt(e ? o : dt(o), s.to)), 1 == t)) return i\r\n            }\r\n            return n && { from: n, to: i }\r\n          }),\r\n          (wo.prototype.changed = function () {\r\n            var t = this,\r\n              e = this.find(-1, !0),\r\n              n = this,\r\n              i = this.doc.cm\r\n            e &&\r\n              i &&\r\n              Yi(i, function () {\r\n                var r = e.line,\r\n                  o = dt(e.line),\r\n                  s = _n(i, o)\r\n                if (\r\n                  (s && (zn(s), (i.curOp.selectionChanged = i.curOp.forceUpdate = !0)),\r\n                  (i.curOp.updateMaxLine = !0),\r\n                  !Ut(n.doc, r) && null != n.height)\r\n                ) {\r\n                  var a = n.height\r\n                  n.height = null\r\n                  var l = Cn(n) - a\r\n                  l && ht(r, r.height + l)\r\n                }\r\n                cn(i, 'markerChanged', i, t)\r\n              })\r\n          }),\r\n          (wo.prototype.attachLine = function (t) {\r\n            if (!this.lines.length && this.doc.cm) {\r\n              var e = this.doc.cm.curOp\r\n              ;(e.maybeHiddenMarkers && -1 != V(e.maybeHiddenMarkers, this)) ||\r\n                (e.maybeUnhiddenMarkers || (e.maybeUnhiddenMarkers = [])).push(this)\r\n            }\r\n            this.lines.push(t)\r\n          }),\r\n          (wo.prototype.detachLine = function (t) {\r\n            if ((this.lines.splice(V(this.lines, t), 1), !this.lines.length && this.doc.cm)) {\r\n              var e = this.doc.cm.curOp\r\n              ;(e.maybeHiddenMarkers || (e.maybeHiddenMarkers = [])).push(this)\r\n            }\r\n          }),\r\n          le(wo)\r\n        var ko = function (t, e) {\r\n          ;(this.markers = t), (this.primary = e)\r\n          for (var n = 0; n < t.length; ++n) t[n].parent = this\r\n        }\r\n        function So (t) {\r\n          return t.findMarks(vt(t.first, 0), t.clipPos(vt(t.lastLine())), function (t) {\r\n            return t.parent\r\n          })\r\n        }\r\n        function To (t) {\r\n          for (\r\n            var e = function (e) {\r\n                var n = t[e],\r\n                  i = [n.primary.doc]\r\n                Pr(n.primary.doc, function (t) {\r\n                  return i.push(t)\r\n                })\r\n                for (var r = 0; r < n.markers.length; r++) {\r\n                  var o = n.markers[r]\r\n                  ;-1 == V(i, o.doc) && ((o.parent = null), n.markers.splice(r--, 1))\r\n                }\r\n              },\r\n              n = 0;\r\n            n < t.length;\r\n            n++\r\n          )\r\n            e(n)\r\n        }\r\n        ;(ko.prototype.clear = function () {\r\n          if (!this.explicitlyCleared) {\r\n            this.explicitlyCleared = !0\r\n            for (var t = 0; t < this.markers.length; ++t) this.markers[t].clear()\r\n            cn(this, 'clear')\r\n          }\r\n        }),\r\n          (ko.prototype.find = function (t, e) {\r\n            return this.primary.find(t, e)\r\n          }),\r\n          le(ko)\r\n        var Eo = 0,\r\n          Mo = function (t, e, n, i, r) {\r\n            if (!(this instanceof Mo)) return new Mo(t, e, n, i, r)\r\n            null == n && (n = 0),\r\n              mo.call(this, [new vo([new Ke('', null)])]),\r\n              (this.first = n),\r\n              (this.scrollTop = this.scrollLeft = 0),\r\n              (this.cantEdit = !1),\r\n              (this.cleanGeneration = 1),\r\n              (this.modeFrontier = this.highlightFrontier = n)\r\n            var o = vt(n, 0)\r\n            ;(this.sel = wr(o)),\r\n              (this.history = new Nr(null)),\r\n              (this.id = ++Eo),\r\n              (this.modeOption = e),\r\n              (this.lineSep = i),\r\n              (this.direction = 'rtl' == r ? 'rtl' : 'ltr'),\r\n              (this.extend = !1),\r\n              'string' == typeof t && (t = this.splitLines(t)),\r\n              Or(this, { from: o, to: o, text: t }),\r\n              Gr(this, wr(o), B)\r\n          }\r\n        ;(Mo.prototype = Z(mo.prototype, {\r\n          constructor: Mo,\r\n          iter: function (t, e, n) {\r\n            n ? this.iterN(t - this.first, e - t, n) : this.iterN(this.first, this.first + this.size, t)\r\n          },\r\n          insert: function (t, e) {\r\n            for (var n = 0, i = 0; i < e.length; ++i) n += e[i].height\r\n            this.insertInner(t - this.first, e, n)\r\n          },\r\n          remove: function (t, e) {\r\n            this.removeInner(t - this.first, e)\r\n          },\r\n          getValue: function (t) {\r\n            var e = ut(this, this.first, this.first + this.size)\r\n            return !1 === t ? e : e.join(t || this.lineSeparator())\r\n          },\r\n          setValue: Ji(function (t) {\r\n            var e = vt(this.first, 0),\r\n              n = this.first + this.size - 1\r\n            oo(\r\n              this,\r\n              { from: e, to: vt(n, lt(this, n).text.length), text: this.splitLines(t), origin: 'setValue', full: !0 },\r\n              !0\r\n            ),\r\n              this.cm && Ai(this.cm, 0, 0),\r\n              Gr(this, wr(e), B)\r\n          }),\r\n          replaceRange: function (t, e, n, i) {\r\n            ;(e = kt(this, e)), (n = n ? kt(this, n) : e), uo(this, t, e, n, i)\r\n          },\r\n          getRange: function (t, e, n) {\r\n            var i = ct(this, kt(this, t), kt(this, e))\r\n            return !1 === n ? i : i.join(n || this.lineSeparator())\r\n          },\r\n          getLine: function (t) {\r\n            var e = this.getLineHandle(t)\r\n            return e && e.text\r\n          },\r\n          getLineHandle: function (t) {\r\n            if (pt(this, t)) return lt(this, t)\r\n          },\r\n          getLineNumber: function (t) {\r\n            return dt(t)\r\n          },\r\n          getLineHandleVisualStart: function (t) {\r\n            return 'number' == typeof t && (t = lt(this, t)), $t(t)\r\n          },\r\n          lineCount: function () {\r\n            return this.size\r\n          },\r\n          firstLine: function () {\r\n            return this.first\r\n          },\r\n          lastLine: function () {\r\n            return this.first + this.size - 1\r\n          },\r\n          clipPos: function (t) {\r\n            return kt(this, t)\r\n          },\r\n          getCursor: function (t) {\r\n            var e = this.sel.primary()\r\n            return null == t || 'head' == t\r\n              ? e.head\r\n              : 'anchor' == t\r\n              ? e.anchor\r\n              : 'end' == t || 'to' == t || !1 === t\r\n              ? e.to()\r\n              : e.from()\r\n          },\r\n          listSelections: function () {\r\n            return this.sel.ranges\r\n          },\r\n          somethingSelected: function () {\r\n            return this.sel.somethingSelected()\r\n          },\r\n          setCursor: Ji(function (t, e, n) {\r\n            Kr(this, kt(this, 'number' == typeof t ? vt(t, e || 0) : t), null, n)\r\n          }),\r\n          setSelection: Ji(function (t, e, n) {\r\n            Kr(this, kt(this, t), kt(this, e || t), n)\r\n          }),\r\n          extendSelection: Ji(function (t, e, n) {\r\n            Wr(this, kt(this, t), e && kt(this, e), n)\r\n          }),\r\n          extendSelections: Ji(function (t, e) {\r\n            Ur(this, St(this, t), e)\r\n          }),\r\n          extendSelectionsBy: Ji(function (t, e) {\r\n            var n = X(this.sel.ranges, t)\r\n            Ur(this, St(this, n), e)\r\n          }),\r\n          setSelections: Ji(function (t, e, n) {\r\n            if (t.length) {\r\n              for (var i = [], r = 0; r < t.length; r++) i[r] = new br(kt(this, t[r].anchor), kt(this, t[r].head))\r\n              null == e && (e = Math.min(t.length - 1, this.sel.primIndex)), Gr(this, xr(this.cm, i, e), n)\r\n            }\r\n          }),\r\n          addSelection: Ji(function (t, e, n) {\r\n            var i = this.sel.ranges.slice(0)\r\n            i.push(new br(kt(this, t), kt(this, e || t))), Gr(this, xr(this.cm, i, i.length - 1), n)\r\n          }),\r\n          getSelection: function (t) {\r\n            for (var e, n = this.sel.ranges, i = 0; i < n.length; i++) {\r\n              var r = ct(this, n[i].from(), n[i].to())\r\n              e = e ? e.concat(r) : r\r\n            }\r\n            return !1 === t ? e : e.join(t || this.lineSeparator())\r\n          },\r\n          getSelections: function (t) {\r\n            for (var e = [], n = this.sel.ranges, i = 0; i < n.length; i++) {\r\n              var r = ct(this, n[i].from(), n[i].to())\r\n              !1 !== t && (r = r.join(t || this.lineSeparator())), (e[i] = r)\r\n            }\r\n            return e\r\n          },\r\n          replaceSelection: function (t, e, n) {\r\n            for (var i = [], r = 0; r < this.sel.ranges.length; r++) i[r] = t\r\n            this.replaceSelections(i, e, n || '+input')\r\n          },\r\n          replaceSelections: Ji(function (t, e, n) {\r\n            for (var i = [], r = this.sel, o = 0; o < r.ranges.length; o++) {\r\n              var s = r.ranges[o]\r\n              i[o] = { from: s.from(), to: s.to(), text: this.splitLines(t[o]), origin: n }\r\n            }\r\n            for (\r\n              var a =\r\n                  e &&\r\n                  'end' != e &&\r\n                  (function (t, e, n) {\r\n                    for (var i = [], r = vt(t.first, 0), o = r, s = 0; s < e.length; s++) {\r\n                      var a = e[s],\r\n                        l = Tr(a.from, r, o),\r\n                        c = Tr(Cr(a), r, o)\r\n                      if (((r = a.to), (o = c), 'around' == n)) {\r\n                        var u = t.sel.ranges[s],\r\n                          h = mt(u.head, u.anchor) < 0\r\n                        i[s] = new br(h ? c : l, h ? l : c)\r\n                      } else i[s] = new br(l, l)\r\n                    }\r\n                    return new yr(i, t.sel.primIndex)\r\n                  })(this, i, e),\r\n                l = i.length - 1;\r\n              l >= 0;\r\n              l--\r\n            )\r\n              oo(this, i[l])\r\n            a ? Yr(this, a) : this.cm && Mi(this.cm)\r\n          }),\r\n          undo: Ji(function () {\r\n            ao(this, 'undo')\r\n          }),\r\n          redo: Ji(function () {\r\n            ao(this, 'redo')\r\n          }),\r\n          undoSelection: Ji(function () {\r\n            ao(this, 'undo', !0)\r\n          }),\r\n          redoSelection: Ji(function () {\r\n            ao(this, 'redo', !0)\r\n          }),\r\n          setExtending: function (t) {\r\n            this.extend = t\r\n          },\r\n          getExtending: function () {\r\n            return this.extend\r\n          },\r\n          historySize: function () {\r\n            for (var t = this.history, e = 0, n = 0, i = 0; i < t.done.length; i++) t.done[i].ranges || ++e\r\n            for (var r = 0; r < t.undone.length; r++) t.undone[r].ranges || ++n\r\n            return { undo: e, redo: n }\r\n          },\r\n          clearHistory: function () {\r\n            this.history = new Nr(this.history.maxGeneration)\r\n          },\r\n          markClean: function () {\r\n            this.cleanGeneration = this.changeGeneration(!0)\r\n          },\r\n          changeGeneration: function (t) {\r\n            return (\r\n              t && (this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null),\r\n              this.history.generation\r\n            )\r\n          },\r\n          isClean: function (t) {\r\n            return this.history.generation == (t || this.cleanGeneration)\r\n          },\r\n          getHistory: function () {\r\n            return { done: $r(this.history.done), undone: $r(this.history.undone) }\r\n          },\r\n          setHistory: function (t) {\r\n            var e = (this.history = new Nr(this.history.maxGeneration))\r\n            ;(e.done = $r(t.done.slice(0), null, !0)), (e.undone = $r(t.undone.slice(0), null, !0))\r\n          },\r\n          setGutterMarker: Ji(function (t, e, n) {\r\n            return go(this, t, 'gutter', function (t) {\r\n              var i = t.gutterMarkers || (t.gutterMarkers = {})\r\n              return (i[e] = n), !n && nt(i) && (t.gutterMarkers = null), !0\r\n            })\r\n          }),\r\n          clearGutter: Ji(function (t) {\r\n            var e = this\r\n            this.iter(function (n) {\r\n              n.gutterMarkers &&\r\n                n.gutterMarkers[t] &&\r\n                go(e, n, 'gutter', function () {\r\n                  return (n.gutterMarkers[t] = null), nt(n.gutterMarkers) && (n.gutterMarkers = null), !0\r\n                })\r\n            })\r\n          }),\r\n          lineInfo: function (t) {\r\n            var e\r\n            if ('number' == typeof t) {\r\n              if (!pt(this, t)) return null\r\n              if (((e = t), !(t = lt(this, t)))) return null\r\n            } else if (null == (e = dt(t))) return null\r\n            return {\r\n              line: e,\r\n              handle: t,\r\n              text: t.text,\r\n              gutterMarkers: t.gutterMarkers,\r\n              textClass: t.textClass,\r\n              bgClass: t.bgClass,\r\n              wrapClass: t.wrapClass,\r\n              widgets: t.widgets\r\n            }\r\n          },\r\n          addLineClass: Ji(function (t, e, n) {\r\n            return go(this, t, 'gutter' == e ? 'gutter' : 'class', function (t) {\r\n              var i =\r\n                'text' == e ? 'textClass' : 'background' == e ? 'bgClass' : 'gutter' == e ? 'gutterClass' : 'wrapClass'\r\n              if (t[i]) {\r\n                if (S(n).test(t[i])) return !1\r\n                t[i] += ' ' + n\r\n              } else t[i] = n\r\n              return !0\r\n            })\r\n          }),\r\n          removeLineClass: Ji(function (t, e, n) {\r\n            return go(this, t, 'gutter' == e ? 'gutter' : 'class', function (t) {\r\n              var i =\r\n                  'text' == e\r\n                    ? 'textClass'\r\n                    : 'background' == e\r\n                    ? 'bgClass'\r\n                    : 'gutter' == e\r\n                    ? 'gutterClass'\r\n                    : 'wrapClass',\r\n                r = t[i]\r\n              if (!r) return !1\r\n              if (null == n) t[i] = null\r\n              else {\r\n                var o = r.match(S(n))\r\n                if (!o) return !1\r\n                var s = o.index + o[0].length\r\n                t[i] = r.slice(0, o.index) + (o.index && s != r.length ? ' ' : '') + r.slice(s) || null\r\n              }\r\n              return !0\r\n            })\r\n          }),\r\n          addLineWidget: Ji(function (t, e, n) {\r\n            return (function (t, e, n, i) {\r\n              var r = new yo(t, n, i),\r\n                o = t.cm\r\n              return (\r\n                o && r.noHScroll && (o.display.alignWidgets = !0),\r\n                go(t, e, 'widget', function (e) {\r\n                  var n = e.widgets || (e.widgets = [])\r\n                  if (\r\n                    (null == r.insertAt ? n.push(r) : n.splice(Math.min(n.length - 1, Math.max(0, r.insertAt)), 0, r),\r\n                    (r.line = e),\r\n                    o && !Ut(t, e))\r\n                  ) {\r\n                    var i = Kt(e) < t.scrollTop\r\n                    ht(e, e.height + Cn(r)), i && Ei(o, r.height), (o.curOp.forceUpdate = !0)\r\n                  }\r\n                  return !0\r\n                }),\r\n                o && cn(o, 'lineWidgetAdded', o, r, 'number' == typeof e ? e : dt(e)),\r\n                r\r\n              )\r\n            })(this, t, e, n)\r\n          }),\r\n          removeLineWidget: function (t) {\r\n            t.clear()\r\n          },\r\n          markText: function (t, e, n) {\r\n            return Co(this, kt(this, t), kt(this, e), n, (n && n.type) || 'range')\r\n          },\r\n          setBookmark: function (t, e) {\r\n            var n = {\r\n              replacedWith: e && (null == e.nodeType ? e.widget : e),\r\n              insertLeft: e && e.insertLeft,\r\n              clearWhenEmpty: !1,\r\n              shared: e && e.shared,\r\n              handleMouseEvents: e && e.handleMouseEvents\r\n            }\r\n            return Co(this, (t = kt(this, t)), t, n, 'bookmark')\r\n          },\r\n          findMarksAt: function (t) {\r\n            t = kt(this, t)\r\n            var e = [],\r\n              n = lt(this, t.line).markedSpans\r\n            if (n)\r\n              for (var i = 0; i < n.length; ++i) {\r\n                var r = n[i]\r\n                ;(null == r.from || r.from <= t.ch) &&\r\n                  (null == r.to || r.to >= t.ch) &&\r\n                  e.push(r.marker.parent || r.marker)\r\n              }\r\n            return e\r\n          },\r\n          findMarks: function (t, e, n) {\r\n            ;(t = kt(this, t)), (e = kt(this, e))\r\n            var i = [],\r\n              r = t.line\r\n            return (\r\n              this.iter(t.line, e.line + 1, function (o) {\r\n                var s = o.markedSpans\r\n                if (s)\r\n                  for (var a = 0; a < s.length; a++) {\r\n                    var l = s[a]\r\n                    ;(null != l.to && r == t.line && t.ch >= l.to) ||\r\n                      (null == l.from && r != t.line) ||\r\n                      (null != l.from && r == e.line && l.from >= e.ch) ||\r\n                      (n && !n(l.marker)) ||\r\n                      i.push(l.marker.parent || l.marker)\r\n                  }\r\n                ++r\r\n              }),\r\n              i\r\n            )\r\n          },\r\n          getAllMarks: function () {\r\n            var t = []\r\n            return (\r\n              this.iter(function (e) {\r\n                var n = e.markedSpans\r\n                if (n) for (var i = 0; i < n.length; ++i) null != n[i].from && t.push(n[i].marker)\r\n              }),\r\n              t\r\n            )\r\n          },\r\n          posFromIndex: function (t) {\r\n            var e,\r\n              n = this.first,\r\n              i = this.lineSeparator().length\r\n            return (\r\n              this.iter(function (r) {\r\n                var o = r.text.length + i\r\n                if (o > t) return (e = t), !0\r\n                ;(t -= o), ++n\r\n              }),\r\n              kt(this, vt(n, e))\r\n            )\r\n          },\r\n          indexFromPos: function (t) {\r\n            var e = (t = kt(this, t)).ch\r\n            if (t.line < this.first || t.ch < 0) return 0\r\n            var n = this.lineSeparator().length\r\n            return (\r\n              this.iter(this.first, t.line, function (t) {\r\n                e += t.text.length + n\r\n              }),\r\n              e\r\n            )\r\n          },\r\n          copy: function (t) {\r\n            var e = new Mo(\r\n              ut(this, this.first, this.first + this.size),\r\n              this.modeOption,\r\n              this.first,\r\n              this.lineSep,\r\n              this.direction\r\n            )\r\n            return (\r\n              (e.scrollTop = this.scrollTop),\r\n              (e.scrollLeft = this.scrollLeft),\r\n              (e.sel = this.sel),\r\n              (e.extend = !1),\r\n              t && ((e.history.undoDepth = this.history.undoDepth), e.setHistory(this.getHistory())),\r\n              e\r\n            )\r\n          },\r\n          linkedDoc: function (t) {\r\n            t || (t = {})\r\n            var e = this.first,\r\n              n = this.first + this.size\r\n            null != t.from && t.from > e && (e = t.from), null != t.to && t.to < n && (n = t.to)\r\n            var i = new Mo(ut(this, e, n), t.mode || this.modeOption, e, this.lineSep, this.direction)\r\n            return (\r\n              t.sharedHist && (i.history = this.history),\r\n              (this.linked || (this.linked = [])).push({ doc: i, sharedHist: t.sharedHist }),\r\n              (i.linked = [{ doc: this, isParent: !0, sharedHist: t.sharedHist }]),\r\n              (function (t, e) {\r\n                for (var n = 0; n < e.length; n++) {\r\n                  var i = e[n],\r\n                    r = i.find(),\r\n                    o = t.clipPos(r.from),\r\n                    s = t.clipPos(r.to)\r\n                  if (mt(o, s)) {\r\n                    var a = Co(t, o, s, i.primary, i.primary.type)\r\n                    i.markers.push(a), (a.parent = i)\r\n                  }\r\n                }\r\n              })(i, So(this)),\r\n              i\r\n            )\r\n          },\r\n          unlinkDoc: function (t) {\r\n            if ((t instanceof Ss && (t = t.doc), this.linked))\r\n              for (var e = 0; e < this.linked.length; ++e) {\r\n                var n = this.linked[e]\r\n                if (n.doc == t) {\r\n                  this.linked.splice(e, 1), t.unlinkDoc(this), To(So(this))\r\n                  break\r\n                }\r\n              }\r\n            if (t.history == this.history) {\r\n              var i = [t.id]\r\n              Pr(\r\n                t,\r\n                function (t) {\r\n                  return i.push(t.id)\r\n                },\r\n                !0\r\n              ),\r\n                (t.history = new Nr(null)),\r\n                (t.history.done = $r(this.history.done, i)),\r\n                (t.history.undone = $r(this.history.undone, i))\r\n            }\r\n          },\r\n          iterLinkedDocs: function (t) {\r\n            Pr(this, t)\r\n          },\r\n          getMode: function () {\r\n            return this.mode\r\n          },\r\n          getEditor: function () {\r\n            return this.cm\r\n          },\r\n          splitLines: function (t) {\r\n            return this.lineSep ? t.split(this.lineSep) : we(t)\r\n          },\r\n          lineSeparator: function () {\r\n            return this.lineSep || '\\n'\r\n          },\r\n          setDirection: Ji(function (t) {\r\n            var e\r\n            'rtl' != t && (t = 'ltr'),\r\n              t != this.direction &&\r\n                ((this.direction = t),\r\n                this.iter(function (t) {\r\n                  return (t.order = null)\r\n                }),\r\n                this.cm &&\r\n                  Yi((e = this.cm), function () {\r\n                    _r(e), Zi(e)\r\n                  }))\r\n          })\r\n        })),\r\n          (Mo.prototype.eachLine = Mo.prototype.iter)\r\n        var Ao = 0\r\n        function Oo (t) {\r\n          var e = this\r\n          if ((Po(e), !oe(e, t) && !kn(e.display, t))) {\r\n            ce(t), s && (Ao = +new Date())\r\n            var n = li(e, t, !0),\r\n              i = t.dataTransfer.files\r\n            if (n && !e.isReadOnly())\r\n              if (i && i.length && window.FileReader && window.File)\r\n                for (\r\n                  var r = i.length,\r\n                    o = Array(r),\r\n                    a = 0,\r\n                    l = function (t, i) {\r\n                      if (!e.options.allowDropFileTypes || -1 != V(e.options.allowDropFileTypes, t.type)) {\r\n                        var s = new FileReader()\r\n                        ;(s.onload = Gi(e, function () {\r\n                          var t = s.result\r\n                          if ((/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(t) && (t = ''), (o[i] = t), ++a == r)) {\r\n                            var l = {\r\n                              from: (n = kt(e.doc, n)),\r\n                              to: n,\r\n                              text: e.doc.splitLines(o.join(e.doc.lineSeparator())),\r\n                              origin: 'paste'\r\n                            }\r\n                            oo(e.doc, l), Yr(e.doc, wr(n, Cr(l)))\r\n                          }\r\n                        })),\r\n                          s.readAsText(t)\r\n                      }\r\n                    },\r\n                    c = 0;\r\n                  c < r;\r\n                  ++c\r\n                )\r\n                  l(i[c], c)\r\n              else {\r\n                if (e.state.draggingText && e.doc.sel.contains(n) > -1)\r\n                  return (\r\n                    e.state.draggingText(t),\r\n                    void setTimeout(function () {\r\n                      return e.display.input.focus()\r\n                    }, 20)\r\n                  )\r\n                try {\r\n                  var u = t.dataTransfer.getData('Text')\r\n                  if (u) {\r\n                    var h\r\n                    if (\r\n                      (e.state.draggingText && !e.state.draggingText.copy && (h = e.listSelections()),\r\n                      Xr(e.doc, wr(n, n)),\r\n                      h)\r\n                    )\r\n                      for (var d = 0; d < h.length; ++d) uo(e.doc, '', h[d].anchor, h[d].head, 'drag')\r\n                    e.replaceSelection(u, 'around', 'paste'), e.display.input.focus()\r\n                  }\r\n                } catch (t) {}\r\n              }\r\n          }\r\n        }\r\n        function Po (t) {\r\n          t.display.dragCursor && (t.display.lineSpace.removeChild(t.display.dragCursor), (t.display.dragCursor = null))\r\n        }\r\n        function Lo (t) {\r\n          if (document.getElementsByClassName) {\r\n            for (var e = document.getElementsByClassName('CodeMirror'), n = [], i = 0; i < e.length; i++) {\r\n              var r = e[i].CodeMirror\r\n              r && n.push(r)\r\n            }\r\n            n.length &&\r\n              n[0].operation(function () {\r\n                for (var e = 0; e < n.length; e++) t(n[e])\r\n              })\r\n          }\r\n        }\r\n        var _o = !1\r\n        function No () {\r\n          var t\r\n          _o ||\r\n            (ee(window, 'resize', function () {\r\n              null == t &&\r\n                (t = setTimeout(function () {\r\n                  ;(t = null), Lo(Do)\r\n                }, 100))\r\n            }),\r\n            ee(window, 'blur', function () {\r\n              return Lo(bi)\r\n            }),\r\n            (_o = !0))\r\n        }\r\n        function Do (t) {\r\n          var e = t.display\r\n          ;(e.cachedCharWidth = e.cachedTextHeight = e.cachedPaddingH = null), (e.scrollbarsClipped = !1), t.setSize()\r\n        }\r\n        for (\r\n          var Io = {\r\n              3: 'Pause',\r\n              8: 'Backspace',\r\n              9: 'Tab',\r\n              13: 'Enter',\r\n              16: 'Shift',\r\n              17: 'Ctrl',\r\n              18: 'Alt',\r\n              19: 'Pause',\r\n              20: 'CapsLock',\r\n              27: 'Esc',\r\n              32: 'Space',\r\n              33: 'PageUp',\r\n              34: 'PageDown',\r\n              35: 'End',\r\n              36: 'Home',\r\n              37: 'Left',\r\n              38: 'Up',\r\n              39: 'Right',\r\n              40: 'Down',\r\n              44: 'PrintScrn',\r\n              45: 'Insert',\r\n              46: 'Delete',\r\n              59: ';',\r\n              61: '=',\r\n              91: 'Mod',\r\n              92: 'Mod',\r\n              93: 'Mod',\r\n              106: '*',\r\n              107: '=',\r\n              109: '-',\r\n              110: '.',\r\n              111: '/',\r\n              127: 'Delete',\r\n              145: 'ScrollLock',\r\n              173: '-',\r\n              186: ';',\r\n              187: '=',\r\n              188: ',',\r\n              189: '-',\r\n              190: '.',\r\n              191: '/',\r\n              192: '`',\r\n              219: '[',\r\n              220: '\\\\',\r\n              221: ']',\r\n              222: \"'\",\r\n              63232: 'Up',\r\n              63233: 'Down',\r\n              63234: 'Left',\r\n              63235: 'Right',\r\n              63272: 'Delete',\r\n              63273: 'Home',\r\n              63275: 'End',\r\n              63276: 'PageUp',\r\n              63277: 'PageDown',\r\n              63302: 'Insert'\r\n            },\r\n            Fo = 0;\r\n          Fo < 10;\r\n          Fo++\r\n        )\r\n          Io[Fo + 48] = Io[Fo + 96] = String(Fo)\r\n        for (var jo = 65; jo <= 90; jo++) Io[jo] = String.fromCharCode(jo)\r\n        for (var Ro = 1; Ro <= 12; Ro++) Io[Ro + 111] = Io[Ro + 63235] = 'F' + Ro\r\n        var zo = {}\r\n        function Vo (t) {\r\n          var e,\r\n            n,\r\n            i,\r\n            r,\r\n            o = t.split(/-(?!$)/)\r\n          t = o[o.length - 1]\r\n          for (var s = 0; s < o.length - 1; s++) {\r\n            var a = o[s]\r\n            if (/^(cmd|meta|m)$/i.test(a)) r = !0\r\n            else if (/^a(lt)?$/i.test(a)) e = !0\r\n            else if (/^(c|ctrl|control)$/i.test(a)) n = !0\r\n            else {\r\n              if (!/^s(hift)?$/i.test(a)) throw new Error('Unrecognized modifier name: ' + a)\r\n              i = !0\r\n            }\r\n          }\r\n          return e && (t = 'Alt-' + t), n && (t = 'Ctrl-' + t), r && (t = 'Cmd-' + t), i && (t = 'Shift-' + t), t\r\n        }\r\n        function Ho (t) {\r\n          var e = {}\r\n          for (var n in t)\r\n            if (t.hasOwnProperty(n)) {\r\n              var i = t[n]\r\n              if (/^(name|fallthrough|(de|at)tach)$/.test(n)) continue\r\n              if ('...' == i) {\r\n                delete t[n]\r\n                continue\r\n              }\r\n              for (var r = X(n.split(' '), Vo), o = 0; o < r.length; o++) {\r\n                var s = void 0,\r\n                  a = void 0\r\n                o == r.length - 1 ? ((a = r.join(' ')), (s = i)) : ((a = r.slice(0, o + 1).join(' ')), (s = '...'))\r\n                var l = e[a]\r\n                if (l) {\r\n                  if (l != s) throw new Error('Inconsistent bindings for ' + a)\r\n                } else e[a] = s\r\n              }\r\n              delete t[n]\r\n            }\r\n          for (var c in e) t[c] = e[c]\r\n          return t\r\n        }\r\n        function $o (t, e, n, i) {\r\n          var r = (e = qo(e)).call ? e.call(t, i) : e[t]\r\n          if (!1 === r) return 'nothing'\r\n          if ('...' === r) return 'multi'\r\n          if (null != r && n(r)) return 'handled'\r\n          if (e.fallthrough) {\r\n            if ('[object Array]' != Object.prototype.toString.call(e.fallthrough)) return $o(t, e.fallthrough, n, i)\r\n            for (var o = 0; o < e.fallthrough.length; o++) {\r\n              var s = $o(t, e.fallthrough[o], n, i)\r\n              if (s) return s\r\n            }\r\n          }\r\n        }\r\n        function Bo (t) {\r\n          var e = 'string' == typeof t ? t : Io[t.keyCode]\r\n          return 'Ctrl' == e || 'Alt' == e || 'Shift' == e || 'Mod' == e\r\n        }\r\n        function Wo (t, e, n) {\r\n          var i = t\r\n          return (\r\n            e.altKey && 'Alt' != i && (t = 'Alt-' + t),\r\n            (C ? e.metaKey : e.ctrlKey) && 'Ctrl' != i && (t = 'Ctrl-' + t),\r\n            (C ? e.ctrlKey : e.metaKey) && 'Cmd' != i && (t = 'Cmd-' + t),\r\n            !n && e.shiftKey && 'Shift' != i && (t = 'Shift-' + t),\r\n            t\r\n          )\r\n        }\r\n        function Uo (t, e) {\r\n          if (h && 34 == t.keyCode && t.char) return !1\r\n          var n = Io[t.keyCode]\r\n          return null != n && !t.altGraphKey && (3 == t.keyCode && t.code && (n = t.code), Wo(n, t, e))\r\n        }\r\n        function qo (t) {\r\n          return 'string' == typeof t ? zo[t] : t\r\n        }\r\n        function Ko (t, e) {\r\n          for (var n = t.doc.sel.ranges, i = [], r = 0; r < n.length; r++) {\r\n            for (var o = e(n[r]); i.length && mt(o.from, G(i).to) <= 0; ) {\r\n              var s = i.pop()\r\n              if (mt(s.from, o.from) < 0) {\r\n                o.from = s.from\r\n                break\r\n              }\r\n            }\r\n            i.push(o)\r\n          }\r\n          Yi(t, function () {\r\n            for (var e = i.length - 1; e >= 0; e--) uo(t.doc, '', i[e].from, i[e].to, '+delete')\r\n            Mi(t)\r\n          })\r\n        }\r\n        function Yo (t, e, n) {\r\n          var i = ot(t.text, e + n, n)\r\n          return i < 0 || i > t.text.length ? null : i\r\n        }\r\n        function Go (t, e, n) {\r\n          var i = Yo(t, e.ch, n)\r\n          return null == i ? null : new vt(e.line, i, n < 0 ? 'after' : 'before')\r\n        }\r\n        function Xo (t, e, n, i, r) {\r\n          if (t) {\r\n            var o = Qt(n, e.doc.direction)\r\n            if (o) {\r\n              var s,\r\n                a = r < 0 ? G(o) : o[0],\r\n                l = r < 0 == (1 == a.level),\r\n                c = l ? 'after' : 'before'\r\n              if (a.level > 0 || 'rtl' == e.doc.direction) {\r\n                var u = Nn(e, n)\r\n                s = r < 0 ? n.text.length - 1 : 0\r\n                var h = Dn(e, u, s).top\r\n                ;(s = st(\r\n                  function (t) {\r\n                    return Dn(e, u, t).top == h\r\n                  },\r\n                  r < 0 == (1 == a.level) ? a.from : a.to - 1,\r\n                  s\r\n                )),\r\n                  'before' == c && (s = Yo(n, s, 1))\r\n              } else s = r < 0 ? a.to : a.from\r\n              return new vt(i, s, c)\r\n            }\r\n          }\r\n          return new vt(i, r < 0 ? n.text.length : 0, r < 0 ? 'before' : 'after')\r\n        }\r\n        ;(zo.basic = {\r\n          Left: 'goCharLeft',\r\n          Right: 'goCharRight',\r\n          Up: 'goLineUp',\r\n          Down: 'goLineDown',\r\n          End: 'goLineEnd',\r\n          Home: 'goLineStartSmart',\r\n          PageUp: 'goPageUp',\r\n          PageDown: 'goPageDown',\r\n          Delete: 'delCharAfter',\r\n          Backspace: 'delCharBefore',\r\n          'Shift-Backspace': 'delCharBefore',\r\n          Tab: 'defaultTab',\r\n          'Shift-Tab': 'indentAuto',\r\n          Enter: 'newlineAndIndent',\r\n          Insert: 'toggleOverwrite',\r\n          Esc: 'singleSelection'\r\n        }),\r\n          (zo.pcDefault = {\r\n            'Ctrl-A': 'selectAll',\r\n            'Ctrl-D': 'deleteLine',\r\n            'Ctrl-Z': 'undo',\r\n            'Shift-Ctrl-Z': 'redo',\r\n            'Ctrl-Y': 'redo',\r\n            'Ctrl-Home': 'goDocStart',\r\n            'Ctrl-End': 'goDocEnd',\r\n            'Ctrl-Up': 'goLineUp',\r\n            'Ctrl-Down': 'goLineDown',\r\n            'Ctrl-Left': 'goGroupLeft',\r\n            'Ctrl-Right': 'goGroupRight',\r\n            'Alt-Left': 'goLineStart',\r\n            'Alt-Right': 'goLineEnd',\r\n            'Ctrl-Backspace': 'delGroupBefore',\r\n            'Ctrl-Delete': 'delGroupAfter',\r\n            'Ctrl-S': 'save',\r\n            'Ctrl-F': 'find',\r\n            'Ctrl-G': 'findNext',\r\n            'Shift-Ctrl-G': 'findPrev',\r\n            'Shift-Ctrl-F': 'replace',\r\n            'Shift-Ctrl-R': 'replaceAll',\r\n            'Ctrl-[': 'indentLess',\r\n            'Ctrl-]': 'indentMore',\r\n            'Ctrl-U': 'undoSelection',\r\n            'Shift-Ctrl-U': 'redoSelection',\r\n            'Alt-U': 'redoSelection',\r\n            fallthrough: 'basic'\r\n          }),\r\n          (zo.emacsy = {\r\n            'Ctrl-F': 'goCharRight',\r\n            'Ctrl-B': 'goCharLeft',\r\n            'Ctrl-P': 'goLineUp',\r\n            'Ctrl-N': 'goLineDown',\r\n            'Alt-F': 'goWordRight',\r\n            'Alt-B': 'goWordLeft',\r\n            'Ctrl-A': 'goLineStart',\r\n            'Ctrl-E': 'goLineEnd',\r\n            'Ctrl-V': 'goPageDown',\r\n            'Shift-Ctrl-V': 'goPageUp',\r\n            'Ctrl-D': 'delCharAfter',\r\n            'Ctrl-H': 'delCharBefore',\r\n            'Alt-D': 'delWordAfter',\r\n            'Alt-Backspace': 'delWordBefore',\r\n            'Ctrl-K': 'killLine',\r\n            'Ctrl-T': 'transposeChars',\r\n            'Ctrl-O': 'openLine'\r\n          }),\r\n          (zo.macDefault = {\r\n            'Cmd-A': 'selectAll',\r\n            'Cmd-D': 'deleteLine',\r\n            'Cmd-Z': 'undo',\r\n            'Shift-Cmd-Z': 'redo',\r\n            'Cmd-Y': 'redo',\r\n            'Cmd-Home': 'goDocStart',\r\n            'Cmd-Up': 'goDocStart',\r\n            'Cmd-End': 'goDocEnd',\r\n            'Cmd-Down': 'goDocEnd',\r\n            'Alt-Left': 'goGroupLeft',\r\n            'Alt-Right': 'goGroupRight',\r\n            'Cmd-Left': 'goLineLeft',\r\n            'Cmd-Right': 'goLineRight',\r\n            'Alt-Backspace': 'delGroupBefore',\r\n            'Ctrl-Alt-Backspace': 'delGroupAfter',\r\n            'Alt-Delete': 'delGroupAfter',\r\n            'Cmd-S': 'save',\r\n            'Cmd-F': 'find',\r\n            'Cmd-G': 'findNext',\r\n            'Shift-Cmd-G': 'findPrev',\r\n            'Cmd-Alt-F': 'replace',\r\n            'Shift-Cmd-Alt-F': 'replaceAll',\r\n            'Cmd-[': 'indentLess',\r\n            'Cmd-]': 'indentMore',\r\n            'Cmd-Backspace': 'delWrappedLineLeft',\r\n            'Cmd-Delete': 'delWrappedLineRight',\r\n            'Cmd-U': 'undoSelection',\r\n            'Shift-Cmd-U': 'redoSelection',\r\n            'Ctrl-Up': 'goDocStart',\r\n            'Ctrl-Down': 'goDocEnd',\r\n            fallthrough: ['basic', 'emacsy']\r\n          }),\r\n          (zo.default = y ? zo.macDefault : zo.pcDefault)\r\n        var Jo = {\r\n          selectAll: io,\r\n          singleSelection: function (t) {\r\n            return t.setSelection(t.getCursor('anchor'), t.getCursor('head'), B)\r\n          },\r\n          killLine: function (t) {\r\n            return Ko(t, function (e) {\r\n              if (e.empty()) {\r\n                var n = lt(t.doc, e.head.line).text.length\r\n                return e.head.ch == n && e.head.line < t.lastLine()\r\n                  ? { from: e.head, to: vt(e.head.line + 1, 0) }\r\n                  : { from: e.head, to: vt(e.head.line, n) }\r\n              }\r\n              return { from: e.from(), to: e.to() }\r\n            })\r\n          },\r\n          deleteLine: function (t) {\r\n            return Ko(t, function (e) {\r\n              return { from: vt(e.from().line, 0), to: kt(t.doc, vt(e.to().line + 1, 0)) }\r\n            })\r\n          },\r\n          delLineLeft: function (t) {\r\n            return Ko(t, function (t) {\r\n              return { from: vt(t.from().line, 0), to: t.from() }\r\n            })\r\n          },\r\n          delWrappedLineLeft: function (t) {\r\n            return Ko(t, function (e) {\r\n              var n = t.charCoords(e.head, 'div').top + 5,\r\n                i = t.coordsChar({ left: 0, top: n }, 'div')\r\n              return { from: i, to: e.from() }\r\n            })\r\n          },\r\n          delWrappedLineRight: function (t) {\r\n            return Ko(t, function (e) {\r\n              var n = t.charCoords(e.head, 'div').top + 5,\r\n                i = t.coordsChar({ left: t.display.lineDiv.offsetWidth + 100, top: n }, 'div')\r\n              return { from: e.from(), to: i }\r\n            })\r\n          },\r\n          undo: function (t) {\r\n            return t.undo()\r\n          },\r\n          redo: function (t) {\r\n            return t.redo()\r\n          },\r\n          undoSelection: function (t) {\r\n            return t.undoSelection()\r\n          },\r\n          redoSelection: function (t) {\r\n            return t.redoSelection()\r\n          },\r\n          goDocStart: function (t) {\r\n            return t.extendSelection(vt(t.firstLine(), 0))\r\n          },\r\n          goDocEnd: function (t) {\r\n            return t.extendSelection(vt(t.lastLine()))\r\n          },\r\n          goLineStart: function (t) {\r\n            return t.extendSelectionsBy(\r\n              function (e) {\r\n                return Zo(t, e.head.line)\r\n              },\r\n              { origin: '+move', bias: 1 }\r\n            )\r\n          },\r\n          goLineStartSmart: function (t) {\r\n            return t.extendSelectionsBy(\r\n              function (e) {\r\n                return Qo(t, e.head)\r\n              },\r\n              { origin: '+move', bias: 1 }\r\n            )\r\n          },\r\n          goLineEnd: function (t) {\r\n            return t.extendSelectionsBy(\r\n              function (e) {\r\n                return (function (t, e) {\r\n                  var n = lt(t.doc, e),\r\n                    i = (function (t) {\r\n                      for (var e; (e = zt(t)); ) t = e.find(1, !0).line\r\n                      return t\r\n                    })(n)\r\n                  return i != n && (e = dt(i)), Xo(!0, t, n, e, -1)\r\n                })(t, e.head.line)\r\n              },\r\n              { origin: '+move', bias: -1 }\r\n            )\r\n          },\r\n          goLineRight: function (t) {\r\n            return t.extendSelectionsBy(function (e) {\r\n              var n = t.cursorCoords(e.head, 'div').top + 5\r\n              return t.coordsChar({ left: t.display.lineDiv.offsetWidth + 100, top: n }, 'div')\r\n            }, U)\r\n          },\r\n          goLineLeft: function (t) {\r\n            return t.extendSelectionsBy(function (e) {\r\n              var n = t.cursorCoords(e.head, 'div').top + 5\r\n              return t.coordsChar({ left: 0, top: n }, 'div')\r\n            }, U)\r\n          },\r\n          goLineLeftSmart: function (t) {\r\n            return t.extendSelectionsBy(function (e) {\r\n              var n = t.cursorCoords(e.head, 'div').top + 5,\r\n                i = t.coordsChar({ left: 0, top: n }, 'div')\r\n              return i.ch < t.getLine(i.line).search(/\\S/) ? Qo(t, e.head) : i\r\n            }, U)\r\n          },\r\n          goLineUp: function (t) {\r\n            return t.moveV(-1, 'line')\r\n          },\r\n          goLineDown: function (t) {\r\n            return t.moveV(1, 'line')\r\n          },\r\n          goPageUp: function (t) {\r\n            return t.moveV(-1, 'page')\r\n          },\r\n          goPageDown: function (t) {\r\n            return t.moveV(1, 'page')\r\n          },\r\n          goCharLeft: function (t) {\r\n            return t.moveH(-1, 'char')\r\n          },\r\n          goCharRight: function (t) {\r\n            return t.moveH(1, 'char')\r\n          },\r\n          goColumnLeft: function (t) {\r\n            return t.moveH(-1, 'column')\r\n          },\r\n          goColumnRight: function (t) {\r\n            return t.moveH(1, 'column')\r\n          },\r\n          goWordLeft: function (t) {\r\n            return t.moveH(-1, 'word')\r\n          },\r\n          goGroupRight: function (t) {\r\n            return t.moveH(1, 'group')\r\n          },\r\n          goGroupLeft: function (t) {\r\n            return t.moveH(-1, 'group')\r\n          },\r\n          goWordRight: function (t) {\r\n            return t.moveH(1, 'word')\r\n          },\r\n          delCharBefore: function (t) {\r\n            return t.deleteH(-1, 'char')\r\n          },\r\n          delCharAfter: function (t) {\r\n            return t.deleteH(1, 'char')\r\n          },\r\n          delWordBefore: function (t) {\r\n            return t.deleteH(-1, 'word')\r\n          },\r\n          delWordAfter: function (t) {\r\n            return t.deleteH(1, 'word')\r\n          },\r\n          delGroupBefore: function (t) {\r\n            return t.deleteH(-1, 'group')\r\n          },\r\n          delGroupAfter: function (t) {\r\n            return t.deleteH(1, 'group')\r\n          },\r\n          indentAuto: function (t) {\r\n            return t.indentSelection('smart')\r\n          },\r\n          indentMore: function (t) {\r\n            return t.indentSelection('add')\r\n          },\r\n          indentLess: function (t) {\r\n            return t.indentSelection('subtract')\r\n          },\r\n          insertTab: function (t) {\r\n            return t.replaceSelection('\\t')\r\n          },\r\n          insertSoftTab: function (t) {\r\n            for (var e = [], n = t.listSelections(), i = t.options.tabSize, r = 0; r < n.length; r++) {\r\n              var o = n[r].from(),\r\n                s = R(t.getLine(o.line), o.ch, i)\r\n              e.push(Y(i - (s % i)))\r\n            }\r\n            t.replaceSelections(e)\r\n          },\r\n          defaultTab: function (t) {\r\n            t.somethingSelected() ? t.indentSelection('add') : t.execCommand('insertTab')\r\n          },\r\n          transposeChars: function (t) {\r\n            return Yi(t, function () {\r\n              for (var e = t.listSelections(), n = [], i = 0; i < e.length; i++)\r\n                if (e[i].empty()) {\r\n                  var r = e[i].head,\r\n                    o = lt(t.doc, r.line).text\r\n                  if (o)\r\n                    if ((r.ch == o.length && (r = new vt(r.line, r.ch - 1)), r.ch > 0))\r\n                      (r = new vt(r.line, r.ch + 1)),\r\n                        t.replaceRange(o.charAt(r.ch - 1) + o.charAt(r.ch - 2), vt(r.line, r.ch - 2), r, '+transpose')\r\n                    else if (r.line > t.doc.first) {\r\n                      var s = lt(t.doc, r.line - 1).text\r\n                      s &&\r\n                        ((r = new vt(r.line, 1)),\r\n                        t.replaceRange(\r\n                          o.charAt(0) + t.doc.lineSeparator() + s.charAt(s.length - 1),\r\n                          vt(r.line - 1, s.length - 1),\r\n                          r,\r\n                          '+transpose'\r\n                        ))\r\n                    }\r\n                  n.push(new br(r, r))\r\n                }\r\n              t.setSelections(n)\r\n            })\r\n          },\r\n          newlineAndIndent: function (t) {\r\n            return Yi(t, function () {\r\n              for (var e = t.listSelections(), n = e.length - 1; n >= 0; n--)\r\n                t.replaceRange(t.doc.lineSeparator(), e[n].anchor, e[n].head, '+input')\r\n              e = t.listSelections()\r\n              for (var i = 0; i < e.length; i++) t.indentLine(e[i].from().line, null, !0)\r\n              Mi(t)\r\n            })\r\n          },\r\n          openLine: function (t) {\r\n            return t.replaceSelection('\\n', 'start')\r\n          },\r\n          toggleOverwrite: function (t) {\r\n            return t.toggleOverwrite()\r\n          }\r\n        }\r\n        function Zo (t, e) {\r\n          var n = lt(t.doc, e),\r\n            i = $t(n)\r\n          return i != n && (e = dt(i)), Xo(!0, t, i, e, 1)\r\n        }\r\n        function Qo (t, e) {\r\n          var n = Zo(t, e.line),\r\n            i = lt(t.doc, n.line),\r\n            r = Qt(i, t.doc.direction)\r\n          if (!r || 0 == r[0].level) {\r\n            var o = Math.max(0, i.text.search(/\\S/)),\r\n              s = e.line == n.line && e.ch <= o && e.ch\r\n            return vt(n.line, s ? 0 : o, n.sticky)\r\n          }\r\n          return n\r\n        }\r\n        function ts (t, e, n) {\r\n          if ('string' == typeof e && !(e = Jo[e])) return !1\r\n          t.display.input.ensurePolled()\r\n          var i = t.display.shift,\r\n            r = !1\r\n          try {\r\n            t.isReadOnly() && (t.state.suppressEdits = !0), n && (t.display.shift = !1), (r = e(t) != $)\r\n          } finally {\r\n            ;(t.display.shift = i), (t.state.suppressEdits = !1)\r\n          }\r\n          return r\r\n        }\r\n        var es = new z()\r\n        function ns (t, e, n, i) {\r\n          var r = t.state.keySeq\r\n          if (r) {\r\n            if (Bo(e)) return 'handled'\r\n            if (\r\n              (/\\'$/.test(e)\r\n                ? (t.state.keySeq = null)\r\n                : es.set(50, function () {\r\n                    t.state.keySeq == r && ((t.state.keySeq = null), t.display.input.reset())\r\n                  }),\r\n              is(t, r + ' ' + e, n, i))\r\n            )\r\n              return !0\r\n          }\r\n          return is(t, e, n, i)\r\n        }\r\n        function is (t, e, n, i) {\r\n          var r = (function (t, e, n) {\r\n            for (var i = 0; i < t.state.keyMaps.length; i++) {\r\n              var r = $o(e, t.state.keyMaps[i], n, t)\r\n              if (r) return r\r\n            }\r\n            return (t.options.extraKeys && $o(e, t.options.extraKeys, n, t)) || $o(e, t.options.keyMap, n, t)\r\n          })(t, e, i)\r\n          return (\r\n            'multi' == r && (t.state.keySeq = e),\r\n            'handled' == r && cn(t, 'keyHandled', t, e, n),\r\n            ('handled' != r && 'multi' != r) || (ce(n), gi(t)),\r\n            !!r\r\n          )\r\n        }\r\n        function rs (t, e) {\r\n          var n = Uo(e, !0)\r\n          return (\r\n            !!n &&\r\n            (e.shiftKey && !t.state.keySeq\r\n              ? ns(t, 'Shift-' + n, e, function (e) {\r\n                  return ts(t, e, !0)\r\n                }) ||\r\n                ns(t, n, e, function (e) {\r\n                  if ('string' == typeof e ? /^go[A-Z]/.test(e) : e.motion) return ts(t, e)\r\n                })\r\n              : ns(t, n, e, function (e) {\r\n                  return ts(t, e)\r\n                }))\r\n          )\r\n        }\r\n        var os = null\r\n        function ss (t) {\r\n          var e = this\r\n          if (((e.curOp.focus = _()), !oe(e, t))) {\r\n            s && a < 11 && 27 == t.keyCode && (t.returnValue = !1)\r\n            var n = t.keyCode\r\n            e.display.shift = 16 == n || t.shiftKey\r\n            var i = rs(e, t)\r\n            h &&\r\n              ((os = i ? n : null),\r\n              !i && 88 == n && !ke && (y ? t.metaKey : t.ctrlKey) && e.replaceSelection('', null, 'cut')),\r\n              18 != n ||\r\n                /\\bCodeMirror-crosshair\\b/.test(e.display.lineDiv.className) ||\r\n                (function (t) {\r\n                  var e = t.display.lineDiv\r\n                  function n (t) {\r\n                    ;(18 != t.keyCode && t.altKey) ||\r\n                      (E(e, 'CodeMirror-crosshair'), ie(document, 'keyup', n), ie(document, 'mouseover', n))\r\n                  }\r\n                  N(e, 'CodeMirror-crosshair'), ee(document, 'keyup', n), ee(document, 'mouseover', n)\r\n                })(e)\r\n          }\r\n        }\r\n        function as (t) {\r\n          16 == t.keyCode && (this.doc.sel.shift = !1), oe(this, t)\r\n        }\r\n        function ls (t) {\r\n          var e = this\r\n          if (!(kn(e.display, t) || oe(e, t) || (t.ctrlKey && !t.altKey) || (y && t.metaKey))) {\r\n            var n = t.keyCode,\r\n              i = t.charCode\r\n            if (h && n == os) return (os = null), void ce(t)\r\n            if (!h || (t.which && !(t.which < 10)) || !rs(e, t)) {\r\n              var r = String.fromCharCode(null == i ? n : i)\r\n              '\\b' != r &&\r\n                ((function (t, e, n) {\r\n                  return ns(t, \"'\" + n + \"'\", e, function (e) {\r\n                    return ts(t, e, !0)\r\n                  })\r\n                })(e, t, r) ||\r\n                  e.display.input.onKeyPress(t))\r\n            }\r\n          }\r\n        }\r\n        var cs,\r\n          us,\r\n          hs = function (t, e, n) {\r\n            ;(this.time = t), (this.pos = e), (this.button = n)\r\n          }\r\n        function ds (t) {\r\n          var e = this,\r\n            n = e.display\r\n          if (!(oe(e, t) || (n.activeTouch && n.input.supportsTouch())))\r\n            if ((n.input.ensurePolled(), (n.shift = t.shiftKey), kn(n, t)))\r\n              l ||\r\n                ((n.scroller.draggable = !1),\r\n                setTimeout(function () {\r\n                  return (n.scroller.draggable = !0)\r\n                }, 100))\r\n            else if (!gs(e, t)) {\r\n              var i = li(e, t),\r\n                r = pe(t),\r\n                o = i\r\n                  ? (function (t, e) {\r\n                      var n = +new Date()\r\n                      return us && us.compare(n, t, e)\r\n                        ? ((cs = us = null), 'triple')\r\n                        : cs && cs.compare(n, t, e)\r\n                        ? ((us = new hs(n, t, e)), (cs = null), 'double')\r\n                        : ((cs = new hs(n, t, e)), (us = null), 'single')\r\n                    })(i, r)\r\n                  : 'single'\r\n              window.focus(),\r\n                1 == r && e.state.selectingText && e.state.selectingText(t),\r\n                (i &&\r\n                  (function (t, e, n, i, r) {\r\n                    var o = 'Click'\r\n                    return (\r\n                      'double' == i ? (o = 'Double' + o) : 'triple' == i && (o = 'Triple' + o),\r\n                      ns(t, Wo((o = (1 == e ? 'Left' : 2 == e ? 'Middle' : 'Right') + o), r), r, function (e) {\r\n                        if (('string' == typeof e && (e = Jo[e]), !e)) return !1\r\n                        var i = !1\r\n                        try {\r\n                          t.isReadOnly() && (t.state.suppressEdits = !0), (i = e(t, n) != $)\r\n                        } finally {\r\n                          t.state.suppressEdits = !1\r\n                        }\r\n                        return i\r\n                      })\r\n                    )\r\n                  })(e, r, i, o, t)) ||\r\n                  (1 == r\r\n                    ? i\r\n                      ? (function (t, e, n, i) {\r\n                          s ? setTimeout(F(vi, t), 0) : (t.curOp.focus = _())\r\n                          var r,\r\n                            o = (function (t, e, n) {\r\n                              var i = t.getOption('configureMouse'),\r\n                                r = i ? i(t, e, n) : {}\r\n                              if (null == r.unit) {\r\n                                var o = b ? n.shiftKey && n.metaKey : n.altKey\r\n                                r.unit = o ? 'rectangle' : 'single' == e ? 'char' : 'double' == e ? 'word' : 'line'\r\n                              }\r\n                              return (\r\n                                (null == r.extend || t.doc.extend) && (r.extend = t.doc.extend || n.shiftKey),\r\n                                null == r.addNew && (r.addNew = y ? n.metaKey : n.ctrlKey),\r\n                                null == r.moveOnDrag && (r.moveOnDrag = !(y ? n.altKey : n.ctrlKey)),\r\n                                r\r\n                              )\r\n                            })(t, n, i),\r\n                            c = t.doc.sel\r\n                          t.options.dragDrop &&\r\n                          me &&\r\n                          !t.isReadOnly() &&\r\n                          'single' == n &&\r\n                          (r = c.contains(e)) > -1 &&\r\n                          (mt((r = c.ranges[r]).from(), e) < 0 || e.xRel > 0) &&\r\n                          (mt(r.to(), e) > 0 || e.xRel < 0)\r\n                            ? (function (t, e, n, i) {\r\n                                var r = t.display,\r\n                                  o = !1,\r\n                                  c = Gi(t, function (e) {\r\n                                    l && (r.scroller.draggable = !1),\r\n                                      (t.state.draggingText = !1),\r\n                                      ie(r.wrapper.ownerDocument, 'mouseup', c),\r\n                                      ie(r.wrapper.ownerDocument, 'mousemove', u),\r\n                                      ie(r.scroller, 'dragstart', h),\r\n                                      ie(r.scroller, 'drop', c),\r\n                                      o ||\r\n                                        (ce(e),\r\n                                        i.addNew || Wr(t.doc, n, null, null, i.extend),\r\n                                        l || (s && 9 == a)\r\n                                          ? setTimeout(function () {\r\n                                              r.wrapper.ownerDocument.body.focus(), r.input.focus()\r\n                                            }, 20)\r\n                                          : r.input.focus())\r\n                                  }),\r\n                                  u = function (t) {\r\n                                    o = o || Math.abs(e.clientX - t.clientX) + Math.abs(e.clientY - t.clientY) >= 10\r\n                                  },\r\n                                  h = function () {\r\n                                    return (o = !0)\r\n                                  }\r\n                                l && (r.scroller.draggable = !0),\r\n                                  (t.state.draggingText = c),\r\n                                  (c.copy = !i.moveOnDrag),\r\n                                  r.scroller.dragDrop && r.scroller.dragDrop(),\r\n                                  ee(r.wrapper.ownerDocument, 'mouseup', c),\r\n                                  ee(r.wrapper.ownerDocument, 'mousemove', u),\r\n                                  ee(r.scroller, 'dragstart', h),\r\n                                  ee(r.scroller, 'drop', c),\r\n                                  mi(t),\r\n                                  setTimeout(function () {\r\n                                    return r.input.focus()\r\n                                  }, 20)\r\n                              })(t, i, e, o)\r\n                            : (function (t, e, n, i) {\r\n                                var r = t.display,\r\n                                  o = t.doc\r\n                                ce(e)\r\n                                var s,\r\n                                  a,\r\n                                  l = o.sel,\r\n                                  c = l.ranges\r\n                                if (\r\n                                  (i.addNew && !i.extend\r\n                                    ? ((a = o.sel.contains(n)), (s = a > -1 ? c[a] : new br(n, n)))\r\n                                    : ((s = o.sel.primary()), (a = o.sel.primIndex)),\r\n                                  'rectangle' == i.unit)\r\n                                )\r\n                                  i.addNew || (s = new br(n, n)), (n = li(t, e, !0, !0)), (a = -1)\r\n                                else {\r\n                                  var u = fs(t, n, i.unit)\r\n                                  s = i.extend ? Br(s, u.anchor, u.head, i.extend) : u\r\n                                }\r\n                                i.addNew\r\n                                  ? -1 == a\r\n                                    ? ((a = c.length), Gr(o, xr(t, c.concat([s]), a), { scroll: !1, origin: '*mouse' }))\r\n                                    : c.length > 1 && c[a].empty() && 'char' == i.unit && !i.extend\r\n                                    ? (Gr(o, xr(t, c.slice(0, a).concat(c.slice(a + 1)), 0), {\r\n                                        scroll: !1,\r\n                                        origin: '*mouse'\r\n                                      }),\r\n                                      (l = o.sel))\r\n                                    : qr(o, a, s, W)\r\n                                  : ((a = 0), Gr(o, new yr([s], 0), W), (l = o.sel))\r\n                                var h = n\r\n                                function d (e) {\r\n                                  if (0 != mt(h, e))\r\n                                    if (((h = e), 'rectangle' == i.unit)) {\r\n                                      for (\r\n                                        var r = [],\r\n                                          c = t.options.tabSize,\r\n                                          u = R(lt(o, n.line).text, n.ch, c),\r\n                                          d = R(lt(o, e.line).text, e.ch, c),\r\n                                          f = Math.min(u, d),\r\n                                          p = Math.max(u, d),\r\n                                          g = Math.min(n.line, e.line),\r\n                                          v = Math.min(t.lastLine(), Math.max(n.line, e.line));\r\n                                        g <= v;\r\n                                        g++\r\n                                      ) {\r\n                                        var m = lt(o, g).text,\r\n                                          y = q(m, f, c)\r\n                                        f == p\r\n                                          ? r.push(new br(vt(g, y), vt(g, y)))\r\n                                          : m.length > y && r.push(new br(vt(g, y), vt(g, q(m, p, c))))\r\n                                      }\r\n                                      r.length || r.push(new br(n, n)),\r\n                                        Gr(o, xr(t, l.ranges.slice(0, a).concat(r), a), {\r\n                                          origin: '*mouse',\r\n                                          scroll: !1\r\n                                        }),\r\n                                        t.scrollIntoView(e)\r\n                                    } else {\r\n                                      var b,\r\n                                        x = s,\r\n                                        w = fs(t, e, i.unit),\r\n                                        C = x.anchor\r\n                                      mt(w.anchor, C) > 0\r\n                                        ? ((b = w.head), (C = wt(x.from(), w.anchor)))\r\n                                        : ((b = w.anchor), (C = xt(x.to(), w.head)))\r\n                                      var k = l.ranges.slice(0)\r\n                                      ;(k[a] = (function (t, e) {\r\n                                        var n = e.anchor,\r\n                                          i = e.head,\r\n                                          r = lt(t.doc, n.line)\r\n                                        if (0 == mt(n, i) && n.sticky == i.sticky) return e\r\n                                        var o = Qt(r)\r\n                                        if (!o) return e\r\n                                        var s = Jt(o, n.ch, n.sticky),\r\n                                          a = o[s]\r\n                                        if (a.from != n.ch && a.to != n.ch) return e\r\n                                        var l,\r\n                                          c = s + ((a.from == n.ch) == (1 != a.level) ? 0 : 1)\r\n                                        if (0 == c || c == o.length) return e\r\n                                        if (i.line != n.line)\r\n                                          l = (i.line - n.line) * ('ltr' == t.doc.direction ? 1 : -1) > 0\r\n                                        else {\r\n                                          var u = Jt(o, i.ch, i.sticky),\r\n                                            h = u - s || (i.ch - n.ch) * (1 == a.level ? -1 : 1)\r\n                                          l = u == c - 1 || u == c ? h < 0 : h > 0\r\n                                        }\r\n                                        var d = o[c + (l ? -1 : 0)],\r\n                                          f = l == (1 == d.level),\r\n                                          p = f ? d.from : d.to,\r\n                                          g = f ? 'after' : 'before'\r\n                                        return n.ch == p && n.sticky == g ? e : new br(new vt(n.line, p, g), i)\r\n                                      })(t, new br(kt(o, C), b))),\r\n                                        Gr(o, xr(t, k, a), W)\r\n                                    }\r\n                                }\r\n                                var f = r.wrapper.getBoundingClientRect(),\r\n                                  p = 0\r\n                                function g (e) {\r\n                                  ;(t.state.selectingText = !1),\r\n                                    (p = 1 / 0),\r\n                                    ce(e),\r\n                                    r.input.focus(),\r\n                                    ie(r.wrapper.ownerDocument, 'mousemove', v),\r\n                                    ie(r.wrapper.ownerDocument, 'mouseup', m),\r\n                                    (o.history.lastSelOrigin = null)\r\n                                }\r\n                                var v = Gi(t, function (e) {\r\n                                    0 !== e.buttons && pe(e)\r\n                                      ? (function e (n) {\r\n                                          var s = ++p,\r\n                                            a = li(t, n, !0, 'rectangle' == i.unit)\r\n                                          if (a)\r\n                                            if (0 != mt(a, h)) {\r\n                                              ;(t.curOp.focus = _()), d(a)\r\n                                              var l = Ci(r, o)\r\n                                              ;(a.line >= l.to || a.line < l.from) &&\r\n                                                setTimeout(\r\n                                                  Gi(t, function () {\r\n                                                    p == s && e(n)\r\n                                                  }),\r\n                                                  150\r\n                                                )\r\n                                            } else {\r\n                                              var c = n.clientY < f.top ? -20 : n.clientY > f.bottom ? 20 : 0\r\n                                              c &&\r\n                                                setTimeout(\r\n                                                  Gi(t, function () {\r\n                                                    p == s && ((r.scroller.scrollTop += c), e(n))\r\n                                                  }),\r\n                                                  50\r\n                                                )\r\n                                            }\r\n                                        })(e)\r\n                                      : g(e)\r\n                                  }),\r\n                                  m = Gi(t, g)\r\n                                ;(t.state.selectingText = m),\r\n                                  ee(r.wrapper.ownerDocument, 'mousemove', v),\r\n                                  ee(r.wrapper.ownerDocument, 'mouseup', m)\r\n                              })(t, i, e, o)\r\n                        })(e, i, o, t)\r\n                      : fe(t) == n.scroller && ce(t)\r\n                    : 2 == r\r\n                    ? (i && Wr(e.doc, i),\r\n                      setTimeout(function () {\r\n                        return n.input.focus()\r\n                      }, 20))\r\n                    : 3 == r && (k ? e.display.input.onContextMenu(t) : mi(e)))\r\n            }\r\n        }\r\n        function fs (t, e, n) {\r\n          if ('char' == n) return new br(e, e)\r\n          if ('word' == n) return t.findWordAt(e)\r\n          if ('line' == n) return new br(vt(e.line, 0), kt(t.doc, vt(e.line + 1, 0)))\r\n          var i = n(t, e)\r\n          return new br(i.from, i.to)\r\n        }\r\n        function ps (t, e, n, i) {\r\n          var r, o\r\n          if (e.touches) (r = e.touches[0].clientX), (o = e.touches[0].clientY)\r\n          else\r\n            try {\r\n              ;(r = e.clientX), (o = e.clientY)\r\n            } catch (e) {\r\n              return !1\r\n            }\r\n          if (r >= Math.floor(t.display.gutters.getBoundingClientRect().right)) return !1\r\n          i && ce(e)\r\n          var s = t.display,\r\n            a = s.lineDiv.getBoundingClientRect()\r\n          if (o > a.bottom || !ae(t, n)) return he(e)\r\n          o -= a.top - s.viewOffset\r\n          for (var l = 0; l < t.options.gutters.length; ++l) {\r\n            var c = s.gutters.childNodes[l]\r\n            if (c && c.getBoundingClientRect().right >= r) {\r\n              var u = ft(t.doc, o),\r\n                h = t.options.gutters[l]\r\n              return re(t, n, t, u, h, e), he(e)\r\n            }\r\n          }\r\n        }\r\n        function gs (t, e) {\r\n          return ps(t, e, 'gutterClick', !0)\r\n        }\r\n        function vs (t, e) {\r\n          kn(t.display, e) ||\r\n            (function (t, e) {\r\n              return !!ae(t, 'gutterContextMenu') && ps(t, e, 'gutterContextMenu', !1)\r\n            })(t, e) ||\r\n            oe(t, e, 'contextmenu') ||\r\n            k ||\r\n            t.display.input.onContextMenu(e)\r\n        }\r\n        function ms (t) {\r\n          ;(t.display.wrapper.className =\r\n            t.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, '') + t.options.theme.replace(/(^|\\s)\\s*/g, ' cm-s-')),\r\n            Hn(t)\r\n        }\r\n        hs.prototype.compare = function (t, e, n) {\r\n          return this.time + 400 > t && 0 == mt(e, this.pos) && n == this.button\r\n        }\r\n        var ys = {\r\n            toString: function () {\r\n              return 'CodeMirror.Init'\r\n            }\r\n          },\r\n          bs = {},\r\n          xs = {}\r\n        function ws (t) {\r\n          hr(t), Zi(t), ki(t)\r\n        }\r\n        function Cs (t, e, n) {\r\n          var i = n && n != ys\r\n          if (!e != !i) {\r\n            var r = t.display.dragFunctions,\r\n              o = e ? ee : ie\r\n            o(t.display.scroller, 'dragstart', r.start),\r\n              o(t.display.scroller, 'dragenter', r.enter),\r\n              o(t.display.scroller, 'dragover', r.over),\r\n              o(t.display.scroller, 'dragleave', r.leave),\r\n              o(t.display.scroller, 'drop', r.drop)\r\n          }\r\n        }\r\n        function ks (t) {\r\n          t.options.lineWrapping\r\n            ? (N(t.display.wrapper, 'CodeMirror-wrap'),\r\n              (t.display.sizer.style.minWidth = ''),\r\n              (t.display.sizerWidth = null))\r\n            : (E(t.display.wrapper, 'CodeMirror-wrap'), Gt(t)),\r\n            ai(t),\r\n            Zi(t),\r\n            Hn(t),\r\n            setTimeout(function () {\r\n              return ji(t)\r\n            }, 100)\r\n        }\r\n        function Ss (t, e) {\r\n          var n = this\r\n          if (!(this instanceof Ss)) return new Ss(t, e)\r\n          ;(this.options = e = e ? j(e) : {}), j(bs, e, !1), dr(e)\r\n          var i = e.value\r\n          'string' == typeof i\r\n            ? (i = new Mo(i, e.mode, null, e.lineSeparator, e.direction))\r\n            : e.mode && (i.modeOption = e.mode),\r\n            (this.doc = i)\r\n          var r = new Ss.inputStyles[e.inputStyle](this),\r\n            o = (this.display = new at(t, i, r))\r\n          for (var c in ((o.wrapper.CodeMirror = this),\r\n          hr(this),\r\n          ms(this),\r\n          e.lineWrapping && (this.display.wrapper.className += ' CodeMirror-wrap'),\r\n          Vi(this),\r\n          (this.state = {\r\n            keyMaps: [],\r\n            overlays: [],\r\n            modeGen: 0,\r\n            overwrite: !1,\r\n            delayingBlurEvent: !1,\r\n            focused: !1,\r\n            suppressEdits: !1,\r\n            pasteIncoming: !1,\r\n            cutIncoming: !1,\r\n            selectingText: !1,\r\n            draggingText: !1,\r\n            highlight: new z(),\r\n            keySeq: null,\r\n            specialChars: null\r\n          }),\r\n          e.autofocus && !m && o.input.focus(),\r\n          s &&\r\n            a < 11 &&\r\n            setTimeout(function () {\r\n              return n.display.input.reset(!0)\r\n            }, 20),\r\n          (function (t) {\r\n            var e = t.display\r\n            ee(e.scroller, 'mousedown', Gi(t, ds)),\r\n              ee(\r\n                e.scroller,\r\n                'dblclick',\r\n                s && a < 11\r\n                  ? Gi(t, function (e) {\r\n                      if (!oe(t, e)) {\r\n                        var n = li(t, e)\r\n                        if (n && !gs(t, e) && !kn(t.display, e)) {\r\n                          ce(e)\r\n                          var i = t.findWordAt(n)\r\n                          Wr(t.doc, i.anchor, i.head)\r\n                        }\r\n                      }\r\n                    })\r\n                  : function (e) {\r\n                      return oe(t, e) || ce(e)\r\n                    }\r\n              ),\r\n              ee(e.scroller, 'contextmenu', function (e) {\r\n                return vs(t, e)\r\n              })\r\n            var n,\r\n              i = { end: 0 }\r\n            function r () {\r\n              e.activeTouch &&\r\n                ((n = setTimeout(function () {\r\n                  return (e.activeTouch = null)\r\n                }, 1e3)),\r\n                ((i = e.activeTouch).end = +new Date()))\r\n            }\r\n            function o (t, e) {\r\n              if (null == e.left) return !0\r\n              var n = e.left - t.left,\r\n                i = e.top - t.top\r\n              return n * n + i * i > 400\r\n            }\r\n            ee(e.scroller, 'touchstart', function (r) {\r\n              if (\r\n                !oe(t, r) &&\r\n                !(function (t) {\r\n                  if (1 != t.touches.length) return !1\r\n                  var e = t.touches[0]\r\n                  return e.radiusX <= 1 && e.radiusY <= 1\r\n                })(r) &&\r\n                !gs(t, r)\r\n              ) {\r\n                e.input.ensurePolled(), clearTimeout(n)\r\n                var o = +new Date()\r\n                ;(e.activeTouch = { start: o, moved: !1, prev: o - i.end <= 300 ? i : null }),\r\n                  1 == r.touches.length &&\r\n                    ((e.activeTouch.left = r.touches[0].pageX), (e.activeTouch.top = r.touches[0].pageY))\r\n              }\r\n            }),\r\n              ee(e.scroller, 'touchmove', function () {\r\n                e.activeTouch && (e.activeTouch.moved = !0)\r\n              }),\r\n              ee(e.scroller, 'touchend', function (n) {\r\n                var i = e.activeTouch\r\n                if (i && !kn(e, n) && null != i.left && !i.moved && new Date() - i.start < 300) {\r\n                  var s,\r\n                    a = t.coordsChar(e.activeTouch, 'page')\r\n                  ;(s =\r\n                    !i.prev || o(i, i.prev)\r\n                      ? new br(a, a)\r\n                      : !i.prev.prev || o(i, i.prev.prev)\r\n                      ? t.findWordAt(a)\r\n                      : new br(vt(a.line, 0), kt(t.doc, vt(a.line + 1, 0)))),\r\n                    t.setSelection(s.anchor, s.head),\r\n                    t.focus(),\r\n                    ce(n)\r\n                }\r\n                r()\r\n              }),\r\n              ee(e.scroller, 'touchcancel', r),\r\n              ee(e.scroller, 'scroll', function () {\r\n                e.scroller.clientHeight &&\r\n                  (Li(t, e.scroller.scrollTop), Ni(t, e.scroller.scrollLeft, !0), re(t, 'scroll', t))\r\n              }),\r\n              ee(e.scroller, 'mousewheel', function (e) {\r\n                return mr(t, e)\r\n              }),\r\n              ee(e.scroller, 'DOMMouseScroll', function (e) {\r\n                return mr(t, e)\r\n              }),\r\n              ee(e.wrapper, 'scroll', function () {\r\n                return (e.wrapper.scrollTop = e.wrapper.scrollLeft = 0)\r\n              }),\r\n              (e.dragFunctions = {\r\n                enter: function (e) {\r\n                  oe(t, e) || de(e)\r\n                },\r\n                over: function (e) {\r\n                  oe(t, e) ||\r\n                    ((function (t, e) {\r\n                      var n = li(t, e)\r\n                      if (n) {\r\n                        var i = document.createDocumentFragment()\r\n                        di(t, n, i),\r\n                          t.display.dragCursor ||\r\n                            ((t.display.dragCursor = O('div', null, 'CodeMirror-cursors CodeMirror-dragcursors')),\r\n                            t.display.lineSpace.insertBefore(t.display.dragCursor, t.display.cursorDiv)),\r\n                          A(t.display.dragCursor, i)\r\n                      }\r\n                    })(t, e),\r\n                    de(e))\r\n                },\r\n                start: function (e) {\r\n                  return (function (t, e) {\r\n                    if (s && (!t.state.draggingText || +new Date() - Ao < 100)) de(e)\r\n                    else if (\r\n                      !oe(t, e) &&\r\n                      !kn(t.display, e) &&\r\n                      (e.dataTransfer.setData('Text', t.getSelection()),\r\n                      (e.dataTransfer.effectAllowed = 'copyMove'),\r\n                      e.dataTransfer.setDragImage && !d)\r\n                    ) {\r\n                      var n = O('img', null, null, 'position: fixed; left: 0; top: 0;')\r\n                      ;(n.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='),\r\n                        h && ((n.width = n.height = 1), t.display.wrapper.appendChild(n), (n._top = n.offsetTop)),\r\n                        e.dataTransfer.setDragImage(n, 0, 0),\r\n                        h && n.parentNode.removeChild(n)\r\n                    }\r\n                  })(t, e)\r\n                },\r\n                drop: Gi(t, Oo),\r\n                leave: function (e) {\r\n                  oe(t, e) || Po(t)\r\n                }\r\n              })\r\n            var l = e.input.getField()\r\n            ee(l, 'keyup', function (e) {\r\n              return as.call(t, e)\r\n            }),\r\n              ee(l, 'keydown', Gi(t, ss)),\r\n              ee(l, 'keypress', Gi(t, ls)),\r\n              ee(l, 'focus', function (e) {\r\n                return yi(t, e)\r\n              }),\r\n              ee(l, 'blur', function (e) {\r\n                return bi(t, e)\r\n              })\r\n          })(this),\r\n          No(),\r\n          $i(this),\r\n          (this.curOp.forceUpdate = !0),\r\n          Lr(this, i),\r\n          (e.autofocus && !m) || this.hasFocus() ? setTimeout(F(yi, this), 20) : bi(this),\r\n          xs))\r\n            xs.hasOwnProperty(c) && xs[c](n, e[c], ys)\r\n          Si(this), e.finishInit && e.finishInit(this)\r\n          for (var u = 0; u < Ts.length; ++u) Ts[u](n)\r\n          Bi(this),\r\n            l &&\r\n              e.lineWrapping &&\r\n              'optimizelegibility' == getComputedStyle(o.lineDiv).textRendering &&\r\n              (o.lineDiv.style.textRendering = 'auto')\r\n        }\r\n        ;(Ss.defaults = bs), (Ss.optionHandlers = xs)\r\n        var Ts = []\r\n        function Es (t, e, n, i) {\r\n          var r,\r\n            o = t.doc\r\n          null == n && (n = 'add'), 'smart' == n && (o.mode.indent ? (r = ze(t, e).state) : (n = 'prev'))\r\n          var s = t.options.tabSize,\r\n            a = lt(o, e),\r\n            l = R(a.text, null, s)\r\n          a.stateAfter && (a.stateAfter = null)\r\n          var c,\r\n            u = a.text.match(/^\\s*/)[0]\r\n          if (i || /\\S/.test(a.text)) {\r\n            if ('smart' == n && ((c = o.mode.indent(r, a.text.slice(u.length), a.text)) == $ || c > 150)) {\r\n              if (!i) return\r\n              n = 'prev'\r\n            }\r\n          } else (c = 0), (n = 'not')\r\n          'prev' == n\r\n            ? (c = e > o.first ? R(lt(o, e - 1).text, null, s) : 0)\r\n            : 'add' == n\r\n            ? (c = l + t.options.indentUnit)\r\n            : 'subtract' == n\r\n            ? (c = l - t.options.indentUnit)\r\n            : 'number' == typeof n && (c = l + n),\r\n            (c = Math.max(0, c))\r\n          var h = '',\r\n            d = 0\r\n          if (t.options.indentWithTabs) for (var f = Math.floor(c / s); f; --f) (d += s), (h += '\\t')\r\n          if ((d < c && (h += Y(c - d)), h != u))\r\n            return uo(o, h, vt(e, 0), vt(e, u.length), '+input'), (a.stateAfter = null), !0\r\n          for (var p = 0; p < o.sel.ranges.length; p++) {\r\n            var g = o.sel.ranges[p]\r\n            if (g.head.line == e && g.head.ch < u.length) {\r\n              var v = vt(e, u.length)\r\n              qr(o, p, new br(v, v))\r\n              break\r\n            }\r\n          }\r\n        }\r\n        Ss.defineInitHook = function (t) {\r\n          return Ts.push(t)\r\n        }\r\n        var Ms = null\r\n        function As (t) {\r\n          Ms = t\r\n        }\r\n        function Os (t, e, n, i, r) {\r\n          var o = t.doc\r\n          ;(t.display.shift = !1), i || (i = o.sel)\r\n          var s,\r\n            a = t.state.pasteIncoming || 'paste' == r,\r\n            l = we(e),\r\n            c = null\r\n          if (a && i.ranges.length > 1)\r\n            if (Ms && Ms.text.join('\\n') == e) {\r\n              if (i.ranges.length % Ms.text.length == 0) {\r\n                c = []\r\n                for (var u = 0; u < Ms.text.length; u++) c.push(o.splitLines(Ms.text[u]))\r\n              }\r\n            } else\r\n              l.length == i.ranges.length &&\r\n                t.options.pasteLinesPerSelection &&\r\n                (c = X(l, function (t) {\r\n                  return [t]\r\n                }))\r\n          for (var h = i.ranges.length - 1; h >= 0; h--) {\r\n            var d = i.ranges[h],\r\n              f = d.from(),\r\n              p = d.to()\r\n            d.empty() &&\r\n              (n && n > 0\r\n                ? (f = vt(f.line, f.ch - n))\r\n                : t.state.overwrite && !a\r\n                ? (p = vt(p.line, Math.min(lt(o, p.line).text.length, p.ch + G(l).length)))\r\n                : a && Ms && Ms.lineWise && Ms.text.join('\\n') == e && (f = p = vt(f.line, 0))),\r\n              (s = t.curOp.updateInput)\r\n            var g = {\r\n              from: f,\r\n              to: p,\r\n              text: c ? c[h % c.length] : l,\r\n              origin: r || (a ? 'paste' : t.state.cutIncoming ? 'cut' : '+input')\r\n            }\r\n            oo(t.doc, g), cn(t, 'inputRead', t, g)\r\n          }\r\n          e && !a && Ls(t, e),\r\n            Mi(t),\r\n            (t.curOp.updateInput = s),\r\n            (t.curOp.typing = !0),\r\n            (t.state.pasteIncoming = t.state.cutIncoming = !1)\r\n        }\r\n        function Ps (t, e) {\r\n          var n = t.clipboardData && t.clipboardData.getData('Text')\r\n          if (n)\r\n            return (\r\n              t.preventDefault(),\r\n              e.isReadOnly() ||\r\n                e.options.disableInput ||\r\n                Yi(e, function () {\r\n                  return Os(e, n, 0, null, 'paste')\r\n                }),\r\n              !0\r\n            )\r\n        }\r\n        function Ls (t, e) {\r\n          if (t.options.electricChars && t.options.smartIndent)\r\n            for (var n = t.doc.sel, i = n.ranges.length - 1; i >= 0; i--) {\r\n              var r = n.ranges[i]\r\n              if (!(r.head.ch > 100 || (i && n.ranges[i - 1].head.line == r.head.line))) {\r\n                var o = t.getModeAt(r.head),\r\n                  s = !1\r\n                if (o.electricChars) {\r\n                  for (var a = 0; a < o.electricChars.length; a++)\r\n                    if (e.indexOf(o.electricChars.charAt(a)) > -1) {\r\n                      s = Es(t, r.head.line, 'smart')\r\n                      break\r\n                    }\r\n                } else\r\n                  o.electricInput &&\r\n                    o.electricInput.test(lt(t.doc, r.head.line).text.slice(0, r.head.ch)) &&\r\n                    (s = Es(t, r.head.line, 'smart'))\r\n                s && cn(t, 'electricInput', t, r.head.line)\r\n              }\r\n            }\r\n        }\r\n        function _s (t) {\r\n          for (var e = [], n = [], i = 0; i < t.doc.sel.ranges.length; i++) {\r\n            var r = t.doc.sel.ranges[i].head.line,\r\n              o = { anchor: vt(r, 0), head: vt(r + 1, 0) }\r\n            n.push(o), e.push(t.getRange(o.anchor, o.head))\r\n          }\r\n          return { text: e, ranges: n }\r\n        }\r\n        function Ns (t, e) {\r\n          t.setAttribute('autocorrect', 'off'),\r\n            t.setAttribute('autocapitalize', 'off'),\r\n            t.setAttribute('spellcheck', !!e)\r\n        }\r\n        function Ds () {\r\n          var t = O(\r\n              'textarea',\r\n              null,\r\n              null,\r\n              'position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none'\r\n            ),\r\n            e = O('div', [t], null, 'overflow: hidden; position: relative; width: 3px; height: 0px;')\r\n          return (\r\n            l ? (t.style.width = '1000px') : t.setAttribute('wrap', 'off'),\r\n            g && (t.style.border = '1px solid black'),\r\n            Ns(t),\r\n            e\r\n          )\r\n        }\r\n        function Is (t, e, n, i, r) {\r\n          var o = e,\r\n            s = n,\r\n            a = lt(t, e.line)\r\n          function l (i) {\r\n            var o, s\r\n            if (\r\n              null ==\r\n              (o = r\r\n                ? (function (t, e, n, i) {\r\n                    var r = Qt(e, t.doc.direction)\r\n                    if (!r) return Go(e, n, i)\r\n                    n.ch >= e.text.length\r\n                      ? ((n.ch = e.text.length), (n.sticky = 'before'))\r\n                      : n.ch <= 0 && ((n.ch = 0), (n.sticky = 'after'))\r\n                    var o = Jt(r, n.ch, n.sticky),\r\n                      s = r[o]\r\n                    if ('ltr' == t.doc.direction && s.level % 2 == 0 && (i > 0 ? s.to > n.ch : s.from < n.ch))\r\n                      return Go(e, n, i)\r\n                    var a,\r\n                      l = function (t, n) {\r\n                        return Yo(e, t instanceof vt ? t.ch : t, n)\r\n                      },\r\n                      c = function (n) {\r\n                        return t.options.lineWrapping\r\n                          ? ((a = a || Nn(t, e)), Qn(t, e, a, n))\r\n                          : { begin: 0, end: e.text.length }\r\n                      },\r\n                      u = c('before' == n.sticky ? l(n, -1) : n.ch)\r\n                    if ('rtl' == t.doc.direction || 1 == s.level) {\r\n                      var h = (1 == s.level) == i < 0,\r\n                        d = l(n, h ? 1 : -1)\r\n                      if (null != d && (h ? d <= s.to && d <= u.end : d >= s.from && d >= u.begin)) {\r\n                        var f = h ? 'before' : 'after'\r\n                        return new vt(n.line, d, f)\r\n                      }\r\n                    }\r\n                    var p = function (t, e, i) {\r\n                        for (\r\n                          var o = function (t, e) {\r\n                            return e ? new vt(n.line, l(t, 1), 'before') : new vt(n.line, t, 'after')\r\n                          };\r\n                          t >= 0 && t < r.length;\r\n                          t += e\r\n                        ) {\r\n                          var s = r[t],\r\n                            a = e > 0 == (1 != s.level),\r\n                            c = a ? i.begin : l(i.end, -1)\r\n                          if (s.from <= c && c < s.to) return o(c, a)\r\n                          if (((c = a ? s.from : l(s.to, -1)), i.begin <= c && c < i.end)) return o(c, a)\r\n                        }\r\n                      },\r\n                      g = p(o + i, i, u)\r\n                    if (g) return g\r\n                    var v = i > 0 ? u.end : l(u.begin, -1)\r\n                    return null == v || (i > 0 && v == e.text.length) || !(g = p(i > 0 ? 0 : r.length - 1, i, c(v)))\r\n                      ? null\r\n                      : g\r\n                  })(t.cm, a, e, n)\r\n                : Go(a, e, n))\r\n            ) {\r\n              if (\r\n                i ||\r\n                ((s = e.line + n) < t.first ||\r\n                  s >= t.first + t.size ||\r\n                  ((e = new vt(s, e.ch, e.sticky)), !(a = lt(t, s))))\r\n              )\r\n                return !1\r\n              e = Xo(r, t.cm, a, e.line, n)\r\n            } else e = o\r\n            return !0\r\n          }\r\n          if ('char' == i) l()\r\n          else if ('column' == i) l(!0)\r\n          else if ('word' == i || 'group' == i)\r\n            for (\r\n              var c = null, u = 'group' == i, h = t.cm && t.cm.getHelper(e, 'wordChars'), d = !0;\r\n              !(n < 0) || l(!d);\r\n              d = !1\r\n            ) {\r\n              var f = a.text.charAt(e.ch) || '\\n',\r\n                p = et(f, h) ? 'w' : u && '\\n' == f ? 'n' : !u || /\\s/.test(f) ? null : 'p'\r\n              if ((!u || d || p || (p = 's'), c && c != p)) {\r\n                n < 0 && ((n = 1), l(), (e.sticky = 'after'))\r\n                break\r\n              }\r\n              if ((p && (c = p), n > 0 && !l(!d))) break\r\n            }\r\n          var g = eo(t, e, o, s, !0)\r\n          return yt(o, g) && (g.hitSide = !0), g\r\n        }\r\n        function Fs (t, e, n, i) {\r\n          var r,\r\n            o,\r\n            s = t.doc,\r\n            a = e.left\r\n          if ('page' == i) {\r\n            var l = Math.min(\r\n                t.display.wrapper.clientHeight,\r\n                window.innerHeight || document.documentElement.clientHeight\r\n              ),\r\n              c = Math.max(l - 0.5 * ni(t.display), 3)\r\n            r = (n > 0 ? e.bottom : e.top) + n * c\r\n          } else 'line' == i && (r = n > 0 ? e.bottom + 3 : e.top - 3)\r\n          for (; (o = Jn(t, a, r)).outside; ) {\r\n            if (n < 0 ? r <= 0 : r >= s.height) {\r\n              o.hitSide = !0\r\n              break\r\n            }\r\n            r += 5 * n\r\n          }\r\n          return o\r\n        }\r\n        var js = function (t) {\r\n          ;(this.cm = t),\r\n            (this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null),\r\n            (this.polling = new z()),\r\n            (this.composing = null),\r\n            (this.gracePeriod = !1),\r\n            (this.readDOMTimeout = null)\r\n        }\r\n        function Rs (t, e) {\r\n          var n = _n(t, e.line)\r\n          if (!n || n.hidden) return null\r\n          var i = lt(t.doc, e.line),\r\n            r = Pn(n, i, e.line),\r\n            o = Qt(i, t.doc.direction),\r\n            s = 'left'\r\n          if (o) {\r\n            var a = Jt(o, e.ch)\r\n            s = a % 2 ? 'right' : 'left'\r\n          }\r\n          var l = jn(r.map, e.ch, s)\r\n          return (l.offset = 'right' == l.collapse ? l.end : l.start), l\r\n        }\r\n        function zs (t, e) {\r\n          return e && (t.bad = !0), t\r\n        }\r\n        function Vs (t, e, n) {\r\n          var i\r\n          if (e == t.display.lineDiv) {\r\n            if (!(i = t.display.lineDiv.childNodes[n])) return zs(t.clipPos(vt(t.display.viewTo - 1)), !0)\r\n            ;(e = null), (n = 0)\r\n          } else\r\n            for (i = e; ; i = i.parentNode) {\r\n              if (!i || i == t.display.lineDiv) return null\r\n              if (i.parentNode && i.parentNode == t.display.lineDiv) break\r\n            }\r\n          for (var r = 0; r < t.display.view.length; r++) {\r\n            var o = t.display.view[r]\r\n            if (o.node == i) return Hs(o, e, n)\r\n          }\r\n        }\r\n        function Hs (t, e, n) {\r\n          var i = t.text.firstChild,\r\n            r = !1\r\n          if (!e || !L(i, e)) return zs(vt(dt(t.line), 0), !0)\r\n          if (e == i && ((r = !0), (e = i.childNodes[n]), (n = 0), !e)) {\r\n            var o = t.rest ? G(t.rest) : t.line\r\n            return zs(vt(dt(o), o.text.length), r)\r\n          }\r\n          var s = 3 == e.nodeType ? e : null,\r\n            a = e\r\n          for (\r\n            s ||\r\n            1 != e.childNodes.length ||\r\n            3 != e.firstChild.nodeType ||\r\n            ((s = e.firstChild), n && (n = s.nodeValue.length));\r\n            a.parentNode != i;\r\n\r\n          )\r\n            a = a.parentNode\r\n          var l = t.measure,\r\n            c = l.maps\r\n          function u (e, n, i) {\r\n            for (var r = -1; r < (c ? c.length : 0); r++)\r\n              for (var o = r < 0 ? l.map : c[r], s = 0; s < o.length; s += 3) {\r\n                var a = o[s + 2]\r\n                if (a == e || a == n) {\r\n                  var u = dt(r < 0 ? t.line : t.rest[r]),\r\n                    h = o[s] + i\r\n                  return (i < 0 || a != e) && (h = o[s + (i ? 1 : 0)]), vt(u, h)\r\n                }\r\n              }\r\n          }\r\n          var h = u(s, a, n)\r\n          if (h) return zs(h, r)\r\n          for (var d = a.nextSibling, f = s ? s.nodeValue.length - n : 0; d; d = d.nextSibling) {\r\n            if ((h = u(d, d.firstChild, 0))) return zs(vt(h.line, h.ch - f), r)\r\n            f += d.textContent.length\r\n          }\r\n          for (var p = a.previousSibling, g = n; p; p = p.previousSibling) {\r\n            if ((h = u(p, p.firstChild, -1))) return zs(vt(h.line, h.ch + g), r)\r\n            g += p.textContent.length\r\n          }\r\n        }\r\n        ;(js.prototype.init = function (t) {\r\n          var e = this,\r\n            n = this,\r\n            i = n.cm,\r\n            r = (n.div = t.lineDiv)\r\n          function o (t) {\r\n            if (!oe(i, t)) {\r\n              if (i.somethingSelected())\r\n                As({ lineWise: !1, text: i.getSelections() }), 'cut' == t.type && i.replaceSelection('', null, 'cut')\r\n              else {\r\n                if (!i.options.lineWiseCopyCut) return\r\n                var e = _s(i)\r\n                As({ lineWise: !0, text: e.text }),\r\n                  'cut' == t.type &&\r\n                    i.operation(function () {\r\n                      i.setSelections(e.ranges, 0, B), i.replaceSelection('', null, 'cut')\r\n                    })\r\n              }\r\n              if (t.clipboardData) {\r\n                t.clipboardData.clearData()\r\n                var o = Ms.text.join('\\n')\r\n                if ((t.clipboardData.setData('Text', o), t.clipboardData.getData('Text') == o))\r\n                  return void t.preventDefault()\r\n              }\r\n              var s = Ds(),\r\n                a = s.firstChild\r\n              i.display.lineSpace.insertBefore(s, i.display.lineSpace.firstChild), (a.value = Ms.text.join('\\n'))\r\n              var l = document.activeElement\r\n              I(a),\r\n                setTimeout(function () {\r\n                  i.display.lineSpace.removeChild(s), l.focus(), l == r && n.showPrimarySelection()\r\n                }, 50)\r\n            }\r\n          }\r\n          Ns(r, i.options.spellcheck),\r\n            ee(r, 'paste', function (t) {\r\n              oe(i, t) ||\r\n                Ps(t, i) ||\r\n                (a <= 11 &&\r\n                  setTimeout(\r\n                    Gi(i, function () {\r\n                      return e.updateFromDOM()\r\n                    }),\r\n                    20\r\n                  ))\r\n            }),\r\n            ee(r, 'compositionstart', function (t) {\r\n              e.composing = { data: t.data, done: !1 }\r\n            }),\r\n            ee(r, 'compositionupdate', function (t) {\r\n              e.composing || (e.composing = { data: t.data, done: !1 })\r\n            }),\r\n            ee(r, 'compositionend', function (t) {\r\n              e.composing && (t.data != e.composing.data && e.readFromDOMSoon(), (e.composing.done = !0))\r\n            }),\r\n            ee(r, 'touchstart', function () {\r\n              return n.forceCompositionEnd()\r\n            }),\r\n            ee(r, 'input', function () {\r\n              e.composing || e.readFromDOMSoon()\r\n            }),\r\n            ee(r, 'copy', o),\r\n            ee(r, 'cut', o)\r\n        }),\r\n          (js.prototype.prepareSelection = function () {\r\n            var t = hi(this.cm, !1)\r\n            return (t.focus = this.cm.state.focused), t\r\n          }),\r\n          (js.prototype.showSelection = function (t, e) {\r\n            t &&\r\n              this.cm.display.view.length &&\r\n              ((t.focus || e) && this.showPrimarySelection(), this.showMultipleSelections(t))\r\n          }),\r\n          (js.prototype.getSelection = function () {\r\n            return this.cm.display.wrapper.ownerDocument.getSelection()\r\n          }),\r\n          (js.prototype.showPrimarySelection = function () {\r\n            var t = this.getSelection(),\r\n              e = this.cm,\r\n              i = e.doc.sel.primary(),\r\n              r = i.from(),\r\n              o = i.to()\r\n            if (e.display.viewTo == e.display.viewFrom || r.line >= e.display.viewTo || o.line < e.display.viewFrom)\r\n              t.removeAllRanges()\r\n            else {\r\n              var s = Vs(e, t.anchorNode, t.anchorOffset),\r\n                a = Vs(e, t.focusNode, t.focusOffset)\r\n              if (!s || s.bad || !a || a.bad || 0 != mt(wt(s, a), r) || 0 != mt(xt(s, a), o)) {\r\n                var l = e.display.view,\r\n                  c = (r.line >= e.display.viewFrom && Rs(e, r)) || { node: l[0].measure.map[2], offset: 0 },\r\n                  u = o.line < e.display.viewTo && Rs(e, o)\r\n                if (!u) {\r\n                  var h = l[l.length - 1].measure,\r\n                    d = h.maps ? h.maps[h.maps.length - 1] : h.map\r\n                  u = { node: d[d.length - 1], offset: d[d.length - 2] - d[d.length - 3] }\r\n                }\r\n                if (c && u) {\r\n                  var f,\r\n                    p = t.rangeCount && t.getRangeAt(0)\r\n                  try {\r\n                    f = T(c.node, c.offset, u.offset, u.node)\r\n                  } catch (t) {}\r\n                  f &&\r\n                    (!n && e.state.focused\r\n                      ? (t.collapse(c.node, c.offset), f.collapsed || (t.removeAllRanges(), t.addRange(f)))\r\n                      : (t.removeAllRanges(), t.addRange(f)),\r\n                    p && null == t.anchorNode ? t.addRange(p) : n && this.startGracePeriod()),\r\n                    this.rememberSelection()\r\n                } else t.removeAllRanges()\r\n              }\r\n            }\r\n          }),\r\n          (js.prototype.startGracePeriod = function () {\r\n            var t = this\r\n            clearTimeout(this.gracePeriod),\r\n              (this.gracePeriod = setTimeout(function () {\r\n                ;(t.gracePeriod = !1),\r\n                  t.selectionChanged() &&\r\n                    t.cm.operation(function () {\r\n                      return (t.cm.curOp.selectionChanged = !0)\r\n                    })\r\n              }, 20))\r\n          }),\r\n          (js.prototype.showMultipleSelections = function (t) {\r\n            A(this.cm.display.cursorDiv, t.cursors), A(this.cm.display.selectionDiv, t.selection)\r\n          }),\r\n          (js.prototype.rememberSelection = function () {\r\n            var t = this.getSelection()\r\n            ;(this.lastAnchorNode = t.anchorNode),\r\n              (this.lastAnchorOffset = t.anchorOffset),\r\n              (this.lastFocusNode = t.focusNode),\r\n              (this.lastFocusOffset = t.focusOffset)\r\n          }),\r\n          (js.prototype.selectionInEditor = function () {\r\n            var t = this.getSelection()\r\n            if (!t.rangeCount) return !1\r\n            var e = t.getRangeAt(0).commonAncestorContainer\r\n            return L(this.div, e)\r\n          }),\r\n          (js.prototype.focus = function () {\r\n            'nocursor' != this.cm.options.readOnly &&\r\n              (this.selectionInEditor() || this.showSelection(this.prepareSelection(), !0), this.div.focus())\r\n          }),\r\n          (js.prototype.blur = function () {\r\n            this.div.blur()\r\n          }),\r\n          (js.prototype.getField = function () {\r\n            return this.div\r\n          }),\r\n          (js.prototype.supportsTouch = function () {\r\n            return !0\r\n          }),\r\n          (js.prototype.receivedFocus = function () {\r\n            var t = this\r\n            this.selectionInEditor()\r\n              ? this.pollSelection()\r\n              : Yi(this.cm, function () {\r\n                  return (t.cm.curOp.selectionChanged = !0)\r\n                }),\r\n              this.polling.set(this.cm.options.pollInterval, function e () {\r\n                t.cm.state.focused && (t.pollSelection(), t.polling.set(t.cm.options.pollInterval, e))\r\n              })\r\n          }),\r\n          (js.prototype.selectionChanged = function () {\r\n            var t = this.getSelection()\r\n            return (\r\n              t.anchorNode != this.lastAnchorNode ||\r\n              t.anchorOffset != this.lastAnchorOffset ||\r\n              t.focusNode != this.lastFocusNode ||\r\n              t.focusOffset != this.lastFocusOffset\r\n            )\r\n          }),\r\n          (js.prototype.pollSelection = function () {\r\n            if (null == this.readDOMTimeout && !this.gracePeriod && this.selectionChanged()) {\r\n              var t = this.getSelection(),\r\n                e = this.cm\r\n              if (\r\n                v &&\r\n                u &&\r\n                this.cm.options.gutters.length &&\r\n                (function (t) {\r\n                  for (var e = t; e; e = e.parentNode) if (/CodeMirror-gutter-wrapper/.test(e.className)) return !0\r\n                  return !1\r\n                })(t.anchorNode)\r\n              )\r\n                return (\r\n                  this.cm.triggerOnKeyDown({ type: 'keydown', keyCode: 8, preventDefault: Math.abs }),\r\n                  this.blur(),\r\n                  void this.focus()\r\n                )\r\n              if (!this.composing) {\r\n                this.rememberSelection()\r\n                var n = Vs(e, t.anchorNode, t.anchorOffset),\r\n                  i = Vs(e, t.focusNode, t.focusOffset)\r\n                n &&\r\n                  i &&\r\n                  Yi(e, function () {\r\n                    Gr(e.doc, wr(n, i), B), (n.bad || i.bad) && (e.curOp.selectionChanged = !0)\r\n                  })\r\n              }\r\n            }\r\n          }),\r\n          (js.prototype.pollContent = function () {\r\n            null != this.readDOMTimeout && (clearTimeout(this.readDOMTimeout), (this.readDOMTimeout = null))\r\n            var t,\r\n              e,\r\n              n,\r\n              i = this.cm,\r\n              r = i.display,\r\n              o = i.doc.sel.primary(),\r\n              s = o.from(),\r\n              a = o.to()\r\n            if (\r\n              (0 == s.ch && s.line > i.firstLine() && (s = vt(s.line - 1, lt(i.doc, s.line - 1).length)),\r\n              a.ch == lt(i.doc, a.line).text.length && a.line < i.lastLine() && (a = vt(a.line + 1, 0)),\r\n              s.line < r.viewFrom || a.line > r.viewTo - 1)\r\n            )\r\n              return !1\r\n            s.line == r.viewFrom || 0 == (t = ci(i, s.line))\r\n              ? ((e = dt(r.view[0].line)), (n = r.view[0].node))\r\n              : ((e = dt(r.view[t].line)), (n = r.view[t - 1].node.nextSibling))\r\n            var l,\r\n              c,\r\n              u = ci(i, a.line)\r\n            if (\r\n              (u == r.view.length - 1\r\n                ? ((l = r.viewTo - 1), (c = r.lineDiv.lastChild))\r\n                : ((l = dt(r.view[u + 1].line) - 1), (c = r.view[u + 1].node.previousSibling)),\r\n              !n)\r\n            )\r\n              return !1\r\n            for (\r\n              var h = i.doc.splitLines(\r\n                  (function (t, e, n, i, r) {\r\n                    var o = '',\r\n                      s = !1,\r\n                      a = t.doc.lineSeparator(),\r\n                      l = !1\r\n                    function c () {\r\n                      s && ((o += a), l && (o += a), (s = l = !1))\r\n                    }\r\n                    function u (t) {\r\n                      t && (c(), (o += t))\r\n                    }\r\n                    function h (e) {\r\n                      if (1 == e.nodeType) {\r\n                        var n = e.getAttribute('cm-text')\r\n                        if (n) return void u(n)\r\n                        var o,\r\n                          d = e.getAttribute('cm-marker')\r\n                        if (d) {\r\n                          var f = t.findMarks(\r\n                            vt(i, 0),\r\n                            vt(r + 1, 0),\r\n                            ((v = +d),\r\n                            function (t) {\r\n                              return t.id == v\r\n                            })\r\n                          )\r\n                          return void (f.length && (o = f[0].find(0)) && u(ct(t.doc, o.from, o.to).join(a)))\r\n                        }\r\n                        if ('false' == e.getAttribute('contenteditable')) return\r\n                        var p = /^(pre|div|p|li|table|br)$/i.test(e.nodeName)\r\n                        if (!/^br$/i.test(e.nodeName) && 0 == e.textContent.length) return\r\n                        p && c()\r\n                        for (var g = 0; g < e.childNodes.length; g++) h(e.childNodes[g])\r\n                        ;/^(pre|p)$/i.test(e.nodeName) && (l = !0), p && (s = !0)\r\n                      } else 3 == e.nodeType && u(e.nodeValue.replace(/\\u200b/g, '').replace(/\\u00a0/g, ' '))\r\n                      var v\r\n                    }\r\n                    for (; h(e), e != n; ) (e = e.nextSibling), (l = !1)\r\n                    return o\r\n                  })(i, n, c, e, l)\r\n                ),\r\n                d = ct(i.doc, vt(e, 0), vt(l, lt(i.doc, l).text.length));\r\n              h.length > 1 && d.length > 1;\r\n\r\n            )\r\n              if (G(h) == G(d)) h.pop(), d.pop(), l--\r\n              else {\r\n                if (h[0] != d[0]) break\r\n                h.shift(), d.shift(), e++\r\n              }\r\n            for (\r\n              var f = 0, p = 0, g = h[0], v = d[0], m = Math.min(g.length, v.length);\r\n              f < m && g.charCodeAt(f) == v.charCodeAt(f);\r\n\r\n            )\r\n              ++f\r\n            for (\r\n              var y = G(h),\r\n                b = G(d),\r\n                x = Math.min(y.length - (1 == h.length ? f : 0), b.length - (1 == d.length ? f : 0));\r\n              p < x && y.charCodeAt(y.length - p - 1) == b.charCodeAt(b.length - p - 1);\r\n\r\n            )\r\n              ++p\r\n            if (1 == h.length && 1 == d.length && e == s.line)\r\n              for (; f && f > s.ch && y.charCodeAt(y.length - p - 1) == b.charCodeAt(b.length - p - 1); ) f--, p++\r\n            ;(h[h.length - 1] = y.slice(0, y.length - p).replace(/^\\u200b+/, '')),\r\n              (h[0] = h[0].slice(f).replace(/\\u200b+$/, ''))\r\n            var w = vt(e, f),\r\n              C = vt(l, d.length ? G(d).length - p : 0)\r\n            return h.length > 1 || h[0] || mt(w, C) ? (uo(i.doc, h, w, C, '+input'), !0) : void 0\r\n          }),\r\n          (js.prototype.ensurePolled = function () {\r\n            this.forceCompositionEnd()\r\n          }),\r\n          (js.prototype.reset = function () {\r\n            this.forceCompositionEnd()\r\n          }),\r\n          (js.prototype.forceCompositionEnd = function () {\r\n            this.composing &&\r\n              (clearTimeout(this.readDOMTimeout),\r\n              (this.composing = null),\r\n              this.updateFromDOM(),\r\n              this.div.blur(),\r\n              this.div.focus())\r\n          }),\r\n          (js.prototype.readFromDOMSoon = function () {\r\n            var t = this\r\n            null == this.readDOMTimeout &&\r\n              (this.readDOMTimeout = setTimeout(function () {\r\n                if (((t.readDOMTimeout = null), t.composing)) {\r\n                  if (!t.composing.done) return\r\n                  t.composing = null\r\n                }\r\n                t.updateFromDOM()\r\n              }, 80))\r\n          }),\r\n          (js.prototype.updateFromDOM = function () {\r\n            var t = this\r\n            ;(!this.cm.isReadOnly() && this.pollContent()) ||\r\n              Yi(this.cm, function () {\r\n                return Zi(t.cm)\r\n              })\r\n          }),\r\n          (js.prototype.setUneditable = function (t) {\r\n            t.contentEditable = 'false'\r\n          }),\r\n          (js.prototype.onKeyPress = function (t) {\r\n            0 == t.charCode ||\r\n              this.composing ||\r\n              (t.preventDefault(),\r\n              this.cm.isReadOnly() ||\r\n                Gi(this.cm, Os)(this.cm, String.fromCharCode(null == t.charCode ? t.keyCode : t.charCode), 0))\r\n          }),\r\n          (js.prototype.readOnlyChanged = function (t) {\r\n            this.div.contentEditable = String('nocursor' != t)\r\n          }),\r\n          (js.prototype.onContextMenu = function () {}),\r\n          (js.prototype.resetPosition = function () {}),\r\n          (js.prototype.needsContentAttribute = !0)\r\n        var $s = function (t) {\r\n          ;(this.cm = t),\r\n            (this.prevInput = ''),\r\n            (this.pollingFast = !1),\r\n            (this.polling = new z()),\r\n            (this.hasSelection = !1),\r\n            (this.composing = null)\r\n        }\r\n        ;($s.prototype.init = function (t) {\r\n          var e = this,\r\n            n = this,\r\n            i = this.cm\r\n          this.createField(t)\r\n          var r = this.textarea\r\n          function o (t) {\r\n            if (!oe(i, t)) {\r\n              if (i.somethingSelected()) As({ lineWise: !1, text: i.getSelections() })\r\n              else {\r\n                if (!i.options.lineWiseCopyCut) return\r\n                var e = _s(i)\r\n                As({ lineWise: !0, text: e.text }),\r\n                  'cut' == t.type\r\n                    ? i.setSelections(e.ranges, null, B)\r\n                    : ((n.prevInput = ''), (r.value = e.text.join('\\n')), I(r))\r\n              }\r\n              'cut' == t.type && (i.state.cutIncoming = !0)\r\n            }\r\n          }\r\n          t.wrapper.insertBefore(this.wrapper, t.wrapper.firstChild),\r\n            g && (r.style.width = '0px'),\r\n            ee(r, 'input', function () {\r\n              s && a >= 9 && e.hasSelection && (e.hasSelection = null), n.poll()\r\n            }),\r\n            ee(r, 'paste', function (t) {\r\n              oe(i, t) || Ps(t, i) || ((i.state.pasteIncoming = !0), n.fastPoll())\r\n            }),\r\n            ee(r, 'cut', o),\r\n            ee(r, 'copy', o),\r\n            ee(t.scroller, 'paste', function (e) {\r\n              kn(t, e) || oe(i, e) || ((i.state.pasteIncoming = !0), n.focus())\r\n            }),\r\n            ee(t.lineSpace, 'selectstart', function (e) {\r\n              kn(t, e) || ce(e)\r\n            }),\r\n            ee(r, 'compositionstart', function () {\r\n              var t = i.getCursor('from')\r\n              n.composing && n.composing.range.clear(),\r\n                (n.composing = {\r\n                  start: t,\r\n                  range: i.markText(t, i.getCursor('to'), { className: 'CodeMirror-composing' })\r\n                })\r\n            }),\r\n            ee(r, 'compositionend', function () {\r\n              n.composing && (n.poll(), n.composing.range.clear(), (n.composing = null))\r\n            })\r\n        }),\r\n          ($s.prototype.createField = function (t) {\r\n            ;(this.wrapper = Ds()), (this.textarea = this.wrapper.firstChild)\r\n          }),\r\n          ($s.prototype.prepareSelection = function () {\r\n            var t = this.cm,\r\n              e = t.display,\r\n              n = t.doc,\r\n              i = hi(t)\r\n            if (t.options.moveInputWithCursor) {\r\n              var r = Yn(t, n.sel.primary().head, 'div'),\r\n                o = e.wrapper.getBoundingClientRect(),\r\n                s = e.lineDiv.getBoundingClientRect()\r\n              ;(i.teTop = Math.max(0, Math.min(e.wrapper.clientHeight - 10, r.top + s.top - o.top))),\r\n                (i.teLeft = Math.max(0, Math.min(e.wrapper.clientWidth - 10, r.left + s.left - o.left)))\r\n            }\r\n            return i\r\n          }),\r\n          ($s.prototype.showSelection = function (t) {\r\n            var e = this.cm,\r\n              n = e.display\r\n            A(n.cursorDiv, t.cursors),\r\n              A(n.selectionDiv, t.selection),\r\n              null != t.teTop &&\r\n                ((this.wrapper.style.top = t.teTop + 'px'), (this.wrapper.style.left = t.teLeft + 'px'))\r\n          }),\r\n          ($s.prototype.reset = function (t) {\r\n            if (!this.contextMenuPending && !this.composing) {\r\n              var e = this.cm\r\n              if (e.somethingSelected()) {\r\n                this.prevInput = ''\r\n                var n = e.getSelection()\r\n                ;(this.textarea.value = n), e.state.focused && I(this.textarea), s && a >= 9 && (this.hasSelection = n)\r\n              } else t || ((this.prevInput = this.textarea.value = ''), s && a >= 9 && (this.hasSelection = null))\r\n            }\r\n          }),\r\n          ($s.prototype.getField = function () {\r\n            return this.textarea\r\n          }),\r\n          ($s.prototype.supportsTouch = function () {\r\n            return !1\r\n          }),\r\n          ($s.prototype.focus = function () {\r\n            if ('nocursor' != this.cm.options.readOnly && (!m || _() != this.textarea))\r\n              try {\r\n                this.textarea.focus()\r\n              } catch (t) {}\r\n          }),\r\n          ($s.prototype.blur = function () {\r\n            this.textarea.blur()\r\n          }),\r\n          ($s.prototype.resetPosition = function () {\r\n            this.wrapper.style.top = this.wrapper.style.left = 0\r\n          }),\r\n          ($s.prototype.receivedFocus = function () {\r\n            this.slowPoll()\r\n          }),\r\n          ($s.prototype.slowPoll = function () {\r\n            var t = this\r\n            this.pollingFast ||\r\n              this.polling.set(this.cm.options.pollInterval, function () {\r\n                t.poll(), t.cm.state.focused && t.slowPoll()\r\n              })\r\n          }),\r\n          ($s.prototype.fastPoll = function () {\r\n            var t = !1,\r\n              e = this\r\n            ;(e.pollingFast = !0),\r\n              e.polling.set(20, function n () {\r\n                var i = e.poll()\r\n                i || t ? ((e.pollingFast = !1), e.slowPoll()) : ((t = !0), e.polling.set(60, n))\r\n              })\r\n          }),\r\n          ($s.prototype.poll = function () {\r\n            var t = this,\r\n              e = this.cm,\r\n              n = this.textarea,\r\n              i = this.prevInput\r\n            if (\r\n              this.contextMenuPending ||\r\n              !e.state.focused ||\r\n              (Ce(n) && !i && !this.composing) ||\r\n              e.isReadOnly() ||\r\n              e.options.disableInput ||\r\n              e.state.keySeq\r\n            )\r\n              return !1\r\n            var r = n.value\r\n            if (r == i && !e.somethingSelected()) return !1\r\n            if ((s && a >= 9 && this.hasSelection === r) || (y && /[\\uf700-\\uf7ff]/.test(r)))\r\n              return e.display.input.reset(), !1\r\n            if (e.doc.sel == e.display.selForContextMenu) {\r\n              var o = r.charCodeAt(0)\r\n              if ((8203 != o || i || (i = ''), 8666 == o)) return this.reset(), this.cm.execCommand('undo')\r\n            }\r\n            for (var l = 0, c = Math.min(i.length, r.length); l < c && i.charCodeAt(l) == r.charCodeAt(l); ) ++l\r\n            return (\r\n              Yi(e, function () {\r\n                Os(e, r.slice(l), i.length - l, null, t.composing ? '*compose' : null),\r\n                  r.length > 1e3 || r.indexOf('\\n') > -1 ? (n.value = t.prevInput = '') : (t.prevInput = r),\r\n                  t.composing &&\r\n                    (t.composing.range.clear(),\r\n                    (t.composing.range = e.markText(t.composing.start, e.getCursor('to'), {\r\n                      className: 'CodeMirror-composing'\r\n                    })))\r\n              }),\r\n              !0\r\n            )\r\n          }),\r\n          ($s.prototype.ensurePolled = function () {\r\n            this.pollingFast && this.poll() && (this.pollingFast = !1)\r\n          }),\r\n          ($s.prototype.onKeyPress = function () {\r\n            s && a >= 9 && (this.hasSelection = null), this.fastPoll()\r\n          }),\r\n          ($s.prototype.onContextMenu = function (t) {\r\n            var e = this,\r\n              n = e.cm,\r\n              i = n.display,\r\n              r = e.textarea,\r\n              o = li(n, t),\r\n              c = i.scroller.scrollTop\r\n            if (o && !h) {\r\n              var u = n.options.resetSelectionOnContextMenu\r\n              u && -1 == n.doc.sel.contains(o) && Gi(n, Gr)(n.doc, wr(o), B)\r\n              var d = r.style.cssText,\r\n                f = e.wrapper.style.cssText\r\n              e.wrapper.style.cssText = 'position: absolute'\r\n              var p,\r\n                g = e.wrapper.getBoundingClientRect()\r\n              if (\r\n                ((r.style.cssText =\r\n                  'position: absolute; width: 30px; height: 30px;\\n      top: ' +\r\n                  (t.clientY - g.top - 5) +\r\n                  'px; left: ' +\r\n                  (t.clientX - g.left - 5) +\r\n                  'px;\\n      z-index: 1000; background: ' +\r\n                  (s ? 'rgba(255, 255, 255, .05)' : 'transparent') +\r\n                  ';\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);'),\r\n                l && (p = window.scrollY),\r\n                i.input.focus(),\r\n                l && window.scrollTo(null, p),\r\n                i.input.reset(),\r\n                n.somethingSelected() || (r.value = e.prevInput = ' '),\r\n                (e.contextMenuPending = !0),\r\n                (i.selForContextMenu = n.doc.sel),\r\n                clearTimeout(i.detectingSelectAll),\r\n                s && a >= 9 && m(),\r\n                k)\r\n              ) {\r\n                de(t)\r\n                var v = function () {\r\n                  ie(window, 'mouseup', v), setTimeout(y, 20)\r\n                }\r\n                ee(window, 'mouseup', v)\r\n              } else setTimeout(y, 50)\r\n            }\r\n            function m () {\r\n              if (null != r.selectionStart) {\r\n                var t = n.somethingSelected(),\r\n                  o = '' + (t ? r.value : '')\r\n                ;(r.value = ''),\r\n                  (r.value = o),\r\n                  (e.prevInput = t ? '' : ''),\r\n                  (r.selectionStart = 1),\r\n                  (r.selectionEnd = o.length),\r\n                  (i.selForContextMenu = n.doc.sel)\r\n              }\r\n            }\r\n            function y () {\r\n              if (\r\n                ((e.contextMenuPending = !1),\r\n                (e.wrapper.style.cssText = f),\r\n                (r.style.cssText = d),\r\n                s && a < 9 && i.scrollbars.setScrollTop((i.scroller.scrollTop = c)),\r\n                null != r.selectionStart)\r\n              ) {\r\n                ;(!s || (s && a < 9)) && m()\r\n                var t = 0,\r\n                  o = function () {\r\n                    i.selForContextMenu == n.doc.sel &&\r\n                    0 == r.selectionStart &&\r\n                    r.selectionEnd > 0 &&\r\n                    '' == e.prevInput\r\n                      ? Gi(n, io)(n)\r\n                      : t++ < 10\r\n                      ? (i.detectingSelectAll = setTimeout(o, 500))\r\n                      : ((i.selForContextMenu = null), i.input.reset())\r\n                  }\r\n                i.detectingSelectAll = setTimeout(o, 200)\r\n              }\r\n            }\r\n          }),\r\n          ($s.prototype.readOnlyChanged = function (t) {\r\n            t || this.reset(), (this.textarea.disabled = 'nocursor' == t)\r\n          }),\r\n          ($s.prototype.setUneditable = function () {}),\r\n          ($s.prototype.needsContentAttribute = !1),\r\n          (function (t) {\r\n            var e = t.optionHandlers\r\n            function n (n, i, r, o) {\r\n              ;(t.defaults[n] = i),\r\n                r &&\r\n                  (e[n] = o\r\n                    ? function (t, e, n) {\r\n                        n != ys && r(t, e, n)\r\n                      }\r\n                    : r)\r\n            }\r\n            ;(t.defineOption = n),\r\n              (t.Init = ys),\r\n              n(\r\n                'value',\r\n                '',\r\n                function (t, e) {\r\n                  return t.setValue(e)\r\n                },\r\n                !0\r\n              ),\r\n              n(\r\n                'mode',\r\n                null,\r\n                function (t, e) {\r\n                  ;(t.doc.modeOption = e), Er(t)\r\n                },\r\n                !0\r\n              ),\r\n              n('indentUnit', 2, Er, !0),\r\n              n('indentWithTabs', !1),\r\n              n('smartIndent', !0),\r\n              n(\r\n                'tabSize',\r\n                4,\r\n                function (t) {\r\n                  Mr(t), Hn(t), Zi(t)\r\n                },\r\n                !0\r\n              ),\r\n              n('lineSeparator', null, function (t, e) {\r\n                if (((t.doc.lineSep = e), e)) {\r\n                  var n = [],\r\n                    i = t.doc.first\r\n                  t.doc.iter(function (t) {\r\n                    for (var r = 0; ; ) {\r\n                      var o = t.text.indexOf(e, r)\r\n                      if (-1 == o) break\r\n                      ;(r = o + e.length), n.push(vt(i, o))\r\n                    }\r\n                    i++\r\n                  })\r\n                  for (var r = n.length - 1; r >= 0; r--) uo(t.doc, e, n[r], vt(n[r].line, n[r].ch + e.length))\r\n                }\r\n              }),\r\n              n('specialChars', /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function (\r\n                t,\r\n                e,\r\n                n\r\n              ) {\r\n                ;(t.state.specialChars = new RegExp(e.source + (e.test('\\t') ? '' : '|\\t'), 'g')),\r\n                  n != ys && t.refresh()\r\n              }),\r\n              n(\r\n                'specialCharPlaceholder',\r\n                Qe,\r\n                function (t) {\r\n                  return t.refresh()\r\n                },\r\n                !0\r\n              ),\r\n              n('electricChars', !0),\r\n              n(\r\n                'inputStyle',\r\n                m ? 'contenteditable' : 'textarea',\r\n                function () {\r\n                  throw new Error('inputStyle can not (yet) be changed in a running editor')\r\n                },\r\n                !0\r\n              ),\r\n              n(\r\n                'spellcheck',\r\n                !1,\r\n                function (t, e) {\r\n                  return (t.getInputField().spellcheck = e)\r\n                },\r\n                !0\r\n              ),\r\n              n('rtlMoveVisually', !x),\r\n              n('wholeLineUpdateBefore', !0),\r\n              n(\r\n                'theme',\r\n                'default',\r\n                function (t) {\r\n                  ms(t), ws(t)\r\n                },\r\n                !0\r\n              ),\r\n              n('keyMap', 'default', function (t, e, n) {\r\n                var i = qo(e),\r\n                  r = n != ys && qo(n)\r\n                r && r.detach && r.detach(t, i), i.attach && i.attach(t, r || null)\r\n              }),\r\n              n('extraKeys', null),\r\n              n('configureMouse', null),\r\n              n('lineWrapping', !1, ks, !0),\r\n              n(\r\n                'gutters',\r\n                [],\r\n                function (t) {\r\n                  dr(t.options), ws(t)\r\n                },\r\n                !0\r\n              ),\r\n              n(\r\n                'fixedGutter',\r\n                !0,\r\n                function (t, e) {\r\n                  ;(t.display.gutters.style.left = e ? oi(t.display) + 'px' : '0'), t.refresh()\r\n                },\r\n                !0\r\n              ),\r\n              n(\r\n                'coverGutterNextToScrollbar',\r\n                !1,\r\n                function (t) {\r\n                  return ji(t)\r\n                },\r\n                !0\r\n              ),\r\n              n(\r\n                'scrollbarStyle',\r\n                'native',\r\n                function (t) {\r\n                  Vi(t),\r\n                    ji(t),\r\n                    t.display.scrollbars.setScrollTop(t.doc.scrollTop),\r\n                    t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)\r\n                },\r\n                !0\r\n              ),\r\n              n(\r\n                'lineNumbers',\r\n                !1,\r\n                function (t) {\r\n                  dr(t.options), ws(t)\r\n                },\r\n                !0\r\n              ),\r\n              n('firstLineNumber', 1, ws, !0),\r\n              n(\r\n                'lineNumberFormatter',\r\n                function (t) {\r\n                  return t\r\n                },\r\n                ws,\r\n                !0\r\n              ),\r\n              n('showCursorWhenSelecting', !1, ui, !0),\r\n              n('resetSelectionOnContextMenu', !0),\r\n              n('lineWiseCopyCut', !0),\r\n              n('pasteLinesPerSelection', !0),\r\n              n('selectionsMayTouch', !1),\r\n              n('readOnly', !1, function (t, e) {\r\n                'nocursor' == e && (bi(t), t.display.input.blur()), t.display.input.readOnlyChanged(e)\r\n              }),\r\n              n(\r\n                'disableInput',\r\n                !1,\r\n                function (t, e) {\r\n                  e || t.display.input.reset()\r\n                },\r\n                !0\r\n              ),\r\n              n('dragDrop', !0, Cs),\r\n              n('allowDropFileTypes', null),\r\n              n('cursorBlinkRate', 530),\r\n              n('cursorScrollMargin', 0),\r\n              n('cursorHeight', 1, ui, !0),\r\n              n('singleCursorHeightPerLine', !0, ui, !0),\r\n              n('workTime', 100),\r\n              n('workDelay', 100),\r\n              n('flattenSpans', !0, Mr, !0),\r\n              n('addModeClass', !1, Mr, !0),\r\n              n('pollInterval', 100),\r\n              n('undoDepth', 200, function (t, e) {\r\n                return (t.doc.history.undoDepth = e)\r\n              }),\r\n              n('historyEventDelay', 1250),\r\n              n(\r\n                'viewportMargin',\r\n                10,\r\n                function (t) {\r\n                  return t.refresh()\r\n                },\r\n                !0\r\n              ),\r\n              n('maxHighlightLength', 1e4, Mr, !0),\r\n              n('moveInputWithCursor', !0, function (t, e) {\r\n                e || t.display.input.resetPosition()\r\n              }),\r\n              n('tabindex', null, function (t, e) {\r\n                return (t.display.input.getField().tabIndex = e || '')\r\n              }),\r\n              n('autofocus', null),\r\n              n(\r\n                'direction',\r\n                'ltr',\r\n                function (t, e) {\r\n                  return t.doc.setDirection(e)\r\n                },\r\n                !0\r\n              ),\r\n              n('phrases', null)\r\n          })(Ss),\r\n          (function (t) {\r\n            var e = t.optionHandlers,\r\n              n = (t.helpers = {})\r\n            ;(t.prototype = {\r\n              constructor: t,\r\n              focus: function () {\r\n                window.focus(), this.display.input.focus()\r\n              },\r\n              setOption: function (t, n) {\r\n                var i = this.options,\r\n                  r = i[t]\r\n                ;(i[t] == n && 'mode' != t) ||\r\n                  ((i[t] = n), e.hasOwnProperty(t) && Gi(this, e[t])(this, n, r), re(this, 'optionChange', this, t))\r\n              },\r\n              getOption: function (t) {\r\n                return this.options[t]\r\n              },\r\n              getDoc: function () {\r\n                return this.doc\r\n              },\r\n              addKeyMap: function (t, e) {\r\n                this.state.keyMaps[e ? 'push' : 'unshift'](qo(t))\r\n              },\r\n              removeKeyMap: function (t) {\r\n                for (var e = this.state.keyMaps, n = 0; n < e.length; ++n)\r\n                  if (e[n] == t || e[n].name == t) return e.splice(n, 1), !0\r\n              },\r\n              addOverlay: Xi(function (e, n) {\r\n                var i = e.token ? e : t.getMode(this.options, e)\r\n                if (i.startState) throw new Error('Overlays may not be stateful.')\r\n                !(function (t, e, n) {\r\n                  for (var i = 0, r = n(e); i < t.length && n(t[i]) <= r; ) i++\r\n                  t.splice(i, 0, e)\r\n                })(\r\n                  this.state.overlays,\r\n                  { mode: i, modeSpec: e, opaque: n && n.opaque, priority: (n && n.priority) || 0 },\r\n                  function (t) {\r\n                    return t.priority\r\n                  }\r\n                ),\r\n                  this.state.modeGen++,\r\n                  Zi(this)\r\n              }),\r\n              removeOverlay: Xi(function (t) {\r\n                for (var e = this.state.overlays, n = 0; n < e.length; ++n) {\r\n                  var i = e[n].modeSpec\r\n                  if (i == t || ('string' == typeof t && i.name == t))\r\n                    return e.splice(n, 1), this.state.modeGen++, void Zi(this)\r\n                }\r\n              }),\r\n              indentLine: Xi(function (t, e, n) {\r\n                'string' != typeof e &&\r\n                  'number' != typeof e &&\r\n                  (e = null == e ? (this.options.smartIndent ? 'smart' : 'prev') : e ? 'add' : 'subtract'),\r\n                  pt(this.doc, t) && Es(this, t, e, n)\r\n              }),\r\n              indentSelection: Xi(function (t) {\r\n                for (var e = this.doc.sel.ranges, n = -1, i = 0; i < e.length; i++) {\r\n                  var r = e[i]\r\n                  if (r.empty())\r\n                    r.head.line > n &&\r\n                      (Es(this, r.head.line, t, !0), (n = r.head.line), i == this.doc.sel.primIndex && Mi(this))\r\n                  else {\r\n                    var o = r.from(),\r\n                      s = r.to(),\r\n                      a = Math.max(n, o.line)\r\n                    n = Math.min(this.lastLine(), s.line - (s.ch ? 0 : 1)) + 1\r\n                    for (var l = a; l < n; ++l) Es(this, l, t)\r\n                    var c = this.doc.sel.ranges\r\n                    0 == o.ch && e.length == c.length && c[i].from().ch > 0 && qr(this.doc, i, new br(o, c[i].to()), B)\r\n                  }\r\n                }\r\n              }),\r\n              getTokenAt: function (t, e) {\r\n                return We(this, t, e)\r\n              },\r\n              getLineTokens: function (t, e) {\r\n                return We(this, vt(t), e, !0)\r\n              },\r\n              getTokenTypeAt: function (t) {\r\n                t = kt(this.doc, t)\r\n                var e,\r\n                  n = Re(this, lt(this.doc, t.line)),\r\n                  i = 0,\r\n                  r = (n.length - 1) / 2,\r\n                  o = t.ch\r\n                if (0 == o) e = n[2]\r\n                else\r\n                  for (;;) {\r\n                    var s = (i + r) >> 1\r\n                    if ((s ? n[2 * s - 1] : 0) >= o) r = s\r\n                    else {\r\n                      if (!(n[2 * s + 1] < o)) {\r\n                        e = n[2 * s + 2]\r\n                        break\r\n                      }\r\n                      i = s + 1\r\n                    }\r\n                  }\r\n                var a = e ? e.indexOf('overlay ') : -1\r\n                return a < 0 ? e : 0 == a ? null : e.slice(0, a - 1)\r\n              },\r\n              getModeAt: function (e) {\r\n                var n = this.doc.mode\r\n                return n.innerMode ? t.innerMode(n, this.getTokenAt(e).state).mode : n\r\n              },\r\n              getHelper: function (t, e) {\r\n                return this.getHelpers(t, e)[0]\r\n              },\r\n              getHelpers: function (t, e) {\r\n                var i = []\r\n                if (!n.hasOwnProperty(e)) return i\r\n                var r = n[e],\r\n                  o = this.getModeAt(t)\r\n                if ('string' == typeof o[e]) r[o[e]] && i.push(r[o[e]])\r\n                else if (o[e])\r\n                  for (var s = 0; s < o[e].length; s++) {\r\n                    var a = r[o[e][s]]\r\n                    a && i.push(a)\r\n                  }\r\n                else o.helperType && r[o.helperType] ? i.push(r[o.helperType]) : r[o.name] && i.push(r[o.name])\r\n                for (var l = 0; l < r._global.length; l++) {\r\n                  var c = r._global[l]\r\n                  c.pred(o, this) && -1 == V(i, c.val) && i.push(c.val)\r\n                }\r\n                return i\r\n              },\r\n              getStateAfter: function (t, e) {\r\n                var n = this.doc\r\n                return ze(this, (t = Ct(n, null == t ? n.first + n.size - 1 : t)) + 1, e).state\r\n              },\r\n              cursorCoords: function (t, e) {\r\n                var n = this.doc.sel.primary()\r\n                return Yn(\r\n                  this,\r\n                  null == t ? n.head : 'object' == typeof t ? kt(this.doc, t) : t ? n.from() : n.to(),\r\n                  e || 'page'\r\n                )\r\n              },\r\n              charCoords: function (t, e) {\r\n                return Kn(this, kt(this.doc, t), e || 'page')\r\n              },\r\n              coordsChar: function (t, e) {\r\n                return Jn(this, (t = qn(this, t, e || 'page')).left, t.top)\r\n              },\r\n              lineAtHeight: function (t, e) {\r\n                return (t = qn(this, { top: t, left: 0 }, e || 'page').top), ft(this.doc, t + this.display.viewOffset)\r\n              },\r\n              heightAtLine: function (t, e, n) {\r\n                var i,\r\n                  r = !1\r\n                if ('number' == typeof t) {\r\n                  var o = this.doc.first + this.doc.size - 1\r\n                  t < this.doc.first ? (t = this.doc.first) : t > o && ((t = o), (r = !0)), (i = lt(this.doc, t))\r\n                } else i = t\r\n                return Un(this, i, { top: 0, left: 0 }, e || 'page', n || r).top + (r ? this.doc.height - Kt(i) : 0)\r\n              },\r\n              defaultTextHeight: function () {\r\n                return ni(this.display)\r\n              },\r\n              defaultCharWidth: function () {\r\n                return ii(this.display)\r\n              },\r\n              getViewport: function () {\r\n                return { from: this.display.viewFrom, to: this.display.viewTo }\r\n              },\r\n              addWidget: function (t, e, n, i, r) {\r\n                var o,\r\n                  s,\r\n                  a,\r\n                  l = this.display,\r\n                  c = (t = Yn(this, kt(this.doc, t))).bottom,\r\n                  u = t.left\r\n                if (\r\n                  ((e.style.position = 'absolute'),\r\n                  e.setAttribute('cm-ignore-events', 'true'),\r\n                  this.display.input.setUneditable(e),\r\n                  l.sizer.appendChild(e),\r\n                  'over' == i)\r\n                )\r\n                  c = t.top\r\n                else if ('above' == i || 'near' == i) {\r\n                  var h = Math.max(l.wrapper.clientHeight, this.doc.height),\r\n                    d = Math.max(l.sizer.clientWidth, l.lineSpace.clientWidth)\r\n                  ;('above' == i || t.bottom + e.offsetHeight > h) && t.top > e.offsetHeight\r\n                    ? (c = t.top - e.offsetHeight)\r\n                    : t.bottom + e.offsetHeight <= h && (c = t.bottom),\r\n                    u + e.offsetWidth > d && (u = d - e.offsetWidth)\r\n                }\r\n                ;(e.style.top = c + 'px'),\r\n                  (e.style.left = e.style.right = ''),\r\n                  'right' == r\r\n                    ? ((u = l.sizer.clientWidth - e.offsetWidth), (e.style.right = '0px'))\r\n                    : ('left' == r ? (u = 0) : 'middle' == r && (u = (l.sizer.clientWidth - e.offsetWidth) / 2),\r\n                      (e.style.left = u + 'px')),\r\n                  n &&\r\n                    ((o = this),\r\n                    (s = { left: u, top: c, right: u + e.offsetWidth, bottom: c + e.offsetHeight }),\r\n                    null != (a = Ti(o, s)).scrollTop && Li(o, a.scrollTop),\r\n                    null != a.scrollLeft && Ni(o, a.scrollLeft))\r\n              },\r\n              triggerOnKeyDown: Xi(ss),\r\n              triggerOnKeyPress: Xi(ls),\r\n              triggerOnKeyUp: as,\r\n              triggerOnMouseDown: Xi(ds),\r\n              execCommand: function (t) {\r\n                if (Jo.hasOwnProperty(t)) return Jo[t].call(null, this)\r\n              },\r\n              triggerElectric: Xi(function (t) {\r\n                Ls(this, t)\r\n              }),\r\n              findPosH: function (t, e, n, i) {\r\n                var r = 1\r\n                e < 0 && ((r = -1), (e = -e))\r\n                for (var o = kt(this.doc, t), s = 0; s < e && !(o = Is(this.doc, o, r, n, i)).hitSide; ++s);\r\n                return o\r\n              },\r\n              moveH: Xi(function (t, e) {\r\n                var n = this\r\n                this.extendSelectionsBy(function (i) {\r\n                  return n.display.shift || n.doc.extend || i.empty()\r\n                    ? Is(n.doc, i.head, t, e, n.options.rtlMoveVisually)\r\n                    : t < 0\r\n                    ? i.from()\r\n                    : i.to()\r\n                }, U)\r\n              }),\r\n              deleteH: Xi(function (t, e) {\r\n                var n = this.doc.sel,\r\n                  i = this.doc\r\n                n.somethingSelected()\r\n                  ? i.replaceSelection('', null, '+delete')\r\n                  : Ko(this, function (n) {\r\n                      var r = Is(i, n.head, t, e, !1)\r\n                      return t < 0 ? { from: r, to: n.head } : { from: n.head, to: r }\r\n                    })\r\n              }),\r\n              findPosV: function (t, e, n, i) {\r\n                var r = 1,\r\n                  o = i\r\n                e < 0 && ((r = -1), (e = -e))\r\n                for (var s = kt(this.doc, t), a = 0; a < e; ++a) {\r\n                  var l = Yn(this, s, 'div')\r\n                  if ((null == o ? (o = l.left) : (l.left = o), (s = Fs(this, l, r, n)).hitSide)) break\r\n                }\r\n                return s\r\n              },\r\n              moveV: Xi(function (t, e) {\r\n                var n = this,\r\n                  i = this.doc,\r\n                  r = [],\r\n                  o = !this.display.shift && !i.extend && i.sel.somethingSelected()\r\n                if (\r\n                  (i.extendSelectionsBy(function (s) {\r\n                    if (o) return t < 0 ? s.from() : s.to()\r\n                    var a = Yn(n, s.head, 'div')\r\n                    null != s.goalColumn && (a.left = s.goalColumn), r.push(a.left)\r\n                    var l = Fs(n, a, t, e)\r\n                    return 'page' == e && s == i.sel.primary() && Ei(n, Kn(n, l, 'div').top - a.top), l\r\n                  }, U),\r\n                  r.length)\r\n                )\r\n                  for (var s = 0; s < i.sel.ranges.length; s++) i.sel.ranges[s].goalColumn = r[s]\r\n              }),\r\n              findWordAt: function (t) {\r\n                var e = this.doc,\r\n                  n = lt(e, t.line).text,\r\n                  i = t.ch,\r\n                  r = t.ch\r\n                if (n) {\r\n                  var o = this.getHelper(t, 'wordChars')\r\n                  ;('before' != t.sticky && r != n.length) || !i ? ++r : --i\r\n                  for (\r\n                    var s = n.charAt(i),\r\n                      a = et(s, o)\r\n                        ? function (t) {\r\n                            return et(t, o)\r\n                          }\r\n                        : /\\s/.test(s)\r\n                        ? function (t) {\r\n                            return /\\s/.test(t)\r\n                          }\r\n                        : function (t) {\r\n                            return !/\\s/.test(t) && !et(t)\r\n                          };\r\n                    i > 0 && a(n.charAt(i - 1));\r\n\r\n                  )\r\n                    --i\r\n                  for (; r < n.length && a(n.charAt(r)); ) ++r\r\n                }\r\n                return new br(vt(t.line, i), vt(t.line, r))\r\n              },\r\n              toggleOverwrite: function (t) {\r\n                ;(null != t && t == this.state.overwrite) ||\r\n                  ((this.state.overwrite = !this.state.overwrite)\r\n                    ? N(this.display.cursorDiv, 'CodeMirror-overwrite')\r\n                    : E(this.display.cursorDiv, 'CodeMirror-overwrite'),\r\n                  re(this, 'overwriteToggle', this, this.state.overwrite))\r\n              },\r\n              hasFocus: function () {\r\n                return this.display.input.getField() == _()\r\n              },\r\n              isReadOnly: function () {\r\n                return !(!this.options.readOnly && !this.doc.cantEdit)\r\n              },\r\n              scrollTo: Xi(function (t, e) {\r\n                Ai(this, t, e)\r\n              }),\r\n              getScrollInfo: function () {\r\n                var t = this.display.scroller\r\n                return {\r\n                  left: t.scrollLeft,\r\n                  top: t.scrollTop,\r\n                  height: t.scrollHeight - Mn(this) - this.display.barHeight,\r\n                  width: t.scrollWidth - Mn(this) - this.display.barWidth,\r\n                  clientHeight: On(this),\r\n                  clientWidth: An(this)\r\n                }\r\n              },\r\n              scrollIntoView: Xi(function (t, e) {\r\n                null == t\r\n                  ? ((t = { from: this.doc.sel.primary().head, to: null }),\r\n                    null == e && (e = this.options.cursorScrollMargin))\r\n                  : 'number' == typeof t\r\n                  ? (t = { from: vt(t, 0), to: null })\r\n                  : null == t.from && (t = { from: t, to: null }),\r\n                  t.to || (t.to = t.from),\r\n                  (t.margin = e || 0),\r\n                  null != t.from.line\r\n                    ? (function (t, e) {\r\n                        Oi(t), (t.curOp.scrollToPos = e)\r\n                      })(this, t)\r\n                    : Pi(this, t.from, t.to, t.margin)\r\n              }),\r\n              setSize: Xi(function (t, e) {\r\n                var n = this,\r\n                  i = function (t) {\r\n                    return 'number' == typeof t || /^\\d+$/.test(String(t)) ? t + 'px' : t\r\n                  }\r\n                null != t && (this.display.wrapper.style.width = i(t)),\r\n                  null != e && (this.display.wrapper.style.height = i(e)),\r\n                  this.options.lineWrapping && Vn(this)\r\n                var r = this.display.viewFrom\r\n                this.doc.iter(r, this.display.viewTo, function (t) {\r\n                  if (t.widgets)\r\n                    for (var e = 0; e < t.widgets.length; e++)\r\n                      if (t.widgets[e].noHScroll) {\r\n                        Qi(n, r, 'widget')\r\n                        break\r\n                      }\r\n                  ++r\r\n                }),\r\n                  (this.curOp.forceUpdate = !0),\r\n                  re(this, 'refresh', this)\r\n              }),\r\n              operation: function (t) {\r\n                return Yi(this, t)\r\n              },\r\n              startOperation: function () {\r\n                return $i(this)\r\n              },\r\n              endOperation: function () {\r\n                return Bi(this)\r\n              },\r\n              refresh: Xi(function () {\r\n                var t = this.display.cachedTextHeight\r\n                Zi(this),\r\n                  (this.curOp.forceUpdate = !0),\r\n                  Hn(this),\r\n                  Ai(this, this.doc.scrollLeft, this.doc.scrollTop),\r\n                  cr(this),\r\n                  (null == t || Math.abs(t - ni(this.display)) > 0.5) && ai(this),\r\n                  re(this, 'refresh', this)\r\n              }),\r\n              swapDoc: Xi(function (t) {\r\n                var e = this.doc\r\n                return (\r\n                  (e.cm = null),\r\n                  Lr(this, t),\r\n                  Hn(this),\r\n                  this.display.input.reset(),\r\n                  Ai(this, t.scrollLeft, t.scrollTop),\r\n                  (this.curOp.forceScroll = !0),\r\n                  cn(this, 'swapDoc', this, e),\r\n                  e\r\n                )\r\n              }),\r\n              phrase: function (t) {\r\n                var e = this.options.phrases\r\n                return e && Object.prototype.hasOwnProperty.call(e, t) ? e[t] : t\r\n              },\r\n              getInputField: function () {\r\n                return this.display.input.getField()\r\n              },\r\n              getWrapperElement: function () {\r\n                return this.display.wrapper\r\n              },\r\n              getScrollerElement: function () {\r\n                return this.display.scroller\r\n              },\r\n              getGutterElement: function () {\r\n                return this.display.gutters\r\n              }\r\n            }),\r\n              le(t),\r\n              (t.registerHelper = function (e, i, r) {\r\n                n.hasOwnProperty(e) || (n[e] = t[e] = { _global: [] }), (n[e][i] = r)\r\n              }),\r\n              (t.registerGlobalHelper = function (e, i, r, o) {\r\n                t.registerHelper(e, i, o), n[e]._global.push({ pred: r, val: o })\r\n              })\r\n          })(Ss)\r\n        var Bs = 'iter insert remove copy getEditor constructor'.split(' ')\r\n        for (var Ws in Mo.prototype)\r\n          Mo.prototype.hasOwnProperty(Ws) &&\r\n            V(Bs, Ws) < 0 &&\r\n            (Ss.prototype[Ws] = (function (t) {\r\n              return function () {\r\n                return t.apply(this.doc, arguments)\r\n              }\r\n            })(Mo.prototype[Ws]))\r\n        return (\r\n          le(Mo),\r\n          (Ss.inputStyles = { textarea: $s, contenteditable: js }),\r\n          (Ss.defineMode = function (t) {\r\n            Ss.defaults.mode || 'null' == t || (Ss.defaults.mode = t),\r\n              function (t, e) {\r\n                arguments.length > 2 && (e.dependencies = Array.prototype.slice.call(arguments, 2)), (Te[t] = e)\r\n              }.apply(this, arguments)\r\n          }),\r\n          (Ss.defineMIME = function (t, e) {\r\n            Ee[t] = e\r\n          }),\r\n          Ss.defineMode('null', function () {\r\n            return {\r\n              token: function (t) {\r\n                return t.skipToEnd()\r\n              }\r\n            }\r\n          }),\r\n          Ss.defineMIME('text/plain', 'null'),\r\n          (Ss.defineExtension = function (t, e) {\r\n            Ss.prototype[t] = e\r\n          }),\r\n          (Ss.defineDocExtension = function (t, e) {\r\n            Mo.prototype[t] = e\r\n          }),\r\n          (Ss.fromTextArea = function (t, e) {\r\n            if (\r\n              (((e = e ? j(e) : {}).value = t.value),\r\n              !e.tabindex && t.tabIndex && (e.tabindex = t.tabIndex),\r\n              !e.placeholder && t.placeholder && (e.placeholder = t.placeholder),\r\n              null == e.autofocus)\r\n            ) {\r\n              var n = _()\r\n              e.autofocus = n == t || (null != t.getAttribute('autofocus') && n == document.body)\r\n            }\r\n            function i () {\r\n              t.value = a.getValue()\r\n            }\r\n            var r\r\n            if (t.form && (ee(t.form, 'submit', i), !e.leaveSubmitMethodAlone)) {\r\n              var o = t.form\r\n              r = o.submit\r\n              try {\r\n                var s = (o.submit = function () {\r\n                  i(), (o.submit = r), o.submit(), (o.submit = s)\r\n                })\r\n              } catch (t) {}\r\n            }\r\n            ;(e.finishInit = function (e) {\r\n              ;(e.save = i),\r\n                (e.getTextArea = function () {\r\n                  return t\r\n                }),\r\n                (e.toTextArea = function () {\r\n                  ;(e.toTextArea = isNaN),\r\n                    i(),\r\n                    t.parentNode.removeChild(e.getWrapperElement()),\r\n                    (t.style.display = ''),\r\n                    t.form && (ie(t.form, 'submit', i), 'function' == typeof t.form.submit && (t.form.submit = r))\r\n                })\r\n            }),\r\n              (t.style.display = 'none')\r\n            var a = Ss(function (e) {\r\n              return t.parentNode.insertBefore(e, t.nextSibling)\r\n            }, e)\r\n            return a\r\n          }),\r\n          (function (t) {\r\n            ;(t.off = ie),\r\n              (t.on = ee),\r\n              (t.wheelEventPixels = vr),\r\n              (t.Doc = Mo),\r\n              (t.splitLines = we),\r\n              (t.countColumn = R),\r\n              (t.findColumn = q),\r\n              (t.isWordChar = tt),\r\n              (t.Pass = $),\r\n              (t.signal = re),\r\n              (t.Line = Ke),\r\n              (t.changeEnd = Cr),\r\n              (t.scrollbarModel = zi),\r\n              (t.Pos = vt),\r\n              (t.cmpPos = mt),\r\n              (t.modes = Te),\r\n              (t.mimeModes = Ee),\r\n              (t.resolveMode = Me),\r\n              (t.getMode = Ae),\r\n              (t.modeExtensions = Oe),\r\n              (t.extendMode = Pe),\r\n              (t.copyState = Le),\r\n              (t.startState = Ne),\r\n              (t.innerMode = _e),\r\n              (t.commands = Jo),\r\n              (t.keyMap = zo),\r\n              (t.keyName = Uo),\r\n              (t.isModifierKey = Bo),\r\n              (t.lookupKey = $o),\r\n              (t.normalizeKeyMap = Ho),\r\n              (t.StringStream = De),\r\n              (t.SharedTextMarker = ko),\r\n              (t.TextMarker = wo),\r\n              (t.LineWidget = yo),\r\n              (t.e_preventDefault = ce),\r\n              (t.e_stopPropagation = ue),\r\n              (t.e_stop = de),\r\n              (t.addClass = N),\r\n              (t.contains = L),\r\n              (t.rmClass = E),\r\n              (t.keyNames = Io)\r\n          })(Ss),\r\n          (Ss.version = '5.42.0'),\r\n          Ss\r\n        )\r\n      })()\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1),\r\n        r = n(0),\r\n        o = r.$\r\n      t.exports = r.View.extend({\r\n        events: { change: 'onChange' },\r\n        attributes: function () {\r\n          return this.model.get('attributes')\r\n        },\r\n        initialize: function (t) {\r\n          var e = this.model,\r\n            n = (e.get('name'), e.target)\r\n          ;(this.config = t.config || {}),\r\n            (this.em = this.config.em),\r\n            (this.pfx = this.config.stylePrefix || ''),\r\n            (this.ppfx = this.config.pStylePrefix || ''),\r\n            (this.target = n),\r\n            (this.className = this.pfx + 'trait'),\r\n            (this.labelClass = this.ppfx + 'label'),\r\n            (this.fieldClass = this.ppfx + 'field ' + this.ppfx + 'field-' + e.get('type')),\r\n            (this.inputhClass = this.ppfx + 'input-holder'),\r\n            e.off('change:value', this.onValueChange),\r\n            this.listenTo(e, 'change:value', this.onValueChange),\r\n            (e.view = this),\r\n            (this.tmpl = '<div class=\"' + this.fieldClass + '\"><div class=\"' + this.inputhClass + '\"></div></div>')\r\n        },\r\n        onChange: function () {\r\n          this.model.set('value', this.getInputEl().value)\r\n        },\r\n        getValueForTarget: function () {\r\n          return this.model.get('value')\r\n        },\r\n        setInputValue: function (t) {\r\n          this.getInputEl().value = t\r\n        },\r\n        onValueChange: function (t, e) {\r\n          var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\r\n            i = this.model\r\n          this.target, i.get('name')\r\n          if (n.fromTarget) this.setInputValue(i.get('value'))\r\n          else {\r\n            var r = this.getValueForTarget()\r\n            i.setTargetValue(r, n)\r\n          }\r\n        },\r\n        renderLabel: function () {\r\n          var t = this.getLabel()\r\n          this.$el.html('<div class=\"' + this.labelClass + '\" title=\"' + t + '\">' + t + '</div>')\r\n        },\r\n        getLabel: function () {\r\n          var t = this.model,\r\n            e = t.get('label') || t.get('name')\r\n          return e.charAt(0).toUpperCase() + e.slice(1).replace(/-/g, ' ')\r\n        },\r\n        getInputEl: function () {\r\n          if (!this.$input) {\r\n            var t = this.model,\r\n              e = t.get('placeholder') || t.get('default') || '',\r\n              n = t.get('type') || 'text',\r\n              i = t.get('min'),\r\n              r = t.get('max'),\r\n              s = this.getModelValue(),\r\n              a = o('<input type=\"' + n + '\" placeholder=\"' + e + '\">')\r\n            s && (t.set({ value: s }, { silent: !0 }), a.prop('value', s)),\r\n              i && a.prop('min', i),\r\n              r && a.prop('max', r),\r\n              (this.$input = a)\r\n          }\r\n          return this.$input.get(0)\r\n        },\r\n        getModelValue: function () {\r\n          var t = void 0,\r\n            e = this.model,\r\n            n = this.target,\r\n            r = e.get('name')\r\n          if (e.get('changeProp')) t = n.get(r)\r\n          else {\r\n            var o = n.get('attributes')\r\n            t = e.get('value') || o[r]\r\n          }\r\n          return (0, i.isUndefined)(t) ? '' : t\r\n        },\r\n        renderField: function () {\r\n          if (!this.$input) {\r\n            this.$el.append(this.tmpl)\r\n            var t = this.getInputEl(),\r\n              e = this.el.querySelector('.' + this.inputhClass)\r\n            e.insertBefore(t, e.childNodes[0])\r\n          }\r\n        },\r\n        render: function () {\r\n          return this.renderLabel(), this.renderField(), (this.el.className = this.className), this\r\n        }\r\n      })\r\n    },\r\n    function (t, e) {\r\n      var n\r\n      n = (function () {\r\n        return this\r\n      })()\r\n      try {\r\n        n = n || new Function('return this')()\r\n      } catch (t) {\r\n        'object' == typeof window && (n = window)\r\n      }\r\n      t.exports = n\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(0),\r\n        r = i.Model.extend(\r\n          {\r\n            idAttribute: 'name',\r\n            defaults: { name: '', label: '', type: 1, active: !0, private: !1, protected: !1 },\r\n            initialize: function () {\r\n              var t = this.get('name'),\r\n                e = this.get('label')\r\n              t ? e || this.set('label', t) : this.set('name', e), this.set('name', r.escapeName(this.get('name')))\r\n            },\r\n            getFullName: function () {\r\n              var t = ''\r\n              switch (this.get('type')) {\r\n                case 1:\r\n                  t = '.'\r\n                  break\r\n                case 2:\r\n                  t = '#'\r\n              }\r\n              return t + this.get('name')\r\n            }\r\n          },\r\n          {\r\n            TYPE_CLASS: 1,\r\n            TYPE_ID: 2,\r\n            escapeName: function (t) {\r\n              return ('' + t).trim().replace(/([^a-z0-9\\w-\\:]+)/gi, '-')\r\n            }\r\n          }\r\n        )\r\n      t.exports = r\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1),\r\n        r = n(9)\r\n      t.exports = n(0).Collection.extend({\r\n        model: r,\r\n        getStyleable: function () {\r\n          return (0, i.filter)(this.models, function (t) {\r\n            return t.get('active') && !t.get('private')\r\n          })\r\n        },\r\n        getValid: function () {\r\n          return (0, i.filter)(this.models, function (t) {\r\n            return !t.get('private')\r\n          })\r\n        },\r\n        getFullString: function (t) {\r\n          var e = []\r\n          return (\r\n            (t || this).forEach(function (t) {\r\n              return e.push(t.getFullName())\r\n            }),\r\n            e.join('').trim()\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r =\r\n          'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator\r\n            ? function (t) {\r\n                return typeof t\r\n              }\r\n            : function (t) {\r\n                return t && 'function' == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype\r\n                  ? 'symbol'\r\n                  : typeof t\r\n              },\r\n        o = n(1),\r\n        s = n(2),\r\n        a = n(223),\r\n        l = n(225),\r\n        c = (n(45), n(0).$),\r\n        u = void 0\r\n      t.exports = {\r\n        init: function (t) {\r\n          ;(0, o.bindAll)(this, 'onHover', 'onOut', 'onClick', 'onFrameScroll')\r\n        },\r\n        enable: function () {\r\n          this.frameOff = this.canvasOff = this.adjScroll = null\r\n          this.config.em.get('Config')\r\n          this.startSelectComponent()\r\n          var t = this.config.em\r\n          ;(u = 1),\r\n            t.on('component:update', this.updateAttached, this),\r\n            t.on('change:canvasOffset', this.updateAttached, this)\r\n        },\r\n        startSelectComponent: function () {\r\n          this.toggleSelectComponent(1)\r\n        },\r\n        stopSelectComponent: function () {\r\n          this.toggleSelectComponent()\r\n        },\r\n        toggleSelectComponent: function (t) {\r\n          var e = this.em,\r\n            n = t ? 'on' : 'off',\r\n            i = { on: s.on, off: s.off },\r\n            r = this.getCanvasBody(),\r\n            o = this.getContentWindow()\r\n          i[n](r, 'mouseover', this.onHover),\r\n            i[n](r, 'mouseout', this.onOut),\r\n            i[n](r, 'click', this.onClick),\r\n            i[n](o, 'scroll resize', this.onFrameScroll),\r\n            e[n]('component:toggled', this.onSelect, this),\r\n            e[n]('change:componentHovered', this.onHovered, this)\r\n        },\r\n        onHover: function (t) {\r\n          t.stopPropagation()\r\n          var e = t.target,\r\n            n = c(e),\r\n            i = n.data('model')\r\n          if (!i) for (var r = n.parent(); !i && r; ) (i = r.data('model')), (r = r.parent())\r\n          if ((this.adjScroll || ((this.adjScroll = 1), this.updateAttached()), i && !i.get('hoverable'))) {\r\n            for (var o = i && i.parent(); o && !o.get('hoverable'); ) o = o.parent()\r\n            i = o\r\n          }\r\n          this.em.setHovered(i, { forceChange: 1 })\r\n        },\r\n        onHovered: function (t, e) {\r\n          var n = e && e.getEl()\r\n          if (n) {\r\n            var i = this.getElementPos(n)\r\n            this.updateBadge(n, i), this.updateHighlighter(n, i), this.showElementOffset(n, i)\r\n          }\r\n        },\r\n        onOut: function (t) {\r\n          t.stopPropagation(), this.hideBadge(), this.hideHighlighter(), this.hideElementOffset()\r\n        },\r\n        showElementOffset: function (t, e) {\r\n          var n = c(t).data('model')\r\n          ;(n && 'selected' == n.get('status')) || !u || this.editor.runCommand('show-offset', { el: t, elPos: e })\r\n        },\r\n        hideElementOffset: function (t, e) {\r\n          this.editor.stopCommand('show-offset')\r\n        },\r\n        showFixedElementOffset: function (t, e) {\r\n          this.editor.runCommand('show-offset', { el: t, elPos: e, state: 'Fixed' })\r\n        },\r\n        hideFixedElementOffset: function (t, e) {\r\n          this.editor && this.editor.stopCommand('show-offset', { state: 'Fixed' })\r\n        },\r\n        hideHighlighter: function () {\r\n          this.canvas.getHighlighter().style.display = 'none'\r\n        },\r\n        onClick: function (t) {\r\n          t.stopPropagation()\r\n          var e = c(t.target),\r\n            n = (this.editor, e.data('model'))\r\n          if (!n) for (var i = e.parent(); !n && i; ) (n = i.data('model')), (i = i.parent())\r\n          if (n)\r\n            if (n.get('selectable')) this.select(n, t)\r\n            else {\r\n              for (var r = n.parent(); r && !r.get('selectable'); ) r = r.parent()\r\n              this.select(r, t)\r\n            }\r\n        },\r\n        select: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n          if (t) {\r\n            var n = e.ctrlKey || e.metaKey,\r\n              i = e.shiftKey,\r\n              r = this.editor,\r\n              s = r.getConfig('multipleSelection'),\r\n              a = this.em\r\n            if (n && s) r.selectToggle(t)\r\n            else if (i && s) {\r\n              a.clearSelection(r.Canvas.getWindow())\r\n              var l = t.collection,\r\n                c = l.indexOf(t),\r\n                u = (r.getSelectedAll(), void 0),\r\n                h = void 0\r\n              if (\r\n                (r.getSelectedAll().forEach(function (t) {\r\n                  var e = t.collection,\r\n                    n = e.indexOf(t)\r\n                  e === l &&\r\n                    (n < c\r\n                      ? (u = (0, o.isUndefined)(u) ? n : Math.max(u, n))\r\n                      : n > c && (h = (0, o.isUndefined)(h) ? n : Math.min(h, n)))\r\n                }),\r\n                !(0, o.isUndefined)(u))\r\n              )\r\n                for (; u !== c; ) r.selectAdd(l.at(u)), u++\r\n              if (!(0, o.isUndefined)(h)) for (; h !== c; ) r.selectAdd(l.at(h)), h--\r\n              r.selectAdd(t)\r\n            } else r.select(t)\r\n            this.initResize(t)\r\n          }\r\n        },\r\n        updateBadge: function (t, e) {\r\n          var n = c(t),\r\n            i = this.canvas,\r\n            r = i.getConfig().customBadgeLabel\r\n          this.cacheEl = t\r\n          var o = n.data('model')\r\n          if (o && o.get('badgable')) {\r\n            var s = this.getBadge(),\r\n              a = o.getIcon() + o.getName()\r\n            ;(a = r ? r(o) : a), (s.innerHTML = a)\r\n            var l = s.style\r\n            l.display = 'block'\r\n            var u = i.getCanvasView().getPosition()\r\n            if (u) {\r\n              var h = s ? s.offsetHeight : 0,\r\n                d = s ? s.offsetWidth : 0,\r\n                f = e.top - h < u.top ? u.top : e.top - h,\r\n                p = e.left + d < u.left ? u.left : e.left\r\n              ;(l.top = f + 'px'), (l.left = p + 'px')\r\n            }\r\n          }\r\n        },\r\n        updateHighlighter: function (t, e) {\r\n          var n = c(t).data('model')\r\n          if (n && n.get('hoverable') && 'selected' != n.get('status')) {\r\n            var i = this.canvas.getHighlighter().style\r\n            ;(i.left = e.left + 'px'),\r\n              (i.top = e.top + 'px'),\r\n              (i.height = e.height + 'px'),\r\n              (i.width = e.width + 'px'),\r\n              (i.display = 'block')\r\n          }\r\n        },\r\n        onSelect: function () {\r\n          var t = this.em.getSelected(),\r\n            e = t && t.view\r\n          if ((this.updateToolbar(t), e)) {\r\n            var n = e.el\r\n            this.showFixedElementOffset(n), this.hideElementOffset(), this.hideHighlighter(), this.initResize(n)\r\n          } else this.editor.stopCommand('resize')\r\n        },\r\n        initResize: function (t) {\r\n          var e = this.em,\r\n            n = e ? e.get('Editor') : '',\r\n            a = (e ? e.get('Config') : '').stylePrefix || '',\r\n            l = a + 'resizing',\r\n            c = (0, o.isElement)(t) ? e.getSelected() : t,\r\n            h = c.get('resizable'),\r\n            d = (0, o.isElement)(t) ? t : c.getEl(),\r\n            f = {},\r\n            p = void 0,\r\n            g = function (t, e, n) {\r\n              var i = n.docs\r\n              i &&\r\n                i.forEach(function (e) {\r\n                  var n = e.body,\r\n                    i = n.className || ''\r\n                  n.className = ('add' == t ? i + ' ' + l : i.replace(l, '')).trim()\r\n                })\r\n            }\r\n          n && h\r\n            ? ((f = {\r\n                onStart: function (t) {\r\n                  var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n                    i = n.el,\r\n                    r = n.config,\r\n                    o = n.resizer,\r\n                    a = r.keyHeight,\r\n                    l = r.keyWidth,\r\n                    h = r.currentUnit,\r\n                    d = r.keepAutoHeight,\r\n                    f = r.keepAutoWidth\r\n                  g('add', 0, n), (p = e.get('StyleManager').getModelToStyle(c))\r\n                  var v = getComputedStyle(i),\r\n                    m = p.getStyle(),\r\n                    y = m[l]\r\n                  ;(r.autoWidth = f && 'auto' === y), isNaN(parseFloat(y)) && (y = v[l])\r\n                  var b = m[a]\r\n                  ;(r.autoHeight = d && 'auto' === b),\r\n                    isNaN(parseFloat(b)) && (b = v[a]),\r\n                    (o.startDim.w = parseFloat(y)),\r\n                    (o.startDim.h = parseFloat(b)),\r\n                    (u = 0),\r\n                    h && ((r.unitHeight = (0, s.getUnitFromValue)(b)), (r.unitWidth = (0, s.getUnitFromValue)(y)))\r\n                },\r\n                onMove: function () {\r\n                  n.trigger('change:canvasOffset')\r\n                },\r\n                onEnd: function (t, e) {\r\n                  g('remove', 0, e), n.trigger('change:canvasOffset'), (u = 1)\r\n                },\r\n                updateTarget: function (t, n) {\r\n                  var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}\r\n                  if (p) {\r\n                    var r = i.store,\r\n                      o = i.selectedHandler,\r\n                      s = i.config,\r\n                      a = s.keyHeight,\r\n                      l = s.keyWidth,\r\n                      c = s.autoHeight,\r\n                      u = s.autoWidth,\r\n                      h = s.unitWidth,\r\n                      d = s.unitHeight,\r\n                      f = ['tc', 'bc'].indexOf(o) >= 0,\r\n                      g = ['cl', 'cr'].indexOf(o) >= 0,\r\n                      v = p.getStyle()\r\n                    f || (v[l] = u ? 'auto' : '' + n.w + h),\r\n                      g || (v[a] = c ? 'auto' : '' + n.h + d),\r\n                      p.setStyle(v, { avoidStore: 1 })\r\n                    e && e.trigger('update:component:style:' + a + ' update:component:style:' + l),\r\n                      r && p.trigger('change:style', p, v, {})\r\n                  }\r\n                }\r\n              }),\r\n              'object' == (void 0 === h ? 'undefined' : r(h)) && (f = i({}, f, h)),\r\n              n.runCommand('resize', { el: d, options: f }))\r\n            : n.stopCommand('resize')\r\n        },\r\n        updateToolbar: function (t) {\r\n          var e = this,\r\n            n = this.config.em,\r\n            i = t == n ? n.getSelected() : t,\r\n            r = this.canvas.getToolbarEl(),\r\n            o = r.style\r\n          if (i) {\r\n            var s = i.get('toolbar')\r\n            this.ppfx\r\n            if (n.get('Config').showToolbar && s && s.length) {\r\n              if (((o.opacity = ''), (o.display = ''), !this.toolbar)) {\r\n                ;(r.innerHTML = ''), (this.toolbar = new l(s))\r\n                var c = new a({ collection: this.toolbar, editor: this.editor })\r\n                r.appendChild(c.render().el)\r\n              }\r\n              this.toolbar.reset(s)\r\n              var u = i.view\r\n              ;(o.top = '-100px'),\r\n                (o.left = 0),\r\n                setTimeout(function () {\r\n                  return u && e.updateToolbarPos(u.el)\r\n                }, 0)\r\n            } else o.display = 'none'\r\n          } else o.opacity = 0\r\n        },\r\n        updateToolbarPos: function (t, e) {\r\n          var n = this.canvas.getToolbarEl(),\r\n            i = n.style\r\n          i.opacity = 0\r\n          var r = this.canvas.getTargetToElementDim(n, t, { elPos: e, event: 'toolbarPosUpdate' })\r\n          if (r) {\r\n            var o = r.left + r.elementWidth - r.targetWidth\r\n            ;(i.top = r.top + 'px'), (i.left = (o < 0 ? 0 : o) + 'px'), (i.opacity = '')\r\n          }\r\n        },\r\n        getCanvasPosition: function () {\r\n          return this.canvas.getCanvasView().getPosition()\r\n        },\r\n        clean: function () {\r\n          this.selEl && this.selEl.removeClass(this.hoverClass)\r\n        },\r\n        getBadge: function () {\r\n          return this.canvas.getBadgeEl()\r\n        },\r\n        onFrameScroll: function (t) {\r\n          var e = this.cacheEl\r\n          if (e) {\r\n            var n = this.getElementPos(e)\r\n            this.updateBadge(e, n)\r\n            var i = this.em.getSelected()\r\n            i && this.updateToolbarPos(i.view.el)\r\n          }\r\n        },\r\n        updateAttached: function (t) {\r\n          var e = this.em.getSelected(),\r\n            n = e && e.view\r\n          if (n) {\r\n            var i = n.el\r\n            this.updateToolbarPos(i), this.showFixedElementOffset(i)\r\n          }\r\n        },\r\n        getElementPos: function (t, e) {\r\n          return this.canvas.getCanvasView().getElementPos(t)\r\n        },\r\n        hideBadge: function () {\r\n          this.getBadge().style.display = 'none'\r\n        },\r\n        cleanPrevious: function (t) {\r\n          t && t.set({ status: '', state: '' })\r\n        },\r\n        getContentWindow: function () {\r\n          return this.frameEl.contentWindow\r\n        },\r\n        run: function (t) {\r\n          ;(this.editor = t && t.get('Editor')), this.enable(), this.onSelect()\r\n        },\r\n        stop: function (t, e) {\r\n          var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\r\n            i = this.em\r\n          this.stopSelectComponent(),\r\n            !n.preserveSelected && i.setSelected(null),\r\n            this.clean(),\r\n            this.hideBadge(),\r\n            this.hideFixedElementOffset(),\r\n            (this.canvas.getToolbarEl().style.display = 'none'),\r\n            i.off('component:update', this.updateAttached, this),\r\n            i.off('change:canvasOffset', this.updateAttached, this)\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = o(n(1)),\r\n        r = o(n(0))\r\n      function o (t) {\r\n        return t && t.__esModule ? t : { default: t }\r\n      }\r\n      var s = n(19),\r\n        a = r.default.$\r\n      t.exports = i.default.extend({}, s, {\r\n        init: function (t) {\r\n          i.default.bindAll(this, 'startDraw', 'draw', 'endDraw', 'rollback'),\r\n            (this.config = t || {}),\r\n            (this.hType = this.config.newFixedH ? 'height' : 'min-height'),\r\n            (this.allowDraw = 1)\r\n        },\r\n        enable: function () {\r\n          for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n          s.enable.apply(this, e),\r\n            this.$wr.css('cursor', 'crosshair'),\r\n            this.allowDraw && this.$wr.on('mousedown', this.startDraw),\r\n            (this.ghost = this.canvas.getGhostEl())\r\n        },\r\n        startDraw: function (t) {\r\n          t.preventDefault(),\r\n            this.stopSelectPosition(),\r\n            (this.ghost.style.display = 'block'),\r\n            (this.frameOff = this.getOffsetDim()),\r\n            (this.startPos = { top: t.pageY + this.frameOff.top, left: t.pageX + this.frameOff.left }),\r\n            (this.isDragged = !1),\r\n            (this.tempComponent = { style: {} }),\r\n            this.beforeDraw(this.tempComponent),\r\n            this.updateSize(this.startPos.top, this.startPos.left, 0, 0),\r\n            this.toggleEvents(1)\r\n        },\r\n        toggleEvents: function (t) {\r\n          var e = t ? 'on' : 'off'\r\n          this.$wr[e]('mousemove', this.draw),\r\n            this.$wr[e]('mouseup', this.endDraw),\r\n            this.$canvas[e]('mousemove', this.draw),\r\n            a(document)[e]('mouseup', this.endDraw),\r\n            a(document)[e]('keypress', this.rollback)\r\n        },\r\n        draw: function (t) {\r\n          ;(this.isDragged = !0), this.updateComponentSize(t)\r\n        },\r\n        endDraw: function (t) {\r\n          this.toggleEvents()\r\n          var e = {}\r\n          if (this.isDragged) {\r\n            this.updateComponentSize(t), this.setRequirements(this.tempComponent)\r\n            var n = this.sorter.lastPos\r\n            ;(e = this.create(this.sorter.target, this.tempComponent, n.index, n.method)),\r\n              (this.sorter.prevTarget = null)\r\n          }\r\n          ;(this.ghost.style.display = 'none'), this.startSelectPosition(), this.afterDraw(e)\r\n        },\r\n        create: function (t, e, n, i, r) {\r\n          n = 'after' === i ? n + 1 : n\r\n          var o = r || {},\r\n            s = a(t),\r\n            l = s.data('model'),\r\n            c = s.data('collection'),\r\n            u = l ? l.get('droppable') : 1\r\n          if (((o.at = n), c && u)) return c.add(e, o)\r\n          console.warn('Invalid target position')\r\n        },\r\n        setRequirements: function (t) {\r\n          var e = this.config,\r\n            n = t.style\r\n          n.width.replace(/\\D/g, '') < e.minComponentW && (n.width = e.minComponentW + 'px'),\r\n            n[this.hType].replace(/\\D/g, '') < e.minComponentH && (n[this.hType] = e.minComponentH + 'px'),\r\n            e.newFixedH && (n.overflow = 'auto'),\r\n            this.absoluteMode ? (n.position = 'absolute') : (delete n.left, delete n.top)\r\n          var i = this.sorter.lastPos\r\n          return (\r\n            this.nearFloat(i.index, i.method, this.sorter.lastDims) && (n.float = 'left'),\r\n            this.config.firstCentered && this.getCanvasWrapper() == this.sorter.target && (n.margin = '0 auto'),\r\n            t\r\n          )\r\n        },\r\n        updateComponentSize: function (t) {\r\n          var e = t.pageY + this.frameOff.top,\r\n            n = t.pageX + this.frameOff.left,\r\n            i = this.startPos,\r\n            r = i.top,\r\n            o = i.left,\r\n            s = e - r,\r\n            a = n - o\r\n          n < o && ((o = n), (a = i.left - n)), e < r && ((r = e), (s = i.top - e)), this.updateSize(r, o, a, s)\r\n        },\r\n        updateSize: function (t, e, n, i) {\r\n          var r = 'px',\r\n            o = this.ghost.style,\r\n            s = this.tempComponent.style\r\n          ;(o.top = s.top = t + r),\r\n            (o.left = s.left = e + r),\r\n            (o.width = s.width = n + r),\r\n            (o[this.hType] = s[this.hType] = i + r)\r\n        },\r\n        rollback: function (t, e) {\r\n          ;((t.which || t.keyCode) == this.config.ESCAPE_KEY || e) && ((this.isDragged = !1), this.endDraw())\r\n        },\r\n        beforeDraw: function (t) {\r\n          t.editable = !1\r\n        },\r\n        afterDraw: function (t) {},\r\n        run: function (t, e, n) {\r\n          ;(this.editor = t), (this.sender = e), (this.$wr = this.$wrapper), this.enable()\r\n        },\r\n        stop: function () {\r\n          this.stopSelectPosition(), this.$wrapper.css('cursor', ''), this.$wrapper.unbind()\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i, r\r\n      /*! cash-dom 1.3.7, https://github.com/kenwheeler/cash @license MIT */ void 0 ===\r\n        (r =\r\n          'function' ==\r\n          typeof (i = function () {\r\n            var t,\r\n              e = document,\r\n              n = window,\r\n              i = Array.prototype,\r\n              r = i.slice,\r\n              o = i.filter,\r\n              s = i.push,\r\n              a = function () {},\r\n              l = function (t) {\r\n                return 'function' == typeof t && t.call\r\n              },\r\n              c = function (t) {\r\n                return 'string' == typeof t\r\n              },\r\n              u = /^#[\\w-]*$/,\r\n              h = /^\\.[\\w-]*$/,\r\n              d = /<.+>/,\r\n              f = /^\\w+$/\r\n            function p (t, n) {\r\n              n = n || e\r\n              var i = h.test(t)\r\n                ? n.getElementsByClassName(t.slice(1))\r\n                : f.test(t)\r\n                ? n.getElementsByTagName(t)\r\n                : n.querySelectorAll(t)\r\n              return i\r\n            }\r\n            function g (n) {\r\n              if (!t) {\r\n                var i = (t = e.implementation.createHTMLDocument(null)).createElement('base')\r\n                ;(i.href = e.location.href), t.head.appendChild(i)\r\n              }\r\n              return (t.body.innerHTML = n), t.body.childNodes\r\n            }\r\n            function v (t) {\r\n              'loading' !== e.readyState ? setTimeout(t) : e.addEventListener('DOMContentLoaded', t)\r\n            }\r\n            function m (t, i) {\r\n              if (!t) return this\r\n              if (t.cash && t !== n) return t\r\n              var r,\r\n                o = t,\r\n                s = 0\r\n              if (c(t)) o = u.test(t) ? e.getElementById(t.slice(1)) : d.test(t) ? g(t) : p(t, i)\r\n              else if (l(t)) return v(t), this\r\n              if (!o) return this\r\n              if (o.nodeType || o === n) (this[0] = o), (this.length = 1)\r\n              else for (r = this.length = o.length; s < r; s++) this[s] = o[s]\r\n              return this\r\n            }\r\n            function y (t, e) {\r\n              return new m(t, e)\r\n            }\r\n            var b = (y.fn = y.prototype = m.prototype = {\r\n              cash: !0,\r\n              length: 0,\r\n              push: s,\r\n              splice: i.splice,\r\n              map: i.map,\r\n              init: m\r\n            })\r\n            function x (t, e) {\r\n              for (var n = t.length, i = 0; i < n && !1 !== e.call(t[i], t[i], i, t); i++);\r\n            }\r\n            function w (t, e) {\r\n              var n =\r\n                t &&\r\n                (t.matches ||\r\n                  t.webkitMatchesSelector ||\r\n                  t.mozMatchesSelector ||\r\n                  t.msMatchesSelector ||\r\n                  t.oMatchesSelector)\r\n              return !!n && n.call(t, e)\r\n            }\r\n            function C (t) {\r\n              return c(t)\r\n                ? w\r\n                : t.cash\r\n                ? function (e) {\r\n                    return t.is(e)\r\n                  }\r\n                : function (t, e) {\r\n                    return t === e\r\n                  }\r\n            }\r\n            function k (t) {\r\n              return y(\r\n                r.call(t).filter(function (t, e, n) {\r\n                  return n.indexOf(t) === e\r\n                })\r\n              )\r\n            }\r\n            Object.defineProperty(b, 'constructor', { value: y }),\r\n              (y.parseHTML = g),\r\n              (y.noop = a),\r\n              (y.isFunction = l),\r\n              (y.isString = c),\r\n              (y.extend = b.extend = function (t) {\r\n                t = t || {}\r\n                var e = r.call(arguments),\r\n                  n = e.length,\r\n                  i = 1\r\n                for (1 === e.length && ((t = this), (i = 0)); i < n; i++)\r\n                  if (e[i]) for (var o in e[i]) e[i].hasOwnProperty(o) && (t[o] = e[i][o])\r\n                return t\r\n              }),\r\n              y.extend({\r\n                merge: function (t, e) {\r\n                  for (var n = +e.length, i = t.length, r = 0; r < n; i++, r++) t[i] = e[r]\r\n                  return (t.length = i), t\r\n                },\r\n                each: x,\r\n                matches: w,\r\n                unique: k,\r\n                isArray: Array.isArray,\r\n                isNumeric: function (t) {\r\n                  return !isNaN(parseFloat(t)) && isFinite(t)\r\n                }\r\n              })\r\n            var S = (y.uid = '_cash' + Date.now())\r\n            function T (t) {\r\n              return (t[S] = t[S] || {})\r\n            }\r\n            function E (t, e, n) {\r\n              return (T(t)[e] = n)\r\n            }\r\n            function M (t, e) {\r\n              var n = T(t)\r\n              return void 0 === n[e] && (n[e] = t.dataset ? t.dataset[e] : y(t).attr('data-' + e)), n[e]\r\n            }\r\n            b.extend({\r\n              data: function (t, e) {\r\n                if (c(t))\r\n                  return void 0 === e\r\n                    ? M(this[0], t)\r\n                    : this.each(function (n) {\r\n                        return E(n, t, e)\r\n                      })\r\n                for (var n in t) this.data(n, t[n])\r\n                return this\r\n              },\r\n              removeData: function (t) {\r\n                return this.each(function (e) {\r\n                  return (function (t, e) {\r\n                    var n = T(t)\r\n                    n ? delete n[e] : t.dataset ? delete t.dataset[e] : y(t).removeAttr('data-' + name)\r\n                  })(e, t)\r\n                })\r\n              }\r\n            })\r\n            var A = /\\S+/g\r\n            function O (t) {\r\n              return c(t) && t.match(A)\r\n            }\r\n            function P (t, e) {\r\n              return t.classList ? t.classList.contains(e) : new RegExp('(^| )' + e + '( |$)', 'gi').test(t.className)\r\n            }\r\n            function L (t, e) {\r\n              t.classList ? t.classList.add(e) : P(t, e) || (t.className += ' ' + e)\r\n            }\r\n            function _ (t, e) {\r\n              t.classList ? t.classList.remove(e) : (t.className = t.className.replace(e, ''))\r\n            }\r\n            b.extend({\r\n              addClass: function (t) {\r\n                var e = O(t)\r\n                return e\r\n                  ? this.each(function (t) {\r\n                      x(e, function (e) {\r\n                        L(t, e)\r\n                      })\r\n                    })\r\n                  : this\r\n              },\r\n              attr: function (t, e) {\r\n                if (t) {\r\n                  if (c(t))\r\n                    return void 0 === e\r\n                      ? this[0]\r\n                        ? this[0].getAttribute\r\n                          ? this[0].getAttribute(t)\r\n                          : this[0][t]\r\n                        : void 0\r\n                      : this.each(function (n) {\r\n                          n.setAttribute ? n.setAttribute(t, e) : (n[t] = e)\r\n                        })\r\n                  for (var n in t) this.attr(n, t[n])\r\n                  return this\r\n                }\r\n              },\r\n              hasClass: function (t) {\r\n                var e = !1,\r\n                  n = O(t)\r\n                return (\r\n                  n &&\r\n                    n.length &&\r\n                    this.each(function (t) {\r\n                      return !(e = P(t, n[0]))\r\n                    }),\r\n                  e\r\n                )\r\n              },\r\n              prop: function (t, e) {\r\n                if (c(t))\r\n                  return void 0 === e\r\n                    ? this[0][t]\r\n                    : this.each(function (n) {\r\n                        n[t] = e\r\n                      })\r\n                for (var n in t) this.prop(n, t[n])\r\n                return this\r\n              },\r\n              removeAttr: function (t) {\r\n                return this.each(function (e) {\r\n                  e.removeAttribute ? e.removeAttribute(t) : delete e[t]\r\n                })\r\n              },\r\n              removeClass: function (t) {\r\n                if (!arguments.length) return this.attr('class', '')\r\n                var e = O(t)\r\n                return e\r\n                  ? this.each(function (t) {\r\n                      x(e, function (e) {\r\n                        _(t, e)\r\n                      })\r\n                    })\r\n                  : this\r\n              },\r\n              removeProp: function (t) {\r\n                return this.each(function (e) {\r\n                  delete e[t]\r\n                })\r\n              },\r\n              toggleClass: function (t, e) {\r\n                if (void 0 !== e) return this[e ? 'addClass' : 'removeClass'](t)\r\n                var n = O(t)\r\n                return n\r\n                  ? this.each(function (t) {\r\n                      x(n, function (e) {\r\n                        P(t, e) ? _(t, e) : L(t, e)\r\n                      })\r\n                    })\r\n                  : this\r\n              }\r\n            }),\r\n              b.extend({\r\n                add: function (t, e) {\r\n                  return k(y.merge(this, y(t, e)))\r\n                },\r\n                each: function (t) {\r\n                  return x(this, t), this\r\n                },\r\n                eq: function (t) {\r\n                  return y(this.get(t))\r\n                },\r\n                filter: function (t) {\r\n                  if (!t) return this\r\n                  var e = l(t) ? t : C(t)\r\n                  return y(\r\n                    o.call(this, function (n) {\r\n                      return e(n, t)\r\n                    })\r\n                  )\r\n                },\r\n                first: function () {\r\n                  return this.eq(0)\r\n                },\r\n                get: function (t) {\r\n                  return void 0 === t ? r.call(this) : t < 0 ? this[t + this.length] : this[t]\r\n                },\r\n                index: function (t) {\r\n                  var e = t ? y(t)[0] : this[0],\r\n                    n = t\r\n                      ? this\r\n                      : y(e)\r\n                          .parent()\r\n                          .children()\r\n                  return r.call(n).indexOf(e)\r\n                },\r\n                last: function () {\r\n                  return this.eq(-1)\r\n                }\r\n              })\r\n            var N,\r\n              D,\r\n              I = ((N = /(?:^\\w|[A-Z]|\\b\\w)/g),\r\n              (D = /[\\s-_]+/g),\r\n              function (t) {\r\n                return t\r\n                  .replace(N, function (t, e) {\r\n                    return t[0 === e ? 'toLowerCase' : 'toUpperCase']()\r\n                  })\r\n                  .replace(D, '')\r\n              }),\r\n              F = (function () {\r\n                var t = {},\r\n                  e = document,\r\n                  n = e.createElement('div'),\r\n                  i = n.style\r\n                return function (e) {\r\n                  if (((e = I(e)), t[e])) return t[e]\r\n                  var n = e.charAt(0).toUpperCase() + e.slice(1),\r\n                    r = (e + ' ' + ['webkit', 'moz', 'ms', 'o'].join(n + ' ') + n).split(' ')\r\n                  return (\r\n                    x(r, function (n) {\r\n                      if (n in i) return (t[n] = e = t[e] = n), !1\r\n                    }),\r\n                    t[e]\r\n                  )\r\n                }\r\n              })()\r\n            function j (t, e) {\r\n              return parseInt(n.getComputedStyle(t[0], null)[e], 10) || 0\r\n            }\r\n            function R (t, e, n) {\r\n              var i,\r\n                r = M(t, '_cashEvents'),\r\n                o = r && r[e]\r\n              o &&\r\n                (n\r\n                  ? (t.removeEventListener(e, n), (i = o.indexOf(n)) >= 0 && o.splice(i, 1))\r\n                  : (x(o, function (n) {\r\n                      t.removeEventListener(e, n)\r\n                    }),\r\n                    (o = [])))\r\n            }\r\n            function z (t, e) {\r\n              return '&' + encodeURIComponent(t) + '=' + encodeURIComponent(e).replace(/%20/g, '+')\r\n            }\r\n            function V (t) {\r\n              var e = t.type\r\n              if (!e) return null\r\n              switch (e.toLowerCase()) {\r\n                case 'select-one':\r\n                  return (function (t) {\r\n                    var e = t.selectedIndex\r\n                    return e >= 0 ? t.options[e].value : null\r\n                  })(t)\r\n                case 'select-multiple':\r\n                  return (function (t) {\r\n                    var e = []\r\n                    return (\r\n                      x(t.options, function (t) {\r\n                        t.selected && e.push(t.value)\r\n                      }),\r\n                      e.length ? e : null\r\n                    )\r\n                  })(t)\r\n                case 'radio':\r\n                case 'checkbox':\r\n                  return t.checked ? t.value : null\r\n                default:\r\n                  return t.value ? t.value : null\r\n              }\r\n            }\r\n            function H (t, e, n) {\r\n              var i = c(e)\r\n              i || !e.length\r\n                ? x(\r\n                    t,\r\n                    i\r\n                      ? function (t) {\r\n                          return t.insertAdjacentHTML(n ? 'afterbegin' : 'beforeend', e)\r\n                        }\r\n                      : function (t, i) {\r\n                          return (function (t, e, n) {\r\n                            if (n) {\r\n                              var i = t.childNodes[0]\r\n                              t.insertBefore(e, i)\r\n                            } else t.appendChild(e)\r\n                          })(t, 0 === i ? e : e.cloneNode(!0), n)\r\n                        }\r\n                  )\r\n                : x(e, function (e) {\r\n                    return H(t, e, n)\r\n                  })\r\n            }\r\n            ;(y.prefixedProp = F),\r\n              (y.camelCase = I),\r\n              b.extend({\r\n                css: function (t, e) {\r\n                  if (c(t))\r\n                    return (\r\n                      (t = F(t)),\r\n                      arguments.length > 1\r\n                        ? this.each(function (n) {\r\n                            return (n.style[t] = e)\r\n                          })\r\n                        : n.getComputedStyle(this[0])[t]\r\n                    )\r\n                  for (var i in t) this.css(i, t[i])\r\n                  return this\r\n                }\r\n              }),\r\n              x(['Width', 'Height'], function (t) {\r\n                var e = t.toLowerCase()\r\n                ;(b[e] = function () {\r\n                  return this[0].getBoundingClientRect()[e]\r\n                }),\r\n                  (b['inner' + t] = function () {\r\n                    return this[0]['client' + t]\r\n                  }),\r\n                  (b['outer' + t] = function (e) {\r\n                    return (\r\n                      this[0]['offset' + t] +\r\n                      (e\r\n                        ? j(this, 'margin' + ('Width' === t ? 'Left' : 'Top')) +\r\n                          j(this, 'margin' + ('Width' === t ? 'Right' : 'Bottom'))\r\n                        : 0)\r\n                    )\r\n                  })\r\n              }),\r\n              b.extend({\r\n                off: function (t, e) {\r\n                  return this.each(function (n) {\r\n                    return R(n, t, e)\r\n                  })\r\n                },\r\n                on: function (t, e, n, i) {\r\n                  var r\r\n                  if (!c(t)) {\r\n                    for (var o in t) this.on(o, e, t[o])\r\n                    return this\r\n                  }\r\n                  return (\r\n                    l(e) && ((n = e), (e = null)),\r\n                    'ready' === t\r\n                      ? (v(n), this)\r\n                      : (e &&\r\n                          ((r = n),\r\n                          (n = function (t) {\r\n                            for (var n = t.target; !w(n, e); ) {\r\n                              if (n === this) return (n = !1)\r\n                              n = n.parentNode\r\n                            }\r\n                            n && r.call(n, t)\r\n                          })),\r\n                        this.each(function (e) {\r\n                          var r = n\r\n                          i &&\r\n                            (r = function () {\r\n                              n.apply(this, arguments), R(e, t, r)\r\n                            }),\r\n                            (function (t, e, n) {\r\n                              var i = M(t, '_cashEvents') || E(t, '_cashEvents', {})\r\n                              ;(i[e] = i[e] || []), i[e].push(n), t.addEventListener(e, n)\r\n                            })(e, t, r)\r\n                        }))\r\n                  )\r\n                },\r\n                one: function (t, e, n) {\r\n                  return this.on(t, e, n, !0)\r\n                },\r\n                ready: v,\r\n                trigger: function (t, n) {\r\n                  var i = e.createEvent('HTMLEvents')\r\n                  return (\r\n                    (i.data = n),\r\n                    i.initEvent(t, !0, !1),\r\n                    this.each(function (t) {\r\n                      return t.dispatchEvent(i)\r\n                    })\r\n                  )\r\n                }\r\n              }),\r\n              b.extend({\r\n                serialize: function () {\r\n                  var t = ''\r\n                  return (\r\n                    x(this[0].elements || this, function (e) {\r\n                      if (!e.disabled && 'FIELDSET' !== e.tagName) {\r\n                        var n = e.name\r\n                        switch (e.type.toLowerCase()) {\r\n                          case 'file':\r\n                          case 'reset':\r\n                          case 'submit':\r\n                          case 'button':\r\n                            break\r\n                          case 'select-multiple':\r\n                            var i = V(e)\r\n                            null !== i &&\r\n                              x(i, function (e) {\r\n                                t += z(n, e)\r\n                              })\r\n                            break\r\n                          default:\r\n                            var r = V(e)\r\n                            null !== r && (t += z(n, r))\r\n                        }\r\n                      }\r\n                    }),\r\n                    t.substr(1)\r\n                  )\r\n                },\r\n                val: function (t) {\r\n                  return void 0 === t\r\n                    ? V(this[0])\r\n                    : this.each(function (e) {\r\n                        return (e.value = t)\r\n                      })\r\n                }\r\n              }),\r\n              b.extend({\r\n                after: function (t) {\r\n                  return y(t).insertAfter(this), this\r\n                },\r\n                append: function (t) {\r\n                  return H(this, t), this\r\n                },\r\n                appendTo: function (t) {\r\n                  return H(y(t), this), this\r\n                },\r\n                before: function (t) {\r\n                  return y(t).insertBefore(this), this\r\n                },\r\n                clone: function () {\r\n                  return y(\r\n                    this.map(function (t) {\r\n                      return t.cloneNode(!0)\r\n                    })\r\n                  )\r\n                },\r\n                empty: function () {\r\n                  return this.html(''), this\r\n                },\r\n                html: function (t) {\r\n                  if (void 0 === t) return this[0].innerHTML\r\n                  var e = t.nodeType ? t[0].outerHTML : t\r\n                  return this.each(function (t) {\r\n                    return (t.innerHTML = e)\r\n                  })\r\n                },\r\n                insertAfter: function (t) {\r\n                  var e = this\r\n                  return (\r\n                    y(t).each(function (t, n) {\r\n                      var i = t.parentNode,\r\n                        r = t.nextSibling\r\n                      e.each(function (t) {\r\n                        i.insertBefore(0 === n ? t : t.cloneNode(!0), r)\r\n                      })\r\n                    }),\r\n                    this\r\n                  )\r\n                },\r\n                insertBefore: function (t) {\r\n                  var e = this\r\n                  return (\r\n                    y(t).each(function (t, n) {\r\n                      var i = t.parentNode\r\n                      e.each(function (e) {\r\n                        i.insertBefore(0 === n ? e : e.cloneNode(!0), t)\r\n                      })\r\n                    }),\r\n                    this\r\n                  )\r\n                },\r\n                prepend: function (t) {\r\n                  return H(this, t, !0), this\r\n                },\r\n                prependTo: function (t) {\r\n                  return H(y(t), this, !0), this\r\n                },\r\n                remove: function () {\r\n                  return this.each(function (t) {\r\n                    return t.parentNode.removeChild(t)\r\n                  })\r\n                },\r\n                text: function (t) {\r\n                  return void 0 === t\r\n                    ? this[0].textContent\r\n                    : this.each(function (e) {\r\n                        return (e.textContent = t)\r\n                      })\r\n                }\r\n              })\r\n            var $ = e.documentElement\r\n            return (\r\n              b.extend({\r\n                position: function () {\r\n                  var t = this[0]\r\n                  return { left: t.offsetLeft, top: t.offsetTop }\r\n                },\r\n                offset: function () {\r\n                  var t = this[0].getBoundingClientRect()\r\n                  return { top: t.top + n.pageYOffset - $.clientTop, left: t.left + n.pageXOffset - $.clientLeft }\r\n                },\r\n                offsetParent: function () {\r\n                  return y(this[0].offsetParent)\r\n                }\r\n              }),\r\n              b.extend({\r\n                children: function (t) {\r\n                  var e = []\r\n                  return (\r\n                    this.each(function (t) {\r\n                      s.apply(e, t.children)\r\n                    }),\r\n                    (e = k(e)),\r\n                    t\r\n                      ? e.filter(function (e) {\r\n                          return w(e, t)\r\n                        })\r\n                      : e\r\n                  )\r\n                },\r\n                closest: function (t) {\r\n                  return !t || this.length < 1 ? y() : this.is(t) ? this.filter(t) : this.parent().closest(t)\r\n                },\r\n                is: function (t) {\r\n                  if (!t) return !1\r\n                  var e = !1,\r\n                    n = C(t)\r\n                  return (\r\n                    this.each(function (i) {\r\n                      return !(e = n(i, t))\r\n                    }),\r\n                    e\r\n                  )\r\n                },\r\n                find: function (t) {\r\n                  if (!t || t.nodeType) return y(t && this.has(t).length ? t : null)\r\n                  var e = []\r\n                  return (\r\n                    this.each(function (n) {\r\n                      s.apply(e, p(t, n))\r\n                    }),\r\n                    k(e)\r\n                  )\r\n                },\r\n                has: function (t) {\r\n                  var e = c(t)\r\n                    ? function (e) {\r\n                        return 0 !== p(t, e).length\r\n                      }\r\n                    : function (e) {\r\n                        return e.contains(t)\r\n                      }\r\n                  return this.filter(e)\r\n                },\r\n                next: function () {\r\n                  return y(this[0].nextElementSibling)\r\n                },\r\n                not: function (t) {\r\n                  if (!t) return this\r\n                  var e = C(t)\r\n                  return this.filter(function (n) {\r\n                    return !e(n, t)\r\n                  })\r\n                },\r\n                parent: function () {\r\n                  var t = []\r\n                  return (\r\n                    this.each(function (e) {\r\n                      e && e.parentNode && t.push(e.parentNode)\r\n                    }),\r\n                    k(t)\r\n                  )\r\n                },\r\n                parents: function (t) {\r\n                  var n,\r\n                    i = []\r\n                  return (\r\n                    this.each(function (r) {\r\n                      for (n = r; n && n.parentNode && n !== e.body.parentNode; )\r\n                        (n = n.parentNode), (!t || (t && w(n, t))) && i.push(n)\r\n                    }),\r\n                    k(i)\r\n                  )\r\n                },\r\n                prev: function () {\r\n                  return y(this[0].previousElementSibling)\r\n                },\r\n                siblings: function () {\r\n                  var t = this.parent().children(),\r\n                    e = this[0]\r\n                  return t.filter(function (t) {\r\n                    return t !== e\r\n                  })\r\n                }\r\n              }),\r\n              y\r\n            )\r\n          })\r\n            ? i.call(e, n, e, t)\r\n            : i) || (t.exports = r)\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        o = n(50),\r\n        s = (i = o) && i.__esModule ? i : { default: i }\r\n      var a = n(15)\r\n      t.exports = n(0)\r\n        .Collection.extend(s.default)\r\n        .extend({\r\n          types: [\r\n            {\r\n              id: 'stack',\r\n              model: n(121),\r\n              view: n(52),\r\n              isType: function (t) {\r\n                if (t && 'stack' == t.type) return t\r\n              }\r\n            },\r\n            {\r\n              id: 'composite',\r\n              model: n(51),\r\n              view: n(21),\r\n              isType: function (t) {\r\n                if (t && 'composite' == t.type) return t\r\n              }\r\n            },\r\n            {\r\n              id: 'file',\r\n              model: a,\r\n              view: n(58),\r\n              isType: function (t) {\r\n                if (t && 'file' == t.type) return t\r\n              }\r\n            },\r\n            {\r\n              id: 'color',\r\n              model: a,\r\n              view: n(56),\r\n              isType: function (t) {\r\n                if (t && 'color' == t.type) return t\r\n              }\r\n            },\r\n            {\r\n              id: 'select',\r\n              model: n(127).default,\r\n              view: n(55),\r\n              isType: function (t) {\r\n                if (t && 'select' == t.type) return t\r\n              }\r\n            },\r\n            {\r\n              id: 'radio',\r\n              model: n(59),\r\n              view: n(54),\r\n              isType: function (t) {\r\n                if (t && 'radio' == t.type) return t\r\n              }\r\n            },\r\n            {\r\n              id: 'slider',\r\n              model: n(128),\r\n              view: n(129),\r\n              isType: function (t) {\r\n                if (t && 'slider' == t.type) return t\r\n              }\r\n            },\r\n            {\r\n              id: 'integer',\r\n              model: n(60),\r\n              view: n(17),\r\n              isType: function (t) {\r\n                if (t && 'integer' == t.type) return t\r\n              }\r\n            },\r\n            {\r\n              id: 'base',\r\n              model: a,\r\n              view: n(5),\r\n              isType: function (t) {\r\n                return (t.type = 'base'), t\r\n              }\r\n            }\r\n          ],\r\n          deepClone: function () {\r\n            var t = this.clone()\r\n            return (\r\n              t.reset(\r\n                t.map(function (t) {\r\n                  var e = t.clone()\r\n                  return (e.typeView = t.typeView), e\r\n                })\r\n              ),\r\n              t\r\n            )\r\n          },\r\n          parseValue: function (t) {\r\n            var e = this,\r\n              n = []\r\n            return (\r\n              t.split(' ').forEach(function (t, i) {\r\n                var o = e.at(i)\r\n                o && n.push(r({}, o.attributes, { value: t }))\r\n              }),\r\n              n\r\n            )\r\n          },\r\n          getFullValue: function () {\r\n            var t = ''\r\n            return (\r\n              this.each(function (e) {\r\n                return (t += e.getFullValue() + ' ')\r\n              }),\r\n              t.trim()\r\n            )\r\n          }\r\n        })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(1),\r\n        o = n(0).Model.extend(\r\n          {\r\n            defaults: {\r\n              name: '',\r\n              property: '',\r\n              type: '',\r\n              defaults: '',\r\n              info: '',\r\n              value: '',\r\n              icon: '',\r\n              functionName: '',\r\n              status: '',\r\n              visible: !0,\r\n              fixedValues: ['initial', 'inherit'],\r\n              full: 0,\r\n              important: 0,\r\n              toRequire: 0\r\n            },\r\n            initialize: function () {\r\n              var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n                e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n                n = this.get('name'),\r\n                i = this.get('property')\r\n              !this.get('id') && this.set('id', i),\r\n                n || this.set('name', i.charAt(0).toUpperCase() + i.slice(1).replace(/-/g, ' ')),\r\n                o.callInit(this, t, e)\r\n            },\r\n            init: function () {},\r\n            clearValue: function () {\r\n              var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n              return this.set({ value: void 0 }, t), this\r\n            },\r\n            setValue: function (t) {\r\n              var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,\r\n                n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\r\n                r = this.parseValue(t)\r\n              this.set(r, i({}, n, { avoidStore: 1 })), e && (this.set('value', '', n), this.set(r, n))\r\n            },\r\n            setValueFromInput: function (t, e) {\r\n              var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}\r\n              this.setValue(t, e, i({}, n, { fromInput: 1 }))\r\n            },\r\n            parseValue: function (t) {\r\n              var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n                n = { value: t },\r\n                i = '!important'\r\n              if (\r\n                ((0, r.isString)(t) && -1 !== t.indexOf(i) && ((n.value = t.replace(i, '').trim()), (n.important = 1)),\r\n                !this.get('functionName') && !e.complete)\r\n              )\r\n                return n\r\n              var o = [],\r\n                s = '' + n.value,\r\n                a = s.indexOf('(') + 1,\r\n                l = s.lastIndexOf(')'),\r\n                c = s.substring(0, a - 1)\r\n              if (\r\n                (c && (n.functionName = c),\r\n                o.push(a),\r\n                l >= 0 && o.push(l),\r\n                (n.value = String.prototype.substring.apply(s, o)),\r\n                e.numeric)\r\n              ) {\r\n                var u = parseFloat(n.value)\r\n                ;(n.unit = n.value.replace(u, '')), (n.value = u)\r\n              }\r\n              return n\r\n            },\r\n            getDefaultValue: function () {\r\n              return this.get('defaults')\r\n            },\r\n            getFullValue: function (t) {\r\n              var e = this.get('functionName'),\r\n                n = (0, r.isUndefined)(t) ? this.get('value') : t\r\n              return (\r\n                e && !(0, r.isUndefined)(n) && (n = e + '(' + n + ')'),\r\n                this.get('important') && (n += ' !important'),\r\n                n || ''\r\n              )\r\n            }\r\n          },\r\n          {\r\n            callParentInit: function (t, e, n) {\r\n              var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}\r\n              t.prototype.initialize.apply(e, [n, i({}, r, { skipInit: 1 })])\r\n            },\r\n            callInit: function (t, e) {\r\n              var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}\r\n              !n.skipInit && t.init(e, n)\r\n            }\r\n          }\r\n        )\r\n      t.exports = o\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      n(5), n(17), n(54), n(55), n(56), n(58), n(21), n(52)\r\n      t.exports = o.default.View.extend({\r\n        initialize: function (t) {\r\n          ;(this.config = t.config || {}),\r\n            (this.pfx = this.config.stylePrefix || ''),\r\n            (this.target = t.target || {}),\r\n            (this.propTarget = t.propTarget || {}),\r\n            (this.onChange = t.onChange),\r\n            (this.onInputRender = t.onInputRender || {}),\r\n            (this.customValue = t.customValue || {}),\r\n            (this.properties = [])\r\n          var e = this.collection\r\n          this.listenTo(e, 'add', this.addTo), this.listenTo(e, 'reset', this.render)\r\n        },\r\n        addTo: function (t) {\r\n          this.add(t)\r\n        },\r\n        add: function (t, e) {\r\n          var n = new t.typeView({\r\n            model: t,\r\n            name: t.get('name'),\r\n            id: this.pfx + t.get('property'),\r\n            target: this.target,\r\n            propTarget: this.propTarget,\r\n            onChange: this.onChange,\r\n            onInputRender: this.onInputRender,\r\n            config: this.config\r\n          })\r\n          'composite' != t.get('type') && (n.customValue = this.customValue), n.render()\r\n          var i = n.el\r\n          this.properties.push(n), e ? e.appendChild(i) : this.el.appendChild(i)\r\n        },\r\n        render: function () {\r\n          var t = this\r\n          this.properties = []\r\n          var e = document.createDocumentFragment()\r\n          return (\r\n            this.collection.each(function (n) {\r\n              return t.add(n, e)\r\n            }),\r\n            this.$el.append(e),\r\n            this.$el.attr('class', this.pfx + 'properties'),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      n(22)\r\n      var s = n(5),\r\n        a = o.default.$\r\n      t.exports = s.extend({\r\n        templateInput: function () {\r\n          return ''\r\n        },\r\n        init: function () {\r\n          var t = this.model\r\n          this.listenTo(t, 'change:unit', this.modelValueChanged),\r\n            this.listenTo(t, 'el:change', this.elementUpdated),\r\n            this.listenTo(t, 'change:units', this.render)\r\n        },\r\n        setValue: function (t) {\r\n          var e = this.model.parseValue(t)\r\n          ;(t = '' + e.value + e.unit), this.inputInst.setValue(t, { silent: 1 })\r\n        },\r\n        onRender: function () {\r\n          var t = this.ppfx\r\n          if (!this.input) {\r\n            var e = this.model.input\r\n            ;(e.ppfx = t),\r\n              e.render(),\r\n              this.el.querySelector('.' + t + 'fields').appendChild(e.el),\r\n              (this.$input = e.inputEl),\r\n              (this.unit = e.unitEl),\r\n              (this.$unit = a(this.unit)),\r\n              (this.input = this.$input.get(0)),\r\n              (this.inputInst = e)\r\n          }\r\n        },\r\n        clearCached: function () {\r\n          s.prototype.clearCached.apply(this, arguments), (this.unit = null), (this.$unit = null)\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1),\r\n        r = n(4)\r\n      t.exports = r.extend({\r\n        tagName: 'img',\r\n        events: { dblclick: 'onActive', click: 'initResize' },\r\n        initialize: function (t) {\r\n          var e = this.model\r\n          r.prototype.initialize.apply(this, arguments),\r\n            this.listenTo(e, 'change:src', this.updateSrc),\r\n            (this.classEmpty = this.ppfx + 'plh-image')\r\n          var n = this.config\r\n          n.modal && (this.modal = n.modal), n.am && (this.am = n.am), this.fetchFile()\r\n        },\r\n        fetchFile: function () {\r\n          var t = this.model,\r\n            e = t.get('file')\r\n          e &&\r\n            (this.em\r\n              .get('AssetManager')\r\n              .FileUploader()\r\n              .uploadFile({ dataTransfer: { files: [e] } }, function (e) {\r\n                var n = e && e.data && e.data[0],\r\n                  r = n && ((0, i.isString)(n) ? n : n.src)\r\n                r && t.set({ src: r })\r\n              }),\r\n            t.set('file', ''))\r\n        },\r\n        updateSrc: function () {\r\n          var t = this.model,\r\n            e = this.classEmpty,\r\n            n = this.$el,\r\n            i = t.get('src')\r\n          t.addAttributes({ src: i }), n[i ? 'removeClass' : 'addClass'](e)\r\n        },\r\n        onActive: function (t) {\r\n          t && t.stopPropagation()\r\n          var e = this.opts.config.em,\r\n            n = e ? e.get('Editor') : ''\r\n          n &&\r\n            this.model.get('editable') &&\r\n            n.runCommand('open-assets', {\r\n              target: this.model,\r\n              types: ['image'],\r\n              accept: 'image/*',\r\n              onSelect: function () {\r\n                n.Modal.close(), n.AssetManager.setTarget(null)\r\n              }\r\n            })\r\n        },\r\n        render: function () {\r\n          this.renderAttributes()\r\n          var t = this.$el,\r\n            e = this.model,\r\n            n = t.attr('class') || ''\r\n          return (\r\n            !e.get('src') && t.attr('class', (n + ' ' + this.classEmpty).trim()),\r\n            t.attr('onmousedown', 'return false'),\r\n            this.postRender(),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0)\r\n      var o = ((i = r) && i.__esModule ? i : { default: i }).default.$\r\n      t.exports = {\r\n        startSelectPosition: function (t, e) {\r\n          this.isPointed = !1\r\n          var n = this.editorModel.get('Utils')\r\n          n &&\r\n            !this.sorter &&\r\n            (this.sorter = new n.Sorter({\r\n              container: this.getCanvasBody(),\r\n              placer: this.canvas.getPlacerEl(),\r\n              containerSel: '*',\r\n              itemSel: '*',\r\n              pfx: this.ppfx,\r\n              direction: 'a',\r\n              document: e,\r\n              wmargin: 1,\r\n              nested: 1,\r\n              em: this.editorModel,\r\n              canvasRelative: 1\r\n            })),\r\n            t && this.sorter.startSort(t)\r\n        },\r\n        getOffsetDim: function () {\r\n          var t = this.offset(this.canvas.getFrameEl()),\r\n            e = this.offset(this.canvas.getElement())\r\n          return { top: t.top - e.top, left: t.left - e.left }\r\n        },\r\n        stopSelectPosition: function () {\r\n          ;(this.posTargetCollection = null),\r\n            (this.posIndex = 'after' == this.posMethod && 0 !== this.cDim.length ? this.posIndex + 1 : this.posIndex),\r\n            this.sorter && ((this.sorter.moved = 0), this.sorter.endMove()),\r\n            this.cDim &&\r\n              ((this.posIsLastEl =\r\n                0 !== this.cDim.length && 'after' == this.posMethod && this.posIndex == this.cDim.length),\r\n              (this.posTargetEl =\r\n                0 === this.cDim.length\r\n                  ? o(this.outsideElem)\r\n                  : !this.posIsLastEl && this.cDim[this.posIndex]\r\n                  ? o(this.cDim[this.posIndex][5]).parent()\r\n                  : o(this.outsideElem)),\r\n              (this.posTargetModel = this.posTargetEl.data('model')),\r\n              (this.posTargetCollection = this.posTargetEl.data('model-comp')))\r\n        },\r\n        enable: function () {\r\n          this.startSelectPosition()\r\n        },\r\n        nearFloat: function (t, e, n) {\r\n          var i = t || 0,\r\n            r = e || 'before',\r\n            o = n.length,\r\n            s = 0 !== o && 'after' == r && i == o\r\n          return 0 !== o && ((!s && !n[i][4]) || (n[i - 1] && !n[i - 1][4]) || (s && !n[i - 1][4])) ? 1 : 0\r\n        },\r\n        run: function () {\r\n          this.enable()\r\n        },\r\n        stop: function () {\r\n          this.stopSelectPosition(), this.$wrapper.css('cursor', ''), this.$wrapper.unbind()\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = r(n(1))\r\n      r(n(0))\r\n      function r (t) {\r\n        return t && t.__esModule ? t : { default: t }\r\n      }\r\n      var o = n(12)\r\n      t.exports = i.default.extend({}, o, {\r\n        init: function () {\r\n          for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n          o.init.apply(this, e), i.default.bindAll(this, 'insertComponent'), (this.allowDraw = 0)\r\n        },\r\n        run: function (t, e, n) {\r\n          ;(this.em = t), (this.sender = e), (this.opt = n || {}), (this.$wr = this.$wrapper), this.enable()\r\n        },\r\n        enable: function () {\r\n          for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n          o.enable.apply(this, e), this.$wr.on('click', this.insertComponent)\r\n        },\r\n        insertComponent: function () {\r\n          this.$wr.off('click', this.insertComponent), this.stopSelectPosition()\r\n          var t = this.buildContent()\r\n          this.beforeInsert(t)\r\n          var e = this.sorter.lastPos.index,\r\n            n = this.create(this.sorter.target, t, e, null, { silent: !1 })\r\n          this.opt.terminateAfterInsert && this.sender ? this.sender.set('active', !1) : this.enable(),\r\n            n && this.afterInsert(n, this)\r\n        },\r\n        beforeInsert: function (t) {},\r\n        afterInsert: function (t) {},\r\n        buildContent: function () {\r\n          return this.opt.content || {}\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      var s = n(5),\r\n        a = o.default.$\r\n      t.exports = s.extend({\r\n        templateInput: function () {\r\n          var t = this.pfx\r\n          return (\r\n            '\\n      <div class=\"' +\r\n            t +\r\n            'field ' +\r\n            t +\r\n            'composite\">\\n        <span id=\"' +\r\n            t +\r\n            'input-holder\"></span>\\n      </div>\\n    '\r\n          )\r\n        },\r\n        inputValueChanged: function () {\r\n          if (!this.model.get('detached')) {\r\n            for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n            s.prototype.inputValueChanged.apply(this, e)\r\n          }\r\n        },\r\n        clear: function (t) {\r\n          var e = this.properties\r\n          e &&\r\n            e.forEach(function (t) {\r\n              return t.clear()\r\n            }),\r\n            s.prototype.clear.apply(this, arguments)\r\n        },\r\n        onRender: function () {\r\n          var t = this.model,\r\n            e = t.get('properties') || []\r\n          if (\r\n            ((this.properties = []),\r\n            e.length &&\r\n              (this.$input || ((this.$input = a('<input type=\"hidden\" value=\"0\">')), (this.input = this.$input.get(0))),\r\n              this.props || (this.props = t.get('properties')),\r\n              !this.$props))\r\n          ) {\r\n            this.props.each(function (e, n) {\r\n              e &&\r\n                'composite' == e.get('type') &&\r\n                (this.props.remove(e), console.warn('Nested composite types not yet allowed.')),\r\n                (e.parent = t)\r\n            }, this)\r\n            var i = new (n(16))(this.getPropsConfig())\r\n            ;(this.$props = i.render().$el),\r\n              (this.properties = i.properties),\r\n              this.$el.find('#' + this.pfx + 'input-holder').append(this.$props)\r\n          }\r\n        },\r\n        getPropsConfig: function (t) {\r\n          var e = this,\r\n            n = this.model,\r\n            i = {\r\n              config: this.config,\r\n              collection: this.props,\r\n              target: this.target,\r\n              propTarget: this.propTarget,\r\n              onChange: function (t, e, i) {\r\n                n.set('value', n.getFullValue(), i)\r\n              },\r\n              customValue: function (t, n) {\r\n                return e.valueOnIndex(n, t)\r\n              }\r\n            }\r\n          return n.get('detached') && delete i.onChange, i\r\n        },\r\n        valueOnIndex: function (t, e) {\r\n          var n = void 0,\r\n            i = this.getTargetValue({ ignoreDefault: 1 })\r\n          i\r\n            ? (n = i.split(this.model.getSplitSeparator())[t])\r\n            : (n = e && e.getTargetValue({ ignoreCustomValue: 1, ignoreDefault: 1 }))\r\n          return e && (n = e.model.parseValue(n).value), n\r\n        },\r\n        clearCached: function () {\r\n          s.prototype.clearCached.apply(this, arguments),\r\n            (this.$input = null),\r\n            (this.props = null),\r\n            (this.$props = null)\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      ;(function (e) {\r\n        var i = n(1),\r\n          r = n(2),\r\n          o = n(53)\r\n        n(0).$\r\n        t.exports = o.extend({\r\n          events: {\r\n            'change input': 'handleChange',\r\n            'change select': 'handleUnitChange',\r\n            'click [data-arrow-up]': 'upArrowClick',\r\n            'click [data-arrow-down]': 'downArrowClick',\r\n            'mousedown [data-arrows]': 'downIncrement'\r\n          },\r\n          template: function () {\r\n            var t = this.ppfx\r\n            return (\r\n              '\\n      <span class=\"' +\r\n              t +\r\n              'input-holder\"></span>\\n      <span class=\"' +\r\n              t +\r\n              'field-units\"></span>\\n      <div class=\"' +\r\n              t +\r\n              'field-arrows\" data-arrows>\\n        <div class=\"' +\r\n              t +\r\n              'field-arrow-u\" data-arrow-up></div>\\n        <div class=\"' +\r\n              t +\r\n              'field-arrow-d\" data-arrow-down></div>\\n      </div>\\n    '\r\n            )\r\n          },\r\n          inputClass: function () {\r\n            var t = this.ppfx\r\n            return this.opts.contClass || t + 'field ' + t + 'field-integer'\r\n          },\r\n          initialize: function () {\r\n            arguments.length > 0 && void 0 !== arguments[0] && arguments[0]\r\n            o.prototype.initialize.apply(this, arguments),\r\n              (0, i.bindAll)(this, 'moveIncrement', 'upIncrement'),\r\n              (this.doc = document),\r\n              this.listenTo(this.model, 'change:unit', this.handleModelChange)\r\n          },\r\n          setValue: function (t, e) {\r\n            var n = e || {},\r\n              i = this.validateInputValue(t, { deepCheck: 1 }),\r\n              r = { value: i.value }\r\n            ;(i.unit || i.force) && (r.unit = i.unit), this.model.set(r, n), n.silent && this.handleModelChange()\r\n          },\r\n          handleChange: function (t) {\r\n            t.stopPropagation(), this.setValue(this.getInputEl().value), this.elementUpdated()\r\n          },\r\n          handleUnitChange: function (t) {\r\n            t.stopPropagation()\r\n            var e = this.getUnitEl().value\r\n            this.model.set('unit', e), this.elementUpdated()\r\n          },\r\n          elementUpdated: function () {\r\n            this.model.trigger('el:change')\r\n          },\r\n          handleModelChange: function () {\r\n            var t = this.model\r\n            this.getInputEl().value = t.get('value')\r\n            var e = this.getUnitEl()\r\n            e && (e.value = t.get('unit') || '')\r\n          },\r\n          getUnitEl: function () {\r\n            if (!this.unitEl) {\r\n              var t = this.model,\r\n                e = t.get('units') || []\r\n              if (e.length) {\r\n                var n = []\r\n                e.forEach(function (e) {\r\n                  var i = e == t.get('unit') ? 'selected' : ''\r\n                  n.push('<option ' + i + '>' + e + '</option>')\r\n                })\r\n                var i = document.createElement('div')\r\n                ;(i.innerHTML = '<select class=\"' + this.ppfx + 'input-unit\">' + n.join('') + '</select>'),\r\n                  (this.unitEl = i.firstChild)\r\n              }\r\n            }\r\n            return this.unitEl\r\n          },\r\n          upArrowClick: function () {\r\n            var t = this.model,\r\n              e = t.get('step'),\r\n              n = parseInt(t.get('value'), 10)\r\n            n = this.normalizeValue(n + e)\r\n            var i = this.validateInputValue(n)\r\n            t.set('value', i.value), this.elementUpdated()\r\n          },\r\n          downArrowClick: function () {\r\n            var t = this.model,\r\n              e = t.get('step'),\r\n              n = parseInt(t.get('value'), 10),\r\n              i = this.normalizeValue(n - e),\r\n              r = this.validateInputValue(i)\r\n            t.set('value', r.value), this.elementUpdated()\r\n          },\r\n          downIncrement: function (t) {\r\n            t.preventDefault(), (this.moved = 0)\r\n            var e = this.model.get('value')\r\n            ;(e = this.normalizeValue(e)),\r\n              (this.current = { y: t.pageY, val: e }),\r\n              (0, r.on)(this.doc, 'mousemove', this.moveIncrement),\r\n              (0, r.on)(this.doc, 'mouseup', this.upIncrement)\r\n          },\r\n          moveIncrement: function (t) {\r\n            this.moved = 1\r\n            var e = this.model,\r\n              n = e.get('step'),\r\n              i = this.current,\r\n              r = this.normalizeValue(i.val + (i.y - t.pageY) * n)\r\n            return (\r\n              (this.prValue = this.validateInputValue(r).value), e.set('value', this.prValue, { avoidStore: 1 }), !1\r\n            )\r\n          },\r\n          upIncrement: function () {\r\n            var t = this.model,\r\n              e = t.get('step')\r\n            if (\r\n              ((0, r.off)(this.doc, 'mouseup', this.upIncrement),\r\n              (0, r.off)(this.doc, 'mousemove', this.moveIncrement),\r\n              this.prValue && this.moved)\r\n            ) {\r\n              var n = this.prValue - e\r\n              t.set('value', n, { avoidStore: 1 }).set('value', n + e), this.elementUpdated()\r\n            }\r\n          },\r\n          normalizeValue: function (t) {\r\n            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,\r\n              n = this.model.get('step'),\r\n              i = 0\r\n            if (isNaN(t)) return e\r\n            if (((t = parseFloat(t)), Math.floor(t) !== t)) {\r\n              var r = n.toString().split('.')[1]\r\n              i = r ? r.length : 0\r\n            }\r\n            return i ? parseFloat(t.toFixed(i)) : t\r\n          },\r\n          validateInputValue: function (t, n) {\r\n            var r = 0,\r\n              o = n || {},\r\n              s = this.model,\r\n              a = (0, i.isUndefined)(t) ? '' : t,\r\n              l = s.get('units') || [],\r\n              c = s.get('unit') || (l.length && l[0]) || '',\r\n              u = s.get('max'),\r\n              h = s.get('min')\r\n            if (o.deepCheck) {\r\n              var d = s.get('fixedValues') || []\r\n              if (a) {\r\n                var f = new RegExp('^' + d.join('|'), 'g')\r\n                if (d.length && f.test(a)) (a = a.match(f)[0]), (c = ''), (r = 1)\r\n                else {\r\n                  var p = a + ''\r\n                  ;(a += ''), (a = parseFloat(a.replace(',', '.'))), (a = isNaN(a) ? '' : a)\r\n                  var g = p.replace(a, '')\r\n                  e.indexOf(l, g) >= 0 && (c = g)\r\n                }\r\n              }\r\n            }\r\n            return (\r\n              (0, i.isUndefined)(u) || '' === u || (a = a > u ? u : a),\r\n              (0, i.isUndefined)(h) || '' === h || (a = a < h ? h : a),\r\n              { force: r, value: a, unit: c }\r\n            )\r\n          },\r\n          render: function () {\r\n            o.prototype.render.call(this), (this.unitEl = null)\r\n            var t = this.getUnitEl()\r\n            return (\r\n              t &&\r\n                this.$el\r\n                  .find('.' + this.ppfx + 'field-units')\r\n                  .get(0)\r\n                  .appendChild(t),\r\n              this\r\n            )\r\n          }\r\n        })\r\n      }.call(this, n(1)))\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(1),\r\n        o = n(0)\r\n      t.exports = o.Collection.extend({\r\n        initialize: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n          this.listenTo(this, 'add', this.onAdd),\r\n            (this.config = e.config),\r\n            (this.em = e.em),\r\n            (this.model = function (t, n) {\r\n              var i,\r\n                r = e.componentTypes\r\n              ;(n.em = e.em), (n.config = e.config), (n.componentTypes = r)\r\n              for (var o = 0; o < r.length; o++) {\r\n                if (r[o].id == t.type) {\r\n                  i = r[o].model\r\n                  break\r\n                }\r\n              }\r\n              return i || (i = r[r.length - 1].model), new i(t, n)\r\n            })\r\n        },\r\n        parseString: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n            n = this.em,\r\n            r = n.get('CssComposer'),\r\n            o = n.get('Parser').parseHtml(t)\r\n          return o.css && r && !e.temporary && r.addCollection(o.css, i({}, e, { extend: 1 })), o.html\r\n        },\r\n        add: function (t) {\r\n          var e = this,\r\n            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n          return (\r\n            (0, r.isString)(t)\r\n              ? (t = this.parseString(t, n))\r\n              : (0, r.isArray)(t) &&\r\n                t.forEach(function (n, i) {\r\n                  ;(0, r.isString)(n) && (t[i] = e.parseString(n))\r\n                }),\r\n            o.Collection.prototype.add.apply(this, [t, n])\r\n          )\r\n        },\r\n        onAdd: function (t, e) {\r\n          var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\r\n            i = this.em,\r\n            o = t.getStyle(),\r\n            s = i && i.getConfig('avoidInlineStyle')\r\n          if (!(0, r.isEmpty)(o) && !s && i && i.get && i.getConfig('forceClass') && !n.temporary) {\r\n            var a = t.cid\r\n            i.get('CssComposer').setClassRule(a, o)\r\n            t.setStyle({}), t.addClass(a)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(3)\r\n      t.exports = r.extend(\r\n        {\r\n          defaults: i({}, r.prototype.defaults, {\r\n            type: 'tbody',\r\n            tagName: 'tbody',\r\n            draggable: ['table'],\r\n            droppable: ['tr'],\r\n            columns: 1,\r\n            rows: 1\r\n          }),\r\n          initialize: function (t, e) {\r\n            r.prototype.initialize.apply(this, arguments)\r\n            var n = this.get('components'),\r\n              i = this.get('columns'),\r\n              o = this.get('rows')\r\n            if (!n.length) {\r\n              for (var s = []; o--; ) {\r\n                for (var a = [], l = i; l--; ) a.push({ type: 'cell', classes: ['cell'] })\r\n                s.push({ type: 'row', classes: ['row'], components: a })\r\n              }\r\n              n.add(s)\r\n            }\r\n          }\r\n        },\r\n        {\r\n          isComponent: function (t) {\r\n            var e = ''\r\n            return 'TBODY' == t.tagName && (e = { type: 'tbody' }), e\r\n          }\r\n        }\r\n      )\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(3)\r\n      t.exports = r.extend(\r\n        {\r\n          defaults: i({}, r.prototype.defaults, {\r\n            type: 'image',\r\n            tagName: 'img',\r\n            src: '',\r\n            void: 1,\r\n            droppable: 0,\r\n            editable: 1,\r\n            highlightable: 0,\r\n            resizable: 1,\r\n            traits: ['alt'],\r\n            file: ''\r\n          }),\r\n          initialize: function (t, e) {\r\n            r.prototype.initialize.apply(this, arguments)\r\n            var n = this.get('attributes')\r\n            n.src && this.set('src', n.src)\r\n          },\r\n          initToolbar: function () {\r\n            for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n            r.prototype.initToolbar.apply(this, e)\r\n            var i = this.em\r\n            if (i) {\r\n              if (i.get('Commands').has('image-editor')) {\r\n                for (var o = !1, s = this.get('toolbar'), a = 0; a < s.length; a++)\r\n                  if ('image-editor' === s[a].command) {\r\n                    o = !0\r\n                    break\r\n                  }\r\n                o ||\r\n                  (s.push({ attributes: { class: 'fa fa-pencil' }, command: 'image-editor' }), this.set('toolbar', s))\r\n              }\r\n            }\r\n          },\r\n          getAttrToHTML: function () {\r\n            for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n            var i = r.prototype.getAttrToHTML.apply(this, e)\r\n            delete i.onmousedown\r\n            var o = this.get('src')\r\n            return o && (i.src = o), i\r\n          },\r\n          parseUri: function (t) {\r\n            var e = document.createElement('a')\r\n            e.href = t\r\n            for (var n = {}, i = e.search.substring(1).split('&'), r = 0; r < i.length; r++) {\r\n              var o = i[r].split('='),\r\n                s = decodeURIComponent(o[0])\r\n              s && (n[s] = decodeURIComponent(o[1]))\r\n            }\r\n            return {\r\n              hostname: e.hostname,\r\n              pathname: e.pathname,\r\n              protocol: e.protocol,\r\n              search: e.search,\r\n              hash: e.hash,\r\n              port: e.port,\r\n              query: n\r\n            }\r\n          }\r\n        },\r\n        {\r\n          isComponent: function (t) {\r\n            var e = ''\r\n            return 'IMG' == t.tagName && (e = { type: 'image' }), e\r\n          }\r\n        }\r\n      )\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(3)\r\n      t.exports = r.extend({ defaults: i({}, r.prototype.defaults, { type: 'text', droppable: !1, editable: !0 }) })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      Object.defineProperty(e, '__esModule', { value: !0 })\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      var s = o.default.$\r\n      e.default = o.default.View.extend({\r\n        initialize: function (t) {\r\n          ;(this.config = t || {}),\r\n            (this.editorModel = this.em = this.config.em || {}),\r\n            (this.pfx = this.config.stylePrefix),\r\n            (this.ppfx = this.config.pStylePrefix),\r\n            (this.hoverClass = this.pfx + 'hover'),\r\n            (this.badgeClass = this.pfx + 'badge'),\r\n            (this.plhClass = this.pfx + 'placeholder'),\r\n            (this.freezClass = this.ppfx + 'freezed'),\r\n            (this.canvas = this.em.get && this.em.get('Canvas')),\r\n            this.em.get && this.setElement(this.getCanvas()),\r\n            this.canvas &&\r\n              ((this.$canvas = this.$el),\r\n              (this.$wrapper = s(this.getCanvasWrapper())),\r\n              (this.frameEl = this.canvas.getFrameEl()),\r\n              (this.canvasTool = this.getCanvasTools()),\r\n              (this.bodyEl = this.getCanvasBody())),\r\n            this.init(this.config)\r\n        },\r\n        onFrameScroll: function (t) {},\r\n        getCanvas: function () {\r\n          return this.canvas.getElement()\r\n        },\r\n        getCanvasBody: function () {\r\n          return this.canvas.getBody()\r\n        },\r\n        getCanvasWrapper: function () {\r\n          return this.canvas.getWrapperEl()\r\n        },\r\n        getCanvasTools: function () {\r\n          return this.canvas.getToolsEl()\r\n        },\r\n        offset: function (t) {\r\n          var e = t.getBoundingClientRect()\r\n          return { top: e.top + t.ownerDocument.body.scrollTop, left: e.left + t.ownerDocument.body.scrollLeft }\r\n        },\r\n        init: function (t) {},\r\n        callRun: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n            n = this.id\r\n          if ((t.trigger('run:' + n + ':before', e), !e || !e.abort)) {\r\n            var i = e.sender || t,\r\n              r = this.run(t, i, e)\r\n            return t.trigger('run:' + n, r, e), r\r\n          }\r\n          t.trigger('abort:' + n, e)\r\n        },\r\n        callStop: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n            n = this.id,\r\n            i = e.sender || t\r\n          t.trigger('stop:' + n + ':before', e)\r\n          var r = this.stop(t, i, e)\r\n          return t.trigger('stop:' + n, r, e), r\r\n        },\r\n        run: function (t, e) {},\r\n        stop: function (t, e) {}\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0)\r\n      var o = ((i = r) && i.__esModule ? i : { default: i }).default.$\r\n      t.exports = {\r\n        run: function (t, e) {\r\n          var n = this\r\n          arguments.length > 2 && void 0 !== arguments[2] && arguments[2]\r\n          e && e.set && e.set('active', 0)\r\n          var i = t.getConfig(),\r\n            r = t.Modal,\r\n            s = i.stylePrefix\r\n          if (((this.cm = t.CodeManager || null), !this.$editors)) {\r\n            var a = this.buildEditor('htmlmixed', 'hopscotch', 'HTML'),\r\n              l = this.buildEditor('css', 'hopscotch', 'CSS')\r\n            ;(this.htmlEditor = a.el), (this.cssEditor = l.el)\r\n            var c = o('<div class=\"' + s + 'export-dl\"></div>')\r\n            c.append(a.$el).append(l.$el), (this.$editors = c)\r\n          }\r\n          r\r\n            .open({ title: i.textViewCode, content: this.$editors })\r\n            .getModel()\r\n            .once('change:open', function () {\r\n              return t.stopCommand(n.id)\r\n            }),\r\n            this.htmlEditor.setContent(t.getHtml()),\r\n            this.cssEditor.setContent(t.getCss())\r\n        },\r\n        stop: function (t) {\r\n          var e = t.Modal\r\n          e && e.close()\r\n        },\r\n        buildEditor: function (t, e, n) {\r\n          var i = document.createElement('textarea')\r\n          !this.codeMirror && (this.codeMirror = this.cm.getViewer('CodeMirror'))\r\n          var r = this.codeMirror.clone().set({ label: n, codeName: t, theme: e, input: i }),\r\n            o = new this.cm.EditorView({ model: r, config: this.cm.getConfig() }).render().$el\r\n          return r.init(i), { el: r, $el: o }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = o(n(1)),\r\n        r = o(n(0))\r\n      function o (t) {\r\n        return t && t.__esModule ? t : { default: t }\r\n      }\r\n      var s = n(11),\r\n        a = r.default.$\r\n      t.exports = i.default.extend({}, s, {\r\n        init: function (t) {\r\n          i.default.bindAll(this, 'startDelete', 'stopDelete', 'onDelete'),\r\n            (this.hoverClass = this.pfx + 'hover-delete'),\r\n            (this.badgeClass = this.pfx + 'badge-red')\r\n        },\r\n        enable: function () {\r\n          this.$el\r\n            .find('*')\r\n            .mouseover(this.startDelete)\r\n            .mouseout(this.stopDelete)\r\n            .click(this.onDelete)\r\n        },\r\n        startDelete: function (t) {\r\n          t.stopPropagation()\r\n          var e = a(t.target)\r\n          e.data('model').get('removable') && (e.addClass(this.hoverClass), this.attachBadge(e.get(0)))\r\n        },\r\n        stopDelete: function (t) {\r\n          t.stopPropagation(),\r\n            a(t.target).removeClass(this.hoverClass),\r\n            this.badge && this.badge.css({ left: -1e3, top: -1e3 })\r\n        },\r\n        onDelete: function (t) {\r\n          t.stopPropagation()\r\n          var e = a(t.target)\r\n          e.data('model').get('removable') && (e.data('model').destroy(), this.removeBadge(), this.clean())\r\n        },\r\n        updateBadgeLabel: function (t) {\r\n          this.badge.html('Remove ' + t.getName())\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = r(n(1))\r\n      r(n(0))\r\n      function r (t) {\r\n        return t && t.__esModule ? t : { default: t }\r\n      }\r\n      var o = n(20)\r\n      t.exports = i.default.extend({}, o, {\r\n        beforeInsert: function (t) {\r\n          ;(t.type = 'image'),\r\n            (t.style = {}),\r\n            (t.attributes = {}),\r\n            (t.attributes.onmousedown = 'return false'),\r\n            this.config.firstCentered && this.getCanvasWrapper() == this.sorter.target && (t.style.margin = '0 auto')\r\n        },\r\n        afterInsert: function (t) {\r\n          t.trigger('dblclick'), this.sender && this.sender.set('active', !1)\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = s(n(1)),\r\n        r = s(n(0)),\r\n        o = n(2)\r\n      function s (t) {\r\n        return t && t.__esModule ? t : { default: t }\r\n      }\r\n      var a = n(11),\r\n        l = n(19),\r\n        c = r.default.$\r\n      t.exports = i.default.extend({}, l, a, {\r\n        init: function (t) {\r\n          a.init.apply(this, arguments),\r\n            i.default.bindAll(this, 'initSorter', 'rollback', 'onEndMove'),\r\n            (this.opt = t),\r\n            (this.hoverClass = this.ppfx + 'highlighter-warning'),\r\n            (this.badgeClass = this.ppfx + 'badge-warning'),\r\n            (this.noSelClass = this.ppfx + 'no-select')\r\n        },\r\n        enable: function () {\r\n          for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n          a.enable.apply(this, e),\r\n            this.getBadgeEl().addClass(this.badgeClass),\r\n            this.getHighlighterEl().addClass(this.hoverClass)\r\n          var i = this.$wrapper\r\n          i.css('cursor', 'move'), i.on('mousedown', this.initSorter), i.addClass(this.noSelClass)\r\n        },\r\n        toggleClipboard: function () {},\r\n        initSorter: function (t) {\r\n          var e = c(t.target)\r\n            .data('model')\r\n            .get('draggable')\r\n          e &&\r\n            ((this.cacheEl = null),\r\n            this.startSelectPosition(t.target, this.frameEl.contentDocument),\r\n            (this.sorter.draggable = e),\r\n            (this.sorter.onEndMove = this.onEndMove.bind(this)),\r\n            this.stopSelectComponent(),\r\n            this.$wrapper.off('mousedown', this.initSorter),\r\n            (0, o.on)(this.getContentWindow(), 'keydown', this.rollback))\r\n        },\r\n        initSorterFromModel: function (t) {\r\n          var e = t.get('draggable')\r\n          if (e) {\r\n            this.cacheEl = null\r\n            var n = t.view.el\r\n            this.startSelectPosition(n, this.frameEl.contentDocument),\r\n              (this.sorter.draggable = e),\r\n              (this.sorter.onEndMove = this.onEndMoveFromModel.bind(this)),\r\n              this.stopSelectComponent(),\r\n              (0, o.on)(this.getContentWindow(), 'keydown', this.rollback)\r\n          }\r\n        },\r\n        initSorterFromModels: function (t) {\r\n          this.cacheEl = null\r\n          var e = t[t.length - 1],\r\n            n = this.frameEl.contentDocument\r\n          this.startSelectPosition(e.view.el, n),\r\n            (this.sorter.draggable = e.get('draggable')),\r\n            (this.sorter.toMove = t),\r\n            (this.sorter.onEndMove = this.onEndMoveFromModel.bind(this)),\r\n            this.stopSelectComponent(),\r\n            (0, o.on)(this.getContentWindow(), 'keydown', this.rollback)\r\n        },\r\n        onEndMoveFromModel: function () {\r\n          ;(0, o.off)(this.getContentWindow(), 'keydown', this.rollback)\r\n        },\r\n        onEndMove: function () {\r\n          this.enable(), (0, o.off)(this.getContentWindow(), 'keydown', this.rollback)\r\n        },\r\n        onSelect: function (t, e) {},\r\n        rollback: function (t, e) {\r\n          ;((t.which || t.keyCode) == this.opt.ESCAPE_KEY || e) && ((this.sorter.moved = !1), this.sorter.endMove())\r\n        },\r\n        getBadgeEl: function () {\r\n          return this.$badge || (this.$badge = c(this.getBadge())), this.$badge\r\n        },\r\n        getHighlighterEl: function () {\r\n          return this.$hl || (this.$hl = c(this.canvas.getHighlighter())), this.$hl\r\n        },\r\n        stop: function () {\r\n          for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n          a.stop.apply(this, e),\r\n            this.getBadgeEl().removeClass(this.badgeClass),\r\n            this.getHighlighterEl().removeClass(this.hoverClass),\r\n            this.$wrapper\r\n              .css('cursor', '')\r\n              .unbind()\r\n              .removeClass(this.noSelClass)\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = r(n(1))\r\n      r(n(0))\r\n      function r (t) {\r\n        return t && t.__esModule ? t : { default: t }\r\n      }\r\n      var o = n(12)\r\n      t.exports = i.default.extend({}, o, {\r\n        beforeDraw: function (t) {\r\n          ;(t.type = 'text'), t.style || (t.style = {}), (t.style.padding = '10px')\r\n        },\r\n        afterDraw: function (t) {\r\n          t && t.set && (t.trigger('focus'), this.sender && this.sender.set('active', !1))\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        run: function (t) {\r\n          t.Canvas.getBody().className = this.ppfx + 'dashed'\r\n        },\r\n        stop: function (t) {\r\n          t.Canvas.getBody().className = ''\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      n(75), o.default.$\r\n      t.exports = {\r\n        run: function (t) {\r\n          var e = t.LayerManager,\r\n            n = t.Panels\r\n          if (!this.layers) {\r\n            var i = 'views-container',\r\n              r = document.createElement('div'),\r\n              o = n.getPanel(i) || n.addPanel({ id: i })\r\n            r.appendChild(e.render()), o.set('appendContent', r).trigger('change:appendContent'), (this.layers = r)\r\n          }\r\n          this.layers.style.display = 'block'\r\n        },\r\n        stop: function () {\r\n          var t = this.layers\r\n          t && (t.style.display = 'none')\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      n(49)\r\n      var s = o.default.$\r\n      t.exports = {\r\n        run: function (t, e) {\r\n          if (((this.sender = e), !this.$cn)) {\r\n            var n = t.getConfig(),\r\n              i = t.Panels\r\n            ;(this.$cn = s('<div></div>')), (this.$cn2 = s('<div></div>')), this.$cn.append(this.$cn2)\r\n            var r = t.DeviceManager\r\n            if (r && n.showDevices)\r\n              i.addPanel({ id: 'devices-c' })\r\n                .set('appendContent', r.render())\r\n                .trigger('change:appendContent')\r\n            var o = t.SelectorManager\r\n            o && this.$cn2.append(o.render([])), this.$cn2.append(t.StyleManager.render())\r\n            var a = t.StyleManager.getConfig(),\r\n              l = a.stylePrefix\r\n            ;(this.$header = s('<div class=\"' + l + 'header\">' + a.textNoElement + '</div>')),\r\n              this.$cn.append(this.$header),\r\n              i.getPanel('views-container')\r\n                ? (this.panel = i.getPanel('views-container'))\r\n                : (this.panel = i.addPanel({ id: 'views-container' })),\r\n              this.panel.set('appendContent', this.$cn).trigger('change:appendContent'),\r\n              (this.target = t.editor),\r\n              this.listenTo(this.target, 'component:toggled', this.toggleSm)\r\n          }\r\n          this.toggleSm()\r\n        },\r\n        toggleSm: function () {\r\n          var t = this.target,\r\n            e = this.sender\r\n          ;(e && e.get && !e.get('active')) ||\r\n            (1 === t.getSelectedAll().length\r\n              ? (this.$cn2.show(), this.$header.hide())\r\n              : (this.$cn2.hide(), this.$header.show()))\r\n        },\r\n        stop: function () {\r\n          this.$cn2 && this.$cn2.hide(), this.$header && this.$header.hide()\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(0).$\r\n      t.exports = {\r\n        run: function (t, e) {\r\n          this.sender = e\r\n          var n = t.Config.stylePrefix,\r\n            r = t.TraitManager\r\n          if (!this.$cn) {\r\n            var o = r.getTraitsViewer(),\r\n              s = r.getConfig()\r\n            ;(this.$cn = i('<div></div>')),\r\n              (this.$cn2 = i('<div></div>')),\r\n              this.$cn.append(this.$cn2),\r\n              (this.$header = i('<div>').append(\r\n                '<div class=\"' + s.stylePrefix + 'header\">' + s.textNoElement + '</div>'\r\n              )),\r\n              this.$cn.append(this.$header),\r\n              this.$cn2.append('<div class=\"' + n + 'traits-label\">' + s.labelContainer + '</div>'),\r\n              this.$cn2.append(o.render().el)\r\n            var a = t.Panels\r\n            ;(a.getPanel('views-container') ? a.getPanel('views-container') : a.addPanel({ id: 'views-container' }))\r\n              .set('appendContent', this.$cn.get(0))\r\n              .trigger('change:appendContent'),\r\n              (this.target = t.getModel()),\r\n              this.listenTo(this.target, 'component:toggled', this.toggleTm)\r\n          }\r\n          this.toggleTm()\r\n        },\r\n        toggleTm: function () {\r\n          var t = this.sender\r\n          ;(t && t.get && !t.get('active')) ||\r\n            (1 === this.target.getSelectedAll().length\r\n              ? (this.$cn2.show(), this.$header.hide())\r\n              : (this.$cn2.hide(), this.$header.show()))\r\n        },\r\n        stop: function () {\r\n          this.$cn2 && this.$cn2.hide(), this.$header && this.$header.hide()\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        run: function (t, e) {\r\n          var n = t.BlockManager,\r\n            i = t.Panels\r\n          if (!this.blocks) {\r\n            n.render()\r\n            var r = 'views-container',\r\n              o = document.createElement('div'),\r\n              s = i.getPanel(r) || i.addPanel({ id: r })\r\n            o.appendChild(n.getContainer()),\r\n              s.set('appendContent', o).trigger('change:appendContent'),\r\n              (this.blocks = o)\r\n          }\r\n          this.blocks.style.display = 'block'\r\n        },\r\n        stop: function () {\r\n          var t = this.blocks\r\n          t && (t.style.display = 'none')\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        run: function (t, e) {\r\n          var n = this,\r\n            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\r\n            r = t.Modal,\r\n            o = t.AssetManager,\r\n            s = o.getConfig(),\r\n            a = o.getContainer(),\r\n            l = i.modalTitle || s.modalTitle || '',\r\n            c = i.types,\r\n            u = i.accept\r\n          if (\r\n            (o.setTarget(i.target),\r\n            o.onClick(i.onClick),\r\n            o.onDblClick(i.onDblClick),\r\n            o.onSelect(i.onSelect),\r\n            !this.rendered || c)\r\n          ) {\r\n            var h = o.getAll().filter(function (t) {\r\n              return 1\r\n            })\r\n            c &&\r\n              c.length &&\r\n              (h = h.filter(function (t) {\r\n                return -1 !== c.indexOf(t.get('type'))\r\n              })),\r\n              o.render(h),\r\n              (this.rendered = 1)\r\n          }\r\n          if (u) {\r\n            var d = a.querySelector('input#' + s.stylePrefix + 'uploadFile')\r\n            d && d.setAttribute('accept', u)\r\n          }\r\n          return (\r\n            r\r\n              .open({ title: l, content: a })\r\n              .getModel()\r\n              .once('change:open', function () {\r\n                return t.stopCommand(n.id)\r\n              }),\r\n            this\r\n          )\r\n        },\r\n        stop: function (t) {\r\n          return t.Modal.close(), this\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0)\r\n      var o = ((i = r) && i.__esModule ? i : { default: i }).default.$\r\n      t.exports = {\r\n        getOffsetMethod: function (t) {\r\n          return 'get' + (t || '') + 'OffsetViewerEl'\r\n        },\r\n        run: function (t, e, n) {\r\n          var i = n || {},\r\n            r = i.state || '',\r\n            s = t.getConfig()\r\n          if (s.showOffsets && (s.showOffsetsSelected || 'Fixed' != r)) {\r\n            var a = t.Canvas,\r\n              l = i.el || '',\r\n              c = i.elPos || a.getElementPos(l),\r\n              u = window.getComputedStyle(l),\r\n              h = this.ppfx,\r\n              d = r + 'State',\r\n              f = a[this.getOffsetMethod(r)]()\r\n            f.style.display = 'block'\r\n            var p = this['marginT' + r],\r\n              g = this['marginB' + r],\r\n              v = this['marginL' + r],\r\n              m = this['marginR' + r],\r\n              y = this['padT' + r],\r\n              b = this['padB' + r],\r\n              x = this['padL' + r],\r\n              w = this['padR' + r]\r\n            if (!this[d]) {\r\n              var C = r.toLowerCase(),\r\n                k = C + 'margin-v',\r\n                S = C + 'padding-v',\r\n                T = o('<div class=\"' + h + 'marginName\">').get(0),\r\n                E = o('<div class=\"' + h + 'paddingName\">').get(0),\r\n                M = h + k + '-el' + ' ' + (h + k),\r\n                A = h + S + '-el' + ' ' + (h + S)\r\n              ;(p = o('<div class=\"' + M + '-top\"></div>').get(0)),\r\n                (g = o('<div class=\"' + M + '-bottom\"></div>').get(0)),\r\n                (v = o('<div class=\"' + M + '-left\"></div>').get(0)),\r\n                (m = o('<div class=\"' + M + '-right\"></div>').get(0)),\r\n                (y = o('<div class=\"' + A + '-top\"></div>').get(0)),\r\n                (b = o('<div class=\"' + A + '-bottom\"></div>').get(0)),\r\n                (x = o('<div class=\"' + A + '-left\"></div>').get(0)),\r\n                (w = o('<div class=\"' + A + '-right\"></div>').get(0)),\r\n                (this['marginT' + r] = p),\r\n                (this['marginB' + r] = g),\r\n                (this['marginL' + r] = v),\r\n                (this['marginR' + r] = m),\r\n                (this['padT' + r] = y),\r\n                (this['padB' + r] = b),\r\n                (this['padL' + r] = x),\r\n                (this['padR' + r] = w),\r\n                T.appendChild(p),\r\n                T.appendChild(g),\r\n                T.appendChild(v),\r\n                T.appendChild(m),\r\n                E.appendChild(y),\r\n                E.appendChild(b),\r\n                E.appendChild(x),\r\n                E.appendChild(w),\r\n                f.appendChild(T),\r\n                f.appendChild(E),\r\n                (this[d] = '1')\r\n            }\r\n            var O = u.marginLeft.replace('px', ''),\r\n              P = parseInt(u.marginTop.replace('px', '')),\r\n              L = parseInt(u.marginBottom.replace('px', '')),\r\n              _ = p.style,\r\n              N = g.style,\r\n              D = v.style,\r\n              I = m.style,\r\n              F = y.style,\r\n              j = b.style,\r\n              R = x.style,\r\n              z = w.style,\r\n              V = parseInt(c.left)\r\n            ;(_.height = u.marginTop),\r\n              (_.width = u.width),\r\n              (_.top = c.top - u.marginTop.replace('px', '') + 'px'),\r\n              (_.left = V + 'px'),\r\n              (N.height = u.marginBottom),\r\n              (N.width = u.width),\r\n              (N.top = c.top + c.height + 'px'),\r\n              (N.left = V + 'px')\r\n            var H = c.height + P + L + 'px',\r\n              $ = c.top - P + 'px'\r\n            ;(D.height = H),\r\n              (D.width = u.marginLeft),\r\n              (D.top = $),\r\n              (D.left = V - O + 'px'),\r\n              (I.height = H),\r\n              (I.width = u.marginRight),\r\n              (I.top = $),\r\n              (I.left = V + c.width + 'px')\r\n            var B = parseInt(u.paddingTop.replace('px', ''))\r\n            ;(F.height = u.paddingTop), (F.width = u.width), (F.top = c.top + 'px'), (F.left = V + 'px')\r\n            var W = parseInt(u.paddingBottom.replace('px', ''))\r\n            ;(j.height = u.paddingBottom),\r\n              (j.width = u.width),\r\n              (j.top = c.top + c.height - W + 'px'),\r\n              (j.left = V + 'px')\r\n            var U = c.height - W - B + 'px',\r\n              q = c.top + B + 'px'\r\n            ;(R.height = U), (R.width = u.paddingLeft), (R.top = q), (R.left = c.left + 'px')\r\n            var K = parseInt(u.paddingRight.replace('px', ''))\r\n            ;(z.height = U), (z.width = u.paddingRight), (z.top = q), (z.left = c.left + c.width - K + 'px')\r\n          }\r\n        },\r\n        stop: function (t, e, n) {\r\n          var i = (n || {}).state || '',\r\n            r = this.getOffsetMethod(i)\r\n          t.Canvas[r]().style.display = 'none'\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        run: function (t) {\r\n          for (var e = t.getSelected(), n = e && e.parent(); n && !n.get('selectable'); ) n = n.parent()\r\n          n && t.select(n)\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1)\r\n      t.exports = {\r\n        isEnabled: function () {\r\n          var t = document\r\n          return t.fullscreenElement || t.webkitFullscreenElement || t.mozFullScreenElement ? 1 : 0\r\n        },\r\n        enable: function (t) {\r\n          var e = ''\r\n          return (\r\n            t.requestFullscreen\r\n              ? t.requestFullscreen()\r\n              : t.webkitRequestFullscreen\r\n              ? ((e = 'webkit'), t.webkitRequestFullscreen())\r\n              : t.mozRequestFullScreen\r\n              ? ((e = 'moz'), t.mozRequestFullScreen())\r\n              : t.msRequestFullscreen\r\n              ? t.msRequestFullscreen()\r\n              : console.warn('Fullscreen not supported'),\r\n            e\r\n          )\r\n        },\r\n        disable: function () {\r\n          var t = document\r\n          this.isEnabled() &&\r\n            (t.exitFullscreen\r\n              ? t.exitFullscreen()\r\n              : t.webkitExitFullscreen\r\n              ? t.webkitExitFullscreen()\r\n              : t.mozCancelFullScreen\r\n              ? t.mozCancelFullScreen()\r\n              : t.msExitFullscreen && t.msExitFullscreen())\r\n        },\r\n        fsChanged: function (t, e) {\r\n          document\r\n          var n = (t || '') + 'fullscreenchange'\r\n          this.isEnabled() || (this.stop(null, this.sender), document.removeEventListener(n, this.fsChanged))\r\n        },\r\n        run: function (t, e) {\r\n          var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}\r\n          this.sender = e\r\n          var r = n.target,\r\n            o = (0, i.isElement)(r) ? r : document.querySelector(r),\r\n            s = this.enable(o || t.getContainer())\r\n          ;(this.fsChanged = this.fsChanged.bind(this, s)),\r\n            document.addEventListener(s + 'fullscreenchange', this.fsChanged),\r\n            t.trigger('change:canvasOffset')\r\n        },\r\n        stop: function (t, e) {\r\n          e && e.set && e.set('active', !1), this.disable(), t && t.trigger('change:canvasOffset')\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(1),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      t.exports = {\r\n        getPanels: function (t) {\r\n          return this.panels || (this.panels = t.Panels.getPanelsEl()), this.panels\r\n        },\r\n        tglPointers: function (t, e) {\r\n          var n = t.Canvas.getBody().querySelectorAll('.' + this.ppfx + 'no-pointer')\r\n          o.default.each(n, function (t) {\r\n            t.style.pointerEvents = e ? '' : 'all'\r\n          })\r\n        },\r\n        run: function (t, e) {\r\n          e && e.set && e.set('active', !1), t.stopCommand('sw-visibility'), t.getModel().stopDefault()\r\n          var n = this.getPanels(t),\r\n            i = t.Canvas.getElement(),\r\n            r = t.getEl(),\r\n            o = t.Config.stylePrefix\r\n          this.helper ||\r\n            ((this.helper = document.createElement('span')),\r\n            (this.helper.className = o + 'off-prv fa fa-eye-slash'),\r\n            r.appendChild(this.helper),\r\n            (this.helper.onclick = function () {\r\n              t.stopCommand('preview')\r\n            })),\r\n            (this.helper.style.display = 'inline-block'),\r\n            this.tglPointers(t),\r\n            (n.style.display = 'none')\r\n          var s = i.style\r\n          ;(s.width = '100%'),\r\n            (s.height = '100%'),\r\n            (s.top = '0'),\r\n            (s.left = '0'),\r\n            (s.padding = '0'),\r\n            (s.margin = '0'),\r\n            t.trigger('change:canvasOffset')\r\n        },\r\n        stop: function (t, e) {\r\n          var n = this.getPanels(t)\r\n          t.runCommand('sw-visibility'),\r\n            t.getModel().runDefault(),\r\n            (n.style.display = 'block'),\r\n            t.Canvas.getElement().setAttribute('style', ''),\r\n            this.helper && (this.helper.style.display = 'none'),\r\n            t.trigger('change:canvasOffset'),\r\n            this.tglPointers(t, 1)\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        run: function (t, e, n) {\r\n          var i = n || {},\r\n            r = i.el || '',\r\n            o = t.Canvas,\r\n            s = this.canvasResizer,\r\n            a = i.options || {},\r\n            l = o.getCanvasView()\r\n          return (\r\n            (a.ratioDefault = 1),\r\n            (a.appendTo = o.getResizerEl()),\r\n            (a.prefix = t.getConfig().stylePrefix),\r\n            (a.posFetcher = l.getElementPos.bind(l)),\r\n            (a.mousePosFetcher = o.getMouseRelativePos),\r\n            (s && !i.forceNew) || ((this.canvasResizer = t.Utils.Resizer.init(a)), (s = this.canvasResizer)),\r\n            s.setOptions(a),\r\n            s.blur(),\r\n            s.focus(r),\r\n            s\r\n          )\r\n        },\r\n        stop: function () {\r\n          var t = this.canvasResizer\r\n          t && t.blur()\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        run: function (t, e, n) {\r\n          var i = (n && n.el) || '',\r\n            r = t.Canvas,\r\n            o = this.dragger,\r\n            s = n.options || {},\r\n            a = r.getCanvasView()\r\n          return (\r\n            (s.prefix = t.getConfig().stylePrefix),\r\n            (s.mousePosFetcher = r.getMouseRelativePos),\r\n            (s.posFetcher = a.getElementPos.bind(a)),\r\n            o || ((o = t.Utils.Dragger.init(s)), (this.dragger = o)),\r\n            o.setOptions(s),\r\n            o.focus(i),\r\n            s.event && o.start(s.event),\r\n            o\r\n          )\r\n        },\r\n        stop: function () {\r\n          this.canvasResizer && this.canvasResizer.blur()\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      !(function (e) {\r\n        var n,\r\n          i = {},\r\n          r = { 16: !1, 18: !1, 17: !1, 91: !1 },\r\n          o = 'all',\r\n          s = {\r\n            '': 16,\r\n            shift: 16,\r\n            '': 18,\r\n            alt: 18,\r\n            option: 18,\r\n            '': 17,\r\n            ctrl: 17,\r\n            control: 17,\r\n            '': 91,\r\n            command: 91\r\n          },\r\n          a = {\r\n            backspace: 8,\r\n            tab: 9,\r\n            clear: 12,\r\n            enter: 13,\r\n            return: 13,\r\n            esc: 27,\r\n            escape: 27,\r\n            space: 32,\r\n            left: 37,\r\n            up: 38,\r\n            right: 39,\r\n            down: 40,\r\n            del: 46,\r\n            delete: 46,\r\n            home: 36,\r\n            end: 35,\r\n            pageup: 33,\r\n            pagedown: 34,\r\n            ',': 188,\r\n            '.': 190,\r\n            '/': 191,\r\n            '`': 192,\r\n            '-': 189,\r\n            '=': 187,\r\n            ';': 186,\r\n            \"'\": 222,\r\n            '[': 219,\r\n            ']': 221,\r\n            '\\\\': 220\r\n          },\r\n          l = function (t) {\r\n            return a[t] || t.toUpperCase().charCodeAt(0)\r\n          },\r\n          c = []\r\n        for (n = 1; n < 20; n++) a['f' + n] = 111 + n\r\n        function u (t, e) {\r\n          for (var n = t.length; n--; ) if (t[n] === e) return n\r\n          return -1\r\n        }\r\n        function h (t, e) {\r\n          if (t.length != e.length) return !1\r\n          for (var n = 0; n < t.length; n++) if (t[n] !== e[n]) return !1\r\n          return !0\r\n        }\r\n        var d = { 16: 'shiftKey', 18: 'altKey', 17: 'ctrlKey', 91: 'metaKey' }\r\n        function f (t) {\r\n          for (n in r) r[n] = t[d[n]]\r\n        }\r\n        function p (t, e, n) {\r\n          var r, o\r\n          ;(r = v(t)), void 0 === n && ((n = e), (e = 'all'))\r\n          for (var s = 0; s < r.length; s++)\r\n            (o = []),\r\n              (t = r[s].split('+')).length > 1 && ((o = m(t)), (t = [t[t.length - 1]])),\r\n              (t = t[0]),\r\n              (t = l(t)) in i || (i[t] = []),\r\n              i[t].push({ shortcut: r[s], scope: e, method: n, key: r[s], mods: o })\r\n        }\r\n        for (n in s) p[n] = !1\r\n        function g () {\r\n          return o || 'all'\r\n        }\r\n        function v (t) {\r\n          var e\r\n          return '' == (e = (t = t.replace(/\\s/g, '')).split(','))[e.length - 1] && (e[e.length - 2] += ','), e\r\n        }\r\n        function m (t) {\r\n          for (var e = t.slice(0, t.length - 1), n = 0; n < e.length; n++) e[n] = s[e[n]]\r\n          return e\r\n        }\r\n        function y (t, e, n) {\r\n          t.addEventListener\r\n            ? t.addEventListener(e, n, !1)\r\n            : t.attachEvent &&\r\n              t.attachEvent('on' + e, function () {\r\n                n(window.event)\r\n              })\r\n        }\r\n        y(document, 'keydown', function (t) {\r\n          !(function (t) {\r\n            var e, n, o, a, l, h\r\n            if (((e = t.keyCode), -1 == u(c, e) && c.push(e), (93 != e && 224 != e) || (e = 91), e in r))\r\n              for (o in ((r[e] = !0), s)) s[o] == e && (p[o] = !0)\r\n            else if ((f(t), p.filter.call(this, t) && e in i))\r\n              for (h = g(), a = 0; a < i[e].length; a++)\r\n                if ((n = i[e][a]).scope == h || 'all' == n.scope) {\r\n                  for (o in ((l = n.mods.length > 0), r))\r\n                    ((!r[o] && u(n.mods, +o) > -1) || (r[o] && -1 == u(n.mods, +o))) && (l = !1)\r\n                  ;((0 != n.mods.length || r[16] || r[18] || r[17] || r[91]) && !l) ||\r\n                    (!1 === n.method(t, n) &&\r\n                      (t.preventDefault ? t.preventDefault() : (t.returnValue = !1),\r\n                      t.stopPropagation && t.stopPropagation(),\r\n                      t.cancelBubble && (t.cancelBubble = !0)))\r\n                }\r\n          })(t)\r\n        }),\r\n          y(document, 'keyup', function (t) {\r\n            var e,\r\n              n = t.keyCode,\r\n              i = u(c, n)\r\n            if ((i >= 0 && c.splice(i, 1), (93 != n && 224 != n) || (n = 91), n in r))\r\n              for (e in ((r[n] = !1), s)) s[e] == n && (p[e] = !1)\r\n          }),\r\n          y(window, 'focus', function () {\r\n            for (n in r) r[n] = !1\r\n            for (n in s) p[n] = !1\r\n          })\r\n        var b = e.key\r\n        ;(e.key = p),\r\n          (e.key.setScope = function (t) {\r\n            o = t || 'all'\r\n          }),\r\n          (e.key.getScope = g),\r\n          (e.key.deleteScope = function (t) {\r\n            var e, n, r\r\n            for (e in i) for (n = i[e], r = 0; r < n.length; ) n[r].scope === t ? n.splice(r, 1) : r++\r\n          }),\r\n          (e.key.filter = function (t) {\r\n            var e = (t.target || t.srcElement).tagName\r\n            return !('INPUT' == e || 'SELECT' == e || 'TEXTAREA' == e)\r\n          }),\r\n          (e.key.isPressed = function (t) {\r\n            return 'string' == typeof t && (t = l(t)), -1 != u(c, t)\r\n          }),\r\n          (e.key.getPressedKeyCodes = function () {\r\n            return c.slice(0)\r\n          }),\r\n          (e.key.noConflict = function () {\r\n            var t = e.key\r\n            return (e.key = b), t\r\n          }),\r\n          (e.key.unbind = function (t, e) {\r\n            var n,\r\n              r,\r\n              o,\r\n              s,\r\n              a,\r\n              c = []\r\n            for (n = v(t), s = 0; s < n.length; s++) {\r\n              if (\r\n                ((r = n[s].split('+')).length > 1 && ((c = m(r)), (t = r[r.length - 1])),\r\n                (t = l(t)),\r\n                void 0 === e && (e = g()),\r\n                !i[t])\r\n              )\r\n                return\r\n              for (o = 0; o < i[t].length; o++) (a = i[t][o]).scope === e && h(a.mods, c) && (i[t][o] = {})\r\n            }\r\n          }),\r\n          (t.exports = p)\r\n      })(this)\r\n    },\r\n    function (t, e, n) {\r\n      var i\r\n      ;(function () {\r\n        var n = this,\r\n          r = n._,\r\n          o = Array.prototype,\r\n          s = Object.prototype,\r\n          a = Function.prototype,\r\n          l = o.push,\r\n          c = o.slice,\r\n          u = s.toString,\r\n          h = s.hasOwnProperty,\r\n          d = Array.isArray,\r\n          f = Object.keys,\r\n          p = a.bind,\r\n          g = Object.create,\r\n          v = function () {},\r\n          m = function (t) {\r\n            return t instanceof m ? t : this instanceof m ? void (this._wrapped = t) : new m(t)\r\n          }\r\n        t.exports && (e = t.exports = m), (e._ = m), (m.VERSION = '1.8.3')\r\n        var y = function (t, e, n) {\r\n            if (void 0 === e) return t\r\n            switch (null == n ? 3 : n) {\r\n              case 1:\r\n                return function (n) {\r\n                  return t.call(e, n)\r\n                }\r\n              case 2:\r\n                return function (n, i) {\r\n                  return t.call(e, n, i)\r\n                }\r\n              case 3:\r\n                return function (n, i, r) {\r\n                  return t.call(e, n, i, r)\r\n                }\r\n              case 4:\r\n                return function (n, i, r, o) {\r\n                  return t.call(e, n, i, r, o)\r\n                }\r\n            }\r\n            return function () {\r\n              return t.apply(e, arguments)\r\n            }\r\n          },\r\n          b = function (t, e, n) {\r\n            return null == t ? m.identity : m.isFunction(t) ? y(t, e, n) : m.isObject(t) ? m.matcher(t) : m.property(t)\r\n          }\r\n        m.iteratee = function (t, e) {\r\n          return b(t, e, 1 / 0)\r\n        }\r\n        var x = function (t, e) {\r\n            return function (n) {\r\n              var i = arguments.length\r\n              if (i < 2 || null == n) return n\r\n              for (var r = 1; r < i; r++)\r\n                for (var o = arguments[r], s = t(o), a = s.length, l = 0; l < a; l++) {\r\n                  var c = s[l]\r\n                  ;(e && void 0 !== n[c]) || (n[c] = o[c])\r\n                }\r\n              return n\r\n            }\r\n          },\r\n          w = function (t) {\r\n            if (!m.isObject(t)) return {}\r\n            if (g) return g(t)\r\n            v.prototype = t\r\n            var e = new v()\r\n            return (v.prototype = null), e\r\n          },\r\n          C = function (t) {\r\n            return function (e) {\r\n              return null == e ? void 0 : e[t]\r\n            }\r\n          },\r\n          k = Math.pow(2, 53) - 1,\r\n          S = C('length'),\r\n          T = function (t) {\r\n            var e = S(t)\r\n            return 'number' == typeof e && e >= 0 && e <= k\r\n          }\r\n        function E (t) {\r\n          return function (e, n, i, r) {\r\n            n = y(n, r, 4)\r\n            var o = !T(e) && m.keys(e),\r\n              s = (o || e).length,\r\n              a = t > 0 ? 0 : s - 1\r\n            return (\r\n              arguments.length < 3 && ((i = e[o ? o[a] : a]), (a += t)),\r\n              (function (e, n, i, r, o, s) {\r\n                for (; o >= 0 && o < s; o += t) {\r\n                  var a = r ? r[o] : o\r\n                  i = n(i, e[a], a, e)\r\n                }\r\n                return i\r\n              })(e, n, i, o, a, s)\r\n            )\r\n          }\r\n        }\r\n        ;(m.each = m.forEach = function (t, e, n) {\r\n          var i, r\r\n          if (((e = y(e, n)), T(t))) for (i = 0, r = t.length; i < r; i++) e(t[i], i, t)\r\n          else {\r\n            var o = m.keys(t)\r\n            for (i = 0, r = o.length; i < r; i++) e(t[o[i]], o[i], t)\r\n          }\r\n          return t\r\n        }),\r\n          (m.map = m.collect = function (t, e, n) {\r\n            e = b(e, n)\r\n            for (var i = !T(t) && m.keys(t), r = (i || t).length, o = Array(r), s = 0; s < r; s++) {\r\n              var a = i ? i[s] : s\r\n              o[s] = e(t[a], a, t)\r\n            }\r\n            return o\r\n          }),\r\n          (m.reduce = m.foldl = m.inject = E(1)),\r\n          (m.reduceRight = m.foldr = E(-1)),\r\n          (m.find = m.detect = function (t, e, n) {\r\n            var i\r\n            if (void 0 !== (i = T(t) ? m.findIndex(t, e, n) : m.findKey(t, e, n)) && -1 !== i) return t[i]\r\n          }),\r\n          (m.filter = m.select = function (t, e, n) {\r\n            var i = []\r\n            return (\r\n              (e = b(e, n)),\r\n              m.each(t, function (t, n, r) {\r\n                e(t, n, r) && i.push(t)\r\n              }),\r\n              i\r\n            )\r\n          }),\r\n          (m.reject = function (t, e, n) {\r\n            return m.filter(t, m.negate(b(e)), n)\r\n          }),\r\n          (m.every = m.all = function (t, e, n) {\r\n            e = b(e, n)\r\n            for (var i = !T(t) && m.keys(t), r = (i || t).length, o = 0; o < r; o++) {\r\n              var s = i ? i[o] : o\r\n              if (!e(t[s], s, t)) return !1\r\n            }\r\n            return !0\r\n          }),\r\n          (m.some = m.any = function (t, e, n) {\r\n            e = b(e, n)\r\n            for (var i = !T(t) && m.keys(t), r = (i || t).length, o = 0; o < r; o++) {\r\n              var s = i ? i[o] : o\r\n              if (e(t[s], s, t)) return !0\r\n            }\r\n            return !1\r\n          }),\r\n          (m.contains = m.includes = m.include = function (t, e, n, i) {\r\n            return T(t) || (t = m.values(t)), ('number' != typeof n || i) && (n = 0), m.indexOf(t, e, n) >= 0\r\n          }),\r\n          (m.invoke = function (t, e) {\r\n            var n = c.call(arguments, 2),\r\n              i = m.isFunction(e)\r\n            return m.map(t, function (t) {\r\n              var r = i ? e : t[e]\r\n              return null == r ? r : r.apply(t, n)\r\n            })\r\n          }),\r\n          (m.pluck = function (t, e) {\r\n            return m.map(t, m.property(e))\r\n          }),\r\n          (m.where = function (t, e) {\r\n            return m.filter(t, m.matcher(e))\r\n          }),\r\n          (m.findWhere = function (t, e) {\r\n            return m.find(t, m.matcher(e))\r\n          }),\r\n          (m.max = function (t, e, n) {\r\n            var i,\r\n              r,\r\n              o = -1 / 0,\r\n              s = -1 / 0\r\n            if (null == e && null != t)\r\n              for (var a = 0, l = (t = T(t) ? t : m.values(t)).length; a < l; a++) (i = t[a]) > o && (o = i)\r\n            else\r\n              (e = b(e, n)),\r\n                m.each(t, function (t, n, i) {\r\n                  ;((r = e(t, n, i)) > s || (r === -1 / 0 && o === -1 / 0)) && ((o = t), (s = r))\r\n                })\r\n            return o\r\n          }),\r\n          (m.min = function (t, e, n) {\r\n            var i,\r\n              r,\r\n              o = 1 / 0,\r\n              s = 1 / 0\r\n            if (null == e && null != t)\r\n              for (var a = 0, l = (t = T(t) ? t : m.values(t)).length; a < l; a++) (i = t[a]) < o && (o = i)\r\n            else\r\n              (e = b(e, n)),\r\n                m.each(t, function (t, n, i) {\r\n                  ;((r = e(t, n, i)) < s || (r === 1 / 0 && o === 1 / 0)) && ((o = t), (s = r))\r\n                })\r\n            return o\r\n          }),\r\n          (m.shuffle = function (t) {\r\n            for (var e, n = T(t) ? t : m.values(t), i = n.length, r = Array(i), o = 0; o < i; o++)\r\n              (e = m.random(0, o)) !== o && (r[o] = r[e]), (r[e] = n[o])\r\n            return r\r\n          }),\r\n          (m.sample = function (t, e, n) {\r\n            return null == e || n\r\n              ? (T(t) || (t = m.values(t)), t[m.random(t.length - 1)])\r\n              : m.shuffle(t).slice(0, Math.max(0, e))\r\n          }),\r\n          (m.sortBy = function (t, e, n) {\r\n            return (\r\n              (e = b(e, n)),\r\n              m.pluck(\r\n                m\r\n                  .map(t, function (t, n, i) {\r\n                    return { value: t, index: n, criteria: e(t, n, i) }\r\n                  })\r\n                  .sort(function (t, e) {\r\n                    var n = t.criteria,\r\n                      i = e.criteria\r\n                    if (n !== i) {\r\n                      if (n > i || void 0 === n) return 1\r\n                      if (n < i || void 0 === i) return -1\r\n                    }\r\n                    return t.index - e.index\r\n                  }),\r\n                'value'\r\n              )\r\n            )\r\n          })\r\n        var M = function (t) {\r\n          return function (e, n, i) {\r\n            var r = {}\r\n            return (\r\n              (n = b(n, i)),\r\n              m.each(e, function (i, o) {\r\n                var s = n(i, o, e)\r\n                t(r, i, s)\r\n              }),\r\n              r\r\n            )\r\n          }\r\n        }\r\n        ;(m.groupBy = M(function (t, e, n) {\r\n          m.has(t, n) ? t[n].push(e) : (t[n] = [e])\r\n        })),\r\n          (m.indexBy = M(function (t, e, n) {\r\n            t[n] = e\r\n          })),\r\n          (m.countBy = M(function (t, e, n) {\r\n            m.has(t, n) ? t[n]++ : (t[n] = 1)\r\n          })),\r\n          (m.toArray = function (t) {\r\n            return t ? (m.isArray(t) ? c.call(t) : T(t) ? m.map(t, m.identity) : m.values(t)) : []\r\n          }),\r\n          (m.size = function (t) {\r\n            return null == t ? 0 : T(t) ? t.length : m.keys(t).length\r\n          }),\r\n          (m.partition = function (t, e, n) {\r\n            e = b(e, n)\r\n            var i = [],\r\n              r = []\r\n            return (\r\n              m.each(t, function (t, n, o) {\r\n                ;(e(t, n, o) ? i : r).push(t)\r\n              }),\r\n              [i, r]\r\n            )\r\n          }),\r\n          (m.first = m.head = m.take = function (t, e, n) {\r\n            if (null != t) return null == e || n ? t[0] : m.initial(t, t.length - e)\r\n          }),\r\n          (m.initial = function (t, e, n) {\r\n            return c.call(t, 0, Math.max(0, t.length - (null == e || n ? 1 : e)))\r\n          }),\r\n          (m.last = function (t, e, n) {\r\n            if (null != t) return null == e || n ? t[t.length - 1] : m.rest(t, Math.max(0, t.length - e))\r\n          }),\r\n          (m.rest = m.tail = m.drop = function (t, e, n) {\r\n            return c.call(t, null == e || n ? 1 : e)\r\n          }),\r\n          (m.compact = function (t) {\r\n            return m.filter(t, m.identity)\r\n          })\r\n        var A = function (t, e, n, i) {\r\n          for (var r = [], o = 0, s = i || 0, a = S(t); s < a; s++) {\r\n            var l = t[s]\r\n            if (T(l) && (m.isArray(l) || m.isArguments(l))) {\r\n              e || (l = A(l, e, n))\r\n              var c = 0,\r\n                u = l.length\r\n              for (r.length += u; c < u; ) r[o++] = l[c++]\r\n            } else n || (r[o++] = l)\r\n          }\r\n          return r\r\n        }\r\n        function O (t) {\r\n          return function (e, n, i) {\r\n            n = b(n, i)\r\n            for (var r = S(e), o = t > 0 ? 0 : r - 1; o >= 0 && o < r; o += t) if (n(e[o], o, e)) return o\r\n            return -1\r\n          }\r\n        }\r\n        function P (t, e, n) {\r\n          return function (i, r, o) {\r\n            var s = 0,\r\n              a = S(i)\r\n            if ('number' == typeof o)\r\n              t > 0 ? (s = o >= 0 ? o : Math.max(o + a, s)) : (a = o >= 0 ? Math.min(o + 1, a) : o + a + 1)\r\n            else if (n && o && a) return i[(o = n(i, r))] === r ? o : -1\r\n            if (r != r) return (o = e(c.call(i, s, a), m.isNaN)) >= 0 ? o + s : -1\r\n            for (o = t > 0 ? s : a - 1; o >= 0 && o < a; o += t) if (i[o] === r) return o\r\n            return -1\r\n          }\r\n        }\r\n        ;(m.flatten = function (t, e) {\r\n          return A(t, e, !1)\r\n        }),\r\n          (m.without = function (t) {\r\n            return m.difference(t, c.call(arguments, 1))\r\n          }),\r\n          (m.uniq = m.unique = function (t, e, n, i) {\r\n            m.isBoolean(e) || ((i = n), (n = e), (e = !1)), null != n && (n = b(n, i))\r\n            for (var r = [], o = [], s = 0, a = S(t); s < a; s++) {\r\n              var l = t[s],\r\n                c = n ? n(l, s, t) : l\r\n              e\r\n                ? ((s && o === c) || r.push(l), (o = c))\r\n                : n\r\n                ? m.contains(o, c) || (o.push(c), r.push(l))\r\n                : m.contains(r, l) || r.push(l)\r\n            }\r\n            return r\r\n          }),\r\n          (m.union = function () {\r\n            return m.uniq(A(arguments, !0, !0))\r\n          }),\r\n          (m.intersection = function (t) {\r\n            for (var e = [], n = arguments.length, i = 0, r = S(t); i < r; i++) {\r\n              var o = t[i]\r\n              if (!m.contains(e, o)) {\r\n                for (var s = 1; s < n && m.contains(arguments[s], o); s++);\r\n                s === n && e.push(o)\r\n              }\r\n            }\r\n            return e\r\n          }),\r\n          (m.difference = function (t) {\r\n            var e = A(arguments, !0, !0, 1)\r\n            return m.filter(t, function (t) {\r\n              return !m.contains(e, t)\r\n            })\r\n          }),\r\n          (m.zip = function () {\r\n            return m.unzip(arguments)\r\n          }),\r\n          (m.unzip = function (t) {\r\n            for (var e = (t && m.max(t, S).length) || 0, n = Array(e), i = 0; i < e; i++) n[i] = m.pluck(t, i)\r\n            return n\r\n          }),\r\n          (m.object = function (t, e) {\r\n            for (var n = {}, i = 0, r = S(t); i < r; i++) e ? (n[t[i]] = e[i]) : (n[t[i][0]] = t[i][1])\r\n            return n\r\n          }),\r\n          (m.findIndex = O(1)),\r\n          (m.findLastIndex = O(-1)),\r\n          (m.sortedIndex = function (t, e, n, i) {\r\n            for (var r = (n = b(n, i, 1))(e), o = 0, s = S(t); o < s; ) {\r\n              var a = Math.floor((o + s) / 2)\r\n              n(t[a]) < r ? (o = a + 1) : (s = a)\r\n            }\r\n            return o\r\n          }),\r\n          (m.indexOf = P(1, m.findIndex, m.sortedIndex)),\r\n          (m.lastIndexOf = P(-1, m.findLastIndex)),\r\n          (m.range = function (t, e, n) {\r\n            null == e && ((e = t || 0), (t = 0)), (n = n || 1)\r\n            for (var i = Math.max(Math.ceil((e - t) / n), 0), r = Array(i), o = 0; o < i; o++, t += n) r[o] = t\r\n            return r\r\n          })\r\n        var L = function (t, e, n, i, r) {\r\n          if (!(i instanceof e)) return t.apply(n, r)\r\n          var o = w(t.prototype),\r\n            s = t.apply(o, r)\r\n          return m.isObject(s) ? s : o\r\n        }\r\n        ;(m.bind = function (t, e) {\r\n          if (p && t.bind === p) return p.apply(t, c.call(arguments, 1))\r\n          if (!m.isFunction(t)) throw new TypeError('Bind must be called on a function')\r\n          var n = c.call(arguments, 2),\r\n            i = function () {\r\n              return L(t, i, e, this, n.concat(c.call(arguments)))\r\n            }\r\n          return i\r\n        }),\r\n          (m.partial = function (t) {\r\n            var e = c.call(arguments, 1),\r\n              n = function () {\r\n                for (var i = 0, r = e.length, o = Array(r), s = 0; s < r; s++) o[s] = e[s] === m ? arguments[i++] : e[s]\r\n                for (; i < arguments.length; ) o.push(arguments[i++])\r\n                return L(t, n, this, this, o)\r\n              }\r\n            return n\r\n          }),\r\n          (m.bindAll = function (t) {\r\n            var e,\r\n              n,\r\n              i = arguments.length\r\n            if (i <= 1) throw new Error('bindAll must be passed function names')\r\n            for (e = 1; e < i; e++) t[(n = arguments[e])] = m.bind(t[n], t)\r\n            return t\r\n          }),\r\n          (m.memoize = function (t, e) {\r\n            var n = function (i) {\r\n              var r = n.cache,\r\n                o = '' + (e ? e.apply(this, arguments) : i)\r\n              return m.has(r, o) || (r[o] = t.apply(this, arguments)), r[o]\r\n            }\r\n            return (n.cache = {}), n\r\n          }),\r\n          (m.delay = function (t, e) {\r\n            var n = c.call(arguments, 2)\r\n            return setTimeout(function () {\r\n              return t.apply(null, n)\r\n            }, e)\r\n          }),\r\n          (m.defer = m.partial(m.delay, m, 1)),\r\n          (m.throttle = function (t, e, n) {\r\n            var i,\r\n              r,\r\n              o,\r\n              s = null,\r\n              a = 0\r\n            n || (n = {})\r\n            var l = function () {\r\n              ;(a = !1 === n.leading ? 0 : m.now()), (s = null), (o = t.apply(i, r)), s || (i = r = null)\r\n            }\r\n            return function () {\r\n              var c = m.now()\r\n              a || !1 !== n.leading || (a = c)\r\n              var u = e - (c - a)\r\n              return (\r\n                (i = this),\r\n                (r = arguments),\r\n                u <= 0 || u > e\r\n                  ? (s && (clearTimeout(s), (s = null)), (a = c), (o = t.apply(i, r)), s || (i = r = null))\r\n                  : s || !1 === n.trailing || (s = setTimeout(l, u)),\r\n                o\r\n              )\r\n            }\r\n          }),\r\n          (m.debounce = function (t, e, n) {\r\n            var i,\r\n              r,\r\n              o,\r\n              s,\r\n              a,\r\n              l = function () {\r\n                var c = m.now() - s\r\n                c < e && c >= 0\r\n                  ? (i = setTimeout(l, e - c))\r\n                  : ((i = null), n || ((a = t.apply(o, r)), i || (o = r = null)))\r\n              }\r\n            return function () {\r\n              ;(o = this), (r = arguments), (s = m.now())\r\n              var c = n && !i\r\n              return i || (i = setTimeout(l, e)), c && ((a = t.apply(o, r)), (o = r = null)), a\r\n            }\r\n          }),\r\n          (m.wrap = function (t, e) {\r\n            return m.partial(e, t)\r\n          }),\r\n          (m.negate = function (t) {\r\n            return function () {\r\n              return !t.apply(this, arguments)\r\n            }\r\n          }),\r\n          (m.compose = function () {\r\n            var t = arguments,\r\n              e = t.length - 1\r\n            return function () {\r\n              for (var n = e, i = t[e].apply(this, arguments); n--; ) i = t[n].call(this, i)\r\n              return i\r\n            }\r\n          }),\r\n          (m.after = function (t, e) {\r\n            return function () {\r\n              if (--t < 1) return e.apply(this, arguments)\r\n            }\r\n          }),\r\n          (m.before = function (t, e) {\r\n            var n\r\n            return function () {\r\n              return --t > 0 && (n = e.apply(this, arguments)), t <= 1 && (e = null), n\r\n            }\r\n          }),\r\n          (m.once = m.partial(m.before, 2))\r\n        var _ = !{ toString: null }.propertyIsEnumerable('toString'),\r\n          N = ['valueOf', 'isPrototypeOf', 'toString', 'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString']\r\n        function D (t, e) {\r\n          var n = N.length,\r\n            i = t.constructor,\r\n            r = (m.isFunction(i) && i.prototype) || s,\r\n            o = 'constructor'\r\n          for (m.has(t, o) && !m.contains(e, o) && e.push(o); n--; )\r\n            (o = N[n]) in t && t[o] !== r[o] && !m.contains(e, o) && e.push(o)\r\n        }\r\n        ;(m.keys = function (t) {\r\n          if (!m.isObject(t)) return []\r\n          if (f) return f(t)\r\n          var e = []\r\n          for (var n in t) m.has(t, n) && e.push(n)\r\n          return _ && D(t, e), e\r\n        }),\r\n          (m.allKeys = function (t) {\r\n            if (!m.isObject(t)) return []\r\n            var e = []\r\n            for (var n in t) e.push(n)\r\n            return _ && D(t, e), e\r\n          }),\r\n          (m.values = function (t) {\r\n            for (var e = m.keys(t), n = e.length, i = Array(n), r = 0; r < n; r++) i[r] = t[e[r]]\r\n            return i\r\n          }),\r\n          (m.mapObject = function (t, e, n) {\r\n            e = b(e, n)\r\n            for (var i, r = m.keys(t), o = r.length, s = {}, a = 0; a < o; a++) s[(i = r[a])] = e(t[i], i, t)\r\n            return s\r\n          }),\r\n          (m.pairs = function (t) {\r\n            for (var e = m.keys(t), n = e.length, i = Array(n), r = 0; r < n; r++) i[r] = [e[r], t[e[r]]]\r\n            return i\r\n          }),\r\n          (m.invert = function (t) {\r\n            for (var e = {}, n = m.keys(t), i = 0, r = n.length; i < r; i++) e[t[n[i]]] = n[i]\r\n            return e\r\n          }),\r\n          (m.functions = m.methods = function (t) {\r\n            var e = []\r\n            for (var n in t) m.isFunction(t[n]) && e.push(n)\r\n            return e.sort()\r\n          }),\r\n          (m.extend = x(m.allKeys)),\r\n          (m.extendOwn = m.assign = x(m.keys)),\r\n          (m.findKey = function (t, e, n) {\r\n            e = b(e, n)\r\n            for (var i, r = m.keys(t), o = 0, s = r.length; o < s; o++) if (e(t[(i = r[o])], i, t)) return i\r\n          }),\r\n          (m.pick = function (t, e, n) {\r\n            var i,\r\n              r,\r\n              o = {},\r\n              s = t\r\n            if (null == s) return o\r\n            m.isFunction(e)\r\n              ? ((r = m.allKeys(s)), (i = y(e, n)))\r\n              : ((r = A(arguments, !1, !1, 1)),\r\n                (i = function (t, e, n) {\r\n                  return e in n\r\n                }),\r\n                (s = Object(s)))\r\n            for (var a = 0, l = r.length; a < l; a++) {\r\n              var c = r[a],\r\n                u = s[c]\r\n              i(u, c, s) && (o[c] = u)\r\n            }\r\n            return o\r\n          }),\r\n          (m.omit = function (t, e, n) {\r\n            if (m.isFunction(e)) e = m.negate(e)\r\n            else {\r\n              var i = m.map(A(arguments, !1, !1, 1), String)\r\n              e = function (t, e) {\r\n                return !m.contains(i, e)\r\n              }\r\n            }\r\n            return m.pick(t, e, n)\r\n          }),\r\n          (m.defaults = x(m.allKeys, !0)),\r\n          (m.create = function (t, e) {\r\n            var n = w(t)\r\n            return e && m.extendOwn(n, e), n\r\n          }),\r\n          (m.clone = function (t) {\r\n            return m.isObject(t) ? (m.isArray(t) ? t.slice() : m.extend({}, t)) : t\r\n          }),\r\n          (m.tap = function (t, e) {\r\n            return e(t), t\r\n          }),\r\n          (m.isMatch = function (t, e) {\r\n            var n = m.keys(e),\r\n              i = n.length\r\n            if (null == t) return !i\r\n            for (var r = Object(t), o = 0; o < i; o++) {\r\n              var s = n[o]\r\n              if (e[s] !== r[s] || !(s in r)) return !1\r\n            }\r\n            return !0\r\n          })\r\n        var I = function (t, e, n, i) {\r\n          if (t === e) return 0 !== t || 1 / t == 1 / e\r\n          if (null == t || null == e) return t === e\r\n          t instanceof m && (t = t._wrapped), e instanceof m && (e = e._wrapped)\r\n          var r = u.call(t)\r\n          if (r !== u.call(e)) return !1\r\n          switch (r) {\r\n            case '[object RegExp]':\r\n            case '[object String]':\r\n              return '' + t == '' + e\r\n            case '[object Number]':\r\n              return +t != +t ? +e != +e : 0 == +t ? 1 / +t == 1 / e : +t == +e\r\n            case '[object Date]':\r\n            case '[object Boolean]':\r\n              return +t == +e\r\n          }\r\n          var o = '[object Array]' === r\r\n          if (!o) {\r\n            if ('object' != typeof t || 'object' != typeof e) return !1\r\n            var s = t.constructor,\r\n              a = e.constructor\r\n            if (\r\n              s !== a &&\r\n              !(m.isFunction(s) && s instanceof s && m.isFunction(a) && a instanceof a) &&\r\n              'constructor' in t &&\r\n              'constructor' in e\r\n            )\r\n              return !1\r\n          }\r\n          i = i || []\r\n          for (var l = (n = n || []).length; l--; ) if (n[l] === t) return i[l] === e\r\n          if ((n.push(t), i.push(e), o)) {\r\n            if ((l = t.length) !== e.length) return !1\r\n            for (; l--; ) if (!I(t[l], e[l], n, i)) return !1\r\n          } else {\r\n            var c,\r\n              h = m.keys(t)\r\n            if (((l = h.length), m.keys(e).length !== l)) return !1\r\n            for (; l--; ) if (((c = h[l]), !m.has(e, c) || !I(t[c], e[c], n, i))) return !1\r\n          }\r\n          return n.pop(), i.pop(), !0\r\n        }\r\n        ;(m.isEqual = function (t, e) {\r\n          return I(t, e)\r\n        }),\r\n          (m.isEmpty = function (t) {\r\n            return (\r\n              null == t ||\r\n              (T(t) && (m.isArray(t) || m.isString(t) || m.isArguments(t)) ? 0 === t.length : 0 === m.keys(t).length)\r\n            )\r\n          }),\r\n          (m.isElement = function (t) {\r\n            return !(!t || 1 !== t.nodeType)\r\n          }),\r\n          (m.isArray =\r\n            d ||\r\n            function (t) {\r\n              return '[object Array]' === u.call(t)\r\n            }),\r\n          (m.isObject = function (t) {\r\n            var e = typeof t\r\n            return 'function' === e || ('object' === e && !!t)\r\n          }),\r\n          m.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function (t) {\r\n            m['is' + t] = function (e) {\r\n              return u.call(e) === '[object ' + t + ']'\r\n            }\r\n          }),\r\n          m.isArguments(arguments) ||\r\n            (m.isArguments = function (t) {\r\n              return m.has(t, 'callee')\r\n            }),\r\n          'object' != typeof Int8Array &&\r\n            (m.isFunction = function (t) {\r\n              return 'function' == typeof t || !1\r\n            }),\r\n          (m.isFinite = function (t) {\r\n            return isFinite(t) && !isNaN(parseFloat(t))\r\n          }),\r\n          (m.isNaN = function (t) {\r\n            return m.isNumber(t) && t !== +t\r\n          }),\r\n          (m.isBoolean = function (t) {\r\n            return !0 === t || !1 === t || '[object Boolean]' === u.call(t)\r\n          }),\r\n          (m.isNull = function (t) {\r\n            return null === t\r\n          }),\r\n          (m.isUndefined = function (t) {\r\n            return void 0 === t\r\n          }),\r\n          (m.has = function (t, e) {\r\n            return null != t && h.call(t, e)\r\n          }),\r\n          (m.noConflict = function () {\r\n            return (n._ = r), this\r\n          }),\r\n          (m.identity = function (t) {\r\n            return t\r\n          }),\r\n          (m.constant = function (t) {\r\n            return function () {\r\n              return t\r\n            }\r\n          }),\r\n          (m.noop = function () {}),\r\n          (m.property = C),\r\n          (m.propertyOf = function (t) {\r\n            return null == t\r\n              ? function () {}\r\n              : function (e) {\r\n                  return t[e]\r\n                }\r\n          }),\r\n          (m.matcher = m.matches = function (t) {\r\n            return (\r\n              (t = m.extendOwn({}, t)),\r\n              function (e) {\r\n                return m.isMatch(e, t)\r\n              }\r\n            )\r\n          }),\r\n          (m.times = function (t, e, n) {\r\n            var i = Array(Math.max(0, t))\r\n            e = y(e, n, 1)\r\n            for (var r = 0; r < t; r++) i[r] = e(r)\r\n            return i\r\n          }),\r\n          (m.random = function (t, e) {\r\n            return null == e && ((e = t), (t = 0)), t + Math.floor(Math.random() * (e - t + 1))\r\n          }),\r\n          (m.now =\r\n            Date.now ||\r\n            function () {\r\n              return new Date().getTime()\r\n            })\r\n        var F = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '\"': '&quot;', \"'\": '&#x27;', '`': '&#x60;' },\r\n          j = m.invert(F),\r\n          R = function (t) {\r\n            var e = function (e) {\r\n                return t[e]\r\n              },\r\n              n = '(?:' + m.keys(t).join('|') + ')',\r\n              i = RegExp(n),\r\n              r = RegExp(n, 'g')\r\n            return function (t) {\r\n              return (t = null == t ? '' : '' + t), i.test(t) ? t.replace(r, e) : t\r\n            }\r\n          }\r\n        ;(m.escape = R(F)),\r\n          (m.unescape = R(j)),\r\n          (m.result = function (t, e, n) {\r\n            var i = null == t ? void 0 : t[e]\r\n            return void 0 === i && (i = n), m.isFunction(i) ? i.call(t) : i\r\n          })\r\n        var z = 0\r\n        ;(m.uniqueId = function (t) {\r\n          var e = ++z + ''\r\n          return t ? t + e : e\r\n        }),\r\n          (m.templateSettings = {\r\n            evaluate: /<%([\\s\\S]+?)%>/g,\r\n            interpolate: /<%=([\\s\\S]+?)%>/g,\r\n            escape: /<%-([\\s\\S]+?)%>/g\r\n          })\r\n        var V = /(.)^/,\r\n          H = { \"'\": \"'\", '\\\\': '\\\\', '\\r': 'r', '\\n': 'n', '\\u2028': 'u2028', '\\u2029': 'u2029' },\r\n          $ = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g,\r\n          B = function (t) {\r\n            return '\\\\' + H[t]\r\n          }\r\n        ;(m.template = function (t, e, n) {\r\n          !e && n && (e = n), (e = m.defaults({}, e, m.templateSettings))\r\n          var i = RegExp(\r\n              [(e.escape || V).source, (e.interpolate || V).source, (e.evaluate || V).source].join('|') + '|$',\r\n              'g'\r\n            ),\r\n            r = 0,\r\n            o = \"__p+='\"\r\n          t.replace(i, function (e, n, i, s, a) {\r\n            return (\r\n              (o += t.slice(r, a).replace($, B)),\r\n              (r = a + e.length),\r\n              n\r\n                ? (o += \"'+\\n((__t=(\" + n + \"))==null?'':_.escape(__t))+\\n'\")\r\n                : i\r\n                ? (o += \"'+\\n((__t=(\" + i + \"))==null?'':__t)+\\n'\")\r\n                : s && (o += \"';\\n\" + s + \"\\n__p+='\"),\r\n              e\r\n            )\r\n          }),\r\n            (o += \"';\\n\"),\r\n            e.variable || (o = 'with(obj||{}){\\n' + o + '}\\n'),\r\n            (o =\r\n              \"var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\\n\" +\r\n              o +\r\n              'return __p;\\n')\r\n          try {\r\n            var s = new Function(e.variable || 'obj', '_', o)\r\n          } catch (t) {\r\n            throw ((t.source = o), t)\r\n          }\r\n          var a = function (t) {\r\n              return s.call(this, t, m)\r\n            },\r\n            l = e.variable || 'obj'\r\n          return (a.source = 'function(' + l + '){\\n' + o + '}'), a\r\n        }),\r\n          (m.chain = function (t) {\r\n            var e = m(t)\r\n            return (e._chain = !0), e\r\n          })\r\n        var W = function (t, e) {\r\n          return t._chain ? m(e).chain() : e\r\n        }\r\n        ;(m.mixin = function (t) {\r\n          m.each(m.functions(t), function (e) {\r\n            var n = (m[e] = t[e])\r\n            m.prototype[e] = function () {\r\n              var t = [this._wrapped]\r\n              return l.apply(t, arguments), W(this, n.apply(m, t))\r\n            }\r\n          })\r\n        }),\r\n          m.mixin(m),\r\n          m.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function (t) {\r\n            var e = o[t]\r\n            m.prototype[t] = function () {\r\n              var n = this._wrapped\r\n              return (\r\n                e.apply(n, arguments), ('shift' !== t && 'splice' !== t) || 0 !== n.length || delete n[0], W(this, n)\r\n              )\r\n            }\r\n          }),\r\n          m.each(['concat', 'join', 'slice'], function (t) {\r\n            var e = o[t]\r\n            m.prototype[t] = function () {\r\n              return W(this, e.apply(this._wrapped, arguments))\r\n            }\r\n          }),\r\n          (m.prototype.value = function () {\r\n            return this._wrapped\r\n          }),\r\n          (m.prototype.valueOf = m.prototype.toJSON = m.prototype.value),\r\n          (m.prototype.toString = function () {\r\n            return '' + this._wrapped\r\n          }),\r\n          void 0 ===\r\n            (i = function () {\r\n              return m\r\n            }.apply(e, [])) || (t.exports = i)\r\n      }.call(this))\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      Object.defineProperty(e, '__esModule', { value: !0 })\r\n      var i,\r\n        r = n(104),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      ;(window.Promise = window.Promise || o.default),\r\n        (e.default =\r\n          'function' == typeof fetch\r\n            ? fetch.bind()\r\n            : function (t, e) {\r\n                return new o.default(function (n, i) {\r\n                  var r = new XMLHttpRequest()\r\n                  for (var s in (r.open(e.method || 'get', t),\r\n                  (r.withCredentials = 'include' == e.credentials),\r\n                  e.headers || {}))\r\n                    r.setRequestHeader(s, e.headers[s])\r\n                  ;(r.onload = function (t) {\r\n                    return n({\r\n                      status: r.status,\r\n                      statusText: r.statusText,\r\n                      text: function () {\r\n                        return o.default.resolve(r.responseText)\r\n                      }\r\n                    })\r\n                  }),\r\n                    (r.onerror = i),\r\n                    r.upload && e.onProgress && (r.upload.onprogress = e.onProgress),\r\n                    e.body ? r.send(e.body) : r.send()\r\n                })\r\n              })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n        'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator\r\n          ? function (t) {\r\n              return typeof t\r\n            }\r\n          : function (t) {\r\n              return t && 'function' == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype\r\n                ? 'symbol'\r\n                : typeof t\r\n            }\r\n      t.exports = function (t) {\r\n        var e = t\r\n        return {\r\n          compTypes: '',\r\n          parseStyle: function (t) {\r\n            for (var e = {}, n = t.split(';'), i = 0, r = n.length; i < r; i++) {\r\n              var o = n[i].trim()\r\n              if (o) {\r\n                var s = o.split(':')\r\n                e[s[0].trim()] = s\r\n                  .slice(1)\r\n                  .join(':')\r\n                  .trim()\r\n              }\r\n            }\r\n            return e\r\n          },\r\n          parseClass: function (t) {\r\n            for (var e = [], n = t.split(' '), i = 0, r = n.length; i < r; i++) {\r\n              var o = n[i].trim()\r\n              o && e.push(o)\r\n            }\r\n            return e\r\n          },\r\n          parseNode: function (n) {\r\n            for (var r = [], o = n.childNodes, s = 0, a = o.length; s < a; s++) {\r\n              var l = o[s],\r\n                c = l.attributes || [],\r\n                u = c.length,\r\n                h = r[r.length - 1],\r\n                d = l.childNodes.length,\r\n                f = this.compTypes,\r\n                p = {}\r\n              if (f) {\r\n                var g = '',\r\n                  v = l.getAttribute && l.getAttribute('data-gjs-type')\r\n                if (v) p = { type: v }\r\n                else {\r\n                  for (var m = 0; m < f.length; m++) {\r\n                    var y = f[m]\r\n                    if ((g = y.model.isComponent(l))) {\r\n                      'object' !== (void 0 === g ? 'undefined' : i(g)) && (g = { type: y.id })\r\n                      break\r\n                    }\r\n                  }\r\n                  p = g\r\n                }\r\n              }\r\n              p.tagName || (p.tagName = l.tagName ? l.tagName.toLowerCase() : ''), u && (p.attributes = {})\r\n              for (var b = 0; b < u; b++) {\r\n                var x = c[b].nodeName,\r\n                  w = c[b].nodeValue\r\n                if ('style' == x) p.style = this.parseStyle(w)\r\n                else if ('class' == x) p.classes = this.parseClass(w)\r\n                else {\r\n                  if ('contenteditable' == x) continue\r\n                  if (0 === x.indexOf('data-gjs-')) {\r\n                    var C = x.replace('data-gjs-', ''),\r\n                      k = w.length,\r\n                      S = w && w.substr(0, 1),\r\n                      T = w && w.substr(k - 1)\r\n                    w = 'false' !== (w = 'true' === w || w) && w\r\n                    try {\r\n                      w = ('{' == S && '}' == T) || ('[' == S && ']' == T) ? JSON.parse(w) : w\r\n                    } catch (t) {}\r\n                    p[C] = w\r\n                  } else p.attributes[x] = w\r\n                }\r\n              }\r\n              if (d && !p.components) {\r\n                var E = l.childNodes[0]\r\n                1 === d && 3 === E.nodeType\r\n                  ? (!p.type && (p.type = 'text'), (p.content = E.nodeValue))\r\n                  : (p.components = this.parseNode(l))\r\n              }\r\n              if ('textnode' == p.type) {\r\n                if (h && 'textnode' == h.type) {\r\n                  h.content += p.content\r\n                  continue\r\n                }\r\n                if (!t.keepEmptyTextNodes) {\r\n                  var M = l.nodeValue\r\n                  if (' ' != M && !M.trim()) continue\r\n                }\r\n              }\r\n              var A = p.components\r\n              if (!p.type && A) {\r\n                for (var O = 1, P = 0, L = 0; L < A.length; L++) {\r\n                  var _ = A[L],\r\n                    N = _.type\r\n                  if (['text', 'textnode'].indexOf(N) < 0 && e.textTags.indexOf(_.tagName) < 0) {\r\n                    O = 0\r\n                    break\r\n                  }\r\n                  'textnode' == N && (P = 1)\r\n                }\r\n                O && P && (p.type = 'text')\r\n              }\r\n              ;(p.tagName || 'textnode' == p.type) && r.push(p)\r\n            }\r\n            return r\r\n          },\r\n          parse: function (t, n) {\r\n            var i = (e.em && e.em.get('Config')) || {},\r\n              r = { html: '', css: '' },\r\n              o = document.createElement('div')\r\n            o.innerHTML = t\r\n            var s = o.querySelectorAll('script'),\r\n              a = s.length\r\n            if (!i.allowScripts) for (; a--; ) s[a].parentNode.removeChild(s[a])\r\n            if (n) {\r\n              for (var l = '', c = o.querySelectorAll('style'), u = c.length; u--; )\r\n                (l = c[u].innerHTML + l), c[u].parentNode.removeChild(c[u])\r\n              l && (r.css = n.parse(l))\r\n            }\r\n            var h = this.parseNode(o)\r\n            return 1 == h.length && (h = h[0]), (r.html = h), r\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(1)\r\n      t.exports = function () {\r\n        var t,\r\n          e,\r\n          o = {},\r\n          s = n(118),\r\n          a = n(119),\r\n          l = n(14),\r\n          c = n(131),\r\n          u = void 0\r\n        return {\r\n          name: 'StyleManager',\r\n          getConfig: function () {\r\n            return o\r\n          },\r\n          init: function (n) {\r\n            for (var i in ((o = n || {}), s)) i in o || (o[i] = s[i])\r\n            var r = o.pStylePrefix\r\n            return (\r\n              r && (o.stylePrefix = r + o.stylePrefix),\r\n              (u = new l()),\r\n              (t = new a([], o)),\r\n              (e = new c({ collection: t, target: o.em, config: o })),\r\n              this\r\n            )\r\n          },\r\n          onLoad: function () {\r\n            t.add(o.sectors)\r\n          },\r\n          postRender: function () {\r\n            var t = this.getConfig().appendTo\r\n            t && ((0, r.isElement)(t) ? t : document.querySelector(t)).appendChild(this.render())\r\n          },\r\n          addSector: function (e, n) {\r\n            var i = this.getSector(e)\r\n            return i || ((n.id = e), (i = t.add(n))), i\r\n          },\r\n          getSector: function (e) {\r\n            var n = t.where({ id: e })\r\n            return n.length ? n[0] : null\r\n          },\r\n          removeSector: function (t) {\r\n            return this.getSectors().remove(this.getSector(t))\r\n          },\r\n          getSectors: function () {\r\n            return t\r\n          },\r\n          addProperty: function (t, e) {\r\n            var n = null,\r\n              i = this.getSector(t)\r\n            return i && (n = i.get('properties').add(e)), n\r\n          },\r\n          getProperty: function (t, e) {\r\n            var n = null,\r\n              i = this.getSector(t)\r\n            return i && (n = 1 == (n = i.get('properties').where({ property: e })).length ? n[0] : n), n\r\n          },\r\n          removeProperty: function (t, e) {\r\n            var n = this.getProperties(t)\r\n            return n && n.remove(this.getProperty(t, e))\r\n          },\r\n          getProperties: function (t) {\r\n            var e = null,\r\n              n = this.getSector(t)\r\n            return n && (e = n.get('properties')), e\r\n          },\r\n          getModelToStyle: function (t) {\r\n            var e = o.em,\r\n              n = t.get('classes'),\r\n              i = t.getId()\r\n            if (e) {\r\n              var r = e.getConfig(),\r\n                s = e.get('UndoManager'),\r\n                a = e.get('CssComposer'),\r\n                l = r.devicePreviewMode ? '' : t.get('state'),\r\n                c = n.getStyleable(),\r\n                u = c.length,\r\n                h = { state: l },\r\n                d = void 0\r\n              if ((s.stop(), u)) {\r\n                var f = e.getCurrentMedia()\r\n                ;(d = a.get(c, l, f)) || ((d = a.add(c, l, f)).setStyle(t.getStyle()), t.setStyle({}))\r\n              } else\r\n                r.avoidInlineStyle &&\r\n                  (!(d = a.getIdRule(i, h)) && (d = a.setIdRule(i, {}, h)), t.is('wrapper') && d.set('wrapper', 1))\r\n              d && (t = d), s.start()\r\n            }\r\n            return t\r\n          },\r\n          addType: function (t, e) {\r\n            u.addType(t, e)\r\n          },\r\n          getType: function (t) {\r\n            return u.getType(t)\r\n          },\r\n          getTypes: function () {\r\n            return u.getTypes()\r\n          },\r\n          createType: function (t) {\r\n            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n              n = e.model,\r\n              r = void 0 === n ? {} : n,\r\n              s = e.view,\r\n              a = void 0 === s ? {} : s,\r\n              l = this.getType(t)\r\n            if (l) return new l.view(i({ model: new l.model(r), config: o }, a))\r\n          },\r\n          setTarget: function (t, n) {\r\n            return e.setTarget(t, n)\r\n          },\r\n          getEmitter: function () {\r\n            return e.propTarget\r\n          },\r\n          render: function () {\r\n            return e.render().el\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      ;(function (t) {\r\n        Object.defineProperty(e, '__esModule', { value: !0 })\r\n        var i = n(1),\r\n          r = t.Model,\r\n          o = t.View\r\n        e.default = {\r\n          types: [],\r\n          initialize: function (t, e) {\r\n            var n = this\r\n            this.model = function () {\r\n              var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n                e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n                i = void 0,\r\n                r = void 0,\r\n                o = void 0\r\n              if (t && t.type) {\r\n                var s = n.getBaseType()\r\n                ;(i = (o = n.getType(t.type)) ? o.model : s.model), (r = o ? o.view : s.view)\r\n              } else {\r\n                var a = n.recognizeType(t)\r\n                ;(i = (o = a.type).model), (r = o.view), (t = a.attributes)\r\n              }\r\n              var l = new i(t, e)\r\n              return (l.typeView = r), l\r\n            }\r\n            var i = this.init && this.init.bind(this)\r\n            i && i()\r\n          },\r\n          recognizeType: function (t) {\r\n            for (var e = this.getTypes(), n = 0; n < e.length; n++) {\r\n              var i = e[n],\r\n                r = i.isType(t)\r\n              if ((r = 'boolean' == typeof r && r ? { type: i.id } : r)) return { type: i, attributes: r }\r\n            }\r\n            return { type: this.getBaseType(), attributes: t }\r\n          },\r\n          getBaseType: function () {\r\n            var t = this.getTypes()\r\n            return t[t.length - 1]\r\n          },\r\n          getTypes: function () {\r\n            return this.types\r\n          },\r\n          getType: function (t) {\r\n            for (var e = this.getTypes(), n = 0; n < e.length; n++) {\r\n              var i = e[n]\r\n              if (i.id === t) return i\r\n            }\r\n          },\r\n          addType: function (t, e) {\r\n            var n = this.getType(t),\r\n              s = this.getBaseType(),\r\n              a = n ? n.model : s.model,\r\n              l = n ? n.view : s.view,\r\n              c = e.model,\r\n              u = e.view,\r\n              h = e.isType\r\n            ;(c = c instanceof r || (0, i.isFunction)(c) ? c : a.extend(c || {})),\r\n              (u = u instanceof o || (0, i.isFunction)(u) ? u : l.extend(u || {})),\r\n              n\r\n                ? ((n.model = c), (n.view = u), (n.isType = h || n.isType))\r\n                : ((e.id = t),\r\n                  (e.model = c),\r\n                  (e.view = u),\r\n                  (e.isType =\r\n                    h ||\r\n                    function (e) {\r\n                      if (e && e.type == t) return !0\r\n                    }),\r\n                  this.getTypes().unshift(e))\r\n          }\r\n        }\r\n      }.call(this, n(0)))\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(15)\r\n      t.exports = r.extend({\r\n        defaults: i({}, r.prototype.defaults, { detached: 0, properties: [], separator: ' ' }),\r\n        initialize: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n          r.callParentInit(r, this, t, e)\r\n          var i = this.get('properties') || [],\r\n            o = n(14)\r\n          this.set('properties', new o(i)),\r\n            this.listenTo(this, 'change:value', this.updateValues),\r\n            r.callInit(this, t, e)\r\n        },\r\n        clearValue: function () {\r\n          arguments.length > 0 && void 0 !== arguments[0] && arguments[0]\r\n          return (\r\n            this.get('properties').each(function (t) {\r\n              return t.clearValue()\r\n            }),\r\n            r.prototype.clearValue.apply(this, arguments)\r\n          )\r\n        },\r\n        updateValues: function () {\r\n          var t = this.getFullValue().split(this.getSplitSeparator())\r\n          this.get('properties').each(function (e, n) {\r\n            var i = t.length\r\n            t[n] || t[(n % i) + (1 != i && i % 2 ? 1 : 0)]\r\n          })\r\n        },\r\n        getSplitSeparator: function () {\r\n          return new RegExp(this.get('separator') + '(?![^\\\\(]*\\\\))')\r\n        },\r\n        getDefaultValue: function (t) {\r\n          var e = this.get('defaults')\r\n          return e && !t\r\n            ? e\r\n            : ((e = ''),\r\n              this.get('properties').each(function (t, n) {\r\n                return (e += t.getDefaultValue() + ' ')\r\n              }),\r\n              e.trim())\r\n        },\r\n        getFullValue: function () {\r\n          return this.get('detached') ? '' : this.get('properties').getFullValue()\r\n        },\r\n        getPropertyAt: function (t) {\r\n          return this.get('properties').at(t)\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(21),\r\n        r = n(125)\r\n      t.exports = i.extend({\r\n        templateInput: function () {\r\n          var t = this.pfx\r\n          this.ppfx\r\n          return (\r\n            '\\n      <div class=\"' +\r\n            t +\r\n            'field ' +\r\n            t +\r\n            'stack\">\\n        <button type=\"button\" id=\"' +\r\n            t +\r\n            'add\" data-add-layer>+</button>\\n        <div data-layers-wrapper></div>\\n      </div>\\n    '\r\n          )\r\n        },\r\n        init: function () {\r\n          var t = this.model\r\n          this.pfx\r\n          t.set('stackIndex', null),\r\n            (this.events['click [data-add-layer]'] = 'addLayer'),\r\n            this.listenTo(t, 'change:stackIndex', this.indexChanged),\r\n            this.listenTo(t, 'updateValue', this.inputValueChanged),\r\n            this.delegateEvents()\r\n        },\r\n        clear: function (t) {\r\n          t && t.stopPropagation(), this.model.get('layers').reset(), this.model.clearValue(), this.targetUpdated()\r\n        },\r\n        targetUpdated: function () {\r\n          if (this.model.get('detached')) this.checkVisibility()\r\n          else {\r\n            for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n            i.prototype.targetUpdated.apply(this, e)\r\n          }\r\n          this.refreshLayers()\r\n        },\r\n        getLayers: function () {\r\n          return this.model.get('layers')\r\n        },\r\n        indexChanged: function (t) {\r\n          var e = this.model\r\n          this.getLayers().active(e.get('stackIndex'))\r\n        },\r\n        addLayer: function () {\r\n          var t = this.model,\r\n            e = this.getLayers(),\r\n            n = t.get('properties').deepClone()\r\n          n.each(function (t) {\r\n            return t.set('value', '')\r\n          })\r\n          var i = e.add({ properties: n })\r\n          this.inputValueChanged(), t.set('stackIndex', e.indexOf(i))\r\n        },\r\n        inputValueChanged: function () {\r\n          var t = this.model\r\n          this.elementUpdated(),\r\n            t.get('detached')\r\n              ? t.get('properties').each(function (t) {\r\n                  return t.trigger('change:value')\r\n                })\r\n              : t.set('value', this.getLayerValues())\r\n        },\r\n        setValue: function () {},\r\n        getLayerValues: function () {\r\n          return this.getLayers().getFullValue()\r\n        },\r\n        refreshLayers: function () {\r\n          var t = [],\r\n            e = this.model,\r\n            n = this.getLayers(),\r\n            i = e.get('detached'),\r\n            r = this.getTarget()\r\n          if (i) {\r\n            var o = r ? r.getStyle() : {}\r\n            t = n.getLayersFromStyle(o)\r\n          } else {\r\n            var s = this.getTargetValue()\r\n            ;(s = s == e.getDefaultValue() ? '' : s), (t = n.getLayersFromValue(s))\r\n          }\r\n          var a = e.getLayersFromTarget(r) || t\r\n          n.reset(), n.add(a), e.set({ stackIndex: null }, { silent: !0 })\r\n        },\r\n        onRender: function () {\r\n          var t = this,\r\n            e = this.model,\r\n            i = this.el.querySelector('[data-layers-wrapper]'),\r\n            o = n(16),\r\n            s = {\r\n              target: this.target,\r\n              propTarget: this.propTarget,\r\n              onChange: function (n, i, r) {\r\n                var o = i.model\r\n                if (e.get('detached')) {\r\n                  var s = o.get('property'),\r\n                    a = t.getLayers().getPropertyValues(s)\r\n                  i.updateTargetStyle(a, null, r)\r\n                } else e.set('value', e.getFullValue(), r)\r\n              }\r\n            },\r\n            a = new r({\r\n              collection: this.getLayers(),\r\n              stackModel: e,\r\n              preview: e.get('preview'),\r\n              config: this.config,\r\n              propsConfig: s\r\n            }).render().el\r\n          new o({\r\n            target: this.target,\r\n            collection: this.model.get('properties'),\r\n            stackModel: e,\r\n            config: this.config,\r\n            onChange: s.onChange,\r\n            propTarget: s.propTarget,\r\n            customValue: s.customValue\r\n          }).render(),\r\n            i.appendChild(a)\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(0),\r\n        r = i.$\r\n      t.exports = i.View.extend({\r\n        events: { change: 'handleChange' },\r\n        template: function () {\r\n          return '<span class=\"' + this.holderClass() + '\"></span>'\r\n        },\r\n        inputClass: function () {\r\n          return this.ppfx + 'field'\r\n        },\r\n        holderClass: function () {\r\n          return this.ppfx + 'input-holder'\r\n        },\r\n        initialize: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            e = t.ppfx || ''\r\n          ;(this.opts = t),\r\n            (this.ppfx = e),\r\n            (this.em = t.target || {}),\r\n            this.listenTo(this.model, 'change:value', this.handleModelChange)\r\n        },\r\n        elementUpdated: function () {\r\n          this.model.trigger('el:change')\r\n        },\r\n        setValue: function (t) {\r\n          var e = this.model,\r\n            n = t || e.get('defaults'),\r\n            i = this.getInputEl()\r\n          i && (i.value = n)\r\n        },\r\n        handleModelChange: function (t, e, n) {\r\n          this.setValue(e, n)\r\n        },\r\n        handleChange: function (t) {\r\n          t.stopPropagation()\r\n          var e = this.getInputEl().value\r\n          this.model.set({ value: e }, { fromInput: 1 }), this.elementUpdated()\r\n        },\r\n        getInputEl: function () {\r\n          if (!this.inputEl) {\r\n            var t = this.model.get('defaults') || ''\r\n            this.inputEl = r('<input type=\"text\" placeholder=\"' + t + '\">')\r\n          }\r\n          return this.inputEl.get(0)\r\n        },\r\n        render: function () {\r\n          this.inputEl = null\r\n          var t = this.$el\r\n          return (\r\n            t.addClass(this.inputClass()),\r\n            t.html(this.template()),\r\n            t.find('.' + this.holderClass()).append(this.getInputEl()),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = n(5).extend({\r\n        templateInput: function () {\r\n          this.pfx\r\n          var t = this.ppfx\r\n          return '\\n      <div class=\"' + t + 'field ' + t + 'field-radio\">\\n      </div>\\n    '\r\n        },\r\n        onRender: function () {\r\n          var t = this.pfx,\r\n            e = this.ppfx,\r\n            n = e + 'radio-item-label',\r\n            i = this.model,\r\n            r = i.get('property'),\r\n            o = i.get('list') || i.get('options') || []\r\n          if (!this.input && o && o.length) {\r\n            var s = ''\r\n            o.forEach(function (i) {\r\n              var o = i.className ? i.className + ' ' + t + 'icon ' + n : '',\r\n                a = r + '-' + i.value,\r\n                l = i.name || i.value,\r\n                c = i.title ? 'title=\"' + i.title + '\"' : ''\r\n              s +=\r\n                '\\n            <div class=\"' +\r\n                e +\r\n                'radio-item\">\\n              <input type=\"radio\" class=\"' +\r\n                t +\r\n                'radio\" id=\"' +\r\n                a +\r\n                '\" name=\"' +\r\n                r +\r\n                '\" value=\"' +\r\n                i.value +\r\n                '\"/>\\n              <label class=\"' +\r\n                (o || n) +\r\n                '\" ' +\r\n                c +\r\n                ' for=\"' +\r\n                a +\r\n                '\">' +\r\n                (o ? '' : l) +\r\n                '</label>\\n            </div>\\n          '\r\n            })\r\n            var a = this.el.querySelector('.' + e + 'field')\r\n            ;(a.innerHTML = '<div class=\"' + e + 'radio-items\">' + s + '</div>'), (this.input = a.firstChild)\r\n          }\r\n        },\r\n        getInputValue: function () {\r\n          var t = this.getCheckedEl()\r\n          return t ? t.value : ''\r\n        },\r\n        getCheckedEl: function () {\r\n          var t = this.getInputEl()\r\n          return t ? t.querySelector('input:checked') : ''\r\n        },\r\n        setValue: function (t) {\r\n          var e = this.model,\r\n            n = t || e.get('value') || e.getDefaultValue(),\r\n            i = this.getInputEl(),\r\n            r = i ? i.querySelector('[value=\"' + n + '\"]') : ''\r\n          if (r) r.checked = !0\r\n          else {\r\n            var o = this.getCheckedEl()\r\n            o && (o.checked = !1)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      var s = n(5)\r\n      o.default.$\r\n      t.exports = s.extend({\r\n        templateInput: function () {\r\n          var t = this.pfx,\r\n            e = this.ppfx\r\n          return (\r\n            '\\n      <div class=\"' +\r\n            e +\r\n            'field ' +\r\n            e +\r\n            'select\">\\n        <span id=\"' +\r\n            t +\r\n            'input-holder\"></span>\\n        <div class=\"' +\r\n            e +\r\n            'sel-arrow\">\\n          <div class=\"' +\r\n            e +\r\n            'd-s-arrow\"></div>\\n        </div>\\n      </div>\\n    '\r\n          )\r\n        },\r\n        initialize: function () {\r\n          for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n          s.prototype.initialize.apply(this, e), this.listenTo(this.model, 'change:options', this.updateOptions)\r\n        },\r\n        updateOptions: function () {\r\n          ;(this.input = null), this.onRender()\r\n        },\r\n        onRender: function () {\r\n          var t = this.pfx,\r\n            e = this.model.getOptions()\r\n          if (!this.input) {\r\n            var n = ''\r\n            e.forEach(function (t) {\r\n              var e = t.name || t.value,\r\n                i = t.style ? t.style.replace(/\"/g, '&quot;') : '',\r\n                r = i ? 'style=\"' + i + '\"' : '',\r\n                o = t.value.replace(/\"/g, '&quot;')\r\n              n += '<option value=\"' + o + '\" ' + r + '>' + e + '</option>'\r\n            })\r\n            var i = this.el.querySelector('#' + t + 'input-holder')\r\n            ;(i.innerHTML = '<select>' + n + '</select>'), (this.input = i.firstChild)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(57)\r\n      t.exports = n(17).extend({\r\n        setValue: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n          ;(e = i({}, e, { silent: 1 })), this.inputInst.setValue(t, e)\r\n        },\r\n        onRender: function () {\r\n          if (!this.input) {\r\n            var t = this.ppfx,\r\n              e = new r({ target: this.target, model: this.model, ppfx: t }).render()\r\n            this.el.querySelector('.' + t + 'fields').appendChild(e.el),\r\n              (this.$input = e.inputEl),\r\n              (this.$color = e.colorEl),\r\n              (this.input = this.$input.get(0)),\r\n              (this.inputInst = e)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = a(n(0)),\r\n        o = n(1),\r\n        s = a(n(124))\r\n      function a (t) {\r\n        return t && t.__esModule ? t : { default: t }\r\n      }\r\n      var l = n(53),\r\n        c = r.default.$\r\n      ;(0, s.default)(c),\r\n        (t.exports = l.extend({\r\n          template: function () {\r\n            var t = this.ppfx\r\n            return (\r\n              '\\n      <div class=\"' +\r\n              this.holderClass() +\r\n              '\"></div>\\n      <div class=\"' +\r\n              t +\r\n              'field-colorp\">\\n        <div class=\"' +\r\n              t +\r\n              'field-colorp-c\" data-colorp-c>\\n          <div class=\"' +\r\n              t +\r\n              'checker-bg\"></div>\\n        </div>\\n      </div>\\n    '\r\n            )\r\n          },\r\n          inputClass: function () {\r\n            var t = this.ppfx\r\n            return t + 'field ' + t + 'field-color'\r\n          },\r\n          holderClass: function () {\r\n            return this.ppfx + 'input-holder'\r\n          },\r\n          setValue: function (t) {\r\n            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n              n = this.model.get('defaults'),\r\n              i = (0, o.isUndefined)(t) ? ((0, o.isUndefined)(n) ? '' : n) : t,\r\n              r = this.getInputEl(),\r\n              s = this.getColorEl(),\r\n              a = 'none' != i ? i : ''\r\n            ;(r.value = i),\r\n              (s.get(0).style.backgroundColor = a),\r\n              e.fromTarget && (s.spectrum('set', a), (this.noneColor = 'none' == i))\r\n          },\r\n          getColorEl: function () {\r\n            if (!this.colorEl) {\r\n              var t = this,\r\n                e = this.ppfx,\r\n                n = this.model,\r\n                r = c('<div class=\"' + this.ppfx + 'field-color-picker\"></div>'),\r\n                o = r.get(0).style,\r\n                s = this.em && this.em.config ? this.em.config.el : '',\r\n                a = (this.em && this.em.getConfig && this.em.getConfig('colorPicker')) || {},\r\n                l = function (t) {\r\n                  return (1 == t.getAlpha() ? t.toHexString() : t.toRgbString()).replace(/ /g, '')\r\n                },\r\n                u = 0,\r\n                h = void 0\r\n              this.$el.find('[data-colorp-c]').append(r),\r\n                r.spectrum(\r\n                  i(\r\n                    {\r\n                      containerClassName: e + 'one-bg ' + e + 'two-color',\r\n                      appendTo: s || 'body',\r\n                      maxSelectionSize: 8,\r\n                      showPalette: !0,\r\n                      showAlpha: !0,\r\n                      chooseText: 'Ok',\r\n                      cancelText: '',\r\n                      palette: []\r\n                    },\r\n                    a,\r\n                    {\r\n                      move: function (t) {\r\n                        var e = l(t)\r\n                        ;(o.backgroundColor = e), n.setValueFromInput(e, 0)\r\n                      },\r\n                      change: function (e) {\r\n                        u = 1\r\n                        var i = l(e)\r\n                        ;(o.backgroundColor = i), n.setValueFromInput(i), (t.noneColor = 0)\r\n                      },\r\n                      show: function (t) {\r\n                        ;(u = 0), (h = l(t))\r\n                      },\r\n                      hide: function (e) {\r\n                        !u &&\r\n                          h &&\r\n                          (t.noneColor && (h = ''),\r\n                          (o.backgroundColor = h),\r\n                          r.spectrum('set', h),\r\n                          n.setValueFromInput(h, 0))\r\n                      }\r\n                    }\r\n                  )\r\n                ),\r\n                (this.colorEl = r)\r\n            }\r\n            return this.colorEl\r\n          },\r\n          render: function () {\r\n            return l.prototype.render.call(this), this.getColorEl(), this\r\n          }\r\n        }))\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(1),\r\n        o = n(0),\r\n        s = (i = o) && i.__esModule ? i : { default: i }\r\n      var a = n(5),\r\n        l = s.default.$\r\n      t.exports = a.extend({\r\n        templateInput: function () {\r\n          var t = this.pfx\r\n          this.ppfx\r\n          return (\r\n            '\\n    <div class=\"' +\r\n            t +\r\n            'field ' +\r\n            t +\r\n            'file\">\\n      <div id=\\'' +\r\n            t +\r\n            'input-holder\\'>\\n        <div class=\"' +\r\n            t +\r\n            'btn-c\">\\n          <button class=\"' +\r\n            t +\r\n            'btn\" id=\"' +\r\n            t +\r\n            'images\" type=\"button\">\\n            ' +\r\n            (this.config.assetsLabel || 'Images') +\r\n            '\\n          </button>\\n        </div>\\n        <div style=\"clear:both;\"></div>\\n      </div>\\n      <div id=\"' +\r\n            t +\r\n            'preview-box\">\\n        <div id=\"' +\r\n            t +\r\n            'preview-file\"></div>\\n        <div id=\"' +\r\n            t +\r\n            'close\">&Cross;</div>\\n      </div>\\n    </div>\\n    '\r\n          )\r\n        },\r\n        init: function () {\r\n          var t = this.em\r\n          ;(this.modal = t.get('Modal')),\r\n            (this.am = t.get('AssetManager')),\r\n            (this.events['click #' + this.pfx + 'close'] = 'removeFile'),\r\n            (this.events['click #' + this.pfx + 'images'] = 'openAssetManager'),\r\n            this.delegateEvents()\r\n        },\r\n        onRender: function () {\r\n          if (!this.$input) {\r\n            var t = this.model.getDefaultValue()\r\n            this.$input = l('<input placeholder=\"' + t + '\">')\r\n          }\r\n          this.$preview || (this.$preview = this.$el.find('#' + this.pfx + 'preview-file')),\r\n            this.$previewBox || (this.$previewBox = this.$el.find('#' + this.pfx + 'preview-box')),\r\n            this.setValue(this.componentValue, 0)\r\n        },\r\n        clearCached: function () {\r\n          a.prototype.clearCached.apply(this, arguments), (this.$preview = null), (this.$previewBox = null)\r\n        },\r\n        setValue: function (t, e) {\r\n          a.prototype.setValue.apply(this, arguments),\r\n            this.setPreviewView(t && t != this.model.getDefaultValue()),\r\n            this.setPreview(t)\r\n        },\r\n        setPreviewView: function (t) {\r\n          var e = this.$previewBox\r\n          e && e[t ? 'addClass' : 'removeClass'](this.pfx + 'show')\r\n        },\r\n        spreadUrl: function (t) {\r\n          this.model.set('value', t), this.setPreviewView(1)\r\n        },\r\n        setPreview: function (t) {\r\n          var e = this.$preview\r\n          ;(t = t && t.indexOf('url(') < 0 ? 'url(' + t + ')' : t), e && e.css('background-image', t)\r\n        },\r\n        cleanValue: function () {\r\n          this.setPreviewView(0), this.model.set({ value: '' }, { silent: !0 })\r\n        },\r\n        removeFile: function () {\r\n          this.model.set('value', this.model.getDefaultValue())\r\n          for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n          a.prototype.cleanValue.apply(this, e), this.setPreviewView(0)\r\n        },\r\n        openAssetManager: function (t) {\r\n          var e = this,\r\n            n = this.em,\r\n            i = this.modal,\r\n            o = n ? n.get('Editor') : ''\r\n          o &&\r\n            o.runCommand('open-assets', {\r\n              types: ['image'],\r\n              accept: 'image/*',\r\n              target: this.getTargetModel(),\r\n              onClick: function () {},\r\n              onDblClick: function () {},\r\n              onSelect: function (t) {\r\n                i.close()\r\n                var n = (0, r.isString)(t) ? t : t.get('src')\r\n                e.spreadUrl(n)\r\n              }\r\n            })\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n        Object.assign ||\r\n        function (t) {\r\n          for (var e = 1; e < arguments.length; e++) {\r\n            var n = arguments[e]\r\n            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n          }\r\n          return t\r\n        }\r\n      var r = n(15)\r\n      t.exports = r.extend({\r\n        defaults: function () {\r\n          return i({}, r.prototype.defaults, { options: [], full: 1 })\r\n        },\r\n        initialize: function () {\r\n          for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n          r.prototype.initialize.apply(this, e), this.listenTo(this, 'change:options', this.onOptionChange)\r\n        },\r\n        onOptionChange: function () {\r\n          this.set('list', this.get('options'))\r\n        },\r\n        getOptions: function () {\r\n          var t = this.attributes,\r\n            e = t.options,\r\n            n = t.list\r\n          return e && e.length ? e : n\r\n        },\r\n        setOptions: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []\r\n          return this.set('options', t), this\r\n        },\r\n        addOption: function (t) {\r\n          if (t) {\r\n            var e = this.getOptions()\r\n            this.setOptions(\r\n              [].concat(\r\n                (function (t) {\r\n                  if (Array.isArray(t)) {\r\n                    for (var e = 0, n = Array(t.length); e < t.length; e++) n[e] = t[e]\r\n                    return n\r\n                  }\r\n                  return Array.from(t)\r\n                })(e),\r\n                [t]\r\n              )\r\n            )\r\n          }\r\n          return this\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(1),\r\n        o = n(15),\r\n        s = n(22)\r\n      t.exports = o.extend({\r\n        defaults: i({}, o.prototype.defaults, { units: [], unit: '', step: 1, min: '', max: '' }),\r\n        init: function () {\r\n          var t = this.get('unit'),\r\n            e = this.get('units')\r\n          ;(this.input = new s({ model: this })), e.length && !t && this.set('unit', e[0])\r\n        },\r\n        clearValue: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n          return this.set({ value: void 0, unit: void 0 }, t), this\r\n        },\r\n        parseValue: function (t) {\r\n          var e = o.prototype.parseValue.apply(this, arguments),\r\n            n = this.input.validateInputValue(e.value, { deepCheck: 1 }),\r\n            i = n.value,\r\n            r = n.unit\r\n          return (e.value = i), (e.unit = r), e\r\n        },\r\n        getFullValue: function () {\r\n          var t = this.get('value'),\r\n            e = this.get('unit')\r\n          return (\r\n            (t = '' + (t = (0, r.isUndefined)(t) ? '' : t) + (e = !(0, r.isUndefined)(e) && t ? e : '')),\r\n            o.prototype.getFullValue.apply(this, [t])\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      !(function (t) {\r\n        'use strict'\r\n        function e (t) {\r\n          for (var e = {}, n = 0; n < t.length; ++n) e[t[n].toLowerCase()] = !0\r\n          return e\r\n        }\r\n        t.defineMode('css', function (e, n) {\r\n          var i = n.inline\r\n          n.propertyKeywords || (n = t.resolveMode('text/css'))\r\n          var r,\r\n            o,\r\n            s = e.indentUnit,\r\n            a = n.tokenHooks,\r\n            l = n.documentTypes || {},\r\n            c = n.mediaTypes || {},\r\n            u = n.mediaFeatures || {},\r\n            h = n.mediaValueKeywords || {},\r\n            d = n.propertyKeywords || {},\r\n            f = n.nonStandardPropertyKeywords || {},\r\n            p = n.fontProperties || {},\r\n            g = n.counterDescriptors || {},\r\n            v = n.colorKeywords || {},\r\n            m = n.valueKeywords || {},\r\n            y = n.allowNested,\r\n            b = n.lineComment,\r\n            x = !0 === n.supportsAtComponent\r\n          function w (t, e) {\r\n            return (r = e), t\r\n          }\r\n          function C (t) {\r\n            return function (e, n) {\r\n              for (var i, r = !1; null != (i = e.next()); ) {\r\n                if (i == t && !r) {\r\n                  ')' == t && e.backUp(1)\r\n                  break\r\n                }\r\n                r = !r && '\\\\' == i\r\n              }\r\n              return (i == t || (!r && ')' != t)) && (n.tokenize = null), w('string', 'string')\r\n            }\r\n          }\r\n          function k (t, e) {\r\n            return t.next(), t.match(/\\s*[\\\"\\')]/, !1) ? (e.tokenize = null) : (e.tokenize = C(')')), w(null, '(')\r\n          }\r\n          function S (t, e, n) {\r\n            ;(this.type = t), (this.indent = e), (this.prev = n)\r\n          }\r\n          function T (t, e, n, i) {\r\n            return (t.context = new S(n, e.indentation() + (!1 === i ? 0 : s), t.context)), n\r\n          }\r\n          function E (t) {\r\n            return t.context.prev && (t.context = t.context.prev), t.context.type\r\n          }\r\n          function M (t, e, n) {\r\n            return P[n.context.type](t, e, n)\r\n          }\r\n          function A (t, e, n, i) {\r\n            for (var r = i || 1; r > 0; r--) n.context = n.context.prev\r\n            return M(t, e, n)\r\n          }\r\n          function O (t) {\r\n            var e = t.current().toLowerCase()\r\n            o = m.hasOwnProperty(e) ? 'atom' : v.hasOwnProperty(e) ? 'keyword' : 'variable'\r\n          }\r\n          var P = {\r\n            top: function (t, e, n) {\r\n              if ('{' == t) return T(n, e, 'block')\r\n              if ('}' == t && n.context.prev) return E(n)\r\n              if (x && /@component/i.test(t)) return T(n, e, 'atComponentBlock')\r\n              if (/^@(-moz-)?document$/i.test(t)) return T(n, e, 'documentTypes')\r\n              if (/^@(media|supports|(-moz-)?document|import)$/i.test(t)) return T(n, e, 'atBlock')\r\n              if (/^@(font-face|counter-style)/i.test(t)) return (n.stateArg = t), 'restricted_atBlock_before'\r\n              if (/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(t)) return 'keyframes'\r\n              if (t && '@' == t.charAt(0)) return T(n, e, 'at')\r\n              if ('hash' == t) o = 'builtin'\r\n              else if ('word' == t) o = 'tag'\r\n              else {\r\n                if ('variable-definition' == t) return 'maybeprop'\r\n                if ('interpolation' == t) return T(n, e, 'interpolation')\r\n                if (':' == t) return 'pseudo'\r\n                if (y && '(' == t) return T(n, e, 'parens')\r\n              }\r\n              return n.context.type\r\n            },\r\n            block: function (t, e, n) {\r\n              if ('word' == t) {\r\n                var i = e.current().toLowerCase()\r\n                return d.hasOwnProperty(i)\r\n                  ? ((o = 'property'), 'maybeprop')\r\n                  : f.hasOwnProperty(i)\r\n                  ? ((o = 'string-2'), 'maybeprop')\r\n                  : y\r\n                  ? ((o = e.match(/^\\s*:(?:\\s|$)/, !1) ? 'property' : 'tag'), 'block')\r\n                  : ((o += ' error'), 'maybeprop')\r\n              }\r\n              return 'meta' == t\r\n                ? 'block'\r\n                : y || ('hash' != t && 'qualifier' != t)\r\n                ? P.top(t, e, n)\r\n                : ((o = 'error'), 'block')\r\n            },\r\n            maybeprop: function (t, e, n) {\r\n              return ':' == t ? T(n, e, 'prop') : M(t, e, n)\r\n            },\r\n            prop: function (t, e, n) {\r\n              if (';' == t) return E(n)\r\n              if ('{' == t && y) return T(n, e, 'propBlock')\r\n              if ('}' == t || '{' == t) return A(t, e, n)\r\n              if ('(' == t) return T(n, e, 'parens')\r\n              if ('hash' != t || /^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(e.current())) {\r\n                if ('word' == t) O(e)\r\n                else if ('interpolation' == t) return T(n, e, 'interpolation')\r\n              } else o += ' error'\r\n              return 'prop'\r\n            },\r\n            propBlock: function (t, e, n) {\r\n              return '}' == t ? E(n) : 'word' == t ? ((o = 'property'), 'maybeprop') : n.context.type\r\n            },\r\n            parens: function (t, e, n) {\r\n              return '{' == t || '}' == t\r\n                ? A(t, e, n)\r\n                : ')' == t\r\n                ? E(n)\r\n                : '(' == t\r\n                ? T(n, e, 'parens')\r\n                : 'interpolation' == t\r\n                ? T(n, e, 'interpolation')\r\n                : ('word' == t && O(e), 'parens')\r\n            },\r\n            pseudo: function (t, e, n) {\r\n              return 'meta' == t ? 'pseudo' : 'word' == t ? ((o = 'variable-3'), n.context.type) : M(t, e, n)\r\n            },\r\n            documentTypes: function (t, e, n) {\r\n              return 'word' == t && l.hasOwnProperty(e.current()) ? ((o = 'tag'), n.context.type) : P.atBlock(t, e, n)\r\n            },\r\n            atBlock: function (t, e, n) {\r\n              if ('(' == t) return T(n, e, 'atBlock_parens')\r\n              if ('}' == t || ';' == t) return A(t, e, n)\r\n              if ('{' == t) return E(n) && T(n, e, y ? 'block' : 'top')\r\n              if ('interpolation' == t) return T(n, e, 'interpolation')\r\n              if ('word' == t) {\r\n                var i = e.current().toLowerCase()\r\n                o =\r\n                  'only' == i || 'not' == i || 'and' == i || 'or' == i\r\n                    ? 'keyword'\r\n                    : c.hasOwnProperty(i)\r\n                    ? 'attribute'\r\n                    : u.hasOwnProperty(i)\r\n                    ? 'property'\r\n                    : h.hasOwnProperty(i)\r\n                    ? 'keyword'\r\n                    : d.hasOwnProperty(i)\r\n                    ? 'property'\r\n                    : f.hasOwnProperty(i)\r\n                    ? 'string-2'\r\n                    : m.hasOwnProperty(i)\r\n                    ? 'atom'\r\n                    : v.hasOwnProperty(i)\r\n                    ? 'keyword'\r\n                    : 'error'\r\n              }\r\n              return n.context.type\r\n            },\r\n            atComponentBlock: function (t, e, n) {\r\n              return '}' == t\r\n                ? A(t, e, n)\r\n                : '{' == t\r\n                ? E(n) && T(n, e, y ? 'block' : 'top', !1)\r\n                : ('word' == t && (o = 'error'), n.context.type)\r\n            },\r\n            atBlock_parens: function (t, e, n) {\r\n              return ')' == t ? E(n) : '{' == t || '}' == t ? A(t, e, n, 2) : P.atBlock(t, e, n)\r\n            },\r\n            restricted_atBlock_before: function (t, e, n) {\r\n              return '{' == t\r\n                ? T(n, e, 'restricted_atBlock')\r\n                : 'word' == t && '@counter-style' == n.stateArg\r\n                ? ((o = 'variable'), 'restricted_atBlock_before')\r\n                : M(t, e, n)\r\n            },\r\n            restricted_atBlock: function (t, e, n) {\r\n              return '}' == t\r\n                ? ((n.stateArg = null), E(n))\r\n                : 'word' == t\r\n                ? ((o =\r\n                    ('@font-face' == n.stateArg && !p.hasOwnProperty(e.current().toLowerCase())) ||\r\n                    ('@counter-style' == n.stateArg && !g.hasOwnProperty(e.current().toLowerCase()))\r\n                      ? 'error'\r\n                      : 'property'),\r\n                  'maybeprop')\r\n                : 'restricted_atBlock'\r\n            },\r\n            keyframes: function (t, e, n) {\r\n              return 'word' == t ? ((o = 'variable'), 'keyframes') : '{' == t ? T(n, e, 'top') : M(t, e, n)\r\n            },\r\n            at: function (t, e, n) {\r\n              return ';' == t\r\n                ? E(n)\r\n                : '{' == t || '}' == t\r\n                ? A(t, e, n)\r\n                : ('word' == t ? (o = 'tag') : 'hash' == t && (o = 'builtin'), 'at')\r\n            },\r\n            interpolation: function (t, e, n) {\r\n              return '}' == t\r\n                ? E(n)\r\n                : '{' == t || ';' == t\r\n                ? A(t, e, n)\r\n                : ('word' == t ? (o = 'variable') : 'variable' != t && '(' != t && ')' != t && (o = 'error'),\r\n                  'interpolation')\r\n            }\r\n          }\r\n          return {\r\n            startState: function (t) {\r\n              return {\r\n                tokenize: null,\r\n                state: i ? 'block' : 'top',\r\n                stateArg: null,\r\n                context: new S(i ? 'block' : 'top', t || 0, null)\r\n              }\r\n            },\r\n            token: function (t, e) {\r\n              if (!e.tokenize && t.eatSpace()) return null\r\n              var n = (e.tokenize ||\r\n                function (t, e) {\r\n                  var n = t.next()\r\n                  if (a[n]) {\r\n                    var i = a[n](t, e)\r\n                    if (!1 !== i) return i\r\n                  }\r\n                  return '@' == n\r\n                    ? (t.eatWhile(/[\\w\\\\\\-]/), w('def', t.current()))\r\n                    : '=' == n || (('~' == n || '|' == n) && t.eat('='))\r\n                    ? w(null, 'compare')\r\n                    : '\"' == n || \"'\" == n\r\n                    ? ((e.tokenize = C(n)), e.tokenize(t, e))\r\n                    : '#' == n\r\n                    ? (t.eatWhile(/[\\w\\\\\\-]/), w('atom', 'hash'))\r\n                    : '!' == n\r\n                    ? (t.match(/^\\s*\\w*/), w('keyword', 'important'))\r\n                    : /\\d/.test(n) || ('.' == n && t.eat(/\\d/))\r\n                    ? (t.eatWhile(/[\\w.%]/), w('number', 'unit'))\r\n                    : '-' !== n\r\n                    ? /[,+>*\\/]/.test(n)\r\n                      ? w(null, 'select-op')\r\n                      : '.' == n && t.match(/^-?[_a-z][_a-z0-9-]*/i)\r\n                      ? w('qualifier', 'qualifier')\r\n                      : /[:;{}\\[\\]\\(\\)]/.test(n)\r\n                      ? w(null, n)\r\n                      : (('u' == n || 'U' == n) && t.match(/rl(-prefix)?\\(/i)) ||\r\n                        (('d' == n || 'D' == n) && t.match('omain(', !0, !0)) ||\r\n                        (('r' == n || 'R' == n) && t.match('egexp(', !0, !0))\r\n                      ? (t.backUp(1), (e.tokenize = k), w('property', 'word'))\r\n                      : /[\\w\\\\\\-]/.test(n)\r\n                      ? (t.eatWhile(/[\\w\\\\\\-]/), w('property', 'word'))\r\n                      : w(null, null)\r\n                    : /[\\d.]/.test(t.peek())\r\n                    ? (t.eatWhile(/[\\w.%]/), w('number', 'unit'))\r\n                    : t.match(/^-[\\w\\\\\\-]+/)\r\n                    ? (t.eatWhile(/[\\w\\\\\\-]/),\r\n                      t.match(/^\\s*:/, !1) ? w('variable-2', 'variable-definition') : w('variable-2', 'variable'))\r\n                    : t.match(/^\\w+-/)\r\n                    ? w('meta', 'meta')\r\n                    : void 0\r\n                })(t, e)\r\n              return (\r\n                n && 'object' == typeof n && ((r = n[1]), (n = n[0])),\r\n                (o = n),\r\n                'comment' != r && (e.state = P[e.state](r, t, e)),\r\n                o\r\n              )\r\n            },\r\n            indent: function (t, e) {\r\n              var n = t.context,\r\n                i = e && e.charAt(0),\r\n                r = n.indent\r\n              return (\r\n                'prop' != n.type || ('}' != i && ')' != i) || (n = n.prev),\r\n                n.prev &&\r\n                  ('}' != i ||\r\n                  ('block' != n.type && 'top' != n.type && 'interpolation' != n.type && 'restricted_atBlock' != n.type)\r\n                    ? ((')' != i || ('parens' != n.type && 'atBlock_parens' != n.type)) &&\r\n                        ('{' != i || ('at' != n.type && 'atBlock' != n.type))) ||\r\n                      (r = Math.max(0, n.indent - s))\r\n                    : ((n = n.prev), (r = n.indent))),\r\n                r\r\n              )\r\n            },\r\n            electricChars: '}',\r\n            blockCommentStart: '/*',\r\n            blockCommentEnd: '*/',\r\n            blockCommentContinue: ' * ',\r\n            lineComment: b,\r\n            fold: 'brace'\r\n          }\r\n        })\r\n        var n = ['domain', 'regexp', 'url', 'url-prefix'],\r\n          i = e(n),\r\n          r = ['all', 'aural', 'braille', 'handheld', 'print', 'projection', 'screen', 'tty', 'tv', 'embossed'],\r\n          o = e(r),\r\n          s = [\r\n            'width',\r\n            'min-width',\r\n            'max-width',\r\n            'height',\r\n            'min-height',\r\n            'max-height',\r\n            'device-width',\r\n            'min-device-width',\r\n            'max-device-width',\r\n            'device-height',\r\n            'min-device-height',\r\n            'max-device-height',\r\n            'aspect-ratio',\r\n            'min-aspect-ratio',\r\n            'max-aspect-ratio',\r\n            'device-aspect-ratio',\r\n            'min-device-aspect-ratio',\r\n            'max-device-aspect-ratio',\r\n            'color',\r\n            'min-color',\r\n            'max-color',\r\n            'color-index',\r\n            'min-color-index',\r\n            'max-color-index',\r\n            'monochrome',\r\n            'min-monochrome',\r\n            'max-monochrome',\r\n            'resolution',\r\n            'min-resolution',\r\n            'max-resolution',\r\n            'scan',\r\n            'grid',\r\n            'orientation',\r\n            'device-pixel-ratio',\r\n            'min-device-pixel-ratio',\r\n            'max-device-pixel-ratio',\r\n            'pointer',\r\n            'any-pointer',\r\n            'hover',\r\n            'any-hover'\r\n          ],\r\n          a = e(s),\r\n          l = ['landscape', 'portrait', 'none', 'coarse', 'fine', 'on-demand', 'hover', 'interlace', 'progressive'],\r\n          c = e(l),\r\n          u = [\r\n            'align-content',\r\n            'align-items',\r\n            'align-self',\r\n            'alignment-adjust',\r\n            'alignment-baseline',\r\n            'anchor-point',\r\n            'animation',\r\n            'animation-delay',\r\n            'animation-direction',\r\n            'animation-duration',\r\n            'animation-fill-mode',\r\n            'animation-iteration-count',\r\n            'animation-name',\r\n            'animation-play-state',\r\n            'animation-timing-function',\r\n            'appearance',\r\n            'azimuth',\r\n            'backface-visibility',\r\n            'background',\r\n            'background-attachment',\r\n            'background-blend-mode',\r\n            'background-clip',\r\n            'background-color',\r\n            'background-image',\r\n            'background-origin',\r\n            'background-position',\r\n            'background-repeat',\r\n            'background-size',\r\n            'baseline-shift',\r\n            'binding',\r\n            'bleed',\r\n            'bookmark-label',\r\n            'bookmark-level',\r\n            'bookmark-state',\r\n            'bookmark-target',\r\n            'border',\r\n            'border-bottom',\r\n            'border-bottom-color',\r\n            'border-bottom-left-radius',\r\n            'border-bottom-right-radius',\r\n            'border-bottom-style',\r\n            'border-bottom-width',\r\n            'border-collapse',\r\n            'border-color',\r\n            'border-image',\r\n            'border-image-outset',\r\n            'border-image-repeat',\r\n            'border-image-slice',\r\n            'border-image-source',\r\n            'border-image-width',\r\n            'border-left',\r\n            'border-left-color',\r\n            'border-left-style',\r\n            'border-left-width',\r\n            'border-radius',\r\n            'border-right',\r\n            'border-right-color',\r\n            'border-right-style',\r\n            'border-right-width',\r\n            'border-spacing',\r\n            'border-style',\r\n            'border-top',\r\n            'border-top-color',\r\n            'border-top-left-radius',\r\n            'border-top-right-radius',\r\n            'border-top-style',\r\n            'border-top-width',\r\n            'border-width',\r\n            'bottom',\r\n            'box-decoration-break',\r\n            'box-shadow',\r\n            'box-sizing',\r\n            'break-after',\r\n            'break-before',\r\n            'break-inside',\r\n            'caption-side',\r\n            'caret-color',\r\n            'clear',\r\n            'clip',\r\n            'color',\r\n            'color-profile',\r\n            'column-count',\r\n            'column-fill',\r\n            'column-gap',\r\n            'column-rule',\r\n            'column-rule-color',\r\n            'column-rule-style',\r\n            'column-rule-width',\r\n            'column-span',\r\n            'column-width',\r\n            'columns',\r\n            'content',\r\n            'counter-increment',\r\n            'counter-reset',\r\n            'crop',\r\n            'cue',\r\n            'cue-after',\r\n            'cue-before',\r\n            'cursor',\r\n            'direction',\r\n            'display',\r\n            'dominant-baseline',\r\n            'drop-initial-after-adjust',\r\n            'drop-initial-after-align',\r\n            'drop-initial-before-adjust',\r\n            'drop-initial-before-align',\r\n            'drop-initial-size',\r\n            'drop-initial-value',\r\n            'elevation',\r\n            'empty-cells',\r\n            'fit',\r\n            'fit-position',\r\n            'flex',\r\n            'flex-basis',\r\n            'flex-direction',\r\n            'flex-flow',\r\n            'flex-grow',\r\n            'flex-shrink',\r\n            'flex-wrap',\r\n            'float',\r\n            'float-offset',\r\n            'flow-from',\r\n            'flow-into',\r\n            'font',\r\n            'font-feature-settings',\r\n            'font-family',\r\n            'font-kerning',\r\n            'font-language-override',\r\n            'font-size',\r\n            'font-size-adjust',\r\n            'font-stretch',\r\n            'font-style',\r\n            'font-synthesis',\r\n            'font-variant',\r\n            'font-variant-alternates',\r\n            'font-variant-caps',\r\n            'font-variant-east-asian',\r\n            'font-variant-ligatures',\r\n            'font-variant-numeric',\r\n            'font-variant-position',\r\n            'font-weight',\r\n            'grid',\r\n            'grid-area',\r\n            'grid-auto-columns',\r\n            'grid-auto-flow',\r\n            'grid-auto-rows',\r\n            'grid-column',\r\n            'grid-column-end',\r\n            'grid-column-gap',\r\n            'grid-column-start',\r\n            'grid-gap',\r\n            'grid-row',\r\n            'grid-row-end',\r\n            'grid-row-gap',\r\n            'grid-row-start',\r\n            'grid-template',\r\n            'grid-template-areas',\r\n            'grid-template-columns',\r\n            'grid-template-rows',\r\n            'hanging-punctuation',\r\n            'height',\r\n            'hyphens',\r\n            'icon',\r\n            'image-orientation',\r\n            'image-rendering',\r\n            'image-resolution',\r\n            'inline-box-align',\r\n            'justify-content',\r\n            'justify-items',\r\n            'justify-self',\r\n            'left',\r\n            'letter-spacing',\r\n            'line-break',\r\n            'line-height',\r\n            'line-stacking',\r\n            'line-stacking-ruby',\r\n            'line-stacking-shift',\r\n            'line-stacking-strategy',\r\n            'list-style',\r\n            'list-style-image',\r\n            'list-style-position',\r\n            'list-style-type',\r\n            'margin',\r\n            'margin-bottom',\r\n            'margin-left',\r\n            'margin-right',\r\n            'margin-top',\r\n            'marks',\r\n            'marquee-direction',\r\n            'marquee-loop',\r\n            'marquee-play-count',\r\n            'marquee-speed',\r\n            'marquee-style',\r\n            'max-height',\r\n            'max-width',\r\n            'min-height',\r\n            'min-width',\r\n            'mix-blend-mode',\r\n            'move-to',\r\n            'nav-down',\r\n            'nav-index',\r\n            'nav-left',\r\n            'nav-right',\r\n            'nav-up',\r\n            'object-fit',\r\n            'object-position',\r\n            'opacity',\r\n            'order',\r\n            'orphans',\r\n            'outline',\r\n            'outline-color',\r\n            'outline-offset',\r\n            'outline-style',\r\n            'outline-width',\r\n            'overflow',\r\n            'overflow-style',\r\n            'overflow-wrap',\r\n            'overflow-x',\r\n            'overflow-y',\r\n            'padding',\r\n            'padding-bottom',\r\n            'padding-left',\r\n            'padding-right',\r\n            'padding-top',\r\n            'page',\r\n            'page-break-after',\r\n            'page-break-before',\r\n            'page-break-inside',\r\n            'page-policy',\r\n            'pause',\r\n            'pause-after',\r\n            'pause-before',\r\n            'perspective',\r\n            'perspective-origin',\r\n            'pitch',\r\n            'pitch-range',\r\n            'place-content',\r\n            'place-items',\r\n            'place-self',\r\n            'play-during',\r\n            'position',\r\n            'presentation-level',\r\n            'punctuation-trim',\r\n            'quotes',\r\n            'region-break-after',\r\n            'region-break-before',\r\n            'region-break-inside',\r\n            'region-fragment',\r\n            'rendering-intent',\r\n            'resize',\r\n            'rest',\r\n            'rest-after',\r\n            'rest-before',\r\n            'richness',\r\n            'right',\r\n            'rotation',\r\n            'rotation-point',\r\n            'ruby-align',\r\n            'ruby-overhang',\r\n            'ruby-position',\r\n            'ruby-span',\r\n            'shape-image-threshold',\r\n            'shape-inside',\r\n            'shape-margin',\r\n            'shape-outside',\r\n            'size',\r\n            'speak',\r\n            'speak-as',\r\n            'speak-header',\r\n            'speak-numeral',\r\n            'speak-punctuation',\r\n            'speech-rate',\r\n            'stress',\r\n            'string-set',\r\n            'tab-size',\r\n            'table-layout',\r\n            'target',\r\n            'target-name',\r\n            'target-new',\r\n            'target-position',\r\n            'text-align',\r\n            'text-align-last',\r\n            'text-decoration',\r\n            'text-decoration-color',\r\n            'text-decoration-line',\r\n            'text-decoration-skip',\r\n            'text-decoration-style',\r\n            'text-emphasis',\r\n            'text-emphasis-color',\r\n            'text-emphasis-position',\r\n            'text-emphasis-style',\r\n            'text-height',\r\n            'text-indent',\r\n            'text-justify',\r\n            'text-outline',\r\n            'text-overflow',\r\n            'text-shadow',\r\n            'text-size-adjust',\r\n            'text-space-collapse',\r\n            'text-transform',\r\n            'text-underline-position',\r\n            'text-wrap',\r\n            'top',\r\n            'transform',\r\n            'transform-origin',\r\n            'transform-style',\r\n            'transition',\r\n            'transition-delay',\r\n            'transition-duration',\r\n            'transition-property',\r\n            'transition-timing-function',\r\n            'unicode-bidi',\r\n            'user-select',\r\n            'vertical-align',\r\n            'visibility',\r\n            'voice-balance',\r\n            'voice-duration',\r\n            'voice-family',\r\n            'voice-pitch',\r\n            'voice-range',\r\n            'voice-rate',\r\n            'voice-stress',\r\n            'voice-volume',\r\n            'volume',\r\n            'white-space',\r\n            'widows',\r\n            'width',\r\n            'will-change',\r\n            'word-break',\r\n            'word-spacing',\r\n            'word-wrap',\r\n            'z-index',\r\n            'clip-path',\r\n            'clip-rule',\r\n            'mask',\r\n            'enable-background',\r\n            'filter',\r\n            'flood-color',\r\n            'flood-opacity',\r\n            'lighting-color',\r\n            'stop-color',\r\n            'stop-opacity',\r\n            'pointer-events',\r\n            'color-interpolation',\r\n            'color-interpolation-filters',\r\n            'color-rendering',\r\n            'fill',\r\n            'fill-opacity',\r\n            'fill-rule',\r\n            'image-rendering',\r\n            'marker',\r\n            'marker-end',\r\n            'marker-mid',\r\n            'marker-start',\r\n            'shape-rendering',\r\n            'stroke',\r\n            'stroke-dasharray',\r\n            'stroke-dashoffset',\r\n            'stroke-linecap',\r\n            'stroke-linejoin',\r\n            'stroke-miterlimit',\r\n            'stroke-opacity',\r\n            'stroke-width',\r\n            'text-rendering',\r\n            'baseline-shift',\r\n            'dominant-baseline',\r\n            'glyph-orientation-horizontal',\r\n            'glyph-orientation-vertical',\r\n            'text-anchor',\r\n            'writing-mode'\r\n          ],\r\n          h = e(u),\r\n          d = [\r\n            'scrollbar-arrow-color',\r\n            'scrollbar-base-color',\r\n            'scrollbar-dark-shadow-color',\r\n            'scrollbar-face-color',\r\n            'scrollbar-highlight-color',\r\n            'scrollbar-shadow-color',\r\n            'scrollbar-3d-light-color',\r\n            'scrollbar-track-color',\r\n            'shape-inside',\r\n            'searchfield-cancel-button',\r\n            'searchfield-decoration',\r\n            'searchfield-results-button',\r\n            'searchfield-results-decoration',\r\n            'zoom'\r\n          ],\r\n          f = e(d),\r\n          p = e([\r\n            'font-family',\r\n            'src',\r\n            'unicode-range',\r\n            'font-variant',\r\n            'font-feature-settings',\r\n            'font-stretch',\r\n            'font-weight',\r\n            'font-style'\r\n          ]),\r\n          g = e([\r\n            'additive-symbols',\r\n            'fallback',\r\n            'negative',\r\n            'pad',\r\n            'prefix',\r\n            'range',\r\n            'speak-as',\r\n            'suffix',\r\n            'symbols',\r\n            'system'\r\n          ]),\r\n          v = [\r\n            'aliceblue',\r\n            'antiquewhite',\r\n            'aqua',\r\n            'aquamarine',\r\n            'azure',\r\n            'beige',\r\n            'bisque',\r\n            'black',\r\n            'blanchedalmond',\r\n            'blue',\r\n            'blueviolet',\r\n            'brown',\r\n            'burlywood',\r\n            'cadetblue',\r\n            'chartreuse',\r\n            'chocolate',\r\n            'coral',\r\n            'cornflowerblue',\r\n            'cornsilk',\r\n            'crimson',\r\n            'cyan',\r\n            'darkblue',\r\n            'darkcyan',\r\n            'darkgoldenrod',\r\n            'darkgray',\r\n            'darkgreen',\r\n            'darkkhaki',\r\n            'darkmagenta',\r\n            'darkolivegreen',\r\n            'darkorange',\r\n            'darkorchid',\r\n            'darkred',\r\n            'darksalmon',\r\n            'darkseagreen',\r\n            'darkslateblue',\r\n            'darkslategray',\r\n            'darkturquoise',\r\n            'darkviolet',\r\n            'deeppink',\r\n            'deepskyblue',\r\n            'dimgray',\r\n            'dodgerblue',\r\n            'firebrick',\r\n            'floralwhite',\r\n            'forestgreen',\r\n            'fuchsia',\r\n            'gainsboro',\r\n            'ghostwhite',\r\n            'gold',\r\n            'goldenrod',\r\n            'gray',\r\n            'grey',\r\n            'green',\r\n            'greenyellow',\r\n            'honeydew',\r\n            'hotpink',\r\n            'indianred',\r\n            'indigo',\r\n            'ivory',\r\n            'khaki',\r\n            'lavender',\r\n            'lavenderblush',\r\n            'lawngreen',\r\n            'lemonchiffon',\r\n            'lightblue',\r\n            'lightcoral',\r\n            'lightcyan',\r\n            'lightgoldenrodyellow',\r\n            'lightgray',\r\n            'lightgreen',\r\n            'lightpink',\r\n            'lightsalmon',\r\n            'lightseagreen',\r\n            'lightskyblue',\r\n            'lightslategray',\r\n            'lightsteelblue',\r\n            'lightyellow',\r\n            'lime',\r\n            'limegreen',\r\n            'linen',\r\n            'magenta',\r\n            'maroon',\r\n            'mediumaquamarine',\r\n            'mediumblue',\r\n            'mediumorchid',\r\n            'mediumpurple',\r\n            'mediumseagreen',\r\n            'mediumslateblue',\r\n            'mediumspringgreen',\r\n            'mediumturquoise',\r\n            'mediumvioletred',\r\n            'midnightblue',\r\n            'mintcream',\r\n            'mistyrose',\r\n            'moccasin',\r\n            'navajowhite',\r\n            'navy',\r\n            'oldlace',\r\n            'olive',\r\n            'olivedrab',\r\n            'orange',\r\n            'orangered',\r\n            'orchid',\r\n            'palegoldenrod',\r\n            'palegreen',\r\n            'paleturquoise',\r\n            'palevioletred',\r\n            'papayawhip',\r\n            'peachpuff',\r\n            'peru',\r\n            'pink',\r\n            'plum',\r\n            'powderblue',\r\n            'purple',\r\n            'rebeccapurple',\r\n            'red',\r\n            'rosybrown',\r\n            'royalblue',\r\n            'saddlebrown',\r\n            'salmon',\r\n            'sandybrown',\r\n            'seagreen',\r\n            'seashell',\r\n            'sienna',\r\n            'silver',\r\n            'skyblue',\r\n            'slateblue',\r\n            'slategray',\r\n            'snow',\r\n            'springgreen',\r\n            'steelblue',\r\n            'tan',\r\n            'teal',\r\n            'thistle',\r\n            'tomato',\r\n            'turquoise',\r\n            'violet',\r\n            'wheat',\r\n            'white',\r\n            'whitesmoke',\r\n            'yellow',\r\n            'yellowgreen'\r\n          ],\r\n          m = e(v),\r\n          y = [\r\n            'above',\r\n            'absolute',\r\n            'activeborder',\r\n            'additive',\r\n            'activecaption',\r\n            'afar',\r\n            'after-white-space',\r\n            'ahead',\r\n            'alias',\r\n            'all',\r\n            'all-scroll',\r\n            'alphabetic',\r\n            'alternate',\r\n            'always',\r\n            'amharic',\r\n            'amharic-abegede',\r\n            'antialiased',\r\n            'appworkspace',\r\n            'arabic-indic',\r\n            'armenian',\r\n            'asterisks',\r\n            'attr',\r\n            'auto',\r\n            'auto-flow',\r\n            'avoid',\r\n            'avoid-column',\r\n            'avoid-page',\r\n            'avoid-region',\r\n            'background',\r\n            'backwards',\r\n            'baseline',\r\n            'below',\r\n            'bidi-override',\r\n            'binary',\r\n            'bengali',\r\n            'blink',\r\n            'block',\r\n            'block-axis',\r\n            'bold',\r\n            'bolder',\r\n            'border',\r\n            'border-box',\r\n            'both',\r\n            'bottom',\r\n            'break',\r\n            'break-all',\r\n            'break-word',\r\n            'bullets',\r\n            'button',\r\n            'button-bevel',\r\n            'buttonface',\r\n            'buttonhighlight',\r\n            'buttonshadow',\r\n            'buttontext',\r\n            'calc',\r\n            'cambodian',\r\n            'capitalize',\r\n            'caps-lock-indicator',\r\n            'caption',\r\n            'captiontext',\r\n            'caret',\r\n            'cell',\r\n            'center',\r\n            'checkbox',\r\n            'circle',\r\n            'cjk-decimal',\r\n            'cjk-earthly-branch',\r\n            'cjk-heavenly-stem',\r\n            'cjk-ideographic',\r\n            'clear',\r\n            'clip',\r\n            'close-quote',\r\n            'col-resize',\r\n            'collapse',\r\n            'color',\r\n            'color-burn',\r\n            'color-dodge',\r\n            'column',\r\n            'column-reverse',\r\n            'compact',\r\n            'condensed',\r\n            'contain',\r\n            'content',\r\n            'contents',\r\n            'content-box',\r\n            'context-menu',\r\n            'continuous',\r\n            'copy',\r\n            'counter',\r\n            'counters',\r\n            'cover',\r\n            'crop',\r\n            'cross',\r\n            'crosshair',\r\n            'currentcolor',\r\n            'cursive',\r\n            'cyclic',\r\n            'darken',\r\n            'dashed',\r\n            'decimal',\r\n            'decimal-leading-zero',\r\n            'default',\r\n            'default-button',\r\n            'dense',\r\n            'destination-atop',\r\n            'destination-in',\r\n            'destination-out',\r\n            'destination-over',\r\n            'devanagari',\r\n            'difference',\r\n            'disc',\r\n            'discard',\r\n            'disclosure-closed',\r\n            'disclosure-open',\r\n            'document',\r\n            'dot-dash',\r\n            'dot-dot-dash',\r\n            'dotted',\r\n            'double',\r\n            'down',\r\n            'e-resize',\r\n            'ease',\r\n            'ease-in',\r\n            'ease-in-out',\r\n            'ease-out',\r\n            'element',\r\n            'ellipse',\r\n            'ellipsis',\r\n            'embed',\r\n            'end',\r\n            'ethiopic',\r\n            'ethiopic-abegede',\r\n            'ethiopic-abegede-am-et',\r\n            'ethiopic-abegede-gez',\r\n            'ethiopic-abegede-ti-er',\r\n            'ethiopic-abegede-ti-et',\r\n            'ethiopic-halehame-aa-er',\r\n            'ethiopic-halehame-aa-et',\r\n            'ethiopic-halehame-am-et',\r\n            'ethiopic-halehame-gez',\r\n            'ethiopic-halehame-om-et',\r\n            'ethiopic-halehame-sid-et',\r\n            'ethiopic-halehame-so-et',\r\n            'ethiopic-halehame-ti-er',\r\n            'ethiopic-halehame-ti-et',\r\n            'ethiopic-halehame-tig',\r\n            'ethiopic-numeric',\r\n            'ew-resize',\r\n            'exclusion',\r\n            'expanded',\r\n            'extends',\r\n            'extra-condensed',\r\n            'extra-expanded',\r\n            'fantasy',\r\n            'fast',\r\n            'fill',\r\n            'fixed',\r\n            'flat',\r\n            'flex',\r\n            'flex-end',\r\n            'flex-start',\r\n            'footnotes',\r\n            'forwards',\r\n            'from',\r\n            'geometricPrecision',\r\n            'georgian',\r\n            'graytext',\r\n            'grid',\r\n            'groove',\r\n            'gujarati',\r\n            'gurmukhi',\r\n            'hand',\r\n            'hangul',\r\n            'hangul-consonant',\r\n            'hard-light',\r\n            'hebrew',\r\n            'help',\r\n            'hidden',\r\n            'hide',\r\n            'higher',\r\n            'highlight',\r\n            'highlighttext',\r\n            'hiragana',\r\n            'hiragana-iroha',\r\n            'horizontal',\r\n            'hsl',\r\n            'hsla',\r\n            'hue',\r\n            'icon',\r\n            'ignore',\r\n            'inactiveborder',\r\n            'inactivecaption',\r\n            'inactivecaptiontext',\r\n            'infinite',\r\n            'infobackground',\r\n            'infotext',\r\n            'inherit',\r\n            'initial',\r\n            'inline',\r\n            'inline-axis',\r\n            'inline-block',\r\n            'inline-flex',\r\n            'inline-grid',\r\n            'inline-table',\r\n            'inset',\r\n            'inside',\r\n            'intrinsic',\r\n            'invert',\r\n            'italic',\r\n            'japanese-formal',\r\n            'japanese-informal',\r\n            'justify',\r\n            'kannada',\r\n            'katakana',\r\n            'katakana-iroha',\r\n            'keep-all',\r\n            'khmer',\r\n            'korean-hangul-formal',\r\n            'korean-hanja-formal',\r\n            'korean-hanja-informal',\r\n            'landscape',\r\n            'lao',\r\n            'large',\r\n            'larger',\r\n            'left',\r\n            'level',\r\n            'lighter',\r\n            'lighten',\r\n            'line-through',\r\n            'linear',\r\n            'linear-gradient',\r\n            'lines',\r\n            'list-item',\r\n            'listbox',\r\n            'listitem',\r\n            'local',\r\n            'logical',\r\n            'loud',\r\n            'lower',\r\n            'lower-alpha',\r\n            'lower-armenian',\r\n            'lower-greek',\r\n            'lower-hexadecimal',\r\n            'lower-latin',\r\n            'lower-norwegian',\r\n            'lower-roman',\r\n            'lowercase',\r\n            'ltr',\r\n            'luminosity',\r\n            'malayalam',\r\n            'match',\r\n            'matrix',\r\n            'matrix3d',\r\n            'media-controls-background',\r\n            'media-current-time-display',\r\n            'media-fullscreen-button',\r\n            'media-mute-button',\r\n            'media-play-button',\r\n            'media-return-to-realtime-button',\r\n            'media-rewind-button',\r\n            'media-seek-back-button',\r\n            'media-seek-forward-button',\r\n            'media-slider',\r\n            'media-sliderthumb',\r\n            'media-time-remaining-display',\r\n            'media-volume-slider',\r\n            'media-volume-slider-container',\r\n            'media-volume-sliderthumb',\r\n            'medium',\r\n            'menu',\r\n            'menulist',\r\n            'menulist-button',\r\n            'menulist-text',\r\n            'menulist-textfield',\r\n            'menutext',\r\n            'message-box',\r\n            'middle',\r\n            'min-intrinsic',\r\n            'mix',\r\n            'mongolian',\r\n            'monospace',\r\n            'move',\r\n            'multiple',\r\n            'multiply',\r\n            'myanmar',\r\n            'n-resize',\r\n            'narrower',\r\n            'ne-resize',\r\n            'nesw-resize',\r\n            'no-close-quote',\r\n            'no-drop',\r\n            'no-open-quote',\r\n            'no-repeat',\r\n            'none',\r\n            'normal',\r\n            'not-allowed',\r\n            'nowrap',\r\n            'ns-resize',\r\n            'numbers',\r\n            'numeric',\r\n            'nw-resize',\r\n            'nwse-resize',\r\n            'oblique',\r\n            'octal',\r\n            'opacity',\r\n            'open-quote',\r\n            'optimizeLegibility',\r\n            'optimizeSpeed',\r\n            'oriya',\r\n            'oromo',\r\n            'outset',\r\n            'outside',\r\n            'outside-shape',\r\n            'overlay',\r\n            'overline',\r\n            'padding',\r\n            'padding-box',\r\n            'painted',\r\n            'page',\r\n            'paused',\r\n            'persian',\r\n            'perspective',\r\n            'plus-darker',\r\n            'plus-lighter',\r\n            'pointer',\r\n            'polygon',\r\n            'portrait',\r\n            'pre',\r\n            'pre-line',\r\n            'pre-wrap',\r\n            'preserve-3d',\r\n            'progress',\r\n            'push-button',\r\n            'radial-gradient',\r\n            'radio',\r\n            'read-only',\r\n            'read-write',\r\n            'read-write-plaintext-only',\r\n            'rectangle',\r\n            'region',\r\n            'relative',\r\n            'repeat',\r\n            'repeating-linear-gradient',\r\n            'repeating-radial-gradient',\r\n            'repeat-x',\r\n            'repeat-y',\r\n            'reset',\r\n            'reverse',\r\n            'rgb',\r\n            'rgba',\r\n            'ridge',\r\n            'right',\r\n            'rotate',\r\n            'rotate3d',\r\n            'rotateX',\r\n            'rotateY',\r\n            'rotateZ',\r\n            'round',\r\n            'row',\r\n            'row-resize',\r\n            'row-reverse',\r\n            'rtl',\r\n            'run-in',\r\n            'running',\r\n            's-resize',\r\n            'sans-serif',\r\n            'saturation',\r\n            'scale',\r\n            'scale3d',\r\n            'scaleX',\r\n            'scaleY',\r\n            'scaleZ',\r\n            'screen',\r\n            'scroll',\r\n            'scrollbar',\r\n            'scroll-position',\r\n            'se-resize',\r\n            'searchfield',\r\n            'searchfield-cancel-button',\r\n            'searchfield-decoration',\r\n            'searchfield-results-button',\r\n            'searchfield-results-decoration',\r\n            'self-start',\r\n            'self-end',\r\n            'semi-condensed',\r\n            'semi-expanded',\r\n            'separate',\r\n            'serif',\r\n            'show',\r\n            'sidama',\r\n            'simp-chinese-formal',\r\n            'simp-chinese-informal',\r\n            'single',\r\n            'skew',\r\n            'skewX',\r\n            'skewY',\r\n            'skip-white-space',\r\n            'slide',\r\n            'slider-horizontal',\r\n            'slider-vertical',\r\n            'sliderthumb-horizontal',\r\n            'sliderthumb-vertical',\r\n            'slow',\r\n            'small',\r\n            'small-caps',\r\n            'small-caption',\r\n            'smaller',\r\n            'soft-light',\r\n            'solid',\r\n            'somali',\r\n            'source-atop',\r\n            'source-in',\r\n            'source-out',\r\n            'source-over',\r\n            'space',\r\n            'space-around',\r\n            'space-between',\r\n            'space-evenly',\r\n            'spell-out',\r\n            'square',\r\n            'square-button',\r\n            'start',\r\n            'static',\r\n            'status-bar',\r\n            'stretch',\r\n            'stroke',\r\n            'sub',\r\n            'subpixel-antialiased',\r\n            'super',\r\n            'sw-resize',\r\n            'symbolic',\r\n            'symbols',\r\n            'system-ui',\r\n            'table',\r\n            'table-caption',\r\n            'table-cell',\r\n            'table-column',\r\n            'table-column-group',\r\n            'table-footer-group',\r\n            'table-header-group',\r\n            'table-row',\r\n            'table-row-group',\r\n            'tamil',\r\n            'telugu',\r\n            'text',\r\n            'text-bottom',\r\n            'text-top',\r\n            'textarea',\r\n            'textfield',\r\n            'thai',\r\n            'thick',\r\n            'thin',\r\n            'threeddarkshadow',\r\n            'threedface',\r\n            'threedhighlight',\r\n            'threedlightshadow',\r\n            'threedshadow',\r\n            'tibetan',\r\n            'tigre',\r\n            'tigrinya-er',\r\n            'tigrinya-er-abegede',\r\n            'tigrinya-et',\r\n            'tigrinya-et-abegede',\r\n            'to',\r\n            'top',\r\n            'trad-chinese-formal',\r\n            'trad-chinese-informal',\r\n            'transform',\r\n            'translate',\r\n            'translate3d',\r\n            'translateX',\r\n            'translateY',\r\n            'translateZ',\r\n            'transparent',\r\n            'ultra-condensed',\r\n            'ultra-expanded',\r\n            'underline',\r\n            'unset',\r\n            'up',\r\n            'upper-alpha',\r\n            'upper-armenian',\r\n            'upper-greek',\r\n            'upper-hexadecimal',\r\n            'upper-latin',\r\n            'upper-norwegian',\r\n            'upper-roman',\r\n            'uppercase',\r\n            'urdu',\r\n            'url',\r\n            'var',\r\n            'vertical',\r\n            'vertical-text',\r\n            'visible',\r\n            'visibleFill',\r\n            'visiblePainted',\r\n            'visibleStroke',\r\n            'visual',\r\n            'w-resize',\r\n            'wait',\r\n            'wave',\r\n            'wider',\r\n            'window',\r\n            'windowframe',\r\n            'windowtext',\r\n            'words',\r\n            'wrap',\r\n            'wrap-reverse',\r\n            'x-large',\r\n            'x-small',\r\n            'xor',\r\n            'xx-large',\r\n            'xx-small'\r\n          ],\r\n          b = e(y),\r\n          x = n\r\n            .concat(r)\r\n            .concat(s)\r\n            .concat(l)\r\n            .concat(u)\r\n            .concat(d)\r\n            .concat(v)\r\n            .concat(y)\r\n        function w (t, e) {\r\n          for (var n, i = !1; null != (n = t.next()); ) {\r\n            if (i && '/' == n) {\r\n              e.tokenize = null\r\n              break\r\n            }\r\n            i = '*' == n\r\n          }\r\n          return ['comment', 'comment']\r\n        }\r\n        t.registerHelper('hintWords', 'css', x),\r\n          t.defineMIME('text/css', {\r\n            documentTypes: i,\r\n            mediaTypes: o,\r\n            mediaFeatures: a,\r\n            mediaValueKeywords: c,\r\n            propertyKeywords: h,\r\n            nonStandardPropertyKeywords: f,\r\n            fontProperties: p,\r\n            counterDescriptors: g,\r\n            colorKeywords: m,\r\n            valueKeywords: b,\r\n            tokenHooks: {\r\n              '/': function (t, e) {\r\n                return !!t.eat('*') && ((e.tokenize = w), w(t, e))\r\n              }\r\n            },\r\n            name: 'css'\r\n          }),\r\n          t.defineMIME('text/x-scss', {\r\n            mediaTypes: o,\r\n            mediaFeatures: a,\r\n            mediaValueKeywords: c,\r\n            propertyKeywords: h,\r\n            nonStandardPropertyKeywords: f,\r\n            colorKeywords: m,\r\n            valueKeywords: b,\r\n            fontProperties: p,\r\n            allowNested: !0,\r\n            lineComment: '//',\r\n            tokenHooks: {\r\n              '/': function (t, e) {\r\n                return t.eat('/')\r\n                  ? (t.skipToEnd(), ['comment', 'comment'])\r\n                  : t.eat('*')\r\n                  ? ((e.tokenize = w), w(t, e))\r\n                  : ['operator', 'operator']\r\n              },\r\n              ':': function (t) {\r\n                return !!t.match(/\\s*\\{/, !1) && [null, null]\r\n              },\r\n              $: function (t) {\r\n                return (\r\n                  t.match(/^[\\w-]+/),\r\n                  t.match(/^\\s*:/, !1) ? ['variable-2', 'variable-definition'] : ['variable-2', 'variable']\r\n                )\r\n              },\r\n              '#': function (t) {\r\n                return !!t.eat('{') && [null, 'interpolation']\r\n              }\r\n            },\r\n            name: 'css',\r\n            helperType: 'scss'\r\n          }),\r\n          t.defineMIME('text/x-less', {\r\n            mediaTypes: o,\r\n            mediaFeatures: a,\r\n            mediaValueKeywords: c,\r\n            propertyKeywords: h,\r\n            nonStandardPropertyKeywords: f,\r\n            colorKeywords: m,\r\n            valueKeywords: b,\r\n            fontProperties: p,\r\n            allowNested: !0,\r\n            lineComment: '//',\r\n            tokenHooks: {\r\n              '/': function (t, e) {\r\n                return t.eat('/')\r\n                  ? (t.skipToEnd(), ['comment', 'comment'])\r\n                  : t.eat('*')\r\n                  ? ((e.tokenize = w), w(t, e))\r\n                  : ['operator', 'operator']\r\n              },\r\n              '@': function (t) {\r\n                return t.eat('{')\r\n                  ? [null, 'interpolation']\r\n                  : !t.match(\r\n                      /^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b/i,\r\n                      !1\r\n                    ) &&\r\n                      (t.eatWhile(/[\\w\\\\\\-]/),\r\n                      t.match(/^\\s*:/, !1) ? ['variable-2', 'variable-definition'] : ['variable-2', 'variable'])\r\n              },\r\n              '&': function () {\r\n                return ['atom', 'atom']\r\n              }\r\n            },\r\n            name: 'css',\r\n            helperType: 'less'\r\n          }),\r\n          t.defineMIME('text/x-gss', {\r\n            documentTypes: i,\r\n            mediaTypes: o,\r\n            mediaFeatures: a,\r\n            propertyKeywords: h,\r\n            nonStandardPropertyKeywords: f,\r\n            fontProperties: p,\r\n            counterDescriptors: g,\r\n            colorKeywords: m,\r\n            valueKeywords: b,\r\n            supportsAtComponent: !0,\r\n            tokenHooks: {\r\n              '/': function (t, e) {\r\n                return !!t.eat('*') && ((e.tokenize = w), w(t, e))\r\n              }\r\n            },\r\n            name: 'css',\r\n            helperType: 'gss'\r\n          })\r\n      })(n(6))\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(0),\r\n        r = n(63)\r\n      t.exports = i.Model.extend({\r\n        defaults: { id: '', content: '', visible: !0, buttons: [], attributes: {} },\r\n        initialize: function (t) {\r\n          ;(this.btn = this.get('buttons') || []), (this.buttons = new r(this.btn)), this.set('buttons', this.buttons)\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(0),\r\n        r = n(155)\r\n      t.exports = i.Collection.extend({\r\n        model: r,\r\n        deactivateAllExceptOne: function (t, e) {\r\n          this.forEach(function (n, i) {\r\n            n !== t &&\r\n              (n.set('active', !1), e && n.get('buttons').length && n.get('buttons').deactivateAllExceptOne(t, e))\r\n          })\r\n        },\r\n        deactivateAll: function (t) {\r\n          var e = t || ''\r\n          this.forEach(function (t, n) {\r\n            t.get('context') == e && (t.set('active', !1), t.get('buttons').length && t.get('buttons').deactivateAll(e))\r\n          })\r\n        },\r\n        disableAllButtons: function (t) {\r\n          var e = t || ''\r\n          this.forEach(function (t, n) {\r\n            t.get('context') == e &&\r\n              (t.set('disable', !0), t.get('buttons').length && t.get('buttons').disableAllButtons(e))\r\n          })\r\n        },\r\n        disableAllButtonsExceptOne: function (t, e) {\r\n          this.forEach(function (n, i) {\r\n            n !== t &&\r\n              (n.set('disable', !0), e && n.get('buttons').length && n.get('buttons').disableAllButtonsExceptOne(t, e))\r\n          })\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(0),\r\n        o = n(157)\r\n      t.exports = r.View.extend({\r\n        initialize: function (t) {\r\n          var e = t.config || {},\r\n            n = this.model\r\n          ;(this.config = e),\r\n            (this.pfx = e.stylePrefix || ''),\r\n            (this.ppfx = e.pStylePrefix || ''),\r\n            (this.buttons = n.get('buttons')),\r\n            (this.className = this.pfx + 'panel'),\r\n            (this.id = this.pfx + n.get('id')),\r\n            this.listenTo(n, 'change:appendContent', this.appendContent),\r\n            this.listenTo(n, 'change:content', this.updateContent),\r\n            this.listenTo(n, 'change:visible', this.toggleVisible),\r\n            (n.view = this)\r\n        },\r\n        appendContent: function () {\r\n          this.$el.append(this.model.get('appendContent'))\r\n        },\r\n        updateContent: function () {\r\n          this.$el.html(this.model.get('content'))\r\n        },\r\n        toggleVisible: function () {\r\n          this.model.get('visible')\r\n            ? this.$el.removeClass(this.ppfx + 'hidden')\r\n            : this.$el.addClass(this.ppfx + 'hidden')\r\n        },\r\n        attributes: function () {\r\n          return this.model.get('attributes')\r\n        },\r\n        initResize: function () {\r\n          var t = this.config.em,\r\n            e = t ? t.get('Editor') : '',\r\n            n = this.model.get('resizable')\r\n          if (e && n) {\r\n            var r,\r\n              o,\r\n              s,\r\n              a = !0 === n ? [1, 1, 1, 1] : n,\r\n              l = a.length,\r\n              c = 0\r\n            2 == l\r\n              ? ((r = a[0]), (s = a[0]), (o = a[1]), (c = a[1]))\r\n              : 4 == l && ((r = a[0]), (o = a[1]), (s = a[2]), (c = a[3]))\r\n            var u = e.Utils.Resizer.init(\r\n              i(\r\n                {\r\n                  tc: r,\r\n                  cr: o,\r\n                  bc: s,\r\n                  cl: c,\r\n                  tl: 0,\r\n                  tr: 0,\r\n                  bl: 0,\r\n                  br: 0,\r\n                  appendTo: this.el,\r\n                  silentFrames: 1,\r\n                  avoidContainerUpdate: 1,\r\n                  prefix: e.getConfig().stylePrefix,\r\n                  onEnd: function () {\r\n                    t && t.trigger('change:canvasOffset')\r\n                  },\r\n                  posFetcher: function (t, e) {\r\n                    var n = e.target,\r\n                      i = t.style,\r\n                      r = u.getConfig(),\r\n                      o = r.keyWidth,\r\n                      s = r.keyHeight,\r\n                      a = t.getBoundingClientRect(),\r\n                      l = 'container' == n,\r\n                      c = i[o],\r\n                      h = i[s]\r\n                    return {\r\n                      left: 0,\r\n                      top: 0,\r\n                      width: c && !l ? parseFloat(c) : a.width,\r\n                      height: h && !l ? parseFloat(h) : a.height\r\n                    }\r\n                  }\r\n                },\r\n                n\r\n              )\r\n            )\r\n            ;(u.blur = function () {}), u.focus(this.el)\r\n          }\r\n        },\r\n        render: function () {\r\n          var t = this.$el,\r\n            e = this.ppfx,\r\n            n = this.className + ' ' + this.id + ' ' + e + 'one-bg ' + e + 'two-color'\r\n          if ((t.addClass(n), this.buttons.length)) {\r\n            var i = new o({ collection: this.buttons, config: this.config })\r\n            t.append(i.render().el)\r\n          }\r\n          return t.append(this.model.get('content')), this\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1)\r\n      t.exports = n(66).extend({\r\n        events: { 'click [data-toggle=asset-remove]': 'onRemove', click: 'onClick', dblclick: 'onDblClick' },\r\n        getPreview: function () {\r\n          var t = this.pfx\r\n          return (\r\n            '\\n      <div class=\"' +\r\n            t +\r\n            'preview\" style=\"background-image: url(\\'' +\r\n            this.model.get('src') +\r\n            '\\');\"></div>\\n      <div class=\"' +\r\n            t +\r\n            'preview-bg ' +\r\n            this.ppfx +\r\n            'checker-bg\"></div>\\n    '\r\n          )\r\n        },\r\n        getInfo: function () {\r\n          var t = this.pfx,\r\n            e = this.model,\r\n            n = e.get('name'),\r\n            i = e.get('width'),\r\n            r = e.get('height'),\r\n            o = e.get('unitDim'),\r\n            s = i && r ? i + 'x' + r + o : ''\r\n          return (\r\n            '\\n      <div class=\"' +\r\n            t +\r\n            'name\">' +\r\n            (n = n || e.getFilename()) +\r\n            '</div>\\n      <div class=\"' +\r\n            t +\r\n            'dimensions\">' +\r\n            s +\r\n            '</div>\\n    '\r\n          )\r\n        },\r\n        init: function (t) {\r\n          var e = this.pfx\r\n          this.className += ' ' + e + 'asset-image'\r\n        },\r\n        onClick: function () {\r\n          var t = this.config.onClick,\r\n            e = this.model\r\n          this.collection.trigger('deselectAll'),\r\n            this.$el.addClass(this.pfx + 'highlight'),\r\n            (0, i.isFunction)(t) ? t(e) : this.updateTarget(this.collection.target)\r\n        },\r\n        onDblClick: function () {\r\n          var t = this.em,\r\n            e = this.model,\r\n            n = this.config.onDblClick\r\n          ;(0, i.isFunction)(n) ? n(e) : (this.updateTarget(this.collection.target), t && t.get('Modal').close())\r\n          var r = this.collection.onSelect\r\n          ;(0, i.isFunction)(r) && r(e)\r\n        },\r\n        onRemove: function (t) {\r\n          t.stopImmediatePropagation(), this.model.collection.remove(this.model)\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      ;(function (e) {\r\n        var i,\r\n          r = n(0),\r\n          o = (i = r) && i.__esModule ? i : { default: i }\r\n        t.exports = o.default.View.extend({\r\n          initialize: function () {\r\n            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n            ;(this.options = t), (this.collection = t.collection)\r\n            var e = t.config || {}\r\n            ;(this.config = e),\r\n              (this.pfx = e.stylePrefix || ''),\r\n              (this.ppfx = e.pStylePrefix || ''),\r\n              (this.em = e.em),\r\n              (this.className = this.pfx + 'asset'),\r\n              this.listenTo(this.model, 'destroy remove', this.remove),\r\n              (this.model.view = this)\r\n            var n = this.init && this.init.bind(this)\r\n            n && n(t)\r\n          },\r\n          template: function () {\r\n            var t = this.pfx\r\n            return (\r\n              '\\n      <div class=\"' +\r\n              t +\r\n              'preview-cont\">\\n        ' +\r\n              this.getPreview() +\r\n              '\\n      </div>\\n      <div class=\"' +\r\n              t +\r\n              'meta\">\\n        ' +\r\n              this.getInfo() +\r\n              '\\n      </div>\\n      <div class=\"' +\r\n              t +\r\n              'close\" data-toggle=\"asset-remove\">\\n        &Cross;\\n      </div>\\n    '\r\n            )\r\n          },\r\n          updateTarget: function (t) {\r\n            t && t.set && (t.set('attributes', e.clone(t.get('attributes'))), t.set('src', this.model.get('src')))\r\n          },\r\n          getPreview: function () {\r\n            return ''\r\n          },\r\n          getInfo: function () {\r\n            return ''\r\n          },\r\n          render: function () {\r\n            var t = this.el\r\n            return (t.innerHTML = this.template(this, this.model)), (t.className = this.className), this\r\n          }\r\n        })\r\n      }.call(this, n(1)))\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = s(n(1)),\r\n        r = s(n(0)),\r\n        o = s(n(47))\r\n      function s (t) {\r\n        return t && t.__esModule ? t : { default: t }\r\n      }\r\n      t.exports = r.default.View.extend(\r\n        {\r\n          template: i.default.template(\r\n            '\\n  <form>\\n    <div id=\"<%= pfx %>title\"><%= title %></div>\\n    <input type=\"file\" id=\"<%= uploadId %>\" name=\"file\" accept=\"*/*\" <%= disabled ? \\'disabled\\' : \\'\\' %> <%= multiUpload ? \\'multiple\\' : \\'\\' %>/>\\n    <div style=\"clear:both;\"></div>\\n  </form>\\n  '\r\n          ),\r\n          events: {},\r\n          initialize: function () {\r\n            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n            this.options = t\r\n            var e = t.config || {}\r\n            ;(this.config = e),\r\n              (this.pfx = e.stylePrefix || ''),\r\n              (this.ppfx = e.pStylePrefix || ''),\r\n              (this.target = this.options.globalCollection || {}),\r\n              (this.uploadId = this.pfx + 'uploadFile'),\r\n              (this.disabled = void 0 !== e.disableUpload ? e.disableUpload : !e.upload && !e.embedAsBase64),\r\n              (this.multiUpload = void 0 === e.multiUpload || e.multiUpload),\r\n              (this.events['change #' + this.uploadId] = 'uploadFile')\r\n            var n = e.uploadFile\r\n            n\r\n              ? (this.uploadFile = n.bind(this))\r\n              : e.embedAsBase64 && (this.uploadFile = this.constructor.embedAsBase64),\r\n              this.delegateEvents()\r\n          },\r\n          onUploadStart: function () {\r\n            var t = this.config.em\r\n            t && t.trigger('asset:upload:start')\r\n          },\r\n          onUploadEnd: function (t) {\r\n            var e = this.config.em\r\n            e && e.trigger('asset:upload:end', t)\r\n          },\r\n          onUploadError: function (t) {\r\n            var e = this.config.em\r\n            console.error(t), this.onUploadEnd(t), e && e.trigger('asset:upload:error', t)\r\n          },\r\n          onUploadResponse: function (t, e) {\r\n            var n = this.config.em,\r\n              i = this.config,\r\n              r = this.target,\r\n              o = void 0\r\n            try {\r\n              o = 'string' == typeof t ? JSON.parse(t) : t\r\n            } catch (e) {\r\n              o = t\r\n            }\r\n            n && n.trigger('asset:upload:response', o),\r\n              i.autoAdd && r && r.add(o.data, { at: 0 }),\r\n              this.onUploadEnd(t),\r\n              e && e(o)\r\n          },\r\n          uploadFile: function (t, e) {\r\n            var n = this,\r\n              i = t.dataTransfer ? t.dataTransfer.files : t.target.files,\r\n              r = new FormData(),\r\n              s = this.config,\r\n              a = s.params\r\n            for (var l in a) r.append(l, a[l])\r\n            if (this.multiUpload) for (var c = 0; c < i.length; c++) r.append(s.uploadName + '[]', i[c])\r\n            else i.length && r.append(s.uploadName, i[0])\r\n            this.target\r\n            var u = s.upload,\r\n              h = s.headers\r\n            if ((void 0 === h['X-Requested-With'] && (h['X-Requested-With'] = 'XMLHttpRequest'), u))\r\n              return (\r\n                this.onUploadStart(),\r\n                (0, o.default)(u, { method: 'post', credentials: s.credentials || 'include', headers: h, body: r })\r\n                  .then(function (t) {\r\n                    return 1 == ((t.status / 200) | 0)\r\n                      ? t.text()\r\n                      : t.text().then(function (t) {\r\n                          return Promise.reject(t)\r\n                        })\r\n                  })\r\n                  .then(function (t) {\r\n                    return n.onUploadResponse(t, e)\r\n                  })\r\n                  .catch(function (t) {\r\n                    return n.onUploadError(t)\r\n                  })\r\n              )\r\n          },\r\n          initDrop: function () {\r\n            var t = this\r\n            if (\r\n              !this.uploadForm &&\r\n              ((this.uploadForm = this.$el.find('form').get(0)), 'draggable' in this.uploadForm)\r\n            ) {\r\n              this.uploadFile\r\n              ;(this.uploadForm.ondragover = function () {\r\n                return (this.className = t.pfx + 'hover'), !1\r\n              }),\r\n                (this.uploadForm.ondragleave = function () {\r\n                  return (this.className = ''), !1\r\n                }),\r\n                (this.uploadForm.ondrop = function (e) {\r\n                  ;(this.className = ''), e.preventDefault(), t.uploadFile(e)\r\n                })\r\n            }\r\n          },\r\n          initDropzone: function (t) {\r\n            var e = this,\r\n              n = 0,\r\n              i = this.config,\r\n              r = t.model,\r\n              o = t.el,\r\n              s = r.get('Editor'),\r\n              a = (r.get('Config').el, r.get('Canvas').getBody()),\r\n              l = this.ppfx,\r\n              c = l + 'dropzone-active',\r\n              u = l + 'dropzone',\r\n              h = function () {\r\n                ;(o.className = o.className.replace(c, '').trim()), (n = 0)\r\n              },\r\n              d = function () {\r\n                return n || ((o.className += ' ' + c), (n = 1)), !1\r\n              },\r\n              f = function () {\r\n                return h(), !1\r\n              },\r\n              p = function (t) {\r\n                if ((h(), t.preventDefault(), t.stopPropagation(), e.uploadFile(t), i.openAssetsOnDrop && s)) {\r\n                  var n = s.getSelected()\r\n                  s.runCommand('open-assets', {\r\n                    target: n,\r\n                    onSelect: function () {\r\n                      s.Modal.close(), s.AssetManager.setTarget(null)\r\n                    }\r\n                  })\r\n                }\r\n                return !1\r\n              }\r\n            t.$el.append('<div class=\"' + u + '\">' + i.dropzoneContent + '</div>'),\r\n              h(),\r\n              'draggable' in o &&\r\n                [o, a].forEach(function (t) {\r\n                  ;(t.ondragover = d), (t.ondragleave = f), (t.ondrop = p)\r\n                })\r\n          },\r\n          render: function () {\r\n            return (\r\n              this.$el.html(\r\n                this.template({\r\n                  title: this.config.uploadText,\r\n                  uploadId: this.uploadId,\r\n                  disabled: this.disabled,\r\n                  multiUpload: this.multiUpload,\r\n                  pfx: this.pfx\r\n                })\r\n              ),\r\n              this.initDrop(),\r\n              this.$el.attr('class', this.pfx + 'file-uploader'),\r\n              this\r\n            )\r\n          }\r\n        },\r\n        {\r\n          embedAsBase64: function (t, e) {\r\n            var n = this,\r\n              i = t.dataTransfer ? t.dataTransfer.files : t.target.files,\r\n              r = { data: [] }\r\n            if (FileReader) {\r\n              var o = [],\r\n                s = /^(.+)\\/(.+)$/,\r\n                a = function (t) {\r\n                  var e = new Promise(function (e, n) {\r\n                    var i = new FileReader()\r\n                    i.addEventListener('load', function (r) {\r\n                      var o = void 0,\r\n                        a = t.name,\r\n                        l = s.exec(t.type)\r\n                      if ('image' === (o = l ? l[1] : t.type)) {\r\n                        var c = { src: i.result, name: a, type: o, height: 0, width: 0 },\r\n                          u = new Image()\r\n                        u.addEventListener('error', function (t) {\r\n                          n(t)\r\n                        }),\r\n                          u.addEventListener('load', function () {\r\n                            ;(c.height = u.height), (c.width = u.width), e(c)\r\n                          }),\r\n                          (u.src = c.src)\r\n                      } else e(o ? { src: i.result, name: a, type: o } : i.result)\r\n                    }),\r\n                      i.addEventListener('error', function (t) {\r\n                        n(t)\r\n                      }),\r\n                      i.addEventListener('abort', function (t) {\r\n                        n('Aborted')\r\n                      }),\r\n                      i.readAsDataURL(t)\r\n                  })\r\n                  o.push(e)\r\n                },\r\n                l = !0,\r\n                c = !1,\r\n                u = void 0\r\n              try {\r\n                for (var h, d = i[Symbol.iterator](); !(l = (h = d.next()).done); l = !0) {\r\n                  a(h.value)\r\n                }\r\n              } catch (t) {\r\n                ;(c = !0), (u = t)\r\n              } finally {\r\n                try {\r\n                  !l && d.return && d.return()\r\n                } finally {\r\n                  if (c) throw u\r\n                }\r\n              }\r\n              Promise.all(o).then(\r\n                function (t) {\r\n                  ;(r.data = t), n.onUploadResponse(r, e)\r\n                },\r\n                function (t) {\r\n                  n.onUploadError(t)\r\n                }\r\n              )\r\n            } else this.onUploadError(new Error('Unsupported platform, FileReader is not defined'))\r\n          }\r\n        }\r\n      )\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1),\r\n        r = a(i),\r\n        o = a(n(0)),\r\n        s = a(n(69))\r\n      function a (t) {\r\n        return t && t.__esModule ? t : { default: t }\r\n      }\r\n      var l = n(10)\r\n      t.exports = o.default.Model.extend(s.default).extend({\r\n        defaults: {\r\n          selectors: {},\r\n          selectorsAdd: '',\r\n          style: {},\r\n          mediaText: '',\r\n          state: '',\r\n          stylable: !0,\r\n          atRuleType: '',\r\n          singleAtRule: 0,\r\n          important: 0\r\n        },\r\n        initialize: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n          this.config = t || {}\r\n          var n = e.em,\r\n            i = this.config.selectors || []\r\n          if (((this.em = n), n)) {\r\n            var r = n.get('SelectorManager'),\r\n              o = []\r\n            i.forEach(function (t) {\r\n              o.push(r.add(t))\r\n            }),\r\n              (i = o)\r\n          }\r\n          this.set('selectors', new l(i))\r\n        },\r\n        getAtRule: function () {\r\n          var t = this.get('atRuleType'),\r\n            e = this.get('mediaText'),\r\n            n = t ? '@' + t : e ? '@media' : ''\r\n          return n + (e && n ? ' ' + e : '')\r\n        },\r\n        selectorsToString: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            e = [],\r\n            n = this.em,\r\n            i = this.get('state'),\r\n            r = this.get('wrapper'),\r\n            o = this.get('selectorsAdd'),\r\n            s = r && n && n.getConfig('wrappesIsBody') ? 'body' : this.get('selectors').getFullString(),\r\n            a = i ? ':' + i : ''\r\n          return s && e.push('' + s + a), o && !t.skipAdd && e.push(o), e.join(', ')\r\n        },\r\n        getDeclaration: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            e = '',\r\n            n = this.selectorsToString(),\r\n            i = this.styleToString(t),\r\n            r = this.get('singleAtRule')\r\n          return (n || r) && i && (e = r ? i : n + '{' + i + '}'), e\r\n        },\r\n        toCSS: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            e = '',\r\n            n = this.getAtRule(),\r\n            i = this.getDeclaration(t)\r\n          return i && (e = i), n && e && (e = n + '{' + e + '}'), e\r\n        },\r\n        toJSON: function () {\r\n          for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n          var r = o.default.Model.prototype.toJSON.apply(this, e)\r\n          if (this.em.getConfig('avoidDefaults')) {\r\n            var s = this.defaults\r\n            ;(0, i.forEach)(s, function (t, e) {\r\n              r[e] === t && delete r[e]\r\n            }),\r\n              (0, i.isEmpty)(r.selectors) && delete r.selectors,\r\n              (0, i.isEmpty)(r.style) && delete r.style\r\n          }\r\n          return r\r\n        },\r\n        compare: function (t, e, n) {\r\n          var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {},\r\n            o = e || '',\r\n            s = n || '',\r\n            a = i.selectorsAdd || '',\r\n            l = i.atRuleType || ''\r\n          t instanceof Array || t.models || (t = [t])\r\n          var c = r.default.map(t.models || t, function (t) {\r\n              return t.get('name')\r\n            }),\r\n            u = r.default.map(this.get('selectors').models, function (t) {\r\n              return t.get('name')\r\n            })\r\n          if (c.length !== u.length) return !1\r\n          for (var h = 0; h < c.length; h++) {\r\n            for (var d = 0, f = 0; f < u.length; f++) c[h] === u[f] && (d = 1)\r\n            if (0 === d) return !1\r\n          }\r\n          return (\r\n            this.get('state') === o &&\r\n            this.get('mediaText') === s &&\r\n            this.get('selectorsAdd') === a &&\r\n            this.get('atRuleType') === l\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      Object.defineProperty(e, '__esModule', { value: !0 })\r\n      var i,\r\n        r =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        o = n(1),\r\n        s = n(2),\r\n        a = n(48)\r\n      var l = (0, ((i = a) && i.__esModule ? i : { default: i }).default)().parseStyle\r\n      e.default = {\r\n        parseStyle: l,\r\n        extendStyle: function (t) {\r\n          return r({}, this.getStyle(), t)\r\n        },\r\n        getStyle: function () {\r\n          return r({}, this.get('style'))\r\n        },\r\n        setStyle: function () {\r\n          var t = this,\r\n            e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n          ;(0, o.isString)(e) && (e = l(e))\r\n          var i = this.getStyle(),\r\n            a = r({}, e)\r\n          this.set('style', a, n)\r\n          var c = (0, s.shallowDiff)(i, a)\r\n          return (\r\n            (0, o.keys)(c).forEach(function (e) {\r\n              var n = t.em\r\n              t.trigger('change:style:' + e),\r\n                n && (n.trigger('styleable:change', t, e), n.trigger('styleable:change:' + e, t, e))\r\n            }),\r\n            a\r\n          )\r\n        },\r\n        addStyle: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : '',\r\n            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}\r\n          'string' == typeof t ? (t = { prop: e }) : (n = e || {}), (t = this.extendStyle(t)), this.setStyle(t, n)\r\n        },\r\n        removeStyle: function (t) {\r\n          var e = this.getStyle()\r\n          delete e[t], this.setStyle(e)\r\n        },\r\n        styleToString: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            e = [],\r\n            n = this.getStyle()\r\n          for (var i in n) {\r\n            var r = t.important,\r\n              s = (0, o.isArray)(r) ? r.indexOf(i) >= 0 : r,\r\n              a = n[i] + (s ? ' !important' : '')\r\n            a && e.push(i + ':' + a + ';')\r\n          }\r\n          return e.join('')\r\n        },\r\n        getSelectors: function () {\r\n          return this.get('selectors') || this.get('classes')\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = n(0).View.extend({\r\n        tagName: 'style',\r\n        initialize: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n          this.config = t.config || {}\r\n          var e = this.model\r\n          this.listenTo(e, 'change:style change:state change:mediaText', this.render),\r\n            this.listenTo(e, 'destroy remove', this.remove),\r\n            this.listenTo(e.get('selectors'), 'change', this.render)\r\n        },\r\n        render: function () {\r\n          var t = this.model.get('important')\r\n          return (this.el.innerHTML = this.model.toCSS({ important: t })), this\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(0)\r\n      t.exports = i.View.extend({\r\n        itemView: '',\r\n        itemsView: '',\r\n        itemType: 'type',\r\n        initialize: function (t, e) {\r\n          this.config = e || {}\r\n        },\r\n        addTo: function (t) {\r\n          this.add(t)\r\n        },\r\n        add: function (t, e) {\r\n          var n = e || null,\r\n            i = this.itemView,\r\n            r = t.get(this.itemType)\r\n          this.itemsView && this.itemsView[r] && (i = this.itemsView[r])\r\n          var o = new i({ model: t, config: this.config }, this.config).render().el\r\n          n ? n.appendChild(o) : this.$el.append(o)\r\n        },\r\n        render: function () {\r\n          var t = document.createDocumentFragment()\r\n          return (\r\n            this.$el.empty(),\r\n            this.collection.length &&\r\n              this.collection.each(function (e) {\r\n                this.add(e, t)\r\n              }, this),\r\n            this.$el.append(t),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i },\r\n        s = n(1)\r\n      t.exports = o.default.View.extend({\r\n        initialize: function (t) {\r\n          ;(this.opts = t || {}), (this.config = t.config || {})\r\n          var e = this.collection\r\n          this.listenTo(e, 'add', this.addTo),\r\n            this.listenTo(e, 'reset', this.resetChildren),\r\n            this.listenTo(e, 'remove', this.removeChildren)\r\n        },\r\n        removeChildren: function (t) {\r\n          var e = this.config.em,\r\n            n = t.view,\r\n            i = t.opt.temporary\r\n          if (n) {\r\n            n.remove.apply(n)\r\n            var r = n.childrenView\r\n            r && r.stopListening(),\r\n              t.components().forEach(this.removeChildren.bind(this)),\r\n              !i && t.removed(),\r\n              e &&\r\n                (t.get('style-signature') && e.get('Commands').run('core:component-style-clear', { target: t }),\r\n                !i && e.trigger('component:remove', t))\r\n          }\r\n        },\r\n        addTo: function (t) {\r\n          arguments.length > 1 && void 0 !== arguments[1] && arguments[1]\r\n          var e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\r\n            n = this.config.em,\r\n            i = this.collection.indexOf(t)\r\n          this.addToCollection(t, null, i), n && !e.temporary && n.trigger('component:add', t)\r\n        },\r\n        addToCollection: function (t, e, i) {\r\n          this.compView || (this.compView = n(4))\r\n          for (\r\n            var r = e || null, o = this.compView, a = this.opts.componentTypes, l = t.get('type'), c = 0;\r\n            c < a.length;\r\n            c++\r\n          ) {\r\n            if (a[c].id == l) {\r\n              o = a[c].view\r\n              break\r\n            }\r\n          }\r\n          var u = new o({ model: t, config: this.config, componentTypes: a }),\r\n            h = u.render().el\r\n          if (('textnode' == u.model.get('type') && (h = document.createTextNode(u.model.get('content'))), r))\r\n            r.appendChild(h)\r\n          else {\r\n            var d = this.parentEl,\r\n              f = d.childNodes\r\n            if ((0, s.isUndefined)(i)) d.appendChild(h)\r\n            else {\r\n              var p = f.length == i\r\n              p && i--, p || !f.length ? d.appendChild(h) : d.insertBefore(h, f[i])\r\n            }\r\n          }\r\n          return h\r\n        },\r\n        resetChildren: function () {\r\n          var t = this\r\n          ;(this.parentEl.innerHTML = ''),\r\n            this.collection.each(function (e) {\r\n              return t.addToCollection(e)\r\n            })\r\n        },\r\n        render: function (t) {\r\n          var e = this,\r\n            n = this.el,\r\n            i = document.createDocumentFragment()\r\n          return (\r\n            (this.parentEl = t || this.el),\r\n            this.collection.each(function (t) {\r\n              return e.addToCollection(t, i)\r\n            }),\r\n            (n.innerHTML = ''),\r\n            n.appendChild(i),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(74)\r\n      t.exports = i.extend({\r\n        render: function () {\r\n          for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n          return i.prototype.render.apply(this, e), this.el.addEventListener('click', this.prevDef, !0), this\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(2),\r\n        r = n(4)\r\n      t.exports = r.extend({\r\n        events: { dblclick: 'onActive', input: 'onInput' },\r\n        initialize: function (t) {\r\n          r.prototype.initialize.apply(this, arguments), (this.disableEditing = this.disableEditing.bind(this))\r\n          var e = this.model,\r\n            n = this.em\r\n          this.listenTo(e, 'focus', this.onActive),\r\n            this.listenTo(e, 'change:content', this.updateContentText),\r\n            (this.rte = n && n.get('RichTextEditor'))\r\n        },\r\n        updateContentText: function (t, e) {\r\n          !(arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}).fromDisable && this.disableEditing()\r\n        },\r\n        onActive: function (t) {\r\n          if (!this.rteEnabled && this.model.get('editable')) {\r\n            t && t.stopPropagation && t.stopPropagation()\r\n            var e = this.rte\r\n            if (e)\r\n              try {\r\n                this.activeRte = e.enable(this, this.activeRte)\r\n              } catch (t) {\r\n                console.error(t)\r\n              }\r\n            ;(this.rteEnabled = 1), this.toggleEvents(1)\r\n          }\r\n        },\r\n        disableEditing: function () {\r\n          var t = this.model,\r\n            e = t.get('editable'),\r\n            n = this.rte,\r\n            i = { fromDisable: 1 }\r\n          if (n && e) {\r\n            try {\r\n              n.disable(this, this.activeRte)\r\n            } catch (t) {\r\n              console.error(t)\r\n            }\r\n            var r = this.getChildrenContainer().innerHTML,\r\n              o = t.get('components')\r\n            if ((o.length && o.reset(), t.set('content', '', i), n.customRte)) t.set('content', r, i)\r\n            else {\r\n              t.trigger('change:content', t, '', i),\r\n                o.add(r),\r\n                o.each(function (t) {\r\n                  return (function t (e) {\r\n                    var n = !['text', 'default', ''].some(function (t) {\r\n                      return e.is(t)\r\n                    })\r\n                    e.set({\r\n                      editable: n && e.get('editable'),\r\n                      highlightable: 0,\r\n                      removable: 0,\r\n                      draggable: 0,\r\n                      copyable: 0,\r\n                      selectable: n,\r\n                      hoverable: n,\r\n                      toolbar: ''\r\n                    }),\r\n                      e.get('components').each(function (e) {\r\n                        return t(e)\r\n                      })\r\n                  })(t)\r\n                }),\r\n                o.trigger('resetNavigator')\r\n            }\r\n          }\r\n          ;(this.rteEnabled = 0), this.toggleEvents()\r\n        },\r\n        onInput: function (t) {\r\n          var e = this.em\r\n          e && e.trigger('change:canvasOffset')\r\n        },\r\n        disablePropagation: function (t) {\r\n          t.stopPropagation()\r\n        },\r\n        toggleEvents: function (t) {\r\n          var e = t ? 'on' : 'off',\r\n            n = { on: i.on, off: i.off }\r\n          this.em.setEditing(t)\r\n          var r = [this.el.ownerDocument, document]\r\n          n.off(r, 'mousedown', this.disableEditing),\r\n            n[e](r, 'mousedown', this.disableEditing),\r\n            this.$el.off('mousedown', this.disablePropagation),\r\n            this.$el[e]('mousedown', this.disablePropagation)\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = a(n(212)),\r\n        o = a(n(76)),\r\n        s = n(1)\r\n      function a (t) {\r\n        return t && t.__esModule ? t : { default: t }\r\n      }\r\n      t.exports = function () {\r\n        var t = void 0,\r\n          e = void 0,\r\n          n = {}\r\n        return {\r\n          name: 'LayerManager',\r\n          init: function () {\r\n            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n            return ((n = i({}, r.default, e)).stylePrefix = e.pStylePrefix), (t = n.em), this\r\n          },\r\n          getConfig: function () {\r\n            return n\r\n          },\r\n          onLoad: function () {\r\n            ;(e = new o.default({\r\n              level: 0,\r\n              config: n,\r\n              opened: n.opened || {},\r\n              model: t.get('DomComponents').getWrapper()\r\n            })),\r\n              t && t.on('component:selected', this.componentChanged),\r\n              this.componentChanged()\r\n          },\r\n          postRender: function () {\r\n            var t = n.appendTo,\r\n              e = n.root\r\n            ;(e && this.setRoot(e), t) &&\r\n              ((0, s.isElement)(t) ? t : document.querySelector(t)).appendChild(this.render())\r\n          },\r\n          setRoot: function (t) {\r\n            return e.setRoot(t), this\r\n          },\r\n          getRoot: function () {\r\n            return e.model\r\n          },\r\n          getAll: function () {\r\n            return e\r\n          },\r\n          componentChanged: function (e) {\r\n            if (!(arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}).fromLayers) {\r\n              var i = t.get('opened'),\r\n                r = t.getSelected(),\r\n                o = n.scrollLayers,\r\n                s = r && r.collection ? r.collection.parent : null\r\n              for (var a in i) i[a].set('open', 0)\r\n              for (; s; ) s.set('open', 1), (i[s.cid] = s), (s = s.collection ? s.collection.parent : null)\r\n              if (r && o) {\r\n                var l = r.viewLayer && r.viewLayer.el\r\n                l && l.scrollIntoView(o)\r\n              }\r\n            }\r\n          },\r\n          render: function () {\r\n            return e.render().el\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      Object.defineProperty(e, '__esModule', { value: !0 })\r\n      var i,\r\n        r = n(1),\r\n        o = n(2),\r\n        s = n(0),\r\n        a = (i = s) && i.__esModule ? i : { default: i }\r\n      var l = n(4),\r\n        c = a.default.$,\r\n        u = void 0\r\n      e.default = a.default.View.extend({\r\n        events: {\r\n          'mousedown [data-toggle-move]': 'startSort',\r\n          'touchstart [data-toggle-move]': 'startSort',\r\n          'click [data-toggle-visible]': 'toggleVisibility',\r\n          'click [data-toggle-select]': 'handleSelect',\r\n          'mouseover [data-toggle-select]': 'handleHover',\r\n          'click [data-toggle-open]': 'toggleOpening',\r\n          'dblclick [data-name]': 'handleEdit',\r\n          'focusout [data-name]': 'handleEditEnd'\r\n        },\r\n        template: function (t) {\r\n          var e = this.pfx,\r\n            n = this.ppfx,\r\n            i = this.config.hidable,\r\n            r = this.countChildren(t),\r\n            o = r ? '' : this.clsNoChild,\r\n            s = this.clsTitle + ' ' + o,\r\n            a = this.clsTitleC + ' ' + n + 'one-bg',\r\n            l = this.clsCaret + ' fa fa-chevron-right',\r\n            c = this.inputNameCls + ' ' + n + 'no-app',\r\n            u = 30 + 10 * (this.level + 1) + 'px',\r\n            h = t.getName()\r\n          return (\r\n            '\\n      ' +\r\n            (i\r\n              ? '<i class=\"' +\r\n                e +\r\n                'layer-vis fa fa-eye ' +\r\n                (this.isVisible() ? '' : 'fa-eye-slash') +\r\n                '\" data-toggle-visible></i>'\r\n              : '') +\r\n            '\\n      <div class=\"' +\r\n            a +\r\n            '\">\\n        <div class=\"' +\r\n            s +\r\n            '\" style=\"padding-left: ' +\r\n            u +\r\n            '\" data-toggle-select>\\n          <div class=\"' +\r\n            e +\r\n            'layer-title-inn\">\\n            <i class=\"' +\r\n            l +\r\n            '\" data-toggle-open></i>\\n            ' +\r\n            t.getIcon() +\r\n            '\\n            <span class=\"' +\r\n            c +\r\n            '\" data-name>' +\r\n            h +\r\n            '</span>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\"' +\r\n            this.clsCount +\r\n            '\">' +\r\n            (r || '') +\r\n            '</div>\\n      <div class=\"' +\r\n            this.clsMove +\r\n            '\" data-toggle-move>\\n        <i class=\"fa fa-arrows\"></i>\\n      </div>\\n      <div class=\"' +\r\n            this.clsChildren +\r\n            '\"></div>'\r\n          )\r\n        },\r\n        initialize: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n          ;(this.opt = t),\r\n            (this.level = t.level),\r\n            (this.config = t.config),\r\n            (this.em = t.config.em),\r\n            (this.ppfx = this.em.get('Config').stylePrefix),\r\n            (this.sorter = t.sorter || ''),\r\n            (this.pfx = this.config.stylePrefix)\r\n          var e = this.pfx,\r\n            n = this.ppfx,\r\n            i = this.model,\r\n            r = i.get('components')\r\n          i.set('open', !1),\r\n            this.listenTo(r, 'remove add reset', this.checkChildren),\r\n            this.listenTo(i, 'change:status', this.updateStatus),\r\n            this.listenTo(i, 'change:open', this.updateOpening),\r\n            this.listenTo(i, 'change:style:display', this.updateVisibility),\r\n            (this.className = e + 'layer no-select ' + n + 'two-color'),\r\n            (this.inputNameCls = n + 'layer-name'),\r\n            (this.clsTitleC = e + 'layer-title-c'),\r\n            (this.clsTitle = e + 'layer-title'),\r\n            (this.clsCaret = e + 'layer-caret'),\r\n            (this.clsCount = e + 'layer-count'),\r\n            (this.clsMove = e + 'layer-move'),\r\n            (this.clsChildren = e + 'layer-children'),\r\n            (this.clsNoChild = e + 'layer-no-chld'),\r\n            this.$el.data('model', i),\r\n            this.$el.data('collection', r),\r\n            (i.viewLayer = this)\r\n        },\r\n        getVisibilityEl: function () {\r\n          return this.eyeEl || (this.eyeEl = this.$el.children('.' + this.pfx + 'layer-vis')), this.eyeEl\r\n        },\r\n        updateVisibility: function () {\r\n          var t = this.pfx + 'layer-hidden',\r\n            e = 'none' == this.model.getStyle().display ? 'addClass' : 'removeClass'\r\n          this.$el[e](t), this.getVisibilityEl()[e]('fa-eye-slash')\r\n        },\r\n        toggleVisibility: function (t) {\r\n          t && t.stopPropagation()\r\n          var e = this.model,\r\n            n = e.getStyle()\r\n          'none' == n.display ? delete n.display : (n.display = 'none'), e.setStyle(n)\r\n        },\r\n        handleEdit: function (t) {\r\n          t && t.stopPropagation()\r\n          var e = this.em,\r\n            n = this.getInputName()\r\n          ;(n.contentEditable = !0), n.focus(), e && e.setEditing(1)\r\n        },\r\n        handleEditEnd: function (t) {\r\n          t && t.stopPropagation()\r\n          var e = this.em,\r\n            n = this.getInputName(),\r\n            i = n.textContent\r\n          ;(n.contentEditable = !1), this.model.set({ name: i }), e && e.setEditing(0)\r\n        },\r\n        getInputName: function () {\r\n          return this.inputName || (this.inputName = this.el.querySelector('.' + this.inputNameCls)), this.inputName\r\n        },\r\n        updateOpening: function () {\r\n          var t = this.opt.opened || {},\r\n            e = this.model\r\n          e.get('open')\r\n            ? (this.$el.addClass('open'), this.getCaret().addClass('fa-chevron-down'), (t[e.cid] = e))\r\n            : (this.$el.removeClass('open'), this.getCaret().removeClass('fa-chevron-down'), delete t[e.cid])\r\n        },\r\n        toggleOpening: function (t) {\r\n          t.stopPropagation(), this.model.get('components').length && this.model.set('open', !this.model.get('open'))\r\n        },\r\n        handleSelect: function (t) {\r\n          t.stopPropagation()\r\n          var e = this.em,\r\n            n = this.config\r\n          if (e) {\r\n            var i = this.model\r\n            e.setSelected(i, { fromLayers: 1 })\r\n            var r = n.scrollCanvas\r\n            r && e.get('Canvas').scrollTo(i, r)\r\n          }\r\n        },\r\n        handleHover: function (t) {\r\n          t.stopPropagation()\r\n          var e = this.em,\r\n            n = this.config,\r\n            i = this.model\r\n          e && n.showHover && e.setHovered(i, { fromLayers: 1 })\r\n        },\r\n        startSort: function (t) {\r\n          t.stopPropagation()\r\n          var e = this.sorter\r\n          ;(t.button && 0 !== t.button) || (e && e.startSort(t.target))\r\n        },\r\n        freeze: function () {\r\n          this.$el.addClass(this.pfx + 'opac50'), this.model.set('open', 0)\r\n        },\r\n        unfreeze: function () {\r\n          this.$el.removeClass(this.pfx + 'opac50')\r\n        },\r\n        updateStatus: function (t) {\r\n          l.prototype.updateStatus.apply(this, [{ avoidHover: !this.config.highlightHover }])\r\n        },\r\n        isVisible: function () {\r\n          var t = this.model.get('style').display\r\n          if (!t || 'none' != t) return 1\r\n        },\r\n        checkChildren: function () {\r\n          var t = this.model,\r\n            e = this.countChildren(t),\r\n            n = (this.pfx, this.clsNoChild),\r\n            i = this.$el.children('.' + this.clsTitleC).children('.' + this.clsTitle)\r\n          this.cnt || (this.cnt = this.$el.children('.' + this.clsCount)),\r\n            e ? (i.removeClass(n), this.cnt.html(e)) : (i.addClass(n), this.cnt.empty(), t.set('open', 0))\r\n        },\r\n        countChildren: function (t) {\r\n          var e = 0\r\n          return (\r\n            t.get('components').each(function (t) {\r\n              var n = this.opt.isCountable,\r\n                i = this.config.hideTextnode\r\n              ;(n && !n(t, i)) || e++\r\n            }, this),\r\n            e\r\n          )\r\n        },\r\n        getCaret: function () {\r\n          if (!this.caret || !this.caret.length) {\r\n            this.pfx\r\n            this.caret = this.$el.children('.' + this.clsTitleC).find('.' + this.clsCaret)\r\n          }\r\n          return this.caret\r\n        },\r\n        setRoot: function (t) {\r\n          t = (0, r.isString)(t) ? this.em.getWrapper().find(t)[0] : t\r\n          var e = (0, o.getModel)(t, c)\r\n          e && (this.stopListening(), (this.model = e), this.initialize(this.opt), this.render())\r\n        },\r\n        render: function () {\r\n          var t = this.model,\r\n            e = this.pfx,\r\n            i = this.isVisible(),\r\n            o = this.$el.empty(),\r\n            s = this.level + 1\r\n          ;(0, r.isUndefined)(u) && (u = n(213))\r\n          var a = new u({\r\n            collection: t.get('components'),\r\n            config: this.config,\r\n            sorter: this.sorter,\r\n            opened: this.opt.opened,\r\n            parent: t,\r\n            level: s\r\n          }).render().$el\r\n          return (\r\n            this.config.showWrapper || 1 !== s\r\n              ? (o.html(this.template(t)), o.find('.' + this.clsChildren).append(a))\r\n              : o.append(a),\r\n            (t.get('draggable') && this.config.sortable) || o.children('.' + this.clsMove).remove(),\r\n            !i && (this.className += ' ' + e + 'hide'),\r\n            o.attr('class', this.className),\r\n            this.updateOpening(),\r\n            this.updateStatus(),\r\n            this.updateVisibility(),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        run: function (t) {\r\n          t.DomComponents.clear(), t.CssComposer.clear()\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1)\r\n      t.exports = {\r\n        run: function (t, e) {\r\n          var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}\r\n          if (!t.getModel().isEditing() && !t.Canvas.isInputFocused()) {\r\n            var r = n.component || t.getSelectedAll()\r\n            return (\r\n              (r = (0, i.isArray)(r)\r\n                ? [].concat(\r\n                    (function (t) {\r\n                      if (Array.isArray(t)) {\r\n                        for (var e = 0, n = Array(t.length); e < t.length; e++) n[e] = t[e]\r\n                        return n\r\n                      }\r\n                      return Array.from(t)\r\n                    })(r)\r\n                  )\r\n                : [r]),\r\n              t.select(null),\r\n              r.forEach(function (t) {\r\n                if (t && t.get('removable')) {\r\n                  if (t) {\r\n                    var e = t.collection\r\n                    t.trigger('component:destroy'), e && e.remove(t)\r\n                  }\r\n                } else console.warn('The element is not removable', t)\r\n              }),\r\n              r\r\n            )\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        run: function (t) {\r\n          if (t.Canvas.hasFocus() && !t.getModel().isEditing() && !t.Canvas.isInputFocused()) {\r\n            var e = []\r\n            t.getSelectedAll().forEach(function (t) {\r\n              var n = t.components(),\r\n                i = n && n.at(0)\r\n              i && e.push(i)\r\n            }),\r\n              e.length && t.select(e)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        run: function (t) {\r\n          if (t.Canvas.hasFocus() && !t.getModel().isEditing() && !t.Canvas.isInputFocused()) {\r\n            var e = []\r\n            t.getSelectedAll().forEach(function (t) {\r\n              var n = t.parent()\r\n              n && e.push(n)\r\n            }),\r\n              e.length && t.select(e)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        run: function (t) {\r\n          if (t.Canvas.hasFocus() && !t.getModel().isEditing() && !t.Canvas.isInputFocused()) {\r\n            var e = []\r\n            t.getSelectedAll().forEach(function (t) {\r\n              var n = t.collection,\r\n                i = n.indexOf(t),\r\n                r = n.at(i + 1)\r\n              e.push(r || t)\r\n            }),\r\n              e.length && t.select(e)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        run: function (t) {\r\n          if (t.Canvas.hasFocus() && !t.getModel().isEditing() && !t.Canvas.isInputFocused()) {\r\n            var e = []\r\n            t.getSelectedAll().forEach(function (t) {\r\n              var n = t.collection,\r\n                i = n.indexOf(t),\r\n                r = n.at(i - 1)\r\n              e.push(r && i - 1 >= 0 ? r : t)\r\n            }),\r\n              e.length && t.select(e)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1)\r\n      t.exports = {\r\n        run: function (t, e) {\r\n          var n = (arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}).target,\r\n            r = t.DomComponents,\r\n            o = n.get('type'),\r\n            s = r.getWrapper().find('[data-gjs-type=\"' + o + '\"]').length,\r\n            a = []\r\n          if (!s) {\r\n            var l = t.CssComposer.getAll(),\r\n              c = n.get('style-signature')\r\n            ;(c = (0, i.isArray)(c) ? c : [c]),\r\n              l.forEach(function (t) {\r\n                var e = t.selectorsToString()\r\n                c.forEach(function (n) {\r\n                  n && e.indexOf(n) >= 0 && a.push(t)\r\n                })\r\n              }),\r\n              l.remove(a)\r\n          }\r\n          return a\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        run: function (t) {\r\n          var e = t.getModel(),\r\n            n = [].concat(\r\n              (function (t) {\r\n                if (Array.isArray(t)) {\r\n                  for (var e = 0, n = Array(t.length); e < t.length; e++) n[e] = t[e]\r\n                  return n\r\n                }\r\n                return Array.from(t)\r\n              })(t.getSelectedAll())\r\n            )\r\n          !n.length || e.isEditing() || t.Canvas.isInputFocused() || e.set('clipboard', n)\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1)\r\n      t.exports = {\r\n        run: function (t) {\r\n          var e = t.getModel(),\r\n            n = e.get('clipboard'),\r\n            r = t.getSelected()\r\n          n &&\r\n            r &&\r\n            !e.isEditing() &&\r\n            !t.Canvas.isInputFocused() &&\r\n            (t.getSelectedAll().forEach(function (e) {\r\n              if (e) {\r\n                var r = e.collection,\r\n                  o = r.indexOf(e) + 1,\r\n                  s = n.filter(function (t) {\r\n                    return t.get('copyable')\r\n                  }),\r\n                  a = void 0\r\n                ;(a =\r\n                  (0, i.contains)(n, e) && e.get('copyable')\r\n                    ? r.add(e.clone(), { at: o })\r\n                    : r.add(\r\n                        s.map(function (t) {\r\n                          return t.clone()\r\n                        }),\r\n                        { at: o }\r\n                      )),\r\n                  (a = (0, i.isArray)(a) ? a : [a]).forEach(function (e) {\r\n                    return t.trigger('component:paste', e)\r\n                  })\r\n              }\r\n            }),\r\n            r.emitUpdate())\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      t.exports = o.default.Model.extend({ defaults: { id: '', label: '', open: !0, attributes: {} } })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r,\r\n        o,\r\n        s =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        a = d(n(13)),\r\n        l = d(n(88)),\r\n        c = n(1),\r\n        u = d(n(238)),\r\n        h = d(n(239))\r\n      function d (t) {\r\n        return t && t.__esModule ? t : { default: t }\r\n      }\r\n      ;(0, u.default)(),\r\n        (t.exports = ((i = new h.default()),\r\n        (r = []),\r\n        (o = { autorender: 1, plugins: [], pluginsOpts: {} }),\r\n        {\r\n          $: a.default,\r\n          editors: r,\r\n          plugins: i,\r\n          version: '0.14.50',\r\n          init: function () {\r\n            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n              e = t.container\r\n            if (!e) throw new Error(\"'container' is required\")\r\n            ;(t = s({}, o, t)).el = (0, c.isElement)(e) ? e : document.querySelector(e)\r\n            var n = new l.default(t).init()\r\n            return (\r\n              t.plugins.forEach(function (e) {\r\n                var r = i.get(e),\r\n                  o = t.pluginsOpts[e] || {}\r\n                if (!r) {\r\n                  var s = window[e]\r\n                  r = s && s.default ? s.default : s\r\n                }\r\n                r ? r(n, o) : (0, c.isFunction)(e) ? e(n, o) : console.warn('Plugin ' + e + ' not found')\r\n              }),\r\n              n.getModel().loadOnStart(),\r\n              t.autorender && n.render(),\r\n              r.push(n),\r\n              n\r\n            )\r\n          }\r\n        }))\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      Object.defineProperty(e, '__esModule', { value: !0 })\r\n      var i,\r\n        r = n(13),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      e.default = function (t) {\r\n        var e = t || {},\r\n          i = n(89),\r\n          r = n(90),\r\n          s = n(237)\r\n        for (var a in i) a in e || (e[a] = i[a])\r\n        e.pStylePrefix = e.stylePrefix\r\n        var l = new r(e),\r\n          c = new s({ model: l, config: e })\r\n        return {\r\n          $: o.default,\r\n          editor: l,\r\n          DomComponents: l.get('DomComponents'),\r\n          LayerManager: l.get('LayerManager'),\r\n          CssComposer: l.get('CssComposer'),\r\n          StorageManager: l.get('StorageManager'),\r\n          AssetManager: l.get('AssetManager'),\r\n          BlockManager: l.get('BlockManager'),\r\n          TraitManager: l.get('TraitManager'),\r\n          SelectorManager: l.get('SelectorManager'),\r\n          CodeManager: l.get('CodeManager'),\r\n          Commands: l.get('Commands'),\r\n          Keymaps: l.get('Keymaps'),\r\n          Modal: l.get('Modal'),\r\n          Panels: l.get('Panels'),\r\n          StyleManager: l.get('StyleManager'),\r\n          Canvas: l.get('Canvas'),\r\n          UndoManager: l.get('UndoManager'),\r\n          DeviceManager: l.get('DeviceManager'),\r\n          RichTextEditor: l.get('RichTextEditor'),\r\n          Parser: l.get('Parser'),\r\n          Utils: l.get('Utils'),\r\n          Config: l.get('Config'),\r\n          init: function () {\r\n            return l.init(this), this\r\n          },\r\n          getConfig: function (t) {\r\n            return l.getConfig(t)\r\n          },\r\n          getHtml: function (t) {\r\n            return l.getHtml(t)\r\n          },\r\n          getCss: function (t) {\r\n            return l.getCss(t)\r\n          },\r\n          getJs: function () {\r\n            return l.getJs()\r\n          },\r\n          getComponents: function () {\r\n            return l.get('DomComponents').getComponents()\r\n          },\r\n          getWrapper: function () {\r\n            return l.get('DomComponents').getWrapper()\r\n          },\r\n          setComponents: function (t) {\r\n            return l.setComponents(t), this\r\n          },\r\n          addComponents: function (t, e) {\r\n            return this.getComponents().add(t, e)\r\n          },\r\n          getStyle: function () {\r\n            return l.get('CssComposer').getAll()\r\n          },\r\n          setStyle: function (t) {\r\n            return l.setStyle(t), this\r\n          },\r\n          getSelected: function () {\r\n            return l.getSelected()\r\n          },\r\n          getSelectedAll: function () {\r\n            return l.getSelectedAll()\r\n          },\r\n          getSelectedToStyle: function () {\r\n            var t = l.getSelected()\r\n            if (t) return this.StyleManager.getModelToStyle(t)\r\n          },\r\n          select: function (t) {\r\n            return l.setSelected(t), this\r\n          },\r\n          selectAdd: function (t) {\r\n            return l.addSelected(t), this\r\n          },\r\n          selectRemove: function (t) {\r\n            return l.removeSelected(t), this\r\n          },\r\n          selectToggle: function (t) {\r\n            return l.toggleSelected(t), this\r\n          },\r\n          setDevice: function (t) {\r\n            return l.set('device', t), this\r\n          },\r\n          getDevice: function () {\r\n            return l.get('device')\r\n          },\r\n          runCommand: function (t) {\r\n            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n            return l.get('Commands').run(t, e)\r\n          },\r\n          stopCommand: function (t) {\r\n            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n            return l.get('Commands').stop(t, e)\r\n          },\r\n          store: function (t) {\r\n            return l.store(t)\r\n          },\r\n          load: function (t) {\r\n            return l.load(t)\r\n          },\r\n          getContainer: function () {\r\n            return e.el\r\n          },\r\n          getDirtyCount: function () {\r\n            return l.getDirtyCount()\r\n          },\r\n          refresh: function () {\r\n            l.refreshCanvas()\r\n          },\r\n          setCustomRte: function (t) {\r\n            this.RichTextEditor.customRte = t\r\n          },\r\n          setCustomParserCss: function (t) {\r\n            return (this.Parser.getConfig().parserCss = t), this\r\n          },\r\n          log: function (t) {\r\n            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n            return l.log(t, e), this\r\n          },\r\n          on: function (t, e) {\r\n            return l.on(t, e), this\r\n          },\r\n          once: function (t, e) {\r\n            return l.once(t, e), this\r\n          },\r\n          off: function (t, e) {\r\n            return l.off(t, e), this\r\n          },\r\n          trigger: function (t) {\r\n            return l.trigger.apply(l, arguments), this\r\n          },\r\n          destroy: function () {\r\n            return l.destroyAll()\r\n          },\r\n          getEl: function () {\r\n            return c.el\r\n          },\r\n          getModel: function () {\r\n            return l\r\n          },\r\n          render: function () {\r\n            var t = this\r\n            return (\r\n              l.on('loaded', function () {\r\n                t.UndoManager.clear(),\r\n                  l.get('modules').forEach(function (t) {\r\n                    t.postRender && t.postRender(c)\r\n                  })\r\n              }),\r\n              c.render(),\r\n              c.el\r\n            )\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        stylePrefix: 'gjs-',\r\n        components: '',\r\n        style: '',\r\n        fromElement: 0,\r\n        noticeOnUnload: !0,\r\n        showOffsets: !1,\r\n        showOffsetsSelected: !1,\r\n        forceClass: !0,\r\n        height: '900px',\r\n        width: '100%',\r\n        log: ['warning', 'error'],\r\n        baseCss:\r\n          '\\n    * {\\n      box-sizing: border-box;\\n    }\\n    html, body, #wrapper {\\n      min-height: 100%;\\n    }\\n    body {\\n      margin: 0;\\n      height: 100%;\\n      background-color: #fff\\n    }\\n    #wrapper {\\n      overflow: auto;\\n      overflow-x: hidden;\\n    }\\n\\n    * ::-webkit-scrollbar-track {\\n      background: rgba(0, 0, 0, 0.1)\\n    }\\n\\n    * ::-webkit-scrollbar-thumb {\\n      background: rgba(255, 255, 255, 0.2)\\n    }\\n\\n    * ::-webkit-scrollbar {\\n      width: 10px\\n    }\\n  ',\r\n        protectedCss: '* { box-sizing: border-box; } body {margin: 0;}',\r\n        canvasCss: '',\r\n        defaultCommand: 'select-comp',\r\n        showToolbar: 1,\r\n        allowScripts: 0,\r\n        showDevices: 1,\r\n        devicePreviewMode: 0,\r\n        mediaCondition: 'max-width',\r\n        tagVarStart: '{[ ',\r\n        tagVarEnd: ' ]}',\r\n        keepEmptyTextNodes: 0,\r\n        jsInHtml: !0,\r\n        nativeDnD: 1,\r\n        multipleSelection: 1,\r\n        exportWrapper: 0,\r\n        wrappesIsBody: 1,\r\n        avoidInlineStyle: 0,\r\n        avoidDefaults: 0,\r\n        clearStyles: 0,\r\n        el: '',\r\n        undoManager: {},\r\n        assetManager: {},\r\n        canvas: {},\r\n        layers: {},\r\n        storageManager: {},\r\n        rte: {},\r\n        domComponents: {},\r\n        modal: {},\r\n        codeManager: {},\r\n        panels: {},\r\n        commands: {},\r\n        cssComposer: {},\r\n        selectorManager: {},\r\n        deviceManager: {\r\n          devices: [\r\n            { name: 'Desktop', width: '' },\r\n            { name: 'Tablet', width: '768px', widthMedia: '992px' },\r\n            { name: 'Mobile landscape', width: '568px', widthMedia: '768px' },\r\n            { name: 'Mobile portrait', width: '320px', widthMedia: '480px' }\r\n          ]\r\n        },\r\n        styleManager: {\r\n          sectors: [\r\n            {\r\n              name: 'General',\r\n              open: !1,\r\n              buildProps: ['float', 'display', 'position', 'top', 'right', 'left', 'bottom']\r\n            },\r\n            {\r\n              name: 'Dimension',\r\n              open: !1,\r\n              buildProps: ['width', 'height', 'max-width', 'min-height', 'margin', 'padding']\r\n            },\r\n            {\r\n              name: 'Typography',\r\n              open: !1,\r\n              buildProps: [\r\n                'font-family',\r\n                'font-size',\r\n                'font-weight',\r\n                'letter-spacing',\r\n                'color',\r\n                'line-height',\r\n                'text-align',\r\n                'text-shadow'\r\n              ],\r\n              properties: [\r\n                {\r\n                  property: 'text-align',\r\n                  list: [\r\n                    { value: 'left', className: 'fa fa-align-left' },\r\n                    { value: 'center', className: 'fa fa-align-center' },\r\n                    { value: 'right', className: 'fa fa-align-right' },\r\n                    { value: 'justify', className: 'fa fa-align-justify' }\r\n                  ]\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              name: 'Decorations',\r\n              open: !1,\r\n              buildProps: ['border-radius-c', 'background-color', 'border-radius', 'border', 'box-shadow', 'background']\r\n            },\r\n            { name: 'Extra', open: !1, buildProps: ['transition', 'perspective', 'transform'] }\r\n          ]\r\n        },\r\n        blockManager: {},\r\n        traitManager: {},\r\n        textViewCode: 'Code',\r\n        keepUnusedStyles: 0\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(1),\r\n        o = n(2),\r\n        s = [\r\n          n(92),\r\n          n(96),\r\n          n(97),\r\n          n(100),\r\n          n(109),\r\n          n(114),\r\n          n(49),\r\n          n(133),\r\n          n(137),\r\n          n(141),\r\n          n(153),\r\n          n(160),\r\n          n(163),\r\n          n(169),\r\n          n(174),\r\n          n(182),\r\n          n(75),\r\n          n(214),\r\n          n(221),\r\n          n(228)\r\n        ],\r\n        a = n(0),\r\n        l = a.Collection,\r\n        c = void 0\r\n      n(236)({ Backbone: a, $: a.$ })\r\n      var u = a.$,\r\n        h = { debug: console.log, info: console.info, warning: console.warn, error: console.error }\r\n      t.exports = a.Model.extend({\r\n        defaults: function () {\r\n          return {\r\n            editing: 0,\r\n            selected: new l(),\r\n            clipboard: null,\r\n            designerMode: !1,\r\n            componentHovered: null,\r\n            previousModel: null,\r\n            changesCount: 0,\r\n            storables: [],\r\n            modules: [],\r\n            toLoad: [],\r\n            opened: {},\r\n            device: ''\r\n          }\r\n        },\r\n        initialize: function () {\r\n          var t = this,\r\n            e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n          ;(this.config = e),\r\n            this.set('Config', e),\r\n            this.set('modules', []),\r\n            this.set('toLoad', []),\r\n            this.set('storables', [])\r\n          var n = e.el,\r\n            i = e.log,\r\n            o = !0 === i ? (0, r.keys)(h) : (0, r.isArray)(i) ? i : []\r\n          n && e.fromElement && (this.config.components = n.innerHTML),\r\n            (this.attrsOrig = n\r\n              ? (0, r.toArray)(n.attributes).reduce(function (t, e) {\r\n                  return (t[e.nodeName] = e.nodeValue), t\r\n                }, {})\r\n              : ''),\r\n            s.forEach(function (e) {\r\n              return t.loadModule(e)\r\n            }),\r\n            this.on('change:componentHovered', this.componentHovered, this),\r\n            this.on('change:changesCount', this.updateChanges, this),\r\n            o.forEach(function (e) {\r\n              return t.listenLog(e)\r\n            }),\r\n            [{ from: 'change:selectedComponent', to: 'component:toggled' }].forEach(function (e) {\r\n              var n = e.from,\r\n                i = e.to\r\n              t.listenTo(t, n, function () {\r\n                for (var e = arguments.length, r = Array(e), o = 0; o < e; o++) r[o] = arguments[o]\r\n                t.trigger.apply(t, [i].concat(r)),\r\n                  t.logWarning(\"The event '\" + n + \"' is deprecated, replace it with '\" + i + \"'\")\r\n              })\r\n            })\r\n        },\r\n        listenLog: function (t) {\r\n          this.listenTo(this, 'log:' + t, h[t])\r\n        },\r\n        getConfig: function (t) {\r\n          var e = this.config\r\n          return (0, r.isUndefined)(t) ? e : e[t]\r\n        },\r\n        loadOnStart: function () {\r\n          var t = this,\r\n            e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,\r\n            n = this.get('StorageManager')\r\n          this.get('toLoad').forEach(function (t) {\r\n            t.onLoad()\r\n          })\r\n          var i = function () {\r\n            t.get('modules').forEach(function (e) {\r\n              return e.postLoad && e.postLoad(t)\r\n            }),\r\n              e && e()\r\n          }\r\n          n && n.canAutoload() ? this.load(i) : i()\r\n        },\r\n        updateChanges: function () {\r\n          var t = this.get('StorageManager'),\r\n            e = this.get('changesCount')\r\n          this.config.noticeOnUnload &&\r\n            (window.onbeforeunload = e\r\n              ? function (t) {\r\n                  return 1\r\n                }\r\n              : null),\r\n            t.isAutosave() && e >= t.getStepsBeforeSave() && this.store()\r\n        },\r\n        loadModule: function (t) {\r\n          var e = this.config,\r\n            n = new t(),\r\n            r = e[n.name.charAt(0).toLowerCase() + n.name.slice(1)] || e[n.name] || {}\r\n          r.pStylePrefix = e.pStylePrefix || ''\r\n          var o = this.get('StorageManager')\r\n          if (n.storageKey && n.store && n.load && o) {\r\n            r.stm = o\r\n            var s = this.get('storables')\r\n            s.push(n), this.set('storables', s)\r\n          }\r\n          return (\r\n            (r.em = this),\r\n            n.init(i({}, r)),\r\n            !n.private && this.set(n.name, n),\r\n            n.onLoad && this.get('toLoad').push(n),\r\n            this.get('modules').push(n),\r\n            this\r\n          )\r\n        },\r\n        init: function (t) {\r\n          this.set('Editor', t)\r\n        },\r\n        getEditor: function () {\r\n          return this.get('Editor')\r\n        },\r\n        handleUpdates: function (t, e) {\r\n          var n = this,\r\n            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}\r\n          i.temporary ||\r\n            (c && clearInterval(c),\r\n            (c = setTimeout(function () {\r\n              i.avoidStore || n.set('changesCount', n.get('changesCount') + 1, i)\r\n            }, 0)))\r\n        },\r\n        componentHovered: function (t, e, n) {\r\n          var i = this.previous('componentHovered')\r\n          i && this.trigger('component:unhovered', i, n), e && this.trigger('component:hovered', e, n)\r\n        },\r\n        getSelected: function () {\r\n          return this.get('selected').last()\r\n        },\r\n        getSelectedAll: function () {\r\n          return this.get('selected').models\r\n        },\r\n        setSelected: function (t) {\r\n          var e = this,\r\n            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n            i = (0, r.isArray)(t),\r\n            s = i ? t : [t],\r\n            a = this.get('selected')\r\n          i &&\r\n            this.removeSelected(\r\n              a.filter(function (t) {\r\n                return !(0, r.contains)(s, t)\r\n              })\r\n            ),\r\n            s.forEach(function (t) {\r\n              var r = (0, o.getModel)(t, u)\r\n              ;(r && !r.get('selectable')) ||\r\n                (!i &&\r\n                  e.removeSelected(\r\n                    a.filter(function (t) {\r\n                      return t !== r\r\n                    })\r\n                  ),\r\n                e.addSelected(r, n))\r\n            })\r\n        },\r\n        addSelected: function (t) {\r\n          var e = this,\r\n            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n            i = (0, o.getModel)(t, u)\r\n          ;((0, r.isArray)(i) ? i : [i]).forEach(function (t) {\r\n            if (!t || t.get('selectable')) {\r\n              var i = e.get('selected')\r\n              n.forceChange && i.remove(t, n), i.push(t, n)\r\n            }\r\n          })\r\n        },\r\n        removeSelected: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n          this.get('selected').remove((0, o.getModel)(t, u), e)\r\n        },\r\n        toggleSelected: function (t) {\r\n          var e = this,\r\n            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n            i = (0, o.getModel)(t, u)\r\n          ;((0, r.isArray)(i) ? i : [i]).forEach(function (t) {\r\n            e.get('selected').contains(t) ? e.removeSelected(t, n) : e.addSelected(t, n)\r\n          })\r\n        },\r\n        setHovered: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n            n = (0, o.getModel)(t, u)\r\n          ;(n && !n.get('hoverable')) ||\r\n            (e.forceChange && this.set('componentHovered', ''), this.set('componentHovered', n, e))\r\n        },\r\n        setComponents: function (t) {\r\n          return this.get('DomComponents').setComponents(t)\r\n        },\r\n        getComponents: function () {\r\n          var t = this.get('DomComponents'),\r\n            e = this.get('CodeManager')\r\n          if (t && e) {\r\n            var n = t.getComponents()\r\n            return e.getCode(n, 'json')\r\n          }\r\n        },\r\n        setStyle: function (t) {\r\n          for (var e = this.get('CssComposer').getAll(), n = 0, i = e.length; n < i; n++) e.pop()\r\n          return e.add(t), this\r\n        },\r\n        getStyle: function () {\r\n          return this.get('CssComposer').getAll()\r\n        },\r\n        getHtml: function () {\r\n          var t = this.config,\r\n            e = t.exportWrapper,\r\n            n = t.wrappesIsBody,\r\n            i = t.jsInHtml ? this.getJs() : '',\r\n            r = this.get('DomComponents').getComponent(),\r\n            o = this.get('CodeManager').getCode(r, 'html', { exportWrapper: e, wrappesIsBody: n })\r\n          return (o += i ? '<script>' + i + '</script>' : '')\r\n        },\r\n        getCss: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            e = this.config,\r\n            n = e.wrappesIsBody,\r\n            i = t.avoidProtected,\r\n            o = (0, r.isUndefined)(t.keepUnusedStyles) ? e.keepUnusedStyles : t.keepUnusedStyles,\r\n            s = this.get('CssComposer'),\r\n            a = this.get('DomComponents').getComponent()\r\n          return (\r\n            (i ? '' : e.protectedCss) +\r\n            this.get('CodeManager').getCode(a, 'css', { cssc: s, wrappesIsBody: n, keepUnusedStyles: o })\r\n          )\r\n        },\r\n        getJs: function () {\r\n          var t = this.get('DomComponents').getWrapper()\r\n          return this.get('CodeManager')\r\n            .getCode(t, 'js')\r\n            .trim()\r\n        },\r\n        store: function (t) {\r\n          var e = this,\r\n            n = this.get('StorageManager'),\r\n            i = {}\r\n          if (n)\r\n            return (\r\n              this.get('storables').forEach(function (t) {\r\n                var e = t.store(1)\r\n                for (var n in e) i[n] = e[n]\r\n              }),\r\n              n.store(i, function (n) {\r\n                t && t(n), e.set('changesCount', 0), e.trigger('storage:store', i)\r\n              }),\r\n              i\r\n            )\r\n        },\r\n        load: function () {\r\n          var t = this,\r\n            e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null\r\n          this.getCacheLoad(1, function (n) {\r\n            t.get('storables').forEach(function (t) {\r\n              return t.load(n)\r\n            }),\r\n              e && e(n)\r\n          })\r\n        },\r\n        getCacheLoad: function (t, e) {\r\n          var n = this,\r\n            i = t ? 1 : 0\r\n          if (this.cacheLoad && !i) return this.cacheLoad\r\n          var r = this.get('StorageManager'),\r\n            o = []\r\n          if (!r) return {}\r\n          this.get('storables').forEach(function (t) {\r\n            var e = t.storageKey\r\n            ;((e = 'function' == typeof e ? e() : e) instanceof Array ? e : [e]).forEach(function (t) {\r\n              o.push(t)\r\n            })\r\n          }),\r\n            r.load(o, function (t) {\r\n              ;(n.cacheLoad = t),\r\n                e && e(t),\r\n                setTimeout(function () {\r\n                  return n.trigger('storage:load', t)\r\n                }, 0)\r\n            })\r\n        },\r\n        getDeviceModel: function () {\r\n          var t = this.get('device')\r\n          return this.get('DeviceManager').get(t)\r\n        },\r\n        runDefault: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            e = this.get('Commands').get(this.config.defaultCommand)\r\n          e && !this.defaultRunning && (e.stop(this, this, t), e.run(this, this, t), (this.defaultRunning = 1))\r\n        },\r\n        stopDefault: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            e = this.get('Commands').get(this.config.defaultCommand)\r\n          e && (e.stop(this, this, t), (this.defaultRunning = 0))\r\n        },\r\n        refreshCanvas: function () {\r\n          this.set('canvasOffset', this.get('Canvas').getOffset())\r\n        },\r\n        clearSelection: function (t) {\r\n          ;(t || window).getSelection().removeAllRanges()\r\n        },\r\n        getCurrentMedia: function () {\r\n          var t = this.config,\r\n            e = this.getDeviceModel(),\r\n            n = t.mediaCondition,\r\n            i = t.devicePreviewMode,\r\n            r = e && e.get('widthMedia')\r\n          return e && r && !i ? '(' + n + ': ' + r + ')' : ''\r\n        },\r\n        getWrapper: function () {\r\n          return this.get('DomComponents').getWrapper()\r\n        },\r\n        getDirtyCount: function () {\r\n          return this.get('changesCount')\r\n        },\r\n        destroyAll: function () {\r\n          var t = this.attributes,\r\n            e = t.DomComponents,\r\n            n = t.CssComposer,\r\n            i = t.UndoManager,\r\n            r = t.Panels,\r\n            o = t.Canvas,\r\n            s = t.Keymaps\r\n          e.clear(),\r\n            n.clear(),\r\n            i.clear().removeAll(),\r\n            r.getPanels().reset(),\r\n            o.getCanvasView().remove(),\r\n            s.removeAll(),\r\n            this.view.remove(),\r\n            this.stopListening(),\r\n            u(this.config.el)\r\n              .empty()\r\n              .attr(this.attrsOrig)\r\n        },\r\n        setEditing: function (t) {\r\n          return this.set('editing', t), this\r\n        },\r\n        isEditing: function () {\r\n          return !!this.get('editing')\r\n        },\r\n        log: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n            n = e.ns,\r\n            i = e.level,\r\n            r = void 0 === i ? 'debug' : i\r\n          if ((this.trigger('log', t, e), r && this.trigger('log:' + r, t, e), n)) {\r\n            var o = 'log-' + n\r\n            this.trigger(o, t, e), r && this.trigger(o + ':' + r, t, e)\r\n          }\r\n        },\r\n        logInfo: function (t, e) {\r\n          this.log(t, i({}, e, { level: 'info' }))\r\n        },\r\n        logWarning: function (t, e) {\r\n          this.log(t, i({}, e, { level: 'warning' }))\r\n        },\r\n        logError: function (t, e) {\r\n          this.log(t, i({}, e, { level: 'error' }))\r\n        },\r\n        data: function (t, e, n) {\r\n          if ((t['_gjs-data'] || (t['_gjs-data'] = {}), (0, r.isUndefined)(n))) return t['_gjs-data'][e]\r\n          t['_gjs-data'][e] = n\r\n        }\r\n      })\r\n    },\r\n    function (t, e) {\r\n      t.exports = function (t) {\r\n        return (\r\n          t.webpackPolyfill ||\r\n            ((t.deprecate = function () {}),\r\n            (t.paths = []),\r\n            t.children || (t.children = []),\r\n            Object.defineProperty(t, 'loaded', {\r\n              enumerable: !0,\r\n              get: function () {\r\n                return t.l\r\n              }\r\n            }),\r\n            Object.defineProperty(t, 'id', {\r\n              enumerable: !0,\r\n              get: function () {\r\n                return t.i\r\n              }\r\n            }),\r\n            (t.webpackPolyfill = 1)),\r\n          t\r\n        )\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = function () {\r\n        return {\r\n          name: 'Utils',\r\n          init: function () {\r\n            return this\r\n          },\r\n          Sorter: n(93),\r\n          Resizer: n(94),\r\n          Dragger: n(95)\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      ;(function (e) {\r\n        var i,\r\n          r =\r\n            Object.assign ||\r\n            function (t) {\r\n              for (var e = 1; e < arguments.length; e++) {\r\n                var n = arguments[e]\r\n                for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n              }\r\n              return t\r\n            },\r\n          o = n(0),\r\n          s = (i = o) && i.__esModule ? i : { default: i },\r\n          a = n(1),\r\n          l = n(2)\r\n        var c = s.default.$\r\n        t.exports = s.default.View.extend({\r\n          initialize: function (t) {\r\n            ;(this.opt = t || {}),\r\n              e.bindAll(this, 'startSort', 'onMove', 'endMove', 'rollback', 'udpateOffset', 'moveDragHelper')\r\n            var n = t || {}\r\n            ;(this.elT = 0), (this.elL = 0), (this.borderOffset = n.borderOffset || 10)\r\n            var i = n.container\r\n            ;(this.el = 'string' == typeof i ? document.querySelector(i) : i),\r\n              (this.$el = c(this.el)),\r\n              (this.containerSel = n.containerSel || 'div'),\r\n              (this.itemSel = n.itemSel || 'div'),\r\n              (this.draggable = n.draggable || !0),\r\n              (this.nested = n.nested || 0),\r\n              (this.pfx = n.pfx || ''),\r\n              (this.ppfx = n.ppfx || ''),\r\n              (this.freezeClass = n.freezeClass || this.pfx + 'freezed'),\r\n              (this.onStart = n.onStart || ''),\r\n              (this.onEndMove = n.onEndMove || ''),\r\n              (this.direction = n.direction || 'v'),\r\n              (this.onMoveClb = n.onMove || ''),\r\n              (this.relative = n.relative || 0),\r\n              (this.ignoreViewChildren = n.ignoreViewChildren || 0),\r\n              (this.ignoreModels = n.ignoreModels || 0),\r\n              (this.plh = n.placer || ''),\r\n              (this.wmargin = n.wmargin || 0),\r\n              (this.offTop = n.offsetTop || 0),\r\n              (this.offLeft = n.offsetLeft || 0),\r\n              (this.document = n.document || document),\r\n              (this.$document = c(this.document)),\r\n              (this.dropContent = null),\r\n              (this.em = n.em || ''),\r\n              (this.dragHelper = null),\r\n              (this.canvasRelative = n.canvasRelative || 0),\r\n              (this.selectOnEnd = !n.avoidSelectOnEnd),\r\n              this.em && this.em.on && (this.em.on('change:canvasOffset', this.udpateOffset), this.udpateOffset())\r\n          },\r\n          getContainerEl: function () {\r\n            if (!this.el) {\r\n              var t = this.opt.container\r\n              ;(this.el = 'string' == typeof t ? document.querySelector(t) : t), (this.$el = c(this.el))\r\n            }\r\n            return this.el\r\n          },\r\n          getDocuments: function () {\r\n            var t = this.em,\r\n              e = t && t.get('Canvas').getBody().ownerDocument,\r\n              n = [document]\r\n            return e && n.push(e), n\r\n          },\r\n          udpateOffset: function () {\r\n            var t = this.em.get('canvasOffset')\r\n            ;(this.offTop = t.top), (this.offLeft = t.left)\r\n          },\r\n          setDropContent: function (t) {\r\n            this.dropContent = t\r\n          },\r\n          toggleSortCursor: function (t) {\r\n            var e = this.em\r\n            document.body, this.ppfx || this.pfx, e && e.get('Canvas').getBody()\r\n            t ? e && e.get('Canvas').startAutoscroll() : e && e.get('Canvas').stopAutoscroll()\r\n          },\r\n          setDragHelper: function (t, e) {\r\n            for (\r\n              var n = e || '',\r\n                i = t.cloneNode(1),\r\n                r = t.getBoundingClientRect(),\r\n                o = getComputedStyle(t),\r\n                s = '',\r\n                a = 0;\r\n              a < o.length;\r\n              a++\r\n            ) {\r\n              var l = o[a]\r\n              s += l + ':' + o.getPropertyValue(l) + ';'\r\n            }\r\n            document.body.appendChild(i),\r\n              (i.className += ' ' + this.pfx + 'bdrag'),\r\n              i.setAttribute('style', s),\r\n              (this.dragHelper = i),\r\n              (i.style.width = r.width + 'px'),\r\n              (i.style.height = r.height + 'px'),\r\n              n && this.moveDragHelper(n),\r\n              this.em &&\r\n                c(this.em.get('Canvas').getBody().ownerDocument)\r\n                  .off('mousemove', this.moveDragHelper)\r\n                  .on('mousemove', this.moveDragHelper),\r\n              c(document)\r\n                .off('mousemove', this.moveDragHelper)\r\n                .on('mousemove', this.moveDragHelper)\r\n          },\r\n          moveDragHelper: function (t) {\r\n            var e = t.target.ownerDocument\r\n            if (this.dragHelper && e) {\r\n              var n = t.pageY,\r\n                i = t.pageX,\r\n                r = 0,\r\n                o = 0,\r\n                s = (e.defaultView || e.parentWindow).frameElement,\r\n                a = this.dragHelper.style\r\n              if (s) {\r\n                var l = s.getBoundingClientRect()\r\n                ;(r = l.top + document.documentElement.scrollTop),\r\n                  (o = l.left + document.documentElement.scrollLeft),\r\n                  (n = t.clientY),\r\n                  (i = t.clientX)\r\n              }\r\n              ;(a.top = n + r + 'px'), (a.left = i + o + 'px')\r\n            }\r\n          },\r\n          matches: function (t, e, n) {\r\n            return l.matches.call(t, e)\r\n          },\r\n          closest: function (t, e) {\r\n            if (t) {\r\n              for (var n = t.parentNode; n && 1 === n.nodeType; ) {\r\n                if (this.matches(n, e)) return n\r\n                n = n.parentNode\r\n              }\r\n              return null\r\n            }\r\n          },\r\n          offset: function (t) {\r\n            var e = t.getBoundingClientRect()\r\n            return { top: e.top + document.body.scrollTop, left: e.left + document.body.scrollLeft }\r\n          },\r\n          createPlaceholder: function () {\r\n            var t = this.pfx,\r\n              e = document.createElement('div'),\r\n              n = document.createElement('div')\r\n            return (\r\n              (e.className = t + 'placeholder'),\r\n              (e.style.display = 'none'),\r\n              (e.style['pointer-events'] = 'none'),\r\n              (n.className = t + 'placeholder-int'),\r\n              e.appendChild(n),\r\n              e\r\n            )\r\n          },\r\n          startSort: function (t) {\r\n            var e = this.em,\r\n              n = this.itemSel,\r\n              i = this.containerSel,\r\n              r = this.getContainerEl(),\r\n              o = this.getDocuments(),\r\n              s = this.onStart,\r\n              a = void 0,\r\n              c = this.plh\r\n            ;(this.dropModel = null),\r\n              (this.moved = 0),\r\n              t && !this.matches(t, n + ', ' + i) && (t = this.closest(t, n)),\r\n              (this.eV = t),\r\n              c || ((c = this.createPlaceholder()), r.appendChild(c), (this.plh = c)),\r\n              t && (a = this.getSourceModel(t)) && a.set && a.set('status', 'freezed'),\r\n              (0, l.on)(r, 'mousemove dragover', this.onMove),\r\n              (0, l.on)(o, 'mouseup dragend touchend', this.endMove),\r\n              (0, l.on)(o, 'keydown', this.rollback),\r\n              s && s(),\r\n              e && e.clearSelection(),\r\n              this.toggleSortCursor(1),\r\n              e && e.trigger('sorter:drag:start', t, a)\r\n          },\r\n          getTargetModel: function (t) {\r\n            var e = t || this.target\r\n            return c(e).data('model')\r\n          },\r\n          getSourceModel: function (t) {\r\n            var e = t || this.eV,\r\n              n = this.dropContent,\r\n              i = this.dropModel,\r\n              r = this.em\r\n            if (n && r) {\r\n              if (!i) {\r\n                var o = r.get('DomComponents').getComponents(),\r\n                  s = { avoidStore: 1, avoidChildren: 1, avoidUpdateStyle: 1, temporary: 1 },\r\n                  a = o.add(n, s)\r\n                ;(i = o.remove(a, s)), (this.dropModel = i instanceof Array ? i[0] : i)\r\n              }\r\n              return i\r\n            }\r\n            if (e) return c(e).data('model')\r\n          },\r\n          selectTargetModel: function (t) {\r\n            if (!(t instanceof s.default.Collection)) {\r\n              var e = this.targetModel\r\n              e && e.set('status', ''), t && t.set && (t.set('status', 'selected-parent'), (this.targetModel = t))\r\n            }\r\n          },\r\n          onMove: function (t) {\r\n            var e = this.em\r\n            this.moved = 1\r\n            var n = this.plh,\r\n              i = n.style.display\r\n            ;(i && 'none' !== i) || (n.style.display = 'block')\r\n            var r = this.offset(this.el)\r\n            ;(this.elT = this.wmargin ? Math.abs(r.top) : r.top), (this.elL = this.wmargin ? Math.abs(r.left) : r.left)\r\n            var o = t.pageY - this.elT + this.el.scrollTop,\r\n              s = t.pageX - this.elL + this.el.scrollLeft\r\n            if (this.canvasRelative && e) {\r\n              var a = e.get('Canvas').getMouseRelativeCanvas(t)\r\n              ;(s = a.x), (o = a.y)\r\n            }\r\n            ;(this.rX = s), (this.rY = o), (this.eventMove = t)\r\n            var l = this.dimsFromTarget(t.target, s, o),\r\n              u = this.target,\r\n              h = this.getTargetModel(u)\r\n            this.selectTargetModel(h), h || (n.style.display = 'none'), (this.lastDims = l)\r\n            var d = this.findPosition(l, s, o)\r\n            ;(this.lastPos && this.lastPos.index == d.index && this.lastPos.method == d.method) ||\r\n              (this.movePlaceholder(this.plh, l, d, this.prevTargetDim),\r\n              this.$plh || (this.$plh = c(this.plh)),\r\n              this.canvasRelative ||\r\n                (this.offTop && this.$plh.css('top', '+=' + this.offTop + 'px'),\r\n                this.offLeft && this.$plh.css('left', '+=' + this.offLeft + 'px')),\r\n              (this.lastPos = d)),\r\n              'function' == typeof this.onMoveClb && this.onMoveClb(t),\r\n              e && e.trigger('sorter:drag', { target: u, targetModel: h, dims: l, pos: d, x: s, y: o })\r\n          },\r\n          isInFlow: function (t, e) {\r\n            if (!t) return !1\r\n            e = e || document.body\r\n            var n = t\r\n            return n.offsetHeight, !!this.styleInFlow(n, e)\r\n          },\r\n          styleInFlow: function (t, e) {\r\n            var n = t.style,\r\n              i = c(t),\r\n              r = e && c(e)\r\n            if (\r\n              !(\r\n                (n.overflow && 'visible' !== n.overflow) ||\r\n                'none' !== i.css('float') ||\r\n                (r && 'flex' == r.css('display') && 'column' !== r.css('flex-direction'))\r\n              )\r\n            ) {\r\n              switch (n.position) {\r\n                case 'static':\r\n                case 'relative':\r\n                case '':\r\n                  break\r\n                default:\r\n                  return\r\n              }\r\n              switch (t.tagName) {\r\n                case 'TR':\r\n                case 'TBODY':\r\n                case 'THEAD':\r\n                case 'TFOOT':\r\n                  return !0\r\n              }\r\n              switch (i.css('display')) {\r\n                case 'block':\r\n                case 'list-item':\r\n                case 'table':\r\n                case 'flex':\r\n                  return !0\r\n              }\r\n            }\r\n          },\r\n          validTarget: function (t, e) {\r\n            var n = this.getSourceModel(e)\r\n            e = n && n.view && n.view.el\r\n            var i = this.getTargetModel(t),\r\n              r = { valid: !0, src: e, srcModel: n, trg: (t = i && i.view && i.view.el), trgModel: i }\r\n            if (!e || !t) return (r.valid = !1), r\r\n            var o = i.get('droppable')\r\n            ;(o = (o = o instanceof s.default.Collection ? 1 : o) instanceof Array ? o.join(', ') : o),\r\n              (r.dropInfo = o),\r\n              (o = (0, a.isString)(o) ? this.matches(e, o) : o),\r\n              (r.droppable = o)\r\n            var l = n.get('draggable')\r\n            return (\r\n              (l = l instanceof Array ? l.join(', ') : l),\r\n              (r.dragInfo = l),\r\n              (l = (0, a.isString)(l) ? this.matches(t, l) : l),\r\n              (r.draggable = l),\r\n              (o && l) || (r.valid = !1),\r\n              r\r\n            )\r\n          },\r\n          dimsFromTarget: function (t, e, n) {\r\n            var i = this.em,\r\n              r = []\r\n            if (!t) return r\r\n            if (\r\n              (this.matches(t, this.itemSel + ', ' + this.containerSel) || (t = this.closest(t, this.itemSel)),\r\n              this.draggable instanceof Array && (t = this.closest(t, this.draggable.join(','))),\r\n              !t)\r\n            )\r\n              return r\r\n            if ((this.prevTarget && this.prevTarget != t && (this.prevTarget = null), !this.prevTarget)) {\r\n              this.targetP = this.closest(t, this.containerSel)\r\n              var o = this.validTarget(t)\r\n              if ((i && i.trigger('sorter:drag:validation', o), !o.valid && this.targetP))\r\n                return this.dimsFromTarget(this.targetP, e, n)\r\n              ;(this.prevTarget = t),\r\n                (this.prevTargetDim = this.getDim(t)),\r\n                (this.cacheDimsP = this.getChildrenDim(this.targetP)),\r\n                (this.cacheDims = this.getChildrenDim(t))\r\n            }\r\n            if (\r\n              (this.prevTarget == t && (r = this.cacheDims),\r\n              (this.target = this.prevTarget),\r\n              this.nearBorders(this.prevTargetDim, e, n) || (!this.nested && !this.cacheDims.length))\r\n            ) {\r\n              var s = this.targetP\r\n              s && this.validTarget(s).valid && ((r = this.cacheDimsP), (this.target = s))\r\n            }\r\n            return (this.lastPos = null), r\r\n          },\r\n          getTargetFromEl: function (t) {\r\n            var e = t,\r\n              n = void 0,\r\n              i = this.targetPrev,\r\n              r = this.em,\r\n              o = this.containerSel,\r\n              s = this.itemSel\r\n            if (\r\n              (this.matches(e, s + ', ' + o) || (e = this.closest(e, s)),\r\n              this.draggable instanceof Array && (e = this.closest(e, this.draggable.join(','))),\r\n              i && i != e && (this.targetPrev = ''),\r\n              !this.targetPrev)\r\n            ) {\r\n              n = this.closest(e, o)\r\n              var a = this.validTarget(e)\r\n              if ((r && r.trigger('sorter:drag:validation', a), !a.valid && n)) return this.getTargetFromEl(n)\r\n              this.targetPrev = e\r\n            }\r\n            return this.nearElBorders(e) && (n = this.closest(e, o)) && this.validTarget(n).valid && (e = n), e\r\n          },\r\n          nearElBorders: function (t) {\r\n            var e = t.getBoundingClientRect(),\r\n              n = t.ownerDocument.body,\r\n              i = this.getCurrentPos(),\r\n              r = i.x,\r\n              o = i.y,\r\n              s = e.top + n.scrollTop,\r\n              a = e.left + n.scrollLeft,\r\n              l = e.width,\r\n              c = e.height\r\n            if (o < s + 10 || o > s + c - 10 || r < a + 10 || r > a + l - 10) return 1\r\n          },\r\n          getCurrentPos: function () {\r\n            var t = this.eventMove\r\n            return { x: t.pageX || 0, y: t.pageY || 0 }\r\n          },\r\n          getDim: function (t) {\r\n            var e, n, i, r\r\n            if (this.canvasRelative && this.em) {\r\n              var o = this.em.get('Canvas').getElementPos(t),\r\n                s = window.getComputedStyle(t),\r\n                a = parseFloat(s.marginTop),\r\n                l = parseFloat(s.marginBottom),\r\n                c = parseFloat(s.marginRight),\r\n                u = parseFloat(s.marginLeft)\r\n              ;(e = o.top - a), (n = o.left - u), (i = o.height + a + l), (r = o.width + u + c)\r\n            } else {\r\n              var h = this.offset(t)\r\n              ;(e = this.relative ? t.offsetTop : h.top - (this.wmargin ? -1 : 1) * this.elT),\r\n                (n = this.relative ? t.offsetLeft : h.left - (this.wmargin ? -1 : 1) * this.elL),\r\n                (i = t.offsetHeight),\r\n                (r = t.offsetWidth)\r\n            }\r\n            return [e, n, i, r]\r\n          },\r\n          getChildrenDim: function (t) {\r\n            var e = []\r\n            if (!t) return e\r\n            var n = this.getTargetModel(t)\r\n            n && n.view && !this.ignoreViewChildren && (t = n.view.getChildrenContainer())\r\n            for (var i = t.children, r = 0, o = i.length; r < o; r++) {\r\n              var s = i[r]\r\n              if (this.matches(s, this.itemSel)) {\r\n                var a = this.getDim(s),\r\n                  l = this.direction\r\n                ;(l = 'v' == l || ('h' != l && this.isInFlow(s, t))), a.push(l), a.push(s), e.push(a)\r\n              }\r\n            }\r\n            return e\r\n          },\r\n          nearBorders: function (t, e, n) {\r\n            var i = 0,\r\n              r = this.borderOffset,\r\n              o = e || 0,\r\n              s = n || 0,\r\n              a = t[0],\r\n              l = t[1],\r\n              c = t[2],\r\n              u = t[3]\r\n            return (a + r > s || s > a + c - r || l + r > o || o > l + u - r) && (i = 1), !!i\r\n          },\r\n          findPosition: function (t, e, n) {\r\n            for (\r\n              var i = { index: 0, method: 'before' },\r\n                r = 0,\r\n                o = 0,\r\n                s = 0,\r\n                a = 0,\r\n                l = 0,\r\n                c = 0,\r\n                u = 0,\r\n                h = 0,\r\n                d = 0,\r\n                f = t.length;\r\n              d < f;\r\n              d++\r\n            )\r\n              if (\r\n                ((s = (h = t[d])[1] + h[3]),\r\n                (u = h[0] + h[2]),\r\n                (l = h[1] + h[3] / 2),\r\n                (c = h[0] + h[2] / 2),\r\n                !((o && h[1] > o) || (a && c >= a) || (r && s < r)))\r\n              )\r\n                if (((i.index = d), h[4])) {\r\n                  if (n < c) {\r\n                    i.method = 'before'\r\n                    break\r\n                  }\r\n                  i.method = 'after'\r\n                } else n < u && (a = u), e < l ? ((o = l), (i.method = 'before')) : ((r = l), (i.method = 'after'))\r\n            return i\r\n          },\r\n          movePlaceholder: function (t, e, n, i) {\r\n            var r = 0,\r\n              o = 0,\r\n              s = 0,\r\n              a = 0,\r\n              l = 'px',\r\n              c = n.method,\r\n              u = e[n.index]\r\n            if (\r\n              ((t.style.borderColor = 'transparent #62c462'),\r\n              (t.style.borderWidth = '3px 5px'),\r\n              (t.style.margin = '-3px 0 0'),\r\n              u)\r\n            )\r\n              u[4]\r\n                ? ((s = u[3] + l), (a = 'auto'), (r = 'before' == c ? u[0] - 0 : u[0] + u[2] - 0), (o = u[1]))\r\n                : ((s = 'auto'),\r\n                  (a = u[2] - 0 + l),\r\n                  (r = u[0] + 0),\r\n                  (o = 'before' == c ? u[1] - 0 : u[1] + u[3] - 0),\r\n                  (t.style.borderColor = '#62c462 transparent'),\r\n                  (t.style.borderWidth = '5px 3px'),\r\n                  (t.style.margin = '0 0 0 -3px'))\r\n            else {\r\n              if (!this.nested) return void (t.style.display = 'none')\r\n              i && ((r = i[0] + 5), (o = i[1] + 5), (s = parseInt(i[3]) - 10 + l), (a = 'auto'))\r\n            }\r\n            ;(t.style.top = r + l), (t.style.left = o + l), s && (t.style.width = s), a && (t.style.height = a)\r\n          },\r\n          endMove: function (t) {\r\n            var e = this,\r\n              n = [null],\r\n              i = this.getDocuments(),\r\n              r = this.getContainerEl(),\r\n              o = this.onEndMove,\r\n              s = this.target,\r\n              c = this.lastPos\r\n            ;(0, l.off)(r, 'mousemove dragover', this.onMove),\r\n              (0, l.off)(i, 'mouseup dragend touchend', this.endMove),\r\n              (0, l.off)(i, 'keydown', this.rollback),\r\n              (this.plh.style.display = 'none')\r\n            new RegExp('(?:^|\\\\s)' + this.freezeClass + '(?!\\\\S)', 'gi')\r\n            var u = this.eV\r\n            if (u && this.selectOnEnd) {\r\n              var h = this.getSourceModel()\r\n              h && h.set && (h.set('status', ''), h.set('status', 'selected'))\r\n            }\r\n            if (this.moved) {\r\n              var d = this.toMove\r\n              ;((0, a.isArray)(d) ? d : d ? [d] : [u]).forEach(function (t) {\r\n                n.push(e.move(s, t, c))\r\n              })\r\n            }\r\n            this.plh && (this.plh.style.display = 'none')\r\n            var f = this.dragHelper\r\n            f && (f.parentNode.removeChild(f), (this.dragHelper = null)),\r\n              this.selectTargetModel(),\r\n              this.toggleSortCursor(),\r\n              (this.toMove = null),\r\n              (0, a.isFunction)(o) &&\r\n                n.forEach(function (t) {\r\n                  return o(t, e)\r\n                })\r\n          },\r\n          move: function (t, e, n) {\r\n            var i = this.em,\r\n              o = (0, l.getElement)(e)\r\n            i && i.trigger('component:dragEnd:before', t, o, n)\r\n            var a,\r\n              u,\r\n              h,\r\n              d = [],\r\n              f = n.index,\r\n              p = this.validTarget(t, o),\r\n              g = c(t).data('collection'),\r\n              v = p.srcModel,\r\n              m = p.droppable,\r\n              y = p.draggable,\r\n              b = p.dropInfo,\r\n              x = p.dragInfo,\r\n              w = this.dropContent\r\n            if (((m = p.trgModel instanceof s.default.Collection ? 1 : m), g && m && y)) {\r\n              var C = { at: (f = 'after' === n.method ? f + 1 : f), noIncrement: 1 }\r\n              w\r\n                ? ((a = w), (C.silent = !1), (C.avoidUpdateStyle = 1))\r\n                : ((C.temporary = 1), (u = g.add({}, r({}, C))), v && (a = v.collection.remove(v))),\r\n                (h = g.add(a, C)),\r\n                w ? (this.dropContent = null) : g.remove(u),\r\n                (this.prevTarget = null)\r\n            } else\r\n              g || d.push('Target collection not found'),\r\n                m || d.push('Target is not droppable, accepts [' + b + ']'),\r\n                y || d.push('Component not draggable, acceptable by [' + x + ']'),\r\n                console.warn('Invalid target position: ' + d.join(', '))\r\n            return i && i.trigger('component:dragEnd', g, a, d), i && i.trigger('sorter:drag:end', g, a, d), h\r\n          },\r\n          rollback: function (t) {\r\n            ;(0, l.off)(this.getDocuments(), 'keydown', this.rollback),\r\n              27 == (t.which || t.keyCode) && ((this.moved = 0), this.endMove())\r\n          }\r\n        })\r\n      }.call(this, n(1)))\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = (function () {\r\n          function t (t, e) {\r\n            for (var n = 0; n < e.length; n++) {\r\n              var i = e[n]\r\n              ;(i.enumerable = i.enumerable || !1),\r\n                (i.configurable = !0),\r\n                'value' in i && (i.writable = !0),\r\n                Object.defineProperty(t, i.key, i)\r\n            }\r\n          }\r\n          return function (e, n, i) {\r\n            return n && t(e.prototype, n), i && t(e, i), e\r\n          }\r\n        })(),\r\n        r = n(1),\r\n        o = n(2)\r\n      var s = {\r\n          mousePosFetcher: null,\r\n          updateTarget: null,\r\n          ratioDefault: 0,\r\n          posFetcher: null,\r\n          onStart: null,\r\n          onMove: null,\r\n          onEnd: null,\r\n          step: 1,\r\n          minDim: 32,\r\n          maxDim: '',\r\n          unitHeight: 'px',\r\n          unitWidth: 'px',\r\n          keyHeight: 'height',\r\n          keyWidth: 'width',\r\n          currentUnit: 1,\r\n          silentFrames: 0,\r\n          avoidContainerUpdate: 0,\r\n          keepAutoHeight: !1,\r\n          keepAutoWidth: !1,\r\n          autoHeight: !1,\r\n          autoWidth: !1,\r\n          tl: 1,\r\n          tc: 1,\r\n          tr: 1,\r\n          cl: 1,\r\n          cr: 1,\r\n          bl: 1,\r\n          bc: 1,\r\n          br: 1\r\n        },\r\n        a = (function () {\r\n          function t () {\r\n            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n            return (\r\n              (function (t, e) {\r\n                if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function')\r\n              })(this, t),\r\n              this.setOptions(e),\r\n              (0, r.bindAll)(this, 'handleKeyDown', 'handleMouseDown', 'move', 'stop'),\r\n              this\r\n            )\r\n          }\r\n          return (\r\n            i(t, [\r\n              {\r\n                key: 'getConfig',\r\n                value: function () {\r\n                  return this.opts\r\n                }\r\n              },\r\n              {\r\n                key: 'setOptions',\r\n                value: function () {\r\n                  var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n                  ;(this.opts = (0, r.defaults)(t, s)), this.setup()\r\n                }\r\n              },\r\n              {\r\n                key: 'setup',\r\n                value: function () {\r\n                  var t = this.opts,\r\n                    e = t.prefix || '',\r\n                    n = t.appendTo || document.body,\r\n                    i = this.container\r\n                  for (\r\n                    i ||\r\n                    (((i = document.createElement('div')).className = e + 'resizer-c'),\r\n                    n.appendChild(i),\r\n                    (this.container = i));\r\n                    i.firstChild;\r\n\r\n                  )\r\n                    i.removeChild(i.firstChild)\r\n                  var r = {}\r\n                  for (var o in (['tl', 'tc', 'tr', 'cl', 'cr', 'bl', 'bc', 'br'].forEach(function (e) {\r\n                    return (r[e] = t[e]\r\n                      ? (function (t, e) {\r\n                          var n = e.prefix || '',\r\n                            i = document.createElement('i')\r\n                          return (\r\n                            (i.className = n + 'resizer-h ' + n + 'resizer-h-' + t),\r\n                            i.setAttribute('data-' + n + 'handler', t),\r\n                            i\r\n                          )\r\n                        })(e, t)\r\n                      : '')\r\n                  }),\r\n                  r)) {\r\n                    var s = r[o]\r\n                    s && i.appendChild(s)\r\n                  }\r\n                  ;(this.handlers = r),\r\n                    (this.mousePosFetcher = t.mousePosFetcher),\r\n                    (this.updateTarget = t.updateTarget),\r\n                    (this.posFetcher = t.posFetcher),\r\n                    (this.onStart = t.onStart),\r\n                    (this.onMove = t.onMove),\r\n                    (this.onEnd = t.onEnd)\r\n                }\r\n              },\r\n              {\r\n                key: 'toggleFrames',\r\n                value: function (t) {\r\n                  if (this.opts.silentFrames) {\r\n                    var e = document.querySelectorAll('iframe')\r\n                    ;(0, r.each)(e, function (e) {\r\n                      return (e.style.pointerEvents = t ? 'none' : '')\r\n                    })\r\n                  }\r\n                }\r\n              },\r\n              {\r\n                key: 'isHandler',\r\n                value: function (t) {\r\n                  var e = this.handlers\r\n                  for (var n in e) if (e[n] === t) return !0\r\n                  return !1\r\n                }\r\n              },\r\n              {\r\n                key: 'getFocusedEl',\r\n                value: function () {\r\n                  return this.el\r\n                }\r\n              },\r\n              {\r\n                key: 'getDocumentEl',\r\n                value: function () {\r\n                  return [this.el.ownerDocument, document]\r\n                }\r\n              },\r\n              {\r\n                key: 'getElementPos',\r\n                value: function (t) {\r\n                  var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n                    n = this.posFetcher || ''\r\n                  return n\r\n                    ? n(t, e)\r\n                    : (function (t, e) {\r\n                        var n = e || window,\r\n                          i = t.getBoundingClientRect()\r\n                        return {\r\n                          left: i.left + n.pageXOffset,\r\n                          top: i.top + n.pageYOffset,\r\n                          width: i.width,\r\n                          height: i.height\r\n                        }\r\n                      })(t)\r\n                }\r\n              },\r\n              {\r\n                key: 'focus',\r\n                value: function (t) {\r\n                  if (!t || t !== this.el) {\r\n                    this.el = t\r\n                    var e = this.opts,\r\n                      n = this.getElementPos(t, { target: 'container' }),\r\n                      i = this.container.style\r\n                    e.avoidContainerUpdate ||\r\n                      ((i.left = n.left + 'px'),\r\n                      (i.top = n.top + 'px'),\r\n                      (i.width = n.width + 'px'),\r\n                      (i.height = n.height + 'px'),\r\n                      (i.display = 'block')),\r\n                      (0, o.on)(this.getDocumentEl(), 'mousedown', this.handleMouseDown)\r\n                  }\r\n                }\r\n              },\r\n              {\r\n                key: 'blur',\r\n                value: function () {\r\n                  ;(this.container.style.display = 'none'),\r\n                    this.el && ((0, o.off)(this.getDocumentEl(), 'mousedown', this.handleMouseDown), (this.el = null))\r\n                }\r\n              },\r\n              {\r\n                key: 'start',\r\n                value: function (t) {\r\n                  if (0 === t.button) {\r\n                    t.preventDefault(), t.stopPropagation()\r\n                    var e = this.el,\r\n                      n = this.opts || {},\r\n                      i = 'data-' + n.prefix + 'handler',\r\n                      s = this.getElementPos(e, { target: 'el' })\r\n                    ;(this.handlerAttr = t.target.getAttribute(i)),\r\n                      (this.clickedHandler = t.target),\r\n                      (this.startDim = { t: s.top, l: s.left, w: s.width, h: s.height }),\r\n                      (this.rectDim = { t: s.top, l: s.left, w: s.width, h: s.height }),\r\n                      (this.startPos = { x: t.clientX, y: t.clientY })\r\n                    var a = this.getDocumentEl()\r\n                    ;(0, o.on)(a, 'mousemove', this.move),\r\n                      (0, o.on)(a, 'keydown', this.handleKeyDown),\r\n                      (0, o.on)(a, 'mouseup', this.stop),\r\n                      (0, r.isFunction)(this.onStart) && this.onStart(t, { docs: a, config: n, el: e, resizer: this }),\r\n                      this.toggleFrames(1),\r\n                      this.move(t)\r\n                  }\r\n                }\r\n              },\r\n              {\r\n                key: 'move',\r\n                value: function (t) {\r\n                  var e = this.onMove,\r\n                    n = this.mousePosFetcher,\r\n                    i = n ? n(t) : { x: t.clientX, y: t.clientY }\r\n                  ;(this.currentPos = i),\r\n                    (this.delta = { x: i.x - this.startPos.x, y: i.y - this.startPos.y }),\r\n                    (this.keys = { shift: t.shiftKey, ctrl: t.ctrlKey, alt: t.altKey }),\r\n                    (this.rectDim = this.calc(this)),\r\n                    this.updateRect(0),\r\n                    e && e(t),\r\n                    0 === t.which && this.stop(t)\r\n                }\r\n              },\r\n              {\r\n                key: 'stop',\r\n                value: function (t) {\r\n                  var e = this.opts,\r\n                    n = this.getDocumentEl()\r\n                  ;(0, o.off)(n, 'mousemove', this.move),\r\n                    (0, o.off)(n, 'keydown', this.handleKeyDown),\r\n                    (0, o.off)(n, 'mouseup', this.stop),\r\n                    this.updateRect(1),\r\n                    this.toggleFrames(),\r\n                    (0, r.isFunction)(this.onEnd) && this.onEnd(t, { docs: n, config: e })\r\n                }\r\n              },\r\n              {\r\n                key: 'updateRect',\r\n                value: function (t) {\r\n                  var e = this.el,\r\n                    n = this.opts,\r\n                    i = this.rectDim,\r\n                    o = this.container.style,\r\n                    s = this.updateTarget,\r\n                    a = this.getSelectedHandler(),\r\n                    l = n.unitHeight,\r\n                    c = n.unitWidth,\r\n                    u = n.keyWidth,\r\n                    h = n.keyHeight\r\n                  if ((0, r.isFunction)(s)) s(e, i, { store: t, selectedHandler: a, resizer: this, config: n })\r\n                  else {\r\n                    var d = e.style\r\n                    ;(d[u] = i.w + c), (d[h] = i.h + l)\r\n                  }\r\n                  var f = this.getElementPos(e, { target: 'container' })\r\n                  n.avoidContainerUpdate ||\r\n                    ((o.left = f.left + 'px'),\r\n                    (o.top = f.top + 'px'),\r\n                    (o.width = f.width + 'px'),\r\n                    (o.height = f.height + 'px'))\r\n                }\r\n              },\r\n              {\r\n                key: 'getSelectedHandler',\r\n                value: function () {\r\n                  var t = this.handlers\r\n                  if (this.selectedHandler) for (var e in t) if (t[e] === this.selectedHandler) return e\r\n                }\r\n              },\r\n              {\r\n                key: 'handleKeyDown',\r\n                value: function (t) {\r\n                  27 === t.keyCode && ((this.rectDim = this.startDim), this.stop(t))\r\n                }\r\n              },\r\n              {\r\n                key: 'handleMouseDown',\r\n                value: function (t) {\r\n                  var e = t.target\r\n                  this.isHandler(e)\r\n                    ? ((this.selectedHandler = e), this.start(t))\r\n                    : e !== this.el && ((this.selectedHandler = ''), this.blur())\r\n                }\r\n              },\r\n              {\r\n                key: 'calc',\r\n                value: function (t) {\r\n                  var e = void 0,\r\n                    n = this.opts || {},\r\n                    i = n.step,\r\n                    r = this.startDim,\r\n                    s = n.minDim,\r\n                    a = n.maxDim,\r\n                    l = t.delta.x,\r\n                    c = t.delta.y,\r\n                    u = r.w,\r\n                    h = r.h,\r\n                    d = { t: 0, l: 0, w: u, h: h }\r\n                  if (t) {\r\n                    var f = t.handlerAttr\r\n                    ~f.indexOf('r') &&\r\n                      ((e = (0, o.normalizeFloat)(u + l * i, i)),\r\n                      (e = Math.max(s, e)),\r\n                      a && (e = Math.min(a, e)),\r\n                      (d.w = e)),\r\n                      ~f.indexOf('b') &&\r\n                        ((e = (0, o.normalizeFloat)(h + c * i, i)),\r\n                        (e = Math.max(s, e)),\r\n                        a && (e = Math.min(a, e)),\r\n                        (d.h = e)),\r\n                      ~f.indexOf('l') &&\r\n                        ((e = (0, o.normalizeFloat)(u - l * i, i)),\r\n                        (e = Math.max(s, e)),\r\n                        a && (e = Math.min(a, e)),\r\n                        (d.w = e)),\r\n                      ~f.indexOf('t') &&\r\n                        ((e = (0, o.normalizeFloat)(h - c * i, i)),\r\n                        (e = Math.max(s, e)),\r\n                        a && (e = Math.min(a, e)),\r\n                        (d.h = e))\r\n                    var p = n.ratioDefault ? !t.keys.shift : t.keys.shift\r\n                    if (f.indexOf('c') < 0 && p) {\r\n                      var g = r.w / r.h\r\n                      d.w / d.h > g ? (d.h = Math.round(d.w / g)) : (d.w = Math.round(d.h * g))\r\n                    }\r\n                    return ~f.indexOf('l') && (d.l = r.w - d.w), ~f.indexOf('t') && (d.t = r.h - d.h), d\r\n                  }\r\n                }\r\n              }\r\n            ]),\r\n            t\r\n          )\r\n        })()\r\n      t.exports = {\r\n        init: function (t) {\r\n          return new a(t)\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0)\r\n      var o = ((i = r) && i.__esModule ? i : { default: i }).default.$\r\n      t.exports = {\r\n        setKey: function (t, e) {},\r\n        getElementRect: function (t) {\r\n          var e = this.opts.posFetcher || ''\r\n          return e\r\n            ? e(t, { avoidFrameOffset: 1 })\r\n            : (function (t, e) {\r\n                var n = e || window,\r\n                  i = t.getBoundingClientRect()\r\n                return { left: i.left + n.pageXOffset, top: i.top + n.pageYOffset, width: i.width, height: i.height }\r\n              })(t)\r\n        },\r\n        init: function (t) {\r\n          return (\r\n            this.setOptions(t),\r\n            (this.handleMouseDown = this.handleMouseDown.bind(this)),\r\n            (this.drag = this.drag.bind(this)),\r\n            (this.move = this.move.bind(this)),\r\n            (this.stop = this.stop.bind(this)),\r\n            this.setKey('up, right, down, left', this.handleKey),\r\n            this\r\n          )\r\n        },\r\n        setOptions: function (t) {\r\n          this.opts = t || {}\r\n        },\r\n        focus: function (t) {\r\n          if (!t || t !== this.el) {\r\n            this.getDocumentEl(t), this.blur(), (this.el = t), (this.handlers = this.opts.dragHandlers || [t])\r\n            var e = this.getElementRect(t)\r\n            ;(this.elRect = e),\r\n              (this.startTop = e.top),\r\n              (this.startLeft = e.left),\r\n              this.getDocumentEl().on('mousedown', this.handleMouseDown)\r\n          }\r\n        },\r\n        blur: function () {\r\n          this.getDocumentEl().off('mousedown', this.handleMouseDown), (this.el = null)\r\n        },\r\n        start: function (t) {\r\n          this.startPos = this.getMousePos(t)\r\n          var e = this.getDocumentEl()\r\n          e.on('mousemove', this.drag), e.on('mouseup', this.stop)\r\n          var n = this.opts.onStart\r\n          'function' == typeof n && n(t, { docs: e, el: this.el, start: this.startPos, elRect: this.elRect }),\r\n            this.drag(t)\r\n        },\r\n        stop: function (t) {\r\n          var e = this.getDocumentEl()\r\n          e.off('mousemove', this.drag), e.off('mouseup', this.stop), (this.lockedAxis = null)\r\n          var n = this.opts.onEnd\r\n          'function' == typeof n &&\r\n            n(t, {\r\n              docs: e,\r\n              delta: this.delta,\r\n              end: { x: this.startLeft + this.delta.x, y: this.startTop + this.delta.y }\r\n            })\r\n        },\r\n        handleMouseDown: function (t) {\r\n          var e = t.target\r\n          this.isHandler(e) && this.start(t)\r\n        },\r\n        isHandler: function (t) {\r\n          var e = this.handlers\r\n          for (var n in e) if (e[n] === t) return !0\r\n          return !1\r\n        },\r\n        handleKey: function (t, e) {\r\n          switch (e.shortcut) {\r\n            case 'up':\r\n              this.move(0, -1)\r\n              break\r\n            case 'right':\r\n              this.move(1, 0)\r\n              break\r\n            case 'down':\r\n              this.move(0, 1)\r\n              break\r\n            case 'left':\r\n              this.move(-1, 0)\r\n          }\r\n        },\r\n        getDocumentEl: function (t) {\r\n          t = t || this.el\r\n          if (!this.$doc) {\r\n            var e = [document]\r\n            t && e.push(t.ownerDocument), (this.$doc = o(e))\r\n          }\r\n          return this.$doc\r\n        },\r\n        getMousePos: function (t) {\r\n          var e = this.opts.mousePosFetcher\r\n          return e ? e(t) : { x: t.clientX, y: t.clientY }\r\n        },\r\n        drag: function (t) {\r\n          var e = this.lockedAxis,\r\n            n = this.getMousePos(t),\r\n            i = { x: n.x - this.startPos.x, y: n.y - this.startPos.y }\r\n          if (t.shiftKey) {\r\n            if (!e) {\r\n              var r = i.x,\r\n                o = i.y,\r\n                s = Math.abs(r),\r\n                a = Math.abs(o)\r\n              o >= s || o <= -s ? (e = 'x') : (r > a || r < -a) && (e = 'y')\r\n            }\r\n          } else e = null\r\n          'x' === e && (i.x = this.startPos.x),\r\n            'y' === e && (i.y = this.startPos.y),\r\n            (this.lockedAxis = e),\r\n            (this.delta = i),\r\n            this.move(i.x, i.y)\r\n          var l = this.opts.onDrag\r\n          'function' == typeof l &&\r\n            l(t, { delta: i, current: { x: this.startLeft + i.x, y: this.startTop + i.y }, lockedAxis: e }),\r\n            0 === t.which && this.stop(t)\r\n        },\r\n        move: function (t, e) {\r\n          this.moveX(t), this.moveY(e)\r\n        },\r\n        moveX: function (t) {\r\n          var e = this.el,\r\n            n = (this.opts, this.startLeft + t),\r\n            i = this.opts.setX\r\n          'function' == typeof i ? i(n, { el: e, start: this.startLeft, delta: t }) : (e.style.left = n + 'px')\r\n        },\r\n        moveY: function (t) {\r\n          var e = this.el,\r\n            n = (this.opts, this.startTop + t),\r\n            i = this.opts.setY\r\n          'function' == typeof i ? i(n, { el: e, start: this.startTop, delta: t }) : (e.style.top = n + 'px')\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator\r\n            ? function (t) {\r\n                return typeof t\r\n              }\r\n            : function (t) {\r\n                return t && 'function' == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype\r\n                  ? 'symbol'\r\n                  : typeof t\r\n              },\r\n        r =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        o = n(1),\r\n        s = n(45)\r\n      t.exports = function () {\r\n        var t = void 0,\r\n          e = void 0,\r\n          n = {},\r\n          a = {\r\n            defaults: {\r\n              'core:undo': { keys: '+z, ctrl+z', handler: 'core:undo' },\r\n              'core:redo': { keys: '+shift+z, ctrl+shift+z', handler: 'core:redo' },\r\n              'core:copy': { keys: '+c, ctrl+c', handler: 'core:copy' },\r\n              'core:paste': { keys: '+v, ctrl+v', handler: 'core:paste' },\r\n              'core:component-next': { keys: 's', handler: 'core:component-next' },\r\n              'core:component-prev': { keys: 'w', handler: 'core:component-prev' },\r\n              'core:component-enter': { keys: 'd', handler: 'core:component-enter' },\r\n              'core:component-exit': { keys: 'a', handler: 'core:component-exit' },\r\n              'core:component-delete': { keys: 'backspace, delete', handler: 'core:component-delete' }\r\n            }\r\n          }\r\n        return {\r\n          keymaster: s,\r\n          name: 'Keymaps',\r\n          getConfig: function () {\r\n            return e\r\n          },\r\n          init: function () {\r\n            var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n            return (e = r({}, a, n)), (t = e.em), (this.em = t), this\r\n          },\r\n          onLoad: function () {\r\n            var t = e.defaults\r\n            for (var n in t) {\r\n              var i = t[n]\r\n              this.add(n, i.keys, i.handler)\r\n            }\r\n          },\r\n          add: function (t, e, r) {\r\n            var a = this.em,\r\n              l = a.get('Commands'),\r\n              c = a.getEditor(),\r\n              u = { id: t, keys: e, handler: r }\r\n            return (\r\n              n[t] && this.remove(t),\r\n              (n[t] = u),\r\n              s(e, function (e, n) {\r\n                'object' == (void 0 === (r = (0, o.isString)(r) ? l.get(r) : r) ? 'undefined' : i(r)) ? r.run(c) : r(c)\r\n                var s = [t, n.shortcut, e]\r\n                a.trigger.apply(a, ['keymap:emit'].concat(s)), a.trigger.apply(a, ['keymap:emit:' + t].concat(s))\r\n              }),\r\n              a.trigger('keymap:add', u),\r\n              u\r\n            )\r\n          },\r\n          get: function (t) {\r\n            return n[t]\r\n          },\r\n          getAll: function () {\r\n            return n\r\n          },\r\n          remove: function (t) {\r\n            var e = this.em,\r\n              i = this.get(t)\r\n            if (i) return delete n[t], s.unbind(i.keys), e && e.trigger('keymap:remove', i), i\r\n          },\r\n          removeAll: function () {\r\n            var t = this\r\n            return (\r\n              Object.keys(n).forEach(function (e) {\r\n                return t.remove(e)\r\n              }),\r\n              this\r\n            )\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        o = n(98),\r\n        s = (i = o) && i.__esModule ? i : { default: i }\r\n      t.exports = function () {\r\n        var t = void 0,\r\n          e = void 0,\r\n          n = void 0,\r\n          i = void 0,\r\n          o = {}\r\n        return {\r\n          name: 'UndoManager',\r\n          init: function () {\r\n            var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n            ;(n = r({}, a, o)),\r\n              (t = n.em),\r\n              (this.em = t),\r\n              (e = new s.default({ track: !0, register: [] })).changeUndoType('change', { condition: !1 }),\r\n              e.changeUndoType('add', {\r\n                on: function (t, e) {\r\n                  var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}\r\n                  if (!n.avoidStore) return { object: e, before: void 0, after: t, options: r({}, n) }\r\n                }\r\n              }),\r\n              e.changeUndoType('remove', {\r\n                on: function (t, e) {\r\n                  var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}\r\n                  if (!n.avoidStore) return { object: e, before: t, after: void 0, options: r({}, n) }\r\n                }\r\n              })\r\n            var l = {\r\n              on: function (t, e) {\r\n                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}\r\n                if ((!i && (i = t.previousAttributes()), !n.avoidStore)) {\r\n                  var r = { object: t, before: i, after: t.toJSON() }\r\n                  return (i = null), r\r\n                }\r\n              },\r\n              undo: function (t, e, n, i) {\r\n                t.set(e)\r\n              },\r\n              redo: function (t, e, n, i) {\r\n                t.set(n)\r\n              }\r\n            }\r\n            return (\r\n              ['style', 'attributes', 'content', 'src'].forEach(function (t) {\r\n                return e.addUndoType('change:' + t, l)\r\n              }),\r\n              e.on('undo redo', function () {\r\n                return t.trigger('component:toggled change:canvasOffset')\r\n              }),\r\n              ['undo', 'redo'].forEach(function (n) {\r\n                return e.on(n, function () {\r\n                  return t.trigger(n)\r\n                })\r\n              }),\r\n              this\r\n            )\r\n          },\r\n          getConfig: function () {\r\n            return n\r\n          },\r\n          add: function (t) {\r\n            return e.register(t), this\r\n          },\r\n          remove: function (t) {\r\n            return e.unregister(t), this\r\n          },\r\n          removeAll: function () {\r\n            return e.unregisterAll(), this\r\n          },\r\n          start: function () {\r\n            return e.startTracking(), this\r\n          },\r\n          stop: function () {\r\n            return e.stopTracking(), this\r\n          },\r\n          undo: function () {\r\n            return !t.isEditing() && e.undo(1), this\r\n          },\r\n          undoAll: function () {\r\n            return e.undoAll(), this\r\n          },\r\n          redo: function () {\r\n            return !t.isEditing() && e.redo(1), this\r\n          },\r\n          redoAll: function () {\r\n            return e.redoAll(), this\r\n          },\r\n          hasUndo: function () {\r\n            return e.isAvailable('undo')\r\n          },\r\n          hasRedo: function () {\r\n            return e.isAvailable('redo')\r\n          },\r\n          getStack: function () {\r\n            return e.stack\r\n          },\r\n          clear: function () {\r\n            return e.clear(), this\r\n          },\r\n          getInstance: function () {\r\n            return e\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      var i, r, o\r\n      /*!\r\n       * Backbone.Undo.js v0.2\r\n       *\r\n       * Copyright (c)2013 Oliver Sartun\r\n       * Released under the MIT License\r\n       *\r\n       * Documentation and full license available at\r\n       * https://github.com/osartun/Backbone.Undo.js\r\n       */ ;(r = [n(46), n(99)]),\r\n        void 0 ===\r\n          (o =\r\n            'function' ==\r\n            typeof (i = function (t, e) {\r\n              var n = Array.prototype.slice\r\n              function i (t, e, n) {\r\n                return n.length <= 4 ? t.call(e, n[0], n[1], n[2], n[3]) : t.apply(e, n)\r\n              }\r\n              function r (t, e) {\r\n                return n.call(t, e)\r\n              }\r\n              function o (e, n) {\r\n                return (\r\n                  null != e &&\r\n                  (t.isArray(n) || (n = r(arguments, 1)),\r\n                  t.all(n, function (t) {\r\n                    return t in e\r\n                  }))\r\n                )\r\n              }\r\n              var s,\r\n                a,\r\n                l = ((s = !1),\r\n                (a = -1),\r\n                function () {\r\n                  return (\r\n                    s ||\r\n                      (a++,\r\n                      (s = !0),\r\n                      t.defer(function () {\r\n                        s = !1\r\n                      })),\r\n                    a\r\n                  )\r\n                })\r\n              function c () {\r\n                ;(this.registeredObjects = []), (this.cidIndexes = [])\r\n              }\r\n              function u (e, n, i, r) {\r\n                for (var o, s = 0, a = n.length; s < a; s++)\r\n                  if ((o = n[s])) {\r\n                    if ('on' === e) {\r\n                      if (!r.objectRegistry.register(o)) continue\r\n                    } else if (!r.objectRegistry.unregister(o)) continue\r\n                    t.isFunction(o[e]) && o[e]('all', i, r)\r\n                  }\r\n              }\r\n              function h (e, n) {\r\n                var i = n.type,\r\n                  r = n.undoTypes,\r\n                  o = !r[i] || r[i][e]\r\n                t.isFunction(o) && o(n.object, n.before, n.after, n.options)\r\n              }\r\n              function d (e, i, r, o, s) {\r\n                if (\r\n                  !(\r\n                    r.isCurrentlyUndoRedoing ||\r\n                    ('undo' === e && -1 === r.pointer) ||\r\n                    ('redo' === e && r.pointer === r.length - 1)\r\n                  )\r\n                ) {\r\n                  r.isCurrentlyUndoRedoing = !0\r\n                  var a,\r\n                    l,\r\n                    c = 'undo' === e\r\n                  for (\r\n                    s\r\n                      ? (l =\r\n                          (c && r.pointer === r.length - 1) || (!c && -1 === r.pointer)\r\n                            ? t.clone(r.models)\r\n                            : n.apply(r.models, c ? [0, r.pointer] : [r.pointer, r.length - 1]))\r\n                      : ((a = r.at(c ? r.pointer : r.pointer + 1)),\r\n                        (l = o ? r.where({ magicFusionIndex: a.get('magicFusionIndex') }) : [a])),\r\n                      r.pointer += (c ? -1 : 1) * l.length;\r\n                    (a = c ? l.pop() : l.shift());\r\n\r\n                  )\r\n                    a[e]()\r\n                  ;(r.isCurrentlyUndoRedoing = !1), i.trigger(e, i)\r\n                }\r\n              }\r\n              function f (t, e, n, r) {\r\n                if (\r\n                  t.track &&\r\n                  !t.isCurrentlyUndoRedoing &&\r\n                  e in r &&\r\n                  (function (t, e) {\r\n                    var n = t.condition,\r\n                      r = typeof n\r\n                    return 'function' === r ? !!i(n, t, e) : 'boolean' !== r || n\r\n                  })(r[e], n)\r\n                ) {\r\n                  var s = i(r[e].on, r[e], n)\r\n                  if (o(s, 'object', 'before', 'after')) {\r\n                    if (((s.type = e), (s.magicFusionIndex = l()), (s.undoTypes = r), t.pointer < t.length - 1))\r\n                      for (var a = t.length - t.pointer - 1; a--; ) t.pop()\r\n                    ;(t.pointer = t.length), t.add(s), t.length > t.maximumStackLength && (t.shift(), t.pointer--)\r\n                  }\r\n                }\r\n              }\r\n              c.prototype = {\r\n                isRegistered: function (e) {\r\n                  return e && e.cid ? this.registeredObjects[e.cid] : t.contains(this.registeredObjects, e)\r\n                },\r\n                register: function (t) {\r\n                  return (\r\n                    !this.isRegistered(t) &&\r\n                    (t && t.cid\r\n                      ? ((this.registeredObjects[t.cid] = t), this.cidIndexes.push(t.cid))\r\n                      : this.registeredObjects.push(t),\r\n                    !0)\r\n                  )\r\n                },\r\n                unregister: function (e) {\r\n                  if (this.isRegistered(e)) {\r\n                    if (e && e.cid)\r\n                      delete this.registeredObjects[e.cid], this.cidIndexes.splice(t.indexOf(this.cidIndexes, e.cid), 1)\r\n                    else {\r\n                      var n = t.indexOf(this.registeredObjects, e)\r\n                      this.registeredObjects.splice(n, 1)\r\n                    }\r\n                    return !0\r\n                  }\r\n                  return !1\r\n                },\r\n                get: function () {\r\n                  return t\r\n                    .map(\r\n                      this.cidIndexes,\r\n                      function (t) {\r\n                        return this.registeredObjects[t]\r\n                      },\r\n                      this\r\n                    )\r\n                    .concat(this.registeredObjects)\r\n                }\r\n              }\r\n              var p = {\r\n                add: {\r\n                  undo: function (t, e, n, i) {\r\n                    t.remove(n, i)\r\n                  },\r\n                  redo: function (t, e, n, i) {\r\n                    i.index && (i.at = i.index), t.add(n, i)\r\n                  },\r\n                  on: function (e, n, i) {\r\n                    return { object: n, before: void 0, after: e, options: t.clone(i) }\r\n                  }\r\n                },\r\n                remove: {\r\n                  undo: function (t, e, n, i) {\r\n                    'index' in i && (i.at = i.index), t.add(e, i)\r\n                  },\r\n                  redo: function (t, e, n, i) {\r\n                    t.remove(e, i)\r\n                  },\r\n                  on: function (e, n, i) {\r\n                    return { object: n, before: e, after: void 0, options: t.clone(i) }\r\n                  }\r\n                },\r\n                change: {\r\n                  undo: function (e, n, i, r) {\r\n                    t.isEmpty(n)\r\n                      ? t.each(t.keys(i), e.unset, e)\r\n                      : (e.set(n),\r\n                        r &&\r\n                          r.unsetData &&\r\n                          r.unsetData.before &&\r\n                          r.unsetData.before.length &&\r\n                          t.each(r.unsetData.before, e.unset, e))\r\n                  },\r\n                  redo: function (e, n, i, r) {\r\n                    t.isEmpty(i)\r\n                      ? t.each(t.keys(n), e.unset, e)\r\n                      : (e.set(i),\r\n                        r &&\r\n                          r.unsetData &&\r\n                          r.unsetData.after &&\r\n                          r.unsetData.after.length &&\r\n                          t.each(r.unsetData.after, e.unset, e))\r\n                  },\r\n                  on: function (e, n) {\r\n                    var i = e.changedAttributes(),\r\n                      r = t.keys(i),\r\n                      o = t.pick(e.previousAttributes(), r),\r\n                      s = t.keys(o),\r\n                      a = ((n || (n = {})).unsetData = { after: [], before: [] })\r\n                    return (\r\n                      r.length != s.length &&\r\n                        (r.length > s.length\r\n                          ? t.each(\r\n                              r,\r\n                              function (t) {\r\n                                t in o || a.before.push(t)\r\n                              },\r\n                              this\r\n                            )\r\n                          : t.each(s, function (t) {\r\n                              t in i || a.after.push(t)\r\n                            })),\r\n                      { object: e, before: o, after: i, options: t.clone(n) }\r\n                    )\r\n                  }\r\n                },\r\n                reset: {\r\n                  undo: function (t, e, n) {\r\n                    t.reset(e)\r\n                  },\r\n                  redo: function (t, e, n) {\r\n                    t.reset(n)\r\n                  },\r\n                  on: function (e, n) {\r\n                    return { object: e, before: n.previousModels, after: t.clone(e.models) }\r\n                  }\r\n                }\r\n              }\r\n              function g () {}\r\n              function v (e, n, i, r) {\r\n                if ('object' == typeof n)\r\n                  return t.each(n, function (t, n) {\r\n                    2 === e ? v(e, t, i, r) : v(e, n, t, i)\r\n                  })\r\n                switch (e) {\r\n                  case 0:\r\n                    o(i, 'undo', 'redo', 'on') && t.all(t.pick(i, 'undo', 'redo', 'on'), t.isFunction) && (r[n] = i)\r\n                    break\r\n                  case 1:\r\n                    r[n] && t.isObject(i) && (r[n] = t.extend({}, r[n], i))\r\n                    break\r\n                  case 2:\r\n                    delete r[n]\r\n                }\r\n                return this\r\n              }\r\n              g.prototype = p\r\n              var m = e.Model.extend({\r\n                  defaults: { type: null, object: null, before: null, after: null, magicFusionIndex: null },\r\n                  undo: function (t) {\r\n                    h('undo', this.attributes)\r\n                  },\r\n                  redo: function (t) {\r\n                    h('redo', this.attributes)\r\n                  }\r\n                }),\r\n                y = e.Collection.extend({\r\n                  model: m,\r\n                  pointer: -1,\r\n                  track: !1,\r\n                  isCurrentlyUndoRedoing: !1,\r\n                  maximumStackLength: 1 / 0,\r\n                  setMaxLength: function (t) {\r\n                    this.maximumStackLength = t\r\n                  }\r\n                }),\r\n                b = e.Model.extend({\r\n                  defaults: { maximumStackLength: 1 / 0, track: !1 },\r\n                  initialize: function (e) {\r\n                    ;(this.stack = new y()),\r\n                      (this.objectRegistry = new c()),\r\n                      (this.undoTypes = new g()),\r\n                      this.stack.setMaxLength(this.get('maximumStackLength')),\r\n                      this.on(\r\n                        'change:maximumStackLength',\r\n                        function (t, e) {\r\n                          this.stack.setMaxLength(e)\r\n                        },\r\n                        this\r\n                      ),\r\n                      e && e.track && this.startTracking(),\r\n                      e &&\r\n                        e.register &&\r\n                        (t.isArray(e.register) || t.isArguments(e.register)\r\n                          ? i(this.register, this, e.register)\r\n                          : this.register(e.register))\r\n                  },\r\n                  startTracking: function () {\r\n                    this.set('track', !0), (this.stack.track = !0)\r\n                  },\r\n                  stopTracking: function () {\r\n                    this.set('track', !1), (this.stack.track = !1)\r\n                  },\r\n                  isTracking: function () {\r\n                    return this.get('track')\r\n                  },\r\n                  _addToStack: function (t) {\r\n                    f(this.stack, t, r(arguments, 1), this.undoTypes)\r\n                  },\r\n                  register: function () {\r\n                    u('on', arguments, this._addToStack, this)\r\n                  },\r\n                  unregister: function () {\r\n                    u('off', arguments, this._addToStack, this)\r\n                  },\r\n                  unregisterAll: function () {\r\n                    i(this.unregister, this, this.objectRegistry.get())\r\n                  },\r\n                  undo: function (t) {\r\n                    d('undo', this, this.stack, t)\r\n                  },\r\n                  undoAll: function () {\r\n                    d('undo', this, this.stack, !1, !0)\r\n                  },\r\n                  redo: function (t) {\r\n                    d('redo', this, this.stack, t)\r\n                  },\r\n                  redoAll: function () {\r\n                    d('redo', this, this.stack, !1, !0)\r\n                  },\r\n                  isAvailable: function (t) {\r\n                    var e = this.stack,\r\n                      n = e.length\r\n                    switch (t) {\r\n                      case 'undo':\r\n                        return n > 0 && e.pointer > -1\r\n                      case 'redo':\r\n                        return n > 0 && e.pointer < n - 1\r\n                      default:\r\n                        return !1\r\n                    }\r\n                  },\r\n                  merge: function (e) {\r\n                    for (var n, i = t.isArray(e) ? e : r(arguments); (n = i.pop()); )\r\n                      n instanceof b && n.stack instanceof y && (n.stack = this.stack)\r\n                  },\r\n                  addUndoType: function (t, e) {\r\n                    v(0, t, e, this.undoTypes)\r\n                  },\r\n                  changeUndoType: function (t, e) {\r\n                    v(1, t, e, this.undoTypes)\r\n                  },\r\n                  removeUndoType: function (t) {\r\n                    v(2, t, void 0, this.undoTypes)\r\n                  },\r\n                  clear: function () {\r\n                    this.stack.reset(), (this.stack.pointer = -1)\r\n                  }\r\n                })\r\n              return (\r\n                t.extend(b, {\r\n                  defaults: function (e) {\r\n                    t.extend(b.prototype.defaults, e)\r\n                  },\r\n                  addUndoType: function (t, e) {\r\n                    v(0, t, e, p)\r\n                  },\r\n                  changeUndoType: function (t, e) {\r\n                    v(1, t, e, p)\r\n                  },\r\n                  removeUndoType: function (t) {\r\n                    v(2, t, void 0, p)\r\n                  }\r\n                }),\r\n                (e.UndoManager = b)\r\n              )\r\n            })\r\n              ? i.apply(e, r)\r\n              : i) || (t.exports = o)\r\n    },\r\n    function (t, e, n) {\r\n      ;(function (i) {\r\n        var r, o, s\r\n        ;(s = ('object' == typeof self && self.self == self && self) || ('object' == typeof i && i.global == i && i)),\r\n          (r = [n(46), n(13), e]),\r\n          void 0 ===\r\n            (o = function (t, e, n) {\r\n              s.Backbone = (function (t, e, n, i) {\r\n                var r = t.Backbone,\r\n                  o = [].slice\r\n                ;(e.VERSION = '1.2.1'),\r\n                  (e.$ = i),\r\n                  (e.noConflict = function () {\r\n                    return (t.Backbone = r), this\r\n                  }),\r\n                  (e.emulateHTTP = !1),\r\n                  (e.emulateJSON = !1)\r\n                var s = function (t, e, i) {\r\n                    n.each(e, function (e, r) {\r\n                      n[r] &&\r\n                        (t.prototype[r] = (function (t, e, i) {\r\n                          switch (t) {\r\n                            case 1:\r\n                              return function () {\r\n                                return n[e](this[i])\r\n                              }\r\n                            case 2:\r\n                              return function (t) {\r\n                                return n[e](this[i], t)\r\n                              }\r\n                            case 3:\r\n                              return function (t, r) {\r\n                                return n[e](this[i], t, r)\r\n                              }\r\n                            case 4:\r\n                              return function (t, r, o) {\r\n                                return n[e](this[i], t, r, o)\r\n                              }\r\n                            default:\r\n                              return function () {\r\n                                var t = o.call(arguments)\r\n                                return t.unshift(this[i]), n[e].apply(n, t)\r\n                              }\r\n                          }\r\n                        })(e, r, i))\r\n                    })\r\n                  },\r\n                  a = (e.Events = {}),\r\n                  l = /\\s+/,\r\n                  c = function (t, e, i, r, o) {\r\n                    var s,\r\n                      a = 0\r\n                    if (i && 'object' == typeof i) {\r\n                      void 0 !== r && 'context' in o && void 0 === o.context && (o.context = r)\r\n                      for (s = n.keys(i); a < s.length; a++) e = t(e, s[a], i[s[a]], o)\r\n                    } else if (i && l.test(i)) for (s = i.split(l); a < s.length; a++) e = t(e, s[a], r, o)\r\n                    else e = t(e, i, r, o)\r\n                    return e\r\n                  }\r\n                a.on = function (t, e, n) {\r\n                  return u(this, t, e, n)\r\n                }\r\n                var u = function (t, e, n, i, r) {\r\n                  if (((t._events = c(h, t._events || {}, e, n, { context: i, ctx: t, listening: r })), r)) {\r\n                    var o = t._listeners || (t._listeners = {})\r\n                    o[r.id] = r\r\n                  }\r\n                  return t\r\n                }\r\n                a.listenTo = function (t, e, i) {\r\n                  if (!t) return this\r\n                  var r = t._listenId || (t._listenId = n.uniqueId('l')),\r\n                    o = this._listeningTo || (this._listeningTo = {}),\r\n                    s = o[r]\r\n                  if (!s) {\r\n                    var a = this._listenId || (this._listenId = n.uniqueId('l'))\r\n                    s = o[r] = { obj: t, objId: r, id: a, listeningTo: o, count: 0 }\r\n                  }\r\n                  return u(t, e, i, this, s), this\r\n                }\r\n                var h = function (t, e, n, i) {\r\n                  if (n) {\r\n                    var r = t[e] || (t[e] = []),\r\n                      o = i.context,\r\n                      s = i.ctx,\r\n                      a = i.listening\r\n                    a && a.count++, r.push({ callback: n, context: o, ctx: o || s, listening: a })\r\n                  }\r\n                  return t\r\n                }\r\n                ;(a.off = function (t, e, n) {\r\n                  return this._events\r\n                    ? ((this._events = c(d, this._events, t, e, { context: n, listeners: this._listeners })), this)\r\n                    : this\r\n                }),\r\n                  (a.stopListening = function (t, e, i) {\r\n                    var r = this._listeningTo\r\n                    if (!r) return this\r\n                    for (var o = t ? [t._listenId] : n.keys(r), s = 0; s < o.length; s++) {\r\n                      var a = r[o[s]]\r\n                      if (!a) break\r\n                      a.obj.off(e, i, this)\r\n                    }\r\n                    return n.isEmpty(r) && (this._listeningTo = void 0), this\r\n                  })\r\n                var d = function (t, e, i, r) {\r\n                  if (t) {\r\n                    var o,\r\n                      s = 0,\r\n                      a = r.context,\r\n                      l = r.listeners\r\n                    if (e || i || a) {\r\n                      for (var c = e ? [e] : n.keys(t); s < c.length; s++) {\r\n                        e = c[s]\r\n                        var u = t[e]\r\n                        if (!u) break\r\n                        for (var h = [], d = 0; d < u.length; d++) {\r\n                          var f = u[d]\r\n                          ;(i && i !== f.callback && i !== f.callback._callback) || (a && a !== f.context)\r\n                            ? h.push(f)\r\n                            : (o = f.listening) && 0 == --o.count && (delete l[o.id], delete o.listeningTo[o.objId])\r\n                        }\r\n                        h.length ? (t[e] = h) : delete t[e]\r\n                      }\r\n                      return n.size(t) ? t : void 0\r\n                    }\r\n                    for (var p = n.keys(l); s < p.length; s++)\r\n                      (o = l[p[s]]), delete l[o.id], delete o.listeningTo[o.objId]\r\n                  }\r\n                }\r\n                ;(a.once = function (t, e, i) {\r\n                  var r = c(f, {}, t, e, n.bind(this.off, this))\r\n                  return this.on(r, void 0, i)\r\n                }),\r\n                  (a.listenToOnce = function (t, e, i) {\r\n                    var r = c(f, {}, e, i, n.bind(this.stopListening, this, t))\r\n                    return this.listenTo(t, r)\r\n                  })\r\n                var f = function (t, e, i, r) {\r\n                  if (i) {\r\n                    var o = (t[e] = n.once(function () {\r\n                      r(e, o), i.apply(this, arguments)\r\n                    }))\r\n                    o._callback = i\r\n                  }\r\n                  return t\r\n                }\r\n                a.trigger = function (t) {\r\n                  if (!this._events) return this\r\n                  for (var e = Math.max(0, arguments.length - 1), n = Array(e), i = 0; i < e; i++)\r\n                    n[i] = arguments[i + 1]\r\n                  return c(p, this._events, t, void 0, n), this\r\n                }\r\n                var p = function (t, e, n, i) {\r\n                    if (t) {\r\n                      var r = t[e],\r\n                        o = t.all\r\n                      r && o && (o = o.slice()), r && g(r, i), o && g(o, [e].concat(i))\r\n                    }\r\n                    return t\r\n                  },\r\n                  g = function (t, e) {\r\n                    var n,\r\n                      i = -1,\r\n                      r = t.length,\r\n                      o = e[0],\r\n                      s = e[1],\r\n                      a = e[2]\r\n                    switch (e.length) {\r\n                      case 0:\r\n                        for (; ++i < r; ) (n = t[i]).callback.call(n.ctx)\r\n                        return\r\n                      case 1:\r\n                        for (; ++i < r; ) (n = t[i]).callback.call(n.ctx, o)\r\n                        return\r\n                      case 2:\r\n                        for (; ++i < r; ) (n = t[i]).callback.call(n.ctx, o, s)\r\n                        return\r\n                      case 3:\r\n                        for (; ++i < r; ) (n = t[i]).callback.call(n.ctx, o, s, a)\r\n                        return\r\n                      default:\r\n                        for (; ++i < r; ) (n = t[i]).callback.apply(n.ctx, e)\r\n                        return\r\n                    }\r\n                  }\r\n                ;(a.bind = a.on), (a.unbind = a.off), n.extend(e, a)\r\n                var v = (e.Model = function (t, e) {\r\n                  var i = t || {}\r\n                  e || (e = {}),\r\n                    (this.cid = n.uniqueId(this.cidPrefix)),\r\n                    (this.attributes = {}),\r\n                    e.collection && (this.collection = e.collection),\r\n                    e.parse && (i = this.parse(i, e) || {}),\r\n                    (i = n.defaults({}, i, n.result(this, 'defaults'))),\r\n                    this.set(i, e),\r\n                    (this.changed = {}),\r\n                    this.initialize.apply(this, arguments)\r\n                })\r\n                n.extend(v.prototype, a, {\r\n                  changed: null,\r\n                  validationError: null,\r\n                  idAttribute: 'id',\r\n                  cidPrefix: 'c',\r\n                  initialize: function () {},\r\n                  toJSON: function (t) {\r\n                    return n.clone(this.attributes)\r\n                  },\r\n                  sync: function () {\r\n                    return e.sync.apply(this, arguments)\r\n                  },\r\n                  get: function (t) {\r\n                    return this.attributes[t]\r\n                  },\r\n                  escape: function (t) {\r\n                    return n.escape(this.get(t))\r\n                  },\r\n                  has: function (t) {\r\n                    return null != this.get(t)\r\n                  },\r\n                  matches: function (t) {\r\n                    return !!n.iteratee(t, this)(this.attributes)\r\n                  },\r\n                  set: function (t, e, i) {\r\n                    if (null == t) return this\r\n                    var r\r\n                    if (\r\n                      ('object' == typeof t ? ((r = t), (i = e)) : ((r = {})[t] = e),\r\n                      i || (i = {}),\r\n                      !this._validate(r, i))\r\n                    )\r\n                      return !1\r\n                    var o = i.unset,\r\n                      s = i.silent,\r\n                      a = [],\r\n                      l = this._changing\r\n                    ;(this._changing = !0),\r\n                      l || ((this._previousAttributes = n.clone(this.attributes)), (this.changed = {}))\r\n                    var c = this.attributes,\r\n                      u = this.changed,\r\n                      h = this._previousAttributes\r\n                    for (var d in (this.idAttribute in r && (this.id = r[this.idAttribute]), r))\r\n                      (e = r[d]),\r\n                        n.isEqual(c[d], e) || a.push(d),\r\n                        n.isEqual(h[d], e) ? delete u[d] : (u[d] = e),\r\n                        o ? delete c[d] : (c[d] = e)\r\n                    if (!s) {\r\n                      a.length && (this._pending = i)\r\n                      for (var f = 0; f < a.length; f++) this.trigger('change:' + a[f], this, c[a[f]], i)\r\n                    }\r\n                    if (l) return this\r\n                    if (!s)\r\n                      for (; this._pending; ) (i = this._pending), (this._pending = !1), this.trigger('change', this, i)\r\n                    return (this._pending = !1), (this._changing = !1), this\r\n                  },\r\n                  unset: function (t, e) {\r\n                    return this.set(t, void 0, n.extend({}, e, { unset: !0 }))\r\n                  },\r\n                  clear: function (t) {\r\n                    var e = {}\r\n                    for (var i in this.attributes) e[i] = void 0\r\n                    return this.set(e, n.extend({}, t, { unset: !0 }))\r\n                  },\r\n                  hasChanged: function (t) {\r\n                    return null == t ? !n.isEmpty(this.changed) : n.has(this.changed, t)\r\n                  },\r\n                  changedAttributes: function (t) {\r\n                    if (!t) return !!this.hasChanged() && n.clone(this.changed)\r\n                    var e = this._changing ? this._previousAttributes : this.attributes,\r\n                      i = {}\r\n                    for (var r in t) {\r\n                      var o = t[r]\r\n                      n.isEqual(e[r], o) || (i[r] = o)\r\n                    }\r\n                    return !!n.size(i) && i\r\n                  },\r\n                  previous: function (t) {\r\n                    return null != t && this._previousAttributes ? this._previousAttributes[t] : null\r\n                  },\r\n                  previousAttributes: function () {\r\n                    return n.clone(this._previousAttributes)\r\n                  },\r\n                  fetch: function (t) {\r\n                    t = n.extend({ parse: !0 }, t)\r\n                    var e = this,\r\n                      i = t.success\r\n                    return (\r\n                      (t.success = function (n) {\r\n                        var r = t.parse ? e.parse(n, t) : n\r\n                        if (!e.set(r, t)) return !1\r\n                        i && i.call(t.context, e, n, t), e.trigger('sync', e, n, t)\r\n                      }),\r\n                      D(this, t),\r\n                      this.sync('read', this, t)\r\n                    )\r\n                  },\r\n                  save: function (t, e, i) {\r\n                    var r\r\n                    null == t || 'object' == typeof t ? ((r = t), (i = e)) : ((r = {})[t] = e)\r\n                    var o = (i = n.extend({ validate: !0, parse: !0 }, i)).wait\r\n                    if (r && !o) {\r\n                      if (!this.set(r, i)) return !1\r\n                    } else if (!this._validate(r, i)) return !1\r\n                    var s = this,\r\n                      a = i.success,\r\n                      l = this.attributes\r\n                    ;(i.success = function (t) {\r\n                      s.attributes = l\r\n                      var e = i.parse ? s.parse(t, i) : t\r\n                      if ((o && (e = n.extend({}, r, e)), e && !s.set(e, i))) return !1\r\n                      a && a.call(i.context, s, t, i), s.trigger('sync', s, t, i)\r\n                    }),\r\n                      D(this, i),\r\n                      r && o && (this.attributes = n.extend({}, l, r))\r\n                    var c = this.isNew() ? 'create' : i.patch ? 'patch' : 'update'\r\n                    'patch' !== c || i.attrs || (i.attrs = r)\r\n                    var u = this.sync(c, this, i)\r\n                    return (this.attributes = l), u\r\n                  },\r\n                  destroy: function (t) {\r\n                    t = t ? n.clone(t) : {}\r\n                    var e = this,\r\n                      i = t.success,\r\n                      r = t.wait,\r\n                      o = function () {\r\n                        e.stopListening(), e.trigger('destroy', e, e.collection, t)\r\n                      }\r\n                    t.success = function (n) {\r\n                      r && o(), i && i.call(t.context, e, n, t), e.isNew() || e.trigger('sync', e, n, t)\r\n                    }\r\n                    var s = !1\r\n                    return (\r\n                      this.isNew() ? n.defer(t.success) : (D(this, t), (s = this.sync('delete', this, t))), r || o(), s\r\n                    )\r\n                  },\r\n                  url: function () {\r\n                    var t = n.result(this, 'urlRoot') || n.result(this.collection, 'url') || N()\r\n                    if (this.isNew()) return t\r\n                    var e = this.get(this.idAttribute)\r\n                    return t.replace(/[^\\/]$/, '$&/') + encodeURIComponent(e)\r\n                  },\r\n                  parse: function (t, e) {\r\n                    return t\r\n                  },\r\n                  clone: function () {\r\n                    return new this.constructor(this.attributes)\r\n                  },\r\n                  isNew: function () {\r\n                    return !this.has(this.idAttribute)\r\n                  },\r\n                  isValid: function (t) {\r\n                    return this._validate({}, n.defaults({ validate: !0 }, t))\r\n                  },\r\n                  _validate: function (t, e) {\r\n                    if (!e.validate || !this.validate) return !0\r\n                    t = n.extend({}, this.attributes, t)\r\n                    var i = (this.validationError = this.validate(t, e) || null)\r\n                    return !i || (this.trigger('invalid', this, i, n.extend(e, { validationError: i })), !1)\r\n                  }\r\n                }),\r\n                  s(\r\n                    v,\r\n                    { keys: 1, values: 1, pairs: 1, invert: 1, pick: 0, omit: 0, chain: 1, isEmpty: 1 },\r\n                    'attributes'\r\n                  )\r\n                var m = (e.Collection = function (t, e) {\r\n                    e || (e = {}),\r\n                      e.model && (this.model = e.model),\r\n                      void 0 !== e.comparator && (this.comparator = e.comparator),\r\n                      this._reset(),\r\n                      this.initialize.apply(this, arguments),\r\n                      t && this.reset(t, n.extend({ silent: !0 }, e))\r\n                  }),\r\n                  y = { add: !0, remove: !0, merge: !0 },\r\n                  b = { add: !0, remove: !1 }\r\n                n.extend(m.prototype, a, {\r\n                  model: v,\r\n                  initialize: function () {},\r\n                  toJSON: function (t) {\r\n                    return this.map(function (e) {\r\n                      return e.toJSON(t)\r\n                    })\r\n                  },\r\n                  sync: function () {\r\n                    return e.sync.apply(this, arguments)\r\n                  },\r\n                  add: function (t, e) {\r\n                    return this.set(t, n.extend({ merge: !1 }, e, b))\r\n                  },\r\n                  remove: function (t, e) {\r\n                    e = n.extend({}, e)\r\n                    var i = !n.isArray(t)\r\n                    t = i ? [t] : n.clone(t)\r\n                    var r = this._removeModels(t, e)\r\n                    return !e.silent && r && this.trigger('update', this, e), i ? r[0] : r\r\n                  },\r\n                  set: function (t, e) {\r\n                    ;(e = n.defaults({}, e, y)).parse && !this._isModel(t) && (t = this.parse(t, e))\r\n                    var i,\r\n                      r,\r\n                      o,\r\n                      s,\r\n                      a,\r\n                      l = !n.isArray(t)\r\n                    t = l ? (t ? [t] : []) : t.slice()\r\n                    var c = e.at\r\n                    null != c && (c = +c), c < 0 && (c += this.length + 1)\r\n                    for (\r\n                      var u = this.comparator && null == c && !1 !== e.sort,\r\n                        h = n.isString(this.comparator) ? this.comparator : null,\r\n                        d = [],\r\n                        f = [],\r\n                        p = {},\r\n                        g = e.add,\r\n                        v = e.merge,\r\n                        m = e.remove,\r\n                        b = !(u || !g || !m) && [],\r\n                        x = !1,\r\n                        w = 0;\r\n                      w < t.length;\r\n                      w++\r\n                    ) {\r\n                      if (((o = t[w]), (s = this.get(o))))\r\n                        m && (p[s.cid] = !0),\r\n                          v &&\r\n                            o !== s &&\r\n                            ((o = this._isModel(o) ? o.attributes : o),\r\n                            e.parse && (o = s.parse(o, e)),\r\n                            s.set(o, e),\r\n                            u && !a && s.hasChanged(h) && (a = !0)),\r\n                          (t[w] = s)\r\n                      else if (g) {\r\n                        if (!(r = t[w] = this._prepareModel(o, e))) continue\r\n                        d.push(r), this._addReference(r, e)\r\n                      }\r\n                      ;(r = s || r) &&\r\n                        ((i = this.modelId(r.attributes)),\r\n                        !b ||\r\n                          (!r.isNew() && p[i]) ||\r\n                          (b.push(r), (x = x || !this.models[w] || r.cid !== this.models[w].cid)),\r\n                        (p[i] = !0))\r\n                    }\r\n                    if (m) {\r\n                      for (var w = 0; w < this.length; w++) p[(r = this.models[w]).cid] || f.push(r)\r\n                      f.length && this._removeModels(f, e)\r\n                    }\r\n                    if (d.length || x)\r\n                      if ((u && (a = !0), (this.length += d.length), null != c))\r\n                        for (var w = 0; w < d.length; w++) this.models.splice(c + w, 0, d[w])\r\n                      else {\r\n                        b && (this.models.length = 0)\r\n                        for (var C = b || d, w = 0; w < C.length; w++) this.models.push(C[w])\r\n                      }\r\n                    if ((a && this.sort({ silent: !0 }), !e.silent)) {\r\n                      for (var k = null != c ? n.clone(e) : e, w = 0; w < d.length; w++)\r\n                        null != c && (k.index = c + w), (r = d[w]).trigger('add', r, this, k)\r\n                      ;(a || x) && this.trigger('sort', this, e),\r\n                        (d.length || f.length) && this.trigger('update', this, e)\r\n                    }\r\n                    return l ? t[0] : t\r\n                  },\r\n                  reset: function (t, e) {\r\n                    e = e ? n.clone(e) : {}\r\n                    for (var i = 0; i < this.models.length; i++) this._removeReference(this.models[i], e)\r\n                    return (\r\n                      (e.previousModels = this.models),\r\n                      this._reset(),\r\n                      (t = this.add(t, n.extend({ silent: !0 }, e))),\r\n                      e.silent || this.trigger('reset', this, e),\r\n                      t\r\n                    )\r\n                  },\r\n                  push: function (t, e) {\r\n                    return this.add(t, n.extend({ at: this.length }, e))\r\n                  },\r\n                  pop: function (t) {\r\n                    var e = this.at(this.length - 1)\r\n                    return this.remove(e, t)\r\n                  },\r\n                  unshift: function (t, e) {\r\n                    return this.add(t, n.extend({ at: 0 }, e))\r\n                  },\r\n                  shift: function (t) {\r\n                    var e = this.at(0)\r\n                    return this.remove(e, t)\r\n                  },\r\n                  slice: function () {\r\n                    return o.apply(this.models, arguments)\r\n                  },\r\n                  get: function (t) {\r\n                    if (null != t) {\r\n                      var e = this.modelId(this._isModel(t) ? t.attributes : t)\r\n                      return this._byId[t] || this._byId[e] || this._byId[t.cid]\r\n                    }\r\n                  },\r\n                  at: function (t) {\r\n                    return t < 0 && (t += this.length), this.models[t]\r\n                  },\r\n                  where: function (t, e) {\r\n                    var i = n.matches(t)\r\n                    return this[e ? 'find' : 'filter'](function (t) {\r\n                      return i(t.attributes)\r\n                    })\r\n                  },\r\n                  findWhere: function (t) {\r\n                    return this.where(t, !0)\r\n                  },\r\n                  sort: function (t) {\r\n                    if (!this.comparator) throw new Error('Cannot sort a set without a comparator')\r\n                    return (\r\n                      t || (t = {}),\r\n                      n.isString(this.comparator) || 1 === this.comparator.length\r\n                        ? (this.models = this.sortBy(this.comparator, this))\r\n                        : this.models.sort(n.bind(this.comparator, this)),\r\n                      t.silent || this.trigger('sort', this, t),\r\n                      this\r\n                    )\r\n                  },\r\n                  pluck: function (t) {\r\n                    return n.invoke(this.models, 'get', t)\r\n                  },\r\n                  fetch: function (t) {\r\n                    var e = (t = n.extend({ parse: !0 }, t)).success,\r\n                      i = this\r\n                    return (\r\n                      (t.success = function (n) {\r\n                        var r = t.reset ? 'reset' : 'set'\r\n                        i[r](n, t), e && e.call(t.context, i, n, t), i.trigger('sync', i, n, t)\r\n                      }),\r\n                      D(this, t),\r\n                      this.sync('read', this, t)\r\n                    )\r\n                  },\r\n                  create: function (t, e) {\r\n                    var i = (e = e ? n.clone(e) : {}).wait\r\n                    if (!(t = this._prepareModel(t, e))) return !1\r\n                    i || this.add(t, e)\r\n                    var r = this,\r\n                      o = e.success\r\n                    return (\r\n                      (e.success = function (t, e, n) {\r\n                        i && r.add(t, n), o && o.call(n.context, t, e, n)\r\n                      }),\r\n                      t.save(null, e),\r\n                      t\r\n                    )\r\n                  },\r\n                  parse: function (t, e) {\r\n                    return t\r\n                  },\r\n                  clone: function () {\r\n                    return new this.constructor(this.models, { model: this.model, comparator: this.comparator })\r\n                  },\r\n                  modelId: function (t) {\r\n                    return t[this.model.prototype.idAttribute || 'id']\r\n                  },\r\n                  _reset: function () {\r\n                    ;(this.length = 0), (this.models = []), (this._byId = {})\r\n                  },\r\n                  _prepareModel: function (t, e) {\r\n                    if (this._isModel(t)) return t.collection || (t.collection = this), t\r\n                    ;(e = e ? n.clone(e) : {}).collection = this\r\n                    var i = new this.model(t, e)\r\n                    return i.validationError ? (this.trigger('invalid', this, i.validationError, e), !1) : i\r\n                  },\r\n                  _removeModels: function (t, e) {\r\n                    for (var n = [], i = 0; i < t.length; i++) {\r\n                      var r = this.get(t[i])\r\n                      if (r) {\r\n                        var o = this.indexOf(r)\r\n                        this.models.splice(o, 1),\r\n                          this.length--,\r\n                          e.silent || ((e.index = o), r.trigger('remove', r, this, e)),\r\n                          n.push(r),\r\n                          this._removeReference(r, e)\r\n                      }\r\n                    }\r\n                    return !!n.length && n\r\n                  },\r\n                  _isModel: function (t) {\r\n                    return t instanceof v\r\n                  },\r\n                  _addReference: function (t, e) {\r\n                    this._byId[t.cid] = t\r\n                    var n = this.modelId(t.attributes)\r\n                    null != n && (this._byId[n] = t), t.on('all', this._onModelEvent, this)\r\n                  },\r\n                  _removeReference: function (t, e) {\r\n                    delete this._byId[t.cid]\r\n                    var n = this.modelId(t.attributes)\r\n                    null != n && delete this._byId[n],\r\n                      this === t.collection && delete t.collection,\r\n                      t.off('all', this._onModelEvent, this)\r\n                  },\r\n                  _onModelEvent: function (t, e, n, i) {\r\n                    if (('add' !== t && 'remove' !== t) || n === this) {\r\n                      if (('destroy' === t && this.remove(e, i), 'change' === t)) {\r\n                        var r = this.modelId(e.previousAttributes()),\r\n                          o = this.modelId(e.attributes)\r\n                        r !== o && (null != r && delete this._byId[r], null != o && (this._byId[o] = e))\r\n                      }\r\n                      this.trigger.apply(this, arguments)\r\n                    }\r\n                  }\r\n                }),\r\n                  s(\r\n                    m,\r\n                    {\r\n                      forEach: 3,\r\n                      each: 3,\r\n                      map: 3,\r\n                      collect: 3,\r\n                      reduce: 4,\r\n                      foldl: 4,\r\n                      inject: 4,\r\n                      reduceRight: 4,\r\n                      foldr: 4,\r\n                      find: 3,\r\n                      detect: 3,\r\n                      filter: 3,\r\n                      select: 3,\r\n                      reject: 3,\r\n                      every: 3,\r\n                      all: 3,\r\n                      some: 3,\r\n                      any: 3,\r\n                      include: 2,\r\n                      contains: 2,\r\n                      invoke: 0,\r\n                      max: 3,\r\n                      min: 3,\r\n                      toArray: 1,\r\n                      size: 1,\r\n                      first: 3,\r\n                      head: 3,\r\n                      take: 3,\r\n                      initial: 3,\r\n                      rest: 3,\r\n                      tail: 3,\r\n                      drop: 3,\r\n                      last: 3,\r\n                      without: 0,\r\n                      difference: 0,\r\n                      indexOf: 3,\r\n                      shuffle: 1,\r\n                      lastIndexOf: 3,\r\n                      isEmpty: 1,\r\n                      chain: 1,\r\n                      sample: 3,\r\n                      partition: 3\r\n                    },\r\n                    'models'\r\n                  ),\r\n                  n.each(['groupBy', 'countBy', 'sortBy', 'indexBy'], function (t) {\r\n                    n[t] &&\r\n                      (m.prototype[t] = function (e, i) {\r\n                        var r = n.isFunction(e)\r\n                          ? e\r\n                          : function (t) {\r\n                              return t.get(e)\r\n                            }\r\n                        return n[t](this.models, r, i)\r\n                      })\r\n                  })\r\n                var x = (e.View = function (t) {\r\n                    ;(this.cid = n.uniqueId('view')),\r\n                      n.extend(this, n.pick(t, C)),\r\n                      this._ensureElement(),\r\n                      this.initialize.apply(this, arguments)\r\n                  }),\r\n                  w = /^(\\S+)\\s*(.*)$/,\r\n                  C = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events']\r\n                n.extend(x.prototype, a, {\r\n                  tagName: 'div',\r\n                  $: function (t) {\r\n                    return this.$el.find(t)\r\n                  },\r\n                  initialize: function () {},\r\n                  render: function () {\r\n                    return this\r\n                  },\r\n                  remove: function () {\r\n                    return this._removeElement(), this.stopListening(), this\r\n                  },\r\n                  _removeElement: function () {\r\n                    this.$el.remove()\r\n                  },\r\n                  setElement: function (t) {\r\n                    return this.undelegateEvents(), this._setElement(t), this.delegateEvents(), this\r\n                  },\r\n                  _setElement: function (t) {\r\n                    ;(this.$el = t instanceof e.$ ? t : e.$(t)), (this.el = this.$el[0])\r\n                  },\r\n                  delegateEvents: function (t) {\r\n                    if ((t || (t = n.result(this, 'events')), !t)) return this\r\n                    for (var e in (this.undelegateEvents(), t)) {\r\n                      var i = t[e]\r\n                      if ((n.isFunction(i) || (i = this[i]), i)) {\r\n                        var r = e.match(w)\r\n                        this.delegate(r[1], r[2], n.bind(i, this))\r\n                      }\r\n                    }\r\n                    return this\r\n                  },\r\n                  delegate: function (t, e, n) {\r\n                    return this.$el.on(t + '.delegateEvents' + this.cid, e, n), this\r\n                  },\r\n                  undelegateEvents: function () {\r\n                    return this.$el && this.$el.off('.delegateEvents' + this.cid), this\r\n                  },\r\n                  undelegate: function (t, e, n) {\r\n                    return this.$el.off(t + '.delegateEvents' + this.cid, e, n), this\r\n                  },\r\n                  _createElement: function (t) {\r\n                    return document.createElement(t)\r\n                  },\r\n                  _ensureElement: function () {\r\n                    if (this.el) this.setElement(n.result(this, 'el'))\r\n                    else {\r\n                      var t = n.extend({}, n.result(this, 'attributes'))\r\n                      this.id && (t.id = n.result(this, 'id')),\r\n                        this.className && (t.class = n.result(this, 'className')),\r\n                        this.setElement(this._createElement(n.result(this, 'tagName'))),\r\n                        this._setAttributes(t)\r\n                    }\r\n                  },\r\n                  _setAttributes: function (t) {\r\n                    this.$el.attr(t)\r\n                  }\r\n                }),\r\n                  (e.sync = function (t, i, r) {\r\n                    var o = k[t]\r\n                    n.defaults(r || (r = {}), { emulateHTTP: e.emulateHTTP, emulateJSON: e.emulateJSON })\r\n                    var s = { type: o, dataType: 'json' }\r\n                    if (\r\n                      (r.url || (s.url = n.result(i, 'url') || N()),\r\n                      null != r.data ||\r\n                        !i ||\r\n                        ('create' !== t && 'update' !== t && 'patch' !== t) ||\r\n                        ((s.contentType = 'application/json'), (s.data = JSON.stringify(r.attrs || i.toJSON(r)))),\r\n                      r.emulateJSON &&\r\n                        ((s.contentType = 'application/x-www-form-urlencoded'),\r\n                        (s.data = s.data ? { model: s.data } : {})),\r\n                      r.emulateHTTP && ('PUT' === o || 'DELETE' === o || 'PATCH' === o))\r\n                    ) {\r\n                      ;(s.type = 'POST'), r.emulateJSON && (s.data._method = o)\r\n                      var a = r.beforeSend\r\n                      r.beforeSend = function (t) {\r\n                        if ((t.setRequestHeader('X-HTTP-Method-Override', o), a)) return a.apply(this, arguments)\r\n                      }\r\n                    }\r\n                    'GET' === s.type || r.emulateJSON || (s.processData = !1)\r\n                    var l = r.error\r\n                    r.error = function (t, e, n) {\r\n                      ;(r.textStatus = e), (r.errorThrown = n), l && l.call(r.context, t, e, n)\r\n                    }\r\n                    var c = (r.xhr = e.ajax(n.extend(s, r)))\r\n                    return i.trigger('request', i, c, r), c\r\n                  })\r\n                var k = { create: 'POST', update: 'PUT', patch: 'PATCH', delete: 'DELETE', read: 'GET' }\r\n                e.ajax = function () {\r\n                  return e.$.ajax.apply(e.$, arguments)\r\n                }\r\n                var S = (e.Router = function (t) {\r\n                    t || (t = {}),\r\n                      t.routes && (this.routes = t.routes),\r\n                      this._bindRoutes(),\r\n                      this.initialize.apply(this, arguments)\r\n                  }),\r\n                  T = /\\((.*?)\\)/g,\r\n                  E = /(\\(\\?)?:\\w+/g,\r\n                  M = /\\*\\w+/g,\r\n                  A = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g\r\n                n.extend(S.prototype, a, {\r\n                  initialize: function () {},\r\n                  route: function (t, i, r) {\r\n                    n.isRegExp(t) || (t = this._routeToRegExp(t)),\r\n                      n.isFunction(i) && ((r = i), (i = '')),\r\n                      r || (r = this[i])\r\n                    var o = this\r\n                    return (\r\n                      e.history.route(t, function (n) {\r\n                        var s = o._extractParameters(t, n)\r\n                        !1 !== o.execute(r, s, i) &&\r\n                          (o.trigger.apply(o, ['route:' + i].concat(s)),\r\n                          o.trigger('route', i, s),\r\n                          e.history.trigger('route', o, i, s))\r\n                      }),\r\n                      this\r\n                    )\r\n                  },\r\n                  execute: function (t, e, n) {\r\n                    t && t.apply(this, e)\r\n                  },\r\n                  navigate: function (t, n) {\r\n                    return e.history.navigate(t, n), this\r\n                  },\r\n                  _bindRoutes: function () {\r\n                    if (this.routes) {\r\n                      this.routes = n.result(this, 'routes')\r\n                      for (var t, e = n.keys(this.routes); null != (t = e.pop()); ) this.route(t, this.routes[t])\r\n                    }\r\n                  },\r\n                  _routeToRegExp: function (t) {\r\n                    return (\r\n                      (t = t\r\n                        .replace(A, '\\\\$&')\r\n                        .replace(T, '(?:$1)?')\r\n                        .replace(E, function (t, e) {\r\n                          return e ? t : '([^/?]+)'\r\n                        })\r\n                        .replace(M, '([^?]*?)')),\r\n                      new RegExp('^' + t + '(?:\\\\?([\\\\s\\\\S]*))?$')\r\n                    )\r\n                  },\r\n                  _extractParameters: function (t, e) {\r\n                    var i = t.exec(e).slice(1)\r\n                    return n.map(i, function (t, e) {\r\n                      return e === i.length - 1 ? t || null : t ? decodeURIComponent(t) : null\r\n                    })\r\n                  }\r\n                })\r\n                var O = (e.History = function () {\r\n                    ;(this.handlers = []),\r\n                      n.bindAll(this, 'checkUrl'),\r\n                      'undefined' != typeof window &&\r\n                        ((this.location = window.location), (this.history = window.history))\r\n                  }),\r\n                  P = /^[#\\/]|\\s+$/g,\r\n                  L = /^\\/+|\\/+$/g,\r\n                  _ = /#.*$/\r\n                ;(O.started = !1),\r\n                  n.extend(O.prototype, a, {\r\n                    interval: 50,\r\n                    atRoot: function () {\r\n                      var t = this.location.pathname.replace(/[^\\/]$/, '$&/')\r\n                      return t === this.root && !this.getSearch()\r\n                    },\r\n                    matchRoot: function () {\r\n                      var t = this.decodeFragment(this.location.pathname),\r\n                        e = t.slice(0, this.root.length - 1) + '/'\r\n                      return e === this.root\r\n                    },\r\n                    decodeFragment: function (t) {\r\n                      return decodeURI(t.replace(/%25/g, '%2525'))\r\n                    },\r\n                    getSearch: function () {\r\n                      var t = this.location.href.replace(/#.*/, '').match(/\\?.+/)\r\n                      return t ? t[0] : ''\r\n                    },\r\n                    getHash: function (t) {\r\n                      var e = (t || this).location.href.match(/#(.*)$/)\r\n                      return e ? e[1] : ''\r\n                    },\r\n                    getPath: function () {\r\n                      var t = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1)\r\n                      return '/' === t.charAt(0) ? t.slice(1) : t\r\n                    },\r\n                    getFragment: function (t) {\r\n                      return (\r\n                        null == t &&\r\n                          (t = this._usePushState || !this._wantsHashChange ? this.getPath() : this.getHash()),\r\n                        t.replace(P, '')\r\n                      )\r\n                    },\r\n                    start: function (t) {\r\n                      if (O.started) throw new Error('Backbone.history has already been started')\r\n                      if (\r\n                        ((O.started = !0),\r\n                        (this.options = n.extend({ root: '/' }, this.options, t)),\r\n                        (this.root = this.options.root),\r\n                        (this._wantsHashChange = !1 !== this.options.hashChange),\r\n                        (this._hasHashChange = 'onhashchange' in window),\r\n                        (this._useHashChange = this._wantsHashChange && this._hasHashChange),\r\n                        (this._wantsPushState = !!this.options.pushState),\r\n                        (this._hasPushState = !(!this.history || !this.history.pushState)),\r\n                        (this._usePushState = this._wantsPushState && this._hasPushState),\r\n                        (this.fragment = this.getFragment()),\r\n                        (this.root = ('/' + this.root + '/').replace(L, '/')),\r\n                        this._wantsHashChange && this._wantsPushState)\r\n                      ) {\r\n                        if (!this._hasPushState && !this.atRoot()) {\r\n                          var e = this.root.slice(0, -1) || '/'\r\n                          return this.location.replace(e + '#' + this.getPath()), !0\r\n                        }\r\n                        this._hasPushState && this.atRoot() && this.navigate(this.getHash(), { replace: !0 })\r\n                      }\r\n                      if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {\r\n                        ;(this.iframe = document.createElement('iframe')),\r\n                          (this.iframe.src = 'javascript:0'),\r\n                          (this.iframe.style.display = 'none'),\r\n                          (this.iframe.tabIndex = -1)\r\n                        var i = document.body,\r\n                          r = i.insertBefore(this.iframe, i.firstChild).contentWindow\r\n                        r.document.open(), r.document.close(), (r.location.hash = '#' + this.fragment)\r\n                      }\r\n                      var o =\r\n                        window.addEventListener ||\r\n                        function (t, e) {\r\n                          return attachEvent('on' + t, e)\r\n                        }\r\n                      if (\r\n                        (this._usePushState\r\n                          ? o('popstate', this.checkUrl, !1)\r\n                          : this._useHashChange && !this.iframe\r\n                          ? o('hashchange', this.checkUrl, !1)\r\n                          : this._wantsHashChange &&\r\n                            (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)),\r\n                        !this.options.silent)\r\n                      )\r\n                        return this.loadUrl()\r\n                    },\r\n                    stop: function () {\r\n                      var t =\r\n                        window.removeEventListener ||\r\n                        function (t, e) {\r\n                          return detachEvent('on' + t, e)\r\n                        }\r\n                      this._usePushState\r\n                        ? t('popstate', this.checkUrl, !1)\r\n                        : this._useHashChange && !this.iframe && t('hashchange', this.checkUrl, !1),\r\n                        this.iframe && (document.body.removeChild(this.iframe), (this.iframe = null)),\r\n                        this._checkUrlInterval && clearInterval(this._checkUrlInterval),\r\n                        (O.started = !1)\r\n                    },\r\n                    route: function (t, e) {\r\n                      this.handlers.unshift({ route: t, callback: e })\r\n                    },\r\n                    checkUrl: function (t) {\r\n                      var e = this.getFragment()\r\n                      if (\r\n                        (e === this.fragment && this.iframe && (e = this.getHash(this.iframe.contentWindow)),\r\n                        e === this.fragment)\r\n                      )\r\n                        return !1\r\n                      this.iframe && this.navigate(e), this.loadUrl()\r\n                    },\r\n                    loadUrl: function (t) {\r\n                      return (\r\n                        !!this.matchRoot() &&\r\n                        ((t = this.fragment = this.getFragment(t)),\r\n                        n.any(this.handlers, function (e) {\r\n                          if (e.route.test(t)) return e.callback(t), !0\r\n                        }))\r\n                      )\r\n                    },\r\n                    navigate: function (t, e) {\r\n                      if (!O.started) return !1\r\n                      ;(e && !0 !== e) || (e = { trigger: !!e }), (t = this.getFragment(t || ''))\r\n                      var n = this.root\r\n                      ;('' !== t && '?' !== t.charAt(0)) || (n = n.slice(0, -1) || '/')\r\n                      var i = n + t\r\n                      if (((t = this.decodeFragment(t.replace(_, ''))), this.fragment !== t)) {\r\n                        if (((this.fragment = t), this._usePushState))\r\n                          this.history[e.replace ? 'replaceState' : 'pushState']({}, document.title, i)\r\n                        else {\r\n                          if (!this._wantsHashChange) return this.location.assign(i)\r\n                          if (\r\n                            (this._updateHash(this.location, t, e.replace),\r\n                            this.iframe && t !== this.getHash(this.iframe.contentWindow))\r\n                          ) {\r\n                            var r = this.iframe.contentWindow\r\n                            e.replace || (r.document.open(), r.document.close()),\r\n                              this._updateHash(r.location, t, e.replace)\r\n                          }\r\n                        }\r\n                        return e.trigger ? this.loadUrl(t) : void 0\r\n                      }\r\n                    },\r\n                    _updateHash: function (t, e, n) {\r\n                      if (n) {\r\n                        var i = t.href.replace(/(javascript:|#).*$/, '')\r\n                        t.replace(i + '#' + e)\r\n                      } else t.hash = '#' + e\r\n                    }\r\n                  }),\r\n                  (e.history = new O()),\r\n                  (v.extend = m.extend = S.extend = x.extend = O.extend = function (t, e) {\r\n                    var i,\r\n                      r = this\r\n                    ;(i =\r\n                      t && n.has(t, 'constructor')\r\n                        ? t.constructor\r\n                        : function () {\r\n                            return r.apply(this, arguments)\r\n                          }),\r\n                      n.extend(i, r, e)\r\n                    var o = function () {\r\n                      this.constructor = i\r\n                    }\r\n                    return (\r\n                      (o.prototype = r.prototype),\r\n                      (i.prototype = new o()),\r\n                      t && n.extend(i.prototype, t),\r\n                      (i.__super__ = r.prototype),\r\n                      i\r\n                    )\r\n                  })\r\n                var N = function () {\r\n                    throw new Error('A \"url\" property or function must be specified')\r\n                  },\r\n                  D = function (t, e) {\r\n                    var n = e.error\r\n                    e.error = function (i) {\r\n                      n && n.call(e.context, t, i, e), t.trigger('error', t, i, e)\r\n                    }\r\n                  }\r\n                return e\r\n              })(s, n, t, e)\r\n            }.apply(e, r)) || (t.exports = o)\r\n      }.call(this, n(8)))\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = function () {\r\n        var t = {},\r\n          e = n(101),\r\n          i = n(102),\r\n          r = n(103),\r\n          o = void 0,\r\n          s = {},\r\n          a = {}\r\n        return {\r\n          name: 'StorageManager',\r\n          init: function (n) {\r\n            for (var s in ((o = (t = n || {}).em), e)) s in t || (t[s] = e[s])\r\n            return (\r\n              (a.remote = new r(t)),\r\n              (a.local = new i(t)),\r\n              (t.currentStorage = t.type),\r\n              this.loadDefaultProviders().setCurrent(t.type),\r\n              this\r\n            )\r\n          },\r\n          getConfig: function () {\r\n            return t\r\n          },\r\n          isAutosave: function () {\r\n            return !!t.autosave\r\n          },\r\n          setAutosave: function (e) {\r\n            return (t.autosave = !!e), this\r\n          },\r\n          getStepsBeforeSave: function () {\r\n            return t.stepsBeforeSave\r\n          },\r\n          setStepsBeforeSave: function (e) {\r\n            return (t.stepsBeforeSave = e), this\r\n          },\r\n          add: function (t, e) {\r\n            return (s[t] = e), this\r\n          },\r\n          get: function (t) {\r\n            return s[t] || null\r\n          },\r\n          getStorages: function () {\r\n            return s\r\n          },\r\n          getCurrent: function () {\r\n            return t.currentStorage\r\n          },\r\n          setCurrent: function (e) {\r\n            return (t.currentStorage = e), this\r\n          },\r\n          store: function (e, n) {\r\n            var i = this,\r\n              r = this.get(this.getCurrent()),\r\n              o = {}\r\n            for (var s in (this.onStart('store', e), e)) o[t.id + s] = e[s]\r\n            return r\r\n              ? r.store(\r\n                  o,\r\n                  function (t) {\r\n                    n && n(t), i.onEnd('store', t)\r\n                  },\r\n                  function (t) {\r\n                    i.onError('store', t)\r\n                  }\r\n                )\r\n              : null\r\n          },\r\n          load: function (e, n) {\r\n            var i = this,\r\n              r = this.get(this.getCurrent()),\r\n              o = [],\r\n              s = {}\r\n            'string' == typeof e && (e = [e]), this.onStart('load', e)\r\n            for (var a = 0, l = e.length; a < l; a++) o.push(t.id + e[a])\r\n            r\r\n              ? r.load(\r\n                  o,\r\n                  function (e) {\r\n                    var r = new RegExp('^' + t.id)\r\n                    for (var o in e) {\r\n                      var a = o.replace(r, '')\r\n                      s[a] = e[o]\r\n                    }\r\n                    n && n(s), i.onEnd('load', s)\r\n                  },\r\n                  function (t) {\r\n                    i.onError('load', t)\r\n                  }\r\n                )\r\n              : n && n(s)\r\n          },\r\n          loadDefaultProviders: function () {\r\n            for (var t in a) this.add(t, a[t])\r\n            return this\r\n          },\r\n          getCurrentStorage: function () {\r\n            return this.get(this.getCurrent())\r\n          },\r\n          onStart: function (t, e) {\r\n            o && (o.trigger('storage:start'), t && o.trigger('storage:start:' + t, e))\r\n          },\r\n          onEnd: function (t, e) {\r\n            o && (o.trigger('storage:end'), t && o.trigger('storage:end:' + t, e))\r\n          },\r\n          onError: function (t, e) {\r\n            o && (o.trigger('storage:error', e), t && o.trigger('storage:error:' + t, e), this.onEnd(t, e))\r\n          },\r\n          canAutoload: function () {\r\n            return this.getCurrentStorage() && this.getConfig().autoload\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        id: 'gjs-',\r\n        autosave: 1,\r\n        autoload: 1,\r\n        type: 'local',\r\n        stepsBeforeSave: 1,\r\n        storeComponents: 1,\r\n        storeStyles: 1,\r\n        storeHtml: 1,\r\n        storeCss: 1,\r\n        checkLocal: 1,\r\n        params: {},\r\n        headers: {},\r\n        urlStore: '',\r\n        urlLoad: '',\r\n        beforeSend: function (t, e) {},\r\n        onComplete: function (t, e) {},\r\n        contentTypeJson: !1\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(0)\r\n      t.exports = i.Model.extend({\r\n        defaults: { checkLocal: !0 },\r\n        store: function (t, e) {\r\n          for (var n in (this.checkStorageEnvironment(), t)) localStorage.setItem(n, t[n])\r\n          'function' == typeof e && e()\r\n        },\r\n        load: function (t, e) {\r\n          this.checkStorageEnvironment()\r\n          for (var n = {}, i = 0, r = t.length; i < r; i++) {\r\n            var o = localStorage.getItem(t[i])\r\n            o && (n[t[i]] = o)\r\n          }\r\n          return 'function' == typeof e && e(n), n\r\n        },\r\n        remove: function (t) {\r\n          this.checkStorageEnvironment()\r\n          for (var e = 0, n = t.length; e < n; e++) localStorage.removeItem(t[e])\r\n        },\r\n        checkStorageEnvironment: function () {\r\n          this.get('checkLocal') && !localStorage && console.warn(\"Your browser doesn't support localStorage\")\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(47),\r\n        o = (i = r) && i.__esModule ? i : { default: i },\r\n        s = n(1)\r\n      t.exports = n(0).Model.extend({\r\n        fetch: o.default,\r\n        defaults: {\r\n          urlStore: '',\r\n          urlLoad: '',\r\n          params: {},\r\n          beforeSend: function () {},\r\n          onComplete: function () {},\r\n          contentTypeJson: !1\r\n        },\r\n        onStart: function () {\r\n          this.get('em')\r\n          var t = this.get('beforeSend')\r\n          t && t()\r\n        },\r\n        onError: function (t, e) {\r\n          if (e) e(t)\r\n          else {\r\n            var n = this.get('em')\r\n            console.error(t), n && n.trigger('storage:error', t)\r\n          }\r\n        },\r\n        onResponse: function (t, e) {\r\n          var n = this.get('em'),\r\n            i = this.get('onComplete'),\r\n            r = this.get('contentTypeJson') && (t && 'string' == typeof t) ? JSON.parse(t) : t\r\n          i && i(r), e && e(r), n && n.trigger('storage:response', r)\r\n        },\r\n        store: function (t, e, n) {\r\n          var i = {}\r\n          for (var r in t) i[r] = t[r]\r\n          this.request(this.get('urlStore'), { body: i }, e, n)\r\n        },\r\n        load: function (t, e, n) {\r\n          this.request(this.get('urlLoad'), { method: 'get' }, e, n)\r\n        },\r\n        request: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n            n = this,\r\n            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,\r\n            r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null,\r\n            o = this.get('contentTypeJson'),\r\n            a = this.get('headers') || {},\r\n            l = this.get('params'),\r\n            c = e.body || {},\r\n            u = void 0,\r\n            h = void 0\r\n          for (var d in l) c[d] = l[d]\r\n          if (\r\n            ((0, s.isUndefined)(a['X-Requested-With']) && (a['X-Requested-With'] = 'XMLHttpRequest'),\r\n            (0, s.isUndefined)(a['Content-Type']) && o && (a['Content-Type'] = 'application/json; charset=utf-8'),\r\n            o)\r\n          )\r\n            h = JSON.stringify(c)\r\n          else for (var f in ((h = new FormData()), c)) h.append(f, c[f])\r\n          'post' === (u = { method: e.method || 'post', credentials: 'include', headers: a }).method && (u.body = h),\r\n            this.onStart(),\r\n            this.fetch(t, u)\r\n              .then(function (t) {\r\n                return 1 == ((t.status / 200) | 0)\r\n                  ? t.text()\r\n                  : t.text().then(function (t) {\r\n                      return Promise.reject(t)\r\n                    })\r\n              })\r\n              .then(function (t) {\r\n                return n.onResponse(t, i)\r\n              })\r\n              .catch(function (t) {\r\n                return n.onError(t, r)\r\n              })\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      ;(function (t) {\r\n        Object.defineProperty(e, '__esModule', { value: !0 })\r\n        var i,\r\n          r =\r\n            'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator\r\n              ? function (t) {\r\n                  return typeof t\r\n                }\r\n              : function (t) {\r\n                  return t && 'function' == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype\r\n                    ? 'symbol'\r\n                    : typeof t\r\n                },\r\n          o = n(108),\r\n          s = (i = o) && i.__esModule ? i : { default: i }\r\n        var a = setTimeout\r\n        function l () {}\r\n        function c (t) {\r\n          if (!(this instanceof c)) throw new TypeError('Promises must be constructed via new')\r\n          if ('function' != typeof t) throw new TypeError('not a function')\r\n          ;(this._state = 0), (this._handled = !1), (this._value = void 0), (this._deferreds = []), g(t, this)\r\n        }\r\n        function u (t, e) {\r\n          for (; 3 === t._state; ) t = t._value\r\n          0 !== t._state\r\n            ? ((t._handled = !0),\r\n              c._immediateFn(function () {\r\n                var n = 1 === t._state ? e.onFulfilled : e.onRejected\r\n                if (null !== n) {\r\n                  var i\r\n                  try {\r\n                    i = n(t._value)\r\n                  } catch (t) {\r\n                    return void d(e.promise, t)\r\n                  }\r\n                  h(e.promise, i)\r\n                } else (1 === t._state ? h : d)(e.promise, t._value)\r\n              }))\r\n            : t._deferreds.push(e)\r\n        }\r\n        function h (t, e) {\r\n          try {\r\n            if (e === t) throw new TypeError('A promise cannot be resolved with itself.')\r\n            if (e && ('object' === (void 0 === e ? 'undefined' : r(e)) || 'function' == typeof e)) {\r\n              var n = e.then\r\n              if (e instanceof c) return (t._state = 3), (t._value = e), void f(t)\r\n              if ('function' == typeof n)\r\n                return void g(\r\n                  ((i = n),\r\n                  (o = e),\r\n                  function () {\r\n                    i.apply(o, arguments)\r\n                  }),\r\n                  t\r\n                )\r\n            }\r\n            ;(t._state = 1), (t._value = e), f(t)\r\n          } catch (e) {\r\n            d(t, e)\r\n          }\r\n          var i, o\r\n        }\r\n        function d (t, e) {\r\n          ;(t._state = 2), (t._value = e), f(t)\r\n        }\r\n        function f (t) {\r\n          2 === t._state &&\r\n            0 === t._deferreds.length &&\r\n            c._immediateFn(function () {\r\n              t._handled || c._unhandledRejectionFn(t._value)\r\n            })\r\n          for (var e = 0, n = t._deferreds.length; e < n; e++) u(t, t._deferreds[e])\r\n          t._deferreds = null\r\n        }\r\n        function p (t, e, n) {\r\n          ;(this.onFulfilled = 'function' == typeof t ? t : null),\r\n            (this.onRejected = 'function' == typeof e ? e : null),\r\n            (this.promise = n)\r\n        }\r\n        function g (t, e) {\r\n          var n = !1\r\n          try {\r\n            t(\r\n              function (t) {\r\n                n || ((n = !0), h(e, t))\r\n              },\r\n              function (t) {\r\n                n || ((n = !0), d(e, t))\r\n              }\r\n            )\r\n          } catch (t) {\r\n            if (n) return\r\n            ;(n = !0), d(e, t)\r\n          }\r\n        }\r\n        ;(c.prototype.catch = function (t) {\r\n          return this.then(null, t)\r\n        }),\r\n          (c.prototype.then = function (t, e) {\r\n            var n = new this.constructor(l)\r\n            return u(this, new p(t, e, n)), n\r\n          }),\r\n          (c.prototype.finally = s.default),\r\n          (c.all = function (t) {\r\n            return new c(function (e, n) {\r\n              if (!t || void 0 === t.length) throw new TypeError('Promise.all accepts an array')\r\n              var i = Array.prototype.slice.call(t)\r\n              if (0 === i.length) return e([])\r\n              var o = i.length\r\n              function s (t, a) {\r\n                try {\r\n                  if (a && ('object' === (void 0 === a ? 'undefined' : r(a)) || 'function' == typeof a)) {\r\n                    var l = a.then\r\n                    if ('function' == typeof l)\r\n                      return void l.call(\r\n                        a,\r\n                        function (e) {\r\n                          s(t, e)\r\n                        },\r\n                        n\r\n                      )\r\n                  }\r\n                  ;(i[t] = a), 0 == --o && e(i)\r\n                } catch (t) {\r\n                  n(t)\r\n                }\r\n              }\r\n              for (var a = 0; a < i.length; a++) s(a, i[a])\r\n            })\r\n          }),\r\n          (c.resolve = function (t) {\r\n            return t && 'object' === (void 0 === t ? 'undefined' : r(t)) && t.constructor === c\r\n              ? t\r\n              : new c(function (e) {\r\n                  e(t)\r\n                })\r\n          }),\r\n          (c.reject = function (t) {\r\n            return new c(function (e, n) {\r\n              n(t)\r\n            })\r\n          }),\r\n          (c.race = function (t) {\r\n            return new c(function (e, n) {\r\n              for (var i = 0, r = t.length; i < r; i++) t[i].then(e, n)\r\n            })\r\n          }),\r\n          (c._immediateFn =\r\n            ('function' == typeof t &&\r\n              function (e) {\r\n                t(e)\r\n              }) ||\r\n            function (t) {\r\n              a(t, 0)\r\n            }),\r\n          (c._unhandledRejectionFn = function (t) {\r\n            'undefined' != typeof console && console && console.warn('Possible Unhandled Promise Rejection:', t)\r\n          }),\r\n          (e.default = c)\r\n      }.call(this, n(105).setImmediate))\r\n    },\r\n    function (t, e, n) {\r\n      ;(function (t) {\r\n        var i = (void 0 !== t && t) || ('undefined' != typeof self && self) || window,\r\n          r = Function.prototype.apply\r\n        function o (t, e) {\r\n          ;(this._id = t), (this._clearFn = e)\r\n        }\r\n        ;(e.setTimeout = function () {\r\n          return new o(r.call(setTimeout, i, arguments), clearTimeout)\r\n        }),\r\n          (e.setInterval = function () {\r\n            return new o(r.call(setInterval, i, arguments), clearInterval)\r\n          }),\r\n          (e.clearTimeout = e.clearInterval = function (t) {\r\n            t && t.close()\r\n          }),\r\n          (o.prototype.unref = o.prototype.ref = function () {}),\r\n          (o.prototype.close = function () {\r\n            this._clearFn.call(i, this._id)\r\n          }),\r\n          (e.enroll = function (t, e) {\r\n            clearTimeout(t._idleTimeoutId), (t._idleTimeout = e)\r\n          }),\r\n          (e.unenroll = function (t) {\r\n            clearTimeout(t._idleTimeoutId), (t._idleTimeout = -1)\r\n          }),\r\n          (e._unrefActive = e.active = function (t) {\r\n            clearTimeout(t._idleTimeoutId)\r\n            var e = t._idleTimeout\r\n            e >= 0 &&\r\n              (t._idleTimeoutId = setTimeout(function () {\r\n                t._onTimeout && t._onTimeout()\r\n              }, e))\r\n          }),\r\n          n(106),\r\n          (e.setImmediate =\r\n            ('undefined' != typeof self && self.setImmediate) ||\r\n            (void 0 !== t && t.setImmediate) ||\r\n            (this && this.setImmediate)),\r\n          (e.clearImmediate =\r\n            ('undefined' != typeof self && self.clearImmediate) ||\r\n            (void 0 !== t && t.clearImmediate) ||\r\n            (this && this.clearImmediate))\r\n      }.call(this, n(8)))\r\n    },\r\n    function (t, e, n) {\r\n      ;(function (t, e) {\r\n        !(function (t, n) {\r\n          'use strict'\r\n          if (!t.setImmediate) {\r\n            var i,\r\n              r,\r\n              o,\r\n              s,\r\n              a,\r\n              l = 1,\r\n              c = {},\r\n              u = !1,\r\n              h = t.document,\r\n              d = Object.getPrototypeOf && Object.getPrototypeOf(t)\r\n            ;(d = d && d.setTimeout ? d : t),\r\n              '[object process]' === {}.toString.call(t.process)\r\n                ? (i = function (t) {\r\n                    e.nextTick(function () {\r\n                      p(t)\r\n                    })\r\n                  })\r\n                : !(function () {\r\n                    if (t.postMessage && !t.importScripts) {\r\n                      var e = !0,\r\n                        n = t.onmessage\r\n                      return (\r\n                        (t.onmessage = function () {\r\n                          e = !1\r\n                        }),\r\n                        t.postMessage('', '*'),\r\n                        (t.onmessage = n),\r\n                        e\r\n                      )\r\n                    }\r\n                  })()\r\n                ? t.MessageChannel\r\n                  ? (((o = new MessageChannel()).port1.onmessage = function (t) {\r\n                      p(t.data)\r\n                    }),\r\n                    (i = function (t) {\r\n                      o.port2.postMessage(t)\r\n                    }))\r\n                  : h && 'onreadystatechange' in h.createElement('script')\r\n                  ? ((r = h.documentElement),\r\n                    (i = function (t) {\r\n                      var e = h.createElement('script')\r\n                      ;(e.onreadystatechange = function () {\r\n                        p(t), (e.onreadystatechange = null), r.removeChild(e), (e = null)\r\n                      }),\r\n                        r.appendChild(e)\r\n                    }))\r\n                  : (i = function (t) {\r\n                      setTimeout(p, 0, t)\r\n                    })\r\n                : ((s = 'setImmediate$' + Math.random() + '$'),\r\n                  (a = function (e) {\r\n                    e.source === t && 'string' == typeof e.data && 0 === e.data.indexOf(s) && p(+e.data.slice(s.length))\r\n                  }),\r\n                  t.addEventListener ? t.addEventListener('message', a, !1) : t.attachEvent('onmessage', a),\r\n                  (i = function (e) {\r\n                    t.postMessage(s + e, '*')\r\n                  })),\r\n              (d.setImmediate = function (t) {\r\n                'function' != typeof t && (t = new Function('' + t))\r\n                for (var e = new Array(arguments.length - 1), n = 0; n < e.length; n++) e[n] = arguments[n + 1]\r\n                var r = { callback: t, args: e }\r\n                return (c[l] = r), i(l), l++\r\n              }),\r\n              (d.clearImmediate = f)\r\n          }\r\n          function f (t) {\r\n            delete c[t]\r\n          }\r\n          function p (t) {\r\n            if (u) setTimeout(p, 0, t)\r\n            else {\r\n              var e = c[t]\r\n              if (e) {\r\n                u = !0\r\n                try {\r\n                  !(function (t) {\r\n                    var e = t.callback,\r\n                      i = t.args\r\n                    switch (i.length) {\r\n                      case 0:\r\n                        e()\r\n                        break\r\n                      case 1:\r\n                        e(i[0])\r\n                        break\r\n                      case 2:\r\n                        e(i[0], i[1])\r\n                        break\r\n                      case 3:\r\n                        e(i[0], i[1], i[2])\r\n                        break\r\n                      default:\r\n                        e.apply(n, i)\r\n                    }\r\n                  })(e)\r\n                } finally {\r\n                  f(t), (u = !1)\r\n                }\r\n              }\r\n            }\r\n          }\r\n        })('undefined' == typeof self ? (void 0 === t ? this : t) : self)\r\n      }.call(this, n(8), n(107)))\r\n    },\r\n    function (t, e) {\r\n      var n,\r\n        i,\r\n        r = (t.exports = {})\r\n      function o () {\r\n        throw new Error('setTimeout has not been defined')\r\n      }\r\n      function s () {\r\n        throw new Error('clearTimeout has not been defined')\r\n      }\r\n      function a (t) {\r\n        if (n === setTimeout) return setTimeout(t, 0)\r\n        if ((n === o || !n) && setTimeout) return (n = setTimeout), setTimeout(t, 0)\r\n        try {\r\n          return n(t, 0)\r\n        } catch (e) {\r\n          try {\r\n            return n.call(null, t, 0)\r\n          } catch (e) {\r\n            return n.call(this, t, 0)\r\n          }\r\n        }\r\n      }\r\n      !(function () {\r\n        try {\r\n          n = 'function' == typeof setTimeout ? setTimeout : o\r\n        } catch (t) {\r\n          n = o\r\n        }\r\n        try {\r\n          i = 'function' == typeof clearTimeout ? clearTimeout : s\r\n        } catch (t) {\r\n          i = s\r\n        }\r\n      })()\r\n      var l,\r\n        c = [],\r\n        u = !1,\r\n        h = -1\r\n      function d () {\r\n        u && l && ((u = !1), l.length ? (c = l.concat(c)) : (h = -1), c.length && f())\r\n      }\r\n      function f () {\r\n        if (!u) {\r\n          var t = a(d)\r\n          u = !0\r\n          for (var e = c.length; e; ) {\r\n            for (l = c, c = []; ++h < e; ) l && l[h].run()\r\n            ;(h = -1), (e = c.length)\r\n          }\r\n          ;(l = null),\r\n            (u = !1),\r\n            (function (t) {\r\n              if (i === clearTimeout) return clearTimeout(t)\r\n              if ((i === s || !i) && clearTimeout) return (i = clearTimeout), clearTimeout(t)\r\n              try {\r\n                i(t)\r\n              } catch (e) {\r\n                try {\r\n                  return i.call(null, t)\r\n                } catch (e) {\r\n                  return i.call(this, t)\r\n                }\r\n              }\r\n            })(t)\r\n        }\r\n      }\r\n      function p (t, e) {\r\n        ;(this.fun = t), (this.array = e)\r\n      }\r\n      function g () {}\r\n      ;(r.nextTick = function (t) {\r\n        var e = new Array(arguments.length - 1)\r\n        if (arguments.length > 1) for (var n = 1; n < arguments.length; n++) e[n - 1] = arguments[n]\r\n        c.push(new p(t, e)), 1 !== c.length || u || a(f)\r\n      }),\r\n        (p.prototype.run = function () {\r\n          this.fun.apply(null, this.array)\r\n        }),\r\n        (r.title = 'browser'),\r\n        (r.browser = !0),\r\n        (r.env = {}),\r\n        (r.argv = []),\r\n        (r.version = ''),\r\n        (r.versions = {}),\r\n        (r.on = g),\r\n        (r.addListener = g),\r\n        (r.once = g),\r\n        (r.off = g),\r\n        (r.removeListener = g),\r\n        (r.removeAllListeners = g),\r\n        (r.emit = g),\r\n        (r.prependListener = g),\r\n        (r.prependOnceListener = g),\r\n        (r.listeners = function (t) {\r\n          return []\r\n        }),\r\n        (r.binding = function (t) {\r\n          throw new Error('process.binding is not supported')\r\n        }),\r\n        (r.cwd = function () {\r\n          return '/'\r\n        }),\r\n        (r.chdir = function (t) {\r\n          throw new Error('process.chdir is not supported')\r\n        }),\r\n        (r.umask = function () {\r\n          return 0\r\n        })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      Object.defineProperty(e, '__esModule', { value: !0 }),\r\n        (e.default = function (t) {\r\n          var e = this.constructor\r\n          return this.then(\r\n            function (n) {\r\n              return e.resolve(t()).then(function () {\r\n                return n\r\n              })\r\n            },\r\n            function (n) {\r\n              return e.resolve(t()).then(function () {\r\n                return e.reject(n)\r\n              })\r\n            }\r\n          )\r\n        })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = function () {\r\n        var t,\r\n          e,\r\n          i = {},\r\n          r = n(110),\r\n          o = n(111),\r\n          s = n(113)\r\n        return {\r\n          name: 'DeviceManager',\r\n          init: function (n) {\r\n            for (var a in ((i = n || {}), r)) a in i || (i[a] = r[a])\r\n            return (t = new o(i.devices)), (e = new s({ collection: t, config: i })), this\r\n          },\r\n          add: function (e, n, i) {\r\n            var r = i || {}\r\n            return (r.name = e), (r.width = n), t.add(r)\r\n          },\r\n          get: function (e) {\r\n            return t.get(e)\r\n          },\r\n          getAll: function () {\r\n            return t\r\n          },\r\n          render: function () {\r\n            return e.render().el\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = { devices: [], deviceLabel: 'Device' }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      var s = n(112)\r\n      t.exports = o.default.Collection.extend({\r\n        model: s,\r\n        comparator: function (t, e) {\r\n          var n = Number.MAX_VALUE\r\n          return (e.get('priority') || n) - (t.get('priority') || n)\r\n        },\r\n        getSorted: function () {\r\n          return this.sort()\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      t.exports = o.default.Model.extend({\r\n        idAttribute: 'name',\r\n        defaults: { name: '', width: '', height: '', widthMedia: null, priority: null },\r\n        initialize: function () {\r\n          null == this.get('widthMedia') && this.set('widthMedia', this.get('width')),\r\n            this.get('priority') || this.set('priority', parseFloat(this.get('widthMedia')) || 0)\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = o(n(1)),\r\n        r = o(n(0))\r\n      function o (t) {\r\n        return t && t.__esModule ? t : { default: t }\r\n      }\r\n      t.exports = r.default.View.extend({\r\n        template: i.default.template(\r\n          '\\n    <div class=\"<%= ppfx %>device-label\"><%= deviceLabel %></div>\\n    <div class=\"<%= ppfx %>field <%= ppfx %>select\">\\n      <span id=\"<%= ppfx %>input-holder\">\\n        <select class=\"<%= ppfx %>devices\"></select>\\n      </span>\\n      <div class=\"<%= ppfx %>sel-arrow\">\\n        <div class=\"<%= ppfx %>d-s-arrow\"></div>\\n      </div>\\n    </div>\\n    <button style=\"display:none\" class=\"<%= ppfx %>add-trasp\">+</button>'\r\n        ),\r\n        events: { change: 'updateDevice' },\r\n        initialize: function (t) {\r\n          ;(this.config = t.config || {}),\r\n            (this.em = this.config.em),\r\n            (this.ppfx = this.config.pStylePrefix || ''),\r\n            (this.events['click .' + this.ppfx + 'add-trasp'] = this.startAdd),\r\n            this.listenTo(this.em, 'change:device', this.updateSelect),\r\n            this.delegateEvents()\r\n        },\r\n        startAdd: function () {},\r\n        updateDevice: function () {\r\n          var t = this.em\r\n          if (t) {\r\n            var e = this.devicesEl,\r\n              n = e ? e.val() : ''\r\n            t.set('device', n)\r\n          }\r\n        },\r\n        updateSelect: function () {\r\n          var t = this.em,\r\n            e = this.devicesEl\r\n          if (t && t.getDeviceModel && e) {\r\n            var n = t.getDeviceModel(),\r\n              i = n ? n.get('name') : ''\r\n            e.val(i)\r\n          }\r\n        },\r\n        getOptions: function () {\r\n          var t = ''\r\n          return (\r\n            this.collection.each(function (e) {\r\n              var n = e.get('name')\r\n              t += '<option value=\"' + n + '\">' + n + '</option>'\r\n            }),\r\n            t\r\n          )\r\n        },\r\n        render: function () {\r\n          var t = this.ppfx\r\n          return (\r\n            this.$el.html(this.template({ ppfx: t, deviceLabel: this.config.deviceLabel })),\r\n            (this.devicesEl = this.$el.find('.' + t + 'devices')),\r\n            this.devicesEl.append(this.getOptions()),\r\n            (this.el.className = t + 'devices-c'),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n        Object.assign ||\r\n        function (t) {\r\n          for (var e = 1; e < arguments.length; e++) {\r\n            var n = arguments[e]\r\n            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n          }\r\n          return t\r\n        }\r\n      t.exports = function () {\r\n        var t = {},\r\n          e = n(115),\r\n          r = n(116),\r\n          o = n(48),\r\n          s = void 0,\r\n          a = void 0\r\n        return {\r\n          compTypes: '',\r\n          parserCss: null,\r\n          parserHtml: null,\r\n          name: 'Parser',\r\n          getConfig: function () {\r\n            return t\r\n          },\r\n          init: function () {\r\n            var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n            return ((t = i({}, e, n)).Parser = this), (s = new o(t)), (a = new r(t)), (this.em = t.em), this\r\n          },\r\n          parseHtml: function (t) {\r\n            var e = this.em,\r\n              n = this.compTypes\r\n            return (s.compTypes = e ? e.get('DomComponents').getTypes() : n), s.parse(t, a)\r\n          },\r\n          parseCss: function (t) {\r\n            return a.parse(t)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = { textTags: ['br', 'b', 'i', 'u', 'a', 'ul', 'ol'], parserCss: null, parserHtml: null }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(1),\r\n        o = n(117),\r\n        s = (i = o) && i.__esModule ? i : { default: i }\r\n      t.exports = function () {\r\n        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n        return {\r\n          parse: function (e) {\r\n            var n = this,\r\n              i = [],\r\n              r = t.parserCss,\r\n              o = t.em,\r\n              a = void 0 === o ? {} : o,\r\n              l = a && a.get && a.get('Editor')\r\n            return (\r\n              (r ? r(e, l) : (0, s.default)(e)).forEach(function (t) {\r\n                return (i = i.concat(n.checkNode(t)))\r\n              }),\r\n              i\r\n            )\r\n          },\r\n          checkNode: function (t) {\r\n            var e = t,\r\n              n = e.selectors,\r\n              i = e.style\r\n            if ((0, r.isString)(n)) {\r\n              var s = [],\r\n                a = (0, o.parseSelector)(n),\r\n                l = a.result,\r\n                c = a.add.join(', '),\r\n                u = { atRule: t.atRule, mediaText: t.params }\r\n              if (\r\n                (l.length\r\n                  ? l.forEach(function (t) {\r\n                      s.push((0, o.createNode)(t, i, u))\r\n                    })\r\n                  : s.push((0, o.createNode)([], i, u)),\r\n                c)\r\n              )\r\n                s[s.length - 1].selectorsAdd = c\r\n              t = s\r\n            }\r\n            return t\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      Object.defineProperty(e, '__esModule', { value: !0 }),\r\n        (e.parseNode = e.createNode = e.parseCondition = e.parseStyle = e.parseSelector = void 0)\r\n      var i = n(1),\r\n        r = {\r\n          4: 'media',\r\n          5: 'font-face',\r\n          6: 'page',\r\n          7: 'keyframes',\r\n          11: 'counter-style',\r\n          12: 'supports',\r\n          13: 'document',\r\n          14: 'font-feature-values',\r\n          15: 'viewport'\r\n        },\r\n        o = (0, i.keys)(r),\r\n        s = ['5', '6', '11', '15'],\r\n        a = ['font-face', 'page', 'counter-style', 'viewport'],\r\n        l = (e.parseSelector = function () {\r\n          for (\r\n            var t = [],\r\n              e = [],\r\n              n = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : '').split(','),\r\n              i = 0,\r\n              r = n.length;\r\n            i < r;\r\n            i++\r\n          ) {\r\n            var o = n[i].trim()\r\n            if (/^(\\.{1}[\\w\\-]+)+(:{1,2}[\\w\\-()]+)?$/gi.test(o) || /^(#{1}[\\w\\-]+){1}(:{1,2}[\\w\\-()]+)?$/gi.test(o)) {\r\n              var s = o.split('.').filter(Boolean)\r\n              e.push(s)\r\n            } else t.push(o)\r\n          }\r\n          return { result: e, add: t }\r\n        }),\r\n        c = (e.parseStyle = function (t) {\r\n          for (var e = t.style, n = {}, i = 0, r = e.length; i < r; i++) {\r\n            var o = e[i],\r\n              s = e.getPropertyValue(o),\r\n              a = e.getPropertyPriority(o)\r\n            n[o] = s + (a ? ' !' + a : '')\r\n          }\r\n          return n\r\n        }),\r\n        u = (e.parseCondition = function (t) {\r\n          return (t.conditionText || (t.media && t.media.mediaText) || t.name || t.selectorText || '').trim()\r\n        }),\r\n        h = (e.createNode = function (t, e) {\r\n          var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\r\n            i = {},\r\n            r = t.length,\r\n            o = t[r - 1],\r\n            s = o ? o.split(/:(.+)/) : [],\r\n            l = s[1],\r\n            c = n.atRule,\r\n            u = n.selectorsAdd,\r\n            h = n.mediaText\r\n          return (\r\n            a.indexOf(c) >= 0 && (i.singleAtRule = 1),\r\n            c && (i.atRuleType = c),\r\n            u && (i.selectorsAdd = u),\r\n            h && (i.mediaText = h),\r\n            l && ((t[r - 1] = s[0]), (i.state = l), s.splice(s.length - 1, 1)),\r\n            (i.selectors = t),\r\n            (i.style = e),\r\n            i\r\n          )\r\n        }),\r\n        d = (e.parseNode = function t (e) {\r\n          for (var n = [], i = e.cssRules || [], a = 0, d = i.length; a < d; a++) {\r\n            var f = i[a],\r\n              p = f.type.toString(),\r\n              g = 0,\r\n              v = '',\r\n              m = '',\r\n              y = f.selectorText || f.keyText,\r\n              b = s.indexOf(p) >= 0\r\n            if (b) (g = 1), (v = r[p]), (m = u(f))\r\n            else if (o.indexOf(p) >= 0) {\r\n              var x = t(f)\r\n              m = u(f)\r\n              for (var w = 0, C = x.length; w < C; w++) {\r\n                var k = x[w]\r\n                m && (k.mediaText = m), (k.atRuleType = r[p])\r\n              }\r\n              n = n.concat(x)\r\n            }\r\n            if (y || b) {\r\n              for (var S = c(f), T = l(y), E = T.add, M = void 0, A = 0, O = (y = T.result).length; A < O; A++) {\r\n                var P = h(y[A], S, { atRule: r[p] })\r\n                n.push(P), (M = P)\r\n              }\r\n              if (E.length) {\r\n                var L = E.join(', ')\r\n                if (M) M.selectorsAdd = L\r\n                else {\r\n                  var _ = { selectors: [], selectorsAdd: L, style: S }\r\n                  g && (_.singleAtRule = g), v && (_.atRuleType = v), m && (_.mediaText = m), n.push(_)\r\n                }\r\n              }\r\n            }\r\n          }\r\n          return n\r\n        })\r\n      e.default = function (t) {\r\n        var e = document.createElement('style')\r\n        ;(e.innerHTML = t), document.head.appendChild(e)\r\n        var n = e.sheet\r\n        return document.head.removeChild(e), d(n)\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        stylePrefix: 'sm-',\r\n        sectors: [],\r\n        appendTo: '',\r\n        textNoElement: 'Select an element before using Style Manager',\r\n        hideNotStylable: !0,\r\n        highlightChanged: !0,\r\n        highlightComputed: !0,\r\n        showComputed: !0,\r\n        clearProperties: 0,\r\n        avoidComputed: ['width', 'height']\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(120)\r\n      t.exports = n(0).Collection.extend({ model: i })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1),\r\n        r = n(0),\r\n        o = n(14),\r\n        s = n(130)\r\n      t.exports = r.Model.extend({\r\n        defaults: { id: '', name: '', open: !0, buildProps: '', extendBuilded: 1, properties: [] },\r\n        initialize: function (t) {\r\n          var e = t || {},\r\n            n = [],\r\n            i = this.buildProperties(e.buildProps)\r\n          !this.get('id') && this.set('id', this.get('name')),\r\n            (n = i ? this.extendProperties(i) : this.get('properties'))\r\n          var r = new o(n)\r\n          ;(r.sector = this), this.set('properties', r)\r\n        },\r\n        extendProperties: function (t, e, n) {\r\n          for (\r\n            var r = t.length,\r\n              o = e || this.get('properties'),\r\n              s = this.get('extendBuilded'),\r\n              a = [],\r\n              l = 0,\r\n              c = o.length;\r\n            l < c;\r\n            l++\r\n          ) {\r\n            for (var u = o[l], h = 0, d = 0; d < r; d++) {\r\n              var f = t[d]\r\n              if (u.property != f.property && u.id != f.property);\r\n              else {\r\n                var p = u.properties\r\n                p && p.length && (u.properties = this.extendProperties(f.properties || [], p, 1)),\r\n                  (t[d] = s ? (0, i.extend)(f, u) : u),\r\n                  (a[d] = t[d]),\r\n                  (h = 1)\r\n              }\r\n            }\r\n            h || (t.push(u), a.push(u))\r\n          }\r\n          return n ? a : t\r\n        },\r\n        buildProperties: function (t) {\r\n          var e = t || []\r\n          if (e.length) return this.propFactory || (this.propFactory = new s()), this.propFactory.build(e)\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(51),\r\n        o = n(122)\r\n      t.exports = r.extend({\r\n        defaults: i({}, r.prototype.defaults, { layers: [], layerSeparator: ', ', preview: 0 }),\r\n        initialize: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n          r.callParentInit(r, this, t, e)\r\n          var n = this.get('layers'),\r\n            i = new o(n)\r\n          ;(i.property = this), (i.properties = this.get('properties')), this.set('layers', i), r.callInit(this, t, e)\r\n        },\r\n        getLayers: function () {\r\n          return this.get('layers')\r\n        },\r\n        getCurrentLayer: function () {\r\n          return this.getLayers().filter(function (t) {\r\n            return t.get('active')\r\n          })[0]\r\n        },\r\n        getFullValue: function () {\r\n          return this.get('detached') ? '' : this.get('layers').getFullValue()\r\n        },\r\n        getLayersFromTarget: function (t) {}\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        o = n(0),\r\n        s = (i = o) && i.__esModule ? i : { default: i }\r\n      var a = n(123)\r\n      t.exports = s.default.Collection.extend({\r\n        model: a,\r\n        initialize: function () {\r\n          ;(this.idx = 1), this.on('add', this.onAdd), this.on('reset', this.onReset)\r\n        },\r\n        onAdd: function (t, e, n) {\r\n          n.noIncrement || t.set('index', this.idx++)\r\n        },\r\n        onReset: function () {\r\n          this.idx = 1\r\n        },\r\n        getSeparator: function () {\r\n          var t = this.property\r\n          return t ? t.get('layerSeparator') : ', '\r\n        },\r\n        getLayersFromValue: function (t) {\r\n          var e = this,\r\n            n = []\r\n          return (\r\n            t.replace(/\\(([\\w\\s,.]*)\\)/g, function (e) {\r\n              var n = e.replace(/,\\s*/g, ',')\r\n              t = t.replace(e, n)\r\n            }),\r\n            (t ? t.split(this.getSeparator()) : []).forEach(function (t) {\r\n              n.push({ properties: e.properties.parseValue(t) })\r\n            }),\r\n            n\r\n          )\r\n        },\r\n        getLayersFromStyle: function (t) {\r\n          var e = [],\r\n            n = this.properties\r\n          n.pluck('property')\r\n          return (\r\n            n.each(function (n) {\r\n              var i = t[n.get('property')]\r\n              ;(i ? i.split(', ') : []).forEach(function (t, i) {\r\n                t = n.parseValue(t.trim()).value\r\n                var o = e[i],\r\n                  s = r({}, n.attributes, { value: t })\r\n                o ? o.properties.push(s) : (e[i] = { properties: [s] })\r\n              })\r\n            }),\r\n            e.forEach(function (t) {\r\n              var e = t.properties.map(function (t) {\r\n                return t.property\r\n              })\r\n              n.each(function (n) {\r\n                var i = n.get('property')\r\n                e.indexOf(i) < 0 && t.properties.push(r({}, n.attributes))\r\n              })\r\n            }),\r\n            e\r\n          )\r\n        },\r\n        active: function (t) {\r\n          this.each(function (t) {\r\n            return t.set('active', 0)\r\n          })\r\n          var e = this.at(t)\r\n          e && e.set('active', 1)\r\n        },\r\n        getFullValue: function () {\r\n          var t = []\r\n          return (\r\n            this.each(function (e) {\r\n              return t.push(e.getFullValue())\r\n            }),\r\n            t.join(this.getSeparator())\r\n          )\r\n        },\r\n        getPropertyValues: function (t) {\r\n          var e = []\r\n          return (\r\n            this.each(function (n) {\r\n              var i = n.getPropertyValue(t)\r\n              i && e.push(i)\r\n            }),\r\n            e.join(', ')\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      t.exports = o.default.Model.extend({\r\n        defaults: { index: '', value: '', values: {}, active: !1, preview: !1, properties: [] },\r\n        initialize: function () {\r\n          var t = this,\r\n            e = n(14),\r\n            i = this.get('properties'),\r\n            r = this.get('value')\r\n          if (\r\n            (this.set('properties', i instanceof e ? i : new e(i)),\r\n            this.get('properties').forEach(function (e) {\r\n              var n = t.collection\r\n              e.parent = n && n.property\r\n            }),\r\n            !r)\r\n          ) {\r\n            var o = '',\r\n              s = this.get('values')\r\n            for (var a in s) o += ' ' + s[a]\r\n            this.set('value', o.trim())\r\n          }\r\n        },\r\n        getPropertyAt: function (t) {\r\n          return this.get('properties').at(t)\r\n        },\r\n        getPropertyValue: function (t) {\r\n          var e = ''\r\n          return (\r\n            this.get('properties').each(function (n) {\r\n              n.get('property') == t && (e = n.getFullValue())\r\n            }),\r\n            e\r\n          )\r\n        },\r\n        getFullValue: function () {\r\n          var t = []\r\n          return (\r\n            this.get('properties').each(function (e) {\r\n              return t.push(e.getFullValue())\r\n            }),\r\n            t.join(' ')\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      Object.defineProperty(e, '__esModule', { value: !0 })\r\n      var i =\r\n        'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator\r\n          ? function (t) {\r\n              return typeof t\r\n            }\r\n          : function (t) {\r\n              return t && 'function' == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype\r\n                ? 'symbol'\r\n                : typeof t\r\n            }\r\n      e.default = function (t, e) {\r\n        var n = {\r\n            beforeShow: h,\r\n            move: h,\r\n            change: h,\r\n            show: h,\r\n            hide: h,\r\n            color: !1,\r\n            flat: !1,\r\n            showInput: !1,\r\n            allowEmpty: !1,\r\n            showButtons: !0,\r\n            clickoutFiresChange: !0,\r\n            showInitial: !1,\r\n            showPalette: !1,\r\n            showPaletteOnly: !1,\r\n            hideAfterPaletteSelect: !1,\r\n            togglePaletteOnly: !1,\r\n            showSelectionPalette: !0,\r\n            localStorageKey: !1,\r\n            appendTo: 'body',\r\n            maxSelectionSize: 7,\r\n            cancelText: 'cancel',\r\n            chooseText: 'choose',\r\n            togglePaletteMoreText: 'more',\r\n            togglePaletteLessText: 'less',\r\n            clearText: 'Clear Color Selection',\r\n            noColorSelectedText: 'No Color Selected',\r\n            preferredFormat: !1,\r\n            className: '',\r\n            containerClassName: '',\r\n            replacerClassName: '',\r\n            showAlpha: !1,\r\n            theme: 'sp-light',\r\n            palette: [\r\n              ['#ffffff', '#000000', '#ff0000', '#ff8000', '#ffff00', '#008000', '#0000ff', '#4b0082', '#9400d3']\r\n            ],\r\n            selectionPalette: [],\r\n            disabled: !1,\r\n            offset: null\r\n          },\r\n          r = [],\r\n          o = !!/msie/i.exec(window.navigator.userAgent),\r\n          s = (function () {\r\n            function t (t, e) {\r\n              return !!~('' + t).indexOf(e)\r\n            }\r\n            var e = document.createElement('div').style\r\n            return (\r\n              (e.cssText = 'background-color:rgba(0,0,0,.5)'),\r\n              t(e.backgroundColor, 'rgba') || t(e.backgroundColor, 'hsla')\r\n            )\r\n          })(),\r\n          a = [\r\n            \"<div class='sp-replacer'>\",\r\n            \"<div class='sp-preview'><div class='sp-preview-inner'></div></div>\",\r\n            \"<div class='sp-dd'>&#9660;</div>\",\r\n            '</div>'\r\n          ].join(''),\r\n          l = (function () {\r\n            var t = ''\r\n            if (o) for (var e = 1; e <= 6; e++) t += \"<div class='sp-\" + e + \"'></div>\"\r\n            return [\r\n              \"<div class='sp-container sp-hidden'>\",\r\n              \"<div class='sp-palette-container'>\",\r\n              \"<div class='sp-palette sp-thumb sp-cf'></div>\",\r\n              \"<div class='sp-palette-button-container sp-cf'>\",\r\n              \"<button type='button' class='sp-palette-toggle'></button>\",\r\n              '</div>',\r\n              '</div>',\r\n              \"<div class='sp-picker-container'>\",\r\n              \"<div class='sp-top sp-cf'>\",\r\n              \"<div class='sp-fill'></div>\",\r\n              \"<div class='sp-top-inner'>\",\r\n              \"<div class='sp-color'>\",\r\n              \"<div class='sp-sat'>\",\r\n              \"<div class='sp-val'>\",\r\n              \"<div class='sp-dragger'></div>\",\r\n              '</div>',\r\n              '</div>',\r\n              '</div>',\r\n              \"<div class='sp-clear sp-clear-display'>\",\r\n              '</div>',\r\n              \"<div class='sp-hue'>\",\r\n              \"<div class='sp-slider'></div>\",\r\n              t,\r\n              '</div>',\r\n              '</div>',\r\n              \"<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>\",\r\n              '</div>',\r\n              \"<div class='sp-input-container sp-cf'>\",\r\n              \"<input class='sp-input' type='text' spellcheck='false'  />\",\r\n              '</div>',\r\n              \"<div class='sp-initial sp-thumb sp-cf'></div>\",\r\n              \"<div class='sp-button-container sp-cf'>\",\r\n              \"<a class='sp-cancel' href='#'></a>\",\r\n              \"<button type='button' class='sp-choose'></button>\",\r\n              '</div>',\r\n              '</div>',\r\n              '</div>'\r\n            ].join('')\r\n          })()\r\n        function c (e, n, i, r) {\r\n          for (var o = [], a = 0; a < e.length; a++) {\r\n            var l = e[a]\r\n            if (l) {\r\n              var c = S(l),\r\n                u = c.toHsl().l < 0.5 ? 'sp-thumb-el sp-thumb-dark' : 'sp-thumb-el sp-thumb-light'\r\n              u += S.equals(n, l) ? ' sp-thumb-active' : ''\r\n              var h = c.toString(r.preferredFormat || 'rgb'),\r\n                d = s ? 'background-color:' + c.toRgbString() : 'filter:' + c.toFilter()\r\n              o.push(\r\n                '<span title=\"' +\r\n                  h +\r\n                  '\" data-color=\"' +\r\n                  c.toRgbString() +\r\n                  '\" class=\"' +\r\n                  u +\r\n                  '\"><span class=\"sp-thumb-inner\" style=\"' +\r\n                  d +\r\n                  ';\"></span></span>'\r\n              )\r\n            } else {\r\n              o.push(\r\n                t('<div />')\r\n                  .append(\r\n                    t(\r\n                      '<span data-color=\"\" style=\"background-color:transparent;\" class=\"sp-clear-display\"></span>'\r\n                    ).attr('title', r.noColorSelectedText)\r\n                  )\r\n                  .html()\r\n              )\r\n            }\r\n          }\r\n          return \"<div class='sp-cf \" + i + \"'>\" + o.join('') + '</div>'\r\n        }\r\n        function u (i, u) {\r\n          var h,\r\n            v,\r\n            m,\r\n            y,\r\n            b = (function (e, i) {\r\n              var r = t.extend({}, n, e)\r\n              return (\r\n                (r.callbacks = {\r\n                  move: f(r.move, i),\r\n                  change: f(r.change, i),\r\n                  show: f(r.show, i),\r\n                  hide: f(r.hide, i),\r\n                  beforeShow: f(r.beforeShow, i)\r\n                }),\r\n                r\r\n              )\r\n            })(u, i),\r\n            x = b.flat,\r\n            w = b.showSelectionPalette,\r\n            C = b.localStorageKey,\r\n            k = b.theme,\r\n            T = b.callbacks,\r\n            E = ((h = Wt),\r\n            (v = 10),\r\n            function () {\r\n              var t = this,\r\n                e = arguments\r\n              m && clearTimeout(y),\r\n                (!m && y) ||\r\n                  (y = setTimeout(function () {\r\n                    ;(y = null), h.apply(t, e)\r\n                  }, v))\r\n            }),\r\n            M = !1,\r\n            A = !1,\r\n            O = 0,\r\n            P = 0,\r\n            L = 0,\r\n            _ = 0,\r\n            N = 0,\r\n            D = 0,\r\n            I = 0,\r\n            F = 0,\r\n            j = 0,\r\n            R = 0,\r\n            z = 1,\r\n            V = [],\r\n            H = [],\r\n            $ = {},\r\n            B = b.selectionPalette.slice(0),\r\n            W = b.maxSelectionSize,\r\n            U = 'sp-dragging',\r\n            q = null,\r\n            K = i.ownerDocument,\r\n            Y = (K.body, t(i)),\r\n            G = !1,\r\n            X = t(l, K).addClass(k),\r\n            J = X.find('.sp-picker-container'),\r\n            Z = X.find('.sp-color'),\r\n            Q = X.find('.sp-dragger'),\r\n            tt = X.find('.sp-hue'),\r\n            et = X.find('.sp-slider'),\r\n            nt = X.find('.sp-alpha-inner'),\r\n            it = X.find('.sp-alpha'),\r\n            rt = X.find('.sp-alpha-handle'),\r\n            ot = X.find('.sp-input'),\r\n            st = X.find('.sp-palette'),\r\n            at = X.find('.sp-initial'),\r\n            lt = X.find('.sp-cancel'),\r\n            ct = X.find('.sp-clear'),\r\n            ut = X.find('.sp-choose'),\r\n            ht = X.find('.sp-palette-toggle'),\r\n            dt = Y.is('input'),\r\n            ft = dt && 'color' === Y.attr('type') && g(),\r\n            pt = dt && !x,\r\n            gt = pt\r\n              ? t(a)\r\n                  .addClass(k)\r\n                  .addClass(b.className)\r\n                  .addClass(b.replacerClassName)\r\n              : t([]),\r\n            vt = pt ? gt : Y,\r\n            mt = gt.find('.sp-preview-inner'),\r\n            yt = b.color || (dt && Y.val()),\r\n            bt = !1,\r\n            xt = b.preferredFormat,\r\n            wt = !b.showButtons || b.clickoutFiresChange,\r\n            Ct = !yt,\r\n            kt = b.allowEmpty && !ft\r\n          function St () {\r\n            if (\r\n              (b.showPaletteOnly && (b.showPalette = !0),\r\n              ht.text(b.showPaletteOnly ? b.togglePaletteMoreText : b.togglePaletteLessText),\r\n              b.palette)\r\n            ) {\r\n              ;(V = b.palette.slice(0)), (H = t.isArray(V[0]) ? V : [V]), ($ = {})\r\n              for (var e = 0; e < H.length; e++)\r\n                for (var n = 0; n < H[e].length; n++) {\r\n                  var i = S(H[e][n]).toRgbString()\r\n                  $[i] = !0\r\n                }\r\n            }\r\n            X.toggleClass('sp-flat', x),\r\n              X.toggleClass('sp-input-disabled', !b.showInput),\r\n              X.toggleClass('sp-alpha-enabled', b.showAlpha),\r\n              X.toggleClass('sp-clear-enabled', kt),\r\n              X.toggleClass('sp-buttons-disabled', !b.showButtons),\r\n              X.toggleClass('sp-palette-buttons-disabled', !b.togglePaletteOnly),\r\n              X.toggleClass('sp-palette-disabled', !b.showPalette),\r\n              X.toggleClass('sp-palette-only', b.showPaletteOnly),\r\n              X.toggleClass('sp-initial-disabled', !b.showInitial),\r\n              X.addClass(b.className).addClass(b.containerClassName),\r\n              Wt()\r\n          }\r\n          function Tt () {\r\n            if (C && window.localStorage) {\r\n              try {\r\n                var e = window.localStorage[C].split(',#')\r\n                e.length > 1 &&\r\n                  (delete window.localStorage[C],\r\n                  t.each(e, function (t, e) {\r\n                    Et(e)\r\n                  }))\r\n              } catch (t) {}\r\n              try {\r\n                B = window.localStorage[C].split(';')\r\n              } catch (t) {}\r\n            }\r\n          }\r\n          function Et (e) {\r\n            if (w) {\r\n              var n = S(e).toRgbString()\r\n              if (!$[n] && -1 === t.inArray(n, B)) for (B.push(n); B.length > W; ) B.shift()\r\n              if (C && window.localStorage)\r\n                try {\r\n                  window.localStorage[C] = B.join(';')\r\n                } catch (t) {}\r\n            }\r\n          }\r\n          function Mt () {\r\n            var e = zt(),\r\n              n = t.map(H, function (t, n) {\r\n                return c(t, e, 'sp-palette-row sp-palette-row-' + n, b)\r\n              })\r\n            Tt(),\r\n              B &&\r\n                n.push(\r\n                  c(\r\n                    (function () {\r\n                      var t = []\r\n                      if (b.showPalette)\r\n                        for (var e = 0; e < B.length; e++) {\r\n                          var n = S(B[e]).toRgbString()\r\n                          $[n] || t.push(B[e])\r\n                        }\r\n                      return t.reverse().slice(0, b.maxSelectionSize)\r\n                    })(),\r\n                    e,\r\n                    'sp-palette-row sp-palette-row-selection',\r\n                    b\r\n                  )\r\n                ),\r\n              st.html(n.join(''))\r\n          }\r\n          function At () {\r\n            if (b.showInitial) {\r\n              var t = bt,\r\n                e = zt()\r\n              at.html(c([t, e], e, 'sp-palette-row-initial', b))\r\n            }\r\n          }\r\n          function Ot () {\r\n            ;(P <= 0 || O <= 0 || _ <= 0) && Wt(),\r\n              (A = !0),\r\n              X.addClass(U),\r\n              (q = null),\r\n              Y.trigger('dragstart.spectrum', [zt()])\r\n          }\r\n          function Pt () {\r\n            ;(A = !1), X.removeClass(U), Y.trigger('dragstop.spectrum', [zt()])\r\n          }\r\n          function Lt () {\r\n            var t = ot.val()\r\n            if ((null !== t && '' !== t) || !kt) {\r\n              var e = S(t)\r\n              e.isValid() ? (Rt(e), Bt(!0)) : ot.addClass('sp-validation-error')\r\n            } else Rt(null), Bt(!0)\r\n          }\r\n          function _t () {\r\n            M ? Ft() : Nt()\r\n          }\r\n          function Nt () {\r\n            var e = t.Event('beforeShow.spectrum')\r\n            if (M) Wt()\r\n            else if ((Y.trigger(e, [zt()]), !1 !== T.beforeShow(zt()) && !e.isDefaultPrevented())) {\r\n              !(function () {\r\n                for (var t = 0; t < r.length; t++) r[t] && r[t].hide()\r\n              })(),\r\n                (M = !0)\r\n              var n = t(K)\r\n              n.bind('keydown.spectrum', Dt),\r\n                n.bind('click.spectrum', It),\r\n                t(window).bind('resize.spectrum', E),\r\n                gt.addClass('sp-active'),\r\n                X.removeClass('sp-hidden'),\r\n                Wt(),\r\n                Ht(),\r\n                (bt = zt()),\r\n                At(),\r\n                T.show(bt),\r\n                Y.trigger('show.spectrum', [bt])\r\n            }\r\n          }\r\n          function Dt (t) {\r\n            27 === t.keyCode && Ft()\r\n          }\r\n          function It (t) {\r\n            2 != t.button && (A || (wt ? Bt(!0) : jt(), Ft()))\r\n          }\r\n          function Ft () {\r\n            M &&\r\n              !x &&\r\n              ((M = !1),\r\n              t(K).unbind('keydown.spectrum', Dt),\r\n              t(K).unbind('click.spectrum', It),\r\n              t(window).unbind('resize.spectrum', E),\r\n              gt.removeClass('sp-active'),\r\n              X.addClass('sp-hidden'),\r\n              T.hide(zt()),\r\n              Y.trigger('hide.spectrum', [zt()]))\r\n          }\r\n          function jt () {\r\n            Rt(bt, !0)\r\n          }\r\n          function Rt (t, e) {\r\n            var n, i\r\n            S.equals(t, zt())\r\n              ? Ht()\r\n              : (!t && kt\r\n                  ? (Ct = !0)\r\n                  : ((Ct = !1), (i = (n = S(t)).toHsv()), (F = (i.h % 360) / 360), (j = i.s), (R = i.v), (z = i.a)),\r\n                Ht(),\r\n                n && n.isValid() && !e && (xt = b.preferredFormat || n.getFormat()))\r\n          }\r\n          function zt (t) {\r\n            return (\r\n              (t = t || {}),\r\n              kt && Ct\r\n                ? null\r\n                : S.fromRatio({ h: F, s: j, v: R, a: Math.round(100 * z) / 100 }, { format: t.format || xt })\r\n            )\r\n          }\r\n          function Vt () {\r\n            Ht(), T.move(zt()), Y.trigger('move.spectrum', [zt()])\r\n          }\r\n          function Ht () {\r\n            ot.removeClass('sp-validation-error'), $t()\r\n            var t = S.fromRatio({ h: F, s: 1, v: 1 })\r\n            Z.css('background-color', t.toHexString())\r\n            var e = xt\r\n            z < 1 &&\r\n              (0 !== z || 'name' !== e) &&\r\n              (('hex' !== e && 'hex3' !== e && 'hex6' !== e && 'name' !== e) || (e = 'rgb'))\r\n            var n = zt({ format: e }),\r\n              i = ''\r\n            if ((mt.removeClass('sp-clear-display'), mt.css('background-color', 'transparent'), !n && kt))\r\n              mt.addClass('sp-clear-display')\r\n            else {\r\n              var r = n.toHexString(),\r\n                a = n.toRgbString()\r\n              if (\r\n                (s || 1 === n.alpha\r\n                  ? mt.css('background-color', a)\r\n                  : (mt.css('background-color', 'transparent'), mt.css('filter', n.toFilter())),\r\n                b.showAlpha)\r\n              ) {\r\n                var l = n.toRgb()\r\n                l.a = 0\r\n                var c = S(l).toRgbString(),\r\n                  u = 'linear-gradient(left, ' + c + ', ' + r + ')'\r\n                o\r\n                  ? nt.css('filter', S(c).toFilter({ gradientType: 1 }, r))\r\n                  : (nt.css('background', '-webkit-' + u),\r\n                    nt.css('background', '-moz-' + u),\r\n                    nt.css('background', '-ms-' + u),\r\n                    nt.css('background', 'linear-gradient(to right, ' + c + ', ' + r + ')'))\r\n              }\r\n              i = n.toString(e)\r\n            }\r\n            b.showInput && ot.val(i), b.showPalette && Mt(), At()\r\n          }\r\n          function $t () {\r\n            var t = j,\r\n              e = R\r\n            if (kt && Ct) rt.hide(), et.hide(), Q.hide()\r\n            else {\r\n              rt.show(), et.show(), Q.show()\r\n              var n = t * O,\r\n                i = P - e * P\r\n              ;(n = Math.max(-L, Math.min(O - L, n - L))),\r\n                (i = Math.max(-L, Math.min(P - L, i - L))),\r\n                Q.css({ top: i + 'px', left: n + 'px' })\r\n              var r = z * N\r\n              rt.css({ left: r - D / 2 + 'px' })\r\n              var o = F * _\r\n              et.css({ top: o - I + 'px' })\r\n            }\r\n          }\r\n          function Bt (t) {\r\n            var e = zt(),\r\n              n = '',\r\n              i = !S.equals(e, bt)\r\n            e && ((n = e.toString(xt)), Et(e)), dt && Y.val(n), t && i && (T.change(e), Y.trigger('change', [e]))\r\n          }\r\n          function Wt () {\r\n            var e, n, i, r, o, s, a, l, c, u, h, d, f, p\r\n            M &&\r\n              ((O = Z.width()),\r\n              (P = Z.height()),\r\n              (L = Q.height()),\r\n              tt.width(),\r\n              (_ = tt.height()),\r\n              (I = et.height()),\r\n              (N = it.width()),\r\n              (D = rt.width()),\r\n              x ||\r\n                (X.css('position', 'absolute'),\r\n                b.offset\r\n                  ? X.offset(b.offset)\r\n                  : X.offset(\r\n                      ((n = vt),\r\n                      (i = (e = X).outerWidth()),\r\n                      (r = e.outerHeight()),\r\n                      (o = n.outerHeight()),\r\n                      (s = e[0].ownerDocument),\r\n                      (a = s.documentElement),\r\n                      (l = a.clientWidth),\r\n                      (c = a.clientHeight),\r\n                      (u = t(s).scrollLeft()),\r\n                      (h = t(s).scrollTop()),\r\n                      (d = l + u),\r\n                      (f = c + h),\r\n                      ((p = n.offset()).top += o),\r\n                      (p.left -= Math.min(p.left, p.left + i > d && d > i ? Math.abs(p.left + i - d) : 0)),\r\n                      (p.top -= Math.min(p.top, p.top + r > f && f > r ? Math.abs(r + o - 0) : 0)),\r\n                      p)\r\n                    )),\r\n              $t(),\r\n              b.showPalette && Mt(),\r\n              Y.trigger('reflow.spectrum'))\r\n          }\r\n          function Ut () {\r\n            Ft(), (G = !0), Y.attr('disabled', !0), vt.addClass('sp-disabled')\r\n          }\r\n          !(function () {\r\n            if (\r\n              (o && X.find('*:not(input)').attr('unselectable', 'on'),\r\n              St(),\r\n              pt && Y.after(gt).hide(),\r\n              kt || ct.hide(),\r\n              x)\r\n            )\r\n              Y.after(X).hide()\r\n            else {\r\n              var e = 'parent' === b.appendTo ? Y.parent() : t(b.appendTo)\r\n              1 !== e.length && (e = t('body')), e.append(X)\r\n            }\r\n            function n (e) {\r\n              return (\r\n                e.data && e.data.ignore\r\n                  ? (Rt(\r\n                      t(e.target)\r\n                        .closest('.sp-thumb-el')\r\n                        .data('color')\r\n                    ),\r\n                    Vt())\r\n                  : (Rt(\r\n                      t(e.target)\r\n                        .closest('.sp-thumb-el')\r\n                        .data('color')\r\n                    ),\r\n                    Vt(),\r\n                    Bt(!0),\r\n                    b.hideAfterPaletteSelect && Ft()),\r\n                !1\r\n              )\r\n            }\r\n            Tt(),\r\n              vt.bind('click.spectrum touchstart.spectrum', function (e) {\r\n                G || _t(), e.stopPropagation(), t(e.target).is('input') || e.preventDefault()\r\n              }),\r\n              (Y.is(':disabled') || !0 === b.disabled) && Ut(),\r\n              X.click(d),\r\n              ot.change(Lt),\r\n              ot.bind('paste', function () {\r\n                setTimeout(Lt, 1)\r\n              }),\r\n              ot.keydown(function (t) {\r\n                13 == t.keyCode && Lt()\r\n              }),\r\n              lt.text(b.cancelText),\r\n              lt.bind('click.spectrum', function (t) {\r\n                t.stopPropagation(), t.preventDefault(), jt(), Ft()\r\n              }),\r\n              ct.attr('title', b.clearText),\r\n              ct.bind('click.spectrum', function (t) {\r\n                t.stopPropagation(), t.preventDefault(), (Ct = !0), Vt(), x && Bt(!0)\r\n              }),\r\n              ut.text(b.chooseText),\r\n              ut.bind('click.spectrum', function (t) {\r\n                t.stopPropagation(),\r\n                  t.preventDefault(),\r\n                  o && ot.is(':focus') && ot.trigger('change'),\r\n                  ot.hasClass('sp-validation-error') || (Bt(!0), Ft())\r\n              }),\r\n              ht.text(b.showPaletteOnly ? b.togglePaletteMoreText : b.togglePaletteLessText),\r\n              ht.bind('click.spectrum', function (t) {\r\n                t.stopPropagation(),\r\n                  t.preventDefault(),\r\n                  (b.showPaletteOnly = !b.showPaletteOnly),\r\n                  b.showPaletteOnly || x || X.css('left', '-=' + (J.outerWidth(!0) + 5)),\r\n                  St()\r\n              }),\r\n              p(\r\n                it,\r\n                function (t, e, n) {\r\n                  ;(z = t / N), (Ct = !1), n.shiftKey && (z = Math.round(10 * z) / 10), Vt()\r\n                },\r\n                Ot,\r\n                Pt\r\n              ),\r\n              p(\r\n                tt,\r\n                function (t, e) {\r\n                  ;(F = parseFloat(e / _)), (Ct = !1), b.showAlpha || (z = 1), Vt()\r\n                },\r\n                Ot,\r\n                Pt\r\n              ),\r\n              p(\r\n                Z,\r\n                function (t, e, n) {\r\n                  if (n.shiftKey) {\r\n                    if (!q) {\r\n                      var i = j * O,\r\n                        r = P - R * P,\r\n                        o = Math.abs(t - i) > Math.abs(e - r)\r\n                      q = o ? 'x' : 'y'\r\n                    }\r\n                  } else q = null\r\n                  var s = !q || 'y' === q\r\n                  ;(!q || 'x' === q) && (j = parseFloat(t / O)),\r\n                    s && (R = parseFloat((P - e) / P)),\r\n                    (Ct = !1),\r\n                    b.showAlpha || (z = 1),\r\n                    Vt()\r\n                },\r\n                Ot,\r\n                Pt\r\n              ),\r\n              yt ? (Rt(yt), Ht(), (xt = b.preferredFormat || S(yt).format), Et(yt)) : Ht(),\r\n              x && Nt()\r\n            var i = o ? 'mousedown.spectrum' : 'click.spectrum touchstart.spectrum'\r\n            st.delegate('.sp-thumb-el', i, n), at.delegate('.sp-thumb-el:nth-child(1)', i, { ignore: !0 }, n)\r\n          })()\r\n          var qt = {\r\n            show: Nt,\r\n            hide: Ft,\r\n            toggle: _t,\r\n            reflow: Wt,\r\n            option: function (n, i) {\r\n              return n === e\r\n                ? t.extend({}, b)\r\n                : i === e\r\n                ? b[n]\r\n                : ((b[n] = i), 'preferredFormat' === n && (xt = b.preferredFormat), void St())\r\n            },\r\n            enable: function () {\r\n              ;(G = !1), Y.attr('disabled', !1), vt.removeClass('sp-disabled')\r\n            },\r\n            disable: Ut,\r\n            offset: function (t) {\r\n              ;(b.offset = t), Wt()\r\n            },\r\n            set: function (t) {\r\n              Rt(t), Bt()\r\n            },\r\n            get: zt,\r\n            destroy: function () {\r\n              Y.show(), vt.unbind('click.spectrum touchstart.spectrum'), X.remove(), gt.remove(), (r[qt.id] = null)\r\n            },\r\n            container: X\r\n          }\r\n          return (qt.id = r.push(qt) - 1), qt\r\n        }\r\n        function h () {}\r\n        function d (t) {\r\n          t.stopPropagation()\r\n        }\r\n        function f (t, e) {\r\n          var n = Array.prototype.slice,\r\n            i = n.call(arguments, 2)\r\n          return function () {\r\n            return t.apply(e, i.concat(n.call(arguments)))\r\n          }\r\n        }\r\n        function p (e, n, i, r) {\r\n          ;(n = n || function () {}), (i = i || function () {}), (r = r || function () {})\r\n          var s = document,\r\n            a = !1,\r\n            l = {},\r\n            c = 0,\r\n            u = 0,\r\n            h = 'ontouchstart' in window,\r\n            d = {}\r\n          function f (t) {\r\n            t.stopPropagation && t.stopPropagation(), t.preventDefault && t.preventDefault(), (t.returnValue = !1)\r\n          }\r\n          function p (t) {\r\n            if (a) {\r\n              if (o && s.documentMode < 9 && !t.button) return g()\r\n              var i = t && t.touches && t.touches[0],\r\n                r = (i && i.pageX) || t.pageX,\r\n                d = (i && i.pageY) || t.pageY,\r\n                p = Math.max(0, Math.min(r - l.left, u)),\r\n                v = Math.max(0, Math.min(d - l.top, c))\r\n              h && f(t), n.apply(e, [p, v, t])\r\n            }\r\n          }\r\n          function g () {\r\n            a &&\r\n              (t(s).unbind(d),\r\n              t(s.body).removeClass('sp-dragging'),\r\n              setTimeout(function () {\r\n                r.apply(e, arguments)\r\n              }, 0)),\r\n              (a = !1)\r\n          }\r\n          ;(d.selectstart = f),\r\n            (d.dragstart = f),\r\n            (d['touchmove mousemove'] = p),\r\n            (d['touchend mouseup'] = g),\r\n            t(e).bind('touchstart mousedown', function (n) {\r\n              ;(n.which ? 3 == n.which : 2 == n.button) ||\r\n                a ||\r\n                (!1 !== i.apply(e, arguments) &&\r\n                  ((a = !0),\r\n                  (c = t(e).height()),\r\n                  (u = t(e).width()),\r\n                  (l = t(e).offset()),\r\n                  t(s).bind(d),\r\n                  t(s.body).addClass('sp-dragging'),\r\n                  p(n),\r\n                  f(n)))\r\n            })\r\n        }\r\n        function g () {\r\n          return t.fn.spectrum.inputTypeColorSupport()\r\n        }\r\n        ;(t.fn.spectrum = function (e, n) {\r\n          if ('string' == typeof e) {\r\n            var i = this,\r\n              o = Array.prototype.slice.call(arguments, 1)\r\n            return (\r\n              this.each(function () {\r\n                var n = r[t(this).data('spectrum.id')]\r\n                if (n) {\r\n                  var s = n[e]\r\n                  if (!s) throw new Error(\"Spectrum: no such method: '\" + e + \"'\")\r\n                  'get' == e\r\n                    ? (i = n.get())\r\n                    : 'container' == e\r\n                    ? (i = n.container)\r\n                    : 'option' == e\r\n                    ? (i = n.option.apply(n, o))\r\n                    : 'destroy' == e\r\n                    ? (n.destroy(), t(this).removeData('spectrum.id'))\r\n                    : s.apply(n, o)\r\n                }\r\n              }),\r\n              i\r\n            )\r\n          }\r\n          return this.spectrum('destroy').each(function () {\r\n            var n = u(this, t.extend({}, e, t(this).data()))\r\n            t(this).data('spectrum.id', n.id)\r\n          })\r\n        }),\r\n          (t.fn.spectrum.load = !0),\r\n          (t.fn.spectrum.loadOpts = {}),\r\n          (t.fn.spectrum.draggable = p),\r\n          (t.fn.spectrum.defaults = n),\r\n          (t.fn.spectrum.inputTypeColorSupport = function e () {\r\n            if (void 0 === e._cachedResult) {\r\n              var n = t(\"<input type='color'/>\")[0]\r\n              e._cachedResult = 'color' === n.type && '' !== n.value\r\n            }\r\n            return e._cachedResult\r\n          }),\r\n          (t.spectrum = {}),\r\n          (t.spectrum.localization = {}),\r\n          (t.spectrum.palettes = {}),\r\n          (t.fn.spectrum.processNativeColorInputs = function () {\r\n            var e = t('input[type=color]')\r\n            e.length && !g() && e.spectrum({ preferredFormat: 'hex6' })\r\n          })\r\n        var v = /^[\\s,#]+/,\r\n          m = /\\s+$/,\r\n          y = 0,\r\n          b = Math,\r\n          x = b.round,\r\n          w = b.min,\r\n          C = b.max,\r\n          k = b.random,\r\n          S = function t (e, n) {\r\n            if (((n = n || {}), (e = e || '') instanceof t)) return e\r\n            if (!(this instanceof t)) return new t(e, n)\r\n            var r = (function (t) {\r\n              var e = { r: 0, g: 0, b: 0 },\r\n                n = 1,\r\n                r = !1,\r\n                o = !1\r\n              'string' == typeof t &&\r\n                (t = (function (t) {\r\n                  t = t\r\n                    .replace(v, '')\r\n                    .replace(m, '')\r\n                    .toLowerCase()\r\n                  var e,\r\n                    n = !1\r\n                  if ($[t]) (t = $[t]), (n = !0)\r\n                  else if ('transparent' == t) return { r: 0, g: 0, b: 0, a: 0, format: 'name' }\r\n                  if ((e = Q.rgb.exec(t))) return { r: e[1], g: e[2], b: e[3] }\r\n                  if ((e = Q.rgba.exec(t))) return { r: e[1], g: e[2], b: e[3], a: e[4] }\r\n                  if ((e = Q.hsl.exec(t))) return { h: e[1], s: e[2], l: e[3] }\r\n                  if ((e = Q.hsla.exec(t))) return { h: e[1], s: e[2], l: e[3], a: e[4] }\r\n                  if ((e = Q.hsv.exec(t))) return { h: e[1], s: e[2], v: e[3] }\r\n                  if ((e = Q.hsva.exec(t))) return { h: e[1], s: e[2], v: e[3], a: e[4] }\r\n                  if ((e = Q.hex8.exec(t)))\r\n                    return {\r\n                      a: ((i = e[1]), K(i) / 255),\r\n                      r: K(e[2]),\r\n                      g: K(e[3]),\r\n                      b: K(e[4]),\r\n                      format: n ? 'name' : 'hex8'\r\n                    }\r\n                  var i\r\n                  if ((e = Q.hex6.exec(t))) return { r: K(e[1]), g: K(e[2]), b: K(e[3]), format: n ? 'name' : 'hex' }\r\n                  if ((e = Q.hex3.exec(t)))\r\n                    return {\r\n                      r: K(e[1] + '' + e[1]),\r\n                      g: K(e[2] + '' + e[2]),\r\n                      b: K(e[3] + '' + e[3]),\r\n                      format: n ? 'name' : 'hex'\r\n                    }\r\n                  return !1\r\n                })(t))\r\n              'object' == (void 0 === t ? 'undefined' : i(t)) &&\r\n                (t.hasOwnProperty('r') && t.hasOwnProperty('g') && t.hasOwnProperty('b')\r\n                  ? ((s = t.r),\r\n                    (a = t.g),\r\n                    (l = t.b),\r\n                    (e = { r: 255 * U(s, 255), g: 255 * U(a, 255), b: 255 * U(l, 255) }),\r\n                    (r = !0),\r\n                    (o = '%' === String(t.r).substr(-1) ? 'prgb' : 'rgb'))\r\n                  : t.hasOwnProperty('h') && t.hasOwnProperty('s') && t.hasOwnProperty('v')\r\n                  ? ((t.s = G(t.s)),\r\n                    (t.v = G(t.v)),\r\n                    (e = (function (t, e, n) {\r\n                      ;(t = 6 * U(t, 360)), (e = U(e, 100)), (n = U(n, 100))\r\n                      var i = b.floor(t),\r\n                        r = t - i,\r\n                        o = n * (1 - e),\r\n                        s = n * (1 - r * e),\r\n                        a = n * (1 - (1 - r) * e),\r\n                        l = i % 6\r\n                      return {\r\n                        r: 255 * [n, s, o, o, a, n][l],\r\n                        g: 255 * [a, n, n, s, o, o][l],\r\n                        b: 255 * [o, o, a, n, n, s][l]\r\n                      }\r\n                    })(t.h, t.s, t.v)),\r\n                    (r = !0),\r\n                    (o = 'hsv'))\r\n                  : t.hasOwnProperty('h') &&\r\n                    t.hasOwnProperty('s') &&\r\n                    t.hasOwnProperty('l') &&\r\n                    ((t.s = G(t.s)),\r\n                    (t.l = G(t.l)),\r\n                    (e = (function (t, e, n) {\r\n                      var i, r, o\r\n                      function s (t, e, n) {\r\n                        return (\r\n                          n < 0 && (n += 1),\r\n                          n > 1 && (n -= 1),\r\n                          n < 1 / 6 ? t + 6 * (e - t) * n : n < 0.5 ? e : n < 2 / 3 ? t + (e - t) * (2 / 3 - n) * 6 : t\r\n                        )\r\n                      }\r\n                      if (((t = U(t, 360)), (e = U(e, 100)), (n = U(n, 100)), 0 === e)) i = r = o = n\r\n                      else {\r\n                        var a = n < 0.5 ? n * (1 + e) : n + e - n * e,\r\n                          l = 2 * n - a\r\n                        ;(i = s(l, a, t + 1 / 3)), (r = s(l, a, t)), (o = s(l, a, t - 1 / 3))\r\n                      }\r\n                      return { r: 255 * i, g: 255 * r, b: 255 * o }\r\n                    })(t.h, t.s, t.l)),\r\n                    (r = !0),\r\n                    (o = 'hsl')),\r\n                t.hasOwnProperty('a') && (n = t.a))\r\n              var s, a, l\r\n              return (\r\n                (n = W(n)),\r\n                { ok: r, format: t.format || o, r: w(255, C(e.r, 0)), g: w(255, C(e.g, 0)), b: w(255, C(e.b, 0)), a: n }\r\n              )\r\n            })(e)\r\n            ;(this._originalInput = e),\r\n              (this._r = r.r),\r\n              (this._g = r.g),\r\n              (this._b = r.b),\r\n              (this._a = r.a),\r\n              (this._roundA = x(100 * this._a) / 100),\r\n              (this._format = n.format || r.format),\r\n              (this._gradientType = n.gradientType),\r\n              this._r < 1 && (this._r = x(this._r)),\r\n              this._g < 1 && (this._g = x(this._g)),\r\n              this._b < 1 && (this._b = x(this._b)),\r\n              (this._ok = r.ok),\r\n              (this._tc_id = y++)\r\n          }\r\n        function T (t, e, n) {\r\n          ;(t = U(t, 255)), (e = U(e, 255)), (n = U(n, 255))\r\n          var i,\r\n            r,\r\n            o = C(t, e, n),\r\n            s = w(t, e, n),\r\n            a = (o + s) / 2\r\n          if (o == s) i = r = 0\r\n          else {\r\n            var l = o - s\r\n            switch (((r = a > 0.5 ? l / (2 - o - s) : l / (o + s)), o)) {\r\n              case t:\r\n                i = (e - n) / l + (e < n ? 6 : 0)\r\n                break\r\n              case e:\r\n                i = (n - t) / l + 2\r\n                break\r\n              case n:\r\n                i = (t - e) / l + 4\r\n            }\r\n            i /= 6\r\n          }\r\n          return { h: i, s: r, l: a }\r\n        }\r\n        function E (t, e, n) {\r\n          ;(t = U(t, 255)), (e = U(e, 255)), (n = U(n, 255))\r\n          var i,\r\n            r,\r\n            o = C(t, e, n),\r\n            s = w(t, e, n),\r\n            a = o,\r\n            l = o - s\r\n          if (((r = 0 === o ? 0 : l / o), o == s)) i = 0\r\n          else {\r\n            switch (o) {\r\n              case t:\r\n                i = (e - n) / l + (e < n ? 6 : 0)\r\n                break\r\n              case e:\r\n                i = (n - t) / l + 2\r\n                break\r\n              case n:\r\n                i = (t - e) / l + 4\r\n            }\r\n            i /= 6\r\n          }\r\n          return { h: i, s: r, v: a }\r\n        }\r\n        function M (t, e, n, i) {\r\n          var r = [Y(x(t).toString(16)), Y(x(e).toString(16)), Y(x(n).toString(16))]\r\n          return i &&\r\n            r[0].charAt(0) == r[0].charAt(1) &&\r\n            r[1].charAt(0) == r[1].charAt(1) &&\r\n            r[2].charAt(0) == r[2].charAt(1)\r\n            ? r[0].charAt(0) + r[1].charAt(0) + r[2].charAt(0)\r\n            : r.join('')\r\n        }\r\n        function A (t, e, n, i) {\r\n          var r\r\n          return [\r\n            Y(((r = i), Math.round(255 * parseFloat(r)).toString(16))),\r\n            Y(x(t).toString(16)),\r\n            Y(x(e).toString(16)),\r\n            Y(x(n).toString(16))\r\n          ].join('')\r\n        }\r\n        function O (t, e) {\r\n          e = 0 === e ? 0 : e || 10\r\n          var n = S(t).toHsl()\r\n          return (n.s -= e / 100), (n.s = q(n.s)), S(n)\r\n        }\r\n        function P (t, e) {\r\n          e = 0 === e ? 0 : e || 10\r\n          var n = S(t).toHsl()\r\n          return (n.s += e / 100), (n.s = q(n.s)), S(n)\r\n        }\r\n        function L (t) {\r\n          return S(t).desaturate(100)\r\n        }\r\n        function _ (t, e) {\r\n          e = 0 === e ? 0 : e || 10\r\n          var n = S(t).toHsl()\r\n          return (n.l += e / 100), (n.l = q(n.l)), S(n)\r\n        }\r\n        function N (t, e) {\r\n          e = 0 === e ? 0 : e || 10\r\n          var n = S(t).toRgb()\r\n          return (\r\n            (n.r = C(0, w(255, n.r - x((-e / 100) * 255)))),\r\n            (n.g = C(0, w(255, n.g - x((-e / 100) * 255)))),\r\n            (n.b = C(0, w(255, n.b - x((-e / 100) * 255)))),\r\n            S(n)\r\n          )\r\n        }\r\n        function D (t, e) {\r\n          e = 0 === e ? 0 : e || 10\r\n          var n = S(t).toHsl()\r\n          return (n.l -= e / 100), (n.l = q(n.l)), S(n)\r\n        }\r\n        function I (t, e) {\r\n          var n = S(t).toHsl(),\r\n            i = (x(n.h) + e) % 360\r\n          return (n.h = i < 0 ? 360 + i : i), S(n)\r\n        }\r\n        function F (t) {\r\n          var e = S(t).toHsl()\r\n          return (e.h = (e.h + 180) % 360), S(e)\r\n        }\r\n        function j (t) {\r\n          var e = S(t).toHsl(),\r\n            n = e.h\r\n          return [S(t), S({ h: (n + 120) % 360, s: e.s, l: e.l }), S({ h: (n + 240) % 360, s: e.s, l: e.l })]\r\n        }\r\n        function R (t) {\r\n          var e = S(t).toHsl(),\r\n            n = e.h\r\n          return [\r\n            S(t),\r\n            S({ h: (n + 90) % 360, s: e.s, l: e.l }),\r\n            S({ h: (n + 180) % 360, s: e.s, l: e.l }),\r\n            S({ h: (n + 270) % 360, s: e.s, l: e.l })\r\n          ]\r\n        }\r\n        function z (t) {\r\n          var e = S(t).toHsl(),\r\n            n = e.h\r\n          return [S(t), S({ h: (n + 72) % 360, s: e.s, l: e.l }), S({ h: (n + 216) % 360, s: e.s, l: e.l })]\r\n        }\r\n        function V (t, e, n) {\r\n          ;(e = e || 6), (n = n || 30)\r\n          var i = S(t).toHsl(),\r\n            r = 360 / n,\r\n            o = [S(t)]\r\n          for (i.h = (i.h - ((r * e) >> 1) + 720) % 360; --e; ) (i.h = (i.h + r) % 360), o.push(S(i))\r\n          return o\r\n        }\r\n        function H (t, e) {\r\n          e = e || 6\r\n          for (var n = S(t).toHsv(), i = n.h, r = n.s, o = n.v, s = [], a = 1 / e; e--; )\r\n            s.push(S({ h: i, s: r, v: o })), (o = (o + a) % 1)\r\n          return s\r\n        }\r\n        ;(S.prototype = {\r\n          isDark: function () {\r\n            return this.getBrightness() < 128\r\n          },\r\n          isLight: function () {\r\n            return !this.isDark()\r\n          },\r\n          isValid: function () {\r\n            return this._ok\r\n          },\r\n          getOriginalInput: function () {\r\n            return this._originalInput\r\n          },\r\n          getFormat: function () {\r\n            return this._format\r\n          },\r\n          getAlpha: function () {\r\n            return this._a\r\n          },\r\n          getBrightness: function () {\r\n            var t = this.toRgb()\r\n            return (299 * t.r + 587 * t.g + 114 * t.b) / 1e3\r\n          },\r\n          setAlpha: function (t) {\r\n            return (this._a = W(t)), (this._roundA = x(100 * this._a) / 100), this\r\n          },\r\n          toHsv: function () {\r\n            var t = E(this._r, this._g, this._b)\r\n            return { h: 360 * t.h, s: t.s, v: t.v, a: this._a }\r\n          },\r\n          toHsvString: function () {\r\n            var t = E(this._r, this._g, this._b),\r\n              e = x(360 * t.h),\r\n              n = x(100 * t.s),\r\n              i = x(100 * t.v)\r\n            return 1 == this._a\r\n              ? 'hsv(' + e + ', ' + n + '%, ' + i + '%)'\r\n              : 'hsva(' + e + ', ' + n + '%, ' + i + '%, ' + this._roundA + ')'\r\n          },\r\n          toHsl: function () {\r\n            var t = T(this._r, this._g, this._b)\r\n            return { h: 360 * t.h, s: t.s, l: t.l, a: this._a }\r\n          },\r\n          toHslString: function () {\r\n            var t = T(this._r, this._g, this._b),\r\n              e = x(360 * t.h),\r\n              n = x(100 * t.s),\r\n              i = x(100 * t.l)\r\n            return 1 == this._a\r\n              ? 'hsl(' + e + ', ' + n + '%, ' + i + '%)'\r\n              : 'hsla(' + e + ', ' + n + '%, ' + i + '%, ' + this._roundA + ')'\r\n          },\r\n          toHex: function (t) {\r\n            return M(this._r, this._g, this._b, t)\r\n          },\r\n          toHexString: function (t) {\r\n            return '#' + this.toHex(t)\r\n          },\r\n          toHex8: function () {\r\n            return A(this._r, this._g, this._b, this._a)\r\n          },\r\n          toHex8String: function () {\r\n            return '#' + this.toHex8()\r\n          },\r\n          toRgb: function () {\r\n            return { r: x(this._r), g: x(this._g), b: x(this._b), a: this._a }\r\n          },\r\n          toRgbString: function () {\r\n            return 1 == this._a\r\n              ? 'rgb(' + x(this._r) + ', ' + x(this._g) + ', ' + x(this._b) + ')'\r\n              : 'rgba(' + x(this._r) + ', ' + x(this._g) + ', ' + x(this._b) + ', ' + this._roundA + ')'\r\n          },\r\n          toPercentageRgb: function () {\r\n            return {\r\n              r: x(100 * U(this._r, 255)) + '%',\r\n              g: x(100 * U(this._g, 255)) + '%',\r\n              b: x(100 * U(this._b, 255)) + '%',\r\n              a: this._a\r\n            }\r\n          },\r\n          toPercentageRgbString: function () {\r\n            return 1 == this._a\r\n              ? 'rgb(' +\r\n                  x(100 * U(this._r, 255)) +\r\n                  '%, ' +\r\n                  x(100 * U(this._g, 255)) +\r\n                  '%, ' +\r\n                  x(100 * U(this._b, 255)) +\r\n                  '%)'\r\n              : 'rgba(' +\r\n                  x(100 * U(this._r, 255)) +\r\n                  '%, ' +\r\n                  x(100 * U(this._g, 255)) +\r\n                  '%, ' +\r\n                  x(100 * U(this._b, 255)) +\r\n                  '%, ' +\r\n                  this._roundA +\r\n                  ')'\r\n          },\r\n          toName: function () {\r\n            return 0 === this._a ? 'transparent' : !(this._a < 1) && (B[M(this._r, this._g, this._b, !0)] || !1)\r\n          },\r\n          toFilter: function (t) {\r\n            var e = '#' + A(this._r, this._g, this._b, this._a),\r\n              n = e,\r\n              i = this._gradientType ? 'GradientType = 1, ' : ''\r\n            t && (n = S(t).toHex8String())\r\n            return 'progid:DXImageTransform.Microsoft.gradient(' + i + 'startColorstr=' + e + ',endColorstr=' + n + ')'\r\n          },\r\n          toString: function (t) {\r\n            var e = !!t\r\n            t = t || this._format\r\n            var n = !1,\r\n              i = this._a < 1 && this._a >= 0\r\n            return e || !i || ('hex' !== t && 'hex6' !== t && 'hex3' !== t && 'name' !== t)\r\n              ? ('rgb' === t && (n = this.toRgbString()),\r\n                'prgb' === t && (n = this.toPercentageRgbString()),\r\n                ('hex' !== t && 'hex6' !== t) || (n = this.toHexString()),\r\n                'hex3' === t && (n = this.toHexString(!0)),\r\n                'hex8' === t && (n = this.toHex8String()),\r\n                'name' === t && (n = this.toName()),\r\n                'hsl' === t && (n = this.toHslString()),\r\n                'hsv' === t && (n = this.toHsvString()),\r\n                n || this.toHexString())\r\n              : 'name' === t && 0 === this._a\r\n              ? this.toName()\r\n              : this.toRgbString()\r\n          },\r\n          _applyModification: function (t, e) {\r\n            var n = t.apply(null, [this].concat([].slice.call(e)))\r\n            return (this._r = n._r), (this._g = n._g), (this._b = n._b), this.setAlpha(n._a), this\r\n          },\r\n          lighten: function () {\r\n            return this._applyModification(_, arguments)\r\n          },\r\n          brighten: function () {\r\n            return this._applyModification(N, arguments)\r\n          },\r\n          darken: function () {\r\n            return this._applyModification(D, arguments)\r\n          },\r\n          desaturate: function () {\r\n            return this._applyModification(O, arguments)\r\n          },\r\n          saturate: function () {\r\n            return this._applyModification(P, arguments)\r\n          },\r\n          greyscale: function () {\r\n            return this._applyModification(L, arguments)\r\n          },\r\n          spin: function () {\r\n            return this._applyModification(I, arguments)\r\n          },\r\n          _applyCombination: function (t, e) {\r\n            return t.apply(null, [this].concat([].slice.call(e)))\r\n          },\r\n          analogous: function () {\r\n            return this._applyCombination(V, arguments)\r\n          },\r\n          complement: function () {\r\n            return this._applyCombination(F, arguments)\r\n          },\r\n          monochromatic: function () {\r\n            return this._applyCombination(H, arguments)\r\n          },\r\n          splitcomplement: function () {\r\n            return this._applyCombination(z, arguments)\r\n          },\r\n          triad: function () {\r\n            return this._applyCombination(j, arguments)\r\n          },\r\n          tetrad: function () {\r\n            return this._applyCombination(R, arguments)\r\n          }\r\n        }),\r\n          (S.fromRatio = function (t, e) {\r\n            if ('object' == (void 0 === t ? 'undefined' : i(t))) {\r\n              var n = {}\r\n              for (var r in t) t.hasOwnProperty(r) && (n[r] = 'a' === r ? t[r] : G(t[r]))\r\n              t = n\r\n            }\r\n            return S(t, e)\r\n          }),\r\n          (S.equals = function (t, e) {\r\n            return !(!t || !e) && S(t).toRgbString() == S(e).toRgbString()\r\n          }),\r\n          (S.random = function () {\r\n            return S.fromRatio({ r: k(), g: k(), b: k() })\r\n          }),\r\n          (S.mix = function (t, e, n) {\r\n            n = 0 === n ? 0 : n || 50\r\n            var i,\r\n              r = S(t).toRgb(),\r\n              o = S(e).toRgb(),\r\n              s = n / 100,\r\n              a = 2 * s - 1,\r\n              l = o.a - r.a,\r\n              c = 1 - (i = ((i = a * l == -1 ? a : (a + l) / (1 + a * l)) + 1) / 2),\r\n              u = { r: o.r * i + r.r * c, g: o.g * i + r.g * c, b: o.b * i + r.b * c, a: o.a * s + r.a * (1 - s) }\r\n            return S(u)\r\n          }),\r\n          (S.readability = function (t, e) {\r\n            var n = S(t),\r\n              i = S(e),\r\n              r = n.toRgb(),\r\n              o = i.toRgb(),\r\n              s = n.getBrightness(),\r\n              a = i.getBrightness(),\r\n              l =\r\n                Math.max(r.r, o.r) -\r\n                Math.min(r.r, o.r) +\r\n                Math.max(r.g, o.g) -\r\n                Math.min(r.g, o.g) +\r\n                Math.max(r.b, o.b) -\r\n                Math.min(r.b, o.b)\r\n            return { brightness: Math.abs(s - a), color: l }\r\n          }),\r\n          (S.isReadable = function (t, e) {\r\n            var n = S.readability(t, e)\r\n            return n.brightness > 125 && n.color > 500\r\n          }),\r\n          (S.mostReadable = function (t, e) {\r\n            for (var n = null, i = 0, r = !1, o = 0; o < e.length; o++) {\r\n              var s = S.readability(t, e[o]),\r\n                a = s.brightness > 125 && s.color > 500,\r\n                l = (s.brightness / 125) * 3 + s.color / 500\r\n              ;((a && !r) || (a && r && l > i) || (!a && !r && l > i)) && ((r = a), (i = l), (n = S(e[o])))\r\n            }\r\n            return n\r\n          })\r\n        var $ = (S.names = {\r\n            aliceblue: 'f0f8ff',\r\n            antiquewhite: 'faebd7',\r\n            aqua: '0ff',\r\n            aquamarine: '7fffd4',\r\n            azure: 'f0ffff',\r\n            beige: 'f5f5dc',\r\n            bisque: 'ffe4c4',\r\n            black: '000',\r\n            blanchedalmond: 'ffebcd',\r\n            blue: '00f',\r\n            blueviolet: '8a2be2',\r\n            brown: 'a52a2a',\r\n            burlywood: 'deb887',\r\n            burntsienna: 'ea7e5d',\r\n            cadetblue: '5f9ea0',\r\n            chartreuse: '7fff00',\r\n            chocolate: 'd2691e',\r\n            coral: 'ff7f50',\r\n            cornflowerblue: '6495ed',\r\n            cornsilk: 'fff8dc',\r\n            crimson: 'dc143c',\r\n            cyan: '0ff',\r\n            darkblue: '00008b',\r\n            darkcyan: '008b8b',\r\n            darkgoldenrod: 'b8860b',\r\n            darkgray: 'a9a9a9',\r\n            darkgreen: '006400',\r\n            darkgrey: 'a9a9a9',\r\n            darkkhaki: 'bdb76b',\r\n            darkmagenta: '8b008b',\r\n            darkolivegreen: '556b2f',\r\n            darkorange: 'ff8c00',\r\n            darkorchid: '9932cc',\r\n            darkred: '8b0000',\r\n            darksalmon: 'e9967a',\r\n            darkseagreen: '8fbc8f',\r\n            darkslateblue: '483d8b',\r\n            darkslategray: '2f4f4f',\r\n            darkslategrey: '2f4f4f',\r\n            darkturquoise: '00ced1',\r\n            darkviolet: '9400d3',\r\n            deeppink: 'ff1493',\r\n            deepskyblue: '00bfff',\r\n            dimgray: '696969',\r\n            dimgrey: '696969',\r\n            dodgerblue: '1e90ff',\r\n            firebrick: 'b22222',\r\n            floralwhite: 'fffaf0',\r\n            forestgreen: '228b22',\r\n            fuchsia: 'f0f',\r\n            gainsboro: 'dcdcdc',\r\n            ghostwhite: 'f8f8ff',\r\n            gold: 'ffd700',\r\n            goldenrod: 'daa520',\r\n            gray: '808080',\r\n            green: '008000',\r\n            greenyellow: 'adff2f',\r\n            grey: '808080',\r\n            honeydew: 'f0fff0',\r\n            hotpink: 'ff69b4',\r\n            indianred: 'cd5c5c',\r\n            indigo: '4b0082',\r\n            ivory: 'fffff0',\r\n            khaki: 'f0e68c',\r\n            lavender: 'e6e6fa',\r\n            lavenderblush: 'fff0f5',\r\n            lawngreen: '7cfc00',\r\n            lemonchiffon: 'fffacd',\r\n            lightblue: 'add8e6',\r\n            lightcoral: 'f08080',\r\n            lightcyan: 'e0ffff',\r\n            lightgoldenrodyellow: 'fafad2',\r\n            lightgray: 'd3d3d3',\r\n            lightgreen: '90ee90',\r\n            lightgrey: 'd3d3d3',\r\n            lightpink: 'ffb6c1',\r\n            lightsalmon: 'ffa07a',\r\n            lightseagreen: '20b2aa',\r\n            lightskyblue: '87cefa',\r\n            lightslategray: '789',\r\n            lightslategrey: '789',\r\n            lightsteelblue: 'b0c4de',\r\n            lightyellow: 'ffffe0',\r\n            lime: '0f0',\r\n            limegreen: '32cd32',\r\n            linen: 'faf0e6',\r\n            magenta: 'f0f',\r\n            maroon: '800000',\r\n            mediumaquamarine: '66cdaa',\r\n            mediumblue: '0000cd',\r\n            mediumorchid: 'ba55d3',\r\n            mediumpurple: '9370db',\r\n            mediumseagreen: '3cb371',\r\n            mediumslateblue: '7b68ee',\r\n            mediumspringgreen: '00fa9a',\r\n            mediumturquoise: '48d1cc',\r\n            mediumvioletred: 'c71585',\r\n            midnightblue: '191970',\r\n            mintcream: 'f5fffa',\r\n            mistyrose: 'ffe4e1',\r\n            moccasin: 'ffe4b5',\r\n            navajowhite: 'ffdead',\r\n            navy: '000080',\r\n            oldlace: 'fdf5e6',\r\n            olive: '808000',\r\n            olivedrab: '6b8e23',\r\n            orange: 'ffa500',\r\n            orangered: 'ff4500',\r\n            orchid: 'da70d6',\r\n            palegoldenrod: 'eee8aa',\r\n            palegreen: '98fb98',\r\n            paleturquoise: 'afeeee',\r\n            palevioletred: 'db7093',\r\n            papayawhip: 'ffefd5',\r\n            peachpuff: 'ffdab9',\r\n            peru: 'cd853f',\r\n            pink: 'ffc0cb',\r\n            plum: 'dda0dd',\r\n            powderblue: 'b0e0e6',\r\n            purple: '800080',\r\n            rebeccapurple: '663399',\r\n            red: 'f00',\r\n            rosybrown: 'bc8f8f',\r\n            royalblue: '4169e1',\r\n            saddlebrown: '8b4513',\r\n            salmon: 'fa8072',\r\n            sandybrown: 'f4a460',\r\n            seagreen: '2e8b57',\r\n            seashell: 'fff5ee',\r\n            sienna: 'a0522d',\r\n            silver: 'c0c0c0',\r\n            skyblue: '87ceeb',\r\n            slateblue: '6a5acd',\r\n            slategray: '708090',\r\n            slategrey: '708090',\r\n            snow: 'fffafa',\r\n            springgreen: '00ff7f',\r\n            steelblue: '4682b4',\r\n            tan: 'd2b48c',\r\n            teal: '008080',\r\n            thistle: 'd8bfd8',\r\n            tomato: 'ff6347',\r\n            turquoise: '40e0d0',\r\n            violet: 'ee82ee',\r\n            wheat: 'f5deb3',\r\n            white: 'fff',\r\n            whitesmoke: 'f5f5f5',\r\n            yellow: 'ff0',\r\n            yellowgreen: '9acd32'\r\n          }),\r\n          B = (S.hexNames = (function (t) {\r\n            var e = {}\r\n            for (var n in t) t.hasOwnProperty(n) && (e[t[n]] = n)\r\n            return e\r\n          })($))\r\n        function W (t) {\r\n          return (t = parseFloat(t)), (isNaN(t) || t < 0 || t > 1) && (t = 1), t\r\n        }\r\n        function U (t, e) {\r\n          ;(function (t) {\r\n            return 'string' == typeof t && -1 != t.indexOf('.') && 1 === parseFloat(t)\r\n          })(t) && (t = '100%')\r\n          var n = (function (t) {\r\n            return 'string' == typeof t && -1 != t.indexOf('%')\r\n          })(t)\r\n          return (\r\n            (t = w(e, C(0, parseFloat(t)))),\r\n            n && (t = parseInt(t * e, 10) / 100),\r\n            b.abs(t - e) < 1e-6 ? 1 : (t % e) / parseFloat(e)\r\n          )\r\n        }\r\n        function q (t) {\r\n          return w(1, C(0, t))\r\n        }\r\n        function K (t) {\r\n          return parseInt(t, 16)\r\n        }\r\n        function Y (t) {\r\n          return 1 == t.length ? '0' + t : '' + t\r\n        }\r\n        function G (t) {\r\n          return t <= 1 && (t = 100 * t + '%'), t\r\n        }\r\n        var X,\r\n          J,\r\n          Z,\r\n          Q = ((J =\r\n            '[\\\\s|\\\\(]+(' +\r\n            (X = '(?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?)') +\r\n            ')[,|\\\\s]+(' +\r\n            X +\r\n            ')[,|\\\\s]+(' +\r\n            X +\r\n            ')\\\\s*\\\\)?'),\r\n          (Z = '[\\\\s|\\\\(]+(' + X + ')[,|\\\\s]+(' + X + ')[,|\\\\s]+(' + X + ')[,|\\\\s]+(' + X + ')\\\\s*\\\\)?'),\r\n          {\r\n            rgb: new RegExp('rgb' + J),\r\n            rgba: new RegExp('rgba' + Z),\r\n            hsl: new RegExp('hsl' + J),\r\n            hsla: new RegExp('hsla' + Z),\r\n            hsv: new RegExp('hsv' + J),\r\n            hsva: new RegExp('hsva' + Z),\r\n            hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\r\n            hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\r\n            hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\r\n          })\r\n        ;(window.tinycolor = S),\r\n          t(function () {\r\n            t.fn.spectrum.load && t.fn.spectrum.processNativeColorInputs()\r\n          })\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(0),\r\n        r = n(126)\r\n      t.exports = i.View.extend({\r\n        initialize: function (t) {\r\n          ;(this.config = t.config || {}),\r\n            (this.stackModel = t.stackModel),\r\n            (this.preview = t.preview),\r\n            (this.pfx = this.config.stylePrefix || ''),\r\n            (this.ppfx = this.config.pStylePrefix || ''),\r\n            (this.propsConfig = t.propsConfig)\r\n          var e = this.pfx,\r\n            n = this.ppfx,\r\n            i = this.collection\r\n          ;(this.className = e + 'layers ' + n + 'field'),\r\n            this.listenTo(i, 'add', this.addTo),\r\n            this.listenTo(i, 'deselectAll', this.deselectAll),\r\n            this.listenTo(i, 'reset', this.render)\r\n          var r = this.config.em || '',\r\n            o = r ? r.get('Utils') : ''\r\n          ;(this.sorter = o\r\n            ? new o.Sorter({\r\n                container: this.el,\r\n                ignoreViewChildren: 1,\r\n                containerSel: '.' + e + 'layers',\r\n                itemSel: '.' + e + 'layer',\r\n                pfx: this.config.pStylePrefix\r\n              })\r\n            : ''),\r\n            (i.view = this),\r\n            this.$el.data('model', i),\r\n            this.$el.data('collection', i)\r\n        },\r\n        addTo: function (t) {\r\n          var e = this.collection.indexOf(t)\r\n          this.addToCollection(t, null, e)\r\n        },\r\n        addToCollection: function (t, e, n) {\r\n          var i = e || null,\r\n            o = this.stackModel,\r\n            s = this.config,\r\n            a = this.sorter,\r\n            l = this.propsConfig\r\n          void 0 !== this.preview && t.set('preview', this.preview)\r\n          var c = new r({ model: t, config: s, sorter: a, stackModel: o, propsConfig: l }).render().el\r\n          if (i) i.appendChild(c)\r\n          else if (void 0 !== n) {\r\n            var u = 'before'\r\n            this.$el.children().length == n && (n--, (u = 'after')),\r\n              n < 0\r\n                ? this.$el.append(c)\r\n                : this.$el\r\n                    .children()\r\n                    .eq(n)\r\n                    [u](c)\r\n          } else this.$el.append(c)\r\n          return c\r\n        },\r\n        deselectAll: function () {\r\n          this.$el.find('.' + this.pfx + 'layer').removeClass(this.pfx + 'active')\r\n        },\r\n        render: function () {\r\n          var t = document.createDocumentFragment()\r\n          return (\r\n            this.$el.empty(),\r\n            this.collection.each(function (e) {\r\n              this.addToCollection(e, t)\r\n            }, this),\r\n            this.$el.append(t),\r\n            this.$el.attr('class', this.className),\r\n            this.sorter && (this.sorter.plh = null),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      t.exports = o.default.View.extend({\r\n        events: {\r\n          click: 'active',\r\n          'click [data-close-layer]': 'remove',\r\n          'mousedown [data-move-layer]': 'initSorter',\r\n          'touchstart [data-move-layer]': 'initSorter'\r\n        },\r\n        template: function (t) {\r\n          var e = this.pfx\r\n          return (\r\n            '\\n      <div id=\"' +\r\n            e +\r\n            'move\" class=\"' +\r\n            this.ppfx +\r\n            'no-touch-actions\" data-move-layer>\\n        <i class=\"fa fa-arrows\"></i>\\n      </div>\\n      <div id=\"' +\r\n            e +\r\n            'label\">' +\r\n            ('Layer ' + t.get('index')) +\r\n            '</div>\\n      <div id=\"' +\r\n            e +\r\n            'preview-box\">\\n      \\t<div id=\"' +\r\n            e +\r\n            'preview\" data-preview></div>\\n      </div>\\n      <div id=\"' +\r\n            e +\r\n            'close-layer\" class=\"' +\r\n            e +\r\n            'btn-close\" data-close-layer>\\n        &Cross;\\n      </div>\\n      <div id=\"' +\r\n            e +\r\n            'inputs\" data-properties></div>\\n      <div style=\"clear:both\"></div>\\n    '\r\n          )\r\n        },\r\n        initialize: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            e = this.model\r\n          ;(this.stackModel = t.stackModel || {}),\r\n            (this.config = t.config || {}),\r\n            (this.pfx = this.config.stylePrefix || ''),\r\n            (this.ppfx = this.config.pStylePrefix || ''),\r\n            (this.sorter = t.sorter || null),\r\n            (this.propsConfig = t.propsConfig || {}),\r\n            (this.customPreview = t.onPreview),\r\n            this.listenTo(e, 'destroy remove', this.remove),\r\n            this.listenTo(e, 'change:active', this.updateVisibility),\r\n            this.listenTo(e.get('properties'), 'change', this.updatePreview),\r\n            (e.view = this),\r\n            e.set({ droppable: 0, draggable: 1 }),\r\n            this.$el.data('model', e)\r\n        },\r\n        initSorter: function (t) {\r\n          this.sorter && this.sorter.startSort(this.el)\r\n        },\r\n        remove: function (t) {\r\n          t && t.stopPropagation && t.stopPropagation()\r\n          var e = this.model,\r\n            n = e.collection,\r\n            i = this.stackModel\r\n          o.default.View.prototype.remove.apply(this, arguments),\r\n            n.contains(e) && n.remove(e),\r\n            i && i.set && (i.set({ stackIndex: null }, { silent: !0 }), i.trigger('updateValue'))\r\n        },\r\n        onPreview: function (t) {\r\n          var e = t.split(' '),\r\n            n = []\r\n          return (\r\n            this.model.get('properties').each(function (t, i) {\r\n              var r = e[i] || ''\r\n              if (r && 'integer' == t.get('type')) {\r\n                var o = parseInt(r, 10),\r\n                  s = r.replace(o, '')\r\n                r = (o = (o = (o = isNaN(o) ? 0 : o) > 3 ? 3 : o) < -3 ? -3 : o) + s\r\n              }\r\n              n.push(r)\r\n            }),\r\n            n.join(' ')\r\n          )\r\n        },\r\n        updatePreview: function () {\r\n          var t = this.stackModel,\r\n            e = this.customPreview,\r\n            n = this.getPreviewEl(),\r\n            i = this.model.getFullValue(),\r\n            r = e ? e(i) : this.onPreview(i)\r\n          r && t && n && (n.style[t.get('property')] = r)\r\n        },\r\n        getPropertiesWrapper: function () {\r\n          return this.propsWrapEl || (this.propsWrapEl = this.el.querySelector('[data-properties]')), this.propsWrapEl\r\n        },\r\n        getPreviewEl: function () {\r\n          return this.previewEl || (this.previewEl = this.el.querySelector('[data-preview]')), this.previewEl\r\n        },\r\n        active: function () {\r\n          var t = this.model,\r\n            e = t.collection\r\n          e.active(e.indexOf(t))\r\n        },\r\n        updateVisibility: function () {\r\n          var t = this.pfx,\r\n            e = this.getPropertiesWrapper(),\r\n            n = this.model.get('active')\r\n          ;(e.style.display = n ? '' : 'none'), this.$el[n ? 'addClass' : 'removeClass'](t + 'active')\r\n        },\r\n        render: function () {\r\n          var t = n(16),\r\n            e = this.propsConfig,\r\n            i = this.model,\r\n            r = this.el,\r\n            o = this.pfx,\r\n            s = i.get('preview'),\r\n            a = new t({\r\n              collection: i.get('properties'),\r\n              config: this.config,\r\n              target: e.target,\r\n              customValue: e.customValue,\r\n              propTarget: e.propTarget,\r\n              onChange: e.onChange\r\n            }).render().el\r\n          return (\r\n            (r.innerHTML = this.template(i)),\r\n            (r.className = o + 'layer' + (s ? '' : ' ' + o + 'no-preview')),\r\n            this.getPropertiesWrapper().appendChild(a),\r\n            this.updateVisibility(),\r\n            this.updatePreview(),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      Object.defineProperty(e, '__esModule', { value: !0 })\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(59)\r\n      e.default = r.extend({\r\n        defaults: function () {\r\n          return i({}, r.prototype.defaults, { full: 0 })\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(60)\r\n      t.exports = r.extend({ defaults: i({}, r.prototype.defaults, { showInput: 1 }) })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(17)\r\n      t.exports = r.extend({\r\n        events: function () {\r\n          return i({}, r.prototype.events, {\r\n            'change [type=range]': 'inputValueChanged',\r\n            'input [type=range]': 'inputValueChangedSoft',\r\n            change: ''\r\n          })\r\n        },\r\n        templateInput: function (t) {\r\n          var e = this.ppfx\r\n          return (\r\n            '\\n      <div class=\"' +\r\n            e +\r\n            'field ' +\r\n            e +\r\n            'field-range\">\\n        <input type=\"range\"\\n          min=\"' +\r\n            t.get('min') +\r\n            '\"\\n          max=\"' +\r\n            t.get('max') +\r\n            '\"\\n          step=\"' +\r\n            t.get('step') +\r\n            '\"/>\\n      </div>\\n    '\r\n          )\r\n        },\r\n        getSliderEl: function () {\r\n          return this.slider || (this.slider = this.el.querySelector('input[type=range]')), this.slider\r\n        },\r\n        inputValueChanged: function () {\r\n          var t = this.model,\r\n            e = t.get('step')\r\n          this.getInputEl().value = this.getSliderEl().value\r\n          var n = this.getInputValue() - e\r\n          t.set('value', n, { avoidStore: 1 }).set('value', n + e), this.elementUpdated()\r\n        },\r\n        inputValueChangedSoft: function () {\r\n          ;(this.getInputEl().value = this.getSliderEl().value),\r\n            this.model.set('value', this.getInputValue(), { avoidStore: 1 }),\r\n            this.elementUpdated()\r\n        },\r\n        setValue: function (t) {\r\n          var e = this.model.parseValue(t)\r\n          ;(this.getSliderEl().value = parseFloat(e.value)), r.prototype.setValue.apply(this, arguments)\r\n        },\r\n        onRender: function () {\r\n          r.prototype.onRender.apply(this, arguments),\r\n            this.model.get('showInput') || (this.inputInst.el.style.display = 'none')\r\n        },\r\n        clearCached: function () {\r\n          r.prototype.clearCached.apply(this, arguments), (this.slider = null)\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      n(0)\r\n      t.exports = function () {\r\n        return {\r\n          build: function (t) {\r\n            var e = []\r\n            'string' == typeof t && (t = [t])\r\n            for (var n = 0, i = t.length; n < i; n++) {\r\n              var r = {},\r\n                o = t[n]\r\n              switch (((r.property = o), o)) {\r\n                case 'border-radius-c':\r\n                  r.property = 'border-radius'\r\n              }\r\n              switch (o) {\r\n                case 'margin-top':\r\n                case 'margin-right':\r\n                case 'margin-bottom':\r\n                case 'margin-left':\r\n                case 'padding-top':\r\n                case 'padding-right':\r\n                case 'padding-bottom':\r\n                case 'padding-left':\r\n                case 'width':\r\n                case 'max-width':\r\n                case 'min-width':\r\n                case 'height':\r\n                case 'max-height':\r\n                case 'min-height':\r\n                  r.fixedValues = ['initial', 'inherit', 'auto']\r\n                  break\r\n                case 'font-size':\r\n                  r.fixedValues = [\r\n                    'medium',\r\n                    'xx-small',\r\n                    'x-small',\r\n                    'small',\r\n                    'large',\r\n                    'x-large',\r\n                    'xx-large',\r\n                    'smaller',\r\n                    'larger',\r\n                    'length',\r\n                    'initial',\r\n                    'inherit'\r\n                  ]\r\n                  break\r\n                case 'letter-spacing':\r\n                case 'line-height':\r\n                  r.fixedValues = ['normal', 'initial', 'inherit']\r\n              }\r\n              switch (o) {\r\n                case 'float':\r\n                case 'position':\r\n                case 'text-align':\r\n                  r.type = 'radio'\r\n                  break\r\n                case 'display':\r\n                case 'font-family':\r\n                case 'font-weight':\r\n                case 'border-style':\r\n                case 'box-shadow-type':\r\n                case 'background-repeat':\r\n                case 'background-position':\r\n                case 'background-attachment':\r\n                case 'background-size':\r\n                case 'transition-property':\r\n                case 'transition-timing-function':\r\n                case 'cursor':\r\n                case 'overflow':\r\n                  r.type = 'select'\r\n                  break\r\n                case 'top':\r\n                case 'right':\r\n                case 'bottom':\r\n                case 'left':\r\n                case 'margin-top':\r\n                case 'margin-right':\r\n                case 'margin-bottom':\r\n                case 'margin-left':\r\n                case 'padding-top':\r\n                case 'padding-right':\r\n                case 'padding-bottom':\r\n                case 'padding-left':\r\n                case 'min-height':\r\n                case 'min-width':\r\n                case 'max-height':\r\n                case 'max-width':\r\n                case 'width':\r\n                case 'height':\r\n                case 'font-size':\r\n                case 'letter-spacing':\r\n                case 'line-height':\r\n                case 'text-shadow-h':\r\n                case 'text-shadow-v':\r\n                case 'text-shadow-blur':\r\n                case 'border-radius-c':\r\n                case 'border-top-left-radius':\r\n                case 'border-top-right-radius':\r\n                case 'border-bottom-left-radius':\r\n                case 'border-bottom-right-radius':\r\n                case 'border-width':\r\n                case 'box-shadow-h':\r\n                case 'box-shadow-v':\r\n                case 'box-shadow-blur':\r\n                case 'box-shadow-spread':\r\n                case 'transition-duration':\r\n                case 'perspective':\r\n                case 'transform-rotate-x':\r\n                case 'transform-rotate-y':\r\n                case 'transform-rotate-z':\r\n                case 'transform-scale-x':\r\n                case 'transform-scale-y':\r\n                case 'transform-scale-z':\r\n                  r.type = 'integer'\r\n                  break\r\n                case 'margin':\r\n                case 'padding':\r\n                case 'border-radius':\r\n                case 'border':\r\n                case 'transform':\r\n                  r.type = 'composite'\r\n                  break\r\n                case 'color':\r\n                case 'text-shadow-color':\r\n                case 'background-color':\r\n                case 'border-color':\r\n                case 'box-shadow-color':\r\n                  r.type = 'color'\r\n                  break\r\n                case 'text-shadow':\r\n                case 'box-shadow':\r\n                case 'background':\r\n                case 'transition':\r\n                  r.type = 'stack'\r\n                  break\r\n                case 'background-image':\r\n                  r.type = 'file'\r\n              }\r\n              switch (o) {\r\n                case 'float':\r\n                case 'background-color':\r\n                case 'background-image':\r\n                case 'text-shadow':\r\n                  r.defaults = 'none'\r\n                  break\r\n                case 'display':\r\n                  r.defaults = 'block'\r\n                  break\r\n                case 'position':\r\n                  r.defaults = 'static'\r\n                  break\r\n                case 'top':\r\n                case 'right':\r\n                case 'bottom':\r\n                case 'left':\r\n                case 'margin-top':\r\n                case 'margin-right':\r\n                case 'margin-bottom':\r\n                case 'margin-left':\r\n                case 'padding-top':\r\n                case 'padding-right':\r\n                case 'padding-bottom':\r\n                case 'padding-left':\r\n                case 'text-shadow-h':\r\n                case 'text-shadow-v':\r\n                case 'text-shadow-blur':\r\n                case 'border-radius-c':\r\n                case 'box-shadow-h':\r\n                case 'box-shadow-v':\r\n                case 'box-shadow-spread':\r\n                case 'perspective':\r\n                case 'transform-rotate-x':\r\n                case 'transform-rotate-y':\r\n                case 'transform-rotate-z':\r\n                  r.defaults = 0\r\n                  break\r\n                case 'border-top-left-radius':\r\n                case 'border-top-right-radius':\r\n                case 'border-bottom-left-radius':\r\n                case 'border-bottom-right-radius':\r\n                  r.defaults = '0px'\r\n                  break\r\n                case 'transform-scale-x':\r\n                case 'transform-scale-y':\r\n                case 'transform-scale-z':\r\n                  r.defaults = 1\r\n                  break\r\n                case 'box-shadow-blur':\r\n                  r.defaults = '5px'\r\n                  break\r\n                case 'min-height':\r\n                case 'min-width':\r\n                case 'max-height':\r\n                case 'max-width':\r\n                case 'width':\r\n                case 'height':\r\n                case 'background-size':\r\n                case 'cursor':\r\n                  r.defaults = 'auto'\r\n                  break\r\n                case 'font-family':\r\n                  r.defaults = 'Arial, Helvetica, sans-serif'\r\n                  break\r\n                case 'font-size':\r\n                case 'border-width':\r\n                  r.defaults = 'medium'\r\n                  break\r\n                case 'font-weight':\r\n                  r.defaults = '400'\r\n                  break\r\n                case 'letter-spacing':\r\n                case 'line-height':\r\n                  r.defaults = 'normal'\r\n                  break\r\n                case 'color':\r\n                case 'text-shadow-color':\r\n                case 'border-color':\r\n                case 'box-shadow-color':\r\n                  r.defaults = 'black'\r\n                  break\r\n                case 'text-align':\r\n                  r.defaults = 'left'\r\n                  break\r\n                case 'border-style':\r\n                  r.defaults = 'solid'\r\n                  break\r\n                case 'box-shadow-type':\r\n                  r.defaults = ''\r\n                  break\r\n                case 'background-repeat':\r\n                  r.defaults = 'repeat'\r\n                  break\r\n                case 'background-position':\r\n                  r.defaults = 'left top'\r\n                  break\r\n                case 'background-attachment':\r\n                  r.defaults = 'scroll'\r\n                  break\r\n                case 'transition-property':\r\n                  r.defaults = 'width'\r\n                  break\r\n                case 'transition-duration':\r\n                  r.defaults = '2'\r\n                  break\r\n                case 'transition-timing-function':\r\n                  r.defaults = 'ease'\r\n                  break\r\n                case 'overflow':\r\n                  r.defaults = 'visible'\r\n              }\r\n              switch (o) {\r\n                case 'top':\r\n                case 'bottom':\r\n                case 'margin-top':\r\n                case 'margin-bottom':\r\n                case 'padding-top':\r\n                case 'padding-bottom':\r\n                case 'min-height':\r\n                case 'max-height':\r\n                case 'height':\r\n                  r.units = ['px', '%', 'vh']\r\n                  break\r\n                case 'right':\r\n                case 'left':\r\n                case 'margin-right':\r\n                case 'margin-left':\r\n                case 'padding-right':\r\n                case 'padding-left':\r\n                case 'min-width':\r\n                case 'max-width':\r\n                case 'width':\r\n                  r.units = ['px', '%', 'vw']\r\n                  break\r\n                case 'text-shadow-v':\r\n                case 'text-shadow-h':\r\n                case 'text-shadow-blur':\r\n                case 'border-radius-c':\r\n                case 'border-top-left-radius':\r\n                case 'border-top-right-radius':\r\n                case 'border-bottom-left-radius':\r\n                case 'border-bottom-right-radius':\r\n                case 'box-shadow-h':\r\n                case 'box-shadow-v':\r\n                  r.units = ['px', '%']\r\n                  break\r\n                case 'font-size':\r\n                case 'letter-spacing':\r\n                case 'line-height':\r\n                  r.units = ['px', 'em', 'rem', '%']\r\n                  break\r\n                case 'border-width':\r\n                  r.units = ['px', 'em']\r\n                  break\r\n                case 'box-shadow-blur':\r\n                case 'box-shadow-spread':\r\n                case 'perspective':\r\n                  r.units = ['px']\r\n                  break\r\n                case 'transition-duration':\r\n                  r.units = ['s']\r\n                  break\r\n                case 'transform-rotate-x':\r\n                case 'transform-rotate-y':\r\n                case 'transform-rotate-z':\r\n                  r.units = ['deg']\r\n              }\r\n              switch (o) {\r\n                case 'padding-top':\r\n                case 'padding-right':\r\n                case 'padding-bottom':\r\n                case 'padding-left':\r\n                case 'min-height':\r\n                case 'min-width':\r\n                case 'max-height':\r\n                case 'max-width':\r\n                case 'width':\r\n                case 'height':\r\n                case 'font-size':\r\n                case 'text-shadow-blur':\r\n                case 'border-radius-c':\r\n                case 'border-top-left-radius':\r\n                case 'border-top-right-radius':\r\n                case 'border-bottom-left-radius':\r\n                case 'border-bottom-right-radius':\r\n                case 'border-width':\r\n                case 'box-shadow-blur':\r\n                case 'transition-duration':\r\n                case 'perspective':\r\n                  r.min = 0\r\n              }\r\n              switch (o) {\r\n                case 'text-shadow':\r\n                case 'box-shadow':\r\n                case 'background':\r\n                  r.preview = !0\r\n              }\r\n              switch (o) {\r\n                case 'background':\r\n                  r.detached = !0\r\n              }\r\n              switch (o) {\r\n                case 'transform-rotate-x':\r\n                  r.functionName = 'rotateX'\r\n                  break\r\n                case 'transform-rotate-y':\r\n                  r.functionName = 'rotateY'\r\n                  break\r\n                case 'transform-rotate-z':\r\n                  r.functionName = 'rotateZ'\r\n                  break\r\n                case 'transform-scale-x':\r\n                  r.functionName = 'scaleX'\r\n                  break\r\n                case 'transform-scale-y':\r\n                  r.functionName = 'scaleY'\r\n                  break\r\n                case 'transform-scale-z':\r\n                  r.functionName = 'scaleZ'\r\n                  break\r\n                case 'background-image':\r\n                  r.functionName = 'url'\r\n              }\r\n              switch (o) {\r\n                case 'float':\r\n                  r.list = [{ value: 'none' }, { value: 'left' }, { value: 'right' }]\r\n                  break\r\n                case 'display':\r\n                  r.list = [{ value: 'block' }, { value: 'inline' }, { value: 'inline-block' }, { value: 'none' }]\r\n                  break\r\n                case 'position':\r\n                  r.list = [{ value: 'static' }, { value: 'relative' }, { value: 'absolute' }, { value: 'fixed' }]\r\n                  break\r\n                case 'font-family':\r\n                  var s = ', sans-serif',\r\n                    a = [\r\n                      'Arial, Helvetica' + s,\r\n                      'Arial Black, Gadget' + s,\r\n                      'Brush Script MT' + s,\r\n                      'Comic Sans MS, cursive' + s,\r\n                      'Courier New, Courier, monospace',\r\n                      'Georgia, serif',\r\n                      'Helvetica, serif',\r\n                      'Impact, Charcoal' + s,\r\n                      'Lucida Sans Unicode, Lucida Grande' + s,\r\n                      'Tahoma, Geneva' + s,\r\n                      'Times New Roman, Times, serif',\r\n                      'Trebuchet MS, Helvetica' + s,\r\n                      'Verdana, Geneva' + s\r\n                    ]\r\n                  r.list = []\r\n                  for (var l = 0, c = a.length; l < c; l++) {\r\n                    var u = {}\r\n                    ;(u.value = a[l]), (u.name = a[l].split(',')[0]), r.list.push(u)\r\n                  }\r\n                  break\r\n                case 'font-weight':\r\n                  r.list = [\r\n                    { value: '100', name: 'Thin' },\r\n                    { value: '200', name: 'Extra-Light' },\r\n                    { value: '300', name: 'Light' },\r\n                    { value: '400', name: 'Normal' },\r\n                    { value: '500', name: 'Medium' },\r\n                    { value: '600', name: 'Semi-Bold' },\r\n                    { value: '700', name: 'Bold' },\r\n                    { value: '800', name: 'Extra-Bold' },\r\n                    { value: '900', name: 'Ultra-Bold' }\r\n                  ]\r\n                  break\r\n                case 'text-align':\r\n                  r.list = [{ value: 'left' }, { value: 'center' }, { value: 'right' }, { value: 'justify' }]\r\n                  break\r\n                case 'border-style':\r\n                  r.list = [\r\n                    { value: 'none' },\r\n                    { value: 'solid' },\r\n                    { value: 'dotted' },\r\n                    { value: 'dashed' },\r\n                    { value: 'double' },\r\n                    { value: 'groove' },\r\n                    { value: 'ridge' },\r\n                    { value: 'inset' },\r\n                    { value: 'outset' }\r\n                  ]\r\n                  break\r\n                case 'box-shadow-type':\r\n                  r.list = [{ value: '', name: 'Outside' }, { value: 'inset', name: 'Inside' }]\r\n                  break\r\n                case 'background-repeat':\r\n                  r.list = [{ value: 'repeat' }, { value: 'repeat-x' }, { value: 'repeat-y' }, { value: 'no-repeat' }]\r\n                  break\r\n                case 'background-position':\r\n                  r.list = [\r\n                    { value: 'left top' },\r\n                    { value: 'left center' },\r\n                    { value: 'left bottom' },\r\n                    { value: 'right top' },\r\n                    { value: 'right center' },\r\n                    { value: 'right bottom' },\r\n                    { value: 'center top' },\r\n                    { value: 'center center' },\r\n                    { value: 'center bottom' }\r\n                  ]\r\n                  break\r\n                case 'background-attachment':\r\n                  r.list = [{ value: 'scroll' }, { value: 'fixed' }, { value: 'local' }]\r\n                  break\r\n                case 'background-size':\r\n                  r.list = [{ value: 'auto' }, { value: 'cover' }, { value: 'contain' }]\r\n                  break\r\n                case 'transition-property':\r\n                  r.list = [\r\n                    { value: 'all' },\r\n                    { value: 'width' },\r\n                    { value: 'height' },\r\n                    { value: 'background-color' },\r\n                    { value: 'transform' },\r\n                    { value: 'box-shadow' },\r\n                    { value: 'opacity' }\r\n                  ]\r\n                  break\r\n                case 'transition-timing-function':\r\n                  r.list = [\r\n                    { value: 'linear' },\r\n                    { value: 'ease' },\r\n                    { value: 'ease-in' },\r\n                    { value: 'ease-out' },\r\n                    { value: 'ease-in-out' }\r\n                  ]\r\n                  break\r\n                case 'cursor':\r\n                  r.list = [\r\n                    { value: 'auto' },\r\n                    { value: 'pointer' },\r\n                    { value: 'copy' },\r\n                    { value: 'crosshair' },\r\n                    { value: 'grab' },\r\n                    { value: 'grabbing' },\r\n                    { value: 'help' },\r\n                    { value: 'move' },\r\n                    { value: 'text' }\r\n                  ]\r\n                  break\r\n                case 'overflow':\r\n                  r.list = [{ value: 'visible' }, { value: 'hidden' }, { value: 'scroll' }, { value: 'auto' }]\r\n              }\r\n              switch (o) {\r\n                case 'margin':\r\n                  r.properties = this.build(['margin-top', 'margin-right', 'margin-bottom', 'margin-left'])\r\n                  break\r\n                case 'padding':\r\n                  r.properties = this.build(['padding-top', 'padding-right', 'padding-bottom', 'padding-left'])\r\n                  break\r\n                case 'text-shadow':\r\n                  r.properties = this.build(['text-shadow-h', 'text-shadow-v', 'text-shadow-blur', 'text-shadow-color'])\r\n                  break\r\n                case 'border':\r\n                  r.properties = this.build(['border-width', 'border-style', 'border-color'])\r\n                  break\r\n                case 'border-radius':\r\n                  r.properties = this.build([\r\n                    'border-top-left-radius',\r\n                    'border-top-right-radius',\r\n                    'border-bottom-left-radius',\r\n                    'border-bottom-right-radius'\r\n                  ])\r\n                  break\r\n                case 'box-shadow':\r\n                  r.properties = this.build([\r\n                    'box-shadow-h',\r\n                    'box-shadow-v',\r\n                    'box-shadow-blur',\r\n                    'box-shadow-spread',\r\n                    'box-shadow-color',\r\n                    'box-shadow-type'\r\n                  ])\r\n                  break\r\n                case 'background':\r\n                  r.properties = this.build([\r\n                    'background-image',\r\n                    'background-repeat',\r\n                    'background-position',\r\n                    'background-attachment',\r\n                    'background-size'\r\n                  ])\r\n                  break\r\n                case 'transition':\r\n                  r.properties = this.build([\r\n                    'transition-property',\r\n                    'transition-duration',\r\n                    'transition-timing-function'\r\n                  ])\r\n                  break\r\n                case 'transform':\r\n                  r.properties = this.build([\r\n                    'transform-rotate-x',\r\n                    'transform-rotate-y',\r\n                    'transform-rotate-z',\r\n                    'transform-scale-x',\r\n                    'transform-scale-y',\r\n                    'transform-scale-z'\r\n                  ])\r\n              }\r\n              e.push(r)\r\n            }\r\n            return e\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        o = n(0),\r\n        s = (i = o) && i.__esModule ? i : { default: i },\r\n        a = n(1)\r\n      var l = n(132)\r\n      t.exports = s.default.View.extend({\r\n        initialize: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            e = t.config || {}\r\n          ;(this.pfx = e.stylePrefix || ''),\r\n            (this.ppfx = e.pStylePrefix || ''),\r\n            (this.target = t.target || {}),\r\n            (this.config = e)\r\n          var n = {}\r\n          ;(0, a.extend)(n, s.default.Events)\r\n          var i = document.body,\r\n            o = document.createElement('el-' + new Date().getTime())\r\n          i.appendChild(o),\r\n            (n.computedDefault = r({}, window.getComputedStyle(o))),\r\n            i.removeChild(o),\r\n            (this.propTarget = n)\r\n          var l = this.collection\r\n          this.listenTo(l, 'add', this.addTo),\r\n            this.listenTo(l, 'reset', this.render),\r\n            this.listenTo(\r\n              this.target,\r\n              'component:toggled component:update:classes component:update:state change:device',\r\n              this.targetUpdated\r\n            )\r\n        },\r\n        addTo: function (t) {\r\n          this.addToCollection(t)\r\n        },\r\n        targetUpdated: function () {\r\n          var t = this.target,\r\n            e = this.propTarget,\r\n            n = t.getSelected()\r\n          if (n) {\r\n            var i = t.get('Config').devicePreviewMode ? '' : n.get('state'),\r\n              r = n.getEl()\r\n            if (((e.helper = null), r)) {\r\n              var o = i ? ':' + i : null\r\n              e.computed = window.getComputedStyle(r, o)\r\n            }\r\n            ;(n = t.get('StyleManager').getModelToStyle(n)),\r\n              i &&\r\n                (function () {\r\n                  var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n                    i = t.get('CssComposer'),\r\n                    r = i.getAll(),\r\n                    o = i.getClassRule('hc-state')\r\n                  o ? (r.remove(o), r.add(o)) : (o = i.setClassRule('hc-state')),\r\n                    o.set('important', 1),\r\n                    o.setStyle(n),\r\n                    (e.helper = o)\r\n                })(n.getStyle()),\r\n              (e.model = n),\r\n              e.trigger('update')\r\n          }\r\n        },\r\n        setTarget: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n            n = this.target,\r\n            i = n.get('Config'),\r\n            r = e.targetIsClass,\r\n            o = e.stylable,\r\n            s = t\r\n          if ((0, a.isString)(t)) {\r\n            var l = void 0,\r\n              c = n.get('CssComposer').getAll()\r\n            r &&\r\n              (l = c.filter(function (e) {\r\n                return e.get('selectors').getFullString() === t\r\n              })[0]),\r\n              l ||\r\n                (l = c.filter(function (e) {\r\n                  return e.get('selectorsAdd') === t\r\n                })[0]),\r\n              l || (l = c.add({ selectors: [], selectorsAdd: t })),\r\n              o && l.set({ stylable: o }),\r\n              (s = l)\r\n          }\r\n          i.devicePreviewMode || s.get('state')\r\n          var u = this.propTarget\r\n          return (u.model = s), u.trigger('styleManager:update', s), s\r\n        },\r\n        addToCollection: function (t, e) {\r\n          var n = e || null,\r\n            i = new l({\r\n              model: t,\r\n              id:\r\n                this.pfx +\r\n                t\r\n                  .get('name')\r\n                  .replace(' ', '_')\r\n                  .toLowerCase(),\r\n              name: t.get('name'),\r\n              properties: t.get('properties'),\r\n              target: this.target,\r\n              propTarget: this.propTarget,\r\n              config: this.config\r\n            }).render().el\r\n          return n ? n.appendChild(i) : this.$el.append(i), i\r\n        },\r\n        render: function () {\r\n          var t = this,\r\n            e = document.createDocumentFragment(),\r\n            n = this.$el,\r\n            i = this.pfx,\r\n            r = this.ppfx\r\n          return (\r\n            n.empty(),\r\n            this.collection.each(function (n) {\r\n              return t.addToCollection(n, e)\r\n            }),\r\n            n.append(e),\r\n            n.addClass(i + 'sectors ' + r + 'one-bg ' + r + 'two-color'),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = o(n(1)),\r\n        r = o(n(0))\r\n      function o (t) {\r\n        return t && t.__esModule ? t : { default: t }\r\n      }\r\n      var s = n(16)\r\n      t.exports = r.default.View.extend({\r\n        template: i.default.template(\r\n          '\\n  <div class=\"<%= pfx %>title\" data-sector-title>\\n    <i id=\"<%= pfx %>caret\" class=\"fa\"></i>\\n    <%= label %>\\n  </div>'\r\n        ),\r\n        events: { 'click [data-sector-title]': 'toggle' },\r\n        initialize: function (t) {\r\n          ;(this.config = t.config || {}),\r\n            (this.pfx = this.config.stylePrefix || ''),\r\n            (this.target = t.target || {}),\r\n            (this.propTarget = t.propTarget || {}),\r\n            (this.caretR = 'fa-caret-right'),\r\n            (this.caretD = 'fa-caret-down')\r\n          var e = this.model\r\n          this.listenTo(e, 'change:open', this.updateOpen),\r\n            this.listenTo(e, 'updateVisibility', this.updateVisibility),\r\n            this.listenTo(e, 'destroy remove', this.remove)\r\n        },\r\n        updateVisibility: function () {\r\n          var t\r\n          this.model.get('properties').each(function (e) {\r\n            e.get('visible') && (t = 1)\r\n          }),\r\n            (this.el.style.display = t ? 'block' : 'none')\r\n        },\r\n        updateOpen: function () {\r\n          this.model.get('open') ? this.show() : this.hide()\r\n        },\r\n        show: function () {\r\n          this.$el.addClass(this.pfx + 'open'),\r\n            (this.getPropertiesEl().style.display = ''),\r\n            this.$caret.removeClass(this.caretR).addClass(this.caretD)\r\n        },\r\n        hide: function () {\r\n          this.$el.removeClass(this.pfx + 'open'),\r\n            (this.getPropertiesEl().style.display = 'none'),\r\n            this.$caret.removeClass(this.caretD).addClass(this.caretR)\r\n        },\r\n        getPropertiesEl: function () {\r\n          return this.$el.find('.' + this.pfx + 'properties').get(0)\r\n        },\r\n        toggle: function (t) {\r\n          var e = this.model.get('open') ? 0 : 1\r\n          this.model.set('open', e)\r\n        },\r\n        render: function () {\r\n          return (\r\n            this.$el.html(this.template({ pfx: this.pfx, label: this.model.get('name') })),\r\n            (this.$caret = this.$el.find('#' + this.pfx + 'caret')),\r\n            this.renderProperties(),\r\n            this.$el.attr('class', this.pfx + 'sector no-select'),\r\n            this.updateOpen(),\r\n            this\r\n          )\r\n        },\r\n        renderProperties: function () {\r\n          var t = this.model.get('properties')\r\n          if (t) {\r\n            var e = new s({ collection: t, target: this.target, propTarget: this.propTarget, config: this.config })\r\n            this.$el.append(e.render().el)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1),\r\n        r = function (t) {\r\n          return (0, i.isString)(t) && '#' == t[0]\r\n        }\r\n      t.exports = function (t) {\r\n        var e,\r\n          o,\r\n          s = t || {},\r\n          a = n(134),\r\n          l = n(9),\r\n          c = n(10),\r\n          u = n(135)\r\n        return {\r\n          Selector: l,\r\n          Selectors: c,\r\n          name: 'SelectorManager',\r\n          getConfig: function () {\r\n            return s\r\n          },\r\n          init: function (t) {\r\n            for (var n in ((s = t || {}), a)) n in s || (s[n] = a[n])\r\n            var i = s.em,\r\n              r = s.pStylePrefix\r\n            return (\r\n              r && (s.stylePrefix = r + s.stylePrefix),\r\n              (o = new u({ collection: new c([], { em: i, config: s }), config: s })),\r\n              (e = new c(s.selectors)).on('add', function (t) {\r\n                return i.trigger('selector:add', t)\r\n              }),\r\n              this\r\n            )\r\n          },\r\n          postRender: function () {\r\n            var t = this.getConfig().appendTo\r\n            t && ((0, i.isElement)(t) ? t : document.querySelector(t)).appendChild(this.render([]))\r\n          },\r\n          add: function (t) {\r\n            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n            ;(0, i.isObject)(t) ? (n = t) : (n.name = t),\r\n              r(n.name) && ((n.name = n.name.substr(1)), (n.type = l.TYPE_ID)),\r\n              n.label && !n.name && (n.name = l.escapeName(n.label))\r\n            var o = n.name,\r\n              s = o ? this.get(o, n.type) : e.where(n)[0]\r\n            return s || e.add(n)\r\n          },\r\n          addClass: function (t) {\r\n            var n = []\r\n            return (\r\n              (0, i.isString)(t) && (t = t.trim().split(' ')),\r\n              t.forEach(function (t) {\r\n                return n.push(e.add({ name: t }))\r\n              }),\r\n              n\r\n            )\r\n          },\r\n          get: function (t) {\r\n            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : l.TYPE_CLASS\r\n            return r(t) && ((t = t.substr(1)), (n = l.TYPE_ID)), e.where({ name: t, type: n })[0]\r\n          },\r\n          getAll: function () {\r\n            return e\r\n          },\r\n          render: function (t) {\r\n            return t ? new u({ collection: new c(t), config: s }).render().el : o.render().el\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        stylePrefix: 'clm-',\r\n        appendTo: '',\r\n        selectors: [],\r\n        label: 'Classes',\r\n        statesLabel: '- State -',\r\n        selectedLabel: 'Selected',\r\n        states: [\r\n          { name: 'hover', label: 'Hover' },\r\n          { name: 'active', label: 'Click' },\r\n          { name: 'nth-of-type(2n)', label: 'Even/Odd' }\r\n        ]\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(1),\r\n        o = n(0),\r\n        s = (i = o) && i.__esModule ? i : { default: i }\r\n      var a = n(136)\r\n      t.exports = s.default.View.extend({\r\n        template: (0, r.template)(\r\n          '\\n  <div id=\"<%= pfx %>up\">\\n    <div id=\"<%= pfx %>label\"><%= label %></div>\\n    <div id=\"<%= pfx %>status-c\">\\n      <span id=\"<%= pfx %>input-c\">\\n        <div class=\"<%= ppfx %>field <%= ppfx %>select\">\\n          <span id=\"<%= ppfx %>input-holder\">\\n            <select id=\"<%= pfx %>states\">\\n              <option value=\"\"><%= statesLabel %></option>\\n            </select>\\n          </span>\\n          <div class=\"<%= ppfx %>sel-arrow\">\\n            <div class=\"<%= ppfx %>d-s-arrow\"></div>\\n          </div>\\n        </div>\\n      </span>\\n    </div>\\n  </div>\\n  <div id=\"<%= pfx %>tags-field\" class=\"<%= ppfx %>field\">\\n    <div id=\"<%= pfx %>tags-c\"></div>\\n    <input id=\"<%= pfx %>new\" />\\n    <span id=\"<%= pfx %>add-tag\" class=\"fa fa-plus\"></span>\\n  </div>\\n  <div id=\"<%= pfx %>sel-help\">\\n    <div id=\"<%= pfx %>label\"><%= selectedLabel %></div>\\n    <div id=\"<%= pfx %>sel\"></div>\\n    <div style=\"clear:both\"></div>\\n  </div>'\r\n        ),\r\n        events: {},\r\n        initialize: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n          ;(this.config = t.config || {}),\r\n            (this.pfx = this.config.stylePrefix || ''),\r\n            (this.ppfx = this.config.pStylePrefix || ''),\r\n            (this.className = this.pfx + 'tags'),\r\n            (this.addBtnId = this.pfx + 'add-tag'),\r\n            (this.newInputId = this.pfx + 'new'),\r\n            (this.stateInputId = this.pfx + 'states'),\r\n            (this.stateInputC = this.pfx + 'input-c'),\r\n            (this.states = this.config.states || []),\r\n            (this.events['click #' + this.addBtnId] = 'startNewTag'),\r\n            (this.events['blur #' + this.newInputId] = 'endNewTag'),\r\n            (this.events['keyup #' + this.newInputId] = 'onInputKeyUp'),\r\n            (this.events['change #' + this.stateInputId] = 'stateChanged'),\r\n            (this.target = this.config.em),\r\n            (this.em = this.target),\r\n            this.listenTo(this.getStyleEmitter(), 'styleManager:update', this.componentChanged),\r\n            this.listenTo(this.target, 'component:toggled component:update:classes', this.componentChanged),\r\n            this.listenTo(this.target, 'component:update:classes', this.updateSelector),\r\n            this.listenTo(this.collection, 'add', this.addNew),\r\n            this.listenTo(this.collection, 'reset', this.renderClasses),\r\n            this.listenTo(this.collection, 'remove', this.tagRemoved),\r\n            this.delegateEvents()\r\n        },\r\n        getStyleEmitter: function () {\r\n          var t = this.em,\r\n            e = t && t.get('StyleManager')\r\n          return (e && e.getEmitter()) || {}\r\n        },\r\n        tagRemoved: function (t) {\r\n          this.updateStateVis()\r\n        },\r\n        getStateOptions: function () {\r\n          for (var t = '', e = 0; e < this.states.length; e++)\r\n            t += '<option value=\"' + this.states[e].name + '\">' + this.states[e].label + '</option>'\r\n          return t\r\n        },\r\n        addNew: function (t) {\r\n          this.addToClasses(t)\r\n        },\r\n        startNewTag: function (t) {\r\n          ;(this.$addBtn.get(0).style.display = 'none'), this.$input.show().focus()\r\n        },\r\n        endNewTag: function (t) {\r\n          ;(this.$addBtn.get(0).style.display = ''), this.$input.hide().val('')\r\n        },\r\n        onInputKeyUp: function (t) {\r\n          13 === t.keyCode ? this.addNewTag(this.$input.val()) : 27 === t.keyCode && this.endNewTag()\r\n        },\r\n        componentChanged: function (t) {\r\n          ;(t = t || this.getTarget()), (this.compTarget = t)\r\n          var e = []\r\n          if (t) {\r\n            var n = t.get('state')\r\n            n && this.getStates().val(n), (e = t.getSelectors().getValid())\r\n          }\r\n          this.collection.reset(e), this.updateStateVis(t)\r\n        },\r\n        getTarget: function () {\r\n          this.getStyleEmitter().model\r\n          return this.target.getSelected()\r\n        },\r\n        updateStateVis: function (t) {\r\n          var e = this.em,\r\n            n = e && e.getConfig('avoidInlineStyle'),\r\n            i = this.collection.length || n ? 'block' : 'none'\r\n          this.getStatesC().css('display', i), this.updateSelector(t)\r\n        },\r\n        updateSelector: function (t) {\r\n          var e = this.pfx,\r\n            n = this.collection,\r\n            i = this.el,\r\n            r = t || this.getTarget()\r\n          if (((this.compTarget = r), r && r.get)) {\r\n            var o = r.get('state'),\r\n              s = n.getFullString(r.getSelectors().getStyleable())\r\n            ;(s = s || r.get('selectorsAdd') || (r.getId ? '#' + r.getId() : '')), (s += o ? ':' + o : '')\r\n            var a = i.querySelector('#' + e + 'sel')\r\n            a && (a.innerHTML = s)\r\n          }\r\n        },\r\n        stateChanged: function (t) {\r\n          this.compTarget && (this.compTarget.set('state', this.$states.val()), this.updateSelector())\r\n        },\r\n        addNewTag: function (t) {\r\n          var e = this.target,\r\n            n = this.compTarget\r\n          if (t.trim()) {\r\n            if (e) {\r\n              var i = e.get('SelectorManager').add({ label: t })\r\n              if (n) n.getSelectors().add(i), this.collection.add(i), this.updateStateVis()\r\n            }\r\n            this.endNewTag()\r\n          }\r\n        },\r\n        addToClasses: function (t, e) {\r\n          var n = e || null,\r\n            i = new a({ model: t, config: this.config, coll: this.collection }).render().el\r\n          return n ? n.appendChild(i) : this.getClasses().append(i), i\r\n        },\r\n        renderClasses: function () {\r\n          var t = this,\r\n            e = document.createDocumentFragment(),\r\n            n = this.getClasses()\r\n          return (\r\n            this.collection.each(function (n) {\r\n              return t.addToClasses(n, e)\r\n            }),\r\n            n.get(0) && n.empty().append(e),\r\n            this\r\n          )\r\n        },\r\n        getClasses: function () {\r\n          return this.$classes || (this.$classes = this.$el.find('#' + this.pfx + 'tags-c')), this.$classes\r\n        },\r\n        getStates: function () {\r\n          return this.$states || (this.$states = this.$el.find('#' + this.stateInputId)), this.$states\r\n        },\r\n        getStatesC: function () {\r\n          return this.$statesC || (this.$statesC = this.$el.find('#' + this.stateInputC)), this.$statesC\r\n        },\r\n        render: function () {\r\n          var t = this.ppfx,\r\n            e = this.config,\r\n            n = this.$el\r\n          return (\r\n            n.html(\r\n              this.template({\r\n                selectedLabel: e.selectedLabel,\r\n                statesLabel: e.statesLabel,\r\n                label: e.label,\r\n                pfx: this.pfx,\r\n                ppfx: this.ppfx\r\n              })\r\n            ),\r\n            (this.$input = n.find('input#' + this.newInputId)),\r\n            (this.$addBtn = n.find('#' + this.addBtnId)),\r\n            (this.$classes = n.find('#' + this.pfx + 'tags-c')),\r\n            (this.$states = n.find('#' + this.stateInputId)),\r\n            (this.$statesC = n.find('#' + this.stateInputC)),\r\n            this.$states.append(this.getStateOptions()),\r\n            this.renderClasses(),\r\n            n.attr('class', this.className + ' ' + t + 'one-bg ' + t + 'two-color'),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(9)\r\n      t.exports = n(0).View.extend({\r\n        template: function () {\r\n          var t = this.pfx\r\n          this.ppfx\r\n          return (\r\n            '\\n      <span id=\"' +\r\n            t +\r\n            'checkbox\" class=\"fa\" data-tag-status></span>\\n      <span id=\"' +\r\n            t +\r\n            'tag-label\" data-tag-name>' +\r\n            (this.model.get('label') || '') +\r\n            '</span>\\n      <span id=\"' +\r\n            t +\r\n            'close\" data-tag-remove>\\n        &Cross;\\n      </span>\\n    '\r\n          )\r\n        },\r\n        events: {\r\n          'click [data-tag-remove]': 'removeTag',\r\n          'click [data-tag-status]': 'changeStatus',\r\n          'dblclick [data-tag-name]': 'startEditTag',\r\n          'focusout [data-tag-name]': 'endEditTag'\r\n        },\r\n        initialize: function (t) {\r\n          ;(this.config = t.config || {}),\r\n            (this.coll = t.coll || null),\r\n            (this.pfx = this.config.stylePrefix || ''),\r\n            (this.ppfx = this.config.pStylePrefix || ''),\r\n            (this.em = this.config.em),\r\n            this.listenTo(this.model, 'change:active', this.updateStatus)\r\n        },\r\n        getInputEl: function () {\r\n          return this.inputEl || (this.inputEl = this.el.querySelector('[data-tag-name]')), this.inputEl\r\n        },\r\n        startEditTag: function () {\r\n          var t = this.em,\r\n            e = this.getInputEl()\r\n          ;(e.contentEditable = !0), e.focus(), t && t.setEditing(1)\r\n        },\r\n        endEditTag: function () {\r\n          var t = this.model,\r\n            e = this.getInputEl(),\r\n            n = e.textContent,\r\n            r = i.escapeName(n),\r\n            o = this.em,\r\n            s = o && o.get('SelectorManager')\r\n          ;(e.contentEditable = !1),\r\n            o && o.setEditing(0),\r\n            s && (s.get(r) ? (e.innerText = t.get('label')) : t.set({ name: r, label: n }))\r\n        },\r\n        changeStatus: function () {\r\n          this.model.set('active', !this.model.get('active'))\r\n        },\r\n        removeTag: function (t) {\r\n          var e = this.em,\r\n            n = this.model,\r\n            i = e && e.getSelected()\r\n          i &&\r\n            setTimeout(function () {\r\n              return i.getSelectors().remove(n)\r\n            })\r\n        },\r\n        updateStatus: function () {\r\n          var t = 'fa-check-square-o'\r\n          this.$chk || (this.$chk = this.$el.find('#' + this.pfx + 'checkbox')),\r\n            this.model.get('active')\r\n              ? (this.$chk.removeClass('fa-square-o').addClass(t), this.$el.removeClass('opac50'))\r\n              : (this.$chk.removeClass(t).addClass('fa-square-o'), this.$el.addClass('opac50'))\r\n        },\r\n        render: function () {\r\n          var t = this.pfx,\r\n            e = this.ppfx\r\n          return (\r\n            this.$el.html(this.template()),\r\n            this.$el.attr('class', t + 'tag ' + e + 'three-bg'),\r\n            this.updateStatus(),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = function () {\r\n        var t,\r\n          e,\r\n          i = {},\r\n          r = n(138),\r\n          o = n(139),\r\n          s = n(140)\r\n        return {\r\n          name: 'Modal',\r\n          init: function (n) {\r\n            for (var a in ((i = n || {}), r)) a in i || (i[a] = r[a])\r\n            var l = i.pStylePrefix\r\n            return l && (i.stylePrefix = l + i.stylePrefix), (t = new o(i)), (e = new s({ model: t, config: i })), this\r\n          },\r\n          postRender: function (t) {\r\n            var e = t.model.getConfig().el || t.el\r\n            this.render().appendTo(e)\r\n          },\r\n          open: function () {\r\n            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n            return t.title && this.setTitle(t.title), t.content && this.setContent(t.content), e.show(), this\r\n          },\r\n          close: function () {\r\n            return e.hide(), this\r\n          },\r\n          isOpen: function () {\r\n            return !!t.get('open')\r\n          },\r\n          setTitle: function (e) {\r\n            return t.set('title', e), this\r\n          },\r\n          getTitle: function () {\r\n            return t.get('title')\r\n          },\r\n          setContent: function (e) {\r\n            return t.set('content', ' '), t.set('content', e), this\r\n          },\r\n          getContent: function () {\r\n            return t.get('content')\r\n          },\r\n          getContentEl: function () {\r\n            return e.getContent().get(0)\r\n          },\r\n          getModel: function () {\r\n            return t\r\n          },\r\n          render: function () {\r\n            return e.render().$el\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = { stylePrefix: 'mdl-', title: '', content: '', backdrop: !0 }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(0)\r\n      t.exports = i.Model.extend({ defaults: { title: '', content: '', open: !1 } })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = n(0).View.extend({\r\n        template: function (t) {\r\n          var e = t.pfx,\r\n            n = t.ppfx,\r\n            i = t.content\r\n          return (\r\n            '<div class=\"' +\r\n            e +\r\n            'dialog ' +\r\n            n +\r\n            'one-bg ' +\r\n            n +\r\n            'two-color\">\\n      <div class=\"' +\r\n            e +\r\n            'header\">\\n        <div class=\"' +\r\n            e +\r\n            'title\">' +\r\n            t.title +\r\n            '</div>\\n        <div class=\"' +\r\n            e +\r\n            'btn-close\" data-close-modal>&Cross;</div>\\n      </div>\\n      <div class=\"' +\r\n            e +\r\n            'content\">\\n        <div id=\"' +\r\n            e +\r\n            'c\">' +\r\n            i +\r\n            '</div>\\n        <div style=\"clear:both\"></div>\\n      </div>\\n    </div>\\n    <div class=\"' +\r\n            e +\r\n            'collector\" style=\"display: none\"></div>'\r\n          )\r\n        },\r\n        events: { click: 'onClick', 'click [data-close-modal]': 'hide' },\r\n        initialize: function (t) {\r\n          var e = this.model,\r\n            n = t.config || {},\r\n            i = n.stylePrefix || ''\r\n          ;(this.config = n),\r\n            (this.pfx = i),\r\n            (this.ppfx = n.pStylePrefix || ''),\r\n            this.listenTo(e, 'change:open', this.updateOpen),\r\n            this.listenTo(e, 'change:title', this.updateTitle),\r\n            this.listenTo(e, 'change:content', this.updateContent)\r\n        },\r\n        onClick: function (t) {\r\n          this.config.backdrop && t.target === this.el && this.hide()\r\n        },\r\n        getCollector: function () {\r\n          return this.$collector || (this.$collector = this.$el.find('.' + this.pfx + 'collector')), this.$collector\r\n        },\r\n        getContent: function () {\r\n          var t = this.pfx\r\n          return this.$content || (this.$content = this.$el.find('.' + t + 'content #' + t + 'c')), this.$content\r\n        },\r\n        getTitle: function () {\r\n          return this.$title || (this.$title = this.$el.find('.' + this.pfx + 'title')), this.$title.get(0)\r\n        },\r\n        updateContent: function () {\r\n          var t = this.getContent(),\r\n            e = t.children(),\r\n            n = this.getCollector(),\r\n            i = this.model.get('content')\r\n          e.length && n.append(e), t.empty().append(i)\r\n        },\r\n        updateTitle: function () {\r\n          var t = this.getTitle()\r\n          t && (t.innerHTML = this.model.get('title'))\r\n        },\r\n        updateOpen: function () {\r\n          this.el.style.display = this.model.get('open') ? '' : 'none'\r\n        },\r\n        hide: function () {\r\n          this.model.set('open', 0)\r\n        },\r\n        show: function () {\r\n          this.model.set('open', 1)\r\n        },\r\n        render: function () {\r\n          var t = this.$el,\r\n            e = this.pfx,\r\n            n = (this.ppfx, this.model.toJSON())\r\n          return (\r\n            (n.pfx = this.pfx),\r\n            (n.ppfx = this.ppfx),\r\n            t.html(this.template(n)),\r\n            t.attr('class', e + 'container'),\r\n            this.updateOpen(),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1)\r\n      t.exports = function () {\r\n        var t = {},\r\n          e = n(142),\r\n          r = n(143),\r\n          o = n(144),\r\n          s = n(145),\r\n          a = n(146),\r\n          l = n(147),\r\n          c = n(152),\r\n          u = {},\r\n          h = {},\r\n          d = {},\r\n          f = {}\r\n        return {\r\n          getConfig: function () {\r\n            return t\r\n          },\r\n          config: t,\r\n          EditorView: c,\r\n          name: 'CodeManager',\r\n          init: function (n) {\r\n            for (var i in ((t = n || {}), e)) i in t || (t[i] = e[i])\r\n            var c = t.pStylePrefix\r\n            return (\r\n              c && (t.stylePrefix = c + t.stylePrefix),\r\n              (h.html = new r()),\r\n              (h.css = new o()),\r\n              (h.json = new s()),\r\n              (h.js = new a()),\r\n              (f.CodeMirror = new l()),\r\n              this.loadDefaultGenerators().loadDefaultViewers(),\r\n              this\r\n            )\r\n          },\r\n          addGenerator: function (t, e) {\r\n            return (u[t] = e), this\r\n          },\r\n          getGenerator: function (t) {\r\n            return u[t] || null\r\n          },\r\n          getGenerators: function () {\r\n            return u\r\n          },\r\n          addViewer: function (t, e) {\r\n            return (d[t] = e), this\r\n          },\r\n          getViewer: function (t) {\r\n            return d[t] || null\r\n          },\r\n          getViewers: function () {\r\n            return d\r\n          },\r\n          createViewer: function () {\r\n            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n              e = (0, i.isUndefined)(t.type) ? 'CodeMirror' : t.type,\r\n              n = this.getViewer(e) && this.getViewer(e).clone(),\r\n              r = document.createElement('div'),\r\n              o = document.createElement('textarea')\r\n            return r.appendChild(o), n.set(t), n.init(o), n.setElement(r), n\r\n          },\r\n          updateViewer: function (t, e) {\r\n            t.setContent(e)\r\n          },\r\n          getCode: function (e, n) {\r\n            var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}\r\n            i.em = t.em\r\n            var r = this.getGenerator(n)\r\n            return r ? r.build(e, i) : ''\r\n          },\r\n          loadDefaultGenerators: function () {\r\n            for (var t in h) this.addGenerator(t, h[t])\r\n            return this\r\n          },\r\n          loadDefaultViewers: function () {\r\n            for (var t in f) this.addViewer(t, f[t])\r\n            return this\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = { stylePrefix: 'cm-', inlineCss: !1 }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      t.exports = o.default.Model.extend({\r\n        build: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n            n = t.get('components')\r\n          return e.exportWrapper\r\n            ? e.wrappesIsBody\r\n              ? '<body>' + this.buildModels(n) + '</body>'\r\n              : t.toHTML()\r\n            : this.buildModels(n)\r\n        },\r\n        buildModels: function (t) {\r\n          var e = ''\r\n          return (\r\n            t.each(function (t) {\r\n              e += t.toHTML()\r\n            }),\r\n            e\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1),\r\n        r = Number.MAX_VALUE\r\n      t.exports = n(0).Model.extend({\r\n        initialize: function () {\r\n          ;(this.compCls = []), (this.ids = [])\r\n        },\r\n        buildFromModel: function (t) {\r\n          var e = this,\r\n            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n            i = '',\r\n            r = this.em,\r\n            o = r && r.getConfig('avoidInlineStyle'),\r\n            s = t.styleToString(),\r\n            a = t.get('classes'),\r\n            l = n.wrappesIsBody,\r\n            c = t.get('wrapper')\r\n          if (\r\n            (this.ids.push('#' + t.getId()),\r\n            a.each(function (t) {\r\n              return e.compCls.push(t.getFullName())\r\n            }),\r\n            !o && s)\r\n          ) {\r\n            var u = '#' + t.getId()\r\n            i = (u = l && c ? 'body' : u) + '{' + s + '}'\r\n          }\r\n          return (\r\n            t.components().each(function (t) {\r\n              return (i += e.buildFromModel(t, n))\r\n            }),\r\n            i\r\n          )\r\n        },\r\n        build: function (t) {\r\n          var e = this,\r\n            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n            r = n.cssc,\r\n            o = n.em || ''\r\n          ;(this.em = o), (this.compCls = []), (this.ids = [])\r\n          var s = this.buildFromModel(t, n),\r\n            a = (0, i.isUndefined)(n.clearStyles) && o ? o.getConfig('clearStyles') : n.clearStyles\r\n          if (r) {\r\n            var l = r.getAll(),\r\n              c = {},\r\n              u = []\r\n            l.each(function (t) {\r\n              var i = t.getAtRule()\r\n              if (i) {\r\n                var r = c[i]\r\n                r ? r.push(t) : (c[i] = [t])\r\n              } else s += e.buildFromRule(t, u, n)\r\n            }),\r\n              this.sortMediaObject(c).forEach(function (t) {\r\n                var i = '',\r\n                  r = t.key\r\n                t.value.forEach(function (t) {\r\n                  var o = e.buildFromRule(t, u, n)\r\n                  t.get('singleAtRule') ? (s += r + '{' + o + '}') : (i += o)\r\n                }),\r\n                  i && (s += r + '{' + i + '}')\r\n              }),\r\n              o && a && l.remove(u)\r\n          }\r\n          return s\r\n        },\r\n        buildFromRule: function (t, e) {\r\n          var n = this,\r\n            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\r\n            r = '',\r\n            o = t.selectorsToString({ skipAdd: 1 }),\r\n            s = t.get('selectorsAdd'),\r\n            a = t.get('singleAtRule'),\r\n            l = void 0\r\n          if (\r\n            (t.get('selectors').each(function (t) {\r\n              var e = t.getFullName()\r\n              ;(n.compCls.indexOf(e) >= 0 || n.ids.indexOf(e) >= 0 || i.keepUnusedStyles) && (l = 1)\r\n            }),\r\n            (o && l) || s || a)\r\n          ) {\r\n            var c = t.getDeclaration()\r\n            c && (r += c)\r\n          } else e.push(t)\r\n          return r\r\n        },\r\n        getQueryLength: function (t) {\r\n          var e = /(-?\\d*\\.?\\d+)\\w{0,}/.exec(t)\r\n          return e ? parseFloat(e[1]) : r\r\n        },\r\n        sortMediaObject: function () {\r\n          var t = this,\r\n            e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            n = []\r\n          return (\r\n            (0, i.each)(e, function (t, e) {\r\n              return n.push({ key: e, value: t })\r\n            }),\r\n            n.sort(function (e, n) {\r\n              return t.getQueryLength(n.key) - t.getQueryLength(e.key)\r\n            })\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(1),\r\n        o = n(0),\r\n        s = (i = o) && i.__esModule ? i : { default: i }\r\n      t.exports = s.default.Model.extend({\r\n        build: function (t) {\r\n          var e = t.toJSON()\r\n          return (\r\n            this.beforeEach(e),\r\n            (0, r.each)(\r\n              e,\r\n              function (t, n) {\r\n                var i = e[n]\r\n                if (i instanceof s.default.Model) e[n] = this.build(i)\r\n                else if (i instanceof s.default.Collection) {\r\n                  var r = i\r\n                  ;(e[n] = []),\r\n                    r.length &&\r\n                      r.each(function (t, i) {\r\n                        e[n][i] = this.build(t)\r\n                      }, this)\r\n                }\r\n              },\r\n              this\r\n            ),\r\n            e\r\n          )\r\n        },\r\n        beforeEach: function (t) {\r\n          delete t.status\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(1),\r\n        o = n(0),\r\n        s = (i = o) && i.__esModule ? i : { default: i }\r\n      t.exports = s.default.Model.extend({\r\n        mapModel: function (t) {\r\n          var e = '',\r\n            n = t.get('script'),\r\n            i = t.get('type'),\r\n            o = t.get('components'),\r\n            s = t.getId()\r\n          if (n) {\r\n            var a = t.get('attributes')\r\n            ;(a = (0, r.extend)({}, a, { id: s })), t.set('attributes', a)\r\n            var l = t.getScriptString()\r\n            if (t.get('scriptUpdated')) this.mapJs[i + '-' + s] = { ids: [s], code: l }\r\n            else {\r\n              var c = this.mapJs[i]\r\n              c ? c.ids.push(s) : (this.mapJs[i] = { ids: [s], code: l })\r\n            }\r\n          }\r\n          return (\r\n            o.each(function (t) {\r\n              e += this.mapModel(t)\r\n            }, this),\r\n            e\r\n          )\r\n        },\r\n        build: function (t) {\r\n          ;(this.mapJs = {}), this.mapModel(t)\r\n          var e = ''\r\n          for (var n in this.mapJs) {\r\n            var i = this.mapJs[n]\r\n            e +=\r\n              \"\\n        var items = document.querySelectorAll('\" +\r\n              ('#' + i.ids.join(', #')) +\r\n              \"');\\n        for (var i = 0, len = items.length; i < len; i++) {\\n          (function(){\" +\r\n              i.code +\r\n              '}.bind(items[i]))();\\n        }'\r\n          }\r\n          return e\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        o = n(0),\r\n        s = (i = o) && i.__esModule ? i : { default: i }\r\n      var a = n(6)\r\n      n(148), n(61), n(151)\r\n      t.exports = s.default.Model.extend({\r\n        defaults: { input: '', label: '', codeName: '', theme: '', readOnly: !0, lineNumbers: !0 },\r\n        init: function (t) {\r\n          return (\r\n            (this.editor = a.fromTextArea(\r\n              t,\r\n              r({ dragDrop: !1, lineWrapping: !0, mode: this.get('codeName') }, this.attributes)\r\n            )),\r\n            (this.element = t),\r\n            this\r\n          )\r\n        },\r\n        getEditor: function () {\r\n          return this.editor\r\n        },\r\n        getElement: function () {\r\n          return this.element\r\n        },\r\n        setElement: function (t) {\r\n          return (this.element = t), this\r\n        },\r\n        refresh: function () {\r\n          return this.getEditor().refresh(), this\r\n        },\r\n        focus: function () {\r\n          return this.getEditor().focus(), this\r\n        },\r\n        getContent: function () {\r\n          var t = this.getEditor()\r\n          return t && t.getValue()\r\n        },\r\n        setContent: function (t) {\r\n          this.editor &&\r\n            (this.editor.setValue(t),\r\n            this.editor.autoFormatRange &&\r\n              (a.commands.selectAll(this.editor),\r\n              this.editor.autoFormatRange(this.editor.getCursor(!0), this.editor.getCursor(!1)),\r\n              a.commands.goDocStart(this.editor)))\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      !(function (t) {\r\n        'use strict'\r\n        var e = {\r\n            script: [\r\n              ['lang', /(javascript|babel)/i, 'javascript'],\r\n              ['type', /^(?:text|application)\\/(?:x-)?(?:java|ecma)script$|^module$|^$/i, 'javascript'],\r\n              ['type', /./, 'text/plain'],\r\n              [null, null, 'javascript']\r\n            ],\r\n            style: [\r\n              ['lang', /^css$/i, 'css'],\r\n              ['type', /^(text\\/)?(x-)?(stylesheet|css)$/i, 'css'],\r\n              ['type', /./, 'text/plain'],\r\n              [null, null, 'css']\r\n            ]\r\n          },\r\n          n = {}\r\n        function i (t, e) {\r\n          var i = t.match(\r\n            (function (t) {\r\n              var e = n[t]\r\n              return e || (n[t] = new RegExp('\\\\s+' + t + '\\\\s*=\\\\s*(\\'|\")?([^\\'\"]+)(\\'|\")?\\\\s*'))\r\n            })(e)\r\n          )\r\n          return i ? /^\\s*(.*?)\\s*$/.exec(i[2])[1] : ''\r\n        }\r\n        function r (t, e) {\r\n          return new RegExp((e ? '^' : '') + '</s*' + t + 's*>', 'i')\r\n        }\r\n        function o (t, e) {\r\n          for (var n in t) for (var i = e[n] || (e[n] = []), r = t[n], o = r.length - 1; o >= 0; o--) i.unshift(r[o])\r\n        }\r\n        t.defineMode(\r\n          'htmlmixed',\r\n          function (n, s) {\r\n            var a = t.getMode(n, {\r\n                name: 'xml',\r\n                htmlMode: !0,\r\n                multilineTagIndentFactor: s.multilineTagIndentFactor,\r\n                multilineTagIndentPastTag: s.multilineTagIndentPastTag\r\n              }),\r\n              l = {},\r\n              c = s && s.tags,\r\n              u = s && s.scriptTypes\r\n            if ((o(e, l), c && o(c, l), u))\r\n              for (var h = u.length - 1; h >= 0; h--) l.script.unshift(['type', u[h].matches, u[h].mode])\r\n            function d (e, o) {\r\n              var s,\r\n                c = a.token(e, o.htmlState),\r\n                u = /\\btag\\b/.test(c)\r\n              if (\r\n                u &&\r\n                !/[<>\\s\\/]/.test(e.current()) &&\r\n                (s = o.htmlState.tagName && o.htmlState.tagName.toLowerCase()) &&\r\n                l.hasOwnProperty(s)\r\n              )\r\n                o.inTag = s + ' '\r\n              else if (o.inTag && u && />$/.test(e.current())) {\r\n                var h = /^([\\S]+) (.*)/.exec(o.inTag)\r\n                o.inTag = null\r\n                var f =\r\n                    '>' == e.current() &&\r\n                    (function (t, e) {\r\n                      for (var n = 0; n < t.length; n++) {\r\n                        var r = t[n]\r\n                        if (!r[0] || r[1].test(i(e, r[0]))) return r[2]\r\n                      }\r\n                    })(l[h[1]], h[2]),\r\n                  p = t.getMode(n, f),\r\n                  g = r(h[1], !0),\r\n                  v = r(h[1], !1)\r\n                ;(o.token = function (t, e) {\r\n                  return t.match(g, !1)\r\n                    ? ((e.token = d), (e.localState = e.localMode = null), null)\r\n                    : (function (t, e, n) {\r\n                        var i = t.current(),\r\n                          r = i.search(e)\r\n                        return (\r\n                          r > -1\r\n                            ? t.backUp(i.length - r)\r\n                            : i.match(/<\\/?$/) && (t.backUp(i.length), t.match(e, !1) || t.match(i)),\r\n                          n\r\n                        )\r\n                      })(t, v, e.localMode.token(t, e.localState))\r\n                }),\r\n                  (o.localMode = p),\r\n                  (o.localState = t.startState(p, a.indent(o.htmlState, '')))\r\n              } else o.inTag && ((o.inTag += e.current()), e.eol() && (o.inTag += ' '))\r\n              return c\r\n            }\r\n            return {\r\n              startState: function () {\r\n                var e = t.startState(a)\r\n                return { token: d, inTag: null, localMode: null, localState: null, htmlState: e }\r\n              },\r\n              copyState: function (e) {\r\n                var n\r\n                return (\r\n                  e.localState && (n = t.copyState(e.localMode, e.localState)),\r\n                  {\r\n                    token: e.token,\r\n                    inTag: e.inTag,\r\n                    localMode: e.localMode,\r\n                    localState: n,\r\n                    htmlState: t.copyState(a, e.htmlState)\r\n                  }\r\n                )\r\n              },\r\n              token: function (t, e) {\r\n                return e.token(t, e)\r\n              },\r\n              indent: function (e, n, i) {\r\n                return !e.localMode || /^\\s*<\\//.test(n)\r\n                  ? a.indent(e.htmlState, n)\r\n                  : e.localMode.indent\r\n                  ? e.localMode.indent(e.localState, n, i)\r\n                  : t.Pass\r\n              },\r\n              innerMode: function (t) {\r\n                return { state: t.localState || t.htmlState, mode: t.localMode || a }\r\n              }\r\n            }\r\n          },\r\n          'xml',\r\n          'javascript',\r\n          'css'\r\n        ),\r\n          t.defineMIME('text/html', 'htmlmixed')\r\n      })(n(6), n(149), n(150), n(61))\r\n    },\r\n    function (t, e, n) {\r\n      !(function (t) {\r\n        'use strict'\r\n        var e = {\r\n            autoSelfClosers: {\r\n              area: !0,\r\n              base: !0,\r\n              br: !0,\r\n              col: !0,\r\n              command: !0,\r\n              embed: !0,\r\n              frame: !0,\r\n              hr: !0,\r\n              img: !0,\r\n              input: !0,\r\n              keygen: !0,\r\n              link: !0,\r\n              meta: !0,\r\n              param: !0,\r\n              source: !0,\r\n              track: !0,\r\n              wbr: !0,\r\n              menuitem: !0\r\n            },\r\n            implicitlyClosed: {\r\n              dd: !0,\r\n              li: !0,\r\n              optgroup: !0,\r\n              option: !0,\r\n              p: !0,\r\n              rp: !0,\r\n              rt: !0,\r\n              tbody: !0,\r\n              td: !0,\r\n              tfoot: !0,\r\n              th: !0,\r\n              tr: !0\r\n            },\r\n            contextGrabbers: {\r\n              dd: { dd: !0, dt: !0 },\r\n              dt: { dd: !0, dt: !0 },\r\n              li: { li: !0 },\r\n              option: { option: !0, optgroup: !0 },\r\n              optgroup: { optgroup: !0 },\r\n              p: {\r\n                address: !0,\r\n                article: !0,\r\n                aside: !0,\r\n                blockquote: !0,\r\n                dir: !0,\r\n                div: !0,\r\n                dl: !0,\r\n                fieldset: !0,\r\n                footer: !0,\r\n                form: !0,\r\n                h1: !0,\r\n                h2: !0,\r\n                h3: !0,\r\n                h4: !0,\r\n                h5: !0,\r\n                h6: !0,\r\n                header: !0,\r\n                hgroup: !0,\r\n                hr: !0,\r\n                menu: !0,\r\n                nav: !0,\r\n                ol: !0,\r\n                p: !0,\r\n                pre: !0,\r\n                section: !0,\r\n                table: !0,\r\n                ul: !0\r\n              },\r\n              rp: { rp: !0, rt: !0 },\r\n              rt: { rp: !0, rt: !0 },\r\n              tbody: { tbody: !0, tfoot: !0 },\r\n              td: { td: !0, th: !0 },\r\n              tfoot: { tbody: !0 },\r\n              th: { td: !0, th: !0 },\r\n              thead: { tbody: !0, tfoot: !0 },\r\n              tr: { tr: !0 }\r\n            },\r\n            doNotIndent: { pre: !0 },\r\n            allowUnquoted: !0,\r\n            allowMissing: !0,\r\n            caseFold: !0\r\n          },\r\n          n = {\r\n            autoSelfClosers: {},\r\n            implicitlyClosed: {},\r\n            contextGrabbers: {},\r\n            doNotIndent: {},\r\n            allowUnquoted: !1,\r\n            allowMissing: !1,\r\n            allowMissingTagName: !1,\r\n            caseFold: !1\r\n          }\r\n        t.defineMode('xml', function (i, r) {\r\n          var o,\r\n            s,\r\n            a = i.indentUnit,\r\n            l = {},\r\n            c = r.htmlMode ? e : n\r\n          for (var u in c) l[u] = c[u]\r\n          for (var u in r) l[u] = r[u]\r\n          function h (t, e) {\r\n            function n (n) {\r\n              return (e.tokenize = n), n(t, e)\r\n            }\r\n            var i = t.next()\r\n            return '<' == i\r\n              ? t.eat('!')\r\n                ? t.eat('[')\r\n                  ? t.match('CDATA[')\r\n                    ? n(f('atom', ']]>'))\r\n                    : null\r\n                  : t.match('--')\r\n                  ? n(f('comment', '--\\x3e'))\r\n                  : t.match('DOCTYPE', !0, !0)\r\n                  ? (t.eatWhile(/[\\w\\._\\-]/),\r\n                    n(\r\n                      (function t (e) {\r\n                        return function (n, i) {\r\n                          for (var r; null != (r = n.next()); ) {\r\n                            if ('<' == r) return (i.tokenize = t(e + 1)), i.tokenize(n, i)\r\n                            if ('>' == r) {\r\n                              if (1 == e) {\r\n                                i.tokenize = h\r\n                                break\r\n                              }\r\n                              return (i.tokenize = t(e - 1)), i.tokenize(n, i)\r\n                            }\r\n                          }\r\n                          return 'meta'\r\n                        }\r\n                      })(1)\r\n                    ))\r\n                  : null\r\n                : t.eat('?')\r\n                ? (t.eatWhile(/[\\w\\._\\-]/), (e.tokenize = f('meta', '?>')), 'meta')\r\n                : ((o = t.eat('/') ? 'closeTag' : 'openTag'), (e.tokenize = d), 'tag bracket')\r\n              : '&' == i\r\n              ? (t.eat('#')\r\n                ? t.eat('x')\r\n                  ? t.eatWhile(/[a-fA-F\\d]/) && t.eat(';')\r\n                  : t.eatWhile(/[\\d]/) && t.eat(';')\r\n                : t.eatWhile(/[\\w\\.\\-:]/) && t.eat(';'))\r\n                ? 'atom'\r\n                : 'error'\r\n              : (t.eatWhile(/[^&<]/), null)\r\n          }\r\n          function d (t, e) {\r\n            var n,\r\n              i,\r\n              r = t.next()\r\n            if ('>' == r || ('/' == r && t.eat('>')))\r\n              return (e.tokenize = h), (o = '>' == r ? 'endTag' : 'selfcloseTag'), 'tag bracket'\r\n            if ('=' == r) return (o = 'equals'), null\r\n            if ('<' == r) {\r\n              ;(e.tokenize = h), (e.state = m), (e.tagName = e.tagStart = null)\r\n              var s = e.tokenize(t, e)\r\n              return s ? s + ' tag error' : 'tag error'\r\n            }\r\n            return /[\\'\\\"]/.test(r)\r\n              ? ((e.tokenize = ((n = r),\r\n                ((i = function (t, e) {\r\n                  for (; !t.eol(); )\r\n                    if (t.next() == n) {\r\n                      e.tokenize = d\r\n                      break\r\n                    }\r\n                  return 'string'\r\n                }).isInAttribute = !0),\r\n                i)),\r\n                (e.stringStartCol = t.column()),\r\n                e.tokenize(t, e))\r\n              : (t.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/), 'word')\r\n          }\r\n          function f (t, e) {\r\n            return function (n, i) {\r\n              for (; !n.eol(); ) {\r\n                if (n.match(e)) {\r\n                  i.tokenize = h\r\n                  break\r\n                }\r\n                n.next()\r\n              }\r\n              return t\r\n            }\r\n          }\r\n          function p (t, e, n) {\r\n            ;(this.prev = t.context),\r\n              (this.tagName = e),\r\n              (this.indent = t.indented),\r\n              (this.startOfLine = n),\r\n              (l.doNotIndent.hasOwnProperty(e) || (t.context && t.context.noIndent)) && (this.noIndent = !0)\r\n          }\r\n          function g (t) {\r\n            t.context && (t.context = t.context.prev)\r\n          }\r\n          function v (t, e) {\r\n            for (var n; ; ) {\r\n              if (!t.context) return\r\n              if (\r\n                ((n = t.context.tagName),\r\n                !l.contextGrabbers.hasOwnProperty(n) || !l.contextGrabbers[n].hasOwnProperty(e))\r\n              )\r\n                return\r\n              g(t)\r\n            }\r\n          }\r\n          function m (t, e, n) {\r\n            return 'openTag' == t ? ((n.tagStart = e.column()), y) : 'closeTag' == t ? b : m\r\n          }\r\n          function y (t, e, n) {\r\n            return 'word' == t\r\n              ? ((n.tagName = e.current()), (s = 'tag'), C)\r\n              : l.allowMissingTagName && 'endTag' == t\r\n              ? ((s = 'tag bracket'), C(t, 0, n))\r\n              : ((s = 'error'), y)\r\n          }\r\n          function b (t, e, n) {\r\n            if ('word' == t) {\r\n              var i = e.current()\r\n              return (\r\n                n.context && n.context.tagName != i && l.implicitlyClosed.hasOwnProperty(n.context.tagName) && g(n),\r\n                (n.context && n.context.tagName == i) || !1 === l.matchClosing\r\n                  ? ((s = 'tag'), x)\r\n                  : ((s = 'tag error'), w)\r\n              )\r\n            }\r\n            return l.allowMissingTagName && 'endTag' == t ? ((s = 'tag bracket'), x(t, 0, n)) : ((s = 'error'), w)\r\n          }\r\n          function x (t, e, n) {\r\n            return 'endTag' != t ? ((s = 'error'), x) : (g(n), m)\r\n          }\r\n          function w (t, e, n) {\r\n            return (s = 'error'), x(t, 0, n)\r\n          }\r\n          function C (t, e, n) {\r\n            if ('word' == t) return (s = 'attribute'), k\r\n            if ('endTag' == t || 'selfcloseTag' == t) {\r\n              var i = n.tagName,\r\n                r = n.tagStart\r\n              return (\r\n                (n.tagName = n.tagStart = null),\r\n                'selfcloseTag' == t || l.autoSelfClosers.hasOwnProperty(i)\r\n                  ? v(n, i)\r\n                  : (v(n, i), (n.context = new p(n, i, r == n.indented))),\r\n                m\r\n              )\r\n            }\r\n            return (s = 'error'), C\r\n          }\r\n          function k (t, e, n) {\r\n            return 'equals' == t ? S : (l.allowMissing || (s = 'error'), C(t, 0, n))\r\n          }\r\n          function S (t, e, n) {\r\n            return 'string' == t\r\n              ? T\r\n              : 'word' == t && l.allowUnquoted\r\n              ? ((s = 'string'), C)\r\n              : ((s = 'error'), C(t, 0, n))\r\n          }\r\n          function T (t, e, n) {\r\n            return 'string' == t ? T : C(t, 0, n)\r\n          }\r\n          return (\r\n            (h.isInText = !0),\r\n            {\r\n              startState: function (t) {\r\n                var e = { tokenize: h, state: m, indented: t || 0, tagName: null, tagStart: null, context: null }\r\n                return null != t && (e.baseIndent = t), e\r\n              },\r\n              token: function (t, e) {\r\n                if ((!e.tagName && t.sol() && (e.indented = t.indentation()), t.eatSpace())) return null\r\n                o = null\r\n                var n = e.tokenize(t, e)\r\n                return (\r\n                  (n || o) &&\r\n                    'comment' != n &&\r\n                    ((s = null), (e.state = e.state(o || n, t, e)), s && (n = 'error' == s ? n + ' error' : s)),\r\n                  n\r\n                )\r\n              },\r\n              indent: function (e, n, i) {\r\n                var r = e.context\r\n                if (e.tokenize.isInAttribute) return e.tagStart == e.indented ? e.stringStartCol + 1 : e.indented + a\r\n                if (r && r.noIndent) return t.Pass\r\n                if (e.tokenize != d && e.tokenize != h) return i ? i.match(/^(\\s*)/)[0].length : 0\r\n                if (e.tagName)\r\n                  return !1 !== l.multilineTagIndentPastTag\r\n                    ? e.tagStart + e.tagName.length + 2\r\n                    : e.tagStart + a * (l.multilineTagIndentFactor || 1)\r\n                if (l.alignCDATA && /<!\\[CDATA\\[/.test(n)) return 0\r\n                var o = n && /^<(\\/)?([\\w_:\\.-]*)/.exec(n)\r\n                if (o && o[1])\r\n                  for (; r; ) {\r\n                    if (r.tagName == o[2]) {\r\n                      r = r.prev\r\n                      break\r\n                    }\r\n                    if (!l.implicitlyClosed.hasOwnProperty(r.tagName)) break\r\n                    r = r.prev\r\n                  }\r\n                else if (o)\r\n                  for (; r; ) {\r\n                    var s = l.contextGrabbers[r.tagName]\r\n                    if (!s || !s.hasOwnProperty(o[2])) break\r\n                    r = r.prev\r\n                  }\r\n                for (; r && r.prev && !r.startOfLine; ) r = r.prev\r\n                return r ? r.indent + a : e.baseIndent || 0\r\n              },\r\n              electricInput: /<\\/[\\s\\w:]+>$/,\r\n              blockCommentStart: '\\x3c!--',\r\n              blockCommentEnd: '--\\x3e',\r\n              configuration: l.htmlMode ? 'html' : 'xml',\r\n              helperType: l.htmlMode ? 'html' : 'xml',\r\n              skipAttribute: function (t) {\r\n                t.state == S && (t.state = C)\r\n              }\r\n            }\r\n          )\r\n        }),\r\n          t.defineMIME('text/xml', 'xml'),\r\n          t.defineMIME('application/xml', 'xml'),\r\n          t.mimeModes.hasOwnProperty('text/html') || t.defineMIME('text/html', { name: 'xml', htmlMode: !0 })\r\n      })(n(6))\r\n    },\r\n    function (t, e, n) {\r\n      !(function (t) {\r\n        'use strict'\r\n        t.defineMode('javascript', function (e, n) {\r\n          var i,\r\n            r,\r\n            o = e.indentUnit,\r\n            s = n.statementIndent,\r\n            a = n.jsonld,\r\n            l = n.json || a,\r\n            c = n.typescript,\r\n            u = n.wordCharacters || /[\\w$\\xa1-\\uffff]/,\r\n            h = (function () {\r\n              function t (t) {\r\n                return { type: t, style: 'keyword' }\r\n              }\r\n              var e = t('keyword a'),\r\n                n = t('keyword b'),\r\n                i = t('keyword c'),\r\n                r = t('keyword d'),\r\n                o = t('operator'),\r\n                s = { type: 'atom', style: 'atom' }\r\n              return {\r\n                if: t('if'),\r\n                while: e,\r\n                with: e,\r\n                else: n,\r\n                do: n,\r\n                try: n,\r\n                finally: n,\r\n                return: r,\r\n                break: r,\r\n                continue: r,\r\n                new: t('new'),\r\n                delete: i,\r\n                void: i,\r\n                throw: i,\r\n                debugger: t('debugger'),\r\n                var: t('var'),\r\n                const: t('var'),\r\n                let: t('var'),\r\n                function: t('function'),\r\n                catch: t('catch'),\r\n                for: t('for'),\r\n                switch: t('switch'),\r\n                case: t('case'),\r\n                default: t('default'),\r\n                in: o,\r\n                typeof: o,\r\n                instanceof: o,\r\n                true: s,\r\n                false: s,\r\n                null: s,\r\n                undefined: s,\r\n                NaN: s,\r\n                Infinity: s,\r\n                this: t('this'),\r\n                class: t('class'),\r\n                super: t('atom'),\r\n                yield: i,\r\n                export: t('export'),\r\n                import: t('import'),\r\n                extends: i,\r\n                await: i\r\n              }\r\n            })(),\r\n            d = /[+\\-*&%=<>!?|~^@]/,\r\n            f = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/\r\n          function p (t, e, n) {\r\n            return (i = t), (r = n), e\r\n          }\r\n          function g (t, e) {\r\n            var n,\r\n              i = t.next()\r\n            if ('\"' == i || \"'\" == i)\r\n              return (\r\n                (e.tokenize = ((n = i),\r\n                function (t, e) {\r\n                  var i,\r\n                    r = !1\r\n                  if (a && '@' == t.peek() && t.match(f)) return (e.tokenize = g), p('jsonld-keyword', 'meta')\r\n                  for (; null != (i = t.next()) && (i != n || r); ) r = !r && '\\\\' == i\r\n                  return r || (e.tokenize = g), p('string', 'string')\r\n                })),\r\n                e.tokenize(t, e)\r\n              )\r\n            if ('.' == i && t.match(/^\\d+(?:[eE][+\\-]?\\d+)?/)) return p('number', 'number')\r\n            if ('.' == i && t.match('..')) return p('spread', 'meta')\r\n            if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(i)) return p(i)\r\n            if ('=' == i && t.eat('>')) return p('=>', 'operator')\r\n            if ('0' == i && t.match(/^(?:x[\\da-f]+|o[0-7]+|b[01]+)n?/i)) return p('number', 'number')\r\n            if (/\\d/.test(i)) return t.match(/^\\d*(?:n|(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)?/), p('number', 'number')\r\n            if ('/' == i)\r\n              return t.eat('*')\r\n                ? ((e.tokenize = v), v(t, e))\r\n                : t.eat('/')\r\n                ? (t.skipToEnd(), p('comment', 'comment'))\r\n                : Kt(t, e, 1)\r\n                ? ((function (t) {\r\n                    for (var e, n = !1, i = !1; null != (e = t.next()); ) {\r\n                      if (!n) {\r\n                        if ('/' == e && !i) return\r\n                        '[' == e ? (i = !0) : i && ']' == e && (i = !1)\r\n                      }\r\n                      n = !n && '\\\\' == e\r\n                    }\r\n                  })(t),\r\n                  t.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/),\r\n                  p('regexp', 'string-2'))\r\n                : (t.eat('='), p('operator', 'operator', t.current()))\r\n            if ('`' == i) return (e.tokenize = m), m(t, e)\r\n            if ('#' == i) return t.skipToEnd(), p('error', 'error')\r\n            if (d.test(i))\r\n              return (\r\n                ('>' == i && e.lexical && '>' == e.lexical.type) ||\r\n                  (t.eat('=')\r\n                    ? ('!' != i && '=' != i) || t.eat('=')\r\n                    : /[<>*+\\-]/.test(i) && (t.eat(i), '>' == i && t.eat(i))),\r\n                p('operator', 'operator', t.current())\r\n              )\r\n            if (u.test(i)) {\r\n              t.eatWhile(u)\r\n              var r = t.current()\r\n              if ('.' != e.lastType) {\r\n                if (h.propertyIsEnumerable(r)) {\r\n                  var o = h[r]\r\n                  return p(o.type, o.style, r)\r\n                }\r\n                if ('async' == r && t.match(/^(\\s|\\/\\*.*?\\*\\/)*[\\[\\(\\w]/, !1)) return p('async', 'keyword', r)\r\n              }\r\n              return p('variable', 'variable', r)\r\n            }\r\n          }\r\n          function v (t, e) {\r\n            for (var n, i = !1; (n = t.next()); ) {\r\n              if ('/' == n && i) {\r\n                e.tokenize = g\r\n                break\r\n              }\r\n              i = '*' == n\r\n            }\r\n            return p('comment', 'comment')\r\n          }\r\n          function m (t, e) {\r\n            for (var n, i = !1; null != (n = t.next()); ) {\r\n              if (!i && ('`' == n || ('$' == n && t.eat('{')))) {\r\n                e.tokenize = g\r\n                break\r\n              }\r\n              i = !i && '\\\\' == n\r\n            }\r\n            return p('quasi', 'string-2', t.current())\r\n          }\r\n          var y = '([{}])'\r\n          function b (t, e) {\r\n            e.fatArrowAt && (e.fatArrowAt = null)\r\n            var n = t.string.indexOf('=>', t.start)\r\n            if (!(n < 0)) {\r\n              if (c) {\r\n                var i = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(t.string.slice(t.start, n))\r\n                i && (n = i.index)\r\n              }\r\n              for (var r = 0, o = !1, s = n - 1; s >= 0; --s) {\r\n                var a = t.string.charAt(s),\r\n                  l = y.indexOf(a)\r\n                if (l >= 0 && l < 3) {\r\n                  if (!r) {\r\n                    ++s\r\n                    break\r\n                  }\r\n                  if (0 == --r) {\r\n                    '(' == a && (o = !0)\r\n                    break\r\n                  }\r\n                } else if (l >= 3 && l < 6) ++r\r\n                else if (u.test(a)) o = !0\r\n                else {\r\n                  if (/[\"'\\/]/.test(a)) return\r\n                  if (o && !r) {\r\n                    ++s\r\n                    break\r\n                  }\r\n                }\r\n              }\r\n              o && !r && (e.fatArrowAt = s)\r\n            }\r\n          }\r\n          var x = { atom: !0, number: !0, variable: !0, string: !0, regexp: !0, this: !0, 'jsonld-keyword': !0 }\r\n          function w (t, e, n, i, r, o) {\r\n            ;(this.indented = t),\r\n              (this.column = e),\r\n              (this.type = n),\r\n              (this.prev = r),\r\n              (this.info = o),\r\n              null != i && (this.align = i)\r\n          }\r\n          function C (t, e) {\r\n            for (var n = t.localVars; n; n = n.next) if (n.name == e) return !0\r\n            for (var i = t.context; i; i = i.prev) for (var n = i.vars; n; n = n.next) if (n.name == e) return !0\r\n          }\r\n          var k = { state: null, column: null, marked: null, cc: null }\r\n          function S () {\r\n            for (var t = arguments.length - 1; t >= 0; t--) k.cc.push(arguments[t])\r\n          }\r\n          function T () {\r\n            return S.apply(null, arguments), !0\r\n          }\r\n          function E (t, e) {\r\n            for (var n = e; n; n = n.next) if (n.name == t) return !0\r\n            return !1\r\n          }\r\n          function M (t) {\r\n            var e = k.state\r\n            if (((k.marked = 'def'), e.context))\r\n              if ('var' == e.lexical.info && e.context && e.context.block) {\r\n                var i = (function t (e, n) {\r\n                  if (n) {\r\n                    if (n.block) {\r\n                      var i = t(e, n.prev)\r\n                      return i ? (i == n.prev ? n : new O(i, n.vars, !0)) : null\r\n                    }\r\n                    return E(e, n.vars) ? n : new O(n.prev, new P(e, n.vars), !1)\r\n                  }\r\n                  return null\r\n                })(t, e.context)\r\n                if (null != i) return void (e.context = i)\r\n              } else if (!E(t, e.localVars)) return void (e.localVars = new P(t, e.localVars))\r\n            n.globalVars && !E(t, e.globalVars) && (e.globalVars = new P(t, e.globalVars))\r\n          }\r\n          function A (t) {\r\n            return 'public' == t || 'private' == t || 'protected' == t || 'abstract' == t || 'readonly' == t\r\n          }\r\n          function O (t, e, n) {\r\n            ;(this.prev = t), (this.vars = e), (this.block = n)\r\n          }\r\n          function P (t, e) {\r\n            ;(this.name = t), (this.next = e)\r\n          }\r\n          var L = new P('this', new P('arguments', null))\r\n          function _ () {\r\n            ;(k.state.context = new O(k.state.context, k.state.localVars, !1)), (k.state.localVars = L)\r\n          }\r\n          function N () {\r\n            ;(k.state.context = new O(k.state.context, k.state.localVars, !0)), (k.state.localVars = null)\r\n          }\r\n          function D () {\r\n            ;(k.state.localVars = k.state.context.vars), (k.state.context = k.state.context.prev)\r\n          }\r\n          function I (t, e) {\r\n            var n = function () {\r\n              var n = k.state,\r\n                i = n.indented\r\n              if ('stat' == n.lexical.type) i = n.lexical.indented\r\n              else for (var r = n.lexical; r && ')' == r.type && r.align; r = r.prev) i = r.indented\r\n              n.lexical = new w(i, k.stream.column(), t, null, n.lexical, e)\r\n            }\r\n            return (n.lex = !0), n\r\n          }\r\n          function F () {\r\n            var t = k.state\r\n            t.lexical.prev && (')' == t.lexical.type && (t.indented = t.lexical.indented), (t.lexical = t.lexical.prev))\r\n          }\r\n          function j (t) {\r\n            return function e (n) {\r\n              return n == t ? T() : ';' == t || '}' == n || ')' == n || ']' == n ? S() : T(e)\r\n            }\r\n          }\r\n          function R (t, e) {\r\n            return 'var' == t\r\n              ? T(I('vardef', e), yt, j(';'), F)\r\n              : 'keyword a' == t\r\n              ? T(I('form'), $, R, F)\r\n              : 'keyword b' == t\r\n              ? T(I('form'), R, F)\r\n              : 'keyword d' == t\r\n              ? k.stream.match(/^\\s*$/, !1)\r\n                ? T()\r\n                : T(I('stat'), W, j(';'), F)\r\n              : 'debugger' == t\r\n              ? T(j(';'))\r\n              : '{' == t\r\n              ? T(I('}'), N, st, F, D)\r\n              : ';' == t\r\n              ? T()\r\n              : 'if' == t\r\n              ? ('else' == k.state.lexical.info && k.state.cc[k.state.cc.length - 1] == F && k.state.cc.pop()(),\r\n                T(I('form'), $, R, F, St))\r\n              : 'function' == t\r\n              ? T(Pt)\r\n              : 'for' == t\r\n              ? T(I('form'), Tt, R, F)\r\n              : 'class' == t || (c && 'interface' == e)\r\n              ? ((k.marked = 'keyword'), T(I('form'), Nt, F))\r\n              : 'variable' == t\r\n              ? c && 'declare' == e\r\n                ? ((k.marked = 'keyword'), T(R))\r\n                : c && ('module' == e || 'enum' == e || 'type' == e) && k.stream.match(/^\\s*\\w/, !1)\r\n                ? ((k.marked = 'keyword'),\r\n                  'enum' == e\r\n                    ? T(Ut)\r\n                    : 'type' == e\r\n                    ? T(ut, j('operator'), ut, j(';'))\r\n                    : T(I('form'), bt, j('{'), I('}'), st, F, F))\r\n                : c && 'namespace' == e\r\n                ? ((k.marked = 'keyword'), T(I('form'), V, st, F))\r\n                : c && 'abstract' == e\r\n                ? ((k.marked = 'keyword'), T(R))\r\n                : T(I('stat'), Q)\r\n              : 'switch' == t\r\n              ? T(I('form'), $, j('{'), I('}', 'switch'), N, st, F, F, D)\r\n              : 'case' == t\r\n              ? T(V, j(':'))\r\n              : 'default' == t\r\n              ? T(j(':'))\r\n              : 'catch' == t\r\n              ? T(I('form'), _, z, R, F, D)\r\n              : 'export' == t\r\n              ? T(I('stat'), jt, F)\r\n              : 'import' == t\r\n              ? T(I('stat'), zt, F)\r\n              : 'async' == t\r\n              ? T(R)\r\n              : '@' == e\r\n              ? T(V, R)\r\n              : S(I('stat'), V, j(';'), F)\r\n          }\r\n          function z (t) {\r\n            if ('(' == t) return T(Lt, j(')'))\r\n          }\r\n          function V (t, e) {\r\n            return B(t, e, !1)\r\n          }\r\n          function H (t, e) {\r\n            return B(t, e, !0)\r\n          }\r\n          function $ (t) {\r\n            return '(' != t ? S() : T(I(')'), V, j(')'), F)\r\n          }\r\n          function B (t, e, n) {\r\n            if (k.state.fatArrowAt == k.stream.start) {\r\n              var i = n ? X : G\r\n              if ('(' == t) return T(_, I(')'), rt(Lt, ')'), F, j('=>'), i, D)\r\n              if ('variable' == t) return S(_, bt, j('=>'), i, D)\r\n            }\r\n            var r = n ? q : U\r\n            return x.hasOwnProperty(t)\r\n              ? T(r)\r\n              : 'function' == t\r\n              ? T(Pt, r)\r\n              : 'class' == t || (c && 'interface' == e)\r\n              ? ((k.marked = 'keyword'), T(I('form'), _t, F))\r\n              : 'keyword c' == t || 'async' == t\r\n              ? T(n ? H : V)\r\n              : '(' == t\r\n              ? T(I(')'), W, j(')'), F, r)\r\n              : 'operator' == t || 'spread' == t\r\n              ? T(n ? H : V)\r\n              : '[' == t\r\n              ? T(I(']'), Wt, F, r)\r\n              : '{' == t\r\n              ? ot(et, '}', null, r)\r\n              : 'quasi' == t\r\n              ? S(K, r)\r\n              : 'new' == t\r\n              ? T(\r\n                  (function (t) {\r\n                    return function (e) {\r\n                      return '.' == e ? T(t ? Z : J) : 'variable' == e && c ? T(gt, t ? q : U) : S(t ? H : V)\r\n                    }\r\n                  })(n)\r\n                )\r\n              : 'import' == t\r\n              ? T(V)\r\n              : T()\r\n          }\r\n          function W (t) {\r\n            return t.match(/[;\\}\\)\\],]/) ? S() : S(V)\r\n          }\r\n          function U (t, e) {\r\n            return ',' == t ? T(V) : q(t, e, !1)\r\n          }\r\n          function q (t, e, n) {\r\n            var i = 0 == n ? U : q,\r\n              r = 0 == n ? V : H\r\n            return '=>' == t\r\n              ? T(_, n ? X : G, D)\r\n              : 'operator' == t\r\n              ? /\\+\\+|--/.test(e) || (c && '!' == e)\r\n                ? T(i)\r\n                : c && '<' == e && k.stream.match(/^([^>]|<.*?>)*>\\s*\\(/, !1)\r\n                ? T(I('>'), rt(ut, '>'), F, i)\r\n                : '?' == e\r\n                ? T(V, j(':'), r)\r\n                : T(r)\r\n              : 'quasi' == t\r\n              ? S(K, i)\r\n              : ';' != t\r\n              ? '(' == t\r\n                ? ot(H, ')', 'call', i)\r\n                : '.' == t\r\n                ? T(tt, i)\r\n                : '[' == t\r\n                ? T(I(']'), W, j(']'), F, i)\r\n                : c && 'as' == e\r\n                ? ((k.marked = 'keyword'), T(ut, i))\r\n                : 'regexp' == t\r\n                ? ((k.state.lastType = k.marked = 'operator'), k.stream.backUp(k.stream.pos - k.stream.start - 1), T(r))\r\n                : void 0\r\n              : void 0\r\n          }\r\n          function K (t, e) {\r\n            return 'quasi' != t ? S() : '${' != e.slice(e.length - 2) ? T(K) : T(V, Y)\r\n          }\r\n          function Y (t) {\r\n            if ('}' == t) return (k.marked = 'string-2'), (k.state.tokenize = m), T(K)\r\n          }\r\n          function G (t) {\r\n            return b(k.stream, k.state), S('{' == t ? R : V)\r\n          }\r\n          function X (t) {\r\n            return b(k.stream, k.state), S('{' == t ? R : H)\r\n          }\r\n          function J (t, e) {\r\n            if ('target' == e) return (k.marked = 'keyword'), T(U)\r\n          }\r\n          function Z (t, e) {\r\n            if ('target' == e) return (k.marked = 'keyword'), T(q)\r\n          }\r\n          function Q (t) {\r\n            return ':' == t ? T(F, R) : S(U, j(';'), F)\r\n          }\r\n          function tt (t) {\r\n            if ('variable' == t) return (k.marked = 'property'), T()\r\n          }\r\n          function et (t, e) {\r\n            return 'async' == t\r\n              ? ((k.marked = 'property'), T(et))\r\n              : 'variable' == t || 'keyword' == k.style\r\n              ? ((k.marked = 'property'),\r\n                'get' == e || 'set' == e\r\n                  ? T(nt)\r\n                  : (c &&\r\n                      k.state.fatArrowAt == k.stream.start &&\r\n                      (n = k.stream.match(/^\\s*:\\s*/, !1)) &&\r\n                      (k.state.fatArrowAt = k.stream.pos + n[0].length),\r\n                    T(it)))\r\n              : 'number' == t || 'string' == t\r\n              ? ((k.marked = a ? 'property' : k.style + ' property'), T(it))\r\n              : 'jsonld-keyword' == t\r\n              ? T(it)\r\n              : c && A(e)\r\n              ? ((k.marked = 'keyword'), T(et))\r\n              : '[' == t\r\n              ? T(V, at, j(']'), it)\r\n              : 'spread' == t\r\n              ? T(H, it)\r\n              : '*' == e\r\n              ? ((k.marked = 'keyword'), T(et))\r\n              : ':' == t\r\n              ? S(it)\r\n              : void 0\r\n            var n\r\n          }\r\n          function nt (t) {\r\n            return 'variable' != t ? S(it) : ((k.marked = 'property'), T(Pt))\r\n          }\r\n          function it (t) {\r\n            return ':' == t ? T(H) : '(' == t ? S(Pt) : void 0\r\n          }\r\n          function rt (t, e, n) {\r\n            function i (r, o) {\r\n              if (n ? n.indexOf(r) > -1 : ',' == r) {\r\n                var s = k.state.lexical\r\n                return (\r\n                  'call' == s.info && (s.pos = (s.pos || 0) + 1),\r\n                  T(function (n, i) {\r\n                    return n == e || i == e ? S() : S(t)\r\n                  }, i)\r\n                )\r\n              }\r\n              return r == e || o == e ? T() : T(j(e))\r\n            }\r\n            return function (n, r) {\r\n              return n == e || r == e ? T() : S(t, i)\r\n            }\r\n          }\r\n          function ot (t, e, n) {\r\n            for (var i = 3; i < arguments.length; i++) k.cc.push(arguments[i])\r\n            return T(I(e, n), rt(t, e), F)\r\n          }\r\n          function st (t) {\r\n            return '}' == t ? T() : S(R, st)\r\n          }\r\n          function at (t, e) {\r\n            if (c) {\r\n              if (':' == t) return T(ut)\r\n              if ('?' == e) return T(at)\r\n            }\r\n          }\r\n          function lt (t) {\r\n            if (c && ':' == t) return k.stream.match(/^\\s*\\w+\\s+is\\b/, !1) ? T(V, ct, ut) : T(ut)\r\n          }\r\n          function ct (t, e) {\r\n            if ('is' == e) return (k.marked = 'keyword'), T()\r\n          }\r\n          function ut (t, e) {\r\n            return 'keyof' == e || 'typeof' == e\r\n              ? ((k.marked = 'keyword'), T('keyof' == e ? ut : H))\r\n              : 'variable' == t || 'void' == e\r\n              ? ((k.marked = 'type'), T(pt))\r\n              : 'string' == t || 'number' == t || 'atom' == t\r\n              ? T(pt)\r\n              : '[' == t\r\n              ? T(I(']'), rt(ut, ']', ','), F, pt)\r\n              : '{' == t\r\n              ? T(I('}'), rt(dt, '}', ',;'), F, pt)\r\n              : '(' == t\r\n              ? T(rt(ft, ')'), ht)\r\n              : '<' == t\r\n              ? T(rt(ut, '>'), ut)\r\n              : void 0\r\n          }\r\n          function ht (t) {\r\n            if ('=>' == t) return T(ut)\r\n          }\r\n          function dt (t, e) {\r\n            return 'variable' == t || 'keyword' == k.style\r\n              ? ((k.marked = 'property'), T(dt))\r\n              : '?' == e\r\n              ? T(dt)\r\n              : ':' == t\r\n              ? T(ut)\r\n              : '[' == t\r\n              ? T(V, at, j(']'), dt)\r\n              : void 0\r\n          }\r\n          function ft (t, e) {\r\n            return ('variable' == t && k.stream.match(/^\\s*[?:]/, !1)) || '?' == e ? T(ft) : ':' == t ? T(ut) : S(ut)\r\n          }\r\n          function pt (t, e) {\r\n            return '<' == e\r\n              ? T(I('>'), rt(ut, '>'), F, pt)\r\n              : '|' == e || '.' == t || '&' == e\r\n              ? T(ut)\r\n              : '[' == t\r\n              ? T(j(']'), pt)\r\n              : 'extends' == e || 'implements' == e\r\n              ? ((k.marked = 'keyword'), T(ut))\r\n              : void 0\r\n          }\r\n          function gt (t, e) {\r\n            if ('<' == e) return T(I('>'), rt(ut, '>'), F, pt)\r\n          }\r\n          function vt () {\r\n            return S(ut, mt)\r\n          }\r\n          function mt (t, e) {\r\n            if ('=' == e) return T(ut)\r\n          }\r\n          function yt (t, e) {\r\n            return 'enum' == e ? ((k.marked = 'keyword'), T(Ut)) : S(bt, at, Ct, kt)\r\n          }\r\n          function bt (t, e) {\r\n            return c && A(e)\r\n              ? ((k.marked = 'keyword'), T(bt))\r\n              : 'variable' == t\r\n              ? (M(e), T())\r\n              : 'spread' == t\r\n              ? T(bt)\r\n              : '[' == t\r\n              ? ot(wt, ']')\r\n              : '{' == t\r\n              ? ot(xt, '}')\r\n              : void 0\r\n          }\r\n          function xt (t, e) {\r\n            return 'variable' != t || k.stream.match(/^\\s*:/, !1)\r\n              ? ('variable' == t && (k.marked = 'property'),\r\n                'spread' == t ? T(bt) : '}' == t ? S() : '[' == t ? T(V, j(']'), j(':'), xt) : T(j(':'), bt, Ct))\r\n              : (M(e), T(Ct))\r\n          }\r\n          function wt () {\r\n            return S(bt, Ct)\r\n          }\r\n          function Ct (t, e) {\r\n            if ('=' == e) return T(H)\r\n          }\r\n          function kt (t) {\r\n            if (',' == t) return T(yt)\r\n          }\r\n          function St (t, e) {\r\n            if ('keyword b' == t && 'else' == e) return T(I('form', 'else'), R, F)\r\n          }\r\n          function Tt (t, e) {\r\n            return 'await' == e ? T(Tt) : '(' == t ? T(I(')'), Et, j(')'), F) : void 0\r\n          }\r\n          function Et (t) {\r\n            return 'var' == t ? T(yt, j(';'), At) : ';' == t ? T(At) : 'variable' == t ? T(Mt) : S(V, j(';'), At)\r\n          }\r\n          function Mt (t, e) {\r\n            return 'in' == e || 'of' == e ? ((k.marked = 'keyword'), T(V)) : T(U, At)\r\n          }\r\n          function At (t, e) {\r\n            return ';' == t ? T(Ot) : 'in' == e || 'of' == e ? ((k.marked = 'keyword'), T(V)) : S(V, j(';'), Ot)\r\n          }\r\n          function Ot (t) {\r\n            ')' != t && T(V)\r\n          }\r\n          function Pt (t, e) {\r\n            return '*' == e\r\n              ? ((k.marked = 'keyword'), T(Pt))\r\n              : 'variable' == t\r\n              ? (M(e), T(Pt))\r\n              : '(' == t\r\n              ? T(_, I(')'), rt(Lt, ')'), F, lt, R, D)\r\n              : c && '<' == e\r\n              ? T(I('>'), rt(vt, '>'), F, Pt)\r\n              : void 0\r\n          }\r\n          function Lt (t, e) {\r\n            return (\r\n              '@' == e && T(V, Lt), 'spread' == t ? T(Lt) : c && A(e) ? ((k.marked = 'keyword'), T(Lt)) : S(bt, at, Ct)\r\n            )\r\n          }\r\n          function _t (t, e) {\r\n            return 'variable' == t ? Nt(t, e) : Dt(t, e)\r\n          }\r\n          function Nt (t, e) {\r\n            if ('variable' == t) return M(e), T(Dt)\r\n          }\r\n          function Dt (t, e) {\r\n            return '<' == e\r\n              ? T(I('>'), rt(vt, '>'), F, Dt)\r\n              : 'extends' == e || 'implements' == e || (c && ',' == t)\r\n              ? ('implements' == e && (k.marked = 'keyword'), T(c ? ut : V, Dt))\r\n              : '{' == t\r\n              ? T(I('}'), It, F)\r\n              : void 0\r\n          }\r\n          function It (t, e) {\r\n            return 'async' == t ||\r\n              ('variable' == t &&\r\n                ('static' == e || 'get' == e || 'set' == e || (c && A(e))) &&\r\n                k.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/, !1))\r\n              ? ((k.marked = 'keyword'), T(It))\r\n              : 'variable' == t || 'keyword' == k.style\r\n              ? ((k.marked = 'property'), T(c ? Ft : Pt, It))\r\n              : '[' == t\r\n              ? T(V, at, j(']'), c ? Ft : Pt, It)\r\n              : '*' == e\r\n              ? ((k.marked = 'keyword'), T(It))\r\n              : ';' == t\r\n              ? T(It)\r\n              : '}' == t\r\n              ? T()\r\n              : '@' == e\r\n              ? T(V, It)\r\n              : void 0\r\n          }\r\n          function Ft (t, e) {\r\n            return '?' == e ? T(Ft) : ':' == t ? T(ut, Ct) : '=' == e ? T(H) : S(Pt)\r\n          }\r\n          function jt (t, e) {\r\n            return '*' == e\r\n              ? ((k.marked = 'keyword'), T(Bt, j(';')))\r\n              : 'default' == e\r\n              ? ((k.marked = 'keyword'), T(V, j(';')))\r\n              : '{' == t\r\n              ? T(rt(Rt, '}'), Bt, j(';'))\r\n              : S(R)\r\n          }\r\n          function Rt (t, e) {\r\n            return 'as' == e ? ((k.marked = 'keyword'), T(j('variable'))) : 'variable' == t ? S(H, Rt) : void 0\r\n          }\r\n          function zt (t) {\r\n            return 'string' == t ? T() : '(' == t ? S(V) : S(Vt, Ht, Bt)\r\n          }\r\n          function Vt (t, e) {\r\n            return '{' == t ? ot(Vt, '}') : ('variable' == t && M(e), '*' == e && (k.marked = 'keyword'), T($t))\r\n          }\r\n          function Ht (t) {\r\n            if (',' == t) return T(Vt, Ht)\r\n          }\r\n          function $t (t, e) {\r\n            if ('as' == e) return (k.marked = 'keyword'), T(Vt)\r\n          }\r\n          function Bt (t, e) {\r\n            if ('from' == e) return (k.marked = 'keyword'), T(V)\r\n          }\r\n          function Wt (t) {\r\n            return ']' == t ? T() : S(rt(H, ']'))\r\n          }\r\n          function Ut () {\r\n            return S(I('form'), bt, j('{'), I('}'), rt(qt, '}'), F, F)\r\n          }\r\n          function qt () {\r\n            return S(bt, Ct)\r\n          }\r\n          function Kt (t, e, n) {\r\n            return (\r\n              (e.tokenize == g &&\r\n                /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(e.lastType)) ||\r\n              ('quasi' == e.lastType && /\\{\\s*$/.test(t.string.slice(0, t.pos - (n || 0))))\r\n            )\r\n          }\r\n          return (\r\n            (D.lex = !0),\r\n            (F.lex = !0),\r\n            {\r\n              startState: function (t) {\r\n                var e = {\r\n                  tokenize: g,\r\n                  lastType: 'sof',\r\n                  cc: [],\r\n                  lexical: new w((t || 0) - o, 0, 'block', !1),\r\n                  localVars: n.localVars,\r\n                  context: n.localVars && new O(null, null, !1),\r\n                  indented: t || 0\r\n                }\r\n                return n.globalVars && 'object' == typeof n.globalVars && (e.globalVars = n.globalVars), e\r\n              },\r\n              token: function (t, e) {\r\n                if (\r\n                  (t.sol() &&\r\n                    (e.lexical.hasOwnProperty('align') || (e.lexical.align = !1),\r\n                    (e.indented = t.indentation()),\r\n                    b(t, e)),\r\n                  e.tokenize != v && t.eatSpace())\r\n                )\r\n                  return null\r\n                var n = e.tokenize(t, e)\r\n                return 'comment' == i\r\n                  ? n\r\n                  : ((e.lastType = 'operator' != i || ('++' != r && '--' != r) ? i : 'incdec'),\r\n                    (function (t, e, n, i, r) {\r\n                      var o = t.cc\r\n                      for (\r\n                        k.state = t,\r\n                          k.stream = r,\r\n                          k.marked = null,\r\n                          k.cc = o,\r\n                          k.style = e,\r\n                          t.lexical.hasOwnProperty('align') || (t.lexical.align = !0);\r\n                        ;\r\n\r\n                      ) {\r\n                        var s = o.length ? o.pop() : l ? V : R\r\n                        if (s(n, i)) {\r\n                          for (; o.length && o[o.length - 1].lex; ) o.pop()()\r\n                          return k.marked ? k.marked : 'variable' == n && C(t, i) ? 'variable-2' : e\r\n                        }\r\n                      }\r\n                    })(e, n, i, r, t))\r\n              },\r\n              indent: function (e, i) {\r\n                if (e.tokenize == v) return t.Pass\r\n                if (e.tokenize != g) return 0\r\n                var r,\r\n                  a = i && i.charAt(0),\r\n                  l = e.lexical\r\n                if (!/^\\s*else\\b/.test(i))\r\n                  for (var c = e.cc.length - 1; c >= 0; --c) {\r\n                    var u = e.cc[c]\r\n                    if (u == F) l = l.prev\r\n                    else if (u != St) break\r\n                  }\r\n                for (\r\n                  ;\r\n                  ('stat' == l.type || 'form' == l.type) &&\r\n                  ('}' == a || ((r = e.cc[e.cc.length - 1]) && (r == U || r == q) && !/^[,\\.=+\\-*:?[\\(]/.test(i)));\r\n\r\n                )\r\n                  l = l.prev\r\n                s && ')' == l.type && 'stat' == l.prev.type && (l = l.prev)\r\n                var h = l.type,\r\n                  f = a == h\r\n                return 'vardef' == h\r\n                  ? l.indented + ('operator' == e.lastType || ',' == e.lastType ? l.info.length + 1 : 0)\r\n                  : 'form' == h && '{' == a\r\n                  ? l.indented\r\n                  : 'form' == h\r\n                  ? l.indented + o\r\n                  : 'stat' == h\r\n                  ? l.indented +\r\n                    ((function (t, e) {\r\n                      return (\r\n                        'operator' == t.lastType || ',' == t.lastType || d.test(e.charAt(0)) || /[,.]/.test(e.charAt(0))\r\n                      )\r\n                    })(e, i)\r\n                      ? s || o\r\n                      : 0)\r\n                  : 'switch' != l.info || f || 0 == n.doubleIndentSwitch\r\n                  ? l.align\r\n                    ? l.column + (f ? 0 : 1)\r\n                    : l.indented + (f ? 0 : o)\r\n                  : l.indented + (/^(?:case|default)\\b/.test(i) ? o : 2 * o)\r\n              },\r\n              electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\r\n              blockCommentStart: l ? null : '/*',\r\n              blockCommentEnd: l ? null : '*/',\r\n              blockCommentContinue: l ? null : ' * ',\r\n              lineComment: l ? null : '//',\r\n              fold: 'brace',\r\n              closeBrackets: '()[]{}\\'\\'\"\"``',\r\n              helperType: l ? 'json' : 'javascript',\r\n              jsonldMode: a,\r\n              jsonMode: l,\r\n              expressionAllowed: Kt,\r\n              skipExpression: function (t) {\r\n                var e = t.cc[t.cc.length - 1]\r\n                ;(e != V && e != H) || t.cc.pop()\r\n              }\r\n            }\r\n          )\r\n        }),\r\n          t.registerHelper('wordChars', 'javascript', /[\\w$]/),\r\n          t.defineMIME('text/javascript', 'javascript'),\r\n          t.defineMIME('text/ecmascript', 'javascript'),\r\n          t.defineMIME('application/javascript', 'javascript'),\r\n          t.defineMIME('application/x-javascript', 'javascript'),\r\n          t.defineMIME('application/ecmascript', 'javascript'),\r\n          t.defineMIME('application/json', { name: 'javascript', json: !0 }),\r\n          t.defineMIME('application/x-json', { name: 'javascript', json: !0 }),\r\n          t.defineMIME('application/ld+json', { name: 'javascript', jsonld: !0 }),\r\n          t.defineMIME('text/typescript', { name: 'javascript', typescript: !0 }),\r\n          t.defineMIME('application/typescript', { name: 'javascript', typescript: !0 })\r\n      })(n(6))\r\n    },\r\n    function (t, e, n) {\r\n      !(function (t) {\r\n        t.extendMode('css', {\r\n          commentStart: '/*',\r\n          commentEnd: '*/',\r\n          newlineAfterToken: function (t, e) {\r\n            return /^[;{}]$/.test(e)\r\n          }\r\n        }),\r\n          t.extendMode('javascript', {\r\n            commentStart: '/*',\r\n            commentEnd: '*/',\r\n            newlineAfterToken: function (t, e, n, i) {\r\n              return this.jsonMode\r\n                ? /^[\\[,{]$/.test(e) || /^}/.test(n)\r\n                : (';' != e || !i.lexical || ')' != i.lexical.type) && /^[;{}]$/.test(e) && !/^;/.test(n)\r\n            }\r\n          })\r\n        var e = /^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/\r\n        t.extendMode('xml', {\r\n          commentStart: '\\x3c!--',\r\n          commentEnd: '--\\x3e',\r\n          newlineAfterToken: function (t, n, i, r) {\r\n            var o = !1\r\n            return (\r\n              'html' == this.configuration && (o = !!r.context && e.test(r.context.tagName)),\r\n              !o && (('tag' == t && />$/.test(n) && r.context) || /^</.test(i))\r\n            )\r\n          }\r\n        }),\r\n          t.defineExtension('commentRange', function (e, n, i) {\r\n            var r = this,\r\n              o = t.innerMode(r.getMode(), r.getTokenAt(n).state).mode\r\n            r.operation(function () {\r\n              if (e)\r\n                r.replaceRange(o.commentEnd, i),\r\n                  r.replaceRange(o.commentStart, n),\r\n                  n.line == i.line && n.ch == i.ch && r.setCursor(n.line, n.ch + o.commentStart.length)\r\n              else {\r\n                var t = r.getRange(n, i),\r\n                  s = t.indexOf(o.commentStart),\r\n                  a = t.lastIndexOf(o.commentEnd)\r\n                s > -1 &&\r\n                  a > -1 &&\r\n                  a > s &&\r\n                  (t = t.substr(0, s) + t.substring(s + o.commentStart.length, a) + t.substr(a + o.commentEnd.length)),\r\n                  r.replaceRange(t, n, i)\r\n              }\r\n            })\r\n          }),\r\n          t.defineExtension('autoIndentRange', function (t, e) {\r\n            var n = this\r\n            this.operation(function () {\r\n              for (var i = t.line; i <= e.line; i++) n.indentLine(i, 'smart')\r\n            })\r\n          }),\r\n          t.defineExtension('autoFormatRange', function (e, n) {\r\n            var i = this,\r\n              r = i.getMode(),\r\n              o = i.getRange(e, n).split('\\n'),\r\n              s = t.copyState(r, i.getTokenAt(e).state),\r\n              a = i.getOption('tabSize'),\r\n              l = '',\r\n              c = 0,\r\n              u = 0 === e.ch\r\n            function h () {\r\n              ;(l += '\\n'), (u = !0), ++c\r\n            }\r\n            for (var d = 0; d < o.length; ++d) {\r\n              for (var f = new t.StringStream(o[d], a); !f.eol(); ) {\r\n                var p = t.innerMode(r, s),\r\n                  g = r.token(f, s),\r\n                  v = f.current()\r\n                ;(f.start = f.pos),\r\n                  (u && !/\\S/.test(v)) || ((l += v), (u = !1)),\r\n                  !u &&\r\n                    p.mode.newlineAfterToken &&\r\n                    p.mode.newlineAfterToken(g, v, f.string.slice(f.pos) || o[d + 1] || '', p.state) &&\r\n                    h()\r\n              }\r\n              !f.pos && r.blankLine && r.blankLine(s), !u && d < o.length - 1 && h()\r\n            }\r\n            i.operation(function () {\r\n              i.replaceRange(l, e, n)\r\n              for (var t = e.line + 1, r = e.line + c; t <= r; ++t) i.indentLine(t, 'smart')\r\n              i.setSelection(e, i.getCursor(!1))\r\n            })\r\n          })\r\n      })(n(6))\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(1),\r\n        o = n(0),\r\n        s = (i = o) && i.__esModule ? i : { default: i }\r\n      t.exports = s.default.View.extend({\r\n        template: (0, r.template)(\r\n          '\\n  <div class=\"<%= pfx %>editor\" id=\"<%= pfx %><%= codeName %>\">\\n  \\t<div id=\"<%= pfx %>title\"><%= label %></div>\\n  \\t<div id=\"<%= pfx %>code\"></div>\\n  </div>'\r\n        ),\r\n        initialize: function (t) {\r\n          ;(this.config = t.config || {}), (this.pfx = this.config.stylePrefix)\r\n        },\r\n        render: function () {\r\n          var t = this.model.toJSON()\r\n          return (\r\n            (t.pfx = this.pfx),\r\n            this.$el.html(this.template(t)),\r\n            this.$el.attr('class', this.pfx + 'editor-c'),\r\n            this.$el.find('#' + this.pfx + 'code').append(this.model.get('input')),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = function () {\r\n        var t,\r\n          e,\r\n          i = {},\r\n          r = n(154),\r\n          o = n(62),\r\n          s = n(156),\r\n          a = (n(64), n(159))\r\n        return {\r\n          name: 'Panels',\r\n          init: function (n) {\r\n            for (var o in ((i = n || {}), r)) o in i || (i[o] = r[o])\r\n            var l = i.pStylePrefix\r\n            return (\r\n              l && (i.stylePrefix = l + i.stylePrefix),\r\n              (t = new s(i.defaults)),\r\n              (e = new a({ collection: t, config: i })),\r\n              this\r\n            )\r\n          },\r\n          getPanels: function () {\r\n            return t\r\n          },\r\n          getPanelsEl: function () {\r\n            return e.el\r\n          },\r\n          addPanel: function (e) {\r\n            return t.add(e)\r\n          },\r\n          removePanel: function (e) {\r\n            return t.remove(e)\r\n          },\r\n          getPanel: function (e) {\r\n            var n = t.where({ id: e })\r\n            return n.length ? n[0] : null\r\n          },\r\n          addButton: function (t, e) {\r\n            var n = this.getPanel(t)\r\n            return n ? n.get('buttons').add(e) : null\r\n          },\r\n          removeButton: function (t, e) {\r\n            var n = this.getPanel(t)\r\n            return n && n.get('buttons').remove(e)\r\n          },\r\n          getButton: function (t, e) {\r\n            var n = this.getPanel(t)\r\n            if (n) {\r\n              var i = n.get('buttons').where({ id: e })\r\n              return i.length ? i[0] : null\r\n            }\r\n            return null\r\n          },\r\n          render: function () {\r\n            return e.render().el\r\n          },\r\n          active: function () {\r\n            this.getPanels().each(function (t) {\r\n              t.get('buttons').each(function (t) {\r\n                t.get('active') && t.trigger('updateActive')\r\n              })\r\n            })\r\n          },\r\n          disableButtons: function () {\r\n            this.getPanels().each(function (t) {\r\n              t.get('buttons').each(function (t) {\r\n                t.get('disable') && t.trigger('change:disable')\r\n              })\r\n            })\r\n          },\r\n          Panel: o\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = 'sw-visibility',\r\n        r = 'export-template',\r\n        o = 'open-layers',\r\n        s = 'open-blocks',\r\n        a = 'fullscreen',\r\n        l = 'preview'\r\n      t.exports = {\r\n        stylePrefix: 'pn-',\r\n        defaults: [\r\n          { id: 'commands', buttons: [{}] },\r\n          {\r\n            id: 'options',\r\n            buttons: [\r\n              {\r\n                active: !0,\r\n                id: i,\r\n                className: 'fa fa-square-o',\r\n                command: i,\r\n                context: i,\r\n                attributes: { title: 'View components' }\r\n              },\r\n              { id: l, className: 'fa fa-eye', command: l, context: l, attributes: { title: 'Preview' } },\r\n              { id: a, className: 'fa fa-arrows-alt', command: a, context: a, attributes: { title: 'Fullscreen' } },\r\n              { id: r, className: 'fa fa-code', command: r, attributes: { title: 'View code' } }\r\n            ]\r\n          },\r\n          {\r\n            id: 'views',\r\n            buttons: [\r\n              {\r\n                id: 'open-sm',\r\n                className: 'fa fa-paint-brush',\r\n                command: 'open-sm',\r\n                active: !0,\r\n                attributes: { title: 'Open Style Manager' }\r\n              },\r\n              { id: 'open-tm', className: 'fa fa-cog', command: 'open-tm', attributes: { title: 'Settings' } },\r\n              { id: o, className: 'fa fa-bars', command: o, attributes: { title: 'Open Layer Manager' } },\r\n              { id: s, className: 'fa fa-th-large', command: s, attributes: { title: 'Open Blocks' } }\r\n            ]\r\n          }\r\n        ],\r\n        em: null,\r\n        delayBtnsShow: 300\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(0)\r\n      t.exports = i.Model.extend({\r\n        defaults: {\r\n          id: '',\r\n          label: '',\r\n          className: '',\r\n          command: '',\r\n          context: '',\r\n          buttons: [],\r\n          attributes: {},\r\n          options: {},\r\n          active: !1,\r\n          dragDrop: !1,\r\n          togglable: !0,\r\n          runDefaultCommand: !0,\r\n          stopDefaultCommand: !1,\r\n          disable: !1\r\n        },\r\n        initialize: function (t) {\r\n          if (this.get('buttons').length) {\r\n            var e = n(63)\r\n            this.set('buttons', new e(this.get('buttons')))\r\n          }\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(0),\r\n        r = n(62)\r\n      t.exports = i.Collection.extend({ model: r })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      ;(function (e) {\r\n        var i = n(0),\r\n          r = n(158)\r\n        t.exports = i.View.extend({\r\n          initialize: function (t) {\r\n            ;(this.opt = t || {}),\r\n              (this.config = this.opt.config || {}),\r\n              (this.pfx = this.config.stylePrefix || ''),\r\n              (this.parentM = this.opt.parentM || null),\r\n              this.listenTo(this.collection, 'add', this.addTo),\r\n              this.listenTo(this.collection, 'reset remove', this.render),\r\n              (this.className = this.pfx + 'buttons')\r\n          },\r\n          addTo: function (t) {\r\n            this.addToCollection(t)\r\n          },\r\n          addToCollection: function (t, e) {\r\n            var n = e || null,\r\n              i = new r({ model: t, config: this.config, parentM: this.parentM }).render().el\r\n            return n ? n.appendChild(i) : this.$el.append(i), i\r\n          },\r\n          render: function () {\r\n            var t = document.createDocumentFragment()\r\n            return (\r\n              this.$el.empty(),\r\n              this.collection.each(function (e) {\r\n                this.addToCollection(e, t)\r\n              }, this),\r\n              this.$el.append(t),\r\n              this.$el.attr('class', e.result(this, 'className')),\r\n              this\r\n            )\r\n          }\r\n        })\r\n      }.call(this, n(1)))\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        o = n(0),\r\n        s = (i = o) && i.__esModule ? i : { default: i },\r\n        a = n(1)\r\n      s.default.$\r\n      t.exports = s.default.View.extend({\r\n        tagName: 'span',\r\n        events: { click: 'clicked' },\r\n        initialize: function (t) {\r\n          var e = this.model.get('className')\r\n          ;(this.config = t.config || {}), (this.em = this.config.em || {})\r\n          var n = this.config.stylePrefix || '',\r\n            i = this.config.pStylePrefix || ''\r\n          ;(this.pfx = n),\r\n            (this.ppfx = this.config.pStylePrefix || ''),\r\n            (this.id = n + this.model.get('id')),\r\n            (this.activeCls = n + 'active ' + i + 'four-color'),\r\n            (this.disableCls = i + 'disabled'),\r\n            (this.btnsVisCls = n + 'visible'),\r\n            (this.className = n + 'btn' + (e ? ' ' + e : '')),\r\n            this.listenTo(this.model, 'change', this.render),\r\n            this.listenTo(this.model, 'change:active updateActive', this.updateActive),\r\n            this.listenTo(this.model, 'checkActive', this.checkActive),\r\n            this.listenTo(this.model, 'change:bntsVis', this.updateBtnsVis),\r\n            this.listenTo(this.model, 'change:attributes', this.updateAttributes),\r\n            this.listenTo(this.model, 'change:className', this.updateClassName),\r\n            this.listenTo(this.model, 'change:disable', this.updateDisable),\r\n            this.em && this.em.get && (this.commands = this.em.get('Commands'))\r\n        },\r\n        updateClassName: function () {\r\n          var t = this.model,\r\n            e = this.pfx,\r\n            n = t.get('className'),\r\n            i = t.get('attributes').class,\r\n            r = (i || '') + ' ' + e + 'btn ' + (n || '')\r\n          this.$el.attr('class', r.trim())\r\n        },\r\n        updateAttributes: function () {\r\n          this.$el.attr(this.model.get('attributes')), this.updateClassName()\r\n        },\r\n        updateBtnsVis: function () {\r\n          this.$buttons &&\r\n            (this.model.get('bntsVis')\r\n              ? this.$buttons.addClass(this.btnsVisCls)\r\n              : this.$buttons.removeClass(this.btnsVisCls))\r\n        },\r\n        updateActive: function () {\r\n          var t = this.model,\r\n            e = this.commands,\r\n            n = this.em,\r\n            i = t.get('context'),\r\n            o = t.get('options'),\r\n            s = {},\r\n            l = (n && n.get && n.get('Editor'), t.get('command')),\r\n            c = (0, a.isFunction)(l)\r\n          e && (0, a.isString)(l)\r\n            ? (s = e.get(l) || {})\r\n            : c\r\n            ? (s = e.create({ run: l }))\r\n            : null !== l && (0, a.isObject)(l) && (s = e.create(l)),\r\n            t.get('active')\r\n              ? (t.collection.deactivateAll(i),\r\n                t.set('active', !0, { silent: !0 }).trigger('checkActive'),\r\n                e.runCommand(s, r({}, o, { sender: t })),\r\n                c && t.set('active', !1))\r\n              : (this.$el.removeClass(this.activeCls),\r\n                t.collection.deactivateAll(i),\r\n                e.stopCommand(s, r({}, o, { sender: t })))\r\n        },\r\n        updateDisable: function () {\r\n          var t = this.disableCls,\r\n            e = this.model.get('disable')\r\n          this.$el[e ? 'addClass' : 'removeClass'](t)\r\n        },\r\n        checkActive: function () {\r\n          var t = this.model,\r\n            e = this.$el,\r\n            n = this.activeCls\r\n          t.get('active') ? e.addClass(n) : e.removeClass(n)\r\n        },\r\n        clicked: function (t) {\r\n          this.model.get('bntsVis') || this.model.get('disable') || this.toogleActive()\r\n        },\r\n        toogleActive: function () {\r\n          var t = this.model,\r\n            e = t.attributes,\r\n            n = e.active,\r\n            i = e.togglable\r\n          if (!n || i) {\r\n            t.set('active', !n)\r\n            this.em.get('Commands').get('select-comp')\r\n            n\r\n              ? t.get('runDefaultCommand') && this.em.runDefault()\r\n              : t.get('stopDefaultCommand') && this.em.stopDefault()\r\n          }\r\n        },\r\n        render: function () {\r\n          var t = this.model.get('label'),\r\n            e = this.$el\r\n          return e.empty(), this.updateAttributes(), t && e.append(t), this.checkActive(), this.updateDisable(), this\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(0),\r\n        r = n(64)\r\n      t.exports = i.View.extend({\r\n        initialize: function (t) {\r\n          ;(this.opt = t || {}), (this.config = this.opt.config || {}), (this.pfx = this.config.stylePrefix || '')\r\n          var e = this.collection\r\n          this.listenTo(e, 'add', this.addTo),\r\n            this.listenTo(e, 'reset', this.render),\r\n            this.listenTo(e, 'remove', this.onRemove),\r\n            (this.className = this.pfx + 'panels')\r\n        },\r\n        onRemove: function (t) {\r\n          var e = t.view\r\n          e && e.remove()\r\n        },\r\n        addTo: function (t) {\r\n          this.addToCollection(t)\r\n        },\r\n        addToCollection: function (t, e) {\r\n          var n = e || null,\r\n            i = this.config,\r\n            o = t.get('el'),\r\n            s = new r({ el: o, model: t, config: i }),\r\n            a = s.render().el,\r\n            l = t.get('appendTo')\r\n          if (o);\r\n          else if (l) {\r\n            document.querySelector(l).appendChild(a)\r\n          } else n ? n.appendChild(a) : this.$el.append(a)\r\n          return s.initResize(), a\r\n        },\r\n        render: function () {\r\n          var t = this,\r\n            e = this.$el,\r\n            n = document.createDocumentFragment()\r\n          return (\r\n            e.empty(),\r\n            this.collection.each(function (e) {\r\n              return t.addToCollection(e, n)\r\n            }),\r\n            e.append(n),\r\n            e.attr('class', this.className),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(161),\r\n        o = (i = r) && i.__esModule ? i : { default: i },\r\n        s = n(2)\r\n      t.exports = function () {\r\n        var t = {},\r\n          e = n(162),\r\n          i = void 0,\r\n          r = void 0,\r\n          a = void 0,\r\n          l = function () {\r\n            var t = i.style\r\n            ;(t.top = '-1000px'), (t.left = '-1000px'), (t.display = 'none')\r\n          }\r\n        return {\r\n          customRte: null,\r\n          name: 'RichTextEditor',\r\n          init: function () {\r\n            var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n            for (var r in ((t = n), e)) r in t || (t[r] = e[r])\r\n            var o = t.pStylePrefix\r\n            return (\r\n              o && (t.stylePrefix = o + t.stylePrefix),\r\n              (this.pfx = t.stylePrefix),\r\n              t.actions || [],\r\n              ((i = document.createElement('div')).className = o + 'rte-toolbar ' + o + 'one-bg'),\r\n              (a = this.initRte(document.createElement('div'))),\r\n              (0, s.on)(i, 'mousedown', function (t) {\r\n                return t.stopPropagation()\r\n              }),\r\n              this\r\n            )\r\n          },\r\n          postRender: function (t) {\r\n            var e = t.model.get('Canvas')\r\n            ;(i.style.pointerEvents = 'all'), l(), e.getToolsEl().appendChild(i)\r\n          },\r\n          initRte: function (e) {\r\n            var n = this.pfx,\r\n              r = i,\r\n              s = this.actionbar,\r\n              l = this.actions || t.actions,\r\n              c = { actionbar: n + 'actionbar', button: n + 'action', active: n + 'active' },\r\n              u = new o.default({ el: e, classes: c, actions: l, actionbar: s, actionbarContainer: r })\r\n            return (\r\n              a && a.setEl(e), u.actionbar && (this.actionbar = u.actionbar), u.actions && (this.actions = u.actions), u\r\n            )\r\n          },\r\n          add: function (t) {\r\n            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n            ;(e.name = t), a.addAction(e, { sync: 1 })\r\n          },\r\n          get: function (t) {\r\n            var e = void 0\r\n            return (\r\n              a.getActions().forEach(function (n) {\r\n                n.name == t && (e = n)\r\n              }),\r\n              e\r\n            )\r\n          },\r\n          getAll: function () {\r\n            return a.getActions()\r\n          },\r\n          remove: function (t) {\r\n            var e = this.getAll(),\r\n              n = this.get(t)\r\n            if (n) {\r\n              var i = n.btn,\r\n                r = e.indexOf(n)\r\n              i.parentNode.removeChild(i), e.splice(r, 1)\r\n            }\r\n            return n\r\n          },\r\n          getToolbarEl: function () {\r\n            return i\r\n          },\r\n          udpatePosition: function () {\r\n            var e = t.em.get('Canvas').getTargetToElementDim(i, r, { event: 'rteToolbarPosUpdate' })\r\n            if (e) {\r\n              t.adjustToolbar && e.top <= e.canvasTop && (e.top = e.elementTop + e.elementHeight)\r\n              var n = i.style\r\n              ;(n.top = e.top + 'px'), (n.left = e.left + 'px')\r\n            }\r\n          },\r\n          enable: function (e, n) {\r\n            r = e.el\r\n            var o = t.em,\r\n              s = e.getChildrenContainer(),\r\n              a = this.customRte\r\n            if (((i.style.display = ''), (n = a ? a.enable(s, n) : this.initRte(s).enable()), o)) {\r\n              setTimeout(this.udpatePosition.bind(this), 0)\r\n              var l = 'change:canvasOffset canvasScroll'\r\n              o.off(l, this.udpatePosition, this), o.on(l, this.udpatePosition, this), o.trigger('rte:enable', e, n)\r\n            }\r\n            return n\r\n          },\r\n          disable: function (e, n) {\r\n            var i = t.em,\r\n              r = this.customRte,\r\n              o = e.getChildrenContainer()\r\n            r ? r.disable(o, n) : n && n.disable(), l(), i && i.trigger('rte:disable', e, n)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      Object.defineProperty(e, '__esModule', { value: !0 })\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = (function () {\r\n          function t (t, e) {\r\n            for (var n = 0; n < e.length; n++) {\r\n              var i = e[n]\r\n              ;(i.enumerable = i.enumerable || !1),\r\n                (i.configurable = !0),\r\n                'value' in i && (i.writable = !0),\r\n                Object.defineProperty(t, i.key, i)\r\n            }\r\n          }\r\n          return function (e, n, i) {\r\n            return n && t(e.prototype, n), i && t(e, i), e\r\n          }\r\n        })(),\r\n        o = n(2)\r\n      var s = '_rte',\r\n        a = {\r\n          bold: {\r\n            name: 'bold',\r\n            icon: '<b>B</b>',\r\n            attributes: { title: 'Bold' },\r\n            result: function (t) {\r\n              return t.exec('bold')\r\n            }\r\n          },\r\n          italic: {\r\n            name: 'italic',\r\n            icon: '<i>I</i>',\r\n            attributes: { title: 'Italic' },\r\n            result: function (t) {\r\n              return t.exec('italic')\r\n            }\r\n          },\r\n          underline: {\r\n            name: 'underline',\r\n            icon: '<u>U</u>',\r\n            attributes: { title: 'Underline' },\r\n            result: function (t) {\r\n              return t.exec('underline')\r\n            }\r\n          },\r\n          strikethrough: {\r\n            name: 'strikethrough',\r\n            icon: '<strike>S</strike>',\r\n            attributes: { title: 'Strike-through' },\r\n            result: function (t) {\r\n              return t.exec('strikeThrough')\r\n            }\r\n          },\r\n          link: {\r\n            icon: '<span style=\"transform:rotate(45deg)\">&supdsub;</span>',\r\n            name: 'link',\r\n            attributes: { style: 'font-size:1.4rem;padding:0 4px 2px;', title: 'Link' },\r\n            result: function (t) {\r\n              var e = t.selection().anchorNode,\r\n                n = e && e.nextSibling\r\n              n && 'A' == n.nodeName\r\n                ? t.exec('unlink')\r\n                : t.insertHTML('<a class=\"link\" href=\"\">' + t.selection() + '</a>')\r\n            }\r\n          }\r\n        },\r\n        l = (function () {\r\n          function t () {\r\n            var e = this,\r\n              n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n            !(function (t, e) {\r\n              if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function')\r\n            })(this, t)\r\n            var r = n.el\r\n            if (r[s]) return r[s]\r\n            ;(r[s] = this), this.setEl(r), (this.updateActiveActions = this.updateActiveActions.bind(this))\r\n            var o = n.actions || []\r\n            o.forEach(function (t, e) {\r\n              'string' == typeof t ? (t = a[t]) : a[t.name] && (t = i({}, a[t.name], t)), (o[e] = t)\r\n            })\r\n            var l = o.length\r\n              ? o\r\n              : Object.keys(a).map(function (t) {\r\n                  return a[t]\r\n                })\r\n            n.classes = i({ actionbar: 'actionbar', button: 'action', active: 'active' }, n.classes)\r\n            var c = n.classes,\r\n              u = n.actionbar\r\n            if (((this.actionbar = u), (this.settings = n), (this.classes = c), (this.actions = l), !u)) {\r\n              var h = n.actionbarContainer\r\n              ;((u = document.createElement('div')).className = c.actionbar),\r\n                h.appendChild(u),\r\n                (this.actionbar = u),\r\n                l.forEach(function (t) {\r\n                  return e.addAction(t)\r\n                })\r\n            }\r\n            return n.styleWithCSS && this.exec('styleWithCSS'), this.syncActions(), this\r\n          }\r\n          return (\r\n            r(t, [\r\n              {\r\n                key: 'setEl',\r\n                value: function (t) {\r\n                  ;(this.el = t), (this.doc = t.ownerDocument)\r\n                }\r\n              },\r\n              {\r\n                key: 'updateActiveActions',\r\n                value: function () {\r\n                  var t = this\r\n                  this.getActions().forEach(function (e) {\r\n                    var n = e.btn,\r\n                      i = e.update,\r\n                      r = t.classes.active,\r\n                      o = e.name,\r\n                      s = t.doc\r\n                    ;(n.className = n.className.replace(r, '').trim()),\r\n                      s.queryCommandSupported(o) && s.queryCommandState(o) && (n.className += ' ' + r),\r\n                      i && i(t, e)\r\n                  })\r\n                }\r\n              },\r\n              {\r\n                key: 'enable',\r\n                value: function () {\r\n                  return this.enabled\r\n                    ? this\r\n                    : ((this.actionbarEl().style.display = ''),\r\n                      (this.el.contentEditable = !0),\r\n                      (0, o.on)(this.el, 'mouseup keyup', this.updateActiveActions),\r\n                      this.syncActions(),\r\n                      this.updateActiveActions(),\r\n                      this.el.focus(),\r\n                      (this.enabled = 1),\r\n                      this)\r\n                }\r\n              },\r\n              {\r\n                key: 'disable',\r\n                value: function () {\r\n                  return (\r\n                    (this.actionbarEl().style.display = 'none'),\r\n                    (this.el.contentEditable = !1),\r\n                    (0, o.off)(this.el, 'mouseup keyup', this.updateActiveActions),\r\n                    (this.enabled = 0),\r\n                    this\r\n                  )\r\n                }\r\n              },\r\n              {\r\n                key: 'syncActions',\r\n                value: function () {\r\n                  var t = this\r\n                  this.getActions().forEach(function (e) {\r\n                    var n = e.event || 'click'\r\n                    e.btn['on' + n] = function (n) {\r\n                      e.result(t, e), t.updateActiveActions()\r\n                    }\r\n                  })\r\n                }\r\n              },\r\n              {\r\n                key: 'addAction',\r\n                value: function (t) {\r\n                  var e = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}).sync,\r\n                    n = document.createElement('span'),\r\n                    i = t.icon,\r\n                    r = t.attributes || {}\r\n                  for (var o in ((n.className = this.classes.button), (t.btn = n), r)) n.setAttribute(o, r[o])\r\n                  'string' == typeof i ? (n.innerHTML = i) : n.appendChild(i),\r\n                    this.actionbarEl().appendChild(n),\r\n                    e && (this.actions.push(t), this.syncActions())\r\n                }\r\n              },\r\n              {\r\n                key: 'getActions',\r\n                value: function () {\r\n                  return this.actions\r\n                }\r\n              },\r\n              {\r\n                key: 'selection',\r\n                value: function () {\r\n                  return this.doc.getSelection()\r\n                }\r\n              },\r\n              {\r\n                key: 'exec',\r\n                value: function (t) {\r\n                  var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null\r\n                  this.doc.execCommand(t, !1, e)\r\n                }\r\n              },\r\n              {\r\n                key: 'actionbarEl',\r\n                value: function () {\r\n                  return this.actionbar\r\n                }\r\n              },\r\n              {\r\n                key: 'insertHTML',\r\n                value: function (t) {\r\n                  var e = this.doc,\r\n                    n = e.getSelection()\r\n                  if (n && n.rangeCount) {\r\n                    var i = e.createElement('div'),\r\n                      r = n.getRangeAt(0)\r\n                    r.deleteContents(),\r\n                      (i.innerHTML = t),\r\n                      Array.prototype.slice.call(i.childNodes).forEach(function (t) {\r\n                        r.insertNode(t), t\r\n                      }),\r\n                      n.removeAllRanges(),\r\n                      n.addRange(r),\r\n                      this.el.focus()\r\n                  }\r\n                }\r\n              }\r\n            ]),\r\n            t\r\n          )\r\n        })()\r\n      e.default = l\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        stylePrefix: 'rte-',\r\n        adjustToolbar: 1,\r\n        actions: ['bold', 'italic', 'underline', 'strikethrough', 'link']\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = function () {\r\n        var t = {},\r\n          e = n(164),\r\n          i = n(165),\r\n          r = n(168),\r\n          o = n(67),\r\n          s = void 0,\r\n          a = void 0,\r\n          l = void 0\r\n        return {\r\n          name: 'AssetManager',\r\n          storageKey: 'assets',\r\n          getConfig: function () {\r\n            return t\r\n          },\r\n          init: function (n) {\r\n            var c = this\r\n            for (var u in ((t = n || {}), e)) u in t || (t[u] = e[u])\r\n            var h = t.pStylePrefix,\r\n              d = t.em\r\n            h && (t.stylePrefix = h + t.stylePrefix), (s = new i([]))\r\n            var f = { collection: new i([]), globalCollection: s, config: t }\r\n            return (\r\n              (l = new o(f)),\r\n              (f.fu = l),\r\n              (a = new r(f)),\r\n              s.listenTo(s, 'add', function (t) {\r\n                c.getAllVisible().add(t), d && d.trigger('asset:add', t)\r\n              }),\r\n              s.listenTo(s, 'remove', function (t) {\r\n                c.getAllVisible().remove(t), d && d.trigger('asset:remove', t)\r\n              }),\r\n              this\r\n            )\r\n          },\r\n          add: function (t) {\r\n            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n            return void 0 === e.at && (e.at = 0), s.add(t, e)\r\n          },\r\n          get: function (t) {\r\n            return s.where({ src: t })[0]\r\n          },\r\n          getAll: function () {\r\n            return s\r\n          },\r\n          getAllVisible: function () {\r\n            return a.collection\r\n          },\r\n          remove: function (t) {\r\n            var e = this.get(t)\r\n            return this.getAll().remove(e), this\r\n          },\r\n          store: function (e) {\r\n            var n = {},\r\n              i = JSON.stringify(this.getAll().toJSON())\r\n            return (n[this.storageKey] = i), !e && t.stm && t.stm.store(n), n\r\n          },\r\n          load: function () {\r\n            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n              e = this.storageKey,\r\n              n = t[e] || []\r\n            if ('string' == typeof n)\r\n              try {\r\n                n = JSON.parse(t[e])\r\n              } catch (t) {}\r\n            return n && n.length && this.getAll().reset(n), n\r\n          },\r\n          getContainer: function () {\r\n            return a.el\r\n          },\r\n          getAssetsEl: function () {\r\n            return a.el.querySelector('[data-el=assets]')\r\n          },\r\n          render: function (t) {\r\n            var e = t || this.getAll().models\r\n            return a.rendered || a.render(), a.collection.reset(e), this.getContainer()\r\n          },\r\n          addType: function (t, e) {\r\n            this.getAll().addType(t, e)\r\n          },\r\n          getType: function (t) {\r\n            return this.getAll().getType(t)\r\n          },\r\n          getTypes: function () {\r\n            return this.getAll().getTypes()\r\n          },\r\n          AssetsView: function () {\r\n            return a\r\n          },\r\n          FileUploader: function () {\r\n            return l\r\n          },\r\n          onLoad: function () {\r\n            this.getAll().reset(t.assets)\r\n          },\r\n          postRender: function (e) {\r\n            t.dropzone && l.initDropzone(e)\r\n          },\r\n          setTarget: function (t) {\r\n            a.collection.target = t\r\n          },\r\n          onSelect: function (t) {\r\n            a.collection.onSelect = t\r\n          },\r\n          onClick: function (e) {\r\n            t.onClick = e\r\n          },\r\n          onDblClick: function (e) {\r\n            t.onDblClick = e\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        assets: [],\r\n        noAssets: '',\r\n        stylePrefix: 'am-',\r\n        upload: 0,\r\n        uploadName: 'files',\r\n        headers: {},\r\n        params: {},\r\n        credentials: 'include',\r\n        multiUpload: !0,\r\n        autoAdd: 1,\r\n        uploadText: 'Drop files here or click to upload',\r\n        addBtnText: 'Add image',\r\n        uploadFile: '',\r\n        handleAdd: '',\r\n        dropzone: 0,\r\n        openAssetsOnDrop: 1,\r\n        dropzoneContent: '',\r\n        modalTitle: 'Select Image',\r\n        inputPlaceholder: 'http://path/to/the/image.jpg'\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(50),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      t.exports = n(0)\r\n        .Collection.extend(o.default)\r\n        .extend({\r\n          types: [\r\n            {\r\n              id: 'image',\r\n              model: n(166),\r\n              view: n(65),\r\n              isType: function (t) {\r\n                return 'string' == typeof t ? { type: 'image', src: t } : t\r\n              }\r\n            }\r\n          ]\r\n        })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(167)\r\n      t.exports = r.extend({\r\n        defaults: i({}, r.prototype.defaults, { type: 'image', unitDim: 'px', height: 0, width: 0 })\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = n(0).Model.extend({\r\n        idAttribute: 'src',\r\n        defaults: { type: '', src: '' },\r\n        getFilename: function () {\r\n          return this.get('src')\r\n            .split('/')\r\n            .pop()\r\n        },\r\n        getExtension: function () {\r\n          return this.getFilename()\r\n            .split('.')\r\n            .pop()\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      n(66), n(65), n(67)\r\n      t.exports = o.default.View.extend({\r\n        events: { submit: 'handleSubmit' },\r\n        template: function (t) {\r\n          var e = t.pfx,\r\n            n = t.ppfx\r\n          return (\r\n            '\\n    <div class=\"' +\r\n            e +\r\n            'assets-cont\">\\n      <div class=\"' +\r\n            e +\r\n            'assets-header\">\\n        <form class=\"' +\r\n            e +\r\n            'add-asset\">\\n          <div class=\"' +\r\n            n +\r\n            'field ' +\r\n            e +\r\n            'add-field\">\\n            <input placeholder=\"' +\r\n            t.config.inputPlaceholder +\r\n            '\"/>\\n          </div>\\n          <button class=\"' +\r\n            n +\r\n            'btn-prim\">' +\r\n            t.config.addBtnText +\r\n            '</button>\\n          <div style=\"clear:both\"></div>\\n        </form>\\n      </div>\\n      <div class=\"' +\r\n            e +\r\n            'assets\" data-el=\"assets\"></div>\\n      <div style=\"clear:both\"></div>\\n    </div>\\n    '\r\n          )\r\n        },\r\n        initialize: function (t) {\r\n          ;(this.options = t),\r\n            (this.config = t.config),\r\n            (this.pfx = this.config.stylePrefix || ''),\r\n            (this.ppfx = this.config.pStylePrefix || '')\r\n          var e = this.collection\r\n          this.listenTo(e, 'reset', this.renderAssets),\r\n            this.listenTo(e, 'add', this.addToAsset),\r\n            this.listenTo(e, 'remove', this.removedAsset),\r\n            this.listenTo(e, 'deselectAll', this.deselectAll)\r\n        },\r\n        handleSubmit: function (t) {\r\n          t.preventDefault()\r\n          var e = this.getAddInput(),\r\n            n = e.value.trim(),\r\n            i = this.config.handleAdd\r\n          n &&\r\n            ((e.value = ''),\r\n            (this.getAssetsEl().scrollTop = 0),\r\n            i ? i.bind(this)(n) : this.options.globalCollection.add(n, { at: 0 }))\r\n        },\r\n        getAssetsEl: function () {\r\n          return this.el.querySelector('.' + this.pfx + 'assets')\r\n        },\r\n        getAddInput: function () {\r\n          return (\r\n            (this.inputUrl && this.inputUrl.value) ||\r\n              (this.inputUrl = this.el.querySelector('.' + this.pfx + 'add-asset input')),\r\n            this.inputUrl\r\n          )\r\n        },\r\n        removedAsset: function (t) {\r\n          this.collection.length || this.toggleNoAssets()\r\n        },\r\n        addToAsset: function (t) {\r\n          1 == this.collection.length && this.toggleNoAssets(1), this.addAsset(t)\r\n        },\r\n        addAsset: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,\r\n            n = this.collection,\r\n            i = this.config,\r\n            r = new t.typeView({ model: t, collection: n, config: i }).render().el\r\n          if (e) e.appendChild(r)\r\n          else {\r\n            var o = this.getAssetsEl()\r\n            o && o.insertBefore(r, o.firstChild)\r\n          }\r\n          return r\r\n        },\r\n        toggleNoAssets: function (t) {\r\n          var e = this.$el.find('.' + this.pfx + 'assets')\r\n          if (t) e.empty()\r\n          else {\r\n            var n = this.config.noAssets\r\n            n && e.append(n)\r\n          }\r\n        },\r\n        deselectAll: function () {\r\n          var t = this.pfx\r\n          this.$el.find('.' + t + 'highlight').removeClass(t + 'highlight')\r\n        },\r\n        renderAssets: function () {\r\n          var t = this,\r\n            e = document.createDocumentFragment(),\r\n            n = this.$el.find('.' + this.pfx + 'assets')\r\n          n.empty(),\r\n            this.toggleNoAssets(this.collection.length),\r\n            this.collection.each(function (n) {\r\n              return t.addAsset(n, e)\r\n            }),\r\n            n.append(e)\r\n        },\r\n        render: function () {\r\n          var t = this.options.fu.render().el\r\n          return (\r\n            this.$el.empty(),\r\n            this.$el.append(t).append(this.template(this)),\r\n            (this.el.className = this.ppfx + 'asset-manager'),\r\n            this.renderAssets(),\r\n            (this.rendered = 1),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(1)\r\n      t.exports = function () {\r\n        var t,\r\n          e,\r\n          o = void 0,\r\n          s = {},\r\n          a = n(170),\r\n          l = n(68),\r\n          c = n(171),\r\n          u = n(172),\r\n          h = n(10),\r\n          d = n(9)\r\n        return {\r\n          Selectors: h,\r\n          name: 'CssComposer',\r\n          storageKey: function () {\r\n            var t = [],\r\n              e = (s.stm && s.stm.getConfig()) || {}\r\n            return e.storeCss && t.push('css'), e.storeStyles && t.push('styles'), t\r\n          },\r\n          init: function (n) {\r\n            for (var i in ((s = n || {}), a)) i in s || (s[i] = a[i])\r\n            var r = s.pStylePrefix\r\n            r && (s.stylePrefix = r + s.stylePrefix)\r\n            var l = (s.em && s.em.config.style) || ''\r\n            return (\r\n              (s.rules = l || s.rules), (o = s.em), (t = new c([], s)), (e = new u({ collection: t, config: s })), this\r\n            )\r\n          },\r\n          onLoad: function () {\r\n            t.add(s.rules)\r\n          },\r\n          postLoad: function (t) {\r\n            var e = this,\r\n              n = 'add remove',\r\n              i = this.getAll(),\r\n              r = t.get('UndoManager')\r\n            r && r.add(i),\r\n              t.stopListening(i, n, this.handleChange),\r\n              t.listenTo(i, n, this.handleChange),\r\n              i.each(function (t) {\r\n                return e.handleChange(t, { avoidStore: 1 })\r\n              })\r\n          },\r\n          handleChange: function (t) {\r\n            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n              n = 'change:style',\r\n              i = o.get('UndoManager')\r\n            i && i.add(t)\r\n            var r = o.handleUpdates.bind(o)\r\n            o.stopListening(t, n, r), o.listenTo(t, n, r), !e.avoidStore && r('', '', e)\r\n          },\r\n          load: function (e) {\r\n            var n = e || ''\r\n            !n && s.stm && (n = s.em.getCacheLoad())\r\n            var i = n.styles || ''\r\n            if (n.styles)\r\n              try {\r\n                i = JSON.parse(n.styles)\r\n              } catch (t) {}\r\n            else n.css && (i = s.em.get('Parser').parseCss(n.css))\r\n            return (0, r.isArray)(i) ? i.length && t.reset(i) : i && t.reset(i), i\r\n          },\r\n          store: function (e) {\r\n            if (s.stm) {\r\n              var n = {},\r\n                i = this.storageKey()\r\n              return (\r\n                i.indexOf('css') >= 0 && (n.css = s.em.getCss()),\r\n                i.indexOf('styles') >= 0 && (n.styles = JSON.stringify(t)),\r\n                e || s.stm.store(n),\r\n                n\r\n              )\r\n            }\r\n          },\r\n          add: function (e, n, r) {\r\n            var o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {},\r\n              a = n || '',\r\n              c = r || '',\r\n              u = i({}, o),\r\n              h = this.get(e, a, c, u)\r\n            return h && h.config && !h.config.singleAtRule\r\n              ? h\r\n              : ((u.state = a),\r\n                (u.mediaText = c),\r\n                (u.selectors = ''),\r\n                (h = new l(u, s)).get('selectors').add(e),\r\n                t.add(h),\r\n                h)\r\n          },\r\n          get: function (e, n, i, r) {\r\n            var o = null\r\n            return (\r\n              t.each(function (t) {\r\n                o || (t.compare(e, n, i, r) && (o = t))\r\n              }),\r\n              o\r\n            )\r\n          },\r\n          getAll: function () {\r\n            return t\r\n          },\r\n          clear: function () {\r\n            return this.getAll().reset(), this\r\n          },\r\n          addCollection: function (t) {\r\n            for (\r\n              var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n                n = [],\r\n                r = t instanceof Array ? t : [t],\r\n                o = 0,\r\n                a = r.length;\r\n              o < a;\r\n              o++\r\n            ) {\r\n              var l = r[o] || {}\r\n              if (l.selectors) {\r\n                var c = s.em && s.em.get('SelectorManager')\r\n                c || console.warn('Selector Manager not found')\r\n                for (var u = l.selectors, h = u instanceof Array ? u : [u], d = [], f = 0, p = h.length; f < p; f++) {\r\n                  var g = c.add(h[f])\r\n                  d.push(g)\r\n                }\r\n                var v = this.get(d, l.state, l.mediaText, l),\r\n                  m = this.add(d, l.state, l.mediaText, l),\r\n                  y = !v || !e.avoidUpdateStyle,\r\n                  b = l.style || {}\r\n                if (y) {\r\n                  var x = e.extend ? i({}, m.get('style'), b) : b\r\n                  m.set('style', x)\r\n                }\r\n                n.push(m)\r\n              }\r\n            }\r\n            return n\r\n          },\r\n          setIdRule: function (t) {\r\n            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n              n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\r\n              i = n.state || '',\r\n              r = n.mediaText || o.getCurrentMedia(),\r\n              s = o.get('SelectorManager').add({ name: t, type: d.TYPE_ID }),\r\n              a = this.add(s, i, r)\r\n            return a.setStyle(e, n), a\r\n          },\r\n          getIdRule: function (t) {\r\n            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n              n = e.state || '',\r\n              i = e.mediaText || o.getCurrentMedia(),\r\n              r = o.get('SelectorManager').get(t, d.TYPE_ID)\r\n            return r && this.get(r, n, i)\r\n          },\r\n          setClassRule: function (t) {\r\n            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n              n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\r\n              i = n.state || '',\r\n              r = n.mediaText || o.getCurrentMedia(),\r\n              s = o.get('SelectorManager').add({ name: t, type: d.TYPE_CLASS }),\r\n              a = this.add(s, i, r)\r\n            return a.setStyle(e, n), a\r\n          },\r\n          getClassRule: function (t) {\r\n            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n              n = e.state || '',\r\n              i = e.mediaText || o.getCurrentMedia(),\r\n              r = o.get('SelectorManager').get(t, d.TYPE_CLASS)\r\n            return r && this.get(r, n, i)\r\n          },\r\n          render: function () {\r\n            return e.render().el\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = { stylePrefix: 'css-', staticRules: '', rules: [] }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      var s = n(68)\r\n      t.exports = o.default.Collection.extend({\r\n        initialize: function (t, e) {\r\n          e && e.em && (this.editor = e.em),\r\n            (this.model = function (t, n) {\r\n              return !n.em && e && e.em && (n.em = e.em), new s(t, n)\r\n            })\r\n        },\r\n        add: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n          return (\r\n            'string' == typeof t && (t = this.editor.get('Parser').parseCss(t)),\r\n            (e.em = this.editor),\r\n            o.default.Collection.prototype.add.apply(this, [t, e])\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      var s = n(70),\r\n        a = n(173),\r\n        l = o.default.$,\r\n        c = function (t, e) {\r\n          return t + (e ? '-' + parseFloat(e) : '')\r\n        }\r\n      t.exports = o.default.View.extend({\r\n        initialize: function (t) {\r\n          var e = t.config || {}\r\n          ;(this.atRules = {}),\r\n            (this.config = e),\r\n            (this.em = e.em),\r\n            (this.pfx = e.stylePrefix || ''),\r\n            (this.className = this.pfx + 'rules')\r\n          var n = this.collection\r\n          this.listenTo(n, 'add', this.addTo), this.listenTo(n, 'reset', this.render)\r\n        },\r\n        addTo: function (t) {\r\n          this.addToCollection(t)\r\n        },\r\n        addToCollection: function (t, e) {\r\n          if (this.renderStarted) {\r\n            var n = e || null,\r\n              i = void 0,\r\n              r = void 0,\r\n              o = { model: t, config: this.config }\r\n            if ('keyframes' === t.get('atRuleType')) {\r\n              var l = t.getAtRule(),\r\n                u = this.atRules[l]\r\n              if (!u) {\r\n                var h = document.createElement('style')\r\n                ;(u = document.createTextNode('')),\r\n                  h.appendChild(document.createTextNode(l + '{')),\r\n                  h.appendChild(u),\r\n                  h.appendChild(document.createTextNode('}')),\r\n                  (this.atRules[l] = u),\r\n                  (i = h)\r\n              }\r\n              ;(r = new a(o)), u.appendData(r.render().el.textContent)\r\n            } else i = (r = new s(o)).render().el\r\n            var d = this.className,\r\n              f = t.get('mediaText'),\r\n              p = c(d),\r\n              g = p\r\n            if ((f && (g = c(d, this.getMediaWidth(f))), i)) {\r\n              var v = n || this.el,\r\n                m = void 0\r\n              try {\r\n                m = v.querySelector('#' + g)\r\n              } catch (t) {}\r\n              m || (m = v.querySelector('#' + p)), m.appendChild(i)\r\n            }\r\n            return i\r\n          }\r\n        },\r\n        getMediaWidth: function (t) {\r\n          return t && t.replace('(' + this.em.getConfig('mediaCondition') + ': ', '').replace(')', '')\r\n        },\r\n        render: function () {\r\n          var t = this\r\n          ;(this.renderStarted = 1), (this.atRules = {})\r\n          var e = this.$el,\r\n            n = document.createDocumentFragment(),\r\n            i = this.className\r\n          return (\r\n            e.empty(),\r\n            this.em\r\n              .get('DeviceManager')\r\n              .getAll()\r\n              .pluck('priority')\r\n              .forEach(function (t) {\r\n                l('<div id=\"' + c(i, t) + '\"></div>').appendTo(n)\r\n              }),\r\n            this.collection.each(function (e) {\r\n              return t.addToCollection(e, n)\r\n            }),\r\n            e.append(n),\r\n            e.attr('class', i),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = n(70).extend({\r\n        _createElement: function (t) {\r\n          return document.createTextNode('')\r\n        },\r\n        render: function () {\r\n          var t = this.model,\r\n            e = t.get('important')\r\n          return (this.el.textContent = t.getDeclaration({ important: e })), this\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1),\r\n        r = n(175),\r\n        o = n(176)\r\n      t.exports = function () {\r\n        var t = {},\r\n          e = void 0\r\n        return {\r\n          TraitsView: o,\r\n          name: 'TraitManager',\r\n          getConfig: function () {\r\n            return t\r\n          },\r\n          init: function () {\r\n            var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n            ;(t = n), (0, i.defaults)(t, r)\r\n            var s = t.pStylePrefix\r\n            return (\r\n              s && (t.stylePrefix = '' + s + t.stylePrefix),\r\n              (e = new o({ collection: [], editor: t.em, config: t })),\r\n              this\r\n            )\r\n          },\r\n          postRender: function () {\r\n            var t = this.getConfig().appendTo\r\n            t && ((0, i.isElement)(t) ? t : document.querySelector(t)).appendChild(this.render())\r\n          },\r\n          getTraitsViewer: function () {\r\n            return e\r\n          },\r\n          addType: function (t, n) {\r\n            var i = e.itemView\r\n            e.itemsView[t] = i.extend(n)\r\n          },\r\n          getType: function (t) {\r\n            return e.itemsView[t]\r\n          },\r\n          render: function () {\r\n            return e.render().el\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        stylePrefix: 'trt-',\r\n        appendTo: '',\r\n        labelContainer: 'Component settings',\r\n        labelPlhText: 'eg. Text here',\r\n        labelPlhHref: 'eg. https://google.com',\r\n        optionsTarget: [{ value: '', name: 'This window' }, { value: '_blank', name: 'New window' }],\r\n        textNoElement: 'Select an element before using Trait Manager'\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(71),\r\n        r = n(7),\r\n        o = n(177),\r\n        s = n(178),\r\n        a = n(179),\r\n        l = n(180),\r\n        c = n(181)\r\n      t.exports = i.extend({\r\n        itemView: r,\r\n        itemsView: { text: r, number: a, select: o, checkbox: s, color: l, button: c },\r\n        initialize: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            e = t.config || {}\r\n          ;(this.config = e),\r\n            (this.em = t.editor),\r\n            (this.pfx = e.stylePrefix || ''),\r\n            (this.ppfx = e.pStylePrefix || ''),\r\n            (this.className = this.pfx + 'traits')\r\n          this.listenTo(this.em, 'component:toggled', this.updatedCollection), this.updatedCollection()\r\n        },\r\n        updatedCollection: function () {\r\n          var t = this.ppfx,\r\n            e = this.em.getSelected()\r\n          ;(this.el.className = this.className + ' ' + t + 'one-bg ' + t + 'two-color'),\r\n            (this.collection = e ? e.get('traits') : []),\r\n            this.render()\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      ;(function (e) {\r\n        var i = n(7),\r\n          r = n(0).$\r\n        t.exports = i.extend({\r\n          initialize: function (t) {\r\n            i.prototype.initialize.apply(this, arguments)\r\n            var e = this.ppfx\r\n            this.tmpl =\r\n              '<div class=\"' +\r\n              this.fieldClass +\r\n              '\"><div class=\"' +\r\n              this.inputhClass +\r\n              '\"></div><div class=\"' +\r\n              e +\r\n              'sel-arrow\"><div class=\"' +\r\n              e +\r\n              'd-s-arrow\"></div></div> </div>'\r\n          },\r\n          getInputEl: function () {\r\n            if (!this.$input) {\r\n              var t = this.model,\r\n                n = t.get('options') || [],\r\n                i = '<select>'\r\n              n.length &&\r\n                e.each(n, function (t) {\r\n                  var e,\r\n                    n,\r\n                    r,\r\n                    o = ''\r\n                  'string' == typeof t\r\n                    ? ((e = t), (n = t))\r\n                    : ((e = t.name ? t.name : t.value),\r\n                      (n = t.value.replace(/\"/g, '&quot;')),\r\n                      (o += (r = t.style ? t.style.replace(/\"/g, '&quot;') : '') ? 'style=\"' + r + '\"' : '')),\r\n                    (i += '<option value=\"' + n + '\" ' + o + '>' + e + '</option>')\r\n                }),\r\n                (i += '</select>'),\r\n                (this.input = i),\r\n                (this.$input = r(this.input))\r\n              var o = this.target,\r\n                s = t.get('name'),\r\n                a = t.get('value')\r\n              if (t.get('changeProp')) a = a || o.get(s)\r\n              else a = o.get('attributes')[s]\r\n              a && this.$input.val(a)\r\n            }\r\n            return this.$input.get(0)\r\n          }\r\n        })\r\n      }.call(this, n(1)))\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1),\r\n        r = n(7)\r\n      t.exports = r.extend({\r\n        initialize: function (t) {\r\n          r.prototype.initialize.apply(this, arguments)\r\n          var e = this.ppfx,\r\n            n = this.fieldClass,\r\n            i = this.inputhClass\r\n          this.tmpl =\r\n            '<div class=\"' +\r\n            n +\r\n            '\">\\n        <label class=\"' +\r\n            i +\r\n            '\">\\n          <i class=\"' +\r\n            e +\r\n            'chk-icon\"></i>\\n        </label>\\n      </div>'\r\n        },\r\n        onChange: function () {\r\n          var t = this.getInputEl().checked\r\n          this.model.set('value', this.getCheckedValue(t))\r\n        },\r\n        getCheckedValue: function (t) {\r\n          var e = t,\r\n            n = this.model.attributes,\r\n            r = n.valueTrue,\r\n            o = n.valueFalse\r\n          return e && !(0, i.isUndefined)(r) && (e = r), e || (0, i.isUndefined)(o) || (e = o), e\r\n        },\r\n        getInputEl: function () {\r\n          for (var t = !this.$input, e = arguments.length, n = Array(e), o = 0; o < e; o++) n[o] = arguments[o]\r\n          var s = r.prototype.getInputEl.apply(this, n)\r\n          if (t) {\r\n            var a = void 0,\r\n              l = void 0,\r\n              c = this.model,\r\n              u = this.target,\r\n              h = c.attributes,\r\n              d = (h.valueTrue, h.valueFalse),\r\n              f = c.get('name')\r\n            c.get('changeProp') ? (l = a = u.get(f)) : (a = !(!(l = u.get('attributes')[f]) && '' !== l)),\r\n              (0, i.isUndefined)(d) || l !== d || (a = !1),\r\n              (s.checked = a)\r\n          }\r\n          return s\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(7),\r\n        r = n(22)\r\n      t.exports = i.extend({\r\n        getValueForTarget: function () {\r\n          var t = this.model,\r\n            e = t.get('value'),\r\n            n = t.get('unit')\r\n          return e ? e + n : ''\r\n        },\r\n        getInputEl: function () {\r\n          if (!this.$input) {\r\n            var t = this.getModelValue(),\r\n              e = new r({ contClass: this.ppfx + 'field-int', model: this.model, ppfx: this.ppfx })\r\n            ;(this.input = e.render()),\r\n              (this.$input = this.input.inputEl),\r\n              (this.$unit = this.input.unitEl),\r\n              this.model.set('value', t),\r\n              this.$input.val(t)\r\n          }\r\n          return this.$input.get(0)\r\n        },\r\n        renderField: function () {\r\n          this.$input ||\r\n            (this.$el.append(this.tmpl),\r\n            this.getInputEl(),\r\n            this.$el.find('.' + this.inputhClass).prepend(this.input.el))\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(7),\r\n        r = n(57)\r\n      t.exports = i.extend({\r\n        getInputEl: function () {\r\n          if (!this.$input) {\r\n            var t = this.model,\r\n              e = this.getModelValue(),\r\n              n = new r({\r\n                model: t,\r\n                target: this.config.em,\r\n                contClass: this.ppfx + 'field-color',\r\n                ppfx: this.ppfx\r\n              }).render()\r\n            ;(this.$input = n.colorEl), n.setValue(e, { fromTarget: 1 }), (this.input = n)\r\n          }\r\n          return this.$input.get(0)\r\n        },\r\n        renderField: function () {\r\n          this.$input || (this.getInputEl(), this.$el.append(this.input.el))\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1),\r\n        r = n(7)\r\n      t.exports = r.extend({\r\n        events: { 'click button': 'handleClick' },\r\n        handleClick: function () {\r\n          var t = this.model,\r\n            e = this.em,\r\n            n = t.get('command')\r\n          n && ((0, i.isString)(n) ? e.get('Commands').run(n) : n(e.get('Editor'), t))\r\n        },\r\n        renderLabel: function () {\r\n          this.model.get('label') && r.prototype.renderLabel.apply(this, arguments)\r\n        },\r\n        getInputEl: function () {\r\n          if (!this.input) {\r\n            var t = this.model,\r\n              e = this.ppfx,\r\n              n = (this.getModelValue(), t.get('labelButton') || ''),\r\n              i = e + 'btn',\r\n              r =\r\n                '<button type=\"button\" class=\"' +\r\n                i +\r\n                '-prim' +\r\n                (t.get('full') ? ' ' + i + '--full' : '') +\r\n                '\">\\n        ' +\r\n                n +\r\n                '</button>'\r\n            this.input = r\r\n          }\r\n          return this.input\r\n        },\r\n        renderField: function () {\r\n          this.$input || this.$el.append(this.getInputEl())\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r =\r\n          'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator\r\n            ? function (t) {\r\n                return typeof t\r\n              }\r\n            : function (t) {\r\n                return t && 'function' == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype\r\n                  ? 'symbol'\r\n                  : typeof t\r\n              },\r\n        o =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        s = n(0),\r\n        a = (i = s) && i.__esModule ? i : { default: i },\r\n        l = n(1)\r\n      t.exports = function () {\r\n        var t,\r\n          e,\r\n          i = {},\r\n          s = void 0,\r\n          c = n(183),\r\n          u = n(3),\r\n          h = n(4),\r\n          d = n(23),\r\n          f = n(72),\r\n          p = [\r\n            { id: 'cell', model: n(187), view: n(188) },\r\n            { id: 'row', model: n(189), view: n(190) },\r\n            { id: 'table', model: n(191), view: n(192) },\r\n            { id: 'thead', model: n(193), view: n(194) },\r\n            { id: 'tbody', model: n(24), view: n(195) },\r\n            { id: 'tfoot', model: n(196), view: n(197) },\r\n            { id: 'map', model: n(198), view: n(199) },\r\n            { id: 'link', model: n(200), view: n(73) },\r\n            { id: 'label', model: n(201), view: n(202) },\r\n            { id: 'video', model: n(203), view: n(204) },\r\n            { id: 'image', model: n(25), view: n(18) },\r\n            { id: 'script', model: n(205), view: n(206) },\r\n            { id: 'svg', model: n(207), view: n(208) },\r\n            { id: 'textnode', model: n(209), view: n(210) },\r\n            { id: 'text', model: n(26), view: n(74) },\r\n            { id: 'wrapper', model: n(211), view: h },\r\n            { id: 'default', model: u, view: h }\r\n          ]\r\n        return {\r\n          Component: u,\r\n          Components: d,\r\n          ComponentsView: f,\r\n          componentTypes: p,\r\n          name: 'DomComponents',\r\n          getConfig: function () {\r\n            return i\r\n          },\r\n          storageKey: function () {\r\n            var t = [],\r\n              e = (i.stm && i.stm.getConfig()) || {}\r\n            return e.storeHtml && t.push('html'), e.storeComponents && t.push('components'), t\r\n          },\r\n          init: function (n) {\r\n            var r = this\r\n            for (var a in ((s = (i = n || {}).em),\r\n            (this.em = s),\r\n            s && (i.components = s.config.components || i.components),\r\n            c))\r\n              a in i || (i[a] = c[a])\r\n            var l = i.pStylePrefix\r\n            if ((l && (i.stylePrefix = l + i.stylePrefix), s)) {\r\n              ;(i.modal = s.get('Modal') || ''),\r\n                (i.am = s.get('AssetManager') || ''),\r\n                (s.get('Parser').compTypes = p),\r\n                s.on('change:componentHovered', this.componentHovered, this)\r\n              var d = s.get('selected')\r\n              s.listenTo(d, 'add', function (t, e, n) {\r\n                return r.selectAdd(t, n)\r\n              }),\r\n                s.listenTo(d, 'remove', function (t, e, n) {\r\n                  return r.selectRemove(t, n)\r\n                })\r\n            }\r\n            var f = i.components,\r\n              g = o({}, i.wrapper)\r\n            return (\r\n              (g['custom-name'] = i.wrapperName),\r\n              (g.wrapper = 1),\r\n              (g.type = 'wrapper'),\r\n              f &&\r\n                f.constructor === Object &&\r\n                f.wrapper &&\r\n                ((g = o({}, f)),\r\n                (f = f.components || []),\r\n                (g.components = []),\r\n                s && ((s.config.components = f), (i.components = f))),\r\n              (t = new u(g, { em: s, config: i, componentTypes: p })).set({ attributes: { id: 'wrapper' } }),\r\n              (e = new h({ model: t, config: i, componentTypes: p })),\r\n              this\r\n            )\r\n          },\r\n          onLoad: function () {\r\n            this.setComponents(i.components)\r\n          },\r\n          postLoad: function (t) {\r\n            this.handleChanges(this.getWrapper(), null, { avoidStore: 1 })\r\n          },\r\n          handleChanges: function (t, e) {\r\n            var n = this,\r\n              i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\r\n              r = t.components(),\r\n              o = s.get('UndoManager'),\r\n              a = s.handleUpdates.bind(s),\r\n              l = this.handleChanges.bind(this),\r\n              c = this.handleChangesColl.bind(this),\r\n              u = this.handleRemoves.bind(this)\r\n            o && o.add(t), o && r && o.add(r)\r\n            ;[\r\n              [t, 'change:style change:content change:attributes change:src', a],\r\n              [t, 'change:components', c],\r\n              [r, 'add', l],\r\n              [r, 'remove', u],\r\n              [t.get('classes'), 'add remove', a]\r\n            ].forEach(function (t) {\r\n              s.stopListening(t[0], t[1], t[2]), s.listenTo(t[0], t[1], t[2])\r\n            }),\r\n              !i.avoidStore && a('', '', i),\r\n              r.each(function (t) {\r\n                return n.handleChanges(t, e, i)\r\n              })\r\n          },\r\n          handleChangesColl: function (t, e) {\r\n            var n = s.get('UndoManager')\r\n            if (n && e instanceof a.default.Collection) {\r\n              var i = this.handleChanges.bind(this),\r\n                r = this.handleRemoves.bind(this)\r\n              n.add(e),\r\n                [[e, 'add', i], [e, 'remove', r]].forEach(function (t) {\r\n                  s.stopListening(t[0], t[1], t[2]), s.listenTo(t[0], t[1], t[2])\r\n                })\r\n            }\r\n          },\r\n          handleRemoves: function (t, e) {\r\n            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}\r\n            !n.avoidStore && s.handleUpdates(t, e, n)\r\n          },\r\n          load: function () {\r\n            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : '',\r\n              e = this.em,\r\n              n = ''\r\n            !t && i.stm && (t = i.em.getCacheLoad())\r\n            var r = t,\r\n              o = r.components,\r\n              s = r.html\r\n            if (o)\r\n              if ((0, l.isObject)(o) || (0, l.isArray)(o)) n = o\r\n              else\r\n                try {\r\n                  n = JSON.parse(o)\r\n                } catch (t) {\r\n                  e && e.logError(t)\r\n                }\r\n            else s && (n = s)\r\n            var a = n && n.constructor === Object\r\n            return (\r\n              ((n && n.length) || a) && (this.clear(), a ? this.getWrapper().set(n) : this.getComponents().add(n)), n\r\n            )\r\n          },\r\n          store: function (t) {\r\n            if (i.stm) {\r\n              var e = {},\r\n                n = this.storageKey()\r\n              if ((n.indexOf('html') >= 0 && (e.html = i.em.getHtml()), n.indexOf('components') >= 0)) {\r\n                this.em\r\n                var r = i.storeWrapper ? this.getWrapper() : this.getComponents()\r\n                e.components = JSON.stringify(r)\r\n              }\r\n              return t || i.stm.store(e), e\r\n            }\r\n          },\r\n          getComponent: function () {\r\n            return t\r\n          },\r\n          getWrapper: function () {\r\n            return this.getComponent()\r\n          },\r\n          getComponents: function () {\r\n            return this.getWrapper().get('components')\r\n          },\r\n          addComponent: function (t) {\r\n            return this.getComponents().add(t)\r\n          },\r\n          render: function () {\r\n            return e.render().el\r\n          },\r\n          clear: function () {\r\n            return this.getComponents().reset(), this\r\n          },\r\n          setComponents: function (t) {\r\n            this.clear().addComponent(t)\r\n          },\r\n          addType: function (t, e) {\r\n            var n = e.model,\r\n              i = void 0 === n ? {} : n,\r\n              s = e.view,\r\n              a = void 0 === s ? {} : s,\r\n              l = e.isComponent,\r\n              c = e.extend,\r\n              u = e.extendView,\r\n              h = this.getType(t),\r\n              d = this.getType(c),\r\n              f = this.getType(u),\r\n              g = d || (h || this.getType('default')),\r\n              v = g.model,\r\n              m = f ? f.view : g.view\r\n            return (\r\n              'object' === (void 0 === i ? 'undefined' : r(i)) &&\r\n                (e.model = v.extend(o({}, i, { defaults: o({}, v.prototype.defaults, i.defaults || {}) }), {\r\n                  isComponent:\r\n                    !h || d || l\r\n                      ? l ||\r\n                        function () {\r\n                          return 0\r\n                        }\r\n                      : v.isComponent\r\n                })),\r\n              'object' === (void 0 === a ? 'undefined' : r(a)) && (e.view = m.extend(o({}, a))),\r\n              h ? ((h.model = e.model), (h.view = e.view)) : ((e.id = t), p.unshift(e)),\r\n              this\r\n            )\r\n          },\r\n          getType: function (t) {\r\n            for (var e = p, n = 0; n < e.length; n++) {\r\n              if (e[n].id == t) return e[n]\r\n            }\r\n          },\r\n          getTypes: function () {\r\n            return p\r\n          },\r\n          selectAdd: function (t) {\r\n            var e = this,\r\n              n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n            t &&\r\n              (t.set({ status: 'selected' }),\r\n              ['component:selected', 'component:toggled'].forEach(function (i) {\r\n                return e.em.trigger(i, t, n)\r\n              }))\r\n          },\r\n          selectRemove: function (t) {\r\n            var e = this,\r\n              n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n            if (t) {\r\n              this.em\r\n              t.set({ status: '', state: '' }),\r\n                ['component:deselected', 'component:toggled'].forEach(function (i) {\r\n                  return e.em.trigger(i, t, n)\r\n                })\r\n            }\r\n          },\r\n          componentHovered: function () {\r\n            var t = i.em,\r\n              e = t.get('componentHovered'),\r\n              n = t.previous('componentHovered')\r\n            n && 'hovered' == n.get('status') && n.set({ status: '', state: '' }),\r\n              e && (0, l.isEmpty)(e.get('status')) && e.set('status', 'hovered')\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        stylePrefix: 'comp-',\r\n        wrapperId: 'wrapper',\r\n        wrapperName: 'Body',\r\n        wrapper: {\r\n          removable: !1,\r\n          copyable: !1,\r\n          draggable: !1,\r\n          components: [],\r\n          traits: [],\r\n          stylable: [\r\n            'background',\r\n            'background-color',\r\n            'background-image',\r\n            'background-repeat',\r\n            'background-attachment',\r\n            'background-position',\r\n            'background-size'\r\n          ]\r\n        },\r\n        components: [],\r\n        imageCompClass: 'fa fa-picture-o',\r\n        oAssetsOnCreate: !0,\r\n        storeWrapper: 0,\r\n        voidElements: [\r\n          'area',\r\n          'base',\r\n          'br',\r\n          'col',\r\n          'embed',\r\n          'hr',\r\n          'img',\r\n          'input',\r\n          'keygen',\r\n          'link',\r\n          'menuitem',\r\n          'meta',\r\n          'param',\r\n          'source',\r\n          'track',\r\n          'wbr'\r\n        ]\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1),\r\n        r = n(0),\r\n        o = n(185),\r\n        s = n(186)\r\n      t.exports = r.Collection.extend({\r\n        model: o,\r\n        initialize: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n          ;(this.em = e.em || ''), this.listenTo(this, 'add', this.handleAdd)\r\n        },\r\n        handleAdd: function (t) {\r\n          var e = this.target\r\n          e && (t.target = e)\r\n        },\r\n        setTarget: function (t) {\r\n          this.target = t\r\n        },\r\n        add: function (t, e) {\r\n          var n = this.em\r\n          if ((0, i.isString)(t) || (0, i.isArray)(t)) {\r\n            var o = n && n.get && n.get('TraitManager'),\r\n              a = o && o.getConfig(),\r\n              l = s(a)\r\n            ;(0, i.isString)(t) && (t = [t])\r\n            for (var c = 0, u = t.length; c < u; c++) {\r\n              var h = t[c],\r\n                d = (0, i.isString)(h) ? l.build(h)[0] : h\r\n              ;(d.target = this.target), (t[c] = d)\r\n            }\r\n          }\r\n          return r.Collection.prototype.add.apply(this, [t, e])\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(1)\r\n      t.exports = n(0).Model.extend({\r\n        defaults: {\r\n          type: 'text',\r\n          label: '',\r\n          name: '',\r\n          min: '',\r\n          max: '',\r\n          unit: '',\r\n          step: 1,\r\n          value: '',\r\n          target: '',\r\n          default: '',\r\n          placeholder: '',\r\n          changeProp: 0,\r\n          options: []\r\n        },\r\n        initialize: function () {\r\n          var t = this.get('target'),\r\n            e = this.get('name'),\r\n            n = this.get('changeProp')\r\n          if (t) {\r\n            ;(this.target = t), this.unset('target')\r\n            var i = n ? 'change:' + e : 'change:attributes:' + e\r\n            this.listenTo(t, i, this.targetUpdated)\r\n          }\r\n        },\r\n        targetUpdated: function () {\r\n          var t = this.getTargetValue()\r\n          this.set({ value: t }, { fromTarget: 1 })\r\n        },\r\n        getTargetValue: function () {\r\n          var t = this.get('name'),\r\n            e = this.target,\r\n            n = void 0\r\n          return (n = this.get('changeProp') ? e.get(t) : e.getAttributes()[t]), (0, r.isUndefined)(n) ? '' : n\r\n        },\r\n        setTargetValue: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n            n = this.target,\r\n            o = this.get('name')\r\n          if (!(0, r.isUndefined)(t))\r\n            if (this.get('changeProp')) n.set(o, t, e)\r\n            else {\r\n              var s = i({}, n.get('attributes'))\r\n              ;(s[o] = t), n.set('attributes', s, e)\r\n            }\r\n        },\r\n        setValueFromInput: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,\r\n            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\r\n            r = { value: t }\r\n          this.set(r, i({}, n, { avoidStore: 1 })), e && (this.set('value', '', n), this.set(r, n))\r\n        },\r\n        getInitValue: function () {\r\n          var t = this.target,\r\n            e = this.get('name'),\r\n            n = void 0\r\n          if (t) {\r\n            var i = t.get('attributes')\r\n            n = this.get('changeProp') ? t.get(e) : i[e]\r\n          }\r\n          return n || this.get('value') || this.get('default')\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = function () {\r\n        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n        return {\r\n          build: function (e) {\r\n            var n = []\r\n            'string' == typeof e && (e = [e])\r\n            for (var i = 0; i < e.length; i++) {\r\n              var r = {},\r\n                o = e[i]\r\n              switch (((r.name = o), o)) {\r\n                case 'target':\r\n                  r.type = 'select'\r\n              }\r\n              switch (o) {\r\n                case 'title':\r\n                case 'alt':\r\n                case 'id':\r\n                  r.placeholder = t.labelPlhText\r\n                  break\r\n                case 'href':\r\n                  r.placeholder = t.labelPlhHref\r\n              }\r\n              switch (o) {\r\n                case 'target':\r\n                  r.options = t.optionsTarget\r\n              }\r\n              n.push(r)\r\n            }\r\n            return n\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(3)\r\n      t.exports = r.extend(\r\n        { defaults: i({}, r.prototype.defaults, { type: 'cell', tagName: 'td', draggable: ['tr'] }) },\r\n        {\r\n          isComponent: function (t) {\r\n            var e = '',\r\n              n = t.tagName\r\n            return ('TD' != n && 'TH' != n) || (e = { type: 'cell', tagName: n.toLowerCase() }), e\r\n          }\r\n        }\r\n      )\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = n(4).extend({})\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(3)\r\n      t.exports = r.extend(\r\n        {\r\n          defaults: i({}, r.prototype.defaults, {\r\n            type: 'row',\r\n            tagName: 'tr',\r\n            draggable: ['thead', 'tbody', 'tfoot'],\r\n            droppable: ['th', 'td']\r\n          }),\r\n          initialize: function (t, e) {\r\n            r.prototype.initialize.apply(this, arguments)\r\n            var n = [],\r\n              i = this.get('components')\r\n            i.each(function (t) {\r\n              return t.is('cell') && n.push(t)\r\n            }),\r\n              i.reset(n)\r\n          }\r\n        },\r\n        {\r\n          isComponent: function (t) {\r\n            var e = ''\r\n            return 'TR' == t.tagName && (e = { type: 'row' }), e\r\n          }\r\n        }\r\n      )\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = n(4).extend({})\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(3)\r\n      t.exports = r.extend(\r\n        {\r\n          defaults: i({}, r.prototype.defaults, {\r\n            type: 'table',\r\n            tagName: 'table',\r\n            droppable: ['tbody', 'thead', 'tfoot']\r\n          }),\r\n          initialize: function (t, e) {\r\n            r.prototype.initialize.apply(this, arguments)\r\n            var n = this.get('components')\r\n            !n.length && n.add({ type: 'tbody' })\r\n          }\r\n        },\r\n        {\r\n          isComponent: function (t) {\r\n            var e = ''\r\n            return 'TABLE' == t.tagName && (e = { type: 'table' }), e\r\n          }\r\n        }\r\n      )\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = n(4).extend({ events: {} })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(24)\r\n      t.exports = r.extend(\r\n        { defaults: i({}, r.prototype.defaults, { type: 'thead', tagName: 'thead' }) },\r\n        {\r\n          isComponent: function (t) {\r\n            var e = ''\r\n            return 'THEAD' == t.tagName && (e = { type: 'thead' }), e\r\n          }\r\n        }\r\n      )\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = n(4).extend({})\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = n(4).extend({})\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(24)\r\n      t.exports = r.extend(\r\n        { defaults: i({}, r.prototype.defaults, { type: 'tfoot', tagName: 'tfoot' }) },\r\n        {\r\n          isComponent: function (t) {\r\n            var e = ''\r\n            return 'TFOOT' == t.tagName && (e = { type: 'tfoot' }), e\r\n          }\r\n        }\r\n      )\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = n(4).extend({})\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(25),\r\n        o = n(3)\r\n      t.exports = r.extend(\r\n        {\r\n          defaults: i({}, r.prototype.defaults, {\r\n            type: 'map',\r\n            void: 0,\r\n            mapUrl: 'https://maps.google.com/maps',\r\n            tagName: 'iframe',\r\n            mapType: 'q',\r\n            address: '',\r\n            zoom: '1',\r\n            attributes: { frameborder: 0 },\r\n            toolbar: o.prototype.defaults.toolbar,\r\n            traits: [\r\n              { label: 'Address', name: 'address', placeholder: 'eg. London, UK', changeProp: 1 },\r\n              {\r\n                type: 'select',\r\n                label: 'Map type',\r\n                name: 'mapType',\r\n                changeProp: 1,\r\n                options: [{ value: 'q', name: 'Roadmap' }, { value: 'w', name: 'Satellite' }]\r\n              },\r\n              { label: 'Zoom', name: 'zoom', type: 'range', min: '1', max: '20', changeProp: 1 }\r\n            ]\r\n          }),\r\n          initialize: function (t, e) {\r\n            this.get('src') ? this.parseFromSrc() : this.updateSrc(),\r\n              r.prototype.initialize.apply(this, arguments),\r\n              this.listenTo(this, 'change:address change:zoom change:mapType', this.updateSrc)\r\n          },\r\n          updateSrc: function () {\r\n            this.set('src', this.getMapUrl())\r\n          },\r\n          getMapUrl: function () {\r\n            var t = this.get('address'),\r\n              e = this.get('zoom'),\r\n              n = this.get('mapType')\r\n            ;(t = t ? '&q=' + t : ''), (e = e ? '&z=' + e : ''), (n = n ? '&t=' + n : '')\r\n            var i = this.get('mapUrl') + '?' + t + e + n\r\n            return (i += '&output=embed')\r\n          },\r\n          parseFromSrc: function () {\r\n            var t = this.parseUri(this.get('src')).query\r\n            t.q && this.set('address', t.q), t.z && this.set('zoom', t.z), t.t && this.set('mapType', t.t)\r\n          }\r\n        },\r\n        {\r\n          isComponent: function (t) {\r\n            var e = ''\r\n            return 'IFRAME' == t.tagName && /maps\\.google\\.com/.test(t.src) && (e = { type: 'map', src: t.src }), e\r\n          }\r\n        }\r\n      )\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      n(0)\r\n      var i = n(18)\r\n      t.exports = i.extend({\r\n        tagName: 'div',\r\n        events: {},\r\n        initialize: function (t) {\r\n          i.prototype.initialize.apply(this, arguments), (this.classEmpty = this.ppfx + 'plh-map')\r\n        },\r\n        updateSrc: function () {\r\n          this.getIframe().src = this.model.get('src')\r\n        },\r\n        getIframe: function () {\r\n          if (!this.iframe) {\r\n            var t = document.createElement('iframe')\r\n            ;(t.src = this.model.get('src')),\r\n              (t.frameBorder = 0),\r\n              (t.style.height = '100%'),\r\n              (t.style.width = '100%'),\r\n              (t.className = this.ppfx + 'no-pointer'),\r\n              (this.iframe = t)\r\n          }\r\n          return this.iframe\r\n        },\r\n        render: function () {\r\n          for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n          return i.prototype.render.apply(this, e), this.updateClasses(), this.el.appendChild(this.getIframe()), this\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(26)\r\n      t.exports = r.extend(\r\n        {\r\n          defaults: i({}, r.prototype.defaults, { type: 'link', tagName: 'a', traits: ['title', 'href', 'target'] }),\r\n          getAttrToHTML: function () {\r\n            for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n            var i = r.prototype.getAttrToHTML.apply(this, e)\r\n            return delete i.onmousedown, i\r\n          }\r\n        },\r\n        {\r\n          isComponent: function (t) {\r\n            var e = void 0\r\n            if ('A' == t.tagName) {\r\n              e = { type: 'link', editable: 0 }\r\n              var n = t.childNodes,\r\n                i = n.length\r\n              i || delete e.editable\r\n              for (var r = 0; r < i; r++) {\r\n                var o = n[r]\r\n                if (3 == o.nodeType && '' != o.textContent.trim()) {\r\n                  delete e.editable\r\n                  break\r\n                }\r\n              }\r\n            }\r\n            return e\r\n          }\r\n        }\r\n      )\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(26)\r\n      t.exports = r.extend(\r\n        { defaults: i({}, r.prototype.defaults, { tagName: 'label', traits: ['id', 'title', 'for'] }) },\r\n        {\r\n          isComponent: function (t) {\r\n            if ('LABEL' == t.tagName) return { type: 'label' }\r\n          }\r\n        }\r\n      )\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = n(73).extend({})\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(25),\r\n        o = n(3),\r\n        s = 'yt',\r\n        a = 'vi',\r\n        l = 'ytnc'\r\n      t.exports = r.extend(\r\n        {\r\n          defaults: i({}, r.prototype.defaults, {\r\n            type: 'video',\r\n            tagName: 'video',\r\n            videoId: '',\r\n            void: 0,\r\n            provider: '',\r\n            ytUrl: 'https://www.youtube.com/embed/',\r\n            ytncUrl: 'https://www.youtube-nocookie.com/embed/',\r\n            viUrl: 'https://player.vimeo.com/video/',\r\n            loop: 0,\r\n            poster: '',\r\n            muted: 0,\r\n            autoplay: 0,\r\n            controls: 1,\r\n            color: '',\r\n            rel: 1,\r\n            modestbranding: 0,\r\n            sources: [],\r\n            attributes: { allowfullscreen: 'allowfullscreen' },\r\n            toolbar: o.prototype.defaults.toolbar\r\n          }),\r\n          initialize: function (t, e) {\r\n            var n = []\r\n            switch (this.get('provider')) {\r\n              case s:\r\n              case l:\r\n                n = this.getYoutubeTraits()\r\n                break\r\n              case a:\r\n                n = this.getVimeoTraits()\r\n                break\r\n              default:\r\n                n = this.getSourceTraits()\r\n            }\r\n            this.get('src') && this.parseFromSrc(),\r\n              this.set('traits', n),\r\n              r.prototype.initialize.apply(this, arguments),\r\n              this.listenTo(this, 'change:provider', this.updateTraits),\r\n              this.listenTo(this, 'change:videoId change:provider', this.updateSrc)\r\n          },\r\n          initToolbar: function () {\r\n            for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n            o.prototype.initToolbar.apply(this, e)\r\n          },\r\n          parseFromSrc: function () {\r\n            var t = this.get('provider'),\r\n              e = this.parseUri(this.get('src')),\r\n              n = e.query\r\n            switch (t) {\r\n              case s:\r\n              case l:\r\n              case a:\r\n                var i = e.pathname.split('/').pop()\r\n                this.set('videoId', i),\r\n                  n.autoplay && this.set('autoplay', 1),\r\n                  n.loop && this.set('loop', 1),\r\n                  0 === parseInt(n.controls) && this.set('controls', 0),\r\n                  n.color && this.set('color', n.color),\r\n                  '0' === n.rel && this.set('rel', 0),\r\n                  '1' === n.modestbranding && this.set('modestbranding', 1)\r\n            }\r\n          },\r\n          updateSrc: function () {\r\n            switch (this.get('provider')) {\r\n              case s:\r\n                this.set('src', this.getYoutubeSrc())\r\n                break\r\n              case l:\r\n                this.set('src', this.getYoutubeNoCookieSrc())\r\n                break\r\n              case a:\r\n                this.set('src', this.getVimeoSrc())\r\n            }\r\n          },\r\n          getAttrToHTML: function () {\r\n            for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n            var i = r.prototype.getAttrToHTML.apply(this, e)\r\n            switch (this.get('provider')) {\r\n              case s:\r\n              case l:\r\n              case a:\r\n                break\r\n              default:\r\n                this.get('loop') && (i.loop = 'loop'),\r\n                  this.get('autoplay') && (i.autoplay = 'autoplay'),\r\n                  this.get('controls') && (i.controls = 'controls')\r\n            }\r\n            return i\r\n          },\r\n          updateTraits: function () {\r\n            var t = this.get('provider'),\r\n              e = this.getSourceTraits()\r\n            switch (t) {\r\n              case s:\r\n              case l:\r\n                this.set('tagName', 'iframe'), (e = this.getYoutubeTraits())\r\n                break\r\n              case a:\r\n                this.set('tagName', 'iframe'), (e = this.getVimeoTraits())\r\n                break\r\n              default:\r\n                this.set('tagName', 'video')\r\n            }\r\n            this.loadTraits(e), this.em.trigger('component:toggled')\r\n          },\r\n          getProviderTrait: function () {\r\n            return {\r\n              type: 'select',\r\n              label: 'Provider',\r\n              name: 'provider',\r\n              changeProp: 1,\r\n              value: this.get('provider'),\r\n              options: [\r\n                { value: 'so', name: 'HTML5 Source' },\r\n                { value: s, name: 'Youtube' },\r\n                { value: l, name: 'Youtube (no cookie)' },\r\n                { value: a, name: 'Vimeo' }\r\n              ]\r\n            }\r\n          },\r\n          getSourceTraits: function () {\r\n            return [\r\n              this.getProviderTrait(),\r\n              { label: 'Source', name: 'src', placeholder: 'eg. ./media/video.mp4', changeProp: 1 },\r\n              { label: 'Poster', name: 'poster', placeholder: 'eg. ./media/image.jpg', changeProp: 1 },\r\n              this.getAutoplayTrait(),\r\n              this.getLoopTrait(),\r\n              this.getControlsTrait()\r\n            ]\r\n          },\r\n          getYoutubeTraits: function () {\r\n            return [\r\n              this.getProviderTrait(),\r\n              { label: 'Video ID', name: 'videoId', placeholder: 'eg. jNQXAC9IVRw', changeProp: 1 },\r\n              this.getAutoplayTrait(),\r\n              this.getLoopTrait(),\r\n              this.getControlsTrait(),\r\n              { type: 'checkbox', label: 'Related', name: 'rel', changeProp: 1 },\r\n              { type: 'checkbox', label: 'Modest', name: 'modestbranding', changeProp: 1 }\r\n            ]\r\n          },\r\n          getVimeoTraits: function () {\r\n            return [\r\n              this.getProviderTrait(),\r\n              { label: 'Video ID', name: 'videoId', placeholder: 'eg. 123456789', changeProp: 1 },\r\n              { label: 'Color', name: 'color', placeholder: 'eg. FF0000', changeProp: 1 },\r\n              this.getAutoplayTrait(),\r\n              this.getLoopTrait()\r\n            ]\r\n          },\r\n          getAutoplayTrait: function () {\r\n            return { type: 'checkbox', label: 'Autoplay', name: 'autoplay', changeProp: 1 }\r\n          },\r\n          getLoopTrait: function () {\r\n            return { type: 'checkbox', label: 'Loop', name: 'loop', changeProp: 1 }\r\n          },\r\n          getControlsTrait: function () {\r\n            return { type: 'checkbox', label: 'Controls', name: 'controls', changeProp: 1 }\r\n          },\r\n          getYoutubeSrc: function () {\r\n            var t = this.get('videoId'),\r\n              e = this.get('ytUrl')\r\n            return (\r\n              (e += t + '?'),\r\n              (e += this.get('autoplay') ? '&autoplay=1' : ''),\r\n              (e += this.get('controls') ? '' : '&controls=0&showinfo=0'),\r\n              (e += this.get('loop') ? '&loop=1&playlist=' + t : ''),\r\n              (e += this.get('rel') ? '' : '&rel=0'),\r\n              (e += this.get('modestbranding') ? '&modestbranding=1' : '')\r\n            )\r\n          },\r\n          getYoutubeNoCookieSrc: function () {\r\n            var t = this.getYoutubeSrc()\r\n            return (t = t.replace(this.get('ytUrl'), this.get('ytncUrl')))\r\n          },\r\n          getVimeoSrc: function () {\r\n            var t = this.get('viUrl')\r\n            return (\r\n              (t += this.get('videoId') + '?'),\r\n              (t += this.get('autoplay') ? '&autoplay=1' : ''),\r\n              (t += this.get('loop') ? '&loop=1' : ''),\r\n              (t += this.get('controls') ? '' : '&title=0&portrait=0&badge=0'),\r\n              (t += this.get('color') ? '&color=' + this.get('color') : '')\r\n            )\r\n          }\r\n        },\r\n        {\r\n          isComponent: function (t) {\r\n            var e = '',\r\n              n = /youtube\\.com\\/embed/.test(t.src),\r\n              i = /youtube-nocookie\\.com\\/embed/.test(t.src),\r\n              r = /player\\.vimeo\\.com\\/video/.test(t.src),\r\n              o = n || i || r\r\n            return (\r\n              ('VIDEO' == t.tagName || ('IFRAME' == t.tagName && o)) &&\r\n                ((e = { type: 'video' }),\r\n                t.src && (e.src = t.src),\r\n                o && (n ? (e.provider = s) : i ? (e.provider = l) : r && (e.provider = a))),\r\n              e\r\n            )\r\n          }\r\n        }\r\n      )\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      n(0)\r\n      var i = n(18),\r\n        r = n(4)\r\n      t.exports = i.extend({\r\n        tagName: 'div',\r\n        events: {},\r\n        initialize: function (t) {\r\n          r.prototype.initialize.apply(this, arguments),\r\n            this.listenTo(this.model, 'change:src', this.updateSrc),\r\n            this.listenTo(\r\n              this.model,\r\n              'change:loop change:autoplay change:controls change:color change:rel change:modestbranding change:poster',\r\n              this.updateVideo\r\n            ),\r\n            this.listenTo(this.model, 'change:provider', this.updateProvider)\r\n        },\r\n        updateProvider: function () {\r\n          var t = this.model.get('provider')\r\n          ;(this.el.innerHTML = ''), this.el.appendChild(this.renderByProvider(t))\r\n        },\r\n        updateSrc: function () {\r\n          var t = this.model.get('provider'),\r\n            e = this.model.get('src')\r\n          switch (t) {\r\n            case 'yt':\r\n              e = this.model.getYoutubeSrc()\r\n              break\r\n            case 'ytnc':\r\n              e = this.model.getYoutubeNoCookieSrc()\r\n              break\r\n            case 'vi':\r\n              e = this.model.getVimeoSrc()\r\n          }\r\n          this.videoEl.src = e\r\n        },\r\n        updateVideo: function () {\r\n          var t = this.model.get('provider'),\r\n            e = this.videoEl,\r\n            n = this.model\r\n          switch (t) {\r\n            case 'yt':\r\n            case 'ytnc':\r\n            case 'vi':\r\n              this.model.trigger('change:videoId')\r\n              break\r\n            default:\r\n              ;(e.loop = n.get('loop')),\r\n                (e.autoplay = n.get('autoplay')),\r\n                (e.controls = n.get('controls')),\r\n                (e.poster = n.get('poster'))\r\n          }\r\n        },\r\n        renderByProvider: function (t) {\r\n          var e\r\n          switch (t) {\r\n            case 'yt':\r\n              e = this.renderYoutube()\r\n              break\r\n            case 'ytnc':\r\n              e = this.renderYoutubeNoCookie()\r\n              break\r\n            case 'vi':\r\n              e = this.renderVimeo()\r\n              break\r\n            default:\r\n              e = this.renderSource()\r\n          }\r\n          return (this.videoEl = e), e\r\n        },\r\n        renderSource: function () {\r\n          var t = document.createElement('video')\r\n          return (t.src = this.model.get('src')), this.initVideoEl(t), t\r\n        },\r\n        renderYoutube: function () {\r\n          var t = document.createElement('iframe')\r\n          return (\r\n            (t.src = this.model.getYoutubeSrc()),\r\n            (t.frameBorder = 0),\r\n            t.setAttribute('allowfullscreen', !0),\r\n            this.initVideoEl(t),\r\n            t\r\n          )\r\n        },\r\n        renderYoutubeNoCookie: function () {\r\n          var t = document.createElement('iframe')\r\n          return (\r\n            (t.src = this.model.getYoutubeNoCookieSrc()),\r\n            (t.frameBorder = 0),\r\n            t.setAttribute('allowfullscreen', !0),\r\n            this.initVideoEl(t),\r\n            t\r\n          )\r\n        },\r\n        renderVimeo: function () {\r\n          var t = document.createElement('iframe')\r\n          return (\r\n            (t.src = this.model.getVimeoSrc()),\r\n            (t.frameBorder = 0),\r\n            t.setAttribute('allowfullscreen', !0),\r\n            this.initVideoEl(t),\r\n            t\r\n          )\r\n        },\r\n        initVideoEl: function (t) {\r\n          ;(t.className = this.ppfx + 'no-pointer'), (t.style.height = '100%'), (t.style.width = '100%')\r\n        },\r\n        render: function () {\r\n          for (var t = arguments.length, e = Array(t), n = 0; n < t; n++) e[n] = arguments[n]\r\n          i.prototype.render.apply(this, e), this.updateClasses()\r\n          var r = this.model.get('provider')\r\n          return this.el.appendChild(this.renderByProvider(r)), this\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(3)\r\n      t.exports = r.extend(\r\n        { defaults: i({}, r.prototype.defaults, { type: 'script', droppable: !1, draggable: !1, layerable: !1 }) },\r\n        {\r\n          isComponent: function (t) {\r\n            if ('SCRIPT' == t.tagName) {\r\n              var e = { type: 'script' }\r\n              return t.src && ((e.src = t.src), (e.onload = t.onload)), e\r\n            }\r\n          }\r\n        }\r\n      )\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      n(0)\r\n      var i = n(18)\r\n      t.exports = i.extend({\r\n        tagName: 'script',\r\n        events: {},\r\n        render: function () {\r\n          var t = this.model,\r\n            e = t.get('src'),\r\n            n = this.em,\r\n            i = n && n.get('scriptCount') ? n.get('scriptCount') : 0,\r\n            r = ''\r\n          if (e) {\r\n            var o = t.get('onload'),\r\n              s = 'script' + i,\r\n              a = 'script' + (i + 1)\r\n            ;(r =\r\n              'var ' +\r\n              s +\r\n              \" = document.createElement('script');\\n\" +\r\n              s +\r\n              '.onload = function(){\\n' +\r\n              (o ? o + '();\\n' : '') +\r\n              'typeof ' +\r\n              a +\r\n              \"Start == 'function' && \" +\r\n              a +\r\n              'Start();\\n};\\n' +\r\n              s +\r\n              \".src = '\" +\r\n              e +\r\n              \"';\\nfunction \" +\r\n              s +\r\n              'Start() { document.body.appendChild(' +\r\n              s +\r\n              '); };\\n' +\r\n              (i ? '' : s + 'Start();')),\r\n              n && n.set('scriptCount', i + 1)\r\n          } else r = t.get('content')\r\n          return (this.el.innerHTML = r), this\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(3)\r\n      t.exports = r.extend(\r\n        {\r\n          defaults: i({}, r.prototype.defaults, { highlightable: 0 }),\r\n          getName: function () {\r\n            var t = this.get('tagName'),\r\n              e = this.get('custom-name')\r\n            return (t = t.charAt(0).toUpperCase() + t.slice(1)), e || t\r\n          }\r\n        },\r\n        {\r\n          isComponent: function (t) {\r\n            if (SVGElement && t instanceof SVGElement) {\r\n              var e = t.tagName\r\n              return { tagName: e, type: 'svg', resizable: 'svg' == e }\r\n            }\r\n          }\r\n        }\r\n      )\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(4)\r\n      t.exports = i.extend({\r\n        _createElement: function (t) {\r\n          return document.createElementNS('http://www.w3.org/2000/svg', t)\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i =\r\n          Object.assign ||\r\n          function (t) {\r\n            for (var e = 1; e < arguments.length; e++) {\r\n              var n = arguments[e]\r\n              for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])\r\n            }\r\n            return t\r\n          },\r\n        r = n(3)\r\n      t.exports = r.extend(\r\n        {\r\n          defaults: i({}, r.prototype.defaults, { droppable: !1, editable: !0 }),\r\n          toHTML: function () {\r\n            return this.get('content')\r\n          }\r\n        },\r\n        {\r\n          isComponent: function (t) {\r\n            var e = ''\r\n            return 3 === t.nodeType && (e = { type: 'textnode', content: t.textContent }), e\r\n          }\r\n        }\r\n      )\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = n(0).View.extend({})\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = n(3).extend(\r\n        {},\r\n        {\r\n          isComponent: function () {\r\n            return !1\r\n          }\r\n        }\r\n      )\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        stylePrefix: '',\r\n        appendTo: '',\r\n        sortable: 1,\r\n        hidable: 1,\r\n        hideTextnode: 1,\r\n        root: '',\r\n        showWrapper: 1,\r\n        showHover: 1,\r\n        scrollCanvas: { behavior: 'smooth' },\r\n        scrollLayers: 1,\r\n        highlightHover: 1\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(76),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      t.exports = n(0).View.extend({\r\n        initialize: function () {\r\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\r\n          this.opt = t\r\n          var e = t.config || {}\r\n          ;(this.level = t.level),\r\n            (this.config = e),\r\n            (this.preview = t.preview),\r\n            (this.ppfx = e.pStylePrefix || ''),\r\n            (this.pfx = e.stylePrefix || ''),\r\n            (this.parent = t.parent)\r\n          var n = this.pfx,\r\n            i = this.ppfx,\r\n            r = this.parent,\r\n            o = this.collection\r\n          this.listenTo(o, 'add', this.addTo),\r\n            this.listenTo(o, 'reset resetNavigator', this.render),\r\n            this.listenTo(o, 'remove', this.removeChildren),\r\n            (this.className = n + 'layers')\r\n          var s = e.em\r\n          if (e.sortable && !this.opt.sorter) {\r\n            var a = s.get('Utils')\r\n            this.opt.sorter = new a.Sorter({\r\n              container: e.sortContainer || this.el,\r\n              containerSel: '.' + this.className,\r\n              itemSel: '.' + n + 'layer',\r\n              ignoreViewChildren: 1,\r\n              onEndMove: function (t, e) {\r\n                var n = e.getSourceModel()\r\n                s.setSelected(n, { forceChange: 1 })\r\n              },\r\n              avoidSelectOnEnd: 1,\r\n              nested: 1,\r\n              ppfx: i,\r\n              pfx: n\r\n            })\r\n          }\r\n          ;(this.sorter = this.opt.sorter || ''), this.$el.data('collection', o), r && this.$el.data('model', r)\r\n        },\r\n        removeChildren: function (t) {\r\n          var e = t.viewLayer\r\n          e && e.remove.apply(e)\r\n        },\r\n        addTo: function (t) {\r\n          var e = this.collection.indexOf(t)\r\n          this.addToCollection(t, null, e)\r\n        },\r\n        addToCollection: function (t, e, n) {\r\n          var i = this.level,\r\n            r = e || null,\r\n            s = o.default\r\n          if (this.isCountable(t, this.config.hideTextnode)) {\r\n            var a = new s({\r\n              level: i,\r\n              model: t,\r\n              config: this.config,\r\n              sorter: this.sorter,\r\n              isCountable: this.isCountable,\r\n              opened: this.opt.opened\r\n            }).render().el\r\n            if (r) r.appendChild(a)\r\n            else if (void 0 !== n) {\r\n              var l = 'before'\r\n              this.$el.children().length == n && (n--, (l = 'after')),\r\n                n < 0\r\n                  ? this.$el.append(a)\r\n                  : this.$el\r\n                      .children()\r\n                      .eq(n)\r\n                      [l](a)\r\n            } else this.$el.append(a)\r\n            return a\r\n          }\r\n        },\r\n        isCountable: function (t, e) {\r\n          var n = t.get('type'),\r\n            i = t.get('tagName')\r\n          return !((('textnode' == n || 'br' == i) && e) || !t.get('layerable'))\r\n        },\r\n        render: function () {\r\n          var t = this,\r\n            e = document.createDocumentFragment(),\r\n            n = this.el\r\n          return (\r\n            (n.innerHTML = ''),\r\n            this.collection.each(function (n) {\r\n              return t.addToCollection(n, e)\r\n            }),\r\n            n.appendChild(e),\r\n            (n.className = this.className),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(2),\r\n        o = n(215),\r\n        s = (i = o) && i.__esModule ? i : { default: i }\r\n      t.exports = function () {\r\n        var t,\r\n          e,\r\n          i = {},\r\n          o = n(216),\r\n          a = n(217),\r\n          l = n(219)\r\n        return {\r\n          getCanvasView: function () {\r\n            return l\r\n          },\r\n          name: 'Canvas',\r\n          init: function (e) {\r\n            for (var n in ((i = e || {}), o)) n in i || (i[n] = o[n])\r\n            var r = i.pStylePrefix\r\n            r && (i.stylePrefix = r + i.stylePrefix), (t = new a(e)), (l = new l({ model: t, config: i }))\r\n            var s = i.em.get('DomComponents')\r\n            return (\r\n              s && this.setWrapper(s),\r\n              (this.startAutoscroll = this.startAutoscroll.bind(this)),\r\n              (this.stopAutoscroll = this.stopAutoscroll.bind(this)),\r\n              (this.autoscroll = this.autoscroll.bind(this)),\r\n              this\r\n            )\r\n          },\r\n          getConfig: function () {\r\n            return i\r\n          },\r\n          setWrapper: function (e) {\r\n            t.set('wrapper', e)\r\n          },\r\n          getElement: function () {\r\n            return l.el\r\n          },\r\n          getFrameEl: function () {\r\n            return l.frame.el\r\n          },\r\n          getWindow: function () {\r\n            return this.getFrameEl().contentWindow\r\n          },\r\n          getDocument: function () {\r\n            return this.getFrameEl().contentDocument\r\n          },\r\n          getBody: function () {\r\n            var t = this.getDocument()\r\n            return t && t.body\r\n          },\r\n          getWrapperEl: function () {\r\n            var t = this.getBody()\r\n            return t && t.querySelector('#wrapper')\r\n          },\r\n          getToolsEl: function () {\r\n            return l.toolsEl\r\n          },\r\n          getHighlighter: function () {\r\n            return l.hlEl\r\n          },\r\n          getBadgeEl: function () {\r\n            return l.badgeEl\r\n          },\r\n          getPlacerEl: function () {\r\n            return l.placerEl\r\n          },\r\n          getGhostEl: function () {\r\n            return l.ghostEl\r\n          },\r\n          getToolbarEl: function () {\r\n            return l.toolbarEl\r\n          },\r\n          getResizerEl: function () {\r\n            return l.resizerEl\r\n          },\r\n          getOffsetViewerEl: function () {\r\n            return l.offsetEl\r\n          },\r\n          getFixedOffsetViewerEl: function () {\r\n            return l.fixedOffsetEl\r\n          },\r\n          render: function () {\r\n            return l.render().el\r\n          },\r\n          getOffset: function () {\r\n            var t = this.offset(this.getFrameEl()),\r\n              e = this.offset(this.getElement())\r\n            return { top: t.top - e.top, left: t.left - e.left }\r\n          },\r\n          offset: function (t) {\r\n            return l.offset(t)\r\n          },\r\n          setCustomBadgeLabel: function (t) {\r\n            i.customBadgeLabel = t\r\n          },\r\n          getElementPos: function (t, e) {\r\n            return l.getElementPos(t, e)\r\n          },\r\n          getTargetToElementDim: function (t, e, n) {\r\n            var r = n || {},\r\n              o = l.getPosition()\r\n            if (o) {\r\n              var s = r.elPos || l.getElementPos(e),\r\n                a = n.toRight || 0,\r\n                c = r.targetHeight || t.offsetHeight,\r\n                u = r.targetWidth || t.offsetWidth,\r\n                h = r.event || null,\r\n                d = s.top - c,\r\n                f = s.left\r\n              f += a ? s.width : 0\r\n              var p = (f = a ? f - u : f) < o.left ? o.left : f,\r\n                g = d < o.top ? o.top : d,\r\n                v = {\r\n                  top: (g = g > s.top + s.height ? s.top + s.height : g),\r\n                  left: p,\r\n                  elementTop: s.top,\r\n                  elementLeft: s.left,\r\n                  elementWidth: s.width,\r\n                  elementHeight: s.height,\r\n                  targetWidth: t.offsetWidth,\r\n                  targetHeight: t.offsetHeight,\r\n                  canvasTop: o.top,\r\n                  canvasLeft: o.left\r\n                }\r\n              return h && i.em && i.em.trigger(h, v), v\r\n            }\r\n          },\r\n          getMouseRelativePos: function (t, e) {\r\n            var n = 0,\r\n              i = 0,\r\n              r = (e || {}).subWinOffset,\r\n              o = t.target.ownerDocument,\r\n              s = o.defaultView || o.parentWindow,\r\n              a = s.frameElement,\r\n              l = r ? s.pageYOffset : 0,\r\n              c = r ? s.pageXOffset : 0\r\n            if (a) {\r\n              var u = a.getBoundingClientRect()\r\n              ;(n = u.top || 0), (i = u.left || 0)\r\n            }\r\n            return { y: t.clientY + n - l, x: t.clientX + i - c }\r\n          },\r\n          getMouseRelativeCanvas: function (t, e) {\r\n            var n = this.getFrameEl(),\r\n              i = this.getBody(),\r\n              r = n.offsetTop || 0,\r\n              o = n.offsetLeft || 0,\r\n              s = i.scrollTop || 0,\r\n              a = i.scrollLeft || 0\r\n            return { y: t.clientY + r + s, x: t.clientX + o + a }\r\n          },\r\n          hasFocus: function () {\r\n            return this.getDocument().hasFocus()\r\n          },\r\n          isInputFocused: function () {\r\n            var t = this.getDocument(),\r\n              e = ['body'].concat(\r\n                (function (t) {\r\n                  if (Array.isArray(t)) {\r\n                    for (var e = 0, n = Array(t.length); e < t.length; e++) n[e] = t[e]\r\n                    return n\r\n                  }\r\n                  return Array.from(t)\r\n                })(this.getConfig().notTextable)\r\n              ),\r\n              n = t && t.activeElement\r\n            return (\r\n              n &&\r\n              !e.some(function (t) {\r\n                return n.matches(t)\r\n              })\r\n            )\r\n          },\r\n          scrollTo: function (t) {\r\n            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n              n = (0, r.getElement)(t)\r\n            ;(this.getCanvasView().isElInViewport(n) && !e.force) || n.scrollIntoView(e)\r\n          },\r\n          startAutoscroll: function () {\r\n            var t = this\r\n            this.dragging = 1\r\n            var n = this.getScrollListeners()\r\n            ;(e = l.getFrameOffset(1)),\r\n              setTimeout(function () {\r\n                ;(0, r.on)(n, 'mousemove', t.autoscroll), (0, r.on)(n, 'mouseup', t.stopAutoscroll)\r\n              }, 0)\r\n          },\r\n          autoscroll: function (t) {\r\n            if ((t.preventDefault(), this.dragging)) {\r\n              var n = this.getFrameEl().contentWindow,\r\n                i = n.document.body.scrollTop,\r\n                r = t.clientY,\r\n                o = e.height - 50\r\n              r < 50 && (i -= 50 - r), r > o && (i += r - o), n.scrollTo(0, i)\r\n            }\r\n          },\r\n          stopAutoscroll: function () {\r\n            this.dragging = 0\r\n            var t = this.getScrollListeners()\r\n            ;(0, r.off)(t, 'mousemove', this.autoscroll), (0, r.off)(t, 'mouseup', this.stopAutoscroll)\r\n          },\r\n          getScrollListeners: function () {\r\n            return [this.getFrameEl().contentWindow, this.getElement()]\r\n          },\r\n          postRender: function () {\r\n            ;(0, r.hasDnd)(i.em) && (this.droppable = new s.default(i.em))\r\n          },\r\n          getFrameWrapperEl: function () {\r\n            return l.frame.getWrapper()\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      Object.defineProperty(e, '__esModule', { value: !0 })\r\n      var i = (function () {\r\n          function t (t, e) {\r\n            for (var n = 0; n < e.length; n++) {\r\n              var i = e[n]\r\n              ;(i.enumerable = i.enumerable || !1),\r\n                (i.configurable = !0),\r\n                'value' in i && (i.writable = !0),\r\n                Object.defineProperty(t, i.key, i)\r\n            }\r\n          }\r\n          return function (e, n, i) {\r\n            return n && t(e.prototype, n), i && t(e, i), e\r\n          }\r\n        })(),\r\n        r = n(2),\r\n        o = n(1)\r\n      var s = (function () {\r\n        function t (e) {\r\n          !(function (t, e) {\r\n            if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function')\r\n          })(this, t),\r\n            (this.em = e)\r\n          var n = e\r\n            .get('DomComponents')\r\n            .getWrapper()\r\n            .getEl()\r\n          return (\r\n            (this.el = n),\r\n            (this.counter = 0),\r\n            (0, o.bindAll)(this, 'handleDragEnter', 'handleDragOver', 'handleDrop', 'handleDragLeave'),\r\n            (0, r.on)(n, 'dragenter', this.handleDragEnter),\r\n            (0, r.on)(n, 'dragover', this.handleDragOver),\r\n            (0, r.on)(n, 'drop', this.handleDrop),\r\n            (0, r.on)(n, 'dragleave', this.handleDragLeave),\r\n            this\r\n          )\r\n        }\r\n        return (\r\n          i(t, [\r\n            {\r\n              key: 'endDrop',\r\n              value: function (t, e) {\r\n                var n = this.em\r\n                ;(this.counter = 0), (this.over = 0)\r\n                var i = this.sorter\r\n                t && (i.moved = 0), i.endMove(), n.trigger('canvas:dragend', e)\r\n              }\r\n            },\r\n            {\r\n              key: 'handleDragLeave',\r\n              value: function (t) {\r\n                this.updateCounter(-1, t)\r\n              }\r\n            },\r\n            {\r\n              key: 'updateCounter',\r\n              value: function (t, e) {\r\n                ;(this.counter += t), 0 === this.counter && this.endDrop(1, e)\r\n              }\r\n            },\r\n            {\r\n              key: 'handleDragEnter',\r\n              value: function (t) {\r\n                var e = this.em,\r\n                  n = t.dataTransfer\r\n                if ((this.updateCounter(1, t), !this.over)) {\r\n                  this.over = 1\r\n                  var i = e.get('Utils'),\r\n                    r = e.get('Canvas')\r\n                  this.sorter = new i.Sorter({\r\n                    em: e,\r\n                    wmargin: 1,\r\n                    nested: 1,\r\n                    canvasRelative: 1,\r\n                    direction: 'a',\r\n                    container: r.getBody(),\r\n                    placer: r.getPlacerEl(),\r\n                    eventMoving: 'mousemove dragover',\r\n                    containerSel: '*',\r\n                    itemSel: '*',\r\n                    pfx: 'gjs-',\r\n                    onStart: function () {\r\n                      return e.stopDefault()\r\n                    },\r\n                    onEndMove: function (t) {\r\n                      e.runDefault(), e.set('dragResult', t), t && e.trigger('canvas:drop', n, t)\r\n                    },\r\n                    document: r.getFrameEl().contentDocument\r\n                  })\r\n                  var o = e.get('dragContent') || '<br>'\r\n                  this.sorter.setDropContent(o), this.sorter.startSort(), e.trigger('canvas:dragenter', n, o)\r\n                }\r\n              }\r\n            },\r\n            {\r\n              key: 'handleDragOver',\r\n              value: function (t) {\r\n                t.preventDefault(), this.em.trigger('canvas:dragover', t)\r\n              }\r\n            },\r\n            {\r\n              key: 'handleDrop',\r\n              value: function (t) {\r\n                t.preventDefault()\r\n                var e = t.dataTransfer,\r\n                  n = this.getContentByData(e).content\r\n                ;(t.target.style.border = ''),\r\n                  n ? this.sorter.setDropContent(n) : (this.sorter.moved = 0),\r\n                  this.endDrop(0, t)\r\n              }\r\n            },\r\n            {\r\n              key: 'getContentByData',\r\n              value: function (t) {\r\n                var e = this.em,\r\n                  n = t.types,\r\n                  i = t.files || [],\r\n                  r = e.get('dragContent'),\r\n                  s = t.getData('text')\r\n                if (i.length) {\r\n                  s = []\r\n                  for (var a = 0; a < i.length; a++) {\r\n                    var l = i[a],\r\n                      c = l.type.split('/')[0]\r\n                    'image' == c && s.push({ type: c, file: l, attributes: { alt: l.name } })\r\n                  }\r\n                } else if (r) s = r\r\n                else if ((0, o.indexOf)(n, 'text/html') >= 0) s = t.getData('text/html').replace(/<\\/?meta[^>]*>/g, '')\r\n                else if ((0, o.indexOf)(n, 'text/uri-list') >= 0)\r\n                  s = { type: 'link', attributes: { href: s }, content: s }\r\n                else if ((0, o.indexOf)(n, 'text/json') >= 0) {\r\n                  var u = t.getData('text/json')\r\n                  u && (s = JSON.parse(u))\r\n                }\r\n                var h = { content: s }\r\n                return e.trigger('canvas:dragdata', t, h), h\r\n              }\r\n            }\r\n          ]),\r\n          t\r\n        )\r\n      })()\r\n      e.default = s\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        stylePrefix: 'cv-',\r\n        scripts: [],\r\n        styles: [],\r\n        customBadgeLabel: '',\r\n        notTextable: ['button', 'input[type=checkbox]', 'input[type=radio]']\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      var s = n(218)\r\n      t.exports = o.default.Model.extend({\r\n        defaults: { frame: '', wrapper: '', rulers: !1 },\r\n        initialize: function (t) {\r\n          var e = this.conf || {}\r\n          this.set('frame', new s(e.frame))\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      t.exports = o.default.Model.extend({ defaults: { wrapper: '', width: '', height: '', attributes: {} } })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      ;(function (e) {\r\n        var i,\r\n          r = n(0),\r\n          o = (i = r) && i.__esModule ? i : { default: i },\r\n          s = n(2)\r\n        var a = n(220),\r\n          l = o.default.$\r\n        t.exports = o.default.View.extend({\r\n          initialize: function (t) {\r\n            e.bindAll(this, 'renderBody', 'onFrameScroll', 'clearOff'),\r\n              (0, s.on)(window, 'scroll resize', this.clearOff),\r\n              (this.config = t.config || {}),\r\n              (this.em = this.config.em || {}),\r\n              (this.ppfx = this.config.pStylePrefix || ''),\r\n              (this.className = this.config.stylePrefix + 'canvas'),\r\n              this.listenTo(this.em, 'change:canvasOffset', this.clearOff),\r\n              (this.frame = new a({ model: this.model.get('frame'), config: this.config }))\r\n          },\r\n          isElInViewport: function (t) {\r\n            var e = (0, s.getElement)(t).getBoundingClientRect(),\r\n              n = this.getFrameOffset(1),\r\n              i = e.top,\r\n              r = e.left\r\n            return i >= 0 && r >= 0 && i <= n.height && r <= n.width\r\n          },\r\n          onFrameScroll: function () {\r\n            var t = this.frame.el.contentDocument.body\r\n            ;(this.toolsEl.style.top = '-' + t.scrollTop + 'px'),\r\n              (this.toolsEl.style.left = '-' + t.scrollLeft + 'px'),\r\n              this.em.trigger('canvasScroll')\r\n          },\r\n          renderScripts: function () {\r\n            var t = this.frame,\r\n              e = this\r\n            t.el.onload = function () {\r\n              !(function n (i) {\r\n                if (i.length > 0) {\r\n                  var r = document.createElement('script')\r\n                  ;(r.type = 'text/javascript'),\r\n                    (r.src = i.shift()),\r\n                    (r.onerror = r.onload = n.bind(null, i)),\r\n                    t.el.contentDocument.head.appendChild(r)\r\n                } else e.renderBody()\r\n              })(e.config.scripts.slice(0))\r\n            }\r\n          },\r\n          renderBody: function () {\r\n            var t = this.config,\r\n              e = (this.model, this.model.get('frame').get('wrapper')),\r\n              n = t.em\r\n            if (e) {\r\n              var i = n.get('Canvas'),\r\n                r = this.ppfx,\r\n                o = l(i.getBody()),\r\n                s = l(i.getDocument().head),\r\n                a = n.get('CssComposer'),\r\n                c = n.get('Config'),\r\n                u = ''\r\n              t.styles.forEach(function (t) {\r\n                u += '<link rel=\"stylesheet\" href=\"' + t + '\"/>'\r\n              })\r\n              var h =\r\n                '\\n        ' +\r\n                (n.config.baseCss || '') +\r\n                '\\n\\n        .' +\r\n                r +\r\n                'dashed *[data-highlightable] {\\n          outline: 1px dashed rgba(170,170,170,0.7);\\n          outline-offset: -2px;\\n        }\\n\\n        .' +\r\n                r +\r\n                'comp-selected {\\n          outline: 3px solid #3b97e3 !important;\\n          outline-offset: -3px;\\n        }\\n\\n        .' +\r\n                r +\r\n                'comp-selected-parent {\\n          outline: 2px solid #ffca6f !important\\n        }\\n\\n        .' +\r\n                r +\r\n                'no-select {\\n          user-select: none;\\n          -webkit-user-select:none;\\n          -moz-user-select: none;\\n        }\\n\\n        .' +\r\n                r +\r\n                'freezed {\\n          opacity: 0.5;\\n          pointer-events: none;\\n        }\\n\\n        .' +\r\n                r +\r\n                'no-pointer {\\n          pointer-events: none;\\n        }\\n\\n        .' +\r\n                r +\r\n                'plh-image {\\n          background: #f5f5f5;\\n          border: none;\\n          height: 50px;\\n          width: 50px;\\n          display: block;\\n          outline: 3px solid #ffca6f;\\n          cursor: pointer;\\n          outline-offset: -2px\\n        }\\n\\n        .' +\r\n                r +\r\n                'grabbing {\\n          cursor: grabbing;\\n          cursor: -webkit-grabbing;\\n        }\\n\\n        ' +\r\n                (c.canvasCss || '') +\r\n                '\\n        ' +\r\n                (c.protectedCss || '') +\r\n                '\\n      '\r\n              u && s.append(u),\r\n                o.append('<style>' + h + '</style>'),\r\n                o.append(e.render()).append(a.render()),\r\n                o.append(this.getJsContainer()),\r\n                n.trigger('loaded'),\r\n                (this.frame.el.contentWindow.onscroll = this.onFrameScroll),\r\n                this.frame.udpateOffset()\r\n              var d = document,\r\n                f = this.frame.el.contentDocument\r\n              ;[{ event: 'keydown keyup', class: 'KeyboardEvent' }].forEach(function (t) {\r\n                return t.event.split(' ').forEach(function (e) {\r\n                  f.addEventListener(e, function (e) {\r\n                    return d.dispatchEvent(\r\n                      (function (t, e) {\r\n                        var n = void 0\r\n                        try {\r\n                          n = new window[e](t.type, t)\r\n                        } catch (t) {\r\n                          ;(n = document.createEvent(e)).initEvent(t.type, !0, !0)\r\n                        }\r\n                        return (\r\n                          (n.keyCodeVal = t.keyCode),\r\n                          ['keyCode', 'which'].forEach(function (t) {\r\n                            Object.defineProperty(n, t, {\r\n                              get: function () {\r\n                                return this.keyCodeVal\r\n                              }\r\n                            })\r\n                          }),\r\n                          n\r\n                        )\r\n                      })(e, t.class)\r\n                    )\r\n                  })\r\n                })\r\n              })\r\n            }\r\n          },\r\n          offset: function (t) {\r\n            var e = t.getBoundingClientRect(),\r\n              n = t.ownerDocument.body\r\n            return { top: e.top + n.scrollTop, left: e.left + n.scrollLeft, width: e.width, height: e.height }\r\n          },\r\n          clearOff: function () {\r\n            ;(this.frmOff = null), (this.cvsOff = null)\r\n          },\r\n          getFrameOffset: function () {\r\n            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0\r\n            return (this.frmOff && !t) || (this.frmOff = this.offset(this.frame.el)), this.frmOff\r\n          },\r\n          getCanvasOffset: function () {\r\n            return this.cvsOff || (this.cvsOff = this.offset(this.el)), this.cvsOff\r\n          },\r\n          getElementPos: function (t, e) {\r\n            var n = e || {},\r\n              i = this.getFrameOffset(),\r\n              r = this.getCanvasOffset(),\r\n              o = this.offset(t),\r\n              s = n.avoidFrameOffset ? 0 : i.top,\r\n              a = n.avoidFrameOffset ? 0 : i.left\r\n            return {\r\n              top: o.top + s - r.top,\r\n              left: o.left + a - r.left,\r\n              height: t.offsetHeight || t.clientHeight,\r\n              width: t.offsetWidth || t.clientWidth\r\n            }\r\n          },\r\n          getPosition: function () {\r\n            var t = this.frame.el.contentDocument\r\n            if (t) {\r\n              var e = t.body,\r\n                n = this.getFrameOffset(),\r\n                i = this.getCanvasOffset()\r\n              return { top: n.top + e.scrollTop - i.top, left: n.left + e.scrollLeft - i.left }\r\n            }\r\n          },\r\n          updateScript: function (t) {\r\n            t.scriptContainer ||\r\n              ((t.scriptContainer = l('<div>')), this.getJsContainer().appendChild(t.scriptContainer.get(0)))\r\n            var e = t.model,\r\n              n = e.getId()\r\n            ;(t.el.id = n), t.scriptContainer.html('')\r\n            var i = document.createElement('script')\r\n            ;(i.innerHTML =\r\n              \"\\n        setTimeout(function() {\\n          var item = document.getElementById('\" +\r\n              n +\r\n              \"');\\n          if (!item) return;\\n          (function(){\\n            \" +\r\n              e.getScriptString() +\r\n              ';\\n          }.bind(item))()\\n        }, 1);'),\r\n              setTimeout(function () {\r\n                return t.scriptContainer.get(0).appendChild(i)\r\n              }, 0)\r\n          },\r\n          getJsContainer: function () {\r\n            return (\r\n              this.jsContainer || (this.jsContainer = l('<div class=\"' + this.ppfx + 'js-cont\">').get(0)),\r\n              this.jsContainer\r\n            )\r\n          },\r\n          render: function () {\r\n            if (\r\n              ((this.wrapper = this.model.get('wrapper')), this.wrapper && 'function' == typeof this.wrapper.render)\r\n            ) {\r\n              this.model.get('frame').set('wrapper', this.wrapper), this.$el.append(this.frame.render().el)\r\n              var t = this.frame\r\n              0 === this.config.scripts.length ? (t.el.onload = this.renderBody) : this.renderScripts()\r\n            }\r\n            var e = this.ppfx\r\n            this.$el.append(\r\n              '\\n      <div id=\"' +\r\n                e +\r\n                'tools\" style=\"pointer-events:none\">\\n        <div class=\"' +\r\n                e +\r\n                'highlighter\"></div>\\n        <div class=\"' +\r\n                e +\r\n                'badge\"></div>\\n        <div class=\"' +\r\n                e +\r\n                'placeholder\">\\n          <div class=\"' +\r\n                e +\r\n                'placeholder-int\"></div>\\n        </div>\\n        <div class=\"' +\r\n                e +\r\n                'ghost\"></div>\\n        <div class=\"' +\r\n                e +\r\n                'toolbar\" style=\"pointer-events:all\"></div>\\n        <div class=\"' +\r\n                e +\r\n                'resizer\"></div>\\n        <div class=\"' +\r\n                e +\r\n                'offset-v\"></div>\\n        <div class=\"' +\r\n                e +\r\n                'offset-fixed-v\"></div>\\n      </div>\\n    '\r\n            )\r\n            var n = this.el,\r\n              i = n.querySelector('#' + e + 'tools')\r\n            return (\r\n              (this.hlEl = n.querySelector('.' + e + 'highlighter')),\r\n              (this.badgeEl = n.querySelector('.' + e + 'badge')),\r\n              (this.placerEl = n.querySelector('.' + e + 'placeholder')),\r\n              (this.ghostEl = n.querySelector('.' + e + 'ghost')),\r\n              (this.toolbarEl = n.querySelector('.' + e + 'toolbar')),\r\n              (this.resizerEl = n.querySelector('.' + e + 'resizer')),\r\n              (this.offsetEl = n.querySelector('.' + e + 'offset-v')),\r\n              (this.fixedOffsetEl = n.querySelector('.' + e + 'offset-fixed-v')),\r\n              (this.toolsEl = i),\r\n              (this.el.className = this.className),\r\n              this\r\n            )\r\n          }\r\n        })\r\n      }.call(this, n(1)))\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1),\r\n        r = 'transitionend oTransitionEnd transitionend webkitTransitionEnd'\r\n      t.exports = n(0).View.extend({\r\n        tagName: 'iframe',\r\n        attributes: { allowfullscreen: 'allowfullscreen' },\r\n        initialize: function (t) {\r\n          ;(0, i.bindAll)(this, 'udpateOffset'),\r\n            (this.config = t.config || {}),\r\n            (this.ppfx = this.config.pStylePrefix || ''),\r\n            (this.em = this.config.em),\r\n            this.listenTo(this.em, 'change:device', this.updateDim)\r\n        },\r\n        updateDim: function (t) {\r\n          var e = this.em,\r\n            n = e.getDeviceModel(),\r\n            i = this.el.style,\r\n            o = i.width || '',\r\n            s = i.height || '',\r\n            a = n ? n.get('width') : '',\r\n            l = n ? n.get('height') : '',\r\n            c = o == a && s == l\r\n          ;(i.width = a),\r\n            (i.height = l),\r\n            this.udpateOffset(),\r\n            e.stopDefault({ preserveSelected: 1 }),\r\n            c ? this.udpateOffset() : this.$el.on(r, this.udpateOffset)\r\n        },\r\n        udpateOffset: function () {\r\n          var t = this.em,\r\n            e = t.get('Canvas').getOffset()\r\n          t.set('canvasOffset', e), t.runDefault({ preserveSelected: 1 }), this.$el.off(r, this.udpateOffset)\r\n        },\r\n        getBody: function () {\r\n          this.$el.contents().find('body')\r\n        },\r\n        getWrapper: function () {\r\n          return this.$el.contents().find('body > div')\r\n        },\r\n        render: function () {\r\n          return this.$el.attr({ class: this.ppfx + 'frame' }), this\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(1),\r\n        o = n(27),\r\n        s = (i = o) && i.__esModule ? i : { default: i }\r\n      t.exports = function () {\r\n        var t = void 0,\r\n          e = {},\r\n          i = {},\r\n          o = {},\r\n          a = n(222),\r\n          l = {}\r\n        return {\r\n          CommandAbstract: s.default,\r\n          name: 'Commands',\r\n          init: function (i) {\r\n            for (var r in ((e = i || {}), a)) r in e || (e[r] = a[r])\r\n            t = e.em\r\n            var s = e.pStylePrefix\r\n            for (var l in (s && (e.stylePrefix = s + e.stylePrefix), e.defaults)) {\r\n              var c = e.defaults[l]\r\n              c.id && this.add(c.id, c)\r\n            }\r\n            var u = n(28)\r\n            return (\r\n              (o['select-comp'] = n(11)),\r\n              (o['create-comp'] = n(12)),\r\n              (o['delete-comp'] = n(29)),\r\n              (o['image-comp'] = n(30)),\r\n              (o['move-comp'] = n(31)),\r\n              (o['text-comp'] = n(32)),\r\n              (o['insert-custom'] = n(20)),\r\n              (o['export-template'] = u),\r\n              (o['sw-visibility'] = n(33)),\r\n              (o['open-layers'] = n(34)),\r\n              (o['open-sm'] = n(35)),\r\n              (o['open-tm'] = n(36)),\r\n              (o['open-blocks'] = n(37)),\r\n              (o['open-assets'] = n(38)),\r\n              (o['show-offset'] = n(39)),\r\n              (o['select-parent'] = n(40)),\r\n              (o.fullscreen = n(41)),\r\n              (o.preview = n(42)),\r\n              (o.resize = n(43)),\r\n              (o.drag = n(44)),\r\n              (o['tlb-delete'] = {\r\n                run: function (t) {\r\n                  return t.runCommand('core:component-delete')\r\n                }\r\n              }),\r\n              (o['tlb-clone'] = {\r\n                run: function (t) {\r\n                  t.runCommand('core:copy'), t.runCommand('core:paste')\r\n                }\r\n              }),\r\n              (o['tlb-move'] = {\r\n                run: function (t, e, n) {\r\n                  var i = void 0,\r\n                    r = t.getModel(),\r\n                    o = n && n.event,\r\n                    s = t.getSelected(),\r\n                    a = [].concat(\r\n                      (function (t) {\r\n                        if (Array.isArray(t)) {\r\n                          for (var e = 0, n = Array(t.length); e < t.length; e++) n[e] = t[e]\r\n                          return n\r\n                        }\r\n                        return Array.from(t)\r\n                      })(t.getSelectedAll())\r\n                    ),\r\n                    l = t.Canvas.getToolbarEl().style,\r\n                    c = o && 'dragstart' == o.type,\r\n                    u = { preserveSelected: 1 },\r\n                    h = function () {\r\n                      ;(l.display = 'none'), r.stopDefault(u)\r\n                    }\r\n                  if (s && s.get('draggable')) {\r\n                    c\r\n                      ? setTimeout(function () {\r\n                          return h\r\n                        }, 0)\r\n                      : h()\r\n                    var d = function (e, n) {\r\n                      r.runDefault(u),\r\n                        a.forEach(function (t) {\r\n                          return t.set('status', 'selected')\r\n                        }),\r\n                        t.select(a),\r\n                        s.emitUpdate(),\r\n                        i && i.blur()\r\n                    }\r\n                    if (r.get('designerMode'))\r\n                      i = editor.runCommand('drag', {\r\n                        el: s.view.el,\r\n                        options: {\r\n                          event: o,\r\n                          onStart: function (t, e) {\r\n                            console.log('start mouse pos ', e.start), console.log('el rect ', e.elRect)\r\n                            var n = e.el\r\n                            ;(n.style.position = 'absolute'), (n.style.margin = 0)\r\n                          },\r\n                          onDrag: function (t, e) {\r\n                            console.log('Delta ', e.delta), console.log('Current ', e.current)\r\n                          },\r\n                          onEnd: d\r\n                        }\r\n                      })\r\n                    else {\r\n                      c && o.dataTransfer.setDragImage(s.view.el, 0, 0)\r\n                      var f = t.Commands.get('move-comp')\r\n                      ;(f.onEndMoveFromModel = d), f.initSorterFromModels(a)\r\n                    }\r\n                    a.forEach(function (t) {\r\n                      return t.set('status', 'freezed-selected')\r\n                    })\r\n                  } else console.warn('The element is not draggable')\r\n                }\r\n              }),\r\n              (o['core:undo'] = function (t) {\r\n                return t.UndoManager.undo()\r\n              }),\r\n              (o['core:redo'] = function (t) {\r\n                return t.UndoManager.redo()\r\n              }),\r\n              [\r\n                ['copy', 'CopyComponent'],\r\n                ['paste', 'PasteComponent'],\r\n                ['component-next', 'ComponentNext'],\r\n                ['component-prev', 'ComponentPrev'],\r\n                ['component-enter', 'ComponentEnter'],\r\n                ['component-exit', 'ComponentExit'],\r\n                ['canvas-clear', 'CanvasClear'],\r\n                ['component-delete', 'ComponentDelete'],\r\n                ['component-style-clear', 'ComponentStyleClear']\r\n              ].forEach(function (t) {\r\n                return (o['core:' + t[0]] = n(227)('./' + t[1]).run)\r\n              }),\r\n              e.em && (e.model = e.em.get('Canvas')),\r\n              this.loadDefaultCommands(),\r\n              this\r\n            )\r\n          },\r\n          add: function (t, e) {\r\n            return (\r\n              (0, r.isFunction)(e) && (e = { run: e }),\r\n              e.stop || (e.noStop = 1),\r\n              delete e.initialize,\r\n              (e.id = t),\r\n              (i[t] = s.default.extend(e)),\r\n              this\r\n            )\r\n          },\r\n          get: function (t) {\r\n            var n = i[t]\r\n            return 'function' == typeof n && ((n = new n(e)), (i[t] = n)), n\r\n          },\r\n          has: function (t) {\r\n            return !!i[t]\r\n          },\r\n          getAll: function () {\r\n            return i\r\n          },\r\n          run: function (t) {\r\n            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n            return this.runCommand(this.get(t), e)\r\n          },\r\n          stop: function (t) {\r\n            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n            return this.stopCommand(this.get(t), e)\r\n          },\r\n          isActive: function (t) {\r\n            return this.getActive().hasOwnProperty(t)\r\n          },\r\n          getActive: function () {\r\n            return l\r\n          },\r\n          loadDefaultCommands: function () {\r\n            for (var t in o) this.add(t, o[t])\r\n            return this\r\n          },\r\n          runCommand: function (e) {\r\n            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n              i = void 0\r\n            if (e && e.run) {\r\n              var r = e.id,\r\n                o = t.get('Editor')\r\n              ;(i = e.callRun(o, n)), r && e.stop && !e.noStop && (l[r] = i)\r\n            }\r\n            return i\r\n          },\r\n          stopCommand: function (e) {\r\n            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n              i = void 0\r\n            if (e && e.run) {\r\n              var r = e.id,\r\n                o = t.get('Editor')\r\n              ;(i = e.callStop(o, n)), r && delete l[r]\r\n            }\r\n            return i\r\n          },\r\n          create: function (t) {\r\n            return new (s.default.extend(t))(e)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = {\r\n        ESCAPE_KEY: 27,\r\n        stylePrefix: 'com-',\r\n        defaults: [],\r\n        em: null,\r\n        firstCentered: !0,\r\n        newFixedH: !1,\r\n        minComponentH: 50,\r\n        minComponentW: 50\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      n(0)\r\n      var i = n(71),\r\n        r = n(224)\r\n      t.exports = i.extend({\r\n        itemView: r,\r\n        initialize: function (t) {\r\n          ;(this.config = { editor: t.editor || '' }), this.listenTo(this.collection, 'reset', this.render)\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(0)\r\n      t.exports = i.View.extend({\r\n        events: function () {\r\n          return this.model.get('events') || { mousedown: 'handleClick' }\r\n        },\r\n        attributes: function () {\r\n          return this.model.get('attributes')\r\n        },\r\n        initialize: function (t) {\r\n          this.editor = t.config.editor\r\n        },\r\n        handleClick: function (t) {\r\n          t.preventDefault(), t.stopPropagation(), this.execCommand(t)\r\n        },\r\n        execCommand: function (t) {\r\n          var e = { event: t },\r\n            n = this.model.get('command'),\r\n            i = this.editor\r\n          'function' == typeof n && n(i, null, e), 'string' == typeof n && i.runCommand(n, e)\r\n        },\r\n        render: function () {\r\n          var t = this.editor,\r\n            e = this.$el,\r\n            n = this.model,\r\n            i = n.get('id'),\r\n            r = n.get('label'),\r\n            o = t.getConfig('stylePrefix')\r\n          return e.addClass(o + 'toolbar-item'), i && e.addClass(o + 'toolbar-item__' + i), r && e.append(r), this\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(0),\r\n        r = n(226)\r\n      t.exports = i.Collection.extend({ model: r })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(0)\r\n      t.exports = i.Model.extend({ defaults: { command: '', attributes: {} } })\r\n    },\r\n    function (t, e, n) {\r\n      var i = {\r\n        './CanvasClear': 77,\r\n        './CanvasClear.js': 77,\r\n        './CommandAbstract': 27,\r\n        './CommandAbstract.js': 27,\r\n        './ComponentDelete': 78,\r\n        './ComponentDelete.js': 78,\r\n        './ComponentEnter': 79,\r\n        './ComponentEnter.js': 79,\r\n        './ComponentExit': 80,\r\n        './ComponentExit.js': 80,\r\n        './ComponentNext': 81,\r\n        './ComponentNext.js': 81,\r\n        './ComponentPrev': 82,\r\n        './ComponentPrev.js': 82,\r\n        './ComponentStyleClear': 83,\r\n        './ComponentStyleClear.js': 83,\r\n        './CopyComponent': 84,\r\n        './CopyComponent.js': 84,\r\n        './CreateComponent': 12,\r\n        './CreateComponent.js': 12,\r\n        './DeleteComponent': 29,\r\n        './DeleteComponent.js': 29,\r\n        './Drag': 44,\r\n        './Drag.js': 44,\r\n        './ExportTemplate': 28,\r\n        './ExportTemplate.js': 28,\r\n        './Fullscreen': 41,\r\n        './Fullscreen.js': 41,\r\n        './ImageComponent': 30,\r\n        './ImageComponent.js': 30,\r\n        './InsertCustom': 20,\r\n        './InsertCustom.js': 20,\r\n        './MoveComponent': 31,\r\n        './MoveComponent.js': 31,\r\n        './OpenAssets': 38,\r\n        './OpenAssets.js': 38,\r\n        './OpenBlocks': 37,\r\n        './OpenBlocks.js': 37,\r\n        './OpenLayers': 34,\r\n        './OpenLayers.js': 34,\r\n        './OpenStyleManager': 35,\r\n        './OpenStyleManager.js': 35,\r\n        './OpenTraitManager': 36,\r\n        './OpenTraitManager.js': 36,\r\n        './PasteComponent': 85,\r\n        './PasteComponent.js': 85,\r\n        './Preview': 42,\r\n        './Preview.js': 42,\r\n        './Resize': 43,\r\n        './Resize.js': 43,\r\n        './SelectComponent': 11,\r\n        './SelectComponent.js': 11,\r\n        './SelectParent': 40,\r\n        './SelectParent.js': 40,\r\n        './SelectPosition': 19,\r\n        './SelectPosition.js': 19,\r\n        './ShowOffset': 39,\r\n        './ShowOffset.js': 39,\r\n        './SwitchVisibility': 33,\r\n        './SwitchVisibility.js': 33,\r\n        './TextComponent': 32,\r\n        './TextComponent.js': 32\r\n      }\r\n      function r (t) {\r\n        var e = o(t)\r\n        return n(e)\r\n      }\r\n      function o (t) {\r\n        var e = i[t]\r\n        if (!(e + 1)) {\r\n          var n = new Error(\"Cannot find module '\" + t + \"'\")\r\n          throw ((n.code = 'MODULE_NOT_FOUND'), n)\r\n        }\r\n        return e\r\n      }\r\n      ;(r.keys = function () {\r\n        return Object.keys(i)\r\n      }),\r\n        (r.resolve = o),\r\n        (t.exports = r),\r\n        (r.id = 227)\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1)\r\n      t.exports = function () {\r\n        var t,\r\n          e,\r\n          r,\r\n          o = {},\r\n          s = n(229),\r\n          a = n(230),\r\n          l = n(232),\r\n          c = n(233),\r\n          u = []\r\n        return {\r\n          name: 'BlockManager',\r\n          init: function (n) {\r\n            var i = (o = n || {}).em\r\n            for (var h in s) h in o || (o[h] = s[h])\r\n            return (\r\n              (t = new a([])),\r\n              (e = new a([])),\r\n              (u = new l()),\r\n              (r = new c({ collection: e, categories: u }, o)),\r\n              t.listenTo(t, 'add', function (t) {\r\n                e.add(t), i && i.trigger('block:add', t)\r\n              }),\r\n              t.listenTo(t, 'remove', function (t) {\r\n                e.remove(t), i && i.trigger('block:remove', t)\r\n              }),\r\n              t.listenTo(t, 'reset', function (t) {\r\n                e.reset(t.models)\r\n              }),\r\n              this\r\n            )\r\n          },\r\n          getConfig: function () {\r\n            return o\r\n          },\r\n          onLoad: function () {\r\n            var t = this.getAll()\r\n            !t.length && t.reset(o.blocks)\r\n          },\r\n          postRender: function () {\r\n            var t = this.getConfig().appendTo\r\n            t && ((0, i.isElement)(t) ? t : document.querySelector(t)).appendChild(this.render())\r\n          },\r\n          add: function (e, n) {\r\n            var i = n || {}\r\n            return (i.id = e), t.add(i)\r\n          },\r\n          get: function (e) {\r\n            return t.get(e)\r\n          },\r\n          getAll: function () {\r\n            return t\r\n          },\r\n          getAllVisible: function () {\r\n            return e\r\n          },\r\n          remove: function (e) {\r\n            return t.remove(e)\r\n          },\r\n          getCategories: function () {\r\n            return u\r\n          },\r\n          getContainer: function () {\r\n            return r.el\r\n          },\r\n          render: function (t) {\r\n            var e = t || this.getAll().models\r\n            return r.rendered || (r.render(), (r.rendered = 1)), r.collection.reset(e), this.getContainer()\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = { appendTo: '', blocks: [] }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      var s = n(231)\r\n      t.exports = o.default.Collection.extend({ model: s })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      var s = n(86)\r\n      t.exports = o.default.Model.extend({\r\n        defaults: { activate: 0, select: 0, resetId: 0, label: '', content: '', category: '', attributes: {} },\r\n        initialize: function () {\r\n          arguments.length > 0 && void 0 !== arguments[0] && arguments[0]\r\n          var t = this.get('category')\r\n          if (t && 'string' == typeof t) new s({ id: t, label: t })\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i }\r\n      t.exports = o.default.Collection.extend({ model: n(86) })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1),\r\n        r = n(234),\r\n        o = n(235)\r\n      t.exports = n(0).View.extend({\r\n        initialize: function (t, e) {\r\n          ;(0, i.bindAll)(this, 'getSorter', 'onDrag', 'onDrop'),\r\n            (this.config = e || {}),\r\n            (this.categories = t.categories || ''),\r\n            (this.renderedCategories = [])\r\n          var n = this.config.pStylePrefix || ''\r\n          ;(this.ppfx = n),\r\n            (this.noCatClass = n + 'blocks-no-cat'),\r\n            (this.blockContClass = n + 'blocks-c'),\r\n            (this.catsClass = n + 'block-categories')\r\n          var r = this.collection\r\n          this.listenTo(r, 'add', this.addTo),\r\n            this.listenTo(r, 'reset', this.render),\r\n            (this.em = this.config.em),\r\n            (this.tac = 'test-tac'),\r\n            (this.grabbingCls = this.ppfx + 'grabbing'),\r\n            this.em && ((this.config.getSorter = this.getSorter), (this.canvas = this.em.get('Canvas')))\r\n        },\r\n        getSorter: function () {\r\n          if (this.em) {\r\n            if (!this.sorter) {\r\n              var t = this.em.get('Utils'),\r\n                e = this.canvas\r\n              this.sorter = new t.Sorter({\r\n                container: e.getBody(),\r\n                placer: e.getPlacerEl(),\r\n                containerSel: '*',\r\n                itemSel: '*',\r\n                pfx: this.ppfx,\r\n                onStart: this.onDrag,\r\n                onEndMove: this.onDrop,\r\n                onMove: this.onMove,\r\n                document: e.getFrameEl().contentDocument,\r\n                direction: 'a',\r\n                wmargin: 1,\r\n                nested: 1,\r\n                em: this.em,\r\n                canvasRelative: 1\r\n              })\r\n            }\r\n            return this.sorter\r\n          }\r\n        },\r\n        onDrag: function (t) {\r\n          this.em.stopDefault(), this.em.trigger('block:drag:start', t)\r\n        },\r\n        onMove: function (t) {\r\n          this.em.trigger('block:drag:move', t)\r\n        },\r\n        onDrop: function (t) {\r\n          var e = this.em\r\n          e.runDefault(),\r\n            t &&\r\n              t.get &&\r\n              (t.get('activeOnRender') && (t.trigger('active'), t.set('activeOnRender', 0)),\r\n              e.trigger('block:drag:stop', t))\r\n        },\r\n        addTo: function (t) {\r\n          this.add(t)\r\n        },\r\n        add: function (t, e) {\r\n          var n = e || null,\r\n            s = new r({ model: t, attributes: t.get('attributes') }, this.config).render().el,\r\n            a = t.get('category')\r\n          if (a && this.categories) {\r\n            ;(0, i.isString)(a) ? (a = { id: a, label: a }) : (0, i.isObject)(a) && !a.id && (a.id = a.label)\r\n            var l = this.categories.add(a),\r\n              c = l.get('id'),\r\n              u = this.renderedCategories[c],\r\n              h = this.getCategoriesEl()\r\n            return (\r\n              t.set('category', l),\r\n              !u &&\r\n                h &&\r\n                ((u = new o({ model: l }, this.config).render()),\r\n                (this.renderedCategories[c] = u),\r\n                h.appendChild(u.el)),\r\n              void (u && u.append(s))\r\n            )\r\n          }\r\n          n ? n.appendChild(s) : this.append(s)\r\n        },\r\n        getCategoriesEl: function () {\r\n          return this.catsEl || (this.catsEl = this.el.querySelector('.' + this.catsClass)), this.catsEl\r\n        },\r\n        getBlocksEl: function () {\r\n          return (\r\n            this.blocksEl ||\r\n              (this.blocksEl = this.el.querySelector('.' + this.noCatClass + ' .' + this.blockContClass)),\r\n            this.blocksEl\r\n          )\r\n        },\r\n        append: function (t) {\r\n          var e = this.getBlocksEl()\r\n          e && e.appendChild(t)\r\n        },\r\n        render: function () {\r\n          var t = this,\r\n            e = this.ppfx,\r\n            n = document.createDocumentFragment()\r\n          ;(this.catsEl = null),\r\n            (this.blocksEl = null),\r\n            (this.renderedCategories = []),\r\n            (this.el.innerHTML =\r\n              '\\n      <div class=\"' +\r\n              this.catsClass +\r\n              '\"></div>\\n      <div class=\"' +\r\n              this.noCatClass +\r\n              '\">\\n        <div class=\"' +\r\n              this.blockContClass +\r\n              '\"></div>\\n      </div>\\n    '),\r\n            this.collection.each(function (e) {\r\n              return t.add(e, n)\r\n            }),\r\n            this.append(n)\r\n          var i = this.blockContClass + 's ' + e + 'one-bg ' + e + 'two-color'\r\n          return this.$el.addClass(i), this\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i,\r\n        r = n(0),\r\n        o = (i = r) && i.__esModule ? i : { default: i },\r\n        s = n(1),\r\n        a = n(2)\r\n      t.exports = o.default.View.extend({\r\n        events: { mousedown: 'startDrag', dragstart: 'handleDragStart', drag: 'handleDrag', dragend: 'handleDragEnd' },\r\n        initialize: function (t) {\r\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n            n = this.model\r\n          ;(this.em = e.em),\r\n            (this.config = e),\r\n            (this.endDrag = this.endDrag.bind(this)),\r\n            (this.ppfx = e.pStylePrefix || ''),\r\n            this.listenTo(n, 'destroy remove', this.remove),\r\n            this.listenTo(n, 'change', this.render)\r\n        },\r\n        startDrag: function (t) {\r\n          var e = this.config\r\n          if (0 === t.button && e.getSorter && !this.el.draggable) {\r\n            e.em.refreshCanvas()\r\n            var n = e.getSorter()\r\n            n.setDragHelper(this.el, t),\r\n              n.setDropContent(this.model.get('content')),\r\n              n.startSort(this.el),\r\n              (0, a.on)(document, 'mouseup', this.endDrag)\r\n          }\r\n        },\r\n        handleDragStart: function (t) {\r\n          var e = this.em,\r\n            n = this.model,\r\n            i = n.get('content'),\r\n            r = (0, s.isObject)(i),\r\n            o = r ? JSON.stringify(i) : i\r\n          t.dataTransfer.setData('text', o), e.set('dragContent', i), e.trigger('block:drag:start', n, t)\r\n        },\r\n        handleDrag: function (t) {\r\n          this.em.trigger('block:drag', this.model, t)\r\n        },\r\n        handleDragEnd: function () {\r\n          var t = this.em,\r\n            e = this.model,\r\n            n = t.get('dragResult')\r\n          if (n) {\r\n            var i = n.get && n.get('activeOnRender')\r\n            ;(e.get('activate') || i) && (n.trigger('active'), n.set('activeOnRender', 0)),\r\n              e.get('select') && t.setSelected(n),\r\n              e.get('resetId') &&\r\n                n.onAll(function (t) {\r\n                  return t.resetId()\r\n                })\r\n          }\r\n          t.set({ dragResult: null, dragContent: null }), t.trigger('block:drag:stop', n, e)\r\n        },\r\n        endDrag: function (t) {\r\n          ;(0, a.off)(document, 'mouseup', this.endDrag)\r\n          var e = this.config.getSorter()\r\n          ;(e.moved = 0), e.endMove()\r\n        },\r\n        render: function () {\r\n          var t = this.el,\r\n            e = this.ppfx,\r\n            n = e + 'block',\r\n            i = this.model.get('label')\r\n          return (\r\n            (t.className += ' ' + n + ' ' + e + 'one-bg ' + e + 'four-color-h'),\r\n            (t.innerHTML = '<div class=\"' + n + '-label\">' + i + '</div>'),\r\n            (t.title = t.textContent.trim()),\r\n            (0, a.hasDnd)(this.em) && t.setAttribute('draggable', !0),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = o(n(1)),\r\n        r = o(n(0))\r\n      function o (t) {\r\n        return t && t.__esModule ? t : { default: t }\r\n      }\r\n      t.exports = r.default.View.extend({\r\n        template: i.default.template(\r\n          '\\n  <div class=\"<%= pfx %>title\">\\n    <i class=\"<%= pfx %>caret-icon\"></i>\\n    <%= label %>\\n  </div>\\n  <div class=\"<%= pfx %>blocks-c\"></div>\\n  '\r\n        ),\r\n        events: {},\r\n        initialize: function () {\r\n          arguments.length > 0 && void 0 !== arguments[0] && arguments[0]\r\n          var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}\r\n          this.config = t\r\n          var e = this.config.pStylePrefix || ''\r\n          ;(this.pfx = e),\r\n            (this.caretR = 'fa fa-caret-right'),\r\n            (this.caretD = 'fa fa-caret-down'),\r\n            (this.iconClass = e + 'caret-icon'),\r\n            (this.activeClass = e + 'open'),\r\n            (this.className = e + 'block-category'),\r\n            (this.events['click .' + e + 'title'] = 'toggle'),\r\n            this.listenTo(this.model, 'change:open', this.updateVisibility),\r\n            this.delegateEvents()\r\n        },\r\n        updateVisibility: function () {\r\n          this.model.get('open') ? this.open() : this.close()\r\n        },\r\n        open: function () {\r\n          ;(this.el.className = this.className + ' ' + this.activeClass),\r\n            (this.getIconEl().className = this.iconClass + ' ' + this.caretD),\r\n            (this.getBlocksEl().style.display = '')\r\n        },\r\n        close: function () {\r\n          ;(this.el.className = this.className),\r\n            (this.getIconEl().className = this.iconClass + ' ' + this.caretR),\r\n            (this.getBlocksEl().style.display = 'none')\r\n        },\r\n        toggle: function () {\r\n          var t = this.model\r\n          t.set('open', !t.get('open'))\r\n        },\r\n        getIconEl: function () {\r\n          return this.iconEl || (this.iconEl = this.el.querySelector('.' + this.iconClass)), this.iconEl\r\n        },\r\n        getBlocksEl: function () {\r\n          return this.blocksEl || (this.blocksEl = this.el.querySelector('.' + this.pfx + 'blocks-c')), this.blocksEl\r\n        },\r\n        append: function (t) {\r\n          this.getBlocksEl().appendChild(t)\r\n        },\r\n        render: function () {\r\n          return (\r\n            (this.el.innerHTML = this.template({ pfx: this.pfx, label: this.model.get('label') })),\r\n            (this.el.className = this.className),\r\n            this.$el.css({ order: this.model.get('order') }),\r\n            this.updateVisibility(),\r\n            this\r\n          )\r\n        }\r\n      })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      var i = n(1)\r\n      t.exports = function (t) {\r\n        var e = t.$,\r\n          n = t.Backbone\r\n        if (n) {\r\n          var r = n.View.prototype,\r\n            o = {}\r\n          ;(r.eventNsMap = o),\r\n            (r.delegate = function (t, e, n) {\r\n              var i = '.delegateEvents' + this.cid\r\n              this.$el.on(t, e, n)\r\n              var r = o[i]\r\n              return r || ((r = []), (o[i] = r)), r.push({ eventName: t, selector: e, listener: n }), this\r\n            }),\r\n            (r.undelegateEvents = function () {\r\n              var t = this,\r\n                e = '.delegateEvents' + this.cid\r\n              if (this.$el) {\r\n                var n = o[e]\r\n                n &&\r\n                  n.forEach(function (e) {\r\n                    var n = e.eventName\r\n                    e.selector, e.listener\r\n                    t.$el.off(n)\r\n                  })\r\n              }\r\n              return this\r\n            }),\r\n            (r.undelegate = function (t, e, n) {\r\n              var i = this,\r\n                r = '.delegateEvents' + this.cid,\r\n                s = o[r]\r\n              return (\r\n                s &&\r\n                  s.forEach(function (n) {\r\n                    var r = n.eventName,\r\n                      o = n.selector\r\n                    n.listener\r\n                    r == t && o == e && i.$el.off(r)\r\n                  }),\r\n                this\r\n              )\r\n            })\r\n        }\r\n        if (e && 'jQuery' !== e.prototype.constructor.name) {\r\n          var s = e.fn,\r\n            a = e.prototype.on,\r\n            l = e.prototype.off,\r\n            c = e.prototype.trigger,\r\n            u = e.prototype.offset,\r\n            h = function (t) {\r\n              return t.split(/[,\\s]+/g)\r\n            },\r\n            d = function (t) {\r\n              return t.split('.')\r\n            }\r\n          ;(s.on = function (t, e, n, i) {\r\n            var r = this\r\n            if ('string' == typeof t) {\r\n              var o = h(t)\r\n              if (1 == o.length) {\r\n                t = o[0]\r\n                var s = d(t)\r\n                if ((0 !== t.indexOf('.') && (t = s[0]), (s = s.slice(1)).length)) {\r\n                  this.data('_cashNs')\r\n                  this.data('_cashNs', s)\r\n                }\r\n                return a.call(this, t, e, n, i)\r\n              }\r\n              return (\r\n                o.forEach(function (t) {\r\n                  return r.on(t, e, n, i)\r\n                }),\r\n                this\r\n              )\r\n            }\r\n            return a.call(this, t, e, n, i)\r\n          }),\r\n            (s.off = function (t, e) {\r\n              var n = this\r\n              if ('string' == typeof t) {\r\n                var i = h(t)\r\n                if (1 == i.length) {\r\n                  t = i[0]\r\n                  var r = d(t)\r\n                  return 0 !== t.indexOf('.') && (t = r[0]), (r = r.slice(1)).length, l.call(this, t, e)\r\n                }\r\n                return (\r\n                  i.forEach(function (t) {\r\n                    return n.off(t, e)\r\n                  }),\r\n                  this\r\n                )\r\n              }\r\n              return l.call(this, t, e)\r\n            }),\r\n            (s.trigger = function (t, n) {\r\n              var i = this\r\n              if (t instanceof e.Event) return this.trigger(t.type, n)\r\n              if ('string' == typeof t) {\r\n                var r = h(t)\r\n                if (1 == r.length) {\r\n                  t = r[0]\r\n                  var o = d(t)\r\n                  return 0 !== t.indexOf('.') && (t = o[0]), (o = o.slice(1)).length, c.call(this, t, n)\r\n                }\r\n                return (\r\n                  r.forEach(function (t) {\r\n                    return i.trigger(t, n)\r\n                  }),\r\n                  this\r\n                )\r\n              }\r\n              return c.call(this, t, n)\r\n            }),\r\n            (s.hide = function () {\r\n              return this.css('display', 'none')\r\n            }),\r\n            (s.show = function () {\r\n              return this.css('display', 'block')\r\n            }),\r\n            (s.focus = function () {\r\n              var t = this.get(0)\r\n              return t && t.focus(), this\r\n            }),\r\n            (s.removeClass = function (t) {\r\n              if (!arguments.length) return this.attr('class', '')\r\n              var e = (0, i.isString)(t) && t.match(/\\S+/g)\r\n              return e\r\n                ? this.each(function (t) {\r\n                    ;(0, i.each)(e, function (e) {\r\n                      if (t.classList) t.classList.remove(e)\r\n                      else {\r\n                        var n = t.className,\r\n                          r = t.className.baseVal\r\n                        ;(0, i.isUndefined)(r) ? (t.className = n.replace(e, '')) : (n.baseVal = r.replace(e, ''))\r\n                      }\r\n                    })\r\n                  })\r\n                : this\r\n            }),\r\n            (s.remove = function () {\r\n              return this.each(function (t) {\r\n                return t.parentNode && t.parentNode.removeChild(t)\r\n              })\r\n            }),\r\n            (s.bind = function (t, e) {\r\n              return this.on(t, e)\r\n            }),\r\n            (s.unbind = function (t, e) {\r\n              if ((0, i.isObject)(t)) {\r\n                for (var n in t) t.hasOwnProperty(n) && this.off(n, t[n])\r\n                return this\r\n              }\r\n              return this.off(t, e)\r\n            }),\r\n            (s.click = function (t) {\r\n              return t ? this.on('click', t) : this.trigger('click')\r\n            }),\r\n            (s.change = function (t) {\r\n              return t ? this.on('change', t) : this.trigger('change')\r\n            }),\r\n            (s.keydown = function (t) {\r\n              return t ? this.on('keydown', t) : this.trigger('keydown')\r\n            }),\r\n            (s.delegate = function (t, e, n, i) {\r\n              return (\r\n                i || (i = n),\r\n                this.on(e, t, function (t) {\r\n                  ;(t.data = n), i(t)\r\n                })\r\n              )\r\n            }),\r\n            (s.scrollLeft = function () {\r\n              var t = this.get(0),\r\n                e = (t = 9 == t.nodeType ? t.defaultView : t) instanceof Window ? t : null\r\n              return e ? e.pageXOffset : t.scrollLeft || 0\r\n            }),\r\n            (s.scrollTop = function () {\r\n              var t = this.get(0),\r\n                e = (t = 9 == t.nodeType ? t.defaultView : t) instanceof Window ? t : null\r\n              return e ? e.pageYOffset : t.scrollTop || 0\r\n            }),\r\n            (s.offset = function (t) {\r\n              var e = void 0,\r\n                n = void 0\r\n              return (\r\n                t && ((e = t.top), (n = t.left)),\r\n                void 0 !== e && this.css('top', e + 'px'),\r\n                void 0 !== n && this.css('left', n + 'px'),\r\n                u.call(this)\r\n              )\r\n            }),\r\n            (e.map = function (t, e) {\r\n              for (var n = [], i = 0; i < t.length; i++) n.push(e(t[i], i))\r\n              return n\r\n            })\r\n          var f = Array.prototype.indexOf\r\n          ;(e.inArray = function (t, e, n) {\r\n            return null == e ? -1 : f.call(e, t, n)\r\n          }),\r\n            (e.Event = function (t, n) {\r\n              if (!(this instanceof e.Event)) return new e.Event(t, n)\r\n              ;(this.type = t),\r\n                (this.isDefaultPrevented = function () {\r\n                  return !1\r\n                })\r\n            })\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      ;(function (e) {\r\n        var n = e.$\r\n        t.exports = e.View.extend({\r\n          initialize: function () {\r\n            var t = this,\r\n              e = this.model\r\n            ;(e.view = this),\r\n              (this.conf = e.config),\r\n              (this.pn = e.get('Panels')),\r\n              e.on('loaded', function () {\r\n                t.pn.active(),\r\n                  t.pn.disableButtons(),\r\n                  e.runDefault(),\r\n                  setTimeout(function () {\r\n                    return e.trigger('load')\r\n                  }, 0)\r\n              })\r\n          },\r\n          render: function () {\r\n            var t = this.model,\r\n              e = this.$el,\r\n              i = this.conf,\r\n              r = n(i.el || 'body ' + i.container),\r\n              o = i.stylePrefix\r\n            return (\r\n              e.empty(),\r\n              i.width && r.css('width', i.width),\r\n              i.height && r.css('height', i.height),\r\n              e.append(t.get('Canvas').render()),\r\n              e.append(this.pn.render()),\r\n              e.attr('class', o + 'editor ' + o + 'one-bg ' + o + 'two-color'),\r\n              r\r\n                .addClass(o + 'editor-cont')\r\n                .empty()\r\n                .append(e),\r\n              this\r\n            )\r\n          }\r\n        })\r\n      }.call(this, n(0)))\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      Object.defineProperty(e, '__esModule', { value: !0 }),\r\n        (e.default = function () {\r\n          if (\r\n            (function () {\r\n              for (\r\n                var t = void 0,\r\n                  e = window.navigator.userAgent,\r\n                  n = [\r\n                    ['edge', /Edge\\/([0-9\\._]+)/],\r\n                    ['ie', /MSIE\\s(7\\.0)/],\r\n                    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\r\n                    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/]\r\n                  ],\r\n                  i = 0;\r\n                i < n.length && !(t = n[i][1].exec(e));\r\n                i++\r\n              );\r\n              return !!t\r\n            })()\r\n          ) {\r\n            var t = DOMImplementation.prototype.createHTMLDocument\r\n            DOMImplementation.prototype.createHTMLDocument = function (e) {\r\n              return e || (e = ''), t.apply(document.implementation, [e])\r\n            }\r\n          }\r\n        })\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = function (t) {\r\n        var e = t || {},\r\n          i = n(240)\r\n        for (var r in i) r in e || (e[r] = i[r])\r\n        var o = {}\r\n        return {\r\n          add: function (t, e) {\r\n            return o[t] ? o[t] : ((o[t] = e), e)\r\n          },\r\n          get: function (t) {\r\n            return o[t]\r\n          },\r\n          getAll: function () {\r\n            return o\r\n          }\r\n        }\r\n      }\r\n    },\r\n    function (t, e, n) {\r\n      'use strict'\r\n      t.exports = { plugins: [] }\r\n    }\r\n  ])\r\n})\r\n//# sourceMappingURL=grapes.min.js.map\r\n\n\n//# sourceURL=webpack:///./src/public/js/vendor/grapesjs/grapes.min.js?");

/***/ }),

/***/ "./src/public/js/vendor/grapesjs/grapesjs-preset-email.min.js":
/*!********************************************************************!*\
  !*** ./src/public/js/vendor/grapesjs/grapesjs-preset-email.min.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*! grapesjs-preset-newsletter - 0.2.20 */\r\n!(function (t, e) {\r\n   true\r\n    ? (module.exports = e(__webpack_require__(/*! grapesjs */ \"./src/public/js/vendor/grapesjs/grapes.min.js\")))\r\n    : undefined\r\n})('undefined' != typeof self ? self : this, function (t) {\r\n  return (function (t) {\r\n    function e (n) {\r\n      if (r[n]) return r[n].exports\r\n      var i = (r[n] = { i: n, l: !1, exports: {} })\r\n      return t[n].call(i.exports, i, i.exports, e), (i.l = !0), i.exports\r\n    }\r\n    var r = {}\r\n    return (\r\n      (e.m = t),\r\n      (e.c = r),\r\n      (e.d = function (t, r, n) {\r\n        e.o(t, r) || Object.defineProperty(t, r, { configurable: !1, enumerable: !0, get: n })\r\n      }),\r\n      (e.n = function (t) {\r\n        var r =\r\n          t && t.__esModule\r\n            ? function () {\r\n                return t.default\r\n              }\r\n            : function () {\r\n                return t\r\n              }\r\n        return e.d(r, 'a', r), r\r\n      }),\r\n      (e.o = function (t, e) {\r\n        return Object.prototype.hasOwnProperty.call(t, e)\r\n      }),\r\n      (e.p = ''),\r\n      e((e.s = 46))\r\n    )\r\n  })([\r\n    function (t, e) {\r\n      var r\r\n      r = (function () {\r\n        return this\r\n      })()\r\n      try {\r\n        r = r || Function('return this')() || (0, eval)('this')\r\n      } catch (t) {\r\n        'object' == typeof window && (r = window)\r\n      }\r\n      t.exports = r\r\n    },\r\n    function (t, e) {\r\n      'function' == typeof Object.create\r\n        ? (t.exports = function (t, e) {\r\n            ;(t.super_ = e),\r\n              (t.prototype = Object.create(e.prototype, {\r\n                constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 }\r\n              }))\r\n          })\r\n        : (t.exports = function (t, e) {\r\n            t.super_ = e\r\n            var r = function () {}\r\n            ;(r.prototype = e.prototype), (t.prototype = new r()), (t.prototype.constructor = t)\r\n          })\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      function n (t) {\r\n        if (!(this instanceof n)) return new n(t)\r\n        c.call(this, t),\r\n          l.call(this, t),\r\n          t && !1 === t.readable && (this.readable = !1),\r\n          t && !1 === t.writable && (this.writable = !1),\r\n          (this.allowHalfOpen = !0),\r\n          t && !1 === t.allowHalfOpen && (this.allowHalfOpen = !1),\r\n          this.once('end', i)\r\n      }\r\n      function i () {\r\n        this.allowHalfOpen || this._writableState.ended || a.nextTick(o, this)\r\n      }\r\n      function o (t) {\r\n        t.end()\r\n      }\r\n      var a = r(14),\r\n        s =\r\n          Object.keys ||\r\n          function (t) {\r\n            var e = []\r\n            for (var r in t) e.push(r)\r\n            return e\r\n          }\r\n      t.exports = n\r\n      var u = r(8)\r\n      u.inherits = r(1)\r\n      var c = r(36),\r\n        l = r(21)\r\n      u.inherits(n, c)\r\n      for (var f = s(l.prototype), h = 0; h < f.length; h++) {\r\n        var p = f[h]\r\n        n.prototype[p] || (n.prototype[p] = l.prototype[p])\r\n      }\r\n      Object.defineProperty(n.prototype, 'writableHighWaterMark', {\r\n        enumerable: !1,\r\n        get: function () {\r\n          return this._writableState.highWaterMark\r\n        }\r\n      }),\r\n        Object.defineProperty(n.prototype, 'destroyed', {\r\n          get: function () {\r\n            return (\r\n              void 0 !== this._readableState &&\r\n              void 0 !== this._writableState &&\r\n              (this._readableState.destroyed && this._writableState.destroyed)\r\n            )\r\n          },\r\n          set: function (t) {\r\n            void 0 !== this._readableState &&\r\n              void 0 !== this._writableState &&\r\n              ((this._readableState.destroyed = t), (this._writableState.destroyed = t))\r\n          }\r\n        }),\r\n        (n.prototype._destroy = function (t, e) {\r\n          this.push(null), this.end(), a.nextTick(e, t)\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      function n (e, r) {\r\n        return delete t.exports[e], (t.exports[e] = r), r\r\n      }\r\n      var i = r(30),\r\n        o = r(58)\r\n      t.exports = {\r\n        Parser: i,\r\n        Tokenizer: r(31),\r\n        ElementType: r(6),\r\n        DomHandler: o,\r\n        get FeedHandler () {\r\n          return n('FeedHandler', r(60))\r\n        },\r\n        get Stream () {\r\n          return n('Stream', r(61))\r\n        },\r\n        get WritableStream () {\r\n          return n('WritableStream', r(35))\r\n        },\r\n        get ProxyHandler () {\r\n          return n('ProxyHandler', r(75))\r\n        },\r\n        get DomUtils () {\r\n          return n('DomUtils', r(4))\r\n        },\r\n        get CollectingHandler () {\r\n          return n('CollectingHandler', r(86))\r\n        },\r\n        DefaultHandler: o,\r\n        get RssHandler () {\r\n          return n('RssHandler', this.FeedHandler)\r\n        },\r\n        parseDOM: function (t, e) {\r\n          var r = new o(e)\r\n          return new i(r, e).end(t), r.dom\r\n        },\r\n        parseFeed: function (e, r) {\r\n          var n = new t.exports.FeedHandler(r)\r\n          return new i(n, r).end(e), n.dom\r\n        },\r\n        createDomStream: function (t, e, r) {\r\n          var n = new o(t, e, r)\r\n          return new i(n, e)\r\n        },\r\n        EVENTS: {\r\n          attribute: 2,\r\n          cdatastart: 0,\r\n          cdataend: 0,\r\n          text: 1,\r\n          processinginstruction: 2,\r\n          comment: 1,\r\n          commentend: 0,\r\n          closetag: 1,\r\n          opentag: 2,\r\n          opentagname: 1,\r\n          error: 1,\r\n          end: 0\r\n        }\r\n      }\r\n    },\r\n    function (t, e, r) {\r\n      var n = t.exports\r\n      ;[r(76), r(81), r(82), r(83), r(84), r(85)].forEach(function (t) {\r\n        Object.keys(t).forEach(function (e) {\r\n          n[e] = t[e].bind(n)\r\n        })\r\n      })\r\n    },\r\n    function (t, e) {\r\n      t.exports = function (t) {\r\n        return (\r\n          t.webpackPolyfill ||\r\n            ((t.deprecate = function () {}),\r\n            (t.paths = []),\r\n            t.children || (t.children = []),\r\n            Object.defineProperty(t, 'loaded', {\r\n              enumerable: !0,\r\n              get: function () {\r\n                return t.l\r\n              }\r\n            }),\r\n            Object.defineProperty(t, 'id', {\r\n              enumerable: !0,\r\n              get: function () {\r\n                return t.i\r\n              }\r\n            }),\r\n            (t.webpackPolyfill = 1)),\r\n          t\r\n        )\r\n      }\r\n    },\r\n    function (t, e) {\r\n      t.exports = {\r\n        Text: 'text',\r\n        Directive: 'directive',\r\n        Comment: 'comment',\r\n        Script: 'script',\r\n        Style: 'style',\r\n        Tag: 'tag',\r\n        CDATA: 'cdata',\r\n        Doctype: 'doctype',\r\n        isTag: function (t) {\r\n          return 'tag' === t.type || 'script' === t.type || 'style' === t.type\r\n        }\r\n      }\r\n    },\r\n    function (t, e) {\r\n      function r () {\r\n        throw new Error('setTimeout has not been defined')\r\n      }\r\n      function n () {\r\n        throw new Error('clearTimeout has not been defined')\r\n      }\r\n      function i (t) {\r\n        if (l === setTimeout) return setTimeout(t, 0)\r\n        if ((l === r || !l) && setTimeout) return (l = setTimeout), setTimeout(t, 0)\r\n        try {\r\n          return l(t, 0)\r\n        } catch (e) {\r\n          try {\r\n            return l.call(null, t, 0)\r\n          } catch (e) {\r\n            return l.call(this, t, 0)\r\n          }\r\n        }\r\n      }\r\n      function o (t) {\r\n        if (f === clearTimeout) return clearTimeout(t)\r\n        if ((f === n || !f) && clearTimeout) return (f = clearTimeout), clearTimeout(t)\r\n        try {\r\n          return f(t)\r\n        } catch (e) {\r\n          try {\r\n            return f.call(null, t)\r\n          } catch (e) {\r\n            return f.call(this, t)\r\n          }\r\n        }\r\n      }\r\n      function a () {\r\n        g && p && ((g = !1), p.length ? (d = p.concat(d)) : (v = -1), d.length && s())\r\n      }\r\n      function s () {\r\n        if (!g) {\r\n          var t = i(a)\r\n          g = !0\r\n          for (var e = d.length; e; ) {\r\n            for (p = d, d = []; ++v < e; ) p && p[v].run()\r\n            ;(v = -1), (e = d.length)\r\n          }\r\n          ;(p = null), (g = !1), o(t)\r\n        }\r\n      }\r\n      function u (t, e) {\r\n        ;(this.fun = t), (this.array = e)\r\n      }\r\n      function c () {}\r\n      var l,\r\n        f,\r\n        h = (t.exports = {})\r\n      !(function () {\r\n        try {\r\n          l = 'function' == typeof setTimeout ? setTimeout : r\r\n        } catch (t) {\r\n          l = r\r\n        }\r\n        try {\r\n          f = 'function' == typeof clearTimeout ? clearTimeout : n\r\n        } catch (t) {\r\n          f = n\r\n        }\r\n      })()\r\n      var p,\r\n        d = [],\r\n        g = !1,\r\n        v = -1\r\n      ;(h.nextTick = function (t) {\r\n        var e = new Array(arguments.length - 1)\r\n        if (arguments.length > 1) for (var r = 1; r < arguments.length; r++) e[r - 1] = arguments[r]\r\n        d.push(new u(t, e)), 1 !== d.length || g || i(s)\r\n      }),\r\n        (u.prototype.run = function () {\r\n          this.fun.apply(null, this.array)\r\n        }),\r\n        (h.title = 'browser'),\r\n        (h.browser = !0),\r\n        (h.env = {}),\r\n        (h.argv = []),\r\n        (h.version = ''),\r\n        (h.versions = {}),\r\n        (h.on = c),\r\n        (h.addListener = c),\r\n        (h.once = c),\r\n        (h.off = c),\r\n        (h.removeListener = c),\r\n        (h.removeAllListeners = c),\r\n        (h.emit = c),\r\n        (h.prependListener = c),\r\n        (h.prependOnceListener = c),\r\n        (h.listeners = function (t) {\r\n          return []\r\n        }),\r\n        (h.binding = function (t) {\r\n          throw new Error('process.binding is not supported')\r\n        }),\r\n        (h.cwd = function () {\r\n          return '/'\r\n        }),\r\n        (h.chdir = function (t) {\r\n          throw new Error('process.chdir is not supported')\r\n        }),\r\n        (h.umask = function () {\r\n          return 0\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      ;(function (t) {\r\n        function r (t) {\r\n          return Array.isArray ? Array.isArray(t) : '[object Array]' === v(t)\r\n        }\r\n        function n (t) {\r\n          return 'boolean' == typeof t\r\n        }\r\n        function i (t) {\r\n          return null === t\r\n        }\r\n        function o (t) {\r\n          return null == t\r\n        }\r\n        function a (t) {\r\n          return 'number' == typeof t\r\n        }\r\n        function s (t) {\r\n          return 'string' == typeof t\r\n        }\r\n        function u (t) {\r\n          return 'symbol' == typeof t\r\n        }\r\n        function c (t) {\r\n          return void 0 === t\r\n        }\r\n        function l (t) {\r\n          return '[object RegExp]' === v(t)\r\n        }\r\n        function f (t) {\r\n          return 'object' == typeof t && null !== t\r\n        }\r\n        function h (t) {\r\n          return '[object Date]' === v(t)\r\n        }\r\n        function p (t) {\r\n          return '[object Error]' === v(t) || t instanceof Error\r\n        }\r\n        function d (t) {\r\n          return 'function' == typeof t\r\n        }\r\n        function g (t) {\r\n          return (\r\n            null === t ||\r\n            'boolean' == typeof t ||\r\n            'number' == typeof t ||\r\n            'string' == typeof t ||\r\n            'symbol' == typeof t ||\r\n            void 0 === t\r\n          )\r\n        }\r\n        function v (t) {\r\n          return Object.prototype.toString.call(t)\r\n        }\r\n        ;(e.isArray = r),\r\n          (e.isBoolean = n),\r\n          (e.isNull = i),\r\n          (e.isNullOrUndefined = o),\r\n          (e.isNumber = a),\r\n          (e.isString = s),\r\n          (e.isSymbol = u),\r\n          (e.isUndefined = c),\r\n          (e.isRegExp = l),\r\n          (e.isObject = f),\r\n          (e.isDate = h),\r\n          (e.isError = p),\r\n          (e.isFunction = d),\r\n          (e.isPrimitive = g),\r\n          (e.isBuffer = t.isBuffer)\r\n      }.call(e, r(12).Buffer))\r\n    },\r\n    function (t, e, r) {\r\n      var n = r(11),\r\n        i = r(23),\r\n        o = { tag: !0, script: !0, style: !0 }\r\n      ;(e.isTag = function (t) {\r\n        return t.type && (t = t.type), o[t] || !1\r\n      }),\r\n        (e.camelCase = function (t) {\r\n          return t.replace(/[_.-](\\w|$)/g, function (t, e) {\r\n            return e.toUpperCase()\r\n          })\r\n        }),\r\n        (e.cssCase = function (t) {\r\n          return t.replace(/[A-Z]/g, '-$&').toLowerCase()\r\n        }),\r\n        (e.domEach = function (t, e) {\r\n          for (var r = 0, n = t.length; r < n && !1 !== e.call(t, r, t[r]); ) ++r\r\n          return t\r\n        }),\r\n        (e.cloneDom = function (t, e) {\r\n          return n(i(t, e), e).children\r\n        })\r\n      var a = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/\r\n      e.isHtml = function (t) {\r\n        if ('<' === t.charAt(0) && '>' === t.charAt(t.length - 1) && t.length >= 3) return !0\r\n        var e = a.exec(t)\r\n        return !(!e || !e[1])\r\n      }\r\n    },\r\n    function (t, e) {\r\n      t.exports = {\r\n        trueFunc: function () {\r\n          return !0\r\n        },\r\n        falseFunc: function () {\r\n          return !1\r\n        }\r\n      }\r\n    },\r\n    function (t, e, r) {\r\n      ;(function (n) {\r\n        var i = r(3)\r\n        ;(e = t.exports = function (t, r) {\r\n          var n = e.evaluate(t, r),\r\n            i = e.evaluate('<root></root>', r)[0]\r\n          return (i.type = 'root'), e.update(n, i), i\r\n        }),\r\n          (e.evaluate = function (t, e) {\r\n            return 'string' == typeof t || n.isBuffer(t) ? i.parseDOM(t, e) : t\r\n          }),\r\n          (e.update = function (t, e) {\r\n            Array.isArray(t) || (t = [t]), e ? (e.children = t) : (e = null)\r\n            for (var r = 0; r < t.length; r++) {\r\n              var n = t[r],\r\n                i = n.parent || n.root,\r\n                o = i && i.children\r\n              o &&\r\n                o !== t &&\r\n                (o.splice(o.indexOf(n), 1), n.prev && (n.prev.next = n.next), n.next && (n.next.prev = n.prev)),\r\n                e ? ((n.prev = t[r - 1] || null), (n.next = t[r + 1] || null)) : (n.prev = n.next = null),\r\n                e && 'root' === e.type ? ((n.root = e), (n.parent = null)) : ((n.root = null), (n.parent = e))\r\n            }\r\n            return e\r\n          })\r\n      }.call(e, r(12).Buffer))\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      ;(function (t) {\r\n        function n () {\r\n          return o.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823\r\n        }\r\n        function i (t, e) {\r\n          if (n() < e) throw new RangeError('Invalid typed array length')\r\n          return (\r\n            o.TYPED_ARRAY_SUPPORT\r\n              ? ((t = new Uint8Array(e)), (t.__proto__ = o.prototype))\r\n              : (null === t && (t = new o(e)), (t.length = e)),\r\n            t\r\n          )\r\n        }\r\n        function o (t, e, r) {\r\n          if (!(o.TYPED_ARRAY_SUPPORT || this instanceof o)) return new o(t, e, r)\r\n          if ('number' == typeof t) {\r\n            if ('string' == typeof e)\r\n              throw new Error('If encoding is specified then the first argument must be a string')\r\n            return c(this, t)\r\n          }\r\n          return a(this, t, e, r)\r\n        }\r\n        function a (t, e, r, n) {\r\n          if ('number' == typeof e) throw new TypeError('\"value\" argument must not be a number')\r\n          return 'undefined' != typeof ArrayBuffer && e instanceof ArrayBuffer\r\n            ? h(t, e, r, n)\r\n            : 'string' == typeof e\r\n            ? l(t, e, r)\r\n            : p(t, e)\r\n        }\r\n        function s (t) {\r\n          if ('number' != typeof t) throw new TypeError('\"size\" argument must be a number')\r\n          if (t < 0) throw new RangeError('\"size\" argument must not be negative')\r\n        }\r\n        function u (t, e, r, n) {\r\n          return (\r\n            s(e),\r\n            e <= 0 ? i(t, e) : void 0 !== r ? ('string' == typeof n ? i(t, e).fill(r, n) : i(t, e).fill(r)) : i(t, e)\r\n          )\r\n        }\r\n        function c (t, e) {\r\n          if ((s(e), (t = i(t, e < 0 ? 0 : 0 | d(e))), !o.TYPED_ARRAY_SUPPORT)) for (var r = 0; r < e; ++r) t[r] = 0\r\n          return t\r\n        }\r\n        function l (t, e, r) {\r\n          if ((('string' == typeof r && '' !== r) || (r = 'utf8'), !o.isEncoding(r)))\r\n            throw new TypeError('\"encoding\" must be a valid string encoding')\r\n          var n = 0 | v(e, r)\r\n          t = i(t, n)\r\n          var a = t.write(e, r)\r\n          return a !== n && (t = t.slice(0, a)), t\r\n        }\r\n        function f (t, e) {\r\n          var r = e.length < 0 ? 0 : 0 | d(e.length)\r\n          t = i(t, r)\r\n          for (var n = 0; n < r; n += 1) t[n] = 255 & e[n]\r\n          return t\r\n        }\r\n        function h (t, e, r, n) {\r\n          if ((e.byteLength, r < 0 || e.byteLength < r)) throw new RangeError(\"'offset' is out of bounds\")\r\n          if (e.byteLength < r + (n || 0)) throw new RangeError(\"'length' is out of bounds\")\r\n          return (\r\n            (e =\r\n              void 0 === r && void 0 === n\r\n                ? new Uint8Array(e)\r\n                : void 0 === n\r\n                ? new Uint8Array(e, r)\r\n                : new Uint8Array(e, r, n)),\r\n            o.TYPED_ARRAY_SUPPORT ? ((t = e), (t.__proto__ = o.prototype)) : (t = f(t, e)),\r\n            t\r\n          )\r\n        }\r\n        function p (t, e) {\r\n          if (o.isBuffer(e)) {\r\n            var r = 0 | d(e.length)\r\n            return (t = i(t, r)), 0 === t.length ? t : (e.copy(t, 0, 0, r), t)\r\n          }\r\n          if (e) {\r\n            if (('undefined' != typeof ArrayBuffer && e.buffer instanceof ArrayBuffer) || 'length' in e)\r\n              return 'number' != typeof e.length || J(e.length) ? i(t, 0) : f(t, e)\r\n            if ('Buffer' === e.type && Z(e.data)) return f(t, e.data)\r\n          }\r\n          throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\r\n        }\r\n        function d (t) {\r\n          if (t >= n())\r\n            throw new RangeError(\r\n              'Attempt to allocate Buffer larger than maximum size: 0x' + n().toString(16) + ' bytes'\r\n            )\r\n          return 0 | t\r\n        }\r\n        function g (t) {\r\n          return +t != t && (t = 0), o.alloc(+t)\r\n        }\r\n        function v (t, e) {\r\n          if (o.isBuffer(t)) return t.length\r\n          if (\r\n            'undefined' != typeof ArrayBuffer &&\r\n            'function' == typeof ArrayBuffer.isView &&\r\n            (ArrayBuffer.isView(t) || t instanceof ArrayBuffer)\r\n          )\r\n            return t.byteLength\r\n          'string' != typeof t && (t = '' + t)\r\n          var r = t.length\r\n          if (0 === r) return 0\r\n          for (var n = !1; ; )\r\n            switch (e) {\r\n              case 'ascii':\r\n              case 'latin1':\r\n              case 'binary':\r\n                return r\r\n              case 'utf8':\r\n              case 'utf-8':\r\n              case void 0:\r\n                return $(t).length\r\n              case 'ucs2':\r\n              case 'ucs-2':\r\n              case 'utf16le':\r\n              case 'utf-16le':\r\n                return 2 * r\r\n              case 'hex':\r\n                return r >>> 1\r\n              case 'base64':\r\n                return G(t).length\r\n              default:\r\n                if (n) return $(t).length\r\n                ;(e = ('' + e).toLowerCase()), (n = !0)\r\n            }\r\n        }\r\n        function b (t, e, r) {\r\n          var n = !1\r\n          if (((void 0 === e || e < 0) && (e = 0), e > this.length)) return ''\r\n          if (((void 0 === r || r > this.length) && (r = this.length), r <= 0)) return ''\r\n          if (((r >>>= 0), (e >>>= 0), r <= e)) return ''\r\n          for (t || (t = 'utf8'); ; )\r\n            switch (t) {\r\n              case 'hex':\r\n                return B(this, e, r)\r\n              case 'utf8':\r\n              case 'utf-8':\r\n                return T(this, e, r)\r\n              case 'ascii':\r\n                return L(this, e, r)\r\n              case 'latin1':\r\n              case 'binary':\r\n                return C(this, e, r)\r\n              case 'base64':\r\n                return A(this, e, r)\r\n              case 'ucs2':\r\n              case 'ucs-2':\r\n              case 'utf16le':\r\n              case 'utf-16le':\r\n                return D(this, e, r)\r\n              default:\r\n                if (n) throw new TypeError('Unknown encoding: ' + t)\r\n                ;(t = (t + '').toLowerCase()), (n = !0)\r\n            }\r\n        }\r\n        function y (t, e, r) {\r\n          var n = t[e]\r\n          ;(t[e] = t[r]), (t[r] = n)\r\n        }\r\n        function m (t, e, r, n, i) {\r\n          if (0 === t.length) return -1\r\n          if (\r\n            ('string' == typeof r\r\n              ? ((n = r), (r = 0))\r\n              : r > 2147483647\r\n              ? (r = 2147483647)\r\n              : r < -2147483648 && (r = -2147483648),\r\n            (r = +r),\r\n            isNaN(r) && (r = i ? 0 : t.length - 1),\r\n            r < 0 && (r = t.length + r),\r\n            r >= t.length)\r\n          ) {\r\n            if (i) return -1\r\n            r = t.length - 1\r\n          } else if (r < 0) {\r\n            if (!i) return -1\r\n            r = 0\r\n          }\r\n          if (('string' == typeof e && (e = o.from(e, n)), o.isBuffer(e))) return 0 === e.length ? -1 : _(t, e, r, n, i)\r\n          if ('number' == typeof e)\r\n            return (\r\n              (e &= 255),\r\n              o.TYPED_ARRAY_SUPPORT && 'function' == typeof Uint8Array.prototype.indexOf\r\n                ? i\r\n                  ? Uint8Array.prototype.indexOf.call(t, e, r)\r\n                  : Uint8Array.prototype.lastIndexOf.call(t, e, r)\r\n                : _(t, [e], r, n, i)\r\n            )\r\n          throw new TypeError('val must be string, number or Buffer')\r\n        }\r\n        function _ (t, e, r, n, i) {\r\n          function o (t, e) {\r\n            return 1 === a ? t[e] : t.readUInt16BE(e * a)\r\n          }\r\n          var a = 1,\r\n            s = t.length,\r\n            u = e.length\r\n          if (\r\n            void 0 !== n &&\r\n            ('ucs2' === (n = String(n).toLowerCase()) || 'ucs-2' === n || 'utf16le' === n || 'utf-16le' === n)\r\n          ) {\r\n            if (t.length < 2 || e.length < 2) return -1\r\n            ;(a = 2), (s /= 2), (u /= 2), (r /= 2)\r\n          }\r\n          var c\r\n          if (i) {\r\n            var l = -1\r\n            for (c = r; c < s; c++)\r\n              if (o(t, c) === o(e, -1 === l ? 0 : c - l)) {\r\n                if ((-1 === l && (l = c), c - l + 1 === u)) return l * a\r\n              } else -1 !== l && (c -= c - l), (l = -1)\r\n          } else\r\n            for (r + u > s && (r = s - u), c = r; c >= 0; c--) {\r\n              for (var f = !0, h = 0; h < u; h++)\r\n                if (o(t, c + h) !== o(e, h)) {\r\n                  f = !1\r\n                  break\r\n                }\r\n              if (f) return c\r\n            }\r\n          return -1\r\n        }\r\n        function w (t, e, r, n) {\r\n          r = Number(r) || 0\r\n          var i = t.length - r\r\n          n ? (n = Number(n)) > i && (n = i) : (n = i)\r\n          var o = e.length\r\n          if (o % 2 != 0) throw new TypeError('Invalid hex string')\r\n          n > o / 2 && (n = o / 2)\r\n          for (var a = 0; a < n; ++a) {\r\n            var s = parseInt(e.substr(2 * a, 2), 16)\r\n            if (isNaN(s)) return a\r\n            t[r + a] = s\r\n          }\r\n          return a\r\n        }\r\n        function x (t, e, r, n) {\r\n          return Y($(e, t.length - r), t, r, n)\r\n        }\r\n        function S (t, e, r, n) {\r\n          return Y(H(e), t, r, n)\r\n        }\r\n        function j (t, e, r, n) {\r\n          return S(t, e, r, n)\r\n        }\r\n        function k (t, e, r, n) {\r\n          return Y(G(e), t, r, n)\r\n        }\r\n        function E (t, e, r, n) {\r\n          return Y(W(e, t.length - r), t, r, n)\r\n        }\r\n        function A (t, e, r) {\r\n          return 0 === e && r === t.length ? Q.fromByteArray(t) : Q.fromByteArray(t.slice(e, r))\r\n        }\r\n        function T (t, e, r) {\r\n          r = Math.min(t.length, r)\r\n          for (var n = [], i = e; i < r; ) {\r\n            var o = t[i],\r\n              a = null,\r\n              s = o > 239 ? 4 : o > 223 ? 3 : o > 191 ? 2 : 1\r\n            if (i + s <= r) {\r\n              var u, c, l, f\r\n              switch (s) {\r\n                case 1:\r\n                  o < 128 && (a = o)\r\n                  break\r\n                case 2:\r\n                  ;(u = t[i + 1]), 128 == (192 & u) && (f = ((31 & o) << 6) | (63 & u)) > 127 && (a = f)\r\n                  break\r\n                case 3:\r\n                  ;(u = t[i + 1]),\r\n                    (c = t[i + 2]),\r\n                    128 == (192 & u) &&\r\n                      128 == (192 & c) &&\r\n                      (f = ((15 & o) << 12) | ((63 & u) << 6) | (63 & c)) > 2047 &&\r\n                      (f < 55296 || f > 57343) &&\r\n                      (a = f)\r\n                  break\r\n                case 4:\r\n                  ;(u = t[i + 1]),\r\n                    (c = t[i + 2]),\r\n                    (l = t[i + 3]),\r\n                    128 == (192 & u) &&\r\n                      128 == (192 & c) &&\r\n                      128 == (192 & l) &&\r\n                      (f = ((15 & o) << 18) | ((63 & u) << 12) | ((63 & c) << 6) | (63 & l)) > 65535 &&\r\n                      f < 1114112 &&\r\n                      (a = f)\r\n              }\r\n            }\r\n            null === a\r\n              ? ((a = 65533), (s = 1))\r\n              : a > 65535 && ((a -= 65536), n.push(((a >>> 10) & 1023) | 55296), (a = 56320 | (1023 & a))),\r\n              n.push(a),\r\n              (i += s)\r\n          }\r\n          return O(n)\r\n        }\r\n        function O (t) {\r\n          var e = t.length\r\n          if (e <= K) return String.fromCharCode.apply(String, t)\r\n          for (var r = '', n = 0; n < e; ) r += String.fromCharCode.apply(String, t.slice(n, (n += K)))\r\n          return r\r\n        }\r\n        function L (t, e, r) {\r\n          var n = ''\r\n          r = Math.min(t.length, r)\r\n          for (var i = e; i < r; ++i) n += String.fromCharCode(127 & t[i])\r\n          return n\r\n        }\r\n        function C (t, e, r) {\r\n          var n = ''\r\n          r = Math.min(t.length, r)\r\n          for (var i = e; i < r; ++i) n += String.fromCharCode(t[i])\r\n          return n\r\n        }\r\n        function B (t, e, r) {\r\n          var n = t.length\r\n          ;(!e || e < 0) && (e = 0), (!r || r < 0 || r > n) && (r = n)\r\n          for (var i = '', o = e; o < r; ++o) i += V(t[o])\r\n          return i\r\n        }\r\n        function D (t, e, r) {\r\n          for (var n = t.slice(e, r), i = '', o = 0; o < n.length; o += 2)\r\n            i += String.fromCharCode(n[o] + 256 * n[o + 1])\r\n          return i\r\n        }\r\n        function q (t, e, r) {\r\n          if (t % 1 != 0 || t < 0) throw new RangeError('offset is not uint')\r\n          if (t + e > r) throw new RangeError('Trying to access beyond buffer length')\r\n        }\r\n        function P (t, e, r, n, i, a) {\r\n          if (!o.isBuffer(t)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\r\n          if (e > i || e < a) throw new RangeError('\"value\" argument is out of bounds')\r\n          if (r + n > t.length) throw new RangeError('Index out of range')\r\n        }\r\n        function M (t, e, r, n) {\r\n          e < 0 && (e = 65535 + e + 1)\r\n          for (var i = 0, o = Math.min(t.length - r, 2); i < o; ++i)\r\n            t[r + i] = (e & (255 << (8 * (n ? i : 1 - i)))) >>> (8 * (n ? i : 1 - i))\r\n        }\r\n        function R (t, e, r, n) {\r\n          e < 0 && (e = 4294967295 + e + 1)\r\n          for (var i = 0, o = Math.min(t.length - r, 4); i < o; ++i) t[r + i] = (e >>> (8 * (n ? i : 3 - i))) & 255\r\n        }\r\n        function I (t, e, r, n, i, o) {\r\n          if (r + n > t.length) throw new RangeError('Index out of range')\r\n          if (r < 0) throw new RangeError('Index out of range')\r\n        }\r\n        function N (t, e, r, n, i) {\r\n          return i || I(t, e, r, 4, 3.4028234663852886e38, -3.4028234663852886e38), X.write(t, e, r, n, 23, 4), r + 4\r\n        }\r\n        function U (t, e, r, n, i) {\r\n          return i || I(t, e, r, 8, 1.7976931348623157e308, -1.7976931348623157e308), X.write(t, e, r, n, 52, 8), r + 8\r\n        }\r\n        function F (t) {\r\n          if (((t = z(t).replace(tt, '')), t.length < 2)) return ''\r\n          for (; t.length % 4 != 0; ) t += '='\r\n          return t\r\n        }\r\n        function z (t) {\r\n          return t.trim ? t.trim() : t.replace(/^\\s+|\\s+$/g, '')\r\n        }\r\n        function V (t) {\r\n          return t < 16 ? '0' + t.toString(16) : t.toString(16)\r\n        }\r\n        function $ (t, e) {\r\n          e = e || 1 / 0\r\n          for (var r, n = t.length, i = null, o = [], a = 0; a < n; ++a) {\r\n            if ((r = t.charCodeAt(a)) > 55295 && r < 57344) {\r\n              if (!i) {\r\n                if (r > 56319) {\r\n                  ;(e -= 3) > -1 && o.push(239, 191, 189)\r\n                  continue\r\n                }\r\n                if (a + 1 === n) {\r\n                  ;(e -= 3) > -1 && o.push(239, 191, 189)\r\n                  continue\r\n                }\r\n                i = r\r\n                continue\r\n              }\r\n              if (r < 56320) {\r\n                ;(e -= 3) > -1 && o.push(239, 191, 189), (i = r)\r\n                continue\r\n              }\r\n              r = 65536 + (((i - 55296) << 10) | (r - 56320))\r\n            } else i && (e -= 3) > -1 && o.push(239, 191, 189)\r\n            if (((i = null), r < 128)) {\r\n              if ((e -= 1) < 0) break\r\n              o.push(r)\r\n            } else if (r < 2048) {\r\n              if ((e -= 2) < 0) break\r\n              o.push((r >> 6) | 192, (63 & r) | 128)\r\n            } else if (r < 65536) {\r\n              if ((e -= 3) < 0) break\r\n              o.push((r >> 12) | 224, ((r >> 6) & 63) | 128, (63 & r) | 128)\r\n            } else {\r\n              if (!(r < 1114112)) throw new Error('Invalid code point')\r\n              if ((e -= 4) < 0) break\r\n              o.push((r >> 18) | 240, ((r >> 12) & 63) | 128, ((r >> 6) & 63) | 128, (63 & r) | 128)\r\n            }\r\n          }\r\n          return o\r\n        }\r\n        function H (t) {\r\n          for (var e = [], r = 0; r < t.length; ++r) e.push(255 & t.charCodeAt(r))\r\n          return e\r\n        }\r\n        function W (t, e) {\r\n          for (var r, n, i, o = [], a = 0; a < t.length && !((e -= 2) < 0); ++a)\r\n            (r = t.charCodeAt(a)), (n = r >> 8), (i = r % 256), o.push(i), o.push(n)\r\n          return o\r\n        }\r\n        function G (t) {\r\n          return Q.toByteArray(F(t))\r\n        }\r\n        function Y (t, e, r, n) {\r\n          for (var i = 0; i < n && !(i + r >= e.length || i >= t.length); ++i) e[i + r] = t[i]\r\n          return i\r\n        }\r\n        function J (t) {\r\n          return t !== t\r\n        }\r\n        /*!\r\n         * The buffer module from node.js, for the browser.\r\n         *\r\n         * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\r\n         * @license  MIT\r\n         */\r\n        var Q = r(55),\r\n          X = r(56),\r\n          Z = r(29)\r\n        ;(e.Buffer = o),\r\n          (e.SlowBuffer = g),\r\n          (e.INSPECT_MAX_BYTES = 50),\r\n          (o.TYPED_ARRAY_SUPPORT =\r\n            void 0 !== t.TYPED_ARRAY_SUPPORT\r\n              ? t.TYPED_ARRAY_SUPPORT\r\n              : (function () {\r\n                  try {\r\n                    var t = new Uint8Array(1)\r\n                    return (\r\n                      (t.__proto__ = {\r\n                        __proto__: Uint8Array.prototype,\r\n                        foo: function () {\r\n                          return 42\r\n                        }\r\n                      }),\r\n                      42 === t.foo() && 'function' == typeof t.subarray && 0 === t.subarray(1, 1).byteLength\r\n                    )\r\n                  } catch (t) {\r\n                    return !1\r\n                  }\r\n                })()),\r\n          (e.kMaxLength = n()),\r\n          (o.poolSize = 8192),\r\n          (o._augment = function (t) {\r\n            return (t.__proto__ = o.prototype), t\r\n          }),\r\n          (o.from = function (t, e, r) {\r\n            return a(null, t, e, r)\r\n          }),\r\n          o.TYPED_ARRAY_SUPPORT &&\r\n            ((o.prototype.__proto__ = Uint8Array.prototype),\r\n            (o.__proto__ = Uint8Array),\r\n            'undefined' != typeof Symbol &&\r\n              Symbol.species &&\r\n              o[Symbol.species] === o &&\r\n              Object.defineProperty(o, Symbol.species, { value: null, configurable: !0 })),\r\n          (o.alloc = function (t, e, r) {\r\n            return u(null, t, e, r)\r\n          }),\r\n          (o.allocUnsafe = function (t) {\r\n            return c(null, t)\r\n          }),\r\n          (o.allocUnsafeSlow = function (t) {\r\n            return c(null, t)\r\n          }),\r\n          (o.isBuffer = function (t) {\r\n            return !(null == t || !t._isBuffer)\r\n          }),\r\n          (o.compare = function (t, e) {\r\n            if (!o.isBuffer(t) || !o.isBuffer(e)) throw new TypeError('Arguments must be Buffers')\r\n            if (t === e) return 0\r\n            for (var r = t.length, n = e.length, i = 0, a = Math.min(r, n); i < a; ++i)\r\n              if (t[i] !== e[i]) {\r\n                ;(r = t[i]), (n = e[i])\r\n                break\r\n              }\r\n            return r < n ? -1 : n < r ? 1 : 0\r\n          }),\r\n          (o.isEncoding = function (t) {\r\n            switch (String(t).toLowerCase()) {\r\n              case 'hex':\r\n              case 'utf8':\r\n              case 'utf-8':\r\n              case 'ascii':\r\n              case 'latin1':\r\n              case 'binary':\r\n              case 'base64':\r\n              case 'ucs2':\r\n              case 'ucs-2':\r\n              case 'utf16le':\r\n              case 'utf-16le':\r\n                return !0\r\n              default:\r\n                return !1\r\n            }\r\n          }),\r\n          (o.concat = function (t, e) {\r\n            if (!Z(t)) throw new TypeError('\"list\" argument must be an Array of Buffers')\r\n            if (0 === t.length) return o.alloc(0)\r\n            var r\r\n            if (void 0 === e) for (e = 0, r = 0; r < t.length; ++r) e += t[r].length\r\n            var n = o.allocUnsafe(e),\r\n              i = 0\r\n            for (r = 0; r < t.length; ++r) {\r\n              var a = t[r]\r\n              if (!o.isBuffer(a)) throw new TypeError('\"list\" argument must be an Array of Buffers')\r\n              a.copy(n, i), (i += a.length)\r\n            }\r\n            return n\r\n          }),\r\n          (o.byteLength = v),\r\n          (o.prototype._isBuffer = !0),\r\n          (o.prototype.swap16 = function () {\r\n            var t = this.length\r\n            if (t % 2 != 0) throw new RangeError('Buffer size must be a multiple of 16-bits')\r\n            for (var e = 0; e < t; e += 2) y(this, e, e + 1)\r\n            return this\r\n          }),\r\n          (o.prototype.swap32 = function () {\r\n            var t = this.length\r\n            if (t % 4 != 0) throw new RangeError('Buffer size must be a multiple of 32-bits')\r\n            for (var e = 0; e < t; e += 4) y(this, e, e + 3), y(this, e + 1, e + 2)\r\n            return this\r\n          }),\r\n          (o.prototype.swap64 = function () {\r\n            var t = this.length\r\n            if (t % 8 != 0) throw new RangeError('Buffer size must be a multiple of 64-bits')\r\n            for (var e = 0; e < t; e += 8)\r\n              y(this, e, e + 7), y(this, e + 1, e + 6), y(this, e + 2, e + 5), y(this, e + 3, e + 4)\r\n            return this\r\n          }),\r\n          (o.prototype.toString = function () {\r\n            var t = 0 | this.length\r\n            return 0 === t ? '' : 0 === arguments.length ? T(this, 0, t) : b.apply(this, arguments)\r\n          }),\r\n          (o.prototype.equals = function (t) {\r\n            if (!o.isBuffer(t)) throw new TypeError('Argument must be a Buffer')\r\n            return this === t || 0 === o.compare(this, t)\r\n          }),\r\n          (o.prototype.inspect = function () {\r\n            var t = '',\r\n              r = e.INSPECT_MAX_BYTES\r\n            return (\r\n              this.length > 0 &&\r\n                ((t = this.toString('hex', 0, r)\r\n                  .match(/.{2}/g)\r\n                  .join(' ')),\r\n                this.length > r && (t += ' ... ')),\r\n              '<Buffer ' + t + '>'\r\n            )\r\n          }),\r\n          (o.prototype.compare = function (t, e, r, n, i) {\r\n            if (!o.isBuffer(t)) throw new TypeError('Argument must be a Buffer')\r\n            if (\r\n              (void 0 === e && (e = 0),\r\n              void 0 === r && (r = t ? t.length : 0),\r\n              void 0 === n && (n = 0),\r\n              void 0 === i && (i = this.length),\r\n              e < 0 || r > t.length || n < 0 || i > this.length)\r\n            )\r\n              throw new RangeError('out of range index')\r\n            if (n >= i && e >= r) return 0\r\n            if (n >= i) return -1\r\n            if (e >= r) return 1\r\n            if (((e >>>= 0), (r >>>= 0), (n >>>= 0), (i >>>= 0), this === t)) return 0\r\n            for (\r\n              var a = i - n, s = r - e, u = Math.min(a, s), c = this.slice(n, i), l = t.slice(e, r), f = 0;\r\n              f < u;\r\n              ++f\r\n            )\r\n              if (c[f] !== l[f]) {\r\n                ;(a = c[f]), (s = l[f])\r\n                break\r\n              }\r\n            return a < s ? -1 : s < a ? 1 : 0\r\n          }),\r\n          (o.prototype.includes = function (t, e, r) {\r\n            return -1 !== this.indexOf(t, e, r)\r\n          }),\r\n          (o.prototype.indexOf = function (t, e, r) {\r\n            return m(this, t, e, r, !0)\r\n          }),\r\n          (o.prototype.lastIndexOf = function (t, e, r) {\r\n            return m(this, t, e, r, !1)\r\n          }),\r\n          (o.prototype.write = function (t, e, r, n) {\r\n            if (void 0 === e) (n = 'utf8'), (r = this.length), (e = 0)\r\n            else if (void 0 === r && 'string' == typeof e) (n = e), (r = this.length), (e = 0)\r\n            else {\r\n              if (!isFinite(e))\r\n                throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported')\r\n              ;(e |= 0), isFinite(r) ? ((r |= 0), void 0 === n && (n = 'utf8')) : ((n = r), (r = void 0))\r\n            }\r\n            var i = this.length - e\r\n            if (((void 0 === r || r > i) && (r = i), (t.length > 0 && (r < 0 || e < 0)) || e > this.length))\r\n              throw new RangeError('Attempt to write outside buffer bounds')\r\n            n || (n = 'utf8')\r\n            for (var o = !1; ; )\r\n              switch (n) {\r\n                case 'hex':\r\n                  return w(this, t, e, r)\r\n                case 'utf8':\r\n                case 'utf-8':\r\n                  return x(this, t, e, r)\r\n                case 'ascii':\r\n                  return S(this, t, e, r)\r\n                case 'latin1':\r\n                case 'binary':\r\n                  return j(this, t, e, r)\r\n                case 'base64':\r\n                  return k(this, t, e, r)\r\n                case 'ucs2':\r\n                case 'ucs-2':\r\n                case 'utf16le':\r\n                case 'utf-16le':\r\n                  return E(this, t, e, r)\r\n                default:\r\n                  if (o) throw new TypeError('Unknown encoding: ' + n)\r\n                  ;(n = ('' + n).toLowerCase()), (o = !0)\r\n              }\r\n          }),\r\n          (o.prototype.toJSON = function () {\r\n            return { type: 'Buffer', data: Array.prototype.slice.call(this._arr || this, 0) }\r\n          })\r\n        var K = 4096\r\n        ;(o.prototype.slice = function (t, e) {\r\n          var r = this.length\r\n          ;(t = ~~t),\r\n            (e = void 0 === e ? r : ~~e),\r\n            t < 0 ? (t += r) < 0 && (t = 0) : t > r && (t = r),\r\n            e < 0 ? (e += r) < 0 && (e = 0) : e > r && (e = r),\r\n            e < t && (e = t)\r\n          var n\r\n          if (o.TYPED_ARRAY_SUPPORT) (n = this.subarray(t, e)), (n.__proto__ = o.prototype)\r\n          else {\r\n            var i = e - t\r\n            n = new o(i, void 0)\r\n            for (var a = 0; a < i; ++a) n[a] = this[a + t]\r\n          }\r\n          return n\r\n        }),\r\n          (o.prototype.readUIntLE = function (t, e, r) {\r\n            ;(t |= 0), (e |= 0), r || q(t, e, this.length)\r\n            for (var n = this[t], i = 1, o = 0; ++o < e && (i *= 256); ) n += this[t + o] * i\r\n            return n\r\n          }),\r\n          (o.prototype.readUIntBE = function (t, e, r) {\r\n            ;(t |= 0), (e |= 0), r || q(t, e, this.length)\r\n            for (var n = this[t + --e], i = 1; e > 0 && (i *= 256); ) n += this[t + --e] * i\r\n            return n\r\n          }),\r\n          (o.prototype.readUInt8 = function (t, e) {\r\n            return e || q(t, 1, this.length), this[t]\r\n          }),\r\n          (o.prototype.readUInt16LE = function (t, e) {\r\n            return e || q(t, 2, this.length), this[t] | (this[t + 1] << 8)\r\n          }),\r\n          (o.prototype.readUInt16BE = function (t, e) {\r\n            return e || q(t, 2, this.length), (this[t] << 8) | this[t + 1]\r\n          }),\r\n          (o.prototype.readUInt32LE = function (t, e) {\r\n            return (\r\n              e || q(t, 4, this.length), (this[t] | (this[t + 1] << 8) | (this[t + 2] << 16)) + 16777216 * this[t + 3]\r\n            )\r\n          }),\r\n          (o.prototype.readUInt32BE = function (t, e) {\r\n            return (\r\n              e || q(t, 4, this.length), 16777216 * this[t] + ((this[t + 1] << 16) | (this[t + 2] << 8) | this[t + 3])\r\n            )\r\n          }),\r\n          (o.prototype.readIntLE = function (t, e, r) {\r\n            ;(t |= 0), (e |= 0), r || q(t, e, this.length)\r\n            for (var n = this[t], i = 1, o = 0; ++o < e && (i *= 256); ) n += this[t + o] * i\r\n            return (i *= 128), n >= i && (n -= Math.pow(2, 8 * e)), n\r\n          }),\r\n          (o.prototype.readIntBE = function (t, e, r) {\r\n            ;(t |= 0), (e |= 0), r || q(t, e, this.length)\r\n            for (var n = e, i = 1, o = this[t + --n]; n > 0 && (i *= 256); ) o += this[t + --n] * i\r\n            return (i *= 128), o >= i && (o -= Math.pow(2, 8 * e)), o\r\n          }),\r\n          (o.prototype.readInt8 = function (t, e) {\r\n            return e || q(t, 1, this.length), 128 & this[t] ? -1 * (255 - this[t] + 1) : this[t]\r\n          }),\r\n          (o.prototype.readInt16LE = function (t, e) {\r\n            e || q(t, 2, this.length)\r\n            var r = this[t] | (this[t + 1] << 8)\r\n            return 32768 & r ? 4294901760 | r : r\r\n          }),\r\n          (o.prototype.readInt16BE = function (t, e) {\r\n            e || q(t, 2, this.length)\r\n            var r = this[t + 1] | (this[t] << 8)\r\n            return 32768 & r ? 4294901760 | r : r\r\n          }),\r\n          (o.prototype.readInt32LE = function (t, e) {\r\n            return e || q(t, 4, this.length), this[t] | (this[t + 1] << 8) | (this[t + 2] << 16) | (this[t + 3] << 24)\r\n          }),\r\n          (o.prototype.readInt32BE = function (t, e) {\r\n            return e || q(t, 4, this.length), (this[t] << 24) | (this[t + 1] << 16) | (this[t + 2] << 8) | this[t + 3]\r\n          }),\r\n          (o.prototype.readFloatLE = function (t, e) {\r\n            return e || q(t, 4, this.length), X.read(this, t, !0, 23, 4)\r\n          }),\r\n          (o.prototype.readFloatBE = function (t, e) {\r\n            return e || q(t, 4, this.length), X.read(this, t, !1, 23, 4)\r\n          }),\r\n          (o.prototype.readDoubleLE = function (t, e) {\r\n            return e || q(t, 8, this.length), X.read(this, t, !0, 52, 8)\r\n          }),\r\n          (o.prototype.readDoubleBE = function (t, e) {\r\n            return e || q(t, 8, this.length), X.read(this, t, !1, 52, 8)\r\n          }),\r\n          (o.prototype.writeUIntLE = function (t, e, r, n) {\r\n            if (((t = +t), (e |= 0), (r |= 0), !n)) {\r\n              P(this, t, e, r, Math.pow(2, 8 * r) - 1, 0)\r\n            }\r\n            var i = 1,\r\n              o = 0\r\n            for (this[e] = 255 & t; ++o < r && (i *= 256); ) this[e + o] = (t / i) & 255\r\n            return e + r\r\n          }),\r\n          (o.prototype.writeUIntBE = function (t, e, r, n) {\r\n            if (((t = +t), (e |= 0), (r |= 0), !n)) {\r\n              P(this, t, e, r, Math.pow(2, 8 * r) - 1, 0)\r\n            }\r\n            var i = r - 1,\r\n              o = 1\r\n            for (this[e + i] = 255 & t; --i >= 0 && (o *= 256); ) this[e + i] = (t / o) & 255\r\n            return e + r\r\n          }),\r\n          (o.prototype.writeUInt8 = function (t, e, r) {\r\n            return (\r\n              (t = +t),\r\n              (e |= 0),\r\n              r || P(this, t, e, 1, 255, 0),\r\n              o.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)),\r\n              (this[e] = 255 & t),\r\n              e + 1\r\n            )\r\n          }),\r\n          (o.prototype.writeUInt16LE = function (t, e, r) {\r\n            return (\r\n              (t = +t),\r\n              (e |= 0),\r\n              r || P(this, t, e, 2, 65535, 0),\r\n              o.TYPED_ARRAY_SUPPORT ? ((this[e] = 255 & t), (this[e + 1] = t >>> 8)) : M(this, t, e, !0),\r\n              e + 2\r\n            )\r\n          }),\r\n          (o.prototype.writeUInt16BE = function (t, e, r) {\r\n            return (\r\n              (t = +t),\r\n              (e |= 0),\r\n              r || P(this, t, e, 2, 65535, 0),\r\n              o.TYPED_ARRAY_SUPPORT ? ((this[e] = t >>> 8), (this[e + 1] = 255 & t)) : M(this, t, e, !1),\r\n              e + 2\r\n            )\r\n          }),\r\n          (o.prototype.writeUInt32LE = function (t, e, r) {\r\n            return (\r\n              (t = +t),\r\n              (e |= 0),\r\n              r || P(this, t, e, 4, 4294967295, 0),\r\n              o.TYPED_ARRAY_SUPPORT\r\n                ? ((this[e + 3] = t >>> 24), (this[e + 2] = t >>> 16), (this[e + 1] = t >>> 8), (this[e] = 255 & t))\r\n                : R(this, t, e, !0),\r\n              e + 4\r\n            )\r\n          }),\r\n          (o.prototype.writeUInt32BE = function (t, e, r) {\r\n            return (\r\n              (t = +t),\r\n              (e |= 0),\r\n              r || P(this, t, e, 4, 4294967295, 0),\r\n              o.TYPED_ARRAY_SUPPORT\r\n                ? ((this[e] = t >>> 24), (this[e + 1] = t >>> 16), (this[e + 2] = t >>> 8), (this[e + 3] = 255 & t))\r\n                : R(this, t, e, !1),\r\n              e + 4\r\n            )\r\n          }),\r\n          (o.prototype.writeIntLE = function (t, e, r, n) {\r\n            if (((t = +t), (e |= 0), !n)) {\r\n              var i = Math.pow(2, 8 * r - 1)\r\n              P(this, t, e, r, i - 1, -i)\r\n            }\r\n            var o = 0,\r\n              a = 1,\r\n              s = 0\r\n            for (this[e] = 255 & t; ++o < r && (a *= 256); )\r\n              t < 0 && 0 === s && 0 !== this[e + o - 1] && (s = 1), (this[e + o] = (((t / a) >> 0) - s) & 255)\r\n            return e + r\r\n          }),\r\n          (o.prototype.writeIntBE = function (t, e, r, n) {\r\n            if (((t = +t), (e |= 0), !n)) {\r\n              var i = Math.pow(2, 8 * r - 1)\r\n              P(this, t, e, r, i - 1, -i)\r\n            }\r\n            var o = r - 1,\r\n              a = 1,\r\n              s = 0\r\n            for (this[e + o] = 255 & t; --o >= 0 && (a *= 256); )\r\n              t < 0 && 0 === s && 0 !== this[e + o + 1] && (s = 1), (this[e + o] = (((t / a) >> 0) - s) & 255)\r\n            return e + r\r\n          }),\r\n          (o.prototype.writeInt8 = function (t, e, r) {\r\n            return (\r\n              (t = +t),\r\n              (e |= 0),\r\n              r || P(this, t, e, 1, 127, -128),\r\n              o.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)),\r\n              t < 0 && (t = 255 + t + 1),\r\n              (this[e] = 255 & t),\r\n              e + 1\r\n            )\r\n          }),\r\n          (o.prototype.writeInt16LE = function (t, e, r) {\r\n            return (\r\n              (t = +t),\r\n              (e |= 0),\r\n              r || P(this, t, e, 2, 32767, -32768),\r\n              o.TYPED_ARRAY_SUPPORT ? ((this[e] = 255 & t), (this[e + 1] = t >>> 8)) : M(this, t, e, !0),\r\n              e + 2\r\n            )\r\n          }),\r\n          (o.prototype.writeInt16BE = function (t, e, r) {\r\n            return (\r\n              (t = +t),\r\n              (e |= 0),\r\n              r || P(this, t, e, 2, 32767, -32768),\r\n              o.TYPED_ARRAY_SUPPORT ? ((this[e] = t >>> 8), (this[e + 1] = 255 & t)) : M(this, t, e, !1),\r\n              e + 2\r\n            )\r\n          }),\r\n          (o.prototype.writeInt32LE = function (t, e, r) {\r\n            return (\r\n              (t = +t),\r\n              (e |= 0),\r\n              r || P(this, t, e, 4, 2147483647, -2147483648),\r\n              o.TYPED_ARRAY_SUPPORT\r\n                ? ((this[e] = 255 & t), (this[e + 1] = t >>> 8), (this[e + 2] = t >>> 16), (this[e + 3] = t >>> 24))\r\n                : R(this, t, e, !0),\r\n              e + 4\r\n            )\r\n          }),\r\n          (o.prototype.writeInt32BE = function (t, e, r) {\r\n            return (\r\n              (t = +t),\r\n              (e |= 0),\r\n              r || P(this, t, e, 4, 2147483647, -2147483648),\r\n              t < 0 && (t = 4294967295 + t + 1),\r\n              o.TYPED_ARRAY_SUPPORT\r\n                ? ((this[e] = t >>> 24), (this[e + 1] = t >>> 16), (this[e + 2] = t >>> 8), (this[e + 3] = 255 & t))\r\n                : R(this, t, e, !1),\r\n              e + 4\r\n            )\r\n          }),\r\n          (o.prototype.writeFloatLE = function (t, e, r) {\r\n            return N(this, t, e, !0, r)\r\n          }),\r\n          (o.prototype.writeFloatBE = function (t, e, r) {\r\n            return N(this, t, e, !1, r)\r\n          }),\r\n          (o.prototype.writeDoubleLE = function (t, e, r) {\r\n            return U(this, t, e, !0, r)\r\n          }),\r\n          (o.prototype.writeDoubleBE = function (t, e, r) {\r\n            return U(this, t, e, !1, r)\r\n          }),\r\n          (o.prototype.copy = function (t, e, r, n) {\r\n            if (\r\n              (r || (r = 0),\r\n              n || 0 === n || (n = this.length),\r\n              e >= t.length && (e = t.length),\r\n              e || (e = 0),\r\n              n > 0 && n < r && (n = r),\r\n              n === r)\r\n            )\r\n              return 0\r\n            if (0 === t.length || 0 === this.length) return 0\r\n            if (e < 0) throw new RangeError('targetStart out of bounds')\r\n            if (r < 0 || r >= this.length) throw new RangeError('sourceStart out of bounds')\r\n            if (n < 0) throw new RangeError('sourceEnd out of bounds')\r\n            n > this.length && (n = this.length), t.length - e < n - r && (n = t.length - e + r)\r\n            var i,\r\n              a = n - r\r\n            if (this === t && r < e && e < n) for (i = a - 1; i >= 0; --i) t[i + e] = this[i + r]\r\n            else if (a < 1e3 || !o.TYPED_ARRAY_SUPPORT) for (i = 0; i < a; ++i) t[i + e] = this[i + r]\r\n            else Uint8Array.prototype.set.call(t, this.subarray(r, r + a), e)\r\n            return a\r\n          }),\r\n          (o.prototype.fill = function (t, e, r, n) {\r\n            if ('string' == typeof t) {\r\n              if (\r\n                ('string' == typeof e\r\n                  ? ((n = e), (e = 0), (r = this.length))\r\n                  : 'string' == typeof r && ((n = r), (r = this.length)),\r\n                1 === t.length)\r\n              ) {\r\n                var i = t.charCodeAt(0)\r\n                i < 256 && (t = i)\r\n              }\r\n              if (void 0 !== n && 'string' != typeof n) throw new TypeError('encoding must be a string')\r\n              if ('string' == typeof n && !o.isEncoding(n)) throw new TypeError('Unknown encoding: ' + n)\r\n            } else 'number' == typeof t && (t &= 255)\r\n            if (e < 0 || this.length < e || this.length < r) throw new RangeError('Out of range index')\r\n            if (r <= e) return this\r\n            ;(e >>>= 0), (r = void 0 === r ? this.length : r >>> 0), t || (t = 0)\r\n            var a\r\n            if ('number' == typeof t) for (a = e; a < r; ++a) this[a] = t\r\n            else {\r\n              var s = o.isBuffer(t) ? t : $(new o(t, n).toString()),\r\n                u = s.length\r\n              for (a = 0; a < r - e; ++a) this[a + e] = s[a % u]\r\n            }\r\n            return this\r\n          })\r\n        var tt = /[^+\\/0-9A-Za-z-_]/g\r\n      }.call(e, r(0)))\r\n    },\r\n    function (t, e) {\r\n      function r () {\r\n        ;(this._events = this._events || {}), (this._maxListeners = this._maxListeners || void 0)\r\n      }\r\n      function n (t) {\r\n        return 'function' == typeof t\r\n      }\r\n      function i (t) {\r\n        return 'number' == typeof t\r\n      }\r\n      function o (t) {\r\n        return 'object' == typeof t && null !== t\r\n      }\r\n      function a (t) {\r\n        return void 0 === t\r\n      }\r\n      ;(t.exports = r),\r\n        (r.EventEmitter = r),\r\n        (r.prototype._events = void 0),\r\n        (r.prototype._maxListeners = void 0),\r\n        (r.defaultMaxListeners = 10),\r\n        (r.prototype.setMaxListeners = function (t) {\r\n          if (!i(t) || t < 0 || isNaN(t)) throw TypeError('n must be a positive number')\r\n          return (this._maxListeners = t), this\r\n        }),\r\n        (r.prototype.emit = function (t) {\r\n          var e, r, i, s, u, c\r\n          if (\r\n            (this._events || (this._events = {}),\r\n            'error' === t && (!this._events.error || (o(this._events.error) && !this._events.error.length)))\r\n          ) {\r\n            if ((e = arguments[1]) instanceof Error) throw e\r\n            var l = new Error('Uncaught, unspecified \"error\" event. (' + e + ')')\r\n            throw ((l.context = e), l)\r\n          }\r\n          if (((r = this._events[t]), a(r))) return !1\r\n          if (n(r))\r\n            switch (arguments.length) {\r\n              case 1:\r\n                r.call(this)\r\n                break\r\n              case 2:\r\n                r.call(this, arguments[1])\r\n                break\r\n              case 3:\r\n                r.call(this, arguments[1], arguments[2])\r\n                break\r\n              default:\r\n                ;(s = Array.prototype.slice.call(arguments, 1)), r.apply(this, s)\r\n            }\r\n          else if (o(r))\r\n            for (s = Array.prototype.slice.call(arguments, 1), c = r.slice(), i = c.length, u = 0; u < i; u++)\r\n              c[u].apply(this, s)\r\n          return !0\r\n        }),\r\n        (r.prototype.addListener = function (t, e) {\r\n          var i\r\n          if (!n(e)) throw TypeError('listener must be a function')\r\n          return (\r\n            this._events || (this._events = {}),\r\n            this._events.newListener && this.emit('newListener', t, n(e.listener) ? e.listener : e),\r\n            this._events[t]\r\n              ? o(this._events[t])\r\n                ? this._events[t].push(e)\r\n                : (this._events[t] = [this._events[t], e])\r\n              : (this._events[t] = e),\r\n            o(this._events[t]) &&\r\n              !this._events[t].warned &&\r\n              (i = a(this._maxListeners) ? r.defaultMaxListeners : this._maxListeners) &&\r\n              i > 0 &&\r\n              this._events[t].length > i &&\r\n              ((this._events[t].warned = !0),\r\n              console.error(\r\n                '(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.',\r\n                this._events[t].length\r\n              ),\r\n              'function' == typeof console.trace && console.trace()),\r\n            this\r\n          )\r\n        }),\r\n        (r.prototype.on = r.prototype.addListener),\r\n        (r.prototype.once = function (t, e) {\r\n          function r () {\r\n            this.removeListener(t, r), i || ((i = !0), e.apply(this, arguments))\r\n          }\r\n          if (!n(e)) throw TypeError('listener must be a function')\r\n          var i = !1\r\n          return (r.listener = e), this.on(t, r), this\r\n        }),\r\n        (r.prototype.removeListener = function (t, e) {\r\n          var r, i, a, s\r\n          if (!n(e)) throw TypeError('listener must be a function')\r\n          if (!this._events || !this._events[t]) return this\r\n          if (((r = this._events[t]), (a = r.length), (i = -1), r === e || (n(r.listener) && r.listener === e)))\r\n            delete this._events[t], this._events.removeListener && this.emit('removeListener', t, e)\r\n          else if (o(r)) {\r\n            for (s = a; s-- > 0; )\r\n              if (r[s] === e || (r[s].listener && r[s].listener === e)) {\r\n                i = s\r\n                break\r\n              }\r\n            if (i < 0) return this\r\n            1 === r.length ? ((r.length = 0), delete this._events[t]) : r.splice(i, 1),\r\n              this._events.removeListener && this.emit('removeListener', t, e)\r\n          }\r\n          return this\r\n        }),\r\n        (r.prototype.removeAllListeners = function (t) {\r\n          var e, r\r\n          if (!this._events) return this\r\n          if (!this._events.removeListener)\r\n            return 0 === arguments.length ? (this._events = {}) : this._events[t] && delete this._events[t], this\r\n          if (0 === arguments.length) {\r\n            for (e in this._events) 'removeListener' !== e && this.removeAllListeners(e)\r\n            return this.removeAllListeners('removeListener'), (this._events = {}), this\r\n          }\r\n          if (((r = this._events[t]), n(r))) this.removeListener(t, r)\r\n          else if (r) for (; r.length; ) this.removeListener(t, r[r.length - 1])\r\n          return delete this._events[t], this\r\n        }),\r\n        (r.prototype.listeners = function (t) {\r\n          return this._events && this._events[t]\r\n            ? n(this._events[t])\r\n              ? [this._events[t]]\r\n              : this._events[t].slice()\r\n            : []\r\n        }),\r\n        (r.prototype.listenerCount = function (t) {\r\n          if (this._events) {\r\n            var e = this._events[t]\r\n            if (n(e)) return 1\r\n            if (e) return e.length\r\n          }\r\n          return 0\r\n        }),\r\n        (r.listenerCount = function (t, e) {\r\n          return t.listenerCount(e)\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      ;(function (e) {\r\n        function r (t, r, n, i) {\r\n          if ('function' != typeof t) throw new TypeError('\"callback\" argument must be a function')\r\n          var o,\r\n            a,\r\n            s = arguments.length\r\n          switch (s) {\r\n            case 0:\r\n            case 1:\r\n              return e.nextTick(t)\r\n            case 2:\r\n              return e.nextTick(function () {\r\n                t.call(null, r)\r\n              })\r\n            case 3:\r\n              return e.nextTick(function () {\r\n                t.call(null, r, n)\r\n              })\r\n            case 4:\r\n              return e.nextTick(function () {\r\n                t.call(null, r, n, i)\r\n              })\r\n            default:\r\n              for (o = new Array(s - 1), a = 0; a < o.length; ) o[a++] = arguments[a]\r\n              return e.nextTick(function () {\r\n                t.apply(null, o)\r\n              })\r\n          }\r\n        }\r\n        !e.version ||\r\n        0 === e.version.indexOf('v0.') ||\r\n        (0 === e.version.indexOf('v1.') && 0 !== e.version.indexOf('v1.8.'))\r\n          ? (t.exports = { nextTick: r })\r\n          : (t.exports = e)\r\n      }.call(e, r(7)))\r\n    },\r\n    function (t, e, r) {\r\n      function n (t, e) {\r\n        for (var r in t) e[r] = t[r]\r\n      }\r\n      function i (t, e, r) {\r\n        return a(t, e, r)\r\n      }\r\n      var o = r(12),\r\n        a = o.Buffer\r\n      a.from && a.alloc && a.allocUnsafe && a.allocUnsafeSlow ? (t.exports = o) : (n(o, e), (e.Buffer = i)),\r\n        n(a, i),\r\n        (i.from = function (t, e, r) {\r\n          if ('number' == typeof t) throw new TypeError('Argument must not be a number')\r\n          return a(t, e, r)\r\n        }),\r\n        (i.alloc = function (t, e, r) {\r\n          if ('number' != typeof t) throw new TypeError('Argument must be a number')\r\n          var n = a(t)\r\n          return void 0 !== e ? ('string' == typeof r ? n.fill(e, r) : n.fill(e)) : n.fill(0), n\r\n        }),\r\n        (i.allocUnsafe = function (t) {\r\n          if ('number' != typeof t) throw new TypeError('Argument must be a number')\r\n          return a(t)\r\n        }),\r\n        (i.allocUnsafeSlow = function (t) {\r\n          if ('number' != typeof t) throw new TypeError('Argument must be a number')\r\n          return o.SlowBuffer(t)\r\n        })\r\n    },\r\n    function (t, e) {\r\n      function r (t, e) {\r\n        for (var r = -1, n = t ? t.length : 0; ++r < n && !1 !== e(t[r], r, t); );\r\n        return t\r\n      }\r\n      function n (t, e) {\r\n        for (var r = -1, n = Array(t); ++r < t; ) n[r] = e(r)\r\n        return n\r\n      }\r\n      function i (t, e) {\r\n        var r = C(t) || l(t) ? n(t.length, String) : [],\r\n          i = r.length,\r\n          o = !!i\r\n        for (var a in t) (!e && !k.call(t, a)) || (o && ('length' == a || s(a, i))) || r.push(a)\r\n        return r\r\n      }\r\n      function o (t, e) {\r\n        return t && L(t, e, b)\r\n      }\r\n      function a (t) {\r\n        if (!u(t)) return T(t)\r\n        var e = []\r\n        for (var r in Object(t)) k.call(t, r) && 'constructor' != r && e.push(r)\r\n        return e\r\n      }\r\n      function s (t, e) {\r\n        return !!(e = null == e ? m : e) && ('number' == typeof t || S.test(t)) && t > -1 && t % 1 == 0 && t < e\r\n      }\r\n      function u (t) {\r\n        var e = t && t.constructor\r\n        return t === (('function' == typeof e && e.prototype) || j)\r\n      }\r\n      function c (t, e) {\r\n        return (C(t) ? r : O)(t, 'function' == typeof e ? e : y)\r\n      }\r\n      function l (t) {\r\n        return h(t) && k.call(t, 'callee') && (!A.call(t, 'callee') || E.call(t) == _)\r\n      }\r\n      function f (t) {\r\n        return null != t && d(t.length) && !p(t)\r\n      }\r\n      function h (t) {\r\n        return v(t) && f(t)\r\n      }\r\n      function p (t) {\r\n        var e = g(t) ? E.call(t) : ''\r\n        return e == w || e == x\r\n      }\r\n      function d (t) {\r\n        return 'number' == typeof t && t > -1 && t % 1 == 0 && t <= m\r\n      }\r\n      function g (t) {\r\n        var e = typeof t\r\n        return !!t && ('object' == e || 'function' == e)\r\n      }\r\n      function v (t) {\r\n        return !!t && 'object' == typeof t\r\n      }\r\n      function b (t) {\r\n        return f(t) ? i(t) : a(t)\r\n      }\r\n      function y (t) {\r\n        return t\r\n      }\r\n      var m = 9007199254740991,\r\n        _ = '[object Arguments]',\r\n        w = '[object Function]',\r\n        x = '[object GeneratorFunction]',\r\n        S = /^(?:0|[1-9]\\d*)$/,\r\n        j = Object.prototype,\r\n        k = j.hasOwnProperty,\r\n        E = j.toString,\r\n        A = j.propertyIsEnumerable,\r\n        T = (function (t, e) {\r\n          return function (r) {\r\n            return t(e(r))\r\n          }\r\n        })(Object.keys, Object),\r\n        O = (function (t, e) {\r\n          return function (r, n) {\r\n            if (null == r) return r\r\n            if (!f(r)) return t(r, n)\r\n            for (var i = r.length, o = e ? i : -1, a = Object(r); (e ? o-- : ++o < i) && !1 !== n(a[o], o, a); );\r\n            return r\r\n          }\r\n        })(o),\r\n        L = (function (t) {\r\n          return function (e, r, n) {\r\n            for (var i = -1, o = Object(e), a = n(e), s = a.length; s--; ) {\r\n              var u = a[t ? s : ++i]\r\n              if (!1 === r(o[u], u, o)) break\r\n            }\r\n            return e\r\n          }\r\n        })(),\r\n        C = Array.isArray\r\n      t.exports = c\r\n    },\r\n    function (t, e, r) {\r\n      var n = r(11),\r\n        i = r(9).isHtml,\r\n        o = { extend: r(40), bind: r(24), forEach: r(16), defaults: r(41) },\r\n        a = [r(87), r(97), r(101), r(103), r(105)],\r\n        s = (t.exports = function (t, e, r, a) {\r\n          return this instanceof s\r\n            ? ((this.options = o.defaults(a || {}, this.options)),\r\n              t\r\n                ? (r && ('string' == typeof r && (r = n(r, this.options)), (this._root = s.call(this, r))),\r\n                  t.cheerio\r\n                    ? t\r\n                    : (u(t) && (t = [t]),\r\n                      Array.isArray(t)\r\n                        ? (o.forEach(\r\n                            t,\r\n                            o.bind(function (t, e) {\r\n                              this[e] = t\r\n                            }, this)\r\n                          ),\r\n                          (this.length = t.length),\r\n                          this)\r\n                        : 'string' == typeof t && i(t)\r\n                        ? s.call(this, n(t, this.options).children)\r\n                        : (e\r\n                            ? 'string' == typeof e\r\n                              ? i(e)\r\n                                ? ((e = n(e, this.options)), (e = s.call(this, e)))\r\n                                : ((t = [e, t].join(' ')), (e = this._root))\r\n                              : e.cheerio || (e = s.call(this, e))\r\n                            : (e = this._root),\r\n                          e ? e.find(t) : this)))\r\n                : this)\r\n            : new s(t, e, r, a)\r\n        })\r\n      o.extend(s, r(25)),\r\n        (s.prototype.cheerio = '[cheerio object]'),\r\n        (s.prototype.options = { withDomLvl1: !0, normalizeWhitespace: !1, xmlMode: !1, decodeEntities: !0 }),\r\n        (s.prototype.length = 0),\r\n        (s.prototype.splice = Array.prototype.splice),\r\n        (s.prototype._make = function (t, e) {\r\n          var r = new this.constructor(t, e, this._root, this.options)\r\n          return (r.prevObject = this), r\r\n        }),\r\n        (s.prototype.toArray = function () {\r\n          return this.get()\r\n        }),\r\n        a.forEach(function (t) {\r\n          o.extend(s.prototype, t)\r\n        })\r\n      var u = function (t) {\r\n        return t.name || 'text' === t.type || 'comment' === t.type\r\n      }\r\n    },\r\n    function (t, e) {\r\n      t.exports = {\r\n        Aacute: '',\r\n        aacute: '',\r\n        Abreve: '',\r\n        abreve: '',\r\n        ac: '',\r\n        acd: '',\r\n        acE: '',\r\n        Acirc: '',\r\n        acirc: '',\r\n        acute: '',\r\n        Acy: '',\r\n        acy: '',\r\n        AElig: '',\r\n        aelig: '',\r\n        af: '',\r\n        Afr: '',\r\n        afr: '',\r\n        Agrave: '',\r\n        agrave: '',\r\n        alefsym: '',\r\n        aleph: '',\r\n        Alpha: '',\r\n        alpha: '',\r\n        Amacr: '',\r\n        amacr: '',\r\n        amalg: '',\r\n        amp: '&',\r\n        AMP: '&',\r\n        andand: '',\r\n        And: '',\r\n        and: '',\r\n        andd: '',\r\n        andslope: '',\r\n        andv: '',\r\n        ang: '',\r\n        ange: '',\r\n        angle: '',\r\n        angmsdaa: '',\r\n        angmsdab: '',\r\n        angmsdac: '',\r\n        angmsdad: '',\r\n        angmsdae: '',\r\n        angmsdaf: '',\r\n        angmsdag: '',\r\n        angmsdah: '',\r\n        angmsd: '',\r\n        angrt: '',\r\n        angrtvb: '',\r\n        angrtvbd: '',\r\n        angsph: '',\r\n        angst: '',\r\n        angzarr: '',\r\n        Aogon: '',\r\n        aogon: '',\r\n        Aopf: '',\r\n        aopf: '',\r\n        apacir: '',\r\n        ap: '',\r\n        apE: '',\r\n        ape: '',\r\n        apid: '',\r\n        apos: \"'\",\r\n        ApplyFunction: '',\r\n        approx: '',\r\n        approxeq: '',\r\n        Aring: '',\r\n        aring: '',\r\n        Ascr: '',\r\n        ascr: '',\r\n        Assign: '',\r\n        ast: '*',\r\n        asymp: '',\r\n        asympeq: '',\r\n        Atilde: '',\r\n        atilde: '',\r\n        Auml: '',\r\n        auml: '',\r\n        awconint: '',\r\n        awint: '',\r\n        backcong: '',\r\n        backepsilon: '',\r\n        backprime: '',\r\n        backsim: '',\r\n        backsimeq: '',\r\n        Backslash: '',\r\n        Barv: '',\r\n        barvee: '',\r\n        barwed: '',\r\n        Barwed: '',\r\n        barwedge: '',\r\n        bbrk: '',\r\n        bbrktbrk: '',\r\n        bcong: '',\r\n        Bcy: '',\r\n        bcy: '',\r\n        bdquo: '',\r\n        becaus: '',\r\n        because: '',\r\n        Because: '',\r\n        bemptyv: '',\r\n        bepsi: '',\r\n        bernou: '',\r\n        Bernoullis: '',\r\n        Beta: '',\r\n        beta: '',\r\n        beth: '',\r\n        between: '',\r\n        Bfr: '',\r\n        bfr: '',\r\n        bigcap: '',\r\n        bigcirc: '',\r\n        bigcup: '',\r\n        bigodot: '',\r\n        bigoplus: '',\r\n        bigotimes: '',\r\n        bigsqcup: '',\r\n        bigstar: '',\r\n        bigtriangledown: '',\r\n        bigtriangleup: '',\r\n        biguplus: '',\r\n        bigvee: '',\r\n        bigwedge: '',\r\n        bkarow: '',\r\n        blacklozenge: '',\r\n        blacksquare: '',\r\n        blacktriangle: '',\r\n        blacktriangledown: '',\r\n        blacktriangleleft: '',\r\n        blacktriangleright: '',\r\n        blank: '',\r\n        blk12: '',\r\n        blk14: '',\r\n        blk34: '',\r\n        block: '',\r\n        bne: '=',\r\n        bnequiv: '',\r\n        bNot: '',\r\n        bnot: '',\r\n        Bopf: '',\r\n        bopf: '',\r\n        bot: '',\r\n        bottom: '',\r\n        bowtie: '',\r\n        boxbox: '',\r\n        boxdl: '',\r\n        boxdL: '',\r\n        boxDl: '',\r\n        boxDL: '',\r\n        boxdr: '',\r\n        boxdR: '',\r\n        boxDr: '',\r\n        boxDR: '',\r\n        boxh: '',\r\n        boxH: '',\r\n        boxhd: '',\r\n        boxHd: '',\r\n        boxhD: '',\r\n        boxHD: '',\r\n        boxhu: '',\r\n        boxHu: '',\r\n        boxhU: '',\r\n        boxHU: '',\r\n        boxminus: '',\r\n        boxplus: '',\r\n        boxtimes: '',\r\n        boxul: '',\r\n        boxuL: '',\r\n        boxUl: '',\r\n        boxUL: '',\r\n        boxur: '',\r\n        boxuR: '',\r\n        boxUr: '',\r\n        boxUR: '',\r\n        boxv: '',\r\n        boxV: '',\r\n        boxvh: '',\r\n        boxvH: '',\r\n        boxVh: '',\r\n        boxVH: '',\r\n        boxvl: '',\r\n        boxvL: '',\r\n        boxVl: '',\r\n        boxVL: '',\r\n        boxvr: '',\r\n        boxvR: '',\r\n        boxVr: '',\r\n        boxVR: '',\r\n        bprime: '',\r\n        breve: '',\r\n        Breve: '',\r\n        brvbar: '',\r\n        bscr: '',\r\n        Bscr: '',\r\n        bsemi: '',\r\n        bsim: '',\r\n        bsime: '',\r\n        bsolb: '',\r\n        bsol: '\\\\',\r\n        bsolhsub: '',\r\n        bull: '',\r\n        bullet: '',\r\n        bump: '',\r\n        bumpE: '',\r\n        bumpe: '',\r\n        Bumpeq: '',\r\n        bumpeq: '',\r\n        Cacute: '',\r\n        cacute: '',\r\n        capand: '',\r\n        capbrcup: '',\r\n        capcap: '',\r\n        cap: '',\r\n        Cap: '',\r\n        capcup: '',\r\n        capdot: '',\r\n        CapitalDifferentialD: '',\r\n        caps: '',\r\n        caret: '',\r\n        caron: '',\r\n        Cayleys: '',\r\n        ccaps: '',\r\n        Ccaron: '',\r\n        ccaron: '',\r\n        Ccedil: '',\r\n        ccedil: '',\r\n        Ccirc: '',\r\n        ccirc: '',\r\n        Cconint: '',\r\n        ccups: '',\r\n        ccupssm: '',\r\n        Cdot: '',\r\n        cdot: '',\r\n        cedil: '',\r\n        Cedilla: '',\r\n        cemptyv: '',\r\n        cent: '',\r\n        centerdot: '',\r\n        CenterDot: '',\r\n        cfr: '',\r\n        Cfr: '',\r\n        CHcy: '',\r\n        chcy: '',\r\n        check: '',\r\n        checkmark: '',\r\n        Chi: '',\r\n        chi: '',\r\n        circ: '',\r\n        circeq: '',\r\n        circlearrowleft: '',\r\n        circlearrowright: '',\r\n        circledast: '',\r\n        circledcirc: '',\r\n        circleddash: '',\r\n        CircleDot: '',\r\n        circledR: '',\r\n        circledS: '',\r\n        CircleMinus: '',\r\n        CirclePlus: '',\r\n        CircleTimes: '',\r\n        cir: '',\r\n        cirE: '',\r\n        cire: '',\r\n        cirfnint: '',\r\n        cirmid: '',\r\n        cirscir: '',\r\n        ClockwiseContourIntegral: '',\r\n        CloseCurlyDoubleQuote: '',\r\n        CloseCurlyQuote: '',\r\n        clubs: '',\r\n        clubsuit: '',\r\n        colon: ':',\r\n        Colon: '',\r\n        Colone: '',\r\n        colone: '',\r\n        coloneq: '',\r\n        comma: ',',\r\n        commat: '@',\r\n        comp: '',\r\n        compfn: '',\r\n        complement: '',\r\n        complexes: '',\r\n        cong: '',\r\n        congdot: '',\r\n        Congruent: '',\r\n        conint: '',\r\n        Conint: '',\r\n        ContourIntegral: '',\r\n        copf: '',\r\n        Copf: '',\r\n        coprod: '',\r\n        Coproduct: '',\r\n        copy: '',\r\n        COPY: '',\r\n        copysr: '',\r\n        CounterClockwiseContourIntegral: '',\r\n        crarr: '',\r\n        cross: '',\r\n        Cross: '',\r\n        Cscr: '',\r\n        cscr: '',\r\n        csub: '',\r\n        csube: '',\r\n        csup: '',\r\n        csupe: '',\r\n        ctdot: '',\r\n        cudarrl: '',\r\n        cudarrr: '',\r\n        cuepr: '',\r\n        cuesc: '',\r\n        cularr: '',\r\n        cularrp: '',\r\n        cupbrcap: '',\r\n        cupcap: '',\r\n        CupCap: '',\r\n        cup: '',\r\n        Cup: '',\r\n        cupcup: '',\r\n        cupdot: '',\r\n        cupor: '',\r\n        cups: '',\r\n        curarr: '',\r\n        curarrm: '',\r\n        curlyeqprec: '',\r\n        curlyeqsucc: '',\r\n        curlyvee: '',\r\n        curlywedge: '',\r\n        curren: '',\r\n        curvearrowleft: '',\r\n        curvearrowright: '',\r\n        cuvee: '',\r\n        cuwed: '',\r\n        cwconint: '',\r\n        cwint: '',\r\n        cylcty: '',\r\n        dagger: '',\r\n        Dagger: '',\r\n        daleth: '',\r\n        darr: '',\r\n        Darr: '',\r\n        dArr: '',\r\n        dash: '',\r\n        Dashv: '',\r\n        dashv: '',\r\n        dbkarow: '',\r\n        dblac: '',\r\n        Dcaron: '',\r\n        dcaron: '',\r\n        Dcy: '',\r\n        dcy: '',\r\n        ddagger: '',\r\n        ddarr: '',\r\n        DD: '',\r\n        dd: '',\r\n        DDotrahd: '',\r\n        ddotseq: '',\r\n        deg: '',\r\n        Del: '',\r\n        Delta: '',\r\n        delta: '',\r\n        demptyv: '',\r\n        dfisht: '',\r\n        Dfr: '',\r\n        dfr: '',\r\n        dHar: '',\r\n        dharl: '',\r\n        dharr: '',\r\n        DiacriticalAcute: '',\r\n        DiacriticalDot: '',\r\n        DiacriticalDoubleAcute: '',\r\n        DiacriticalGrave: '`',\r\n        DiacriticalTilde: '',\r\n        diam: '',\r\n        diamond: '',\r\n        Diamond: '',\r\n        diamondsuit: '',\r\n        diams: '',\r\n        die: '',\r\n        DifferentialD: '',\r\n        digamma: '',\r\n        disin: '',\r\n        div: '',\r\n        divide: '',\r\n        divideontimes: '',\r\n        divonx: '',\r\n        DJcy: '',\r\n        djcy: '',\r\n        dlcorn: '',\r\n        dlcrop: '',\r\n        dollar: '$',\r\n        Dopf: '',\r\n        dopf: '',\r\n        Dot: '',\r\n        dot: '',\r\n        DotDot: '',\r\n        doteq: '',\r\n        doteqdot: '',\r\n        DotEqual: '',\r\n        dotminus: '',\r\n        dotplus: '',\r\n        dotsquare: '',\r\n        doublebarwedge: '',\r\n        DoubleContourIntegral: '',\r\n        DoubleDot: '',\r\n        DoubleDownArrow: '',\r\n        DoubleLeftArrow: '',\r\n        DoubleLeftRightArrow: '',\r\n        DoubleLeftTee: '',\r\n        DoubleLongLeftArrow: '',\r\n        DoubleLongLeftRightArrow: '',\r\n        DoubleLongRightArrow: '',\r\n        DoubleRightArrow: '',\r\n        DoubleRightTee: '',\r\n        DoubleUpArrow: '',\r\n        DoubleUpDownArrow: '',\r\n        DoubleVerticalBar: '',\r\n        DownArrowBar: '',\r\n        downarrow: '',\r\n        DownArrow: '',\r\n        Downarrow: '',\r\n        DownArrowUpArrow: '',\r\n        DownBreve: '',\r\n        downdownarrows: '',\r\n        downharpoonleft: '',\r\n        downharpoonright: '',\r\n        DownLeftRightVector: '',\r\n        DownLeftTeeVector: '',\r\n        DownLeftVectorBar: '',\r\n        DownLeftVector: '',\r\n        DownRightTeeVector: '',\r\n        DownRightVectorBar: '',\r\n        DownRightVector: '',\r\n        DownTeeArrow: '',\r\n        DownTee: '',\r\n        drbkarow: '',\r\n        drcorn: '',\r\n        drcrop: '',\r\n        Dscr: '',\r\n        dscr: '',\r\n        DScy: '',\r\n        dscy: '',\r\n        dsol: '',\r\n        Dstrok: '',\r\n        dstrok: '',\r\n        dtdot: '',\r\n        dtri: '',\r\n        dtrif: '',\r\n        duarr: '',\r\n        duhar: '',\r\n        dwangle: '',\r\n        DZcy: '',\r\n        dzcy: '',\r\n        dzigrarr: '',\r\n        Eacute: '',\r\n        eacute: '',\r\n        easter: '',\r\n        Ecaron: '',\r\n        ecaron: '',\r\n        Ecirc: '',\r\n        ecirc: '',\r\n        ecir: '',\r\n        ecolon: '',\r\n        Ecy: '',\r\n        ecy: '',\r\n        eDDot: '',\r\n        Edot: '',\r\n        edot: '',\r\n        eDot: '',\r\n        ee: '',\r\n        efDot: '',\r\n        Efr: '',\r\n        efr: '',\r\n        eg: '',\r\n        Egrave: '',\r\n        egrave: '',\r\n        egs: '',\r\n        egsdot: '',\r\n        el: '',\r\n        Element: '',\r\n        elinters: '',\r\n        ell: '',\r\n        els: '',\r\n        elsdot: '',\r\n        Emacr: '',\r\n        emacr: '',\r\n        empty: '',\r\n        emptyset: '',\r\n        EmptySmallSquare: '',\r\n        emptyv: '',\r\n        EmptyVerySmallSquare: '',\r\n        emsp13: '',\r\n        emsp14: '',\r\n        emsp: '',\r\n        ENG: '',\r\n        eng: '',\r\n        ensp: '',\r\n        Eogon: '',\r\n        eogon: '',\r\n        Eopf: '',\r\n        eopf: '',\r\n        epar: '',\r\n        eparsl: '',\r\n        eplus: '',\r\n        epsi: '',\r\n        Epsilon: '',\r\n        epsilon: '',\r\n        epsiv: '',\r\n        eqcirc: '',\r\n        eqcolon: '',\r\n        eqsim: '',\r\n        eqslantgtr: '',\r\n        eqslantless: '',\r\n        Equal: '',\r\n        equals: '=',\r\n        EqualTilde: '',\r\n        equest: '',\r\n        Equilibrium: '',\r\n        equiv: '',\r\n        equivDD: '',\r\n        eqvparsl: '',\r\n        erarr: '',\r\n        erDot: '',\r\n        escr: '',\r\n        Escr: '',\r\n        esdot: '',\r\n        Esim: '',\r\n        esim: '',\r\n        Eta: '',\r\n        eta: '',\r\n        ETH: '',\r\n        eth: '',\r\n        Euml: '',\r\n        euml: '',\r\n        euro: '',\r\n        excl: '!',\r\n        exist: '',\r\n        Exists: '',\r\n        expectation: '',\r\n        exponentiale: '',\r\n        ExponentialE: '',\r\n        fallingdotseq: '',\r\n        Fcy: '',\r\n        fcy: '',\r\n        female: '',\r\n        ffilig: '',\r\n        fflig: '',\r\n        ffllig: '',\r\n        Ffr: '',\r\n        ffr: '',\r\n        filig: '',\r\n        FilledSmallSquare: '',\r\n        FilledVerySmallSquare: '',\r\n        fjlig: 'fj',\r\n        flat: '',\r\n        fllig: '',\r\n        fltns: '',\r\n        fnof: '',\r\n        Fopf: '',\r\n        fopf: '',\r\n        forall: '',\r\n        ForAll: '',\r\n        fork: '',\r\n        forkv: '',\r\n        Fouriertrf: '',\r\n        fpartint: '',\r\n        frac12: '',\r\n        frac13: '',\r\n        frac14: '',\r\n        frac15: '',\r\n        frac16: '',\r\n        frac18: '',\r\n        frac23: '',\r\n        frac25: '',\r\n        frac34: '',\r\n        frac35: '',\r\n        frac38: '',\r\n        frac45: '',\r\n        frac56: '',\r\n        frac58: '',\r\n        frac78: '',\r\n        frasl: '',\r\n        frown: '',\r\n        fscr: '',\r\n        Fscr: '',\r\n        gacute: '',\r\n        Gamma: '',\r\n        gamma: '',\r\n        Gammad: '',\r\n        gammad: '',\r\n        gap: '',\r\n        Gbreve: '',\r\n        gbreve: '',\r\n        Gcedil: '',\r\n        Gcirc: '',\r\n        gcirc: '',\r\n        Gcy: '',\r\n        gcy: '',\r\n        Gdot: '',\r\n        gdot: '',\r\n        ge: '',\r\n        gE: '',\r\n        gEl: '',\r\n        gel: '',\r\n        geq: '',\r\n        geqq: '',\r\n        geqslant: '',\r\n        gescc: '',\r\n        ges: '',\r\n        gesdot: '',\r\n        gesdoto: '',\r\n        gesdotol: '',\r\n        gesl: '',\r\n        gesles: '',\r\n        Gfr: '',\r\n        gfr: '',\r\n        gg: '',\r\n        Gg: '',\r\n        ggg: '',\r\n        gimel: '',\r\n        GJcy: '',\r\n        gjcy: '',\r\n        gla: '',\r\n        gl: '',\r\n        glE: '',\r\n        glj: '',\r\n        gnap: '',\r\n        gnapprox: '',\r\n        gne: '',\r\n        gnE: '',\r\n        gneq: '',\r\n        gneqq: '',\r\n        gnsim: '',\r\n        Gopf: '',\r\n        gopf: '',\r\n        grave: '`',\r\n        GreaterEqual: '',\r\n        GreaterEqualLess: '',\r\n        GreaterFullEqual: '',\r\n        GreaterGreater: '',\r\n        GreaterLess: '',\r\n        GreaterSlantEqual: '',\r\n        GreaterTilde: '',\r\n        Gscr: '',\r\n        gscr: '',\r\n        gsim: '',\r\n        gsime: '',\r\n        gsiml: '',\r\n        gtcc: '',\r\n        gtcir: '',\r\n        gt: '>',\r\n        GT: '>',\r\n        Gt: '',\r\n        gtdot: '',\r\n        gtlPar: '',\r\n        gtquest: '',\r\n        gtrapprox: '',\r\n        gtrarr: '',\r\n        gtrdot: '',\r\n        gtreqless: '',\r\n        gtreqqless: '',\r\n        gtrless: '',\r\n        gtrsim: '',\r\n        gvertneqq: '',\r\n        gvnE: '',\r\n        Hacek: '',\r\n        hairsp: '',\r\n        half: '',\r\n        hamilt: '',\r\n        HARDcy: '',\r\n        hardcy: '',\r\n        harrcir: '',\r\n        harr: '',\r\n        hArr: '',\r\n        harrw: '',\r\n        Hat: '^',\r\n        hbar: '',\r\n        Hcirc: '',\r\n        hcirc: '',\r\n        hearts: '',\r\n        heartsuit: '',\r\n        hellip: '',\r\n        hercon: '',\r\n        hfr: '',\r\n        Hfr: '',\r\n        HilbertSpace: '',\r\n        hksearow: '',\r\n        hkswarow: '',\r\n        hoarr: '',\r\n        homtht: '',\r\n        hookleftarrow: '',\r\n        hookrightarrow: '',\r\n        hopf: '',\r\n        Hopf: '',\r\n        horbar: '',\r\n        HorizontalLine: '',\r\n        hscr: '',\r\n        Hscr: '',\r\n        hslash: '',\r\n        Hstrok: '',\r\n        hstrok: '',\r\n        HumpDownHump: '',\r\n        HumpEqual: '',\r\n        hybull: '',\r\n        hyphen: '',\r\n        Iacute: '',\r\n        iacute: '',\r\n        ic: '',\r\n        Icirc: '',\r\n        icirc: '',\r\n        Icy: '',\r\n        icy: '',\r\n        Idot: '',\r\n        IEcy: '',\r\n        iecy: '',\r\n        iexcl: '',\r\n        iff: '',\r\n        ifr: '',\r\n        Ifr: '',\r\n        Igrave: '',\r\n        igrave: '',\r\n        ii: '',\r\n        iiiint: '',\r\n        iiint: '',\r\n        iinfin: '',\r\n        iiota: '',\r\n        IJlig: '',\r\n        ijlig: '',\r\n        Imacr: '',\r\n        imacr: '',\r\n        image: '',\r\n        ImaginaryI: '',\r\n        imagline: '',\r\n        imagpart: '',\r\n        imath: '',\r\n        Im: '',\r\n        imof: '',\r\n        imped: '',\r\n        Implies: '',\r\n        incare: '',\r\n        in: '',\r\n        infin: '',\r\n        infintie: '',\r\n        inodot: '',\r\n        intcal: '',\r\n        int: '',\r\n        Int: '',\r\n        integers: '',\r\n        Integral: '',\r\n        intercal: '',\r\n        Intersection: '',\r\n        intlarhk: '',\r\n        intprod: '',\r\n        InvisibleComma: '',\r\n        InvisibleTimes: '',\r\n        IOcy: '',\r\n        iocy: '',\r\n        Iogon: '',\r\n        iogon: '',\r\n        Iopf: '',\r\n        iopf: '',\r\n        Iota: '',\r\n        iota: '',\r\n        iprod: '',\r\n        iquest: '',\r\n        iscr: '',\r\n        Iscr: '',\r\n        isin: '',\r\n        isindot: '',\r\n        isinE: '',\r\n        isins: '',\r\n        isinsv: '',\r\n        isinv: '',\r\n        it: '',\r\n        Itilde: '',\r\n        itilde: '',\r\n        Iukcy: '',\r\n        iukcy: '',\r\n        Iuml: '',\r\n        iuml: '',\r\n        Jcirc: '',\r\n        jcirc: '',\r\n        Jcy: '',\r\n        jcy: '',\r\n        Jfr: '',\r\n        jfr: '',\r\n        jmath: '',\r\n        Jopf: '',\r\n        jopf: '',\r\n        Jscr: '',\r\n        jscr: '',\r\n        Jsercy: '',\r\n        jsercy: '',\r\n        Jukcy: '',\r\n        jukcy: '',\r\n        Kappa: '',\r\n        kappa: '',\r\n        kappav: '',\r\n        Kcedil: '',\r\n        kcedil: '',\r\n        Kcy: '',\r\n        kcy: '',\r\n        Kfr: '',\r\n        kfr: '',\r\n        kgreen: '',\r\n        KHcy: '',\r\n        khcy: '',\r\n        KJcy: '',\r\n        kjcy: '',\r\n        Kopf: '',\r\n        kopf: '',\r\n        Kscr: '',\r\n        kscr: '',\r\n        lAarr: '',\r\n        Lacute: '',\r\n        lacute: '',\r\n        laemptyv: '',\r\n        lagran: '',\r\n        Lambda: '',\r\n        lambda: '',\r\n        lang: '',\r\n        Lang: '',\r\n        langd: '',\r\n        langle: '',\r\n        lap: '',\r\n        Laplacetrf: '',\r\n        laquo: '',\r\n        larrb: '',\r\n        larrbfs: '',\r\n        larr: '',\r\n        Larr: '',\r\n        lArr: '',\r\n        larrfs: '',\r\n        larrhk: '',\r\n        larrlp: '',\r\n        larrpl: '',\r\n        larrsim: '',\r\n        larrtl: '',\r\n        latail: '',\r\n        lAtail: '',\r\n        lat: '',\r\n        late: '',\r\n        lates: '',\r\n        lbarr: '',\r\n        lBarr: '',\r\n        lbbrk: '',\r\n        lbrace: '{',\r\n        lbrack: '[',\r\n        lbrke: '',\r\n        lbrksld: '',\r\n        lbrkslu: '',\r\n        Lcaron: '',\r\n        lcaron: '',\r\n        Lcedil: '',\r\n        lcedil: '',\r\n        lceil: '',\r\n        lcub: '{',\r\n        Lcy: '',\r\n        lcy: '',\r\n        ldca: '',\r\n        ldquo: '',\r\n        ldquor: '',\r\n        ldrdhar: '',\r\n        ldrushar: '',\r\n        ldsh: '',\r\n        le: '',\r\n        lE: '',\r\n        LeftAngleBracket: '',\r\n        LeftArrowBar: '',\r\n        leftarrow: '',\r\n        LeftArrow: '',\r\n        Leftarrow: '',\r\n        LeftArrowRightArrow: '',\r\n        leftarrowtail: '',\r\n        LeftCeiling: '',\r\n        LeftDoubleBracket: '',\r\n        LeftDownTeeVector: '',\r\n        LeftDownVectorBar: '',\r\n        LeftDownVector: '',\r\n        LeftFloor: '',\r\n        leftharpoondown: '',\r\n        leftharpoonup: '',\r\n        leftleftarrows: '',\r\n        leftrightarrow: '',\r\n        LeftRightArrow: '',\r\n        Leftrightarrow: '',\r\n        leftrightarrows: '',\r\n        leftrightharpoons: '',\r\n        leftrightsquigarrow: '',\r\n        LeftRightVector: '',\r\n        LeftTeeArrow: '',\r\n        LeftTee: '',\r\n        LeftTeeVector: '',\r\n        leftthreetimes: '',\r\n        LeftTriangleBar: '',\r\n        LeftTriangle: '',\r\n        LeftTriangleEqual: '',\r\n        LeftUpDownVector: '',\r\n        LeftUpTeeVector: '',\r\n        LeftUpVectorBar: '',\r\n        LeftUpVector: '',\r\n        LeftVectorBar: '',\r\n        LeftVector: '',\r\n        lEg: '',\r\n        leg: '',\r\n        leq: '',\r\n        leqq: '',\r\n        leqslant: '',\r\n        lescc: '',\r\n        les: '',\r\n        lesdot: '',\r\n        lesdoto: '',\r\n        lesdotor: '',\r\n        lesg: '',\r\n        lesges: '',\r\n        lessapprox: '',\r\n        lessdot: '',\r\n        lesseqgtr: '',\r\n        lesseqqgtr: '',\r\n        LessEqualGreater: '',\r\n        LessFullEqual: '',\r\n        LessGreater: '',\r\n        lessgtr: '',\r\n        LessLess: '',\r\n        lesssim: '',\r\n        LessSlantEqual: '',\r\n        LessTilde: '',\r\n        lfisht: '',\r\n        lfloor: '',\r\n        Lfr: '',\r\n        lfr: '',\r\n        lg: '',\r\n        lgE: '',\r\n        lHar: '',\r\n        lhard: '',\r\n        lharu: '',\r\n        lharul: '',\r\n        lhblk: '',\r\n        LJcy: '',\r\n        ljcy: '',\r\n        llarr: '',\r\n        ll: '',\r\n        Ll: '',\r\n        llcorner: '',\r\n        Lleftarrow: '',\r\n        llhard: '',\r\n        lltri: '',\r\n        Lmidot: '',\r\n        lmidot: '',\r\n        lmoustache: '',\r\n        lmoust: '',\r\n        lnap: '',\r\n        lnapprox: '',\r\n        lne: '',\r\n        lnE: '',\r\n        lneq: '',\r\n        lneqq: '',\r\n        lnsim: '',\r\n        loang: '',\r\n        loarr: '',\r\n        lobrk: '',\r\n        longleftarrow: '',\r\n        LongLeftArrow: '',\r\n        Longleftarrow: '',\r\n        longleftrightarrow: '',\r\n        LongLeftRightArrow: '',\r\n        Longleftrightarrow: '',\r\n        longmapsto: '',\r\n        longrightarrow: '',\r\n        LongRightArrow: '',\r\n        Longrightarrow: '',\r\n        looparrowleft: '',\r\n        looparrowright: '',\r\n        lopar: '',\r\n        Lopf: '',\r\n        lopf: '',\r\n        loplus: '',\r\n        lotimes: '',\r\n        lowast: '',\r\n        lowbar: '_',\r\n        LowerLeftArrow: '',\r\n        LowerRightArrow: '',\r\n        loz: '',\r\n        lozenge: '',\r\n        lozf: '',\r\n        lpar: '(',\r\n        lparlt: '',\r\n        lrarr: '',\r\n        lrcorner: '',\r\n        lrhar: '',\r\n        lrhard: '',\r\n        lrm: '',\r\n        lrtri: '',\r\n        lsaquo: '',\r\n        lscr: '',\r\n        Lscr: '',\r\n        lsh: '',\r\n        Lsh: '',\r\n        lsim: '',\r\n        lsime: '',\r\n        lsimg: '',\r\n        lsqb: '[',\r\n        lsquo: '',\r\n        lsquor: '',\r\n        Lstrok: '',\r\n        lstrok: '',\r\n        ltcc: '',\r\n        ltcir: '',\r\n        lt: '<',\r\n        LT: '<',\r\n        Lt: '',\r\n        ltdot: '',\r\n        lthree: '',\r\n        ltimes: '',\r\n        ltlarr: '',\r\n        ltquest: '',\r\n        ltri: '',\r\n        ltrie: '',\r\n        ltrif: '',\r\n        ltrPar: '',\r\n        lurdshar: '',\r\n        luruhar: '',\r\n        lvertneqq: '',\r\n        lvnE: '',\r\n        macr: '',\r\n        male: '',\r\n        malt: '',\r\n        maltese: '',\r\n        Map: '',\r\n        map: '',\r\n        mapsto: '',\r\n        mapstodown: '',\r\n        mapstoleft: '',\r\n        mapstoup: '',\r\n        marker: '',\r\n        mcomma: '',\r\n        Mcy: '',\r\n        mcy: '',\r\n        mdash: '',\r\n        mDDot: '',\r\n        measuredangle: '',\r\n        MediumSpace: '',\r\n        Mellintrf: '',\r\n        Mfr: '',\r\n        mfr: '',\r\n        mho: '',\r\n        micro: '',\r\n        midast: '*',\r\n        midcir: '',\r\n        mid: '',\r\n        middot: '',\r\n        minusb: '',\r\n        minus: '',\r\n        minusd: '',\r\n        minusdu: '',\r\n        MinusPlus: '',\r\n        mlcp: '',\r\n        mldr: '',\r\n        mnplus: '',\r\n        models: '',\r\n        Mopf: '',\r\n        mopf: '',\r\n        mp: '',\r\n        mscr: '',\r\n        Mscr: '',\r\n        mstpos: '',\r\n        Mu: '',\r\n        mu: '',\r\n        multimap: '',\r\n        mumap: '',\r\n        nabla: '',\r\n        Nacute: '',\r\n        nacute: '',\r\n        nang: '',\r\n        nap: '',\r\n        napE: '',\r\n        napid: '',\r\n        napos: '',\r\n        napprox: '',\r\n        natural: '',\r\n        naturals: '',\r\n        natur: '',\r\n        nbsp: '',\r\n        nbump: '',\r\n        nbumpe: '',\r\n        ncap: '',\r\n        Ncaron: '',\r\n        ncaron: '',\r\n        Ncedil: '',\r\n        ncedil: '',\r\n        ncong: '',\r\n        ncongdot: '',\r\n        ncup: '',\r\n        Ncy: '',\r\n        ncy: '',\r\n        ndash: '',\r\n        nearhk: '',\r\n        nearr: '',\r\n        neArr: '',\r\n        nearrow: '',\r\n        ne: '',\r\n        nedot: '',\r\n        NegativeMediumSpace: '',\r\n        NegativeThickSpace: '',\r\n        NegativeThinSpace: '',\r\n        NegativeVeryThinSpace: '',\r\n        nequiv: '',\r\n        nesear: '',\r\n        nesim: '',\r\n        NestedGreaterGreater: '',\r\n        NestedLessLess: '',\r\n        NewLine: '\\n',\r\n        nexist: '',\r\n        nexists: '',\r\n        Nfr: '',\r\n        nfr: '',\r\n        ngE: '',\r\n        nge: '',\r\n        ngeq: '',\r\n        ngeqq: '',\r\n        ngeqslant: '',\r\n        nges: '',\r\n        nGg: '',\r\n        ngsim: '',\r\n        nGt: '',\r\n        ngt: '',\r\n        ngtr: '',\r\n        nGtv: '',\r\n        nharr: '',\r\n        nhArr: '',\r\n        nhpar: '',\r\n        ni: '',\r\n        nis: '',\r\n        nisd: '',\r\n        niv: '',\r\n        NJcy: '',\r\n        njcy: '',\r\n        nlarr: '',\r\n        nlArr: '',\r\n        nldr: '',\r\n        nlE: '',\r\n        nle: '',\r\n        nleftarrow: '',\r\n        nLeftarrow: '',\r\n        nleftrightarrow: '',\r\n        nLeftrightarrow: '',\r\n        nleq: '',\r\n        nleqq: '',\r\n        nleqslant: '',\r\n        nles: '',\r\n        nless: '',\r\n        nLl: '',\r\n        nlsim: '',\r\n        nLt: '',\r\n        nlt: '',\r\n        nltri: '',\r\n        nltrie: '',\r\n        nLtv: '',\r\n        nmid: '',\r\n        NoBreak: '',\r\n        NonBreakingSpace: '',\r\n        nopf: '',\r\n        Nopf: '',\r\n        Not: '',\r\n        not: '',\r\n        NotCongruent: '',\r\n        NotCupCap: '',\r\n        NotDoubleVerticalBar: '',\r\n        NotElement: '',\r\n        NotEqual: '',\r\n        NotEqualTilde: '',\r\n        NotExists: '',\r\n        NotGreater: '',\r\n        NotGreaterEqual: '',\r\n        NotGreaterFullEqual: '',\r\n        NotGreaterGreater: '',\r\n        NotGreaterLess: '',\r\n        NotGreaterSlantEqual: '',\r\n        NotGreaterTilde: '',\r\n        NotHumpDownHump: '',\r\n        NotHumpEqual: '',\r\n        notin: '',\r\n        notindot: '',\r\n        notinE: '',\r\n        notinva: '',\r\n        notinvb: '',\r\n        notinvc: '',\r\n        NotLeftTriangleBar: '',\r\n        NotLeftTriangle: '',\r\n        NotLeftTriangleEqual: '',\r\n        NotLess: '',\r\n        NotLessEqual: '',\r\n        NotLessGreater: '',\r\n        NotLessLess: '',\r\n        NotLessSlantEqual: '',\r\n        NotLessTilde: '',\r\n        NotNestedGreaterGreater: '',\r\n        NotNestedLessLess: '',\r\n        notni: '',\r\n        notniva: '',\r\n        notnivb: '',\r\n        notnivc: '',\r\n        NotPrecedes: '',\r\n        NotPrecedesEqual: '',\r\n        NotPrecedesSlantEqual: '',\r\n        NotReverseElement: '',\r\n        NotRightTriangleBar: '',\r\n        NotRightTriangle: '',\r\n        NotRightTriangleEqual: '',\r\n        NotSquareSubset: '',\r\n        NotSquareSubsetEqual: '',\r\n        NotSquareSuperset: '',\r\n        NotSquareSupersetEqual: '',\r\n        NotSubset: '',\r\n        NotSubsetEqual: '',\r\n        NotSucceeds: '',\r\n        NotSucceedsEqual: '',\r\n        NotSucceedsSlantEqual: '',\r\n        NotSucceedsTilde: '',\r\n        NotSuperset: '',\r\n        NotSupersetEqual: '',\r\n        NotTilde: '',\r\n        NotTildeEqual: '',\r\n        NotTildeFullEqual: '',\r\n        NotTildeTilde: '',\r\n        NotVerticalBar: '',\r\n        nparallel: '',\r\n        npar: '',\r\n        nparsl: '',\r\n        npart: '',\r\n        npolint: '',\r\n        npr: '',\r\n        nprcue: '',\r\n        nprec: '',\r\n        npreceq: '',\r\n        npre: '',\r\n        nrarrc: '',\r\n        nrarr: '',\r\n        nrArr: '',\r\n        nrarrw: '',\r\n        nrightarrow: '',\r\n        nRightarrow: '',\r\n        nrtri: '',\r\n        nrtrie: '',\r\n        nsc: '',\r\n        nsccue: '',\r\n        nsce: '',\r\n        Nscr: '',\r\n        nscr: '',\r\n        nshortmid: '',\r\n        nshortparallel: '',\r\n        nsim: '',\r\n        nsime: '',\r\n        nsimeq: '',\r\n        nsmid: '',\r\n        nspar: '',\r\n        nsqsube: '',\r\n        nsqsupe: '',\r\n        nsub: '',\r\n        nsubE: '',\r\n        nsube: '',\r\n        nsubset: '',\r\n        nsubseteq: '',\r\n        nsubseteqq: '',\r\n        nsucc: '',\r\n        nsucceq: '',\r\n        nsup: '',\r\n        nsupE: '',\r\n        nsupe: '',\r\n        nsupset: '',\r\n        nsupseteq: '',\r\n        nsupseteqq: '',\r\n        ntgl: '',\r\n        Ntilde: '',\r\n        ntilde: '',\r\n        ntlg: '',\r\n        ntriangleleft: '',\r\n        ntrianglelefteq: '',\r\n        ntriangleright: '',\r\n        ntrianglerighteq: '',\r\n        Nu: '',\r\n        nu: '',\r\n        num: '#',\r\n        numero: '',\r\n        numsp: '',\r\n        nvap: '',\r\n        nvdash: '',\r\n        nvDash: '',\r\n        nVdash: '',\r\n        nVDash: '',\r\n        nvge: '',\r\n        nvgt: '>',\r\n        nvHarr: '',\r\n        nvinfin: '',\r\n        nvlArr: '',\r\n        nvle: '',\r\n        nvlt: '<',\r\n        nvltrie: '',\r\n        nvrArr: '',\r\n        nvrtrie: '',\r\n        nvsim: '',\r\n        nwarhk: '',\r\n        nwarr: '',\r\n        nwArr: '',\r\n        nwarrow: '',\r\n        nwnear: '',\r\n        Oacute: '',\r\n        oacute: '',\r\n        oast: '',\r\n        Ocirc: '',\r\n        ocirc: '',\r\n        ocir: '',\r\n        Ocy: '',\r\n        ocy: '',\r\n        odash: '',\r\n        Odblac: '',\r\n        odblac: '',\r\n        odiv: '',\r\n        odot: '',\r\n        odsold: '',\r\n        OElig: '',\r\n        oelig: '',\r\n        ofcir: '',\r\n        Ofr: '',\r\n        ofr: '',\r\n        ogon: '',\r\n        Ograve: '',\r\n        ograve: '',\r\n        ogt: '',\r\n        ohbar: '',\r\n        ohm: '',\r\n        oint: '',\r\n        olarr: '',\r\n        olcir: '',\r\n        olcross: '',\r\n        oline: '',\r\n        olt: '',\r\n        Omacr: '',\r\n        omacr: '',\r\n        Omega: '',\r\n        omega: '',\r\n        Omicron: '',\r\n        omicron: '',\r\n        omid: '',\r\n        ominus: '',\r\n        Oopf: '',\r\n        oopf: '',\r\n        opar: '',\r\n        OpenCurlyDoubleQuote: '',\r\n        OpenCurlyQuote: '',\r\n        operp: '',\r\n        oplus: '',\r\n        orarr: '',\r\n        Or: '',\r\n        or: '',\r\n        ord: '',\r\n        order: '',\r\n        orderof: '',\r\n        ordf: '',\r\n        ordm: '',\r\n        origof: '',\r\n        oror: '',\r\n        orslope: '',\r\n        orv: '',\r\n        oS: '',\r\n        Oscr: '',\r\n        oscr: '',\r\n        Oslash: '',\r\n        oslash: '',\r\n        osol: '',\r\n        Otilde: '',\r\n        otilde: '',\r\n        otimesas: '',\r\n        Otimes: '',\r\n        otimes: '',\r\n        Ouml: '',\r\n        ouml: '',\r\n        ovbar: '',\r\n        OverBar: '',\r\n        OverBrace: '',\r\n        OverBracket: '',\r\n        OverParenthesis: '',\r\n        para: '',\r\n        parallel: '',\r\n        par: '',\r\n        parsim: '',\r\n        parsl: '',\r\n        part: '',\r\n        PartialD: '',\r\n        Pcy: '',\r\n        pcy: '',\r\n        percnt: '%',\r\n        period: '.',\r\n        permil: '',\r\n        perp: '',\r\n        pertenk: '',\r\n        Pfr: '',\r\n        pfr: '',\r\n        Phi: '',\r\n        phi: '',\r\n        phiv: '',\r\n        phmmat: '',\r\n        phone: '',\r\n        Pi: '',\r\n        pi: '',\r\n        pitchfork: '',\r\n        piv: '',\r\n        planck: '',\r\n        planckh: '',\r\n        plankv: '',\r\n        plusacir: '',\r\n        plusb: '',\r\n        pluscir: '',\r\n        plus: '+',\r\n        plusdo: '',\r\n        plusdu: '',\r\n        pluse: '',\r\n        PlusMinus: '',\r\n        plusmn: '',\r\n        plussim: '',\r\n        plustwo: '',\r\n        pm: '',\r\n        Poincareplane: '',\r\n        pointint: '',\r\n        popf: '',\r\n        Popf: '',\r\n        pound: '',\r\n        prap: '',\r\n        Pr: '',\r\n        pr: '',\r\n        prcue: '',\r\n        precapprox: '',\r\n        prec: '',\r\n        preccurlyeq: '',\r\n        Precedes: '',\r\n        PrecedesEqual: '',\r\n        PrecedesSlantEqual: '',\r\n        PrecedesTilde: '',\r\n        preceq: '',\r\n        precnapprox: '',\r\n        precneqq: '',\r\n        precnsim: '',\r\n        pre: '',\r\n        prE: '',\r\n        precsim: '',\r\n        prime: '',\r\n        Prime: '',\r\n        primes: '',\r\n        prnap: '',\r\n        prnE: '',\r\n        prnsim: '',\r\n        prod: '',\r\n        Product: '',\r\n        profalar: '',\r\n        profline: '',\r\n        profsurf: '',\r\n        prop: '',\r\n        Proportional: '',\r\n        Proportion: '',\r\n        propto: '',\r\n        prsim: '',\r\n        prurel: '',\r\n        Pscr: '',\r\n        pscr: '',\r\n        Psi: '',\r\n        psi: '',\r\n        puncsp: '',\r\n        Qfr: '',\r\n        qfr: '',\r\n        qint: '',\r\n        qopf: '',\r\n        Qopf: '',\r\n        qprime: '',\r\n        Qscr: '',\r\n        qscr: '',\r\n        quaternions: '',\r\n        quatint: '',\r\n        quest: '?',\r\n        questeq: '',\r\n        quot: '\"',\r\n        QUOT: '\"',\r\n        rAarr: '',\r\n        race: '',\r\n        Racute: '',\r\n        racute: '',\r\n        radic: '',\r\n        raemptyv: '',\r\n        rang: '',\r\n        Rang: '',\r\n        rangd: '',\r\n        range: '',\r\n        rangle: '',\r\n        raquo: '',\r\n        rarrap: '',\r\n        rarrb: '',\r\n        rarrbfs: '',\r\n        rarrc: '',\r\n        rarr: '',\r\n        Rarr: '',\r\n        rArr: '',\r\n        rarrfs: '',\r\n        rarrhk: '',\r\n        rarrlp: '',\r\n        rarrpl: '',\r\n        rarrsim: '',\r\n        Rarrtl: '',\r\n        rarrtl: '',\r\n        rarrw: '',\r\n        ratail: '',\r\n        rAtail: '',\r\n        ratio: '',\r\n        rationals: '',\r\n        rbarr: '',\r\n        rBarr: '',\r\n        RBarr: '',\r\n        rbbrk: '',\r\n        rbrace: '}',\r\n        rbrack: ']',\r\n        rbrke: '',\r\n        rbrksld: '',\r\n        rbrkslu: '',\r\n        Rcaron: '',\r\n        rcaron: '',\r\n        Rcedil: '',\r\n        rcedil: '',\r\n        rceil: '',\r\n        rcub: '}',\r\n        Rcy: '',\r\n        rcy: '',\r\n        rdca: '',\r\n        rdldhar: '',\r\n        rdquo: '',\r\n        rdquor: '',\r\n        rdsh: '',\r\n        real: '',\r\n        realine: '',\r\n        realpart: '',\r\n        reals: '',\r\n        Re: '',\r\n        rect: '',\r\n        reg: '',\r\n        REG: '',\r\n        ReverseElement: '',\r\n        ReverseEquilibrium: '',\r\n        ReverseUpEquilibrium: '',\r\n        rfisht: '',\r\n        rfloor: '',\r\n        rfr: '',\r\n        Rfr: '',\r\n        rHar: '',\r\n        rhard: '',\r\n        rharu: '',\r\n        rharul: '',\r\n        Rho: '',\r\n        rho: '',\r\n        rhov: '',\r\n        RightAngleBracket: '',\r\n        RightArrowBar: '',\r\n        rightarrow: '',\r\n        RightArrow: '',\r\n        Rightarrow: '',\r\n        RightArrowLeftArrow: '',\r\n        rightarrowtail: '',\r\n        RightCeiling: '',\r\n        RightDoubleBracket: '',\r\n        RightDownTeeVector: '',\r\n        RightDownVectorBar: '',\r\n        RightDownVector: '',\r\n        RightFloor: '',\r\n        rightharpoondown: '',\r\n        rightharpoonup: '',\r\n        rightleftarrows: '',\r\n        rightleftharpoons: '',\r\n        rightrightarrows: '',\r\n        rightsquigarrow: '',\r\n        RightTeeArrow: '',\r\n        RightTee: '',\r\n        RightTeeVector: '',\r\n        rightthreetimes: '',\r\n        RightTriangleBar: '',\r\n        RightTriangle: '',\r\n        RightTriangleEqual: '',\r\n        RightUpDownVector: '',\r\n        RightUpTeeVector: '',\r\n        RightUpVectorBar: '',\r\n        RightUpVector: '',\r\n        RightVectorBar: '',\r\n        RightVector: '',\r\n        ring: '',\r\n        risingdotseq: '',\r\n        rlarr: '',\r\n        rlhar: '',\r\n        rlm: '',\r\n        rmoustache: '',\r\n        rmoust: '',\r\n        rnmid: '',\r\n        roang: '',\r\n        roarr: '',\r\n        robrk: '',\r\n        ropar: '',\r\n        ropf: '',\r\n        Ropf: '',\r\n        roplus: '',\r\n        rotimes: '',\r\n        RoundImplies: '',\r\n        rpar: ')',\r\n        rpargt: '',\r\n        rppolint: '',\r\n        rrarr: '',\r\n        Rrightarrow: '',\r\n        rsaquo: '',\r\n        rscr: '',\r\n        Rscr: '',\r\n        rsh: '',\r\n        Rsh: '',\r\n        rsqb: ']',\r\n        rsquo: '',\r\n        rsquor: '',\r\n        rthree: '',\r\n        rtimes: '',\r\n        rtri: '',\r\n        rtrie: '',\r\n        rtrif: '',\r\n        rtriltri: '',\r\n        RuleDelayed: '',\r\n        ruluhar: '',\r\n        rx: '',\r\n        Sacute: '',\r\n        sacute: '',\r\n        sbquo: '',\r\n        scap: '',\r\n        Scaron: '',\r\n        scaron: '',\r\n        Sc: '',\r\n        sc: '',\r\n        sccue: '',\r\n        sce: '',\r\n        scE: '',\r\n        Scedil: '',\r\n        scedil: '',\r\n        Scirc: '',\r\n        scirc: '',\r\n        scnap: '',\r\n        scnE: '',\r\n        scnsim: '',\r\n        scpolint: '',\r\n        scsim: '',\r\n        Scy: '',\r\n        scy: '',\r\n        sdotb: '',\r\n        sdot: '',\r\n        sdote: '',\r\n        searhk: '',\r\n        searr: '',\r\n        seArr: '',\r\n        searrow: '',\r\n        sect: '',\r\n        semi: ';',\r\n        seswar: '',\r\n        setminus: '',\r\n        setmn: '',\r\n        sext: '',\r\n        Sfr: '',\r\n        sfr: '',\r\n        sfrown: '',\r\n        sharp: '',\r\n        SHCHcy: '',\r\n        shchcy: '',\r\n        SHcy: '',\r\n        shcy: '',\r\n        ShortDownArrow: '',\r\n        ShortLeftArrow: '',\r\n        shortmid: '',\r\n        shortparallel: '',\r\n        ShortRightArrow: '',\r\n        ShortUpArrow: '',\r\n        shy: '',\r\n        Sigma: '',\r\n        sigma: '',\r\n        sigmaf: '',\r\n        sigmav: '',\r\n        sim: '',\r\n        simdot: '',\r\n        sime: '',\r\n        simeq: '',\r\n        simg: '',\r\n        simgE: '',\r\n        siml: '',\r\n        simlE: '',\r\n        simne: '',\r\n        simplus: '',\r\n        simrarr: '',\r\n        slarr: '',\r\n        SmallCircle: '',\r\n        smallsetminus: '',\r\n        smashp: '',\r\n        smeparsl: '',\r\n        smid: '',\r\n        smile: '',\r\n        smt: '',\r\n        smte: '',\r\n        smtes: '',\r\n        SOFTcy: '',\r\n        softcy: '',\r\n        solbar: '',\r\n        solb: '',\r\n        sol: '/',\r\n        Sopf: '',\r\n        sopf: '',\r\n        spades: '',\r\n        spadesuit: '',\r\n        spar: '',\r\n        sqcap: '',\r\n        sqcaps: '',\r\n        sqcup: '',\r\n        sqcups: '',\r\n        Sqrt: '',\r\n        sqsub: '',\r\n        sqsube: '',\r\n        sqsubset: '',\r\n        sqsubseteq: '',\r\n        sqsup: '',\r\n        sqsupe: '',\r\n        sqsupset: '',\r\n        sqsupseteq: '',\r\n        square: '',\r\n        Square: '',\r\n        SquareIntersection: '',\r\n        SquareSubset: '',\r\n        SquareSubsetEqual: '',\r\n        SquareSuperset: '',\r\n        SquareSupersetEqual: '',\r\n        SquareUnion: '',\r\n        squarf: '',\r\n        squ: '',\r\n        squf: '',\r\n        srarr: '',\r\n        Sscr: '',\r\n        sscr: '',\r\n        ssetmn: '',\r\n        ssmile: '',\r\n        sstarf: '',\r\n        Star: '',\r\n        star: '',\r\n        starf: '',\r\n        straightepsilon: '',\r\n        straightphi: '',\r\n        strns: '',\r\n        sub: '',\r\n        Sub: '',\r\n        subdot: '',\r\n        subE: '',\r\n        sube: '',\r\n        subedot: '',\r\n        submult: '',\r\n        subnE: '',\r\n        subne: '',\r\n        subplus: '',\r\n        subrarr: '',\r\n        subset: '',\r\n        Subset: '',\r\n        subseteq: '',\r\n        subseteqq: '',\r\n        SubsetEqual: '',\r\n        subsetneq: '',\r\n        subsetneqq: '',\r\n        subsim: '',\r\n        subsub: '',\r\n        subsup: '',\r\n        succapprox: '',\r\n        succ: '',\r\n        succcurlyeq: '',\r\n        Succeeds: '',\r\n        SucceedsEqual: '',\r\n        SucceedsSlantEqual: '',\r\n        SucceedsTilde: '',\r\n        succeq: '',\r\n        succnapprox: '',\r\n        succneqq: '',\r\n        succnsim: '',\r\n        succsim: '',\r\n        SuchThat: '',\r\n        sum: '',\r\n        Sum: '',\r\n        sung: '',\r\n        sup1: '',\r\n        sup2: '',\r\n        sup3: '',\r\n        sup: '',\r\n        Sup: '',\r\n        supdot: '',\r\n        supdsub: '',\r\n        supE: '',\r\n        supe: '',\r\n        supedot: '',\r\n        Superset: '',\r\n        SupersetEqual: '',\r\n        suphsol: '',\r\n        suphsub: '',\r\n        suplarr: '',\r\n        supmult: '',\r\n        supnE: '',\r\n        supne: '',\r\n        supplus: '',\r\n        supset: '',\r\n        Supset: '',\r\n        supseteq: '',\r\n        supseteqq: '',\r\n        supsetneq: '',\r\n        supsetneqq: '',\r\n        supsim: '',\r\n        supsub: '',\r\n        supsup: '',\r\n        swarhk: '',\r\n        swarr: '',\r\n        swArr: '',\r\n        swarrow: '',\r\n        swnwar: '',\r\n        szlig: '',\r\n        Tab: '\\t',\r\n        target: '',\r\n        Tau: '',\r\n        tau: '',\r\n        tbrk: '',\r\n        Tcaron: '',\r\n        tcaron: '',\r\n        Tcedil: '',\r\n        tcedil: '',\r\n        Tcy: '',\r\n        tcy: '',\r\n        tdot: '',\r\n        telrec: '',\r\n        Tfr: '',\r\n        tfr: '',\r\n        there4: '',\r\n        therefore: '',\r\n        Therefore: '',\r\n        Theta: '',\r\n        theta: '',\r\n        thetasym: '',\r\n        thetav: '',\r\n        thickapprox: '',\r\n        thicksim: '',\r\n        ThickSpace: '',\r\n        ThinSpace: '',\r\n        thinsp: '',\r\n        thkap: '',\r\n        thksim: '',\r\n        THORN: '',\r\n        thorn: '',\r\n        tilde: '',\r\n        Tilde: '',\r\n        TildeEqual: '',\r\n        TildeFullEqual: '',\r\n        TildeTilde: '',\r\n        timesbar: '',\r\n        timesb: '',\r\n        times: '',\r\n        timesd: '',\r\n        tint: '',\r\n        toea: '',\r\n        topbot: '',\r\n        topcir: '',\r\n        top: '',\r\n        Topf: '',\r\n        topf: '',\r\n        topfork: '',\r\n        tosa: '',\r\n        tprime: '',\r\n        trade: '',\r\n        TRADE: '',\r\n        triangle: '',\r\n        triangledown: '',\r\n        triangleleft: '',\r\n        trianglelefteq: '',\r\n        triangleq: '',\r\n        triangleright: '',\r\n        trianglerighteq: '',\r\n        tridot: '',\r\n        trie: '',\r\n        triminus: '',\r\n        TripleDot: '',\r\n        triplus: '',\r\n        trisb: '',\r\n        tritime: '',\r\n        trpezium: '',\r\n        Tscr: '',\r\n        tscr: '',\r\n        TScy: '',\r\n        tscy: '',\r\n        TSHcy: '',\r\n        tshcy: '',\r\n        Tstrok: '',\r\n        tstrok: '',\r\n        twixt: '',\r\n        twoheadleftarrow: '',\r\n        twoheadrightarrow: '',\r\n        Uacute: '',\r\n        uacute: '',\r\n        uarr: '',\r\n        Uarr: '',\r\n        uArr: '',\r\n        Uarrocir: '',\r\n        Ubrcy: '',\r\n        ubrcy: '',\r\n        Ubreve: '',\r\n        ubreve: '',\r\n        Ucirc: '',\r\n        ucirc: '',\r\n        Ucy: '',\r\n        ucy: '',\r\n        udarr: '',\r\n        Udblac: '',\r\n        udblac: '',\r\n        udhar: '',\r\n        ufisht: '',\r\n        Ufr: '',\r\n        ufr: '',\r\n        Ugrave: '',\r\n        ugrave: '',\r\n        uHar: '',\r\n        uharl: '',\r\n        uharr: '',\r\n        uhblk: '',\r\n        ulcorn: '',\r\n        ulcorner: '',\r\n        ulcrop: '',\r\n        ultri: '',\r\n        Umacr: '',\r\n        umacr: '',\r\n        uml: '',\r\n        UnderBar: '_',\r\n        UnderBrace: '',\r\n        UnderBracket: '',\r\n        UnderParenthesis: '',\r\n        Union: '',\r\n        UnionPlus: '',\r\n        Uogon: '',\r\n        uogon: '',\r\n        Uopf: '',\r\n        uopf: '',\r\n        UpArrowBar: '',\r\n        uparrow: '',\r\n        UpArrow: '',\r\n        Uparrow: '',\r\n        UpArrowDownArrow: '',\r\n        updownarrow: '',\r\n        UpDownArrow: '',\r\n        Updownarrow: '',\r\n        UpEquilibrium: '',\r\n        upharpoonleft: '',\r\n        upharpoonright: '',\r\n        uplus: '',\r\n        UpperLeftArrow: '',\r\n        UpperRightArrow: '',\r\n        upsi: '',\r\n        Upsi: '',\r\n        upsih: '',\r\n        Upsilon: '',\r\n        upsilon: '',\r\n        UpTeeArrow: '',\r\n        UpTee: '',\r\n        upuparrows: '',\r\n        urcorn: '',\r\n        urcorner: '',\r\n        urcrop: '',\r\n        Uring: '',\r\n        uring: '',\r\n        urtri: '',\r\n        Uscr: '',\r\n        uscr: '',\r\n        utdot: '',\r\n        Utilde: '',\r\n        utilde: '',\r\n        utri: '',\r\n        utrif: '',\r\n        uuarr: '',\r\n        Uuml: '',\r\n        uuml: '',\r\n        uwangle: '',\r\n        vangrt: '',\r\n        varepsilon: '',\r\n        varkappa: '',\r\n        varnothing: '',\r\n        varphi: '',\r\n        varpi: '',\r\n        varpropto: '',\r\n        varr: '',\r\n        vArr: '',\r\n        varrho: '',\r\n        varsigma: '',\r\n        varsubsetneq: '',\r\n        varsubsetneqq: '',\r\n        varsupsetneq: '',\r\n        varsupsetneqq: '',\r\n        vartheta: '',\r\n        vartriangleleft: '',\r\n        vartriangleright: '',\r\n        vBar: '',\r\n        Vbar: '',\r\n        vBarv: '',\r\n        Vcy: '',\r\n        vcy: '',\r\n        vdash: '',\r\n        vDash: '',\r\n        Vdash: '',\r\n        VDash: '',\r\n        Vdashl: '',\r\n        veebar: '',\r\n        vee: '',\r\n        Vee: '',\r\n        veeeq: '',\r\n        vellip: '',\r\n        verbar: '|',\r\n        Verbar: '',\r\n        vert: '|',\r\n        Vert: '',\r\n        VerticalBar: '',\r\n        VerticalLine: '|',\r\n        VerticalSeparator: '',\r\n        VerticalTilde: '',\r\n        VeryThinSpace: '',\r\n        Vfr: '',\r\n        vfr: '',\r\n        vltri: '',\r\n        vnsub: '',\r\n        vnsup: '',\r\n        Vopf: '',\r\n        vopf: '',\r\n        vprop: '',\r\n        vrtri: '',\r\n        Vscr: '',\r\n        vscr: '',\r\n        vsubnE: '',\r\n        vsubne: '',\r\n        vsupnE: '',\r\n        vsupne: '',\r\n        Vvdash: '',\r\n        vzigzag: '',\r\n        Wcirc: '',\r\n        wcirc: '',\r\n        wedbar: '',\r\n        wedge: '',\r\n        Wedge: '',\r\n        wedgeq: '',\r\n        weierp: '',\r\n        Wfr: '',\r\n        wfr: '',\r\n        Wopf: '',\r\n        wopf: '',\r\n        wp: '',\r\n        wr: '',\r\n        wreath: '',\r\n        Wscr: '',\r\n        wscr: '',\r\n        xcap: '',\r\n        xcirc: '',\r\n        xcup: '',\r\n        xdtri: '',\r\n        Xfr: '',\r\n        xfr: '',\r\n        xharr: '',\r\n        xhArr: '',\r\n        Xi: '',\r\n        xi: '',\r\n        xlarr: '',\r\n        xlArr: '',\r\n        xmap: '',\r\n        xnis: '',\r\n        xodot: '',\r\n        Xopf: '',\r\n        xopf: '',\r\n        xoplus: '',\r\n        xotime: '',\r\n        xrarr: '',\r\n        xrArr: '',\r\n        Xscr: '',\r\n        xscr: '',\r\n        xsqcup: '',\r\n        xuplus: '',\r\n        xutri: '',\r\n        xvee: '',\r\n        xwedge: '',\r\n        Yacute: '',\r\n        yacute: '',\r\n        YAcy: '',\r\n        yacy: '',\r\n        Ycirc: '',\r\n        ycirc: '',\r\n        Ycy: '',\r\n        ycy: '',\r\n        yen: '',\r\n        Yfr: '',\r\n        yfr: '',\r\n        YIcy: '',\r\n        yicy: '',\r\n        Yopf: '',\r\n        yopf: '',\r\n        Yscr: '',\r\n        yscr: '',\r\n        YUcy: '',\r\n        yucy: '',\r\n        yuml: '',\r\n        Yuml: '',\r\n        Zacute: '',\r\n        zacute: '',\r\n        Zcaron: '',\r\n        zcaron: '',\r\n        Zcy: '',\r\n        zcy: '',\r\n        Zdot: '',\r\n        zdot: '',\r\n        zeetrf: '',\r\n        ZeroWidthSpace: '',\r\n        Zeta: '',\r\n        zeta: '',\r\n        zfr: '',\r\n        Zfr: '',\r\n        ZHcy: '',\r\n        zhcy: '',\r\n        zigrarr: '',\r\n        zopf: '',\r\n        Zopf: '',\r\n        Zscr: '',\r\n        zscr: '',\r\n        zwj: '',\r\n        zwnj: ''\r\n      }\r\n    },\r\n    function (t, e) {\r\n      t.exports = { amp: '&', apos: \"'\", gt: '>', lt: '<', quot: '\"' }\r\n    },\r\n    function (t, e, r) {\r\n      ;(e = t.exports = r(36)),\r\n        (e.Stream = e),\r\n        (e.Readable = e),\r\n        (e.Writable = r(21)),\r\n        (e.Duplex = r(2)),\r\n        (e.Transform = r(39)),\r\n        (e.PassThrough = r(69))\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      ;(function (e, n, i) {\r\n        function o (t) {\r\n          var e = this\r\n          ;(this.next = null),\r\n            (this.entry = null),\r\n            (this.finish = function () {\r\n              A(e, t)\r\n            })\r\n        }\r\n        function a (t) {\r\n          return q.from(t)\r\n        }\r\n        function s (t) {\r\n          return q.isBuffer(t) || t instanceof P\r\n        }\r\n        function u () {}\r\n        function c (t, e) {\r\n          ;(O = O || r(2)), (t = t || {})\r\n          var n = e instanceof O\r\n          ;(this.objectMode = !!t.objectMode), n && (this.objectMode = this.objectMode || !!t.writableObjectMode)\r\n          var i = t.highWaterMark,\r\n            a = t.writableHighWaterMark,\r\n            s = this.objectMode ? 16 : 16384\r\n          ;(this.highWaterMark = i || 0 === i ? i : n && (a || 0 === a) ? a : s),\r\n            (this.highWaterMark = Math.floor(this.highWaterMark)),\r\n            (this.finalCalled = !1),\r\n            (this.needDrain = !1),\r\n            (this.ending = !1),\r\n            (this.ended = !1),\r\n            (this.finished = !1),\r\n            (this.destroyed = !1)\r\n          var u = !1 === t.decodeStrings\r\n          ;(this.decodeStrings = !u),\r\n            (this.defaultEncoding = t.defaultEncoding || 'utf8'),\r\n            (this.length = 0),\r\n            (this.writing = !1),\r\n            (this.corked = 0),\r\n            (this.sync = !0),\r\n            (this.bufferProcessing = !1),\r\n            (this.onwrite = function (t) {\r\n              y(e, t)\r\n            }),\r\n            (this.writecb = null),\r\n            (this.writelen = 0),\r\n            (this.bufferedRequest = null),\r\n            (this.lastBufferedRequest = null),\r\n            (this.pendingcb = 0),\r\n            (this.prefinished = !1),\r\n            (this.errorEmitted = !1),\r\n            (this.bufferedRequestCount = 0),\r\n            (this.corkedRequestsFree = new o(this))\r\n        }\r\n        function l (t) {\r\n          if (((O = O || r(2)), !(R.call(l, this) || this instanceof O))) return new l(t)\r\n          ;(this._writableState = new c(t, this)),\r\n            (this.writable = !0),\r\n            t &&\r\n              ('function' == typeof t.write && (this._write = t.write),\r\n              'function' == typeof t.writev && (this._writev = t.writev),\r\n              'function' == typeof t.destroy && (this._destroy = t.destroy),\r\n              'function' == typeof t.final && (this._final = t.final)),\r\n            D.call(this)\r\n        }\r\n        function f (t, e) {\r\n          var r = new Error('write after end')\r\n          t.emit('error', r), T.nextTick(e, r)\r\n        }\r\n        function h (t, e, r, n) {\r\n          var i = !0,\r\n            o = !1\r\n          return (\r\n            null === r\r\n              ? (o = new TypeError('May not write null values to stream'))\r\n              : 'string' == typeof r ||\r\n                void 0 === r ||\r\n                e.objectMode ||\r\n                (o = new TypeError('Invalid non-string/buffer chunk')),\r\n            o && (t.emit('error', o), T.nextTick(n, o), (i = !1)),\r\n            i\r\n          )\r\n        }\r\n        function p (t, e, r) {\r\n          return t.objectMode || !1 === t.decodeStrings || 'string' != typeof e || (e = q.from(e, r)), e\r\n        }\r\n        function d (t, e, r, n, i, o) {\r\n          if (!r) {\r\n            var a = p(e, n, i)\r\n            n !== a && ((r = !0), (i = 'buffer'), (n = a))\r\n          }\r\n          var s = e.objectMode ? 1 : n.length\r\n          e.length += s\r\n          var u = e.length < e.highWaterMark\r\n          if ((u || (e.needDrain = !0), e.writing || e.corked)) {\r\n            var c = e.lastBufferedRequest\r\n            ;(e.lastBufferedRequest = { chunk: n, encoding: i, isBuf: r, callback: o, next: null }),\r\n              c ? (c.next = e.lastBufferedRequest) : (e.bufferedRequest = e.lastBufferedRequest),\r\n              (e.bufferedRequestCount += 1)\r\n          } else g(t, e, !1, s, n, i, o)\r\n          return u\r\n        }\r\n        function g (t, e, r, n, i, o, a) {\r\n          ;(e.writelen = n),\r\n            (e.writecb = a),\r\n            (e.writing = !0),\r\n            (e.sync = !0),\r\n            r ? t._writev(i, e.onwrite) : t._write(i, o, e.onwrite),\r\n            (e.sync = !1)\r\n        }\r\n        function v (t, e, r, n, i) {\r\n          --e.pendingcb,\r\n            r\r\n              ? (T.nextTick(i, n), T.nextTick(k, t, e), (t._writableState.errorEmitted = !0), t.emit('error', n))\r\n              : (i(n), (t._writableState.errorEmitted = !0), t.emit('error', n), k(t, e))\r\n        }\r\n        function b (t) {\r\n          ;(t.writing = !1), (t.writecb = null), (t.length -= t.writelen), (t.writelen = 0)\r\n        }\r\n        function y (t, e) {\r\n          var r = t._writableState,\r\n            n = r.sync,\r\n            i = r.writecb\r\n          if ((b(r), e)) v(t, r, n, e, i)\r\n          else {\r\n            var o = x(r)\r\n            o || r.corked || r.bufferProcessing || !r.bufferedRequest || w(t, r), n ? L(m, t, r, o, i) : m(t, r, o, i)\r\n          }\r\n        }\r\n        function m (t, e, r, n) {\r\n          r || _(t, e), e.pendingcb--, n(), k(t, e)\r\n        }\r\n        function _ (t, e) {\r\n          0 === e.length && e.needDrain && ((e.needDrain = !1), t.emit('drain'))\r\n        }\r\n        function w (t, e) {\r\n          e.bufferProcessing = !0\r\n          var r = e.bufferedRequest\r\n          if (t._writev && r && r.next) {\r\n            var n = e.bufferedRequestCount,\r\n              i = new Array(n),\r\n              a = e.corkedRequestsFree\r\n            a.entry = r\r\n            for (var s = 0, u = !0; r; ) (i[s] = r), r.isBuf || (u = !1), (r = r.next), (s += 1)\r\n            ;(i.allBuffers = u),\r\n              g(t, e, !0, e.length, i, '', a.finish),\r\n              e.pendingcb++,\r\n              (e.lastBufferedRequest = null),\r\n              a.next ? ((e.corkedRequestsFree = a.next), (a.next = null)) : (e.corkedRequestsFree = new o(e)),\r\n              (e.bufferedRequestCount = 0)\r\n          } else {\r\n            for (; r; ) {\r\n              var c = r.chunk,\r\n                l = r.encoding,\r\n                f = r.callback\r\n              if (\r\n                (g(t, e, !1, e.objectMode ? 1 : c.length, c, l, f), (r = r.next), e.bufferedRequestCount--, e.writing)\r\n              )\r\n                break\r\n            }\r\n            null === r && (e.lastBufferedRequest = null)\r\n          }\r\n          ;(e.bufferedRequest = r), (e.bufferProcessing = !1)\r\n        }\r\n        function x (t) {\r\n          return t.ending && 0 === t.length && null === t.bufferedRequest && !t.finished && !t.writing\r\n        }\r\n        function S (t, e) {\r\n          t._final(function (r) {\r\n            e.pendingcb--, r && t.emit('error', r), (e.prefinished = !0), t.emit('prefinish'), k(t, e)\r\n          })\r\n        }\r\n        function j (t, e) {\r\n          e.prefinished ||\r\n            e.finalCalled ||\r\n            ('function' == typeof t._final\r\n              ? (e.pendingcb++, (e.finalCalled = !0), T.nextTick(S, t, e))\r\n              : ((e.prefinished = !0), t.emit('prefinish')))\r\n        }\r\n        function k (t, e) {\r\n          var r = x(e)\r\n          return r && (j(t, e), 0 === e.pendingcb && ((e.finished = !0), t.emit('finish'))), r\r\n        }\r\n        function E (t, e, r) {\r\n          ;(e.ending = !0),\r\n            k(t, e),\r\n            r && (e.finished ? T.nextTick(r) : t.once('finish', r)),\r\n            (e.ended = !0),\r\n            (t.writable = !1)\r\n        }\r\n        function A (t, e, r) {\r\n          var n = t.entry\r\n          for (t.entry = null; n; ) {\r\n            var i = n.callback\r\n            e.pendingcb--, i(r), (n = n.next)\r\n          }\r\n          e.corkedRequestsFree ? (e.corkedRequestsFree.next = t) : (e.corkedRequestsFree = t)\r\n        }\r\n        var T = r(14)\r\n        t.exports = l\r\n        var O,\r\n          L = !e.browser && ['v0.10', 'v0.9.'].indexOf(e.version.slice(0, 5)) > -1 ? n : T.nextTick\r\n        l.WritableState = c\r\n        var C = r(8)\r\n        C.inherits = r(1)\r\n        var B = { deprecate: r(68) },\r\n          D = r(37),\r\n          q = r(15).Buffer,\r\n          P = i.Uint8Array || function () {},\r\n          M = r(38)\r\n        C.inherits(l, D),\r\n          (c.prototype.getBuffer = function () {\r\n            for (var t = this.bufferedRequest, e = []; t; ) e.push(t), (t = t.next)\r\n            return e\r\n          }),\r\n          (function () {\r\n            try {\r\n              Object.defineProperty(c.prototype, 'buffer', {\r\n                get: B.deprecate(\r\n                  function () {\r\n                    return this.getBuffer()\r\n                  },\r\n                  '_writableState.buffer is deprecated. Use _writableState.getBuffer instead.',\r\n                  'DEP0003'\r\n                )\r\n              })\r\n            } catch (t) {}\r\n          })()\r\n        var R\r\n        'function' == typeof Symbol && Symbol.hasInstance && 'function' == typeof Function.prototype[Symbol.hasInstance]\r\n          ? ((R = Function.prototype[Symbol.hasInstance]),\r\n            Object.defineProperty(l, Symbol.hasInstance, {\r\n              value: function (t) {\r\n                return !!R.call(this, t) || (this === l && (t && t._writableState instanceof c))\r\n              }\r\n            }))\r\n          : (R = function (t) {\r\n              return t instanceof this\r\n            }),\r\n          (l.prototype.pipe = function () {\r\n            this.emit('error', new Error('Cannot pipe, not readable'))\r\n          }),\r\n          (l.prototype.write = function (t, e, r) {\r\n            var n = this._writableState,\r\n              i = !1,\r\n              o = !n.objectMode && s(t)\r\n            return (\r\n              o && !q.isBuffer(t) && (t = a(t)),\r\n              'function' == typeof e && ((r = e), (e = null)),\r\n              o ? (e = 'buffer') : e || (e = n.defaultEncoding),\r\n              'function' != typeof r && (r = u),\r\n              n.ended ? f(this, r) : (o || h(this, n, t, r)) && (n.pendingcb++, (i = d(this, n, o, t, e, r))),\r\n              i\r\n            )\r\n          }),\r\n          (l.prototype.cork = function () {\r\n            this._writableState.corked++\r\n          }),\r\n          (l.prototype.uncork = function () {\r\n            var t = this._writableState\r\n            t.corked &&\r\n              (t.corked--,\r\n              t.writing || t.corked || t.finished || t.bufferProcessing || !t.bufferedRequest || w(this, t))\r\n          }),\r\n          (l.prototype.setDefaultEncoding = function (t) {\r\n            if (\r\n              ('string' == typeof t && (t = t.toLowerCase()),\r\n              !(\r\n                [\r\n                  'hex',\r\n                  'utf8',\r\n                  'utf-8',\r\n                  'ascii',\r\n                  'binary',\r\n                  'base64',\r\n                  'ucs2',\r\n                  'ucs-2',\r\n                  'utf16le',\r\n                  'utf-16le',\r\n                  'raw'\r\n                ].indexOf((t + '').toLowerCase()) > -1\r\n              ))\r\n            )\r\n              throw new TypeError('Unknown encoding: ' + t)\r\n            return (this._writableState.defaultEncoding = t), this\r\n          }),\r\n          Object.defineProperty(l.prototype, 'writableHighWaterMark', {\r\n            enumerable: !1,\r\n            get: function () {\r\n              return this._writableState.highWaterMark\r\n            }\r\n          }),\r\n          (l.prototype._write = function (t, e, r) {\r\n            r(new Error('_write() is not implemented'))\r\n          }),\r\n          (l.prototype._writev = null),\r\n          (l.prototype.end = function (t, e, r) {\r\n            var n = this._writableState\r\n            'function' == typeof t\r\n              ? ((r = t), (t = null), (e = null))\r\n              : 'function' == typeof e && ((r = e), (e = null)),\r\n              null !== t && void 0 !== t && this.write(t, e),\r\n              n.corked && ((n.corked = 1), this.uncork()),\r\n              n.ending || n.finished || E(this, n, r)\r\n          }),\r\n          Object.defineProperty(l.prototype, 'destroyed', {\r\n            get: function () {\r\n              return void 0 !== this._writableState && this._writableState.destroyed\r\n            },\r\n            set: function (t) {\r\n              this._writableState && (this._writableState.destroyed = t)\r\n            }\r\n          }),\r\n          (l.prototype.destroy = M.destroy),\r\n          (l.prototype._undestroy = M.undestroy),\r\n          (l.prototype._destroy = function (t, e) {\r\n            this.end(), e(t)\r\n          })\r\n      }.call(e, r(7), r(66).setImmediate, r(0)))\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      function n (t) {\r\n        if (!t) return 'utf8'\r\n        for (var e; ; )\r\n          switch (t) {\r\n            case 'utf8':\r\n            case 'utf-8':\r\n              return 'utf8'\r\n            case 'ucs2':\r\n            case 'ucs-2':\r\n            case 'utf16le':\r\n            case 'utf-16le':\r\n              return 'utf16le'\r\n            case 'latin1':\r\n            case 'binary':\r\n              return 'latin1'\r\n            case 'base64':\r\n            case 'ascii':\r\n            case 'hex':\r\n              return t\r\n            default:\r\n              if (e) return\r\n              ;(t = ('' + t).toLowerCase()), (e = !0)\r\n          }\r\n      }\r\n      function i (t) {\r\n        var e = n(t)\r\n        if ('string' != typeof e && (y.isEncoding === m || !m(t))) throw new Error('Unknown encoding: ' + t)\r\n        return e || t\r\n      }\r\n      function o (t) {\r\n        this.encoding = i(t)\r\n        var e\r\n        switch (this.encoding) {\r\n          case 'utf16le':\r\n            ;(this.text = h), (this.end = p), (e = 4)\r\n            break\r\n          case 'utf8':\r\n            ;(this.fillLast = c), (e = 4)\r\n            break\r\n          case 'base64':\r\n            ;(this.text = d), (this.end = g), (e = 3)\r\n            break\r\n          default:\r\n            return (this.write = v), void (this.end = b)\r\n        }\r\n        ;(this.lastNeed = 0), (this.lastTotal = 0), (this.lastChar = y.allocUnsafe(e))\r\n      }\r\n      function a (t) {\r\n        return t <= 127 ? 0 : t >> 5 == 6 ? 2 : t >> 4 == 14 ? 3 : t >> 3 == 30 ? 4 : t >> 6 == 2 ? -1 : -2\r\n      }\r\n      function s (t, e, r) {\r\n        var n = e.length - 1\r\n        if (n < r) return 0\r\n        var i = a(e[n])\r\n        return i >= 0\r\n          ? (i > 0 && (t.lastNeed = i - 1), i)\r\n          : --n < r || -2 === i\r\n          ? 0\r\n          : (i = a(e[n])) >= 0\r\n          ? (i > 0 && (t.lastNeed = i - 2), i)\r\n          : --n < r || -2 === i\r\n          ? 0\r\n          : ((i = a(e[n])), i >= 0 ? (i > 0 && (2 === i ? (i = 0) : (t.lastNeed = i - 3)), i) : 0)\r\n      }\r\n      function u (t, e, r) {\r\n        if (128 != (192 & e[0])) return (t.lastNeed = 0), ''\r\n        if (t.lastNeed > 1 && e.length > 1) {\r\n          if (128 != (192 & e[1])) return (t.lastNeed = 1), ''\r\n          if (t.lastNeed > 2 && e.length > 2 && 128 != (192 & e[2])) return (t.lastNeed = 2), ''\r\n        }\r\n      }\r\n      function c (t) {\r\n        var e = this.lastTotal - this.lastNeed,\r\n          r = u(this, t, e)\r\n        return void 0 !== r\r\n          ? r\r\n          : this.lastNeed <= t.length\r\n          ? (t.copy(this.lastChar, e, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal))\r\n          : (t.copy(this.lastChar, e, 0, t.length), void (this.lastNeed -= t.length))\r\n      }\r\n      function l (t, e) {\r\n        var r = s(this, t, e)\r\n        if (!this.lastNeed) return t.toString('utf8', e)\r\n        this.lastTotal = r\r\n        var n = t.length - (r - this.lastNeed)\r\n        return t.copy(this.lastChar, 0, n), t.toString('utf8', e, n)\r\n      }\r\n      function f (t) {\r\n        var e = t && t.length ? this.write(t) : ''\r\n        return this.lastNeed ? e + '' : e\r\n      }\r\n      function h (t, e) {\r\n        if ((t.length - e) % 2 == 0) {\r\n          var r = t.toString('utf16le', e)\r\n          if (r) {\r\n            var n = r.charCodeAt(r.length - 1)\r\n            if (n >= 55296 && n <= 56319)\r\n              return (\r\n                (this.lastNeed = 2),\r\n                (this.lastTotal = 4),\r\n                (this.lastChar[0] = t[t.length - 2]),\r\n                (this.lastChar[1] = t[t.length - 1]),\r\n                r.slice(0, -1)\r\n              )\r\n          }\r\n          return r\r\n        }\r\n        return (\r\n          (this.lastNeed = 1),\r\n          (this.lastTotal = 2),\r\n          (this.lastChar[0] = t[t.length - 1]),\r\n          t.toString('utf16le', e, t.length - 1)\r\n        )\r\n      }\r\n      function p (t) {\r\n        var e = t && t.length ? this.write(t) : ''\r\n        if (this.lastNeed) {\r\n          var r = this.lastTotal - this.lastNeed\r\n          return e + this.lastChar.toString('utf16le', 0, r)\r\n        }\r\n        return e\r\n      }\r\n      function d (t, e) {\r\n        var r = (t.length - e) % 3\r\n        return 0 === r\r\n          ? t.toString('base64', e)\r\n          : ((this.lastNeed = 3 - r),\r\n            (this.lastTotal = 3),\r\n            1 === r\r\n              ? (this.lastChar[0] = t[t.length - 1])\r\n              : ((this.lastChar[0] = t[t.length - 2]), (this.lastChar[1] = t[t.length - 1])),\r\n            t.toString('base64', e, t.length - r))\r\n      }\r\n      function g (t) {\r\n        var e = t && t.length ? this.write(t) : ''\r\n        return this.lastNeed ? e + this.lastChar.toString('base64', 0, 3 - this.lastNeed) : e\r\n      }\r\n      function v (t) {\r\n        return t.toString(this.encoding)\r\n      }\r\n      function b (t) {\r\n        return t && t.length ? this.write(t) : ''\r\n      }\r\n      var y = r(15).Buffer,\r\n        m =\r\n          y.isEncoding ||\r\n          function (t) {\r\n            switch ((t = '' + t) && t.toLowerCase()) {\r\n              case 'hex':\r\n              case 'utf8':\r\n              case 'utf-8':\r\n              case 'ascii':\r\n              case 'binary':\r\n              case 'base64':\r\n              case 'ucs2':\r\n              case 'ucs-2':\r\n              case 'utf16le':\r\n              case 'utf-16le':\r\n              case 'raw':\r\n                return !0\r\n              default:\r\n                return !1\r\n            }\r\n          }\r\n      ;(e.StringDecoder = o),\r\n        (o.prototype.write = function (t) {\r\n          if (0 === t.length) return ''\r\n          var e, r\r\n          if (this.lastNeed) {\r\n            if (void 0 === (e = this.fillLast(t))) return ''\r\n            ;(r = this.lastNeed), (this.lastNeed = 0)\r\n          } else r = 0\r\n          return r < t.length ? (e ? e + this.text(t, r) : this.text(t, r)) : e || ''\r\n        }),\r\n        (o.prototype.end = f),\r\n        (o.prototype.text = l),\r\n        (o.prototype.fillLast = function (t) {\r\n          if (this.lastNeed <= t.length)\r\n            return (\r\n              t.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed),\r\n              this.lastChar.toString(this.encoding, 0, this.lastTotal)\r\n            )\r\n          t.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, t.length), (this.lastNeed -= t.length)\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      function n (t, e) {\r\n        if (t) {\r\n          var r,\r\n            n = ''\r\n          for (var i in t)\r\n            (r = t[i]),\r\n              n && (n += ' '),\r\n              !r && f[i] ? (n += i) : (n += i + '=\"' + (e.decodeEntities ? l.encodeXML(r) : r) + '\"')\r\n          return n\r\n        }\r\n      }\r\n      function i (t, e) {\r\n        'svg' === t.name && (e = { decodeEntities: e.decodeEntities, xmlMode: !0 })\r\n        var r = '<' + t.name,\r\n          i = n(t.attribs, e)\r\n        return (\r\n          i && (r += ' ' + i),\r\n          !e.xmlMode || (t.children && 0 !== t.children.length)\r\n            ? ((r += '>'),\r\n              t.children && (r += d(t.children, e)),\r\n              (p[t.name] && !e.xmlMode) || (r += '</' + t.name + '>'))\r\n            : (r += '/>'),\r\n          r\r\n        )\r\n      }\r\n      function o (t) {\r\n        return '<' + t.data + '>'\r\n      }\r\n      function a (t, e) {\r\n        var r = t.data || ''\r\n        return !e.decodeEntities || (t.parent && t.parent.name in h) || (r = l.encodeXML(r)), r\r\n      }\r\n      function s (t) {\r\n        return '<![CDATA[' + t.children[0].data + ']]>'\r\n      }\r\n      function u (t) {\r\n        return '\\x3c!--' + t.data + '--\\x3e'\r\n      }\r\n      var c = r(77),\r\n        l = r(78),\r\n        f = {\r\n          __proto__: null,\r\n          allowfullscreen: !0,\r\n          async: !0,\r\n          autofocus: !0,\r\n          autoplay: !0,\r\n          checked: !0,\r\n          controls: !0,\r\n          default: !0,\r\n          defer: !0,\r\n          disabled: !0,\r\n          hidden: !0,\r\n          ismap: !0,\r\n          loop: !0,\r\n          multiple: !0,\r\n          muted: !0,\r\n          open: !0,\r\n          readonly: !0,\r\n          required: !0,\r\n          reversed: !0,\r\n          scoped: !0,\r\n          seamless: !0,\r\n          selected: !0,\r\n          typemustmatch: !0\r\n        },\r\n        h = {\r\n          __proto__: null,\r\n          style: !0,\r\n          script: !0,\r\n          xmp: !0,\r\n          iframe: !0,\r\n          noembed: !0,\r\n          noframes: !0,\r\n          plaintext: !0,\r\n          noscript: !0\r\n        },\r\n        p = {\r\n          __proto__: null,\r\n          area: !0,\r\n          base: !0,\r\n          basefont: !0,\r\n          br: !0,\r\n          col: !0,\r\n          command: !0,\r\n          embed: !0,\r\n          frame: !0,\r\n          hr: !0,\r\n          img: !0,\r\n          input: !0,\r\n          isindex: !0,\r\n          keygen: !0,\r\n          link: !0,\r\n          meta: !0,\r\n          param: !0,\r\n          source: !0,\r\n          track: !0,\r\n          wbr: !0\r\n        },\r\n        d = (t.exports = function (t, e) {\r\n          Array.isArray(t) || t.cheerio || (t = [t]), (e = e || {})\r\n          for (var r = '', n = 0; n < t.length; n++) {\r\n            var l = t[n]\r\n            'root' === l.type\r\n              ? (r += d(l.children, e))\r\n              : c.isTag(l)\r\n              ? (r += i(l, e))\r\n              : l.type === c.Directive\r\n              ? (r += o(l))\r\n              : l.type === c.Comment\r\n              ? (r += u(l))\r\n              : l.type === c.CDATA\r\n              ? (r += s(l))\r\n              : (r += a(l, e))\r\n          }\r\n          return r\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      ;(function (e) {\r\n        function r (t, e, r) {\r\n          switch (r.length) {\r\n            case 0:\r\n              return t.call(e)\r\n            case 1:\r\n              return t.call(e, r[0])\r\n            case 2:\r\n              return t.call(e, r[0], r[1])\r\n            case 3:\r\n              return t.call(e, r[0], r[1], r[2])\r\n          }\r\n          return t.apply(e, r)\r\n        }\r\n        function n (t, e) {\r\n          for (var r = -1, n = t ? t.length : 0; ++r < n && !1 !== e(t[r], r, t); );\r\n          return t\r\n        }\r\n        function i (t, e) {\r\n          return !!(t ? t.length : 0) && a(t, e, 0) > -1\r\n        }\r\n        function o (t, e, r, n) {\r\n          for (var i = t.length, o = r + (n ? 1 : -1); n ? o-- : ++o < i; ) if (e(t[o], o, t)) return o\r\n          return -1\r\n        }\r\n        function a (t, e, r) {\r\n          if (e !== e) return o(t, s, r)\r\n          for (var n = r - 1, i = t.length; ++n < i; ) if (t[n] === e) return n\r\n          return -1\r\n        }\r\n        function s (t) {\r\n          return t !== t\r\n        }\r\n        function u (t, e) {\r\n          for (var r = t.length, n = 0; r--; ) t[r] === e && n++\r\n          return n\r\n        }\r\n        function c (t, e) {\r\n          return null == t ? void 0 : t[e]\r\n        }\r\n        function l (t) {\r\n          var e = !1\r\n          if (null != t && 'function' != typeof t.toString)\r\n            try {\r\n              e = !!(t + '')\r\n            } catch (t) {}\r\n          return e\r\n        }\r\n        function f (t, e) {\r\n          for (var r = -1, n = t.length, i = 0, o = []; ++r < n; ) {\r\n            var a = t[r]\r\n            ;(a !== e && a !== V) || ((t[r] = V), (o[i++] = r))\r\n          }\r\n          return o\r\n        }\r\n        function h (t) {\r\n          return q(t) ? Ot(t) : {}\r\n        }\r\n        function p (t) {\r\n          return !(!q(t) || O(t)) && (D(t) || l(t) ? Tt : dt).test(C(t))\r\n        }\r\n        function d (t, e, r, n) {\r\n          for (\r\n            var i = -1, o = t.length, a = r.length, s = -1, u = e.length, c = Lt(o - a, 0), l = Array(u + c), f = !n;\r\n            ++s < u;\r\n\r\n          )\r\n            l[s] = e[s]\r\n          for (; ++i < a; ) (f || i < o) && (l[r[i]] = t[i])\r\n          for (; c--; ) l[s++] = t[i++]\r\n          return l\r\n        }\r\n        function g (t, e, r, n) {\r\n          for (\r\n            var i = -1,\r\n              o = t.length,\r\n              a = -1,\r\n              s = r.length,\r\n              u = -1,\r\n              c = e.length,\r\n              l = Lt(o - s, 0),\r\n              f = Array(l + c),\r\n              h = !n;\r\n            ++i < l;\r\n\r\n          )\r\n            f[i] = t[i]\r\n          for (var p = i; ++u < c; ) f[p + u] = e[u]\r\n          for (; ++a < s; ) (h || i < o) && (f[p + r[a]] = t[i++])\r\n          return f\r\n        }\r\n        function v (t, e) {\r\n          var r = -1,\r\n            n = t.length\r\n          for (e || (e = Array(n)); ++r < n; ) e[r] = t[r]\r\n          return e\r\n        }\r\n        function b (t, e, r) {\r\n          function n () {\r\n            return (this && this !== _t && this instanceof n ? o : t).apply(i ? r : this, arguments)\r\n          }\r\n          var i = e & $,\r\n            o = y(t)\r\n          return n\r\n        }\r\n        function y (t) {\r\n          return function () {\r\n            var e = arguments\r\n            switch (e.length) {\r\n              case 0:\r\n                return new t()\r\n              case 1:\r\n                return new t(e[0])\r\n              case 2:\r\n                return new t(e[0], e[1])\r\n              case 3:\r\n                return new t(e[0], e[1], e[2])\r\n              case 4:\r\n                return new t(e[0], e[1], e[2], e[3])\r\n              case 5:\r\n                return new t(e[0], e[1], e[2], e[3], e[4])\r\n              case 6:\r\n                return new t(e[0], e[1], e[2], e[3], e[4], e[5])\r\n              case 7:\r\n                return new t(e[0], e[1], e[2], e[3], e[4], e[5], e[6])\r\n            }\r\n            var r = h(t.prototype),\r\n              n = t.apply(r, e)\r\n            return q(n) ? n : r\r\n          }\r\n        }\r\n        function m (t, e, n) {\r\n          function i () {\r\n            for (var a = arguments.length, s = Array(a), u = a, c = j(i); u--; ) s[u] = arguments[u]\r\n            var l = a < 3 && s[0] !== c && s[a - 1] !== c ? [] : f(s, c)\r\n            return (a -= l.length) < n\r\n              ? x(t, e, _, i.placeholder, void 0, s, l, void 0, void 0, n - a)\r\n              : r(this && this !== _t && this instanceof i ? o : t, this, s)\r\n          }\r\n          var o = y(t)\r\n          return i\r\n        }\r\n        function _ (t, e, r, n, i, o, a, s, c, l) {\r\n          function h () {\r\n            for (var k = arguments.length, E = Array(k), A = k; A--; ) E[A] = arguments[A]\r\n            if (m)\r\n              var T = j(h),\r\n                O = u(E, T)\r\n            if ((n && (E = d(E, n, i, m)), o && (E = g(E, o, a, m)), (k -= O), m && k < l)) {\r\n              var C = f(E, T)\r\n              return x(t, e, _, h.placeholder, r, E, C, s, c, l - k)\r\n            }\r\n            var B = v ? r : this,\r\n              D = b ? B[t] : t\r\n            return (\r\n              (k = E.length),\r\n              s ? (E = L(E, s)) : w && k > 1 && E.reverse(),\r\n              p && c < k && (E.length = c),\r\n              this && this !== _t && this instanceof h && (D = S || y(D)),\r\n              D.apply(B, E)\r\n            )\r\n          }\r\n          var p = e & X,\r\n            v = e & $,\r\n            b = e & H,\r\n            m = e & (G | Y),\r\n            w = e & Z,\r\n            S = b ? void 0 : y(t)\r\n          return h\r\n        }\r\n        function w (t, e, n, i) {\r\n          function o () {\r\n            for (\r\n              var e = -1,\r\n                u = arguments.length,\r\n                c = -1,\r\n                l = i.length,\r\n                f = Array(l + u),\r\n                h = this && this !== _t && this instanceof o ? s : t;\r\n              ++c < l;\r\n\r\n            )\r\n              f[c] = i[c]\r\n            for (; u--; ) f[c++] = arguments[++e]\r\n            return r(h, a ? n : this, f)\r\n          }\r\n          var a = e & $,\r\n            s = y(t)\r\n          return o\r\n        }\r\n        function x (t, e, r, n, i, o, a, s, u, c) {\r\n          var l = e & G,\r\n            f = l ? a : void 0,\r\n            h = l ? void 0 : a,\r\n            p = l ? o : void 0,\r\n            d = l ? void 0 : o\r\n          ;(e |= l ? J : Q), (e &= ~(l ? Q : J)) & W || (e &= ~($ | H))\r\n          var g = r(t, e, i, p, f, d, h, s, u, c)\r\n          return (g.placeholder = n), Dt(g, t, e)\r\n        }\r\n        function S (t, e, r, n, i, o, a, s) {\r\n          var u = e & H\r\n          if (!u && 'function' != typeof t) throw new TypeError(z)\r\n          var c = n ? n.length : 0\r\n          if (\r\n            (c || ((e &= ~(J | Q)), (n = i = void 0)),\r\n            (a = void 0 === a ? a : Lt(I(a), 0)),\r\n            (s = void 0 === s ? s : I(s)),\r\n            (c -= i ? i.length : 0),\r\n            e & Q)\r\n          ) {\r\n            var l = n,\r\n              f = i\r\n            n = i = void 0\r\n          }\r\n          var h = [t, e, r, n, i, l, f, o, a, s]\r\n          if (\r\n            ((t = h[0]),\r\n            (e = h[1]),\r\n            (r = h[2]),\r\n            (n = h[3]),\r\n            (i = h[4]),\r\n            (s = h[9] = null == h[9] ? (u ? 0 : t.length) : Lt(h[9] - c, 0)),\r\n            !s && e & (G | Y) && (e &= ~(G | Y)),\r\n            e && e != $)\r\n          )\r\n            p =\r\n              e == G || e == Y ? m(t, e, s) : (e != J && e != ($ | J)) || i.length ? _.apply(void 0, h) : w(t, e, r, n)\r\n          else var p = b(t, e, r)\r\n          return Dt(p, t, e)\r\n        }\r\n        function j (t) {\r\n          return t.placeholder\r\n        }\r\n        function k (t, e) {\r\n          var r = c(t, e)\r\n          return p(r) ? r : void 0\r\n        }\r\n        function E (t) {\r\n          var e = t.match(lt)\r\n          return e ? e[1].split(ft) : []\r\n        }\r\n        function A (t, e) {\r\n          var r = e.length,\r\n            n = r - 1\r\n          return (\r\n            (e[n] = (r > 1 ? '& ' : '') + e[n]),\r\n            (e = e.join(r > 2 ? ', ' : ' ')),\r\n            t.replace(ct, '{\\n/* [wrapped with ' + e + '] */\\n')\r\n          )\r\n        }\r\n        function T (t, e) {\r\n          return !!(e = null == e ? tt : e) && ('number' == typeof t || vt.test(t)) && t > -1 && t % 1 == 0 && t < e\r\n        }\r\n        function O (t) {\r\n          return !!jt && jt in t\r\n        }\r\n        function L (t, e) {\r\n          for (var r = t.length, n = Ct(e.length, r), i = v(t); n--; ) {\r\n            var o = e[n]\r\n            t[n] = T(o, r) ? i[o] : void 0\r\n          }\r\n          return t\r\n        }\r\n        function C (t) {\r\n          if (null != t) {\r\n            try {\r\n              return kt.call(t)\r\n            } catch (t) {}\r\n            try {\r\n              return t + ''\r\n            } catch (t) {}\r\n          }\r\n          return ''\r\n        }\r\n        function B (t, e) {\r\n          return (\r\n            n(nt, function (r) {\r\n              var n = '_.' + r[0]\r\n              e & r[1] && !i(t, n) && t.push(n)\r\n            }),\r\n            t.sort()\r\n          )\r\n        }\r\n        function D (t) {\r\n          var e = q(t) ? At.call(t) : ''\r\n          return e == it || e == ot\r\n        }\r\n        function q (t) {\r\n          var e = typeof t\r\n          return !!t && ('object' == e || 'function' == e)\r\n        }\r\n        function P (t) {\r\n          return !!t && 'object' == typeof t\r\n        }\r\n        function M (t) {\r\n          return 'symbol' == typeof t || (P(t) && At.call(t) == at)\r\n        }\r\n        function R (t) {\r\n          if (!t) return 0 === t ? t : 0\r\n          if ((t = N(t)) === K || t === -K) {\r\n            return (t < 0 ? -1 : 1) * et\r\n          }\r\n          return t === t ? t : 0\r\n        }\r\n        function I (t) {\r\n          var e = R(t),\r\n            r = e % 1\r\n          return e === e ? (r ? e - r : e) : 0\r\n        }\r\n        function N (t) {\r\n          if ('number' == typeof t) return t\r\n          if (M(t)) return rt\r\n          if (q(t)) {\r\n            var e = 'function' == typeof t.valueOf ? t.valueOf() : t\r\n            t = q(e) ? e + '' : e\r\n          }\r\n          if ('string' != typeof t) return 0 === t ? t : +t\r\n          t = t.replace(ut, '')\r\n          var r = pt.test(t)\r\n          return r || gt.test(t) ? bt(t.slice(2), r ? 2 : 8) : ht.test(t) ? rt : +t\r\n        }\r\n        function U (t) {\r\n          return function () {\r\n            return t\r\n          }\r\n        }\r\n        function F (t) {\r\n          return t\r\n        }\r\n        var z = 'Expected a function',\r\n          V = '__lodash_placeholder__',\r\n          $ = 1,\r\n          H = 2,\r\n          W = 4,\r\n          G = 8,\r\n          Y = 16,\r\n          J = 32,\r\n          Q = 64,\r\n          X = 128,\r\n          Z = 512,\r\n          K = 1 / 0,\r\n          tt = 9007199254740991,\r\n          et = 1.7976931348623157e308,\r\n          rt = NaN,\r\n          nt = [\r\n            ['ary', X],\r\n            ['bind', $],\r\n            ['bindKey', H],\r\n            ['curry', G],\r\n            ['curryRight', Y],\r\n            ['flip', Z],\r\n            ['partial', J],\r\n            ['partialRight', Q],\r\n            ['rearg', 256]\r\n          ],\r\n          it = '[object Function]',\r\n          ot = '[object GeneratorFunction]',\r\n          at = '[object Symbol]',\r\n          st = /[\\\\^$.*+?()[\\]{}|]/g,\r\n          ut = /^\\s+|\\s+$/g,\r\n          ct = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\r\n          lt = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\r\n          ft = /,? & /,\r\n          ht = /^[-+]0x[0-9a-f]+$/i,\r\n          pt = /^0b[01]+$/i,\r\n          dt = /^\\[object .+?Constructor\\]$/,\r\n          gt = /^0o[0-7]+$/i,\r\n          vt = /^(?:0|[1-9]\\d*)$/,\r\n          bt = parseInt,\r\n          yt = 'object' == typeof e && e && e.Object === Object && e,\r\n          mt = 'object' == typeof self && self && self.Object === Object && self,\r\n          _t = yt || mt || Function('return this')(),\r\n          wt = Function.prototype,\r\n          xt = Object.prototype,\r\n          St = _t['__core-js_shared__'],\r\n          jt = (function () {\r\n            var t = /[^.]+$/.exec((St && St.keys && St.keys.IE_PROTO) || '')\r\n            return t ? 'Symbol(src)_1.' + t : ''\r\n          })(),\r\n          kt = wt.toString,\r\n          Et = xt.hasOwnProperty,\r\n          At = xt.toString,\r\n          Tt = RegExp(\r\n            '^' +\r\n              kt\r\n                .call(Et)\r\n                .replace(st, '\\\\$&')\r\n                .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') +\r\n              '$'\r\n          ),\r\n          Ot = Object.create,\r\n          Lt = Math.max,\r\n          Ct = Math.min,\r\n          Bt = (function () {\r\n            var t = k(Object, 'defineProperty'),\r\n              e = k.name\r\n            return e && e.length > 2 ? t : void 0\r\n          })(),\r\n          Dt = Bt\r\n            ? function (t, e, r) {\r\n                var n = e + ''\r\n                return Bt(t, 'toString', { configurable: !0, enumerable: !1, value: U(A(n, B(E(n), r))) })\r\n              }\r\n            : F,\r\n          qt = (function (t, e) {\r\n            return (\r\n              (e = Lt(void 0 === e ? t.length - 1 : e, 0)),\r\n              function () {\r\n                for (var n = arguments, i = -1, o = Lt(n.length - e, 0), a = Array(o); ++i < o; ) a[i] = n[e + i]\r\n                i = -1\r\n                for (var s = Array(e + 1); ++i < e; ) s[i] = n[i]\r\n                return (s[e] = a), r(t, this, s)\r\n              }\r\n            )\r\n          })(function (t, e, r) {\r\n            var n = $\r\n            if (r.length) {\r\n              var i = f(r, j(qt))\r\n              n |= J\r\n            }\r\n            return S(t, n, e, r, i)\r\n          })\r\n        ;(qt.placeholder = {}), (t.exports = qt)\r\n      }.call(e, r(0)))\r\n    },\r\n    function (t, e, r) {\r\n      function n (t, e, r) {\r\n        if (e) 'string' == typeof e && (e = o(e, t._root, r))\r\n        else {\r\n          if (!t._root || !t._root.children) return ''\r\n          e = t._root.children\r\n        }\r\n        return i(e, r)\r\n      }\r\n      var i = r(23),\r\n        o = r(42),\r\n        a = r(11),\r\n        s = { merge: r(95), defaults: r(41) }\r\n      ;(e.load = function (t, n) {\r\n        var i = r(17)\r\n        n = s.defaults(n || {}, i.prototype.options)\r\n        var o = a(t, n),\r\n          u = function (t, e, r, a) {\r\n            return this instanceof u ? ((a = s.defaults(a || {}, n)), i.call(this, t, e, r || o, a)) : new u(t, e, r, a)\r\n          }\r\n        return (\r\n          (u.prototype = Object.create(i.prototype)),\r\n          (u.prototype.constructor = u),\r\n          (u.fn = u.prototype),\r\n          (u.prototype._originalRoot = o),\r\n          s.merge(u, e),\r\n          (u._root = o),\r\n          (u._options = n),\r\n          u\r\n        )\r\n      }),\r\n        (e.html = function (t, e) {\r\n          var i = r(17)\r\n          return (\r\n            '[object Object]' !== Object.prototype.toString.call(t) ||\r\n              e ||\r\n              'length' in t ||\r\n              'type' in t ||\r\n              ((e = t), (t = void 0)),\r\n            (e = s.defaults(e || {}, this._options, i.prototype.options)),\r\n            n(this, t, e)\r\n          )\r\n        }),\r\n        (e.xml = function (t) {\r\n          return n(this, t, s.defaults({ xmlMode: !0 }, this._options))\r\n        }),\r\n        (e.text = function (t) {\r\n          t || (t = this.root())\r\n          for (var r, n = '', i = t.length, o = 0; o < i; o++)\r\n            (r = t[o]),\r\n              'text' === r.type ? (n += r.data) : r.children && 'comment' !== r.type && (n += e.text(r.children))\r\n          return n\r\n        }),\r\n        (e.parseHTML = function (t, e, r) {\r\n          var n\r\n          return t && 'string' == typeof t\r\n            ? ('boolean' == typeof e && (r = e),\r\n              (n = this.load(t)),\r\n              r || n('script').remove(),\r\n              n.root()[0].children.slice())\r\n            : null\r\n        }),\r\n        (e.root = function () {\r\n          return this(this._root)\r\n        }),\r\n        (e.contains = function (t, e) {\r\n          if (e === t) return !1\r\n          for (; e && e !== e.parent; ) if ((e = e.parent) === t) return !0\r\n          return !1\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      function n (t) {\r\n        for (var e = 0; t && e < t.length; e++) if (u(t[e])) return t[e]\r\n      }\r\n      function i (t, e) {\r\n        var r = { name: t, value: e }\r\n        return function (t) {\r\n          return b(t, r)\r\n        }\r\n      }\r\n      function o (t) {\r\n        return function (e) {\r\n          return !!l(e) && t(e)\r\n        }\r\n      }\r\n      function a (t, e, r) {\r\n        if (null === r) {\r\n          if (t.length > 1 && 'scope' !== e) throw new SyntaxError('pseudo-selector :' + e + ' requires an argument')\r\n        } else if (1 === t.length) throw new SyntaxError('pseudo-selector :' + e + \" doesn't have any arguments\")\r\n      }\r\n      var s = r(4),\r\n        u = s.isTag,\r\n        c = s.getText,\r\n        l = s.getParent,\r\n        f = s.getChildren,\r\n        h = s.getSiblings,\r\n        p = s.hasAttrib,\r\n        d = s.getName,\r\n        g = s.getAttributeValue,\r\n        v = r(88),\r\n        b = r(43).rules.equals,\r\n        y = r(10),\r\n        m = y.trueFunc,\r\n        _ = y.falseFunc,\r\n        w = {\r\n          contains: function (t, e) {\r\n            return function (r) {\r\n              return t(r) && c(r).indexOf(e) >= 0\r\n            }\r\n          },\r\n          icontains: function (t, e) {\r\n            var r = e.toLowerCase()\r\n            return function (e) {\r\n              return (\r\n                t(e) &&\r\n                c(e)\r\n                  .toLowerCase()\r\n                  .indexOf(r) >= 0\r\n              )\r\n            }\r\n          },\r\n          'nth-child': function (t, e) {\r\n            var r = v(e)\r\n            return r === _\r\n              ? r\r\n              : r === m\r\n              ? o(t)\r\n              : function (e) {\r\n                  for (var n = h(e), i = 0, o = 0; i < n.length; i++)\r\n                    if (u(n[i])) {\r\n                      if (n[i] === e) break\r\n                      o++\r\n                    }\r\n                  return r(o) && t(e)\r\n                }\r\n          },\r\n          'nth-last-child': function (t, e) {\r\n            var r = v(e)\r\n            return r === _\r\n              ? r\r\n              : r === m\r\n              ? o(t)\r\n              : function (e) {\r\n                  for (var n = h(e), i = 0, o = n.length - 1; o >= 0; o--)\r\n                    if (u(n[o])) {\r\n                      if (n[o] === e) break\r\n                      i++\r\n                    }\r\n                  return r(i) && t(e)\r\n                }\r\n          },\r\n          'nth-of-type': function (t, e) {\r\n            var r = v(e)\r\n            return r === _\r\n              ? r\r\n              : r === m\r\n              ? o(t)\r\n              : function (e) {\r\n                  for (var n = h(e), i = 0, o = 0; o < n.length; o++)\r\n                    if (u(n[o])) {\r\n                      if (n[o] === e) break\r\n                      d(n[o]) === d(e) && i++\r\n                    }\r\n                  return r(i) && t(e)\r\n                }\r\n          },\r\n          'nth-last-of-type': function (t, e) {\r\n            var r = v(e)\r\n            return r === _\r\n              ? r\r\n              : r === m\r\n              ? o(t)\r\n              : function (e) {\r\n                  for (var n = h(e), i = 0, o = n.length - 1; o >= 0; o--)\r\n                    if (u(n[o])) {\r\n                      if (n[o] === e) break\r\n                      d(n[o]) === d(e) && i++\r\n                    }\r\n                  return r(i) && t(e)\r\n                }\r\n          },\r\n          root: function (t) {\r\n            return function (e) {\r\n              return !l(e) && t(e)\r\n            }\r\n          },\r\n          scope: function (t, e, r, n) {\r\n            return n && 0 !== n.length\r\n              ? 1 === n.length\r\n                ? function (e) {\r\n                    return n[0] === e && t(e)\r\n                  }\r\n                : function (e) {\r\n                    return n.indexOf(e) >= 0 && t(e)\r\n                  }\r\n              : w.root(t)\r\n          },\r\n          checkbox: i('type', 'checkbox'),\r\n          file: i('type', 'file'),\r\n          password: i('type', 'password'),\r\n          radio: i('type', 'radio'),\r\n          reset: i('type', 'reset'),\r\n          image: i('type', 'image'),\r\n          submit: i('type', 'submit')\r\n        },\r\n        x = {\r\n          empty: function (t) {\r\n            return !f(t).some(function (t) {\r\n              return u(t) || 'text' === t.type\r\n            })\r\n          },\r\n          'first-child': function (t) {\r\n            return n(h(t)) === t\r\n          },\r\n          'last-child': function (t) {\r\n            for (var e = h(t), r = e.length - 1; r >= 0; r--) {\r\n              if (e[r] === t) return !0\r\n              if (u(e[r])) break\r\n            }\r\n            return !1\r\n          },\r\n          'first-of-type': function (t) {\r\n            for (var e = h(t), r = 0; r < e.length; r++)\r\n              if (u(e[r])) {\r\n                if (e[r] === t) return !0\r\n                if (d(e[r]) === d(t)) break\r\n              }\r\n            return !1\r\n          },\r\n          'last-of-type': function (t) {\r\n            for (var e = h(t), r = e.length - 1; r >= 0; r--)\r\n              if (u(e[r])) {\r\n                if (e[r] === t) return !0\r\n                if (d(e[r]) === d(t)) break\r\n              }\r\n            return !1\r\n          },\r\n          'only-of-type': function (t) {\r\n            for (var e = h(t), r = 0, n = e.length; r < n; r++)\r\n              if (u(e[r])) {\r\n                if (e[r] === t) continue\r\n                if (d(e[r]) === d(t)) return !1\r\n              }\r\n            return !0\r\n          },\r\n          'only-child': function (t) {\r\n            for (var e = h(t), r = 0; r < e.length; r++) if (u(e[r]) && e[r] !== t) return !1\r\n            return !0\r\n          },\r\n          link: function (t) {\r\n            return p(t, 'href')\r\n          },\r\n          visited: _,\r\n          selected: function (t) {\r\n            if (p(t, 'selected')) return !0\r\n            if ('option' !== d(t)) return !1\r\n            var e = l(t)\r\n            if (!e || 'select' !== d(e) || p(e, 'multiple')) return !1\r\n            for (var r = f(e), n = !1, i = 0; i < r.length; i++)\r\n              if (u(r[i]))\r\n                if (r[i] === t) n = !0\r\n                else {\r\n                  if (!n) return !1\r\n                  if (p(r[i], 'selected')) return !1\r\n                }\r\n            return n\r\n          },\r\n          disabled: function (t) {\r\n            return p(t, 'disabled')\r\n          },\r\n          enabled: function (t) {\r\n            return !p(t, 'disabled')\r\n          },\r\n          checked: function (t) {\r\n            return p(t, 'checked') || x.selected(t)\r\n          },\r\n          required: function (t) {\r\n            return p(t, 'required')\r\n          },\r\n          optional: function (t) {\r\n            return !p(t, 'required')\r\n          },\r\n          parent: function (t) {\r\n            return !x.empty(t)\r\n          },\r\n          header: function (t) {\r\n            var e = d(t)\r\n            return 'h1' === e || 'h2' === e || 'h3' === e || 'h4' === e || 'h5' === e || 'h6' === e\r\n          },\r\n          button: function (t) {\r\n            var e = d(t)\r\n            return 'button' === e || ('input' === e && 'button' === g(t, 'type'))\r\n          },\r\n          input: function (t) {\r\n            var e = d(t)\r\n            return 'input' === e || 'textarea' === e || 'select' === e || 'button' === e\r\n          },\r\n          text: function (t) {\r\n            var e\r\n            return 'input' === d(t) && (!(e = g(t, 'type')) || 'text' === e.toLowerCase())\r\n          }\r\n        },\r\n        S = /^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/\r\n      t.exports = {\r\n        compile: function (t, e, r, n) {\r\n          var i = e.name,\r\n            o = e.data\r\n          if (r && r.strict && !S.test(i)) throw SyntaxError(':' + i + \" isn't part of CSS3\")\r\n          if ('function' == typeof w[i]) return a(w[i], i, o), w[i](t, o, r, n)\r\n          if ('function' == typeof x[i]) {\r\n            var s = x[i]\r\n            return (\r\n              a(s, i, o),\r\n              t === m\r\n                ? s\r\n                : function (e) {\r\n                    return s(e, o) && t(e)\r\n                  }\r\n            )\r\n          }\r\n          throw new SyntaxError('unmatched pseudo-class :' + i)\r\n        },\r\n        filters: w,\r\n        pseudos: x\r\n      }\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      var n = r(108),\r\n        i = {}.hasOwnProperty,\r\n        o = r(111),\r\n        a = r(113)\r\n      ;(e.Selector = o),\r\n        (e.Property = a),\r\n        /**\r\n         * Returns an array of the selectors.\r\n         *\r\n         * @license Sizzle CSS Selector Engine - MIT\r\n         * @param {String} selectorText from mensch\r\n         * @api public\r\n         */ (e.extract = function (t) {\r\n          for (var e = 0, r = [], n = '', i = 0, o = t.length; i < o; i++) {\r\n            var a = t.charAt(i)\r\n            e\r\n              ? ((']' !== a && ')' !== a) || e--, (n += a))\r\n              : ',' === a\r\n              ? (r.push(n), (n = ''))\r\n              : (('[' !== a && '(' !== a) || e++, (n.length || (',' !== a && '\\n' !== a && ' ' !== a)) && (n += a))\r\n          }\r\n          return n.length && r.push(n), r\r\n        }),\r\n        (e.parseCSS = function (t) {\r\n          for (\r\n            var e = n.parse(t, { position: !0, comments: !0 }),\r\n              r = void 0 !== e.stylesheet && e.stylesheet.rules ? e.stylesheet.rules : [],\r\n              i = [],\r\n              o = 0,\r\n              a = r.length;\r\n            o < a;\r\n            o++\r\n          )\r\n            if ('rule' == r[o].type)\r\n              for (var s = r[o], u = s.selectors, c = 0, l = u.length; c < l; c++) i.push([u[c], s.declarations])\r\n          return i\r\n        }),\r\n        (e.getPreservedText = function (t, e) {\r\n          for (\r\n            var r = n.parse(t, { position: !0, comments: !0 }),\r\n              i = void 0 !== r.stylesheet && r.stylesheet.rules ? r.stylesheet.rules : [],\r\n              o = [],\r\n              a = i.length - 1;\r\n            a >= 0;\r\n            a--\r\n          )\r\n            ((e.fontFaces && 'font-face' === i[a].type) || (e.mediaQueries && 'media' === i[a].type)) &&\r\n              o.unshift(n.stringify({ stylesheet: { rules: [i[a]] } }, { comments: !1, indentation: '  ' })),\r\n              i[a].position.start\r\n          return 0 !== o.length && '\\n' + o.join('\\n') + '\\n'\r\n        }),\r\n        (e.normalizeLineEndings = function (t) {\r\n          return t.replace(/\\r\\n/g, '\\n').replace(/\\n/g, '\\r\\n')\r\n        }),\r\n        (e.compareFunc = function (t, e) {\r\n          for (var r = Math.min(t.length, e.length), n = 0; n < r; n++) if (t[n] !== e[n]) return t[n] > e[n] ? 1 : -1\r\n          return t.length - e.length\r\n        }),\r\n        (e.compare = function (t, r) {\r\n          return 1 == e.compareFunc(t, r) ? t : r\r\n        }),\r\n        (e.extend = function (t, e) {\r\n          for (var r in e) i.call(e, r) && (t[r] = e[r])\r\n          return t\r\n        }),\r\n        (e.getDefaultOptions = function (t) {\r\n          var r = e.extend(\r\n            {\r\n              extraCss: '',\r\n              insertPreservedExtraCss: !0,\r\n              applyStyleTags: !0,\r\n              removeStyleTags: !0,\r\n              preserveMediaQueries: !0,\r\n              preserveFontFaces: !0,\r\n              applyWidthAttributes: !0,\r\n              applyHeightAttributes: !0,\r\n              applyAttributesTableElements: !0,\r\n              url: ''\r\n            },\r\n            t\r\n          )\r\n          return (r.webResources = r.webResources || {}), r\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      ;(function (r) {\r\n        function n (t) {\r\n          return i.bind(null, t)\r\n        }\r\n        function i (t) {\r\n          var e = [].slice.call(arguments, 1)\r\n          e.unshift('[' + t + ']'), r.stderr.write(e.join(' ') + '\\n')\r\n        }\r\n        e = t.exports = n\r\n      }.call(e, r(7)))\r\n    },\r\n    function (t, e) {\r\n      var r = {}.toString\r\n      t.exports =\r\n        Array.isArray ||\r\n        function (t) {\r\n          return '[object Array]' == r.call(t)\r\n        }\r\n    },\r\n    function (t, e, r) {\r\n      function n (t, e) {\r\n        ;(this._options = e || {}),\r\n          (this._cbs = t || {}),\r\n          (this._tagname = ''),\r\n          (this._attribname = ''),\r\n          (this._attribvalue = ''),\r\n          (this._attribs = null),\r\n          (this._stack = []),\r\n          (this.startIndex = 0),\r\n          (this.endIndex = null),\r\n          (this._lowerCaseTagNames =\r\n            'lowerCaseTags' in this._options ? !!this._options.lowerCaseTags : !this._options.xmlMode),\r\n          (this._lowerCaseAttributeNames =\r\n            'lowerCaseAttributeNames' in this._options\r\n              ? !!this._options.lowerCaseAttributeNames\r\n              : !this._options.xmlMode),\r\n          this._options.Tokenizer && (i = this._options.Tokenizer),\r\n          (this._tokenizer = new i(this._options, this)),\r\n          this._cbs.onparserinit && this._cbs.onparserinit(this)\r\n      }\r\n      var i = r(31),\r\n        o = { input: !0, option: !0, optgroup: !0, select: !0, button: !0, datalist: !0, textarea: !0 },\r\n        a = {\r\n          tr: { tr: !0, th: !0, td: !0 },\r\n          th: { th: !0 },\r\n          td: { thead: !0, th: !0, td: !0 },\r\n          body: { head: !0, link: !0, script: !0 },\r\n          li: { li: !0 },\r\n          p: { p: !0 },\r\n          h1: { p: !0 },\r\n          h2: { p: !0 },\r\n          h3: { p: !0 },\r\n          h4: { p: !0 },\r\n          h5: { p: !0 },\r\n          h6: { p: !0 },\r\n          select: o,\r\n          input: o,\r\n          output: o,\r\n          button: o,\r\n          datalist: o,\r\n          textarea: o,\r\n          option: { option: !0 },\r\n          optgroup: { optgroup: !0 }\r\n        },\r\n        s = {\r\n          __proto__: null,\r\n          area: !0,\r\n          base: !0,\r\n          basefont: !0,\r\n          br: !0,\r\n          col: !0,\r\n          command: !0,\r\n          embed: !0,\r\n          frame: !0,\r\n          hr: !0,\r\n          img: !0,\r\n          input: !0,\r\n          isindex: !0,\r\n          keygen: !0,\r\n          link: !0,\r\n          meta: !0,\r\n          param: !0,\r\n          source: !0,\r\n          track: !0,\r\n          wbr: !0,\r\n          path: !0,\r\n          circle: !0,\r\n          ellipse: !0,\r\n          line: !0,\r\n          rect: !0,\r\n          use: !0,\r\n          stop: !0,\r\n          polyline: !0,\r\n          polygon: !0\r\n        },\r\n        u = /\\s|\\//\r\n      r(1)(n, r(13).EventEmitter),\r\n        (n.prototype._updatePosition = function (t) {\r\n          null === this.endIndex\r\n            ? this._tokenizer._sectionStart <= t\r\n              ? (this.startIndex = 0)\r\n              : (this.startIndex = this._tokenizer._sectionStart - t)\r\n            : (this.startIndex = this.endIndex + 1),\r\n            (this.endIndex = this._tokenizer.getAbsoluteIndex())\r\n        }),\r\n        (n.prototype.ontext = function (t) {\r\n          this._updatePosition(1), this.endIndex--, this._cbs.ontext && this._cbs.ontext(t)\r\n        }),\r\n        (n.prototype.onopentagname = function (t) {\r\n          if ((this._lowerCaseTagNames && (t = t.toLowerCase()), (this._tagname = t), !this._options.xmlMode && t in a))\r\n            for (var e; (e = this._stack[this._stack.length - 1]) in a[t]; this.onclosetag(e));\r\n          ;(!this._options.xmlMode && t in s) || this._stack.push(t),\r\n            this._cbs.onopentagname && this._cbs.onopentagname(t),\r\n            this._cbs.onopentag && (this._attribs = {})\r\n        }),\r\n        (n.prototype.onopentagend = function () {\r\n          this._updatePosition(1),\r\n            this._attribs &&\r\n              (this._cbs.onopentag && this._cbs.onopentag(this._tagname, this._attribs), (this._attribs = null)),\r\n            !this._options.xmlMode && this._cbs.onclosetag && this._tagname in s && this._cbs.onclosetag(this._tagname),\r\n            (this._tagname = '')\r\n        }),\r\n        (n.prototype.onclosetag = function (t) {\r\n          if (\r\n            (this._updatePosition(1),\r\n            this._lowerCaseTagNames && (t = t.toLowerCase()),\r\n            !this._stack.length || (t in s && !this._options.xmlMode))\r\n          )\r\n            this._options.xmlMode || ('br' !== t && 'p' !== t) || (this.onopentagname(t), this._closeCurrentTag())\r\n          else {\r\n            var e = this._stack.lastIndexOf(t)\r\n            if (-1 !== e)\r\n              if (this._cbs.onclosetag) for (e = this._stack.length - e; e--; ) this._cbs.onclosetag(this._stack.pop())\r\n              else this._stack.length = e\r\n            else 'p' !== t || this._options.xmlMode || (this.onopentagname(t), this._closeCurrentTag())\r\n          }\r\n        }),\r\n        (n.prototype.onselfclosingtag = function () {\r\n          this._options.xmlMode || this._options.recognizeSelfClosing ? this._closeCurrentTag() : this.onopentagend()\r\n        }),\r\n        (n.prototype._closeCurrentTag = function () {\r\n          var t = this._tagname\r\n          this.onopentagend(),\r\n            this._stack[this._stack.length - 1] === t &&\r\n              (this._cbs.onclosetag && this._cbs.onclosetag(t), this._stack.pop())\r\n        }),\r\n        (n.prototype.onattribname = function (t) {\r\n          this._lowerCaseAttributeNames && (t = t.toLowerCase()), (this._attribname = t)\r\n        }),\r\n        (n.prototype.onattribdata = function (t) {\r\n          this._attribvalue += t\r\n        }),\r\n        (n.prototype.onattribend = function () {\r\n          this._cbs.onattribute && this._cbs.onattribute(this._attribname, this._attribvalue),\r\n            this._attribs &&\r\n              !Object.prototype.hasOwnProperty.call(this._attribs, this._attribname) &&\r\n              (this._attribs[this._attribname] = this._attribvalue),\r\n            (this._attribname = ''),\r\n            (this._attribvalue = '')\r\n        }),\r\n        (n.prototype._getInstructionName = function (t) {\r\n          var e = t.search(u),\r\n            r = e < 0 ? t : t.substr(0, e)\r\n          return this._lowerCaseTagNames && (r = r.toLowerCase()), r\r\n        }),\r\n        (n.prototype.ondeclaration = function (t) {\r\n          if (this._cbs.onprocessinginstruction) {\r\n            var e = this._getInstructionName(t)\r\n            this._cbs.onprocessinginstruction('!' + e, '!' + t)\r\n          }\r\n        }),\r\n        (n.prototype.onprocessinginstruction = function (t) {\r\n          if (this._cbs.onprocessinginstruction) {\r\n            var e = this._getInstructionName(t)\r\n            this._cbs.onprocessinginstruction('?' + e, '?' + t)\r\n          }\r\n        }),\r\n        (n.prototype.oncomment = function (t) {\r\n          this._updatePosition(4),\r\n            this._cbs.oncomment && this._cbs.oncomment(t),\r\n            this._cbs.oncommentend && this._cbs.oncommentend()\r\n        }),\r\n        (n.prototype.oncdata = function (t) {\r\n          this._updatePosition(1),\r\n            this._options.xmlMode || this._options.recognizeCDATA\r\n              ? (this._cbs.oncdatastart && this._cbs.oncdatastart(),\r\n                this._cbs.ontext && this._cbs.ontext(t),\r\n                this._cbs.oncdataend && this._cbs.oncdataend())\r\n              : this.oncomment('[CDATA[' + t + ']]')\r\n        }),\r\n        (n.prototype.onerror = function (t) {\r\n          this._cbs.onerror && this._cbs.onerror(t)\r\n        }),\r\n        (n.prototype.onend = function () {\r\n          if (this._cbs.onclosetag) for (var t = this._stack.length; t > 0; this._cbs.onclosetag(this._stack[--t]));\r\n          this._cbs.onend && this._cbs.onend()\r\n        }),\r\n        (n.prototype.reset = function () {\r\n          this._cbs.onreset && this._cbs.onreset(),\r\n            this._tokenizer.reset(),\r\n            (this._tagname = ''),\r\n            (this._attribname = ''),\r\n            (this._attribs = null),\r\n            (this._stack = []),\r\n            this._cbs.onparserinit && this._cbs.onparserinit(this)\r\n        }),\r\n        (n.prototype.parseComplete = function (t) {\r\n          this.reset(), this.end(t)\r\n        }),\r\n        (n.prototype.write = function (t) {\r\n          this._tokenizer.write(t)\r\n        }),\r\n        (n.prototype.end = function (t) {\r\n          this._tokenizer.end(t)\r\n        }),\r\n        (n.prototype.pause = function () {\r\n          this._tokenizer.pause()\r\n        }),\r\n        (n.prototype.resume = function () {\r\n          this._tokenizer.resume()\r\n        }),\r\n        (n.prototype.parseChunk = n.prototype.write),\r\n        (n.prototype.done = n.prototype.end),\r\n        (t.exports = n)\r\n    },\r\n    function (t, e, r) {\r\n      function n (t) {\r\n        return ' ' === t || '\\n' === t || '\\t' === t || '\\f' === t || '\\r' === t\r\n      }\r\n      function i (t, e, r) {\r\n        var n = t.toLowerCase()\r\n        return t === n\r\n          ? function (t) {\r\n              t === n ? (this._state = e) : ((this._state = r), this._index--)\r\n            }\r\n          : function (i) {\r\n              i === n || i === t ? (this._state = e) : ((this._state = r), this._index--)\r\n            }\r\n      }\r\n      function o (t, e) {\r\n        var r = t.toLowerCase()\r\n        return function (n) {\r\n          n === r || n === t ? (this._state = e) : ((this._state = d), this._index--)\r\n        }\r\n      }\r\n      function a (t, e) {\r\n        ;(this._state = h),\r\n          (this._buffer = ''),\r\n          (this._sectionStart = 0),\r\n          (this._index = 0),\r\n          (this._bufferOffset = 0),\r\n          (this._baseState = h),\r\n          (this._special = dt),\r\n          (this._cbs = e),\r\n          (this._running = !0),\r\n          (this._ended = !1),\r\n          (this._xmlMode = !(!t || !t.xmlMode)),\r\n          (this._decodeEntities = !(!t || !t.decodeEntities))\r\n      }\r\n      t.exports = a\r\n      var s = r(32),\r\n        u = r(18),\r\n        c = r(33),\r\n        l = r(19),\r\n        f = 0,\r\n        h = f++,\r\n        p = f++,\r\n        d = f++,\r\n        g = f++,\r\n        v = f++,\r\n        b = f++,\r\n        y = f++,\r\n        m = f++,\r\n        _ = f++,\r\n        w = f++,\r\n        x = f++,\r\n        S = f++,\r\n        j = f++,\r\n        k = f++,\r\n        E = f++,\r\n        A = f++,\r\n        T = f++,\r\n        O = f++,\r\n        L = f++,\r\n        C = f++,\r\n        B = f++,\r\n        D = f++,\r\n        q = f++,\r\n        P = f++,\r\n        M = f++,\r\n        R = f++,\r\n        I = f++,\r\n        N = f++,\r\n        U = f++,\r\n        F = f++,\r\n        z = f++,\r\n        V = f++,\r\n        $ = f++,\r\n        H = f++,\r\n        W = f++,\r\n        G = f++,\r\n        Y = f++,\r\n        J = f++,\r\n        Q = f++,\r\n        X = f++,\r\n        Z = f++,\r\n        K = f++,\r\n        tt = f++,\r\n        et = f++,\r\n        rt = f++,\r\n        nt = f++,\r\n        it = f++,\r\n        ot = f++,\r\n        at = f++,\r\n        st = f++,\r\n        ut = f++,\r\n        ct = f++,\r\n        lt = f++,\r\n        ft = f++,\r\n        ht = f++,\r\n        pt = 0,\r\n        dt = pt++,\r\n        gt = pt++,\r\n        vt = pt++\r\n      ;(a.prototype._stateText = function (t) {\r\n        '<' === t\r\n          ? (this._index > this._sectionStart && this._cbs.ontext(this._getSection()),\r\n            (this._state = p),\r\n            (this._sectionStart = this._index))\r\n          : this._decodeEntities &&\r\n            this._special === dt &&\r\n            '&' === t &&\r\n            (this._index > this._sectionStart && this._cbs.ontext(this._getSection()),\r\n            (this._baseState = h),\r\n            (this._state = ut),\r\n            (this._sectionStart = this._index))\r\n      }),\r\n        (a.prototype._stateBeforeTagName = function (t) {\r\n          '/' === t\r\n            ? (this._state = v)\r\n            : '<' === t\r\n            ? (this._cbs.ontext(this._getSection()), (this._sectionStart = this._index))\r\n            : '>' === t || this._special !== dt || n(t)\r\n            ? (this._state = h)\r\n            : '!' === t\r\n            ? ((this._state = E), (this._sectionStart = this._index + 1))\r\n            : '?' === t\r\n            ? ((this._state = T), (this._sectionStart = this._index + 1))\r\n            : ((this._state = this._xmlMode || ('s' !== t && 'S' !== t) ? d : z), (this._sectionStart = this._index))\r\n        }),\r\n        (a.prototype._stateInTagName = function (t) {\r\n          ;('/' === t || '>' === t || n(t)) && (this._emitToken('onopentagname'), (this._state = m), this._index--)\r\n        }),\r\n        (a.prototype._stateBeforeCloseingTagName = function (t) {\r\n          n(t) ||\r\n            ('>' === t\r\n              ? (this._state = h)\r\n              : this._special !== dt\r\n              ? 's' === t || 'S' === t\r\n                ? (this._state = V)\r\n                : ((this._state = h), this._index--)\r\n              : ((this._state = b), (this._sectionStart = this._index)))\r\n        }),\r\n        (a.prototype._stateInCloseingTagName = function (t) {\r\n          ;('>' === t || n(t)) && (this._emitToken('onclosetag'), (this._state = y), this._index--)\r\n        }),\r\n        (a.prototype._stateAfterCloseingTagName = function (t) {\r\n          '>' === t && ((this._state = h), (this._sectionStart = this._index + 1))\r\n        }),\r\n        (a.prototype._stateBeforeAttributeName = function (t) {\r\n          '>' === t\r\n            ? (this._cbs.onopentagend(), (this._state = h), (this._sectionStart = this._index + 1))\r\n            : '/' === t\r\n            ? (this._state = g)\r\n            : n(t) || ((this._state = _), (this._sectionStart = this._index))\r\n        }),\r\n        (a.prototype._stateInSelfClosingTag = function (t) {\r\n          '>' === t\r\n            ? (this._cbs.onselfclosingtag(), (this._state = h), (this._sectionStart = this._index + 1))\r\n            : n(t) || ((this._state = m), this._index--)\r\n        }),\r\n        (a.prototype._stateInAttributeName = function (t) {\r\n          ;('=' === t || '/' === t || '>' === t || n(t)) &&\r\n            (this._cbs.onattribname(this._getSection()), (this._sectionStart = -1), (this._state = w), this._index--)\r\n        }),\r\n        (a.prototype._stateAfterAttributeName = function (t) {\r\n          '=' === t\r\n            ? (this._state = x)\r\n            : '/' === t || '>' === t\r\n            ? (this._cbs.onattribend(), (this._state = m), this._index--)\r\n            : n(t) || (this._cbs.onattribend(), (this._state = _), (this._sectionStart = this._index))\r\n        }),\r\n        (a.prototype._stateBeforeAttributeValue = function (t) {\r\n          '\"' === t\r\n            ? ((this._state = S), (this._sectionStart = this._index + 1))\r\n            : \"'\" === t\r\n            ? ((this._state = j), (this._sectionStart = this._index + 1))\r\n            : n(t) || ((this._state = k), (this._sectionStart = this._index), this._index--)\r\n        }),\r\n        (a.prototype._stateInAttributeValueDoubleQuotes = function (t) {\r\n          '\"' === t\r\n            ? (this._emitToken('onattribdata'), this._cbs.onattribend(), (this._state = m))\r\n            : this._decodeEntities &&\r\n              '&' === t &&\r\n              (this._emitToken('onattribdata'),\r\n              (this._baseState = this._state),\r\n              (this._state = ut),\r\n              (this._sectionStart = this._index))\r\n        }),\r\n        (a.prototype._stateInAttributeValueSingleQuotes = function (t) {\r\n          \"'\" === t\r\n            ? (this._emitToken('onattribdata'), this._cbs.onattribend(), (this._state = m))\r\n            : this._decodeEntities &&\r\n              '&' === t &&\r\n              (this._emitToken('onattribdata'),\r\n              (this._baseState = this._state),\r\n              (this._state = ut),\r\n              (this._sectionStart = this._index))\r\n        }),\r\n        (a.prototype._stateInAttributeValueNoQuotes = function (t) {\r\n          n(t) || '>' === t\r\n            ? (this._emitToken('onattribdata'), this._cbs.onattribend(), (this._state = m), this._index--)\r\n            : this._decodeEntities &&\r\n              '&' === t &&\r\n              (this._emitToken('onattribdata'),\r\n              (this._baseState = this._state),\r\n              (this._state = ut),\r\n              (this._sectionStart = this._index))\r\n        }),\r\n        (a.prototype._stateBeforeDeclaration = function (t) {\r\n          this._state = '[' === t ? D : '-' === t ? O : A\r\n        }),\r\n        (a.prototype._stateInDeclaration = function (t) {\r\n          '>' === t &&\r\n            (this._cbs.ondeclaration(this._getSection()), (this._state = h), (this._sectionStart = this._index + 1))\r\n        }),\r\n        (a.prototype._stateInProcessingInstruction = function (t) {\r\n          '>' === t &&\r\n            (this._cbs.onprocessinginstruction(this._getSection()),\r\n            (this._state = h),\r\n            (this._sectionStart = this._index + 1))\r\n        }),\r\n        (a.prototype._stateBeforeComment = function (t) {\r\n          '-' === t ? ((this._state = L), (this._sectionStart = this._index + 1)) : (this._state = A)\r\n        }),\r\n        (a.prototype._stateInComment = function (t) {\r\n          '-' === t && (this._state = C)\r\n        }),\r\n        (a.prototype._stateAfterComment1 = function (t) {\r\n          this._state = '-' === t ? B : L\r\n        }),\r\n        (a.prototype._stateAfterComment2 = function (t) {\r\n          '>' === t\r\n            ? (this._cbs.oncomment(this._buffer.substring(this._sectionStart, this._index - 2)),\r\n              (this._state = h),\r\n              (this._sectionStart = this._index + 1))\r\n            : '-' !== t && (this._state = L)\r\n        }),\r\n        (a.prototype._stateBeforeCdata1 = i('C', q, A)),\r\n        (a.prototype._stateBeforeCdata2 = i('D', P, A)),\r\n        (a.prototype._stateBeforeCdata3 = i('A', M, A)),\r\n        (a.prototype._stateBeforeCdata4 = i('T', R, A)),\r\n        (a.prototype._stateBeforeCdata5 = i('A', I, A)),\r\n        (a.prototype._stateBeforeCdata6 = function (t) {\r\n          '[' === t ? ((this._state = N), (this._sectionStart = this._index + 1)) : ((this._state = A), this._index--)\r\n        }),\r\n        (a.prototype._stateInCdata = function (t) {\r\n          ']' === t && (this._state = U)\r\n        }),\r\n        (a.prototype._stateAfterCdata1 = (function (t, e) {\r\n          return function (r) {\r\n            r === t && (this._state = e)\r\n          }\r\n        })(']', F)),\r\n        (a.prototype._stateAfterCdata2 = function (t) {\r\n          '>' === t\r\n            ? (this._cbs.oncdata(this._buffer.substring(this._sectionStart, this._index - 2)),\r\n              (this._state = h),\r\n              (this._sectionStart = this._index + 1))\r\n            : ']' !== t && (this._state = N)\r\n        }),\r\n        (a.prototype._stateBeforeSpecial = function (t) {\r\n          'c' === t || 'C' === t\r\n            ? (this._state = $)\r\n            : 't' === t || 'T' === t\r\n            ? (this._state = tt)\r\n            : ((this._state = d), this._index--)\r\n        }),\r\n        (a.prototype._stateBeforeSpecialEnd = function (t) {\r\n          this._special !== gt || ('c' !== t && 'C' !== t)\r\n            ? this._special !== vt || ('t' !== t && 'T' !== t)\r\n              ? (this._state = h)\r\n              : (this._state = it)\r\n            : (this._state = J)\r\n        }),\r\n        (a.prototype._stateBeforeScript1 = o('R', H)),\r\n        (a.prototype._stateBeforeScript2 = o('I', W)),\r\n        (a.prototype._stateBeforeScript3 = o('P', G)),\r\n        (a.prototype._stateBeforeScript4 = o('T', Y)),\r\n        (a.prototype._stateBeforeScript5 = function (t) {\r\n          ;('/' === t || '>' === t || n(t)) && (this._special = gt), (this._state = d), this._index--\r\n        }),\r\n        (a.prototype._stateAfterScript1 = i('R', Q, h)),\r\n        (a.prototype._stateAfterScript2 = i('I', X, h)),\r\n        (a.prototype._stateAfterScript3 = i('P', Z, h)),\r\n        (a.prototype._stateAfterScript4 = i('T', K, h)),\r\n        (a.prototype._stateAfterScript5 = function (t) {\r\n          '>' === t || n(t)\r\n            ? ((this._special = dt), (this._state = b), (this._sectionStart = this._index - 6), this._index--)\r\n            : (this._state = h)\r\n        }),\r\n        (a.prototype._stateBeforeStyle1 = o('Y', et)),\r\n        (a.prototype._stateBeforeStyle2 = o('L', rt)),\r\n        (a.prototype._stateBeforeStyle3 = o('E', nt)),\r\n        (a.prototype._stateBeforeStyle4 = function (t) {\r\n          ;('/' === t || '>' === t || n(t)) && (this._special = vt), (this._state = d), this._index--\r\n        }),\r\n        (a.prototype._stateAfterStyle1 = i('Y', ot, h)),\r\n        (a.prototype._stateAfterStyle2 = i('L', at, h)),\r\n        (a.prototype._stateAfterStyle3 = i('E', st, h)),\r\n        (a.prototype._stateAfterStyle4 = function (t) {\r\n          '>' === t || n(t)\r\n            ? ((this._special = dt), (this._state = b), (this._sectionStart = this._index - 5), this._index--)\r\n            : (this._state = h)\r\n        }),\r\n        (a.prototype._stateBeforeEntity = i('#', ct, lt)),\r\n        (a.prototype._stateBeforeNumericEntity = i('X', ht, ft)),\r\n        (a.prototype._parseNamedEntityStrict = function () {\r\n          if (this._sectionStart + 1 < this._index) {\r\n            var t = this._buffer.substring(this._sectionStart + 1, this._index),\r\n              e = this._xmlMode ? l : u\r\n            e.hasOwnProperty(t) && (this._emitPartial(e[t]), (this._sectionStart = this._index + 1))\r\n          }\r\n        }),\r\n        (a.prototype._parseLegacyEntity = function () {\r\n          var t = this._sectionStart + 1,\r\n            e = this._index - t\r\n          for (e > 6 && (e = 6); e >= 2; ) {\r\n            var r = this._buffer.substr(t, e)\r\n            if (c.hasOwnProperty(r)) return this._emitPartial(c[r]), void (this._sectionStart += e + 1)\r\n            e--\r\n          }\r\n        }),\r\n        (a.prototype._stateInNamedEntity = function (t) {\r\n          ';' === t\r\n            ? (this._parseNamedEntityStrict(),\r\n              this._sectionStart + 1 < this._index && !this._xmlMode && this._parseLegacyEntity(),\r\n              (this._state = this._baseState))\r\n            : (t < 'a' || t > 'z') &&\r\n              (t < 'A' || t > 'Z') &&\r\n              (t < '0' || t > '9') &&\r\n              (this._xmlMode ||\r\n                this._sectionStart + 1 === this._index ||\r\n                (this._baseState !== h ? '=' !== t && this._parseNamedEntityStrict() : this._parseLegacyEntity()),\r\n              (this._state = this._baseState),\r\n              this._index--)\r\n        }),\r\n        (a.prototype._decodeNumericEntity = function (t, e) {\r\n          var r = this._sectionStart + t\r\n          if (r !== this._index) {\r\n            var n = this._buffer.substring(r, this._index),\r\n              i = parseInt(n, e)\r\n            this._emitPartial(s(i)), (this._sectionStart = this._index)\r\n          } else this._sectionStart--\r\n          this._state = this._baseState\r\n        }),\r\n        (a.prototype._stateInNumericEntity = function (t) {\r\n          ';' === t\r\n            ? (this._decodeNumericEntity(2, 10), this._sectionStart++)\r\n            : (t < '0' || t > '9') &&\r\n              (this._xmlMode ? (this._state = this._baseState) : this._decodeNumericEntity(2, 10), this._index--)\r\n        }),\r\n        (a.prototype._stateInHexEntity = function (t) {\r\n          ';' === t\r\n            ? (this._decodeNumericEntity(3, 16), this._sectionStart++)\r\n            : (t < 'a' || t > 'f') &&\r\n              (t < 'A' || t > 'F') &&\r\n              (t < '0' || t > '9') &&\r\n              (this._xmlMode ? (this._state = this._baseState) : this._decodeNumericEntity(3, 16), this._index--)\r\n        }),\r\n        (a.prototype._cleanup = function () {\r\n          this._sectionStart < 0\r\n            ? ((this._buffer = ''), (this._bufferOffset += this._index), (this._index = 0))\r\n            : this._running &&\r\n              (this._state === h\r\n                ? (this._sectionStart !== this._index && this._cbs.ontext(this._buffer.substr(this._sectionStart)),\r\n                  (this._buffer = ''),\r\n                  (this._bufferOffset += this._index),\r\n                  (this._index = 0))\r\n                : this._sectionStart === this._index\r\n                ? ((this._buffer = ''), (this._bufferOffset += this._index), (this._index = 0))\r\n                : ((this._buffer = this._buffer.substr(this._sectionStart)),\r\n                  (this._index -= this._sectionStart),\r\n                  (this._bufferOffset += this._sectionStart)),\r\n              (this._sectionStart = 0))\r\n        }),\r\n        (a.prototype.write = function (t) {\r\n          this._ended && this._cbs.onerror(Error('.write() after done!')), (this._buffer += t), this._parse()\r\n        }),\r\n        (a.prototype._parse = function () {\r\n          for (; this._index < this._buffer.length && this._running; ) {\r\n            var t = this._buffer.charAt(this._index)\r\n            this._state === h\r\n              ? this._stateText(t)\r\n              : this._state === p\r\n              ? this._stateBeforeTagName(t)\r\n              : this._state === d\r\n              ? this._stateInTagName(t)\r\n              : this._state === v\r\n              ? this._stateBeforeCloseingTagName(t)\r\n              : this._state === b\r\n              ? this._stateInCloseingTagName(t)\r\n              : this._state === y\r\n              ? this._stateAfterCloseingTagName(t)\r\n              : this._state === g\r\n              ? this._stateInSelfClosingTag(t)\r\n              : this._state === m\r\n              ? this._stateBeforeAttributeName(t)\r\n              : this._state === _\r\n              ? this._stateInAttributeName(t)\r\n              : this._state === w\r\n              ? this._stateAfterAttributeName(t)\r\n              : this._state === x\r\n              ? this._stateBeforeAttributeValue(t)\r\n              : this._state === S\r\n              ? this._stateInAttributeValueDoubleQuotes(t)\r\n              : this._state === j\r\n              ? this._stateInAttributeValueSingleQuotes(t)\r\n              : this._state === k\r\n              ? this._stateInAttributeValueNoQuotes(t)\r\n              : this._state === E\r\n              ? this._stateBeforeDeclaration(t)\r\n              : this._state === A\r\n              ? this._stateInDeclaration(t)\r\n              : this._state === T\r\n              ? this._stateInProcessingInstruction(t)\r\n              : this._state === O\r\n              ? this._stateBeforeComment(t)\r\n              : this._state === L\r\n              ? this._stateInComment(t)\r\n              : this._state === C\r\n              ? this._stateAfterComment1(t)\r\n              : this._state === B\r\n              ? this._stateAfterComment2(t)\r\n              : this._state === D\r\n              ? this._stateBeforeCdata1(t)\r\n              : this._state === q\r\n              ? this._stateBeforeCdata2(t)\r\n              : this._state === P\r\n              ? this._stateBeforeCdata3(t)\r\n              : this._state === M\r\n              ? this._stateBeforeCdata4(t)\r\n              : this._state === R\r\n              ? this._stateBeforeCdata5(t)\r\n              : this._state === I\r\n              ? this._stateBeforeCdata6(t)\r\n              : this._state === N\r\n              ? this._stateInCdata(t)\r\n              : this._state === U\r\n              ? this._stateAfterCdata1(t)\r\n              : this._state === F\r\n              ? this._stateAfterCdata2(t)\r\n              : this._state === z\r\n              ? this._stateBeforeSpecial(t)\r\n              : this._state === V\r\n              ? this._stateBeforeSpecialEnd(t)\r\n              : this._state === $\r\n              ? this._stateBeforeScript1(t)\r\n              : this._state === H\r\n              ? this._stateBeforeScript2(t)\r\n              : this._state === W\r\n              ? this._stateBeforeScript3(t)\r\n              : this._state === G\r\n              ? this._stateBeforeScript4(t)\r\n              : this._state === Y\r\n              ? this._stateBeforeScript5(t)\r\n              : this._state === J\r\n              ? this._stateAfterScript1(t)\r\n              : this._state === Q\r\n              ? this._stateAfterScript2(t)\r\n              : this._state === X\r\n              ? this._stateAfterScript3(t)\r\n              : this._state === Z\r\n              ? this._stateAfterScript4(t)\r\n              : this._state === K\r\n              ? this._stateAfterScript5(t)\r\n              : this._state === tt\r\n              ? this._stateBeforeStyle1(t)\r\n              : this._state === et\r\n              ? this._stateBeforeStyle2(t)\r\n              : this._state === rt\r\n              ? this._stateBeforeStyle3(t)\r\n              : this._state === nt\r\n              ? this._stateBeforeStyle4(t)\r\n              : this._state === it\r\n              ? this._stateAfterStyle1(t)\r\n              : this._state === ot\r\n              ? this._stateAfterStyle2(t)\r\n              : this._state === at\r\n              ? this._stateAfterStyle3(t)\r\n              : this._state === st\r\n              ? this._stateAfterStyle4(t)\r\n              : this._state === ut\r\n              ? this._stateBeforeEntity(t)\r\n              : this._state === ct\r\n              ? this._stateBeforeNumericEntity(t)\r\n              : this._state === lt\r\n              ? this._stateInNamedEntity(t)\r\n              : this._state === ft\r\n              ? this._stateInNumericEntity(t)\r\n              : this._state === ht\r\n              ? this._stateInHexEntity(t)\r\n              : this._cbs.onerror(Error('unknown _state'), this._state),\r\n              this._index++\r\n          }\r\n          this._cleanup()\r\n        }),\r\n        (a.prototype.pause = function () {\r\n          this._running = !1\r\n        }),\r\n        (a.prototype.resume = function () {\r\n          ;(this._running = !0), this._index < this._buffer.length && this._parse(), this._ended && this._finish()\r\n        }),\r\n        (a.prototype.end = function (t) {\r\n          this._ended && this._cbs.onerror(Error('.end() after done!')),\r\n            t && this.write(t),\r\n            (this._ended = !0),\r\n            this._running && this._finish()\r\n        }),\r\n        (a.prototype._finish = function () {\r\n          this._sectionStart < this._index && this._handleTrailingData(), this._cbs.onend()\r\n        }),\r\n        (a.prototype._handleTrailingData = function () {\r\n          var t = this._buffer.substr(this._sectionStart)\r\n          this._state === N || this._state === U || this._state === F\r\n            ? this._cbs.oncdata(t)\r\n            : this._state === L || this._state === C || this._state === B\r\n            ? this._cbs.oncomment(t)\r\n            : this._state !== lt || this._xmlMode\r\n            ? this._state !== ft || this._xmlMode\r\n              ? this._state !== ht || this._xmlMode\r\n                ? this._state !== d &&\r\n                  this._state !== m &&\r\n                  this._state !== x &&\r\n                  this._state !== w &&\r\n                  this._state !== _ &&\r\n                  this._state !== j &&\r\n                  this._state !== S &&\r\n                  this._state !== k &&\r\n                  this._state !== b &&\r\n                  this._cbs.ontext(t)\r\n                : (this._decodeNumericEntity(3, 16),\r\n                  this._sectionStart < this._index && ((this._state = this._baseState), this._handleTrailingData()))\r\n              : (this._decodeNumericEntity(2, 10),\r\n                this._sectionStart < this._index && ((this._state = this._baseState), this._handleTrailingData()))\r\n            : (this._parseLegacyEntity(),\r\n              this._sectionStart < this._index && ((this._state = this._baseState), this._handleTrailingData()))\r\n        }),\r\n        (a.prototype.reset = function () {\r\n          a.call(this, { xmlMode: this._xmlMode, decodeEntities: this._decodeEntities }, this._cbs)\r\n        }),\r\n        (a.prototype.getAbsoluteIndex = function () {\r\n          return this._bufferOffset + this._index\r\n        }),\r\n        (a.prototype._getSection = function () {\r\n          return this._buffer.substring(this._sectionStart, this._index)\r\n        }),\r\n        (a.prototype._emitToken = function (t) {\r\n          this._cbs[t](this._getSection()), (this._sectionStart = -1)\r\n        }),\r\n        (a.prototype._emitPartial = function (t) {\r\n          this._baseState !== h ? this._cbs.onattribdata(t) : this._cbs.ontext(t)\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      function n (t) {\r\n        if ((t >= 55296 && t <= 57343) || t > 1114111) return ''\r\n        t in i && (t = i[t])\r\n        var e = ''\r\n        return (\r\n          t > 65535 &&\r\n            ((t -= 65536), (e += String.fromCharCode(((t >>> 10) & 1023) | 55296)), (t = 56320 | (1023 & t))),\r\n          (e += String.fromCharCode(t))\r\n        )\r\n      }\r\n      var i = r(57)\r\n      t.exports = n\r\n    },\r\n    function (t, e) {\r\n      t.exports = {\r\n        Aacute: '',\r\n        aacute: '',\r\n        Acirc: '',\r\n        acirc: '',\r\n        acute: '',\r\n        AElig: '',\r\n        aelig: '',\r\n        Agrave: '',\r\n        agrave: '',\r\n        amp: '&',\r\n        AMP: '&',\r\n        Aring: '',\r\n        aring: '',\r\n        Atilde: '',\r\n        atilde: '',\r\n        Auml: '',\r\n        auml: '',\r\n        brvbar: '',\r\n        Ccedil: '',\r\n        ccedil: '',\r\n        cedil: '',\r\n        cent: '',\r\n        copy: '',\r\n        COPY: '',\r\n        curren: '',\r\n        deg: '',\r\n        divide: '',\r\n        Eacute: '',\r\n        eacute: '',\r\n        Ecirc: '',\r\n        ecirc: '',\r\n        Egrave: '',\r\n        egrave: '',\r\n        ETH: '',\r\n        eth: '',\r\n        Euml: '',\r\n        euml: '',\r\n        frac12: '',\r\n        frac14: '',\r\n        frac34: '',\r\n        gt: '>',\r\n        GT: '>',\r\n        Iacute: '',\r\n        iacute: '',\r\n        Icirc: '',\r\n        icirc: '',\r\n        iexcl: '',\r\n        Igrave: '',\r\n        igrave: '',\r\n        iquest: '',\r\n        Iuml: '',\r\n        iuml: '',\r\n        laquo: '',\r\n        lt: '<',\r\n        LT: '<',\r\n        macr: '',\r\n        micro: '',\r\n        middot: '',\r\n        nbsp: '',\r\n        not: '',\r\n        Ntilde: '',\r\n        ntilde: '',\r\n        Oacute: '',\r\n        oacute: '',\r\n        Ocirc: '',\r\n        ocirc: '',\r\n        Ograve: '',\r\n        ograve: '',\r\n        ordf: '',\r\n        ordm: '',\r\n        Oslash: '',\r\n        oslash: '',\r\n        Otilde: '',\r\n        otilde: '',\r\n        Ouml: '',\r\n        ouml: '',\r\n        para: '',\r\n        plusmn: '',\r\n        pound: '',\r\n        quot: '\"',\r\n        QUOT: '\"',\r\n        raquo: '',\r\n        reg: '',\r\n        REG: '',\r\n        sect: '',\r\n        shy: '',\r\n        sup1: '',\r\n        sup2: '',\r\n        sup3: '',\r\n        szlig: '',\r\n        THORN: '',\r\n        thorn: '',\r\n        times: '',\r\n        Uacute: '',\r\n        uacute: '',\r\n        Ucirc: '',\r\n        ucirc: '',\r\n        Ugrave: '',\r\n        ugrave: '',\r\n        uml: '',\r\n        Uuml: '',\r\n        uuml: '',\r\n        Yacute: '',\r\n        yacute: '',\r\n        yen: '',\r\n        yuml: ''\r\n      }\r\n    },\r\n    function (t, e) {\r\n      var r = (t.exports = {\r\n          get firstChild () {\r\n            var t = this.children\r\n            return (t && t[0]) || null\r\n          },\r\n          get lastChild () {\r\n            var t = this.children\r\n            return (t && t[t.length - 1]) || null\r\n          },\r\n          get nodeType () {\r\n            return i[this.type] || i.element\r\n          }\r\n        }),\r\n        n = {\r\n          tagName: 'name',\r\n          childNodes: 'children',\r\n          parentNode: 'parent',\r\n          previousSibling: 'prev',\r\n          nextSibling: 'next',\r\n          nodeValue: 'data'\r\n        },\r\n        i = { element: 1, text: 3, cdata: 4, comment: 8 }\r\n      Object.keys(n).forEach(function (t) {\r\n        var e = n[t]\r\n        Object.defineProperty(r, t, {\r\n          get: function () {\r\n            return this[e] || null\r\n          },\r\n          set: function (t) {\r\n            return (this[e] = t), t\r\n          }\r\n        })\r\n      })\r\n    },\r\n    function (t, e, r) {\r\n      function n (t, e) {\r\n        var r = (this._parser = new i(t, e)),\r\n          n = (this._decoder = new a())\r\n        o.call(this, { decodeStrings: !1 }),\r\n          this.once('finish', function () {\r\n            r.end(n.end())\r\n          })\r\n      }\r\n      t.exports = n\r\n      var i = r(30),\r\n        o = r(62).Writable || r(74).Writable,\r\n        a = r(22).StringDecoder,\r\n        s = r(12).Buffer\r\n      r(1)(n, o),\r\n        (o.prototype._write = function (t, e, r) {\r\n          t instanceof s && (t = this._decoder.write(t)), this._parser.write(t), r()\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      ;(function (e, n) {\r\n        function i (t) {\r\n          return R.from(t)\r\n        }\r\n        function o (t) {\r\n          return R.isBuffer(t) || t instanceof I\r\n        }\r\n        function a (t, e, r) {\r\n          if ('function' == typeof t.prependListener) return t.prependListener(e, r)\r\n          t._events && t._events[e]\r\n            ? q(t._events[e])\r\n              ? t._events[e].unshift(r)\r\n              : (t._events[e] = [r, t._events[e]])\r\n            : t.on(e, r)\r\n        }\r\n        function s (t, e) {\r\n          ;(D = D || r(2)), (t = t || {})\r\n          var n = e instanceof D\r\n          ;(this.objectMode = !!t.objectMode), n && (this.objectMode = this.objectMode || !!t.readableObjectMode)\r\n          var i = t.highWaterMark,\r\n            o = t.readableHighWaterMark,\r\n            a = this.objectMode ? 16 : 16384\r\n          ;(this.highWaterMark = i || 0 === i ? i : n && (o || 0 === o) ? o : a),\r\n            (this.highWaterMark = Math.floor(this.highWaterMark)),\r\n            (this.buffer = new V()),\r\n            (this.length = 0),\r\n            (this.pipes = null),\r\n            (this.pipesCount = 0),\r\n            (this.flowing = null),\r\n            (this.ended = !1),\r\n            (this.endEmitted = !1),\r\n            (this.reading = !1),\r\n            (this.sync = !0),\r\n            (this.needReadable = !1),\r\n            (this.emittedReadable = !1),\r\n            (this.readableListening = !1),\r\n            (this.resumeScheduled = !1),\r\n            (this.destroyed = !1),\r\n            (this.defaultEncoding = t.defaultEncoding || 'utf8'),\r\n            (this.awaitDrain = 0),\r\n            (this.readingMore = !1),\r\n            (this.decoder = null),\r\n            (this.encoding = null),\r\n            t.encoding &&\r\n              (z || (z = r(22).StringDecoder), (this.decoder = new z(t.encoding)), (this.encoding = t.encoding))\r\n        }\r\n        function u (t) {\r\n          if (((D = D || r(2)), !(this instanceof u))) return new u(t)\r\n          ;(this._readableState = new s(t, this)),\r\n            (this.readable = !0),\r\n            t &&\r\n              ('function' == typeof t.read && (this._read = t.read),\r\n              'function' == typeof t.destroy && (this._destroy = t.destroy)),\r\n            M.call(this)\r\n        }\r\n        function c (t, e, r, n, o) {\r\n          var a = t._readableState\r\n          if (null === e) (a.reading = !1), g(t, a)\r\n          else {\r\n            var s\r\n            o || (s = f(a, e)),\r\n              s\r\n                ? t.emit('error', s)\r\n                : a.objectMode || (e && e.length > 0)\r\n                ? ('string' == typeof e || a.objectMode || Object.getPrototypeOf(e) === R.prototype || (e = i(e)),\r\n                  n\r\n                    ? a.endEmitted\r\n                      ? t.emit('error', new Error('stream.unshift() after end event'))\r\n                      : l(t, a, e, !0)\r\n                    : a.ended\r\n                    ? t.emit('error', new Error('stream.push() after EOF'))\r\n                    : ((a.reading = !1),\r\n                      a.decoder && !r\r\n                        ? ((e = a.decoder.write(e)), a.objectMode || 0 !== e.length ? l(t, a, e, !1) : y(t, a))\r\n                        : l(t, a, e, !1)))\r\n                : n || (a.reading = !1)\r\n          }\r\n          return h(a)\r\n        }\r\n        function l (t, e, r, n) {\r\n          e.flowing && 0 === e.length && !e.sync\r\n            ? (t.emit('data', r), t.read(0))\r\n            : ((e.length += e.objectMode ? 1 : r.length),\r\n              n ? e.buffer.unshift(r) : e.buffer.push(r),\r\n              e.needReadable && v(t)),\r\n            y(t, e)\r\n        }\r\n        function f (t, e) {\r\n          var r\r\n          return (\r\n            o(e) ||\r\n              'string' == typeof e ||\r\n              void 0 === e ||\r\n              t.objectMode ||\r\n              (r = new TypeError('Invalid non-string/buffer chunk')),\r\n            r\r\n          )\r\n        }\r\n        function h (t) {\r\n          return !t.ended && (t.needReadable || t.length < t.highWaterMark || 0 === t.length)\r\n        }\r\n        function p (t) {\r\n          return (\r\n            t >= W\r\n              ? (t = W)\r\n              : (t--, (t |= t >>> 1), (t |= t >>> 2), (t |= t >>> 4), (t |= t >>> 8), (t |= t >>> 16), t++),\r\n            t\r\n          )\r\n        }\r\n        function d (t, e) {\r\n          return t <= 0 || (0 === e.length && e.ended)\r\n            ? 0\r\n            : e.objectMode\r\n            ? 1\r\n            : t !== t\r\n            ? e.flowing && e.length\r\n              ? e.buffer.head.data.length\r\n              : e.length\r\n            : (t > e.highWaterMark && (e.highWaterMark = p(t)),\r\n              t <= e.length ? t : e.ended ? e.length : ((e.needReadable = !0), 0))\r\n        }\r\n        function g (t, e) {\r\n          if (!e.ended) {\r\n            if (e.decoder) {\r\n              var r = e.decoder.end()\r\n              r && r.length && (e.buffer.push(r), (e.length += e.objectMode ? 1 : r.length))\r\n            }\r\n            ;(e.ended = !0), v(t)\r\n          }\r\n        }\r\n        function v (t) {\r\n          var e = t._readableState\r\n          ;(e.needReadable = !1),\r\n            e.emittedReadable ||\r\n              (F('emitReadable', e.flowing), (e.emittedReadable = !0), e.sync ? B.nextTick(b, t) : b(t))\r\n        }\r\n        function b (t) {\r\n          F('emit readable'), t.emit('readable'), j(t)\r\n        }\r\n        function y (t, e) {\r\n          e.readingMore || ((e.readingMore = !0), B.nextTick(m, t, e))\r\n        }\r\n        function m (t, e) {\r\n          for (\r\n            var r = e.length;\r\n            !e.reading &&\r\n            !e.flowing &&\r\n            !e.ended &&\r\n            e.length < e.highWaterMark &&\r\n            (F('maybeReadMore read 0'), t.read(0), r !== e.length);\r\n\r\n          )\r\n            r = e.length\r\n          e.readingMore = !1\r\n        }\r\n        function _ (t) {\r\n          return function () {\r\n            var e = t._readableState\r\n            F('pipeOnDrain', e.awaitDrain),\r\n              e.awaitDrain && e.awaitDrain--,\r\n              0 === e.awaitDrain && P(t, 'data') && ((e.flowing = !0), j(t))\r\n          }\r\n        }\r\n        function w (t) {\r\n          F('readable nexttick read 0'), t.read(0)\r\n        }\r\n        function x (t, e) {\r\n          e.resumeScheduled || ((e.resumeScheduled = !0), B.nextTick(S, t, e))\r\n        }\r\n        function S (t, e) {\r\n          e.reading || (F('resume read 0'), t.read(0)),\r\n            (e.resumeScheduled = !1),\r\n            (e.awaitDrain = 0),\r\n            t.emit('resume'),\r\n            j(t),\r\n            e.flowing && !e.reading && t.read(0)\r\n        }\r\n        function j (t) {\r\n          var e = t._readableState\r\n          for (F('flow', e.flowing); e.flowing && null !== t.read(); );\r\n        }\r\n        function k (t, e) {\r\n          if (0 === e.length) return null\r\n          var r\r\n          return (\r\n            e.objectMode\r\n              ? (r = e.buffer.shift())\r\n              : !t || t >= e.length\r\n              ? ((r = e.decoder\r\n                  ? e.buffer.join('')\r\n                  : 1 === e.buffer.length\r\n                  ? e.buffer.head.data\r\n                  : e.buffer.concat(e.length)),\r\n                e.buffer.clear())\r\n              : (r = E(t, e.buffer, e.decoder)),\r\n            r\r\n          )\r\n        }\r\n        function E (t, e, r) {\r\n          var n\r\n          return (\r\n            t < e.head.data.length\r\n              ? ((n = e.head.data.slice(0, t)), (e.head.data = e.head.data.slice(t)))\r\n              : (n = t === e.head.data.length ? e.shift() : r ? A(t, e) : T(t, e)),\r\n            n\r\n          )\r\n        }\r\n        function A (t, e) {\r\n          var r = e.head,\r\n            n = 1,\r\n            i = r.data\r\n          for (t -= i.length; (r = r.next); ) {\r\n            var o = r.data,\r\n              a = t > o.length ? o.length : t\r\n            if ((a === o.length ? (i += o) : (i += o.slice(0, t)), 0 === (t -= a))) {\r\n              a === o.length\r\n                ? (++n, r.next ? (e.head = r.next) : (e.head = e.tail = null))\r\n                : ((e.head = r), (r.data = o.slice(a)))\r\n              break\r\n            }\r\n            ++n\r\n          }\r\n          return (e.length -= n), i\r\n        }\r\n        function T (t, e) {\r\n          var r = R.allocUnsafe(t),\r\n            n = e.head,\r\n            i = 1\r\n          for (n.data.copy(r), t -= n.data.length; (n = n.next); ) {\r\n            var o = n.data,\r\n              a = t > o.length ? o.length : t\r\n            if ((o.copy(r, r.length - t, 0, a), 0 === (t -= a))) {\r\n              a === o.length\r\n                ? (++i, n.next ? (e.head = n.next) : (e.head = e.tail = null))\r\n                : ((e.head = n), (n.data = o.slice(a)))\r\n              break\r\n            }\r\n            ++i\r\n          }\r\n          return (e.length -= i), r\r\n        }\r\n        function O (t) {\r\n          var e = t._readableState\r\n          if (e.length > 0) throw new Error('\"endReadable()\" called on non-empty stream')\r\n          e.endEmitted || ((e.ended = !0), B.nextTick(L, e, t))\r\n        }\r\n        function L (t, e) {\r\n          t.endEmitted || 0 !== t.length || ((t.endEmitted = !0), (e.readable = !1), e.emit('end'))\r\n        }\r\n        function C (t, e) {\r\n          for (var r = 0, n = t.length; r < n; r++) if (t[r] === e) return r\r\n          return -1\r\n        }\r\n        var B = r(14)\r\n        t.exports = u\r\n        var D,\r\n          q = r(29)\r\n        u.ReadableState = s\r\n        var P = (r(13).EventEmitter,\r\n          function (t, e) {\r\n            return t.listeners(e).length\r\n          }),\r\n          M = r(37),\r\n          R = r(15).Buffer,\r\n          I = e.Uint8Array || function () {},\r\n          N = r(8)\r\n        N.inherits = r(1)\r\n        var U = r(63),\r\n          F = void 0\r\n        F = U && U.debuglog ? U.debuglog('stream') : function () {}\r\n        var z,\r\n          V = r(64),\r\n          $ = r(38)\r\n        N.inherits(u, M)\r\n        var H = ['error', 'close', 'destroy', 'pause', 'resume']\r\n        Object.defineProperty(u.prototype, 'destroyed', {\r\n          get: function () {\r\n            return void 0 !== this._readableState && this._readableState.destroyed\r\n          },\r\n          set: function (t) {\r\n            this._readableState && (this._readableState.destroyed = t)\r\n          }\r\n        }),\r\n          (u.prototype.destroy = $.destroy),\r\n          (u.prototype._undestroy = $.undestroy),\r\n          (u.prototype._destroy = function (t, e) {\r\n            this.push(null), e(t)\r\n          }),\r\n          (u.prototype.push = function (t, e) {\r\n            var r,\r\n              n = this._readableState\r\n            return (\r\n              n.objectMode\r\n                ? (r = !0)\r\n                : 'string' == typeof t &&\r\n                  ((e = e || n.defaultEncoding), e !== n.encoding && ((t = R.from(t, e)), (e = '')), (r = !0)),\r\n              c(this, t, e, !1, r)\r\n            )\r\n          }),\r\n          (u.prototype.unshift = function (t) {\r\n            return c(this, t, null, !0, !1)\r\n          }),\r\n          (u.prototype.isPaused = function () {\r\n            return !1 === this._readableState.flowing\r\n          }),\r\n          (u.prototype.setEncoding = function (t) {\r\n            return (\r\n              z || (z = r(22).StringDecoder),\r\n              (this._readableState.decoder = new z(t)),\r\n              (this._readableState.encoding = t),\r\n              this\r\n            )\r\n          })\r\n        var W = 8388608\r\n        ;(u.prototype.read = function (t) {\r\n          F('read', t), (t = parseInt(t, 10))\r\n          var e = this._readableState,\r\n            r = t\r\n          if (\r\n            (0 !== t && (e.emittedReadable = !1), 0 === t && e.needReadable && (e.length >= e.highWaterMark || e.ended))\r\n          )\r\n            return F('read: emitReadable', e.length, e.ended), 0 === e.length && e.ended ? O(this) : v(this), null\r\n          if (0 === (t = d(t, e)) && e.ended) return 0 === e.length && O(this), null\r\n          var n = e.needReadable\r\n          F('need readable', n),\r\n            (0 === e.length || e.length - t < e.highWaterMark) && ((n = !0), F('length less than watermark', n)),\r\n            e.ended || e.reading\r\n              ? ((n = !1), F('reading or ended', n))\r\n              : n &&\r\n                (F('do read'),\r\n                (e.reading = !0),\r\n                (e.sync = !0),\r\n                0 === e.length && (e.needReadable = !0),\r\n                this._read(e.highWaterMark),\r\n                (e.sync = !1),\r\n                e.reading || (t = d(r, e)))\r\n          var i\r\n          return (\r\n            (i = t > 0 ? k(t, e) : null),\r\n            null === i ? ((e.needReadable = !0), (t = 0)) : (e.length -= t),\r\n            0 === e.length && (e.ended || (e.needReadable = !0), r !== t && e.ended && O(this)),\r\n            null !== i && this.emit('data', i),\r\n            i\r\n          )\r\n        }),\r\n          (u.prototype._read = function (t) {\r\n            this.emit('error', new Error('_read() is not implemented'))\r\n          }),\r\n          (u.prototype.pipe = function (t, e) {\r\n            function r (t, e) {\r\n              F('onunpipe'), t === h && e && !1 === e.hasUnpiped && ((e.hasUnpiped = !0), o())\r\n            }\r\n            function i () {\r\n              F('onend'), t.end()\r\n            }\r\n            function o () {\r\n              F('cleanup'),\r\n                t.removeListener('close', c),\r\n                t.removeListener('finish', l),\r\n                t.removeListener('drain', v),\r\n                t.removeListener('error', u),\r\n                t.removeListener('unpipe', r),\r\n                h.removeListener('end', i),\r\n                h.removeListener('end', f),\r\n                h.removeListener('data', s),\r\n                (b = !0),\r\n                !p.awaitDrain || (t._writableState && !t._writableState.needDrain) || v()\r\n            }\r\n            function s (e) {\r\n              F('ondata'),\r\n                (y = !1),\r\n                !1 !== t.write(e) ||\r\n                  y ||\r\n                  (((1 === p.pipesCount && p.pipes === t) || (p.pipesCount > 1 && -1 !== C(p.pipes, t))) &&\r\n                    !b &&\r\n                    (F('false write response, pause', h._readableState.awaitDrain),\r\n                    h._readableState.awaitDrain++,\r\n                    (y = !0)),\r\n                  h.pause())\r\n            }\r\n            function u (e) {\r\n              F('onerror', e), f(), t.removeListener('error', u), 0 === P(t, 'error') && t.emit('error', e)\r\n            }\r\n            function c () {\r\n              t.removeListener('finish', l), f()\r\n            }\r\n            function l () {\r\n              F('onfinish'), t.removeListener('close', c), f()\r\n            }\r\n            function f () {\r\n              F('unpipe'), h.unpipe(t)\r\n            }\r\n            var h = this,\r\n              p = this._readableState\r\n            switch (p.pipesCount) {\r\n              case 0:\r\n                p.pipes = t\r\n                break\r\n              case 1:\r\n                p.pipes = [p.pipes, t]\r\n                break\r\n              default:\r\n                p.pipes.push(t)\r\n            }\r\n            ;(p.pipesCount += 1), F('pipe count=%d opts=%j', p.pipesCount, e)\r\n            var d = (!e || !1 !== e.end) && t !== n.stdout && t !== n.stderr,\r\n              g = d ? i : f\r\n            p.endEmitted ? B.nextTick(g) : h.once('end', g), t.on('unpipe', r)\r\n            var v = _(h)\r\n            t.on('drain', v)\r\n            var b = !1,\r\n              y = !1\r\n            return (\r\n              h.on('data', s),\r\n              a(t, 'error', u),\r\n              t.once('close', c),\r\n              t.once('finish', l),\r\n              t.emit('pipe', h),\r\n              p.flowing || (F('pipe resume'), h.resume()),\r\n              t\r\n            )\r\n          }),\r\n          (u.prototype.unpipe = function (t) {\r\n            var e = this._readableState,\r\n              r = { hasUnpiped: !1 }\r\n            if (0 === e.pipesCount) return this\r\n            if (1 === e.pipesCount)\r\n              return t && t !== e.pipes\r\n                ? this\r\n                : (t || (t = e.pipes),\r\n                  (e.pipes = null),\r\n                  (e.pipesCount = 0),\r\n                  (e.flowing = !1),\r\n                  t && t.emit('unpipe', this, r),\r\n                  this)\r\n            if (!t) {\r\n              var n = e.pipes,\r\n                i = e.pipesCount\r\n              ;(e.pipes = null), (e.pipesCount = 0), (e.flowing = !1)\r\n              for (var o = 0; o < i; o++) n[o].emit('unpipe', this, r)\r\n              return this\r\n            }\r\n            var a = C(e.pipes, t)\r\n            return -1 === a\r\n              ? this\r\n              : (e.pipes.splice(a, 1),\r\n                (e.pipesCount -= 1),\r\n                1 === e.pipesCount && (e.pipes = e.pipes[0]),\r\n                t.emit('unpipe', this, r),\r\n                this)\r\n          }),\r\n          (u.prototype.on = function (t, e) {\r\n            var r = M.prototype.on.call(this, t, e)\r\n            if ('data' === t) !1 !== this._readableState.flowing && this.resume()\r\n            else if ('readable' === t) {\r\n              var n = this._readableState\r\n              n.endEmitted ||\r\n                n.readableListening ||\r\n                ((n.readableListening = n.needReadable = !0),\r\n                (n.emittedReadable = !1),\r\n                n.reading ? n.length && v(this) : B.nextTick(w, this))\r\n            }\r\n            return r\r\n          }),\r\n          (u.prototype.addListener = u.prototype.on),\r\n          (u.prototype.resume = function () {\r\n            var t = this._readableState\r\n            return t.flowing || (F('resume'), (t.flowing = !0), x(this, t)), this\r\n          }),\r\n          (u.prototype.pause = function () {\r\n            return (\r\n              F('call pause flowing=%j', this._readableState.flowing),\r\n              !1 !== this._readableState.flowing &&\r\n                (F('pause'), (this._readableState.flowing = !1), this.emit('pause')),\r\n              this\r\n            )\r\n          }),\r\n          (u.prototype.wrap = function (t) {\r\n            var e = this,\r\n              r = this._readableState,\r\n              n = !1\r\n            t.on('end', function () {\r\n              if ((F('wrapped end'), r.decoder && !r.ended)) {\r\n                var t = r.decoder.end()\r\n                t && t.length && e.push(t)\r\n              }\r\n              e.push(null)\r\n            }),\r\n              t.on('data', function (i) {\r\n                if (\r\n                  (F('wrapped data'),\r\n                  r.decoder && (i = r.decoder.write(i)),\r\n                  (!r.objectMode || (null !== i && void 0 !== i)) && (r.objectMode || (i && i.length)))\r\n                ) {\r\n                  e.push(i) || ((n = !0), t.pause())\r\n                }\r\n              })\r\n            for (var i in t)\r\n              void 0 === this[i] &&\r\n                'function' == typeof t[i] &&\r\n                (this[i] = (function (e) {\r\n                  return function () {\r\n                    return t[e].apply(t, arguments)\r\n                  }\r\n                })(i))\r\n            for (var o = 0; o < H.length; o++) t.on(H[o], this.emit.bind(this, H[o]))\r\n            return (\r\n              (this._read = function (e) {\r\n                F('wrapped _read', e), n && ((n = !1), t.resume())\r\n              }),\r\n              this\r\n            )\r\n          }),\r\n          Object.defineProperty(u.prototype, 'readableHighWaterMark', {\r\n            enumerable: !1,\r\n            get: function () {\r\n              return this._readableState.highWaterMark\r\n            }\r\n          }),\r\n          (u._fromList = k)\r\n      }.call(e, r(0), r(7)))\r\n    },\r\n    function (t, e, r) {\r\n      t.exports = r(13).EventEmitter\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      function n (t, e) {\r\n        var r = this,\r\n          n = this._readableState && this._readableState.destroyed,\r\n          i = this._writableState && this._writableState.destroyed\r\n        return n || i\r\n          ? (e ? e(t) : !t || (this._writableState && this._writableState.errorEmitted) || a.nextTick(o, this, t), this)\r\n          : (this._readableState && (this._readableState.destroyed = !0),\r\n            this._writableState && (this._writableState.destroyed = !0),\r\n            this._destroy(t || null, function (t) {\r\n              !e && t ? (a.nextTick(o, r, t), r._writableState && (r._writableState.errorEmitted = !0)) : e && e(t)\r\n            }),\r\n            this)\r\n      }\r\n      function i () {\r\n        this._readableState &&\r\n          ((this._readableState.destroyed = !1),\r\n          (this._readableState.reading = !1),\r\n          (this._readableState.ended = !1),\r\n          (this._readableState.endEmitted = !1)),\r\n          this._writableState &&\r\n            ((this._writableState.destroyed = !1),\r\n            (this._writableState.ended = !1),\r\n            (this._writableState.ending = !1),\r\n            (this._writableState.finished = !1),\r\n            (this._writableState.errorEmitted = !1))\r\n      }\r\n      function o (t, e) {\r\n        t.emit('error', e)\r\n      }\r\n      var a = r(14)\r\n      t.exports = { destroy: n, undestroy: i }\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      function n (t, e) {\r\n        var r = this._transformState\r\n        r.transforming = !1\r\n        var n = r.writecb\r\n        if (!n) return this.emit('error', new Error('write callback called multiple times'))\r\n        ;(r.writechunk = null), (r.writecb = null), null != e && this.push(e), n(t)\r\n        var i = this._readableState\r\n        ;(i.reading = !1), (i.needReadable || i.length < i.highWaterMark) && this._read(i.highWaterMark)\r\n      }\r\n      function i (t) {\r\n        if (!(this instanceof i)) return new i(t)\r\n        s.call(this, t),\r\n          (this._transformState = {\r\n            afterTransform: n.bind(this),\r\n            needTransform: !1,\r\n            transforming: !1,\r\n            writecb: null,\r\n            writechunk: null,\r\n            writeencoding: null\r\n          }),\r\n          (this._readableState.needReadable = !0),\r\n          (this._readableState.sync = !1),\r\n          t &&\r\n            ('function' == typeof t.transform && (this._transform = t.transform),\r\n            'function' == typeof t.flush && (this._flush = t.flush)),\r\n          this.on('prefinish', o)\r\n      }\r\n      function o () {\r\n        var t = this\r\n        'function' == typeof this._flush\r\n          ? this._flush(function (e, r) {\r\n              a(t, e, r)\r\n            })\r\n          : a(this, null, null)\r\n      }\r\n      function a (t, e, r) {\r\n        if (e) return t.emit('error', e)\r\n        if ((null != r && t.push(r), t._writableState.length))\r\n          throw new Error('Calling transform done when ws.length != 0')\r\n        if (t._transformState.transforming) throw new Error('Calling transform done when still transforming')\r\n        return t.push(null)\r\n      }\r\n      t.exports = i\r\n      var s = r(2),\r\n        u = r(8)\r\n      ;(u.inherits = r(1)),\r\n        u.inherits(i, s),\r\n        (i.prototype.push = function (t, e) {\r\n          return (this._transformState.needTransform = !1), s.prototype.push.call(this, t, e)\r\n        }),\r\n        (i.prototype._transform = function (t, e, r) {\r\n          throw new Error('_transform() is not implemented')\r\n        }),\r\n        (i.prototype._write = function (t, e, r) {\r\n          var n = this._transformState\r\n          if (((n.writecb = r), (n.writechunk = t), (n.writeencoding = e), !n.transforming)) {\r\n            var i = this._readableState\r\n            ;(n.needTransform || i.needReadable || i.length < i.highWaterMark) && this._read(i.highWaterMark)\r\n          }\r\n        }),\r\n        (i.prototype._read = function (t) {\r\n          var e = this._transformState\r\n          null !== e.writechunk && e.writecb && !e.transforming\r\n            ? ((e.transforming = !0), this._transform(e.writechunk, e.writeencoding, e.afterTransform))\r\n            : (e.needTransform = !0)\r\n        }),\r\n        (i.prototype._destroy = function (t, e) {\r\n          var r = this\r\n          s.prototype._destroy.call(this, t, function (t) {\r\n            e(t), r.emit('close')\r\n          })\r\n        })\r\n    },\r\n    function (t, e) {\r\n      function r (t, e, r) {\r\n        switch (r.length) {\r\n          case 0:\r\n            return t.call(e)\r\n          case 1:\r\n            return t.call(e, r[0])\r\n          case 2:\r\n            return t.call(e, r[0], r[1])\r\n          case 3:\r\n            return t.call(e, r[0], r[1], r[2])\r\n        }\r\n        return t.apply(e, r)\r\n      }\r\n      function n (t, e) {\r\n        for (var r = -1, n = Array(t); ++r < t; ) n[r] = e(r)\r\n        return n\r\n      }\r\n      function i (t, e) {\r\n        var r = B(t) || d(t) ? n(t.length, String) : [],\r\n          i = r.length,\r\n          o = !!i\r\n        for (var a in t) (!e && !T.call(t, a)) || (o && ('length' == a || c(a, i))) || r.push(a)\r\n        return r\r\n      }\r\n      function o (t, e, r) {\r\n        var n = t[e]\r\n        ;(T.call(t, e) && p(n, r) && (void 0 !== r || e in t)) || (t[e] = r)\r\n      }\r\n      function a (t) {\r\n        if (!m(t)) return h(t)\r\n        var e = f(t),\r\n          r = []\r\n        for (var n in t) ('constructor' != n || (!e && T.call(t, n))) && r.push(n)\r\n        return r\r\n      }\r\n      function s (t, e) {\r\n        return (\r\n          (e = C(void 0 === e ? t.length - 1 : e, 0)),\r\n          function () {\r\n            for (var n = arguments, i = -1, o = C(n.length - e, 0), a = Array(o); ++i < o; ) a[i] = n[e + i]\r\n            i = -1\r\n            for (var s = Array(e + 1); ++i < e; ) s[i] = n[i]\r\n            return (s[e] = a), r(t, this, s)\r\n          }\r\n        )\r\n      }\r\n      function u (t, e, r, n) {\r\n        r || (r = {})\r\n        for (var i = -1, a = e.length; ++i < a; ) {\r\n          var s = e[i],\r\n            u = n ? n(r[s], t[s], s, r, t) : void 0\r\n          o(r, s, void 0 === u ? t[s] : u)\r\n        }\r\n        return r\r\n      }\r\n      function c (t, e) {\r\n        return !!(e = null == e ? x : e) && ('number' == typeof t || E.test(t)) && t > -1 && t % 1 == 0 && t < e\r\n      }\r\n      function l (t, e, r) {\r\n        if (!m(r)) return !1\r\n        var n = typeof e\r\n        return !!('number' == n ? g(r) && c(e, r.length) : 'string' == n && e in r) && p(r[e], t)\r\n      }\r\n      function f (t) {\r\n        var e = t && t.constructor\r\n        return t === (('function' == typeof e && e.prototype) || A)\r\n      }\r\n      function h (t) {\r\n        var e = []\r\n        if (null != t) for (var r in Object(t)) e.push(r)\r\n        return e\r\n      }\r\n      function p (t, e) {\r\n        return t === e || (t !== t && e !== e)\r\n      }\r\n      function d (t) {\r\n        return v(t) && T.call(t, 'callee') && (!L.call(t, 'callee') || O.call(t) == S)\r\n      }\r\n      function g (t) {\r\n        return null != t && y(t.length) && !b(t)\r\n      }\r\n      function v (t) {\r\n        return _(t) && g(t)\r\n      }\r\n      function b (t) {\r\n        var e = m(t) ? O.call(t) : ''\r\n        return e == j || e == k\r\n      }\r\n      function y (t) {\r\n        return 'number' == typeof t && t > -1 && t % 1 == 0 && t <= x\r\n      }\r\n      function m (t) {\r\n        var e = typeof t\r\n        return !!t && ('object' == e || 'function' == e)\r\n      }\r\n      function _ (t) {\r\n        return !!t && 'object' == typeof t\r\n      }\r\n      function w (t) {\r\n        return g(t) ? i(t, !0) : a(t)\r\n      }\r\n      var x = 9007199254740991,\r\n        S = '[object Arguments]',\r\n        j = '[object Function]',\r\n        k = '[object GeneratorFunction]',\r\n        E = /^(?:0|[1-9]\\d*)$/,\r\n        A = Object.prototype,\r\n        T = A.hasOwnProperty,\r\n        O = A.toString,\r\n        L = A.propertyIsEnumerable,\r\n        C = Math.max,\r\n        B = Array.isArray,\r\n        D = (function (t) {\r\n          return s(function (e, r) {\r\n            var n = -1,\r\n              i = r.length,\r\n              o = i > 1 ? r[i - 1] : void 0,\r\n              a = i > 2 ? r[2] : void 0\r\n            for (\r\n              o = t.length > 3 && 'function' == typeof o ? (i--, o) : void 0,\r\n                a && l(r[0], r[1], a) && ((o = i < 3 ? void 0 : o), (i = 1)),\r\n                e = Object(e);\r\n              ++n < i;\r\n\r\n            ) {\r\n              var s = r[n]\r\n              s && t(e, s, n, o)\r\n            }\r\n            return e\r\n          })\r\n        })(function (t, e) {\r\n          u(e, w(e), t)\r\n        })\r\n      t.exports = D\r\n    },\r\n    function (t, e) {\r\n      function r (t, e, r) {\r\n        switch (r.length) {\r\n          case 0:\r\n            return t.call(e)\r\n          case 1:\r\n            return t.call(e, r[0])\r\n          case 2:\r\n            return t.call(e, r[0], r[1])\r\n          case 3:\r\n            return t.call(e, r[0], r[1], r[2])\r\n        }\r\n        return t.apply(e, r)\r\n      }\r\n      function n (t, e) {\r\n        for (var r = -1, n = Array(t); ++r < t; ) n[r] = e(r)\r\n        return n\r\n      }\r\n      function i (t, e) {\r\n        var r = D(t) || g(t) ? n(t.length, String) : [],\r\n          i = r.length,\r\n          o = !!i\r\n        for (var a in t) (!e && !O.call(t, a)) || (o && ('length' == a || l(a, i))) || r.push(a)\r\n        return r\r\n      }\r\n      function o (t, e, r, n) {\r\n        return void 0 === t || (d(t, T[r]) && !O.call(n, r)) ? e : t\r\n      }\r\n      function a (t, e, r) {\r\n        var n = t[e]\r\n        ;(O.call(t, e) && d(n, r) && (void 0 !== r || e in t)) || (t[e] = r)\r\n      }\r\n      function s (t) {\r\n        if (!_(t)) return p(t)\r\n        var e = h(t),\r\n          r = []\r\n        for (var n in t) ('constructor' != n || (!e && O.call(t, n))) && r.push(n)\r\n        return r\r\n      }\r\n      function u (t, e) {\r\n        return (\r\n          (e = B(void 0 === e ? t.length - 1 : e, 0)),\r\n          function () {\r\n            for (var n = arguments, i = -1, o = B(n.length - e, 0), a = Array(o); ++i < o; ) a[i] = n[e + i]\r\n            i = -1\r\n            for (var s = Array(e + 1); ++i < e; ) s[i] = n[i]\r\n            return (s[e] = a), r(t, this, s)\r\n          }\r\n        )\r\n      }\r\n      function c (t, e, r, n) {\r\n        r || (r = {})\r\n        for (var i = -1, o = e.length; ++i < o; ) {\r\n          var s = e[i],\r\n            u = n ? n(r[s], t[s], s, r, t) : void 0\r\n          a(r, s, void 0 === u ? t[s] : u)\r\n        }\r\n        return r\r\n      }\r\n      function l (t, e) {\r\n        return !!(e = null == e ? S : e) && ('number' == typeof t || A.test(t)) && t > -1 && t % 1 == 0 && t < e\r\n      }\r\n      function f (t, e, r) {\r\n        if (!_(r)) return !1\r\n        var n = typeof e\r\n        return !!('number' == n ? v(r) && l(e, r.length) : 'string' == n && e in r) && d(r[e], t)\r\n      }\r\n      function h (t) {\r\n        var e = t && t.constructor\r\n        return t === (('function' == typeof e && e.prototype) || T)\r\n      }\r\n      function p (t) {\r\n        var e = []\r\n        if (null != t) for (var r in Object(t)) e.push(r)\r\n        return e\r\n      }\r\n      function d (t, e) {\r\n        return t === e || (t !== t && e !== e)\r\n      }\r\n      function g (t) {\r\n        return b(t) && O.call(t, 'callee') && (!C.call(t, 'callee') || L.call(t) == j)\r\n      }\r\n      function v (t) {\r\n        return null != t && m(t.length) && !y(t)\r\n      }\r\n      function b (t) {\r\n        return w(t) && v(t)\r\n      }\r\n      function y (t) {\r\n        var e = _(t) ? L.call(t) : ''\r\n        return e == k || e == E\r\n      }\r\n      function m (t) {\r\n        return 'number' == typeof t && t > -1 && t % 1 == 0 && t <= S\r\n      }\r\n      function _ (t) {\r\n        var e = typeof t\r\n        return !!t && ('object' == e || 'function' == e)\r\n      }\r\n      function w (t) {\r\n        return !!t && 'object' == typeof t\r\n      }\r\n      function x (t) {\r\n        return v(t) ? i(t, !0) : s(t)\r\n      }\r\n      var S = 9007199254740991,\r\n        j = '[object Arguments]',\r\n        k = '[object Function]',\r\n        E = '[object GeneratorFunction]',\r\n        A = /^(?:0|[1-9]\\d*)$/,\r\n        T = Object.prototype,\r\n        O = T.hasOwnProperty,\r\n        L = T.toString,\r\n        C = T.propertyIsEnumerable,\r\n        B = Math.max,\r\n        D = Array.isArray,\r\n        q = (function (t) {\r\n          return u(function (e, r) {\r\n            var n = -1,\r\n              i = r.length,\r\n              o = i > 1 ? r[i - 1] : void 0,\r\n              a = i > 2 ? r[2] : void 0\r\n            for (\r\n              o = t.length > 3 && 'function' == typeof o ? (i--, o) : void 0,\r\n                a && f(r[0], r[1], a) && ((o = i < 3 ? void 0 : o), (i = 1)),\r\n                e = Object(e);\r\n              ++n < i;\r\n\r\n            ) {\r\n              var s = r[n]\r\n              s && t(e, s, n, o)\r\n            }\r\n            return e\r\n          })\r\n        })(function (t, e, r, n) {\r\n          c(e, x(e), t, n)\r\n        }),\r\n        P = u(function (t) {\r\n          return t.push(void 0, o), r(q, void 0, t)\r\n        })\r\n      t.exports = P\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      function n (t) {\r\n        return function (e, r, n) {\r\n          return 'function' != typeof e && (e = d(e, n, r)), (r = Array.isArray(r) ? f(r) : l(r)), t(e, r)\r\n        }\r\n      }\r\n      function i (t, e, r) {\r\n        return ('function' == typeof e ? e : p(e, r))(t)\r\n      }\r\n      function o (t, e, r) {\r\n        return v(t, e, r)\r\n      }\r\n      t.exports = o\r\n      var a = r(26),\r\n        s = r(4),\r\n        u = s.findOne,\r\n        c = s.findAll,\r\n        l = s.getChildren,\r\n        f = s.removeSubsets,\r\n        h = r(10).falseFunc,\r\n        p = r(91),\r\n        d = p.compileUnsafe,\r\n        g = p.compileToken,\r\n        v = n(function (t, e) {\r\n          return t !== h && e && 0 !== e.length ? c(t, e) : []\r\n        }),\r\n        b = n(function (t, e) {\r\n          return t !== h && e && 0 !== e.length ? u(t, e) : null\r\n        })\r\n      ;(o.compile = p),\r\n        (o.filters = a.filters),\r\n        (o.pseudos = a.pseudos),\r\n        (o.selectAll = v),\r\n        (o.selectOne = b),\r\n        (o.is = i),\r\n        (o.parse = p),\r\n        (o.iterate = v),\r\n        (o._compileUnsafe = d),\r\n        (o._compileToken = g)\r\n    },\r\n    function (t, e, r) {\r\n      var n = r(4),\r\n        i = n.hasAttrib,\r\n        o = n.getAttributeValue,\r\n        a = r(10).falseFunc,\r\n        s = /[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\r\n        u = {\r\n          __proto__: null,\r\n          equals: function (t, e) {\r\n            var r = e.name,\r\n              n = e.value\r\n            return e.ignoreCase\r\n              ? ((n = n.toLowerCase()),\r\n                function (e) {\r\n                  var i = o(e, r)\r\n                  return null != i && i.toLowerCase() === n && t(e)\r\n                })\r\n              : function (e) {\r\n                  return o(e, r) === n && t(e)\r\n                }\r\n          },\r\n          hyphen: function (t, e) {\r\n            var r = e.name,\r\n              n = e.value,\r\n              i = n.length\r\n            return e.ignoreCase\r\n              ? ((n = n.toLowerCase()),\r\n                function (e) {\r\n                  var a = o(e, r)\r\n                  return (\r\n                    null != a && (a.length === i || '-' === a.charAt(i)) && a.substr(0, i).toLowerCase() === n && t(e)\r\n                  )\r\n                })\r\n              : function (e) {\r\n                  var a = o(e, r)\r\n                  return null != a && a.substr(0, i) === n && (a.length === i || '-' === a.charAt(i)) && t(e)\r\n                }\r\n          },\r\n          element: function (t, e) {\r\n            var r = e.name,\r\n              n = e.value\r\n            if (/\\s/.test(n)) return a\r\n            n = n.replace(s, '\\\\$&')\r\n            var i = '(?:^|\\\\s)' + n + '(?:$|\\\\s)',\r\n              u = e.ignoreCase ? 'i' : '',\r\n              c = new RegExp(i, u)\r\n            return function (e) {\r\n              var n = o(e, r)\r\n              return null != n && c.test(n) && t(e)\r\n            }\r\n          },\r\n          exists: function (t, e) {\r\n            var r = e.name\r\n            return function (e) {\r\n              return i(e, r) && t(e)\r\n            }\r\n          },\r\n          start: function (t, e) {\r\n            var r = e.name,\r\n              n = e.value,\r\n              i = n.length\r\n            return 0 === i\r\n              ? a\r\n              : e.ignoreCase\r\n              ? ((n = n.toLowerCase()),\r\n                function (e) {\r\n                  var a = o(e, r)\r\n                  return null != a && a.substr(0, i).toLowerCase() === n && t(e)\r\n                })\r\n              : function (e) {\r\n                  var a = o(e, r)\r\n                  return null != a && a.substr(0, i) === n && t(e)\r\n                }\r\n          },\r\n          end: function (t, e) {\r\n            var r = e.name,\r\n              n = e.value,\r\n              i = -n.length\r\n            return 0 === i\r\n              ? a\r\n              : e.ignoreCase\r\n              ? ((n = n.toLowerCase()),\r\n                function (e) {\r\n                  var a = o(e, r)\r\n                  return null != a && a.substr(i).toLowerCase() === n && t(e)\r\n                })\r\n              : function (e) {\r\n                  var a = o(e, r)\r\n                  return null != a && a.substr(i) === n && t(e)\r\n                }\r\n          },\r\n          any: function (t, e) {\r\n            var r = e.name,\r\n              n = e.value\r\n            if ('' === n) return a\r\n            if (e.ignoreCase) {\r\n              var i = new RegExp(n.replace(s, '\\\\$&'), 'i')\r\n              return function (e) {\r\n                var n = o(e, r)\r\n                return null != n && i.test(n) && t(e)\r\n              }\r\n            }\r\n            return function (e) {\r\n              var i = o(e, r)\r\n              return null != i && i.indexOf(n) >= 0 && t(e)\r\n            }\r\n          },\r\n          not: function (t, e) {\r\n            var r = e.name,\r\n              n = e.value\r\n            return '' === n\r\n              ? function (e) {\r\n                  return !!o(e, r) && t(e)\r\n                }\r\n              : e.ignoreCase\r\n              ? ((n = n.toLowerCase()),\r\n                function (e) {\r\n                  var i = o(e, r)\r\n                  return null != i && i.toLowerCase() !== n && t(e)\r\n                })\r\n              : function (e) {\r\n                  return o(e, r) !== n && t(e)\r\n                }\r\n          }\r\n        }\r\n      t.exports = {\r\n        compile: function (t, e, r) {\r\n          if (r && r.strict && (e.ignoreCase || 'not' === e.action)) throw SyntaxError('Unsupported attribute selector')\r\n          return u[e.action](t, e)\r\n        },\r\n        rules: u\r\n      }\r\n    },\r\n    function (t, e) {\r\n      t.exports = {\r\n        universal: 50,\r\n        tag: 30,\r\n        attribute: 1,\r\n        pseudo: 0,\r\n        descendant: -1,\r\n        child: -1,\r\n        parent: -1,\r\n        sibling: -1,\r\n        adjacent: -1\r\n      }\r\n    },\r\n    function (t, e, r) {\r\n      function n (t) {\r\n        function e (t) {\r\n          return t ? w[w.length - 1 - t] : _\r\n        }\r\n        function r (t) {\r\n          return t === n(1)\r\n        }\r\n        function n (e) {\r\n          return t[b + (e || 1)]\r\n        }\r\n        function s () {\r\n          var t = w.pop()\r\n          return (_ = w[w.length - 1]), t\r\n        }\r\n        function u (t) {\r\n          return (_ = t), w.push(_), w.length\r\n        }\r\n        function c (t) {\r\n          var e = _\r\n          return (w[w.length - 1] = _ = t), e\r\n        }\r\n        function l (e) {\r\n          if (1 == (e || 1)) '\\n' == t[b] ? (m++, (v = 1)) : v++, b++\r\n          else {\r\n            var r = t.slice(b, b + e).split('\\n')\r\n            r.length > 1 && ((m += r.length - 1), (v = 1)), (v += r[r.length - 1].length), (b += e)\r\n          }\r\n        }\r\n        function f () {\r\n          ;(x.end = { line: m, col: v }), i && a('addToken:', JSON.stringify(x, null, 2)), S.push(x), (g = ''), (x = {})\r\n        }\r\n        function h (t) {\r\n          x = { type: t, start: { line: m, col: v } }\r\n        }\r\n        var p,\r\n          d,\r\n          g = '',\r\n          v = 0,\r\n          b = -1,\r\n          y = 0,\r\n          m = 1,\r\n          _ = 'before-selector',\r\n          w = [_],\r\n          x = {},\r\n          S = [],\r\n          j = [\r\n            'media',\r\n            'keyframes',\r\n            { name: '-webkit-keyframes', type: 'keyframes', prefix: '-webkit-' },\r\n            { name: '-moz-keyframes', type: 'keyframes', prefix: '-moz-' },\r\n            { name: '-ms-keyframes', type: 'keyframes', prefix: '-ms-' },\r\n            { name: '-o-keyframes', type: 'keyframes', prefix: '-o-' },\r\n            'font-face',\r\n            { name: 'import', state: 'before-at-value' },\r\n            { name: 'charset', state: 'before-at-value' },\r\n            'supports',\r\n            'viewport',\r\n            { name: 'namespace', state: 'before-at-value' },\r\n            'document',\r\n            { name: '-moz-document', type: 'document', prefix: '-moz-' },\r\n            'page'\r\n          ]\r\n        for (\r\n          o && (p = Date.now());\r\n          (d = (function () {\r\n            return l(), t[b]\r\n          })());\r\n\r\n        )\r\n          switch ((i && a(d, e()), d)) {\r\n            case ' ':\r\n              switch (e()) {\r\n                case 'selector':\r\n                case 'value':\r\n                case 'value-paren':\r\n                case 'at-group':\r\n                case 'at-value':\r\n                case 'comment':\r\n                case 'double-string':\r\n                case 'single-string':\r\n                  g += d\r\n              }\r\n              break\r\n            case '\\n':\r\n            case '\\t':\r\n            case '\\r':\r\n            case '\\f':\r\n              switch (e()) {\r\n                case 'value':\r\n                case 'value-paren':\r\n                case 'at-group':\r\n                case 'comment':\r\n                case 'single-string':\r\n                case 'double-string':\r\n                case 'selector':\r\n                  g += d\r\n                  break\r\n                case 'at-value':\r\n                  '\\n' === d && ((x.value = g.trim()), f(), s())\r\n              }\r\n              break\r\n            case ':':\r\n              switch (e()) {\r\n                case 'name':\r\n                  ;(x.name = g.trim()), (g = ''), c('before-value')\r\n                  break\r\n                case 'before-selector':\r\n                  ;(g += d), h('selector'), u('selector')\r\n                  break\r\n                case 'before-value':\r\n                  c('value'), (g += d)\r\n                  break\r\n                default:\r\n                  g += d\r\n              }\r\n              break\r\n            case ';':\r\n              switch (e()) {\r\n                case 'name':\r\n                case 'before-value':\r\n                case 'value':\r\n                  g.trim().length > 0 && ((x.value = g.trim()), f()), c('before-name')\r\n                  break\r\n                case 'value-paren':\r\n                  g += d\r\n                  break\r\n                case 'at-value':\r\n                  ;(x.value = g.trim()), f(), s()\r\n                  break\r\n                case 'before-name':\r\n                  break\r\n                default:\r\n                  g += d\r\n              }\r\n              break\r\n            case '{':\r\n              switch (e()) {\r\n                case 'selector':\r\n                  if ('\\\\' === n(-1)) {\r\n                    g += d\r\n                    break\r\n                  }\r\n                  ;(x.text = g.trim()), f(), c('before-name'), (y += 1)\r\n                  break\r\n                case 'at-group':\r\n                  switch (((x.name = g.trim()), x.type)) {\r\n                    case 'font-face':\r\n                    case 'viewport':\r\n                    case 'page':\r\n                      u('before-name')\r\n                      break\r\n                    default:\r\n                      u('before-selector')\r\n                  }\r\n                  f(), (y += 1)\r\n                  break\r\n                case 'name':\r\n                case 'at-rule':\r\n                  ;(x.name = g.trim()), f(), u('before-name'), (y += 1)\r\n                  break\r\n                case 'comment':\r\n                case 'double-string':\r\n                case 'single-string':\r\n                  g += d\r\n                  break\r\n                case 'before-value':\r\n                  c('value'), (g += d)\r\n              }\r\n              break\r\n            case '}':\r\n              switch (e()) {\r\n                case 'before-name':\r\n                case 'name':\r\n                case 'before-value':\r\n                case 'value':\r\n                  g && (x.value = g.trim()),\r\n                    x.name && x.value && f(),\r\n                    h('end'),\r\n                    f(),\r\n                    s(),\r\n                    'at-group' === e() && (h('at-group-end'), f(), s()),\r\n                    y > 0 && (y -= 1)\r\n                  break\r\n                case 'at-group':\r\n                case 'before-selector':\r\n                case 'selector':\r\n                  if ('\\\\' === n(-1)) {\r\n                    g += d\r\n                    break\r\n                  }\r\n                  y > 0 && 'at-group' === e(1) && (h('at-group-end'), f()), y > 1 && s(), y > 0 && (y -= 1)\r\n                  break\r\n                case 'double-string':\r\n                case 'single-string':\r\n                case 'comment':\r\n                  g += d\r\n              }\r\n              break\r\n            case '\"':\r\n            case \"'\":\r\n              switch (e()) {\r\n                case 'double-string':\r\n                  '\"' === d && '\\\\' !== n(-1) && s()\r\n                  break\r\n                case 'single-string':\r\n                  \"'\" === d && '\\\\' !== n(-1) && s()\r\n                  break\r\n                case 'before-at-value':\r\n                  c('at-value'), u('\"' === d ? 'double-string' : 'single-string')\r\n                  break\r\n                case 'before-value':\r\n                  c('value'), u('\"' === d ? 'double-string' : 'single-string')\r\n                  break\r\n                case 'comment':\r\n                  break\r\n                default:\r\n                  '\\\\' !== n(-1) && u('\"' === d ? 'double-string' : 'single-string')\r\n              }\r\n              g += d\r\n              break\r\n            case '/':\r\n              switch (e()) {\r\n                case 'comment':\r\n                case 'double-string':\r\n                case 'single-string':\r\n                  g += d\r\n                  break\r\n                case 'before-value':\r\n                case 'selector':\r\n                case 'name':\r\n                case 'value':\r\n                  if (r('*')) {\r\n                    var k = (function (e) {\r\n                      var r = t.slice(b).indexOf(e)\r\n                      return r > 0 && r\r\n                    })('*/')\r\n                    k && l(k + 1)\r\n                  } else 'before-value' == e() && c('value'), (g += d)\r\n                  break\r\n                default:\r\n                  r('*') ? (h('comment'), u('comment'), l()) : (g += d)\r\n              }\r\n              break\r\n            case '*':\r\n              switch (e()) {\r\n                case 'comment':\r\n                  r('/') ? ((x.text = g), l(), f(), s()) : (g += d)\r\n                  break\r\n                case 'before-selector':\r\n                  ;(g += d), h('selector'), u('selector')\r\n                  break\r\n                case 'before-value':\r\n                  c('value'), (g += d)\r\n                  break\r\n                default:\r\n                  g += d\r\n              }\r\n              break\r\n            case '@':\r\n              switch (e()) {\r\n                case 'comment':\r\n                case 'double-string':\r\n                case 'single-string':\r\n                  g += d\r\n                  break\r\n                case 'before-value':\r\n                  c('value'), (g += d)\r\n                  break\r\n                default:\r\n                  for (var E, A, T = !1, O = 0, L = j.length; !T && O < L; ++O)\r\n                    (A = j[O]),\r\n                      (E = A.name || A),\r\n                      (function (e) {\r\n                        var r = b + 1\r\n                        return e === t.slice(r, r + e.length)\r\n                      })(E) &&\r\n                        ((T = !0),\r\n                        h(E),\r\n                        u(A.state || 'at-group'),\r\n                        l(E.length),\r\n                        A.prefix && (x.prefix = A.prefix),\r\n                        A.type && (x.type = A.type))\r\n                  T || (g += d)\r\n              }\r\n              break\r\n            case '(':\r\n              switch (e()) {\r\n                case 'value':\r\n                  u('value-paren')\r\n                  break\r\n                case 'before-value':\r\n                  c('value')\r\n              }\r\n              g += d\r\n              break\r\n            case ')':\r\n              switch (e()) {\r\n                case 'value-paren':\r\n                  s()\r\n                  break\r\n                case 'before-value':\r\n                  c('value')\r\n              }\r\n              g += d\r\n              break\r\n            default:\r\n              switch (e()) {\r\n                case 'before-selector':\r\n                  h('selector'), u('selector')\r\n                  break\r\n                case 'before-name':\r\n                  h('property'), c('name')\r\n                  break\r\n                case 'before-value':\r\n                  c('value')\r\n                  break\r\n                case 'before-at-value':\r\n                  c('at-value')\r\n              }\r\n              g += d\r\n          }\r\n        return o && a('ran in', Date.now() - p + 'ms'), S\r\n      }\r\n      var i = !1,\r\n        o = !1,\r\n        a = r(28)('lex')\r\n      t.exports = n\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      Object.defineProperty(e, '__esModule', { value: !0 })\r\n      var n = r(47),\r\n        i = (function (t) {\r\n          return t && t.__esModule ? t : { default: t }\r\n        })(n)\r\n      e.default = i.default.plugins.add('gjs-preset-newsletter', function (t, e) {\r\n        var n = e || {},\r\n          i = t.getConfig(),\r\n          o = i.stylePrefix,\r\n          a = {\r\n            editor: t,\r\n            pfx: o || '',\r\n            cmdOpenImport: 'gjs-open-import-template',\r\n            cmdTglImages: 'gjs-toggle-images',\r\n            cmdInlineHtml: 'gjs-get-inlined-html',\r\n            cmtTglImagesLabel: 'Toggle Images',\r\n            cmdBtnMoveLabel: 'Move',\r\n            cmdBtnUndoLabel: 'Undo',\r\n            cmdBtnRedoLabel: 'Redo',\r\n            cmdBtnDesktopLabel: 'Desktop',\r\n            cmdBtnTabletLabel: 'Tablet',\r\n            cmdBtnMobileLabel: 'Mobile',\r\n            modalTitleImport: 'Import template',\r\n            modalTitleExport: 'Export template',\r\n            modalLabelImport: '',\r\n            modalLabelExport: '',\r\n            modalBtnImport: 'Import',\r\n            codeViewerTheme: 'hopscotch',\r\n            openBlocksBtnTitle: n.openBlocksBtnTitle || '',\r\n            openLayersBtnTitle: n.openLayersBtnTitle || '',\r\n            openSmBtnTitle: n.openSmBtnTitle || '',\r\n            openTmBtnTitle: n.openTmBtnTitle || '',\r\n            expTplBtnTitle: n.expTplBtnTitle || 'View Code',\r\n            fullScrBtnTitle: n.fullScrBtnTitle || 'FullScreen',\r\n            swichtVwBtnTitle: n.swichtVwBtnTitle || 'View Components',\r\n            categoryLabel: n.categoryLabel || '',\r\n            importPlaceholder: '',\r\n            defaultTemplate: '',\r\n            inlineCss: 1,\r\n            cellStyle: { padding: 0, margin: 0, 'vertical-align': 'top' },\r\n            tableStyle: { height: '150px', margin: '0 auto 10px auto', padding: '5px 5px 5px 5px', width: '100%' },\r\n            sect100BlkLabel: '1 Section',\r\n            sect50BlkLabel: '1/2 Section',\r\n            sect30BlkLabel: '1/3 Section',\r\n            sect37BlkLabel: '3/7 Section',\r\n            buttonBlkLabel: 'Button',\r\n            dividerBlkLabel: 'Divider',\r\n            textBlkLabel: 'Text',\r\n            textSectionBlkLabel: 'Text Section',\r\n            imageBlkLabel: 'Image',\r\n            quoteBlkLabel: 'Quote',\r\n            linkBlkLabel: 'Link',\r\n            linkBlockBlkLabel: 'Link Block',\r\n            gridItemsBlkLabel: 'Grid Items',\r\n            listItemsBlkLabel: 'List Items',\r\n            assetsModalTitle: n.assetsModalTitle || 'Select image',\r\n            styleManagerSectors: [\r\n              {\r\n                name: 'Dimension',\r\n                open: !1,\r\n                buildProps: ['width', 'height', 'max-width', 'min-height', 'margin', 'padding'],\r\n                properties: [\r\n                  {\r\n                    property: 'margin',\r\n                    properties: [\r\n                      { name: 'Top', property: 'margin-top' },\r\n                      { name: 'Left', property: 'margin-left' },\r\n                      { name: 'Right', property: 'margin-right' },\r\n                      { name: 'Bottom', property: 'margin-bottom' }\r\n                    ]\r\n                  },\r\n                  {\r\n                    property: 'padding',\r\n                    properties: [\r\n                      { name: 'Top', property: 'padding-top' },\r\n                      { name: 'Right', property: 'padding-right' },\r\n                      { name: 'Bottom', property: 'padding-bottom' },\r\n                      { name: 'Left', property: 'padding-left' }\r\n                    ]\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                name: 'Typography',\r\n                open: !1,\r\n                buildProps: [\r\n                  'display',\r\n                  'font-family',\r\n                  'font-size',\r\n                  'font-weight',\r\n                  'letter-spacing',\r\n                  'color',\r\n                  'line-height',\r\n                  'text-align',\r\n                  'text-decoration',\r\n                  'font-style',\r\n                  'vertical-align',\r\n                  'text-shadow'\r\n                ],\r\n                properties: [\r\n                  { name: 'Font', property: 'font-family' },\r\n                  { name: 'Weight', property: 'font-weight' },\r\n                  { name: 'Font color', property: 'color' },\r\n                  {\r\n                    property: 'text-align',\r\n                    type: 'radio',\r\n                    defaults: 'left',\r\n                    list: [\r\n                      { value: 'left', name: 'Left', className: 'fa fa-align-left' },\r\n                      { value: 'center', name: 'Center', className: 'fa fa-align-center' },\r\n                      { value: 'right', name: 'Right', className: 'fa fa-align-right' },\r\n                      { value: 'justify', name: 'Justify', className: 'fa fa-align-justify' }\r\n                    ]\r\n                  },\r\n                  {\r\n                    property: 'text-decoration',\r\n                    type: 'radio',\r\n                    defaults: 'none',\r\n                    list: [\r\n                      { value: 'none', name: 'None', className: 'fa fa-times' },\r\n                      { value: 'underline', name: 'underline', className: 'fa fa-underline' },\r\n                      { value: 'line-through', name: 'Line-through', className: 'fa fa-strikethrough' }\r\n                    ]\r\n                  },\r\n                  {\r\n                    property: 'font-style',\r\n                    type: 'radio',\r\n                    defaults: 'normal',\r\n                    list: [\r\n                      { value: 'normal', name: 'Normal', className: 'fa fa-font' },\r\n                      { value: 'italic', name: 'Italic', className: 'fa fa-italic' }\r\n                    ]\r\n                  },\r\n                  {\r\n                    property: 'vertical-align',\r\n                    type: 'select',\r\n                    defaults: 'baseline',\r\n                    list: [{ value: 'baseline' }, { value: 'top' }, { value: 'middle' }, { value: 'bottom' }]\r\n                  },\r\n                  {\r\n                    property: 'text-shadow',\r\n                    properties: [\r\n                      { name: 'X position', property: 'text-shadow-h' },\r\n                      { name: 'Y position', property: 'text-shadow-v' },\r\n                      { name: 'Blur', property: 'text-shadow-blur' },\r\n                      { name: 'Color', property: 'text-shadow-color' }\r\n                    ]\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                name: 'Decorations',\r\n                open: !1,\r\n                buildProps: ['background-color', 'border-collapse', 'border-radius', 'border', 'background'],\r\n                properties: [\r\n                  { property: 'background-color', name: 'Background' },\r\n                  {\r\n                    property: 'border-radius',\r\n                    properties: [\r\n                      { name: 'Top', property: 'border-top-left-radius' },\r\n                      { name: 'Right', property: 'border-top-right-radius' },\r\n                      { name: 'Bottom', property: 'border-bottom-left-radius' },\r\n                      { name: 'Left', property: 'border-bottom-right-radius' }\r\n                    ]\r\n                  },\r\n                  {\r\n                    property: 'border-collapse',\r\n                    type: 'radio',\r\n                    defaults: 'separate',\r\n                    list: [{ value: 'separate', name: 'No' }, { value: 'collapse', name: 'Yes' }]\r\n                  },\r\n                  {\r\n                    property: 'border',\r\n                    properties: [\r\n                      { name: 'Width', property: 'border-width', defaults: '0' },\r\n                      { name: 'Style', property: 'border-style' },\r\n                      { name: 'Color', property: 'border-color' }\r\n                    ]\r\n                  },\r\n                  {\r\n                    property: 'background',\r\n                    properties: [\r\n                      { name: 'Image', property: 'background-image' },\r\n                      { name: 'Repeat', property: 'background-repeat' },\r\n                      { name: 'Position', property: 'background-position' },\r\n                      { name: 'Attachment', property: 'background-attachment' },\r\n                      { name: 'Size', property: 'background-size' }\r\n                    ]\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        i.devicePreviewMode = 1\r\n        for (var s in a) s in n || (n[s] = a[s])\r\n        r(48)(n),\r\n          r(115)(n),\r\n          r(116)(n),\r\n          r(117)(n),\r\n          !t.getHtml() &&\r\n            n.defaultTemplate &&\r\n            (t.setComponents(n.defaultTemplate), t.editor.initChildrenComp(t.DomComponents.getWrapper())),\r\n          t.on('change:selectedComponent', function () {\r\n            var e = t.Panels.getButton('views', 'open-layers')\r\n            if ((!e || !e.get('active')) && t.editor.get('selectedComponent')) {\r\n              var r = t.Panels.getButton('views', 'open-sm')\r\n              r.set('attributes', { title: a.openSmBtnTitle }), r && r.set('active', 1)\r\n            }\r\n          }),\r\n          t.on('run:open-assets', function () {\r\n            t.Modal.setTitle(a.assetsModalTitle)\r\n          }),\r\n          t.on('load', function () {\r\n            t.Panels.getButton('options', 'export-template').set('attributes', { title: a.expTplBtnTitle }),\r\n              t.Panels.getButton('options', 'fullscreen').set('attributes', { title: a.fullScrBtnTitle }),\r\n              t.Panels.getButton('options', 'sw-visibility').set('attributes', { title: a.swichtVwBtnTitle }),\r\n              t.Panels.getButton('views', 'open-sm').set('attributes', { title: a.openSmBtnTitle }),\r\n              t.Panels.getButton('views', 'open-tm').set('attributes', { title: a.openTmBtnTitle }),\r\n              t.Panels.getButton('views', 'open-layers').set('attributes', { title: a.openLayersBtnTitle })\r\n            var e = t.Panels.getButton('views', 'open-blocks')\r\n            e.set('attributes', { title: a.openBlocksBtnTitle }), e && e.set('active', 1)\r\n          })\r\n      })\r\n    },\r\n    function (e, r) {\r\n      e.exports = t\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      var n,\r\n        i = r(49),\r\n        o = (function (t) {\r\n          return t && t.__esModule ? t : { default: t }\r\n        })(i)\r\n      void 0 !==\r\n        (n = function () {\r\n          return function () {\r\n            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n              e = t.editor,\r\n              n = e.Commands,\r\n              i = r(50),\r\n              a = r(51)\r\n            n.add(t.cmdOpenImport, i(t)),\r\n              n.add(t.cmdTglImages, (0, o.default)(t)),\r\n              e.on('load', function () {\r\n                n.add('export-template', a(t))\r\n              }),\r\n              n.add('undo', {\r\n                run: function (t, e) {\r\n                  e.set('active', 0), t.UndoManager.undo(1)\r\n                }\r\n              }),\r\n              n.add('redo', {\r\n                run: function (t, e) {\r\n                  e.set('active', 0), t.UndoManager.redo(1)\r\n                }\r\n              }),\r\n              n.add('set-device-desktop', {\r\n                run: function (t) {\r\n                  t.setDevice('Desktop')\r\n                }\r\n              }),\r\n              n.add('set-device-tablet', {\r\n                run: function (t) {\r\n                  t.setDevice('Tablet')\r\n                }\r\n              }),\r\n              n.add('set-device-mobile', {\r\n                run: function (t) {\r\n                  t.setDevice('Mobile portrait')\r\n                }\r\n              })\r\n          }\r\n        }.call(e, r, e, t)) && (t.exports = n)\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      Object.defineProperty(e, '__esModule', { value: !0 }),\r\n        (e.default = function () {\r\n          var t = function t (e, r) {\r\n            e.each(function (e) {\r\n              if ('image' === e.get('type')) {\r\n                var n = e.get('src')\r\n                r\r\n                  ? '##' === n && e.set('src', e.get('src_bkp'))\r\n                  : '##' !== n && (e.set('src_bkp', e.get('src')), e.set('src', '##'))\r\n              }\r\n              t(e.get('components'), r)\r\n            })\r\n          }\r\n          return {\r\n            run: function (e) {\r\n              var r = e.getComponents()\r\n              t(r)\r\n            },\r\n            stop: function (e) {\r\n              var r = e.getComponents()\r\n              t(r, 1)\r\n            }\r\n          }\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      var n\r\n      void 0 !==\r\n        (n = function () {\r\n          return function () {\r\n            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n              e = t.editor,\r\n              r = e && e.CodeManager.getViewer('CodeMirror').clone(),\r\n              n = document.createElement('button'),\r\n              i = document.createElement('div'),\r\n              o = t.pfx || ''\r\n            return (\r\n              (n.innerHTML = t.modalBtnImport),\r\n              (n.className = o + 'btn-prim ' + o + 'btn-import'),\r\n              (n.onclick = function () {\r\n                var t = r.editor.getValue()\r\n                e.DomComponents.getWrapper().set('content', ''), e.setComponents(t), e.Modal.close()\r\n              }),\r\n              r.set({ codeName: 'htmlmixed', theme: t.codeViewerTheme, readOnly: 0 }),\r\n              {\r\n                run: function (e, a) {\r\n                  var s = e.Modal,\r\n                    u = (s.getContentEl(), r.editor)\r\n                  if ((s.setTitle(t.modalTitleImport), !u)) {\r\n                    var c = document.createElement('textarea')\r\n                    if (t.modalLabelImport) {\r\n                      var l = document.createElement('div')\r\n                      ;(l.className = o + 'import-label'), (l.innerHTML = t.modalLabelImport), i.appendChild(l)\r\n                    }\r\n                    i.appendChild(c), i.appendChild(n), r.init(c), (u = r.editor)\r\n                  }\r\n                  s.setContent(''),\r\n                    s.setContent(i),\r\n                    r.setContent(t.importPlaceholder || ''),\r\n                    s.open(),\r\n                    u.refresh(),\r\n                    a && a.set('active', 0)\r\n                }\r\n              }\r\n            )\r\n          }\r\n        }.call(e, r, e, t)) && (t.exports = n)\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      var n\r\n      void 0 !==\r\n        (n = function () {\r\n          var t = r(52)\r\n          return function () {\r\n            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n              r = e.editor,\r\n              n = r && r.CodeManager.getViewer('CodeMirror').clone(),\r\n              i = document.createElement('div'),\r\n              o = e.pfx || '',\r\n              a = r.Commands,\r\n              s = e.juiceOpts || {}\r\n            return (\r\n              n.set({ codeName: 'htmlmixed', theme: e.codeViewerTheme }),\r\n              a.add(e.cmdInlineHtml, {\r\n                run: function (e, r) {\r\n                  var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\r\n                    i = e.getHtml() + '<style>' + e.getCss() + '</style>'\r\n                  return t(i, n)\r\n                }\r\n              }),\r\n              {\r\n                run: function (r, a) {\r\n                  var u = r.Modal,\r\n                    c = (u.getContentEl(), n.editor)\r\n                  if ((u.setTitle(e.modalTitleExport), !c)) {\r\n                    var l = document.createElement('textarea')\r\n                    if (e.modalLabelExport) {\r\n                      var f = document.createElement('div')\r\n                      ;(f.className = o + 'export-label'), (f.innerHTML = e.modalLabelExport), i.appendChild(f)\r\n                    }\r\n                    i.appendChild(l), n.init(l), (c = n.editor), c.setOption('lineWrapping', 1)\r\n                  }\r\n                  u.setContent(i)\r\n                  var h = r.getHtml() + '<style>' + r.getCss() + '</style>'\r\n                  n.setContent(e.inlineCss ? t(h, s) : h), u.open(), c.refresh(), a && a.set && a.set('active', 0)\r\n                }\r\n              }\r\n            )\r\n          }\r\n        }.call(e, r, e, t)) && (t.exports = n)\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      var n = r(53),\r\n        i = r(114),\r\n        o = i(function (t, e) {\r\n          return n(t, { xmlMode: e && e.xmlMode }, a, [e])\r\n        }),\r\n        a = function (t, e) {\r\n          return o.juiceDocument(t, e)\r\n        }\r\n      ;(o.inlineContent = function (t, e, r) {\r\n        return n(t, { xmlMode: r && r.xmlMode }, o.inlineDocument, [e, r])\r\n      }),\r\n        (t.exports = o)\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      var n = r(54),\r\n        i = r(27),\r\n        o = function (t, e, r) {\r\n          return (e = i.extend({ decodeEntities: !1 }, e || {})), (t = r(t)), n.load(t, e)\r\n        },\r\n        a = function () {\r\n          var e = []\r\n          return {\r\n            encodeEntities: function (r) {\r\n              var n = t.exports.codeBlocks\r\n              return (\r\n                Object.keys(n).forEach(function (t) {\r\n                  var i = new RegExp(n[t].start + '([\\\\S\\\\s]*?)' + n[t].end, 'g')\r\n                  r = r.replace(i, function (t, r) {\r\n                    return e.push(t), 'JUICE_CODE_BLOCK_' + (e.length - 1) + '_'\r\n                  })\r\n                }),\r\n                r\r\n              )\r\n            },\r\n            decodeEntities: function (t) {\r\n              for (var r = 0; r < e.length; r++) {\r\n                var n = new RegExp('JUICE_CODE_BLOCK_' + r + '_(=\"\")?', 'gi')\r\n                t = t.replace(n, function () {\r\n                  return e[r]\r\n                })\r\n              }\r\n              return t\r\n            }\r\n          }\r\n        }\r\n      ;(t.exports = function (t, e, r, n) {\r\n        var i = a(),\r\n          s = o(t, e, i.encodeEntities),\r\n          u = [s]\r\n        u.push.apply(u, n)\r\n        var c = r.apply(void 0, u) || s\r\n        return e && e.xmlMode ? c.xml() : i.decodeEntities(c.html())\r\n      }),\r\n        (t.exports.codeBlocks = { EJS: { start: '<%', end: '%>' }, HBS: { start: '{{', end: '}}' } })\r\n    },\r\n    function (t, e, r) {\r\n      ;(e = t.exports = r(17)), (e.version = r(107).version)\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      function n (t) {\r\n        var e = t.length\r\n        if (e % 4 > 0) throw new Error('Invalid string. Length must be a multiple of 4')\r\n        var r = t.indexOf('=')\r\n        return -1 === r && (r = e), [r, r === e ? 0 : 4 - (r % 4)]\r\n      }\r\n      function i (t) {\r\n        var e = n(t),\r\n          r = e[0],\r\n          i = e[1]\r\n        return (3 * (r + i)) / 4 - i\r\n      }\r\n      function o (t, e, r) {\r\n        return (3 * (e + r)) / 4 - r\r\n      }\r\n      function a (t) {\r\n        for (\r\n          var e, r = n(t), i = r[0], a = r[1], s = new h(o(t, i, a)), u = 0, c = a > 0 ? i - 4 : i, l = 0;\r\n          l < c;\r\n          l += 4\r\n        )\r\n          (e =\r\n            (f[t.charCodeAt(l)] << 18) |\r\n            (f[t.charCodeAt(l + 1)] << 12) |\r\n            (f[t.charCodeAt(l + 2)] << 6) |\r\n            f[t.charCodeAt(l + 3)]),\r\n            (s[u++] = (e >> 16) & 255),\r\n            (s[u++] = (e >> 8) & 255),\r\n            (s[u++] = 255 & e)\r\n        return (\r\n          2 === a && ((e = (f[t.charCodeAt(l)] << 2) | (f[t.charCodeAt(l + 1)] >> 4)), (s[u++] = 255 & e)),\r\n          1 === a &&\r\n            ((e = (f[t.charCodeAt(l)] << 10) | (f[t.charCodeAt(l + 1)] << 4) | (f[t.charCodeAt(l + 2)] >> 2)),\r\n            (s[u++] = (e >> 8) & 255),\r\n            (s[u++] = 255 & e)),\r\n          s\r\n        )\r\n      }\r\n      function s (t) {\r\n        return l[(t >> 18) & 63] + l[(t >> 12) & 63] + l[(t >> 6) & 63] + l[63 & t]\r\n      }\r\n      function u (t, e, r) {\r\n        for (var n, i = [], o = e; o < r; o += 3)\r\n          (n = ((t[o] << 16) & 16711680) + ((t[o + 1] << 8) & 65280) + (255 & t[o + 2])), i.push(s(n))\r\n        return i.join('')\r\n      }\r\n      function c (t) {\r\n        for (var e, r = t.length, n = r % 3, i = [], o = 0, a = r - n; o < a; o += 16383)\r\n          i.push(u(t, o, o + 16383 > a ? a : o + 16383))\r\n        return (\r\n          1 === n\r\n            ? ((e = t[r - 1]), i.push(l[e >> 2] + l[(e << 4) & 63] + '=='))\r\n            : 2 === n &&\r\n              ((e = (t[r - 2] << 8) + t[r - 1]), i.push(l[e >> 10] + l[(e >> 4) & 63] + l[(e << 2) & 63] + '=')),\r\n          i.join('')\r\n        )\r\n      }\r\n      ;(e.byteLength = i), (e.toByteArray = a), (e.fromByteArray = c)\r\n      for (\r\n        var l = [],\r\n          f = [],\r\n          h = 'undefined' != typeof Uint8Array ? Uint8Array : Array,\r\n          p = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\r\n          d = 0,\r\n          g = p.length;\r\n        d < g;\r\n        ++d\r\n      )\r\n        (l[d] = p[d]), (f[p.charCodeAt(d)] = d)\r\n      ;(f['-'.charCodeAt(0)] = 62), (f['_'.charCodeAt(0)] = 63)\r\n    },\r\n    function (t, e) {\r\n      ;(e.read = function (t, e, r, n, i) {\r\n        var o,\r\n          a,\r\n          s = 8 * i - n - 1,\r\n          u = (1 << s) - 1,\r\n          c = u >> 1,\r\n          l = -7,\r\n          f = r ? i - 1 : 0,\r\n          h = r ? -1 : 1,\r\n          p = t[e + f]\r\n        for (f += h, o = p & ((1 << -l) - 1), p >>= -l, l += s; l > 0; o = 256 * o + t[e + f], f += h, l -= 8);\r\n        for (a = o & ((1 << -l) - 1), o >>= -l, l += n; l > 0; a = 256 * a + t[e + f], f += h, l -= 8);\r\n        if (0 === o) o = 1 - c\r\n        else {\r\n          if (o === u) return a ? NaN : (1 / 0) * (p ? -1 : 1)\r\n          ;(a += Math.pow(2, n)), (o -= c)\r\n        }\r\n        return (p ? -1 : 1) * a * Math.pow(2, o - n)\r\n      }),\r\n        (e.write = function (t, e, r, n, i, o) {\r\n          var a,\r\n            s,\r\n            u,\r\n            c = 8 * o - i - 1,\r\n            l = (1 << c) - 1,\r\n            f = l >> 1,\r\n            h = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0,\r\n            p = n ? 0 : o - 1,\r\n            d = n ? 1 : -1,\r\n            g = e < 0 || (0 === e && 1 / e < 0) ? 1 : 0\r\n          for (\r\n            e = Math.abs(e),\r\n              isNaN(e) || e === 1 / 0\r\n                ? ((s = isNaN(e) ? 1 : 0), (a = l))\r\n                : ((a = Math.floor(Math.log(e) / Math.LN2)),\r\n                  e * (u = Math.pow(2, -a)) < 1 && (a--, (u *= 2)),\r\n                  (e += a + f >= 1 ? h / u : h * Math.pow(2, 1 - f)),\r\n                  e * u >= 2 && (a++, (u /= 2)),\r\n                  a + f >= l\r\n                    ? ((s = 0), (a = l))\r\n                    : a + f >= 1\r\n                    ? ((s = (e * u - 1) * Math.pow(2, i)), (a += f))\r\n                    : ((s = e * Math.pow(2, f - 1) * Math.pow(2, i)), (a = 0)));\r\n            i >= 8;\r\n            t[r + p] = 255 & s, p += d, s /= 256, i -= 8\r\n          );\r\n          for (a = (a << i) | s, c += i; c > 0; t[r + p] = 255 & a, p += d, a /= 256, c -= 8);\r\n          t[r + p - d] |= 128 * g\r\n        })\r\n    },\r\n    function (t, e) {\r\n      t.exports = {\r\n        0: 65533,\r\n        128: 8364,\r\n        130: 8218,\r\n        131: 402,\r\n        132: 8222,\r\n        133: 8230,\r\n        134: 8224,\r\n        135: 8225,\r\n        136: 710,\r\n        137: 8240,\r\n        138: 352,\r\n        139: 8249,\r\n        140: 338,\r\n        142: 381,\r\n        145: 8216,\r\n        146: 8217,\r\n        147: 8220,\r\n        148: 8221,\r\n        149: 8226,\r\n        150: 8211,\r\n        151: 8212,\r\n        152: 732,\r\n        153: 8482,\r\n        154: 353,\r\n        155: 8250,\r\n        156: 339,\r\n        158: 382,\r\n        159: 376\r\n      }\r\n    },\r\n    function (t, e, r) {\r\n      function n (t, e, r) {\r\n        'object' == typeof t ? ((r = e), (e = t), (t = null)) : 'function' == typeof e && ((r = e), (e = u)),\r\n          (this._callback = t),\r\n          (this._options = e || u),\r\n          (this._elementCB = r),\r\n          (this.dom = []),\r\n          (this._done = !1),\r\n          (this._tagStack = []),\r\n          (this._parser = this._parser || null)\r\n      }\r\n      var i = r(6),\r\n        o = /\\s+/g,\r\n        a = r(34),\r\n        s = r(59),\r\n        u = { normalizeWhitespace: !1, withStartIndices: !1, withEndIndices: !1 }\r\n      ;(n.prototype.onparserinit = function (t) {\r\n        this._parser = t\r\n      }),\r\n        (n.prototype.onreset = function () {\r\n          n.call(this, this._callback, this._options, this._elementCB)\r\n        }),\r\n        (n.prototype.onend = function () {\r\n          this._done || ((this._done = !0), (this._parser = null), this._handleCallback(null))\r\n        }),\r\n        (n.prototype._handleCallback = n.prototype.onerror = function (t) {\r\n          if ('function' == typeof this._callback) this._callback(t, this.dom)\r\n          else if (t) throw t\r\n        }),\r\n        (n.prototype.onclosetag = function () {\r\n          var t = this._tagStack.pop()\r\n          this._options.withEndIndices && t && (t.endIndex = this._parser.endIndex),\r\n            this._elementCB && this._elementCB(t)\r\n        }),\r\n        (n.prototype._createDomElement = function (t) {\r\n          if (!this._options.withDomLvl1) return t\r\n          var e\r\n          e = 'tag' === t.type ? Object.create(s) : Object.create(a)\r\n          for (var r in t) t.hasOwnProperty(r) && (e[r] = t[r])\r\n          return e\r\n        }),\r\n        (n.prototype._addDomElement = function (t) {\r\n          var e = this._tagStack[this._tagStack.length - 1],\r\n            r = e ? e.children : this.dom,\r\n            n = r[r.length - 1]\r\n          ;(t.next = null),\r\n            this._options.withStartIndices && (t.startIndex = this._parser.startIndex),\r\n            this._options.withEndIndices && (t.endIndex = this._parser.endIndex),\r\n            n ? ((t.prev = n), (n.next = t)) : (t.prev = null),\r\n            r.push(t),\r\n            (t.parent = e || null)\r\n        }),\r\n        (n.prototype.onopentag = function (t, e) {\r\n          var r = {\r\n              type: 'script' === t ? i.Script : 'style' === t ? i.Style : i.Tag,\r\n              name: t,\r\n              attribs: e,\r\n              children: []\r\n            },\r\n            n = this._createDomElement(r)\r\n          this._addDomElement(n), this._tagStack.push(n)\r\n        }),\r\n        (n.prototype.ontext = function (t) {\r\n          var e,\r\n            r = this._options.normalizeWhitespace || this._options.ignoreWhitespace\r\n          if (!this._tagStack.length && this.dom.length && (e = this.dom[this.dom.length - 1]).type === i.Text)\r\n            r ? (e.data = (e.data + t).replace(o, ' ')) : (e.data += t)\r\n          else if (\r\n            this._tagStack.length &&\r\n            (e = this._tagStack[this._tagStack.length - 1]) &&\r\n            (e = e.children[e.children.length - 1]) &&\r\n            e.type === i.Text\r\n          )\r\n            r ? (e.data = (e.data + t).replace(o, ' ')) : (e.data += t)\r\n          else {\r\n            r && (t = t.replace(o, ' '))\r\n            var n = this._createDomElement({ data: t, type: i.Text })\r\n            this._addDomElement(n)\r\n          }\r\n        }),\r\n        (n.prototype.oncomment = function (t) {\r\n          var e = this._tagStack[this._tagStack.length - 1]\r\n          if (e && e.type === i.Comment) return void (e.data += t)\r\n          var r = { data: t, type: i.Comment },\r\n            n = this._createDomElement(r)\r\n          this._addDomElement(n), this._tagStack.push(n)\r\n        }),\r\n        (n.prototype.oncdatastart = function () {\r\n          var t = { children: [{ data: '', type: i.Text }], type: i.CDATA },\r\n            e = this._createDomElement(t)\r\n          this._addDomElement(e), this._tagStack.push(e)\r\n        }),\r\n        (n.prototype.oncommentend = n.prototype.oncdataend = function () {\r\n          this._tagStack.pop()\r\n        }),\r\n        (n.prototype.onprocessinginstruction = function (t, e) {\r\n          var r = this._createDomElement({ name: t, data: e, type: i.Directive })\r\n          this._addDomElement(r)\r\n        }),\r\n        (t.exports = n)\r\n    },\r\n    function (t, e, r) {\r\n      var n = r(34),\r\n        i = (t.exports = Object.create(n)),\r\n        o = { tagName: 'name' }\r\n      Object.keys(o).forEach(function (t) {\r\n        var e = o[t]\r\n        Object.defineProperty(i, t, {\r\n          get: function () {\r\n            return this[e] || null\r\n          },\r\n          set: function (t) {\r\n            return (this[e] = t), t\r\n          }\r\n        })\r\n      })\r\n    },\r\n    function (t, e, r) {\r\n      function n (t, e) {\r\n        this.init(t, e)\r\n      }\r\n      function i (t, e) {\r\n        return l.getElementsByTagName(t, e, !0)\r\n      }\r\n      function o (t, e) {\r\n        return l.getElementsByTagName(t, e, !0, 1)[0]\r\n      }\r\n      function a (t, e, r) {\r\n        return l.getText(l.getElementsByTagName(t, e, r, 1)).trim()\r\n      }\r\n      function s (t, e, r, n, i) {\r\n        var o = a(r, n, i)\r\n        o && (t[e] = o)\r\n      }\r\n      var u = r(3),\r\n        c = u.DomHandler,\r\n        l = u.DomUtils\r\n      r(1)(n, c), (n.prototype.init = c)\r\n      var f = function (t) {\r\n        return 'rss' === t || 'feed' === t || 'rdf:RDF' === t\r\n      }\r\n      ;(n.prototype.onend = function () {\r\n        var t,\r\n          e,\r\n          r = {},\r\n          n = o(f, this.dom)\r\n        n &&\r\n          ('feed' === n.name\r\n            ? ((e = n.children),\r\n              (r.type = 'atom'),\r\n              s(r, 'id', 'id', e),\r\n              s(r, 'title', 'title', e),\r\n              (t = o('link', e)) && (t = t.attribs) && (t = t.href) && (r.link = t),\r\n              s(r, 'description', 'subtitle', e),\r\n              (t = a('updated', e)) && (r.updated = new Date(t)),\r\n              s(r, 'author', 'email', e, !0),\r\n              (r.items = i('entry', e).map(function (t) {\r\n                var e,\r\n                  r = {}\r\n                return (\r\n                  (t = t.children),\r\n                  s(r, 'id', 'id', t),\r\n                  s(r, 'title', 'title', t),\r\n                  (e = o('link', t)) && (e = e.attribs) && (e = e.href) && (r.link = e),\r\n                  (e = a('summary', t) || a('content', t)) && (r.description = e),\r\n                  (e = a('updated', t)) && (r.pubDate = new Date(e)),\r\n                  r\r\n                )\r\n              })))\r\n            : ((e = o('channel', n.children).children),\r\n              (r.type = n.name.substr(0, 3)),\r\n              (r.id = ''),\r\n              s(r, 'title', 'title', e),\r\n              s(r, 'link', 'link', e),\r\n              s(r, 'description', 'description', e),\r\n              (t = a('lastBuildDate', e)) && (r.updated = new Date(t)),\r\n              s(r, 'author', 'managingEditor', e, !0),\r\n              (r.items = i('item', n.children).map(function (t) {\r\n                var e,\r\n                  r = {}\r\n                return (\r\n                  (t = t.children),\r\n                  s(r, 'id', 'guid', t),\r\n                  s(r, 'title', 'title', t),\r\n                  s(r, 'link', 'link', t),\r\n                  s(r, 'description', 'description', t),\r\n                  (e = a('pubDate', t)) && (r.pubDate = new Date(e)),\r\n                  r\r\n                )\r\n              })))),\r\n          (this.dom = r),\r\n          c.prototype._handleCallback.call(this, n ? null : Error(\"couldn't find root of feed\"))\r\n      }),\r\n        (t.exports = n)\r\n    },\r\n    function (t, e, r) {\r\n      function n (t) {\r\n        o.call(this, new i(this), t)\r\n      }\r\n      function i (t) {\r\n        this.scope = t\r\n      }\r\n      t.exports = n\r\n      var o = r(35)\r\n      r(1)(n, o), (n.prototype.readable = !0)\r\n      var a = r(3).EVENTS\r\n      Object.keys(a).forEach(function (t) {\r\n        if (0 === a[t])\r\n          i.prototype['on' + t] = function () {\r\n            this.scope.emit(t)\r\n          }\r\n        else if (1 === a[t])\r\n          i.prototype['on' + t] = function (e) {\r\n            this.scope.emit(t, e)\r\n          }\r\n        else {\r\n          if (2 !== a[t]) throw Error('wrong number of arguments!')\r\n          i.prototype['on' + t] = function (e, r) {\r\n            this.scope.emit(t, e, r)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    function (t, e, r) {\r\n      function n () {\r\n        i.call(this)\r\n      }\r\n      t.exports = n\r\n      var i = r(13).EventEmitter\r\n      r(1)(n, i),\r\n        (n.Readable = r(20)),\r\n        (n.Writable = r(70)),\r\n        (n.Duplex = r(71)),\r\n        (n.Transform = r(72)),\r\n        (n.PassThrough = r(73)),\r\n        (n.Stream = n),\r\n        (n.prototype.pipe = function (t, e) {\r\n          function r (e) {\r\n            t.writable && !1 === t.write(e) && c.pause && c.pause()\r\n          }\r\n          function n () {\r\n            c.readable && c.resume && c.resume()\r\n          }\r\n          function o () {\r\n            l || ((l = !0), t.end())\r\n          }\r\n          function a () {\r\n            l || ((l = !0), 'function' == typeof t.destroy && t.destroy())\r\n          }\r\n          function s (t) {\r\n            if ((u(), 0 === i.listenerCount(this, 'error'))) throw t\r\n          }\r\n          function u () {\r\n            c.removeListener('data', r),\r\n              t.removeListener('drain', n),\r\n              c.removeListener('end', o),\r\n              c.removeListener('close', a),\r\n              c.removeListener('error', s),\r\n              t.removeListener('error', s),\r\n              c.removeListener('end', u),\r\n              c.removeListener('close', u),\r\n              t.removeListener('close', u)\r\n          }\r\n          var c = this\r\n          c.on('data', r), t.on('drain', n), t._isStdio || (e && !1 === e.end) || (c.on('end', o), c.on('close', a))\r\n          var l = !1\r\n          return (\r\n            c.on('error', s), t.on('error', s), c.on('end', u), c.on('close', u), t.on('close', u), t.emit('pipe', c), t\r\n          )\r\n        })\r\n    },\r\n    function (t, e) {},\r\n    function (t, e, r) {\r\n      'use strict'\r\n      function n (t, e) {\r\n        if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function')\r\n      }\r\n      function i (t, e, r) {\r\n        t.copy(e, r)\r\n      }\r\n      var o = r(15).Buffer,\r\n        a = r(65)\r\n      ;(t.exports = (function () {\r\n        function t () {\r\n          n(this, t), (this.head = null), (this.tail = null), (this.length = 0)\r\n        }\r\n        return (\r\n          (t.prototype.push = function (t) {\r\n            var e = { data: t, next: null }\r\n            this.length > 0 ? (this.tail.next = e) : (this.head = e), (this.tail = e), ++this.length\r\n          }),\r\n          (t.prototype.unshift = function (t) {\r\n            var e = { data: t, next: this.head }\r\n            0 === this.length && (this.tail = e), (this.head = e), ++this.length\r\n          }),\r\n          (t.prototype.shift = function () {\r\n            if (0 !== this.length) {\r\n              var t = this.head.data\r\n              return 1 === this.length ? (this.head = this.tail = null) : (this.head = this.head.next), --this.length, t\r\n            }\r\n          }),\r\n          (t.prototype.clear = function () {\r\n            ;(this.head = this.tail = null), (this.length = 0)\r\n          }),\r\n          (t.prototype.join = function (t) {\r\n            if (0 === this.length) return ''\r\n            for (var e = this.head, r = '' + e.data; (e = e.next); ) r += t + e.data\r\n            return r\r\n          }),\r\n          (t.prototype.concat = function (t) {\r\n            if (0 === this.length) return o.alloc(0)\r\n            if (1 === this.length) return this.head.data\r\n            for (var e = o.allocUnsafe(t >>> 0), r = this.head, n = 0; r; )\r\n              i(r.data, e, n), (n += r.data.length), (r = r.next)\r\n            return e\r\n          }),\r\n          t\r\n        )\r\n      })()),\r\n        a &&\r\n          a.inspect &&\r\n          a.inspect.custom &&\r\n          (t.exports.prototype[a.inspect.custom] = function () {\r\n            var t = a.inspect({ length: this.length })\r\n            return this.constructor.name + ' ' + t\r\n          })\r\n    },\r\n    function (t, e) {},\r\n    function (t, e, r) {\r\n      ;(function (t) {\r\n        function n (t, e) {\r\n          ;(this._id = t), (this._clearFn = e)\r\n        }\r\n        var i = (void 0 !== t && t) || ('undefined' != typeof self && self) || window,\r\n          o = Function.prototype.apply\r\n        ;(e.setTimeout = function () {\r\n          return new n(o.call(setTimeout, i, arguments), clearTimeout)\r\n        }),\r\n          (e.setInterval = function () {\r\n            return new n(o.call(setInterval, i, arguments), clearInterval)\r\n          }),\r\n          (e.clearTimeout = e.clearInterval = function (t) {\r\n            t && t.close()\r\n          }),\r\n          (n.prototype.unref = n.prototype.ref = function () {}),\r\n          (n.prototype.close = function () {\r\n            this._clearFn.call(i, this._id)\r\n          }),\r\n          (e.enroll = function (t, e) {\r\n            clearTimeout(t._idleTimeoutId), (t._idleTimeout = e)\r\n          }),\r\n          (e.unenroll = function (t) {\r\n            clearTimeout(t._idleTimeoutId), (t._idleTimeout = -1)\r\n          }),\r\n          (e._unrefActive = e.active = function (t) {\r\n            clearTimeout(t._idleTimeoutId)\r\n            var e = t._idleTimeout\r\n            e >= 0 &&\r\n              (t._idleTimeoutId = setTimeout(function () {\r\n                t._onTimeout && t._onTimeout()\r\n              }, e))\r\n          }),\r\n          r(67),\r\n          (e.setImmediate =\r\n            ('undefined' != typeof self && self.setImmediate) ||\r\n            (void 0 !== t && t.setImmediate) ||\r\n            (this && this.setImmediate)),\r\n          (e.clearImmediate =\r\n            ('undefined' != typeof self && self.clearImmediate) ||\r\n            (void 0 !== t && t.clearImmediate) ||\r\n            (this && this.clearImmediate))\r\n      }.call(e, r(0)))\r\n    },\r\n    function (t, e, r) {\r\n      ;(function (t, e) {\r\n        !(function (t, r) {\r\n          'use strict'\r\n          function n (t) {\r\n            'function' != typeof t && (t = new Function('' + t))\r\n            for (var e = new Array(arguments.length - 1), r = 0; r < e.length; r++) e[r] = arguments[r + 1]\r\n            var n = { callback: t, args: e }\r\n            return (c[u] = n), s(u), u++\r\n          }\r\n          function i (t) {\r\n            delete c[t]\r\n          }\r\n          function o (t) {\r\n            var e = t.callback,\r\n              n = t.args\r\n            switch (n.length) {\r\n              case 0:\r\n                e()\r\n                break\r\n              case 1:\r\n                e(n[0])\r\n                break\r\n              case 2:\r\n                e(n[0], n[1])\r\n                break\r\n              case 3:\r\n                e(n[0], n[1], n[2])\r\n                break\r\n              default:\r\n                e.apply(r, n)\r\n            }\r\n          }\r\n          function a (t) {\r\n            if (l) setTimeout(a, 0, t)\r\n            else {\r\n              var e = c[t]\r\n              if (e) {\r\n                l = !0\r\n                try {\r\n                  o(e)\r\n                } finally {\r\n                  i(t), (l = !1)\r\n                }\r\n              }\r\n            }\r\n          }\r\n          if (!t.setImmediate) {\r\n            var s,\r\n              u = 1,\r\n              c = {},\r\n              l = !1,\r\n              f = t.document,\r\n              h = Object.getPrototypeOf && Object.getPrototypeOf(t)\r\n            ;(h = h && h.setTimeout ? h : t),\r\n              '[object process]' === {}.toString.call(t.process)\r\n                ? (function () {\r\n                    s = function (t) {\r\n                      e.nextTick(function () {\r\n                        a(t)\r\n                      })\r\n                    }\r\n                  })()\r\n                : (function () {\r\n                    if (t.postMessage && !t.importScripts) {\r\n                      var e = !0,\r\n                        r = t.onmessage\r\n                      return (\r\n                        (t.onmessage = function () {\r\n                          e = !1\r\n                        }),\r\n                        t.postMessage('', '*'),\r\n                        (t.onmessage = r),\r\n                        e\r\n                      )\r\n                    }\r\n                  })()\r\n                ? (function () {\r\n                    var e = 'setImmediate$' + Math.random() + '$',\r\n                      r = function (r) {\r\n                        r.source === t &&\r\n                          'string' == typeof r.data &&\r\n                          0 === r.data.indexOf(e) &&\r\n                          a(+r.data.slice(e.length))\r\n                      }\r\n                    t.addEventListener ? t.addEventListener('message', r, !1) : t.attachEvent('onmessage', r),\r\n                      (s = function (r) {\r\n                        t.postMessage(e + r, '*')\r\n                      })\r\n                  })()\r\n                : t.MessageChannel\r\n                ? (function () {\r\n                    var t = new MessageChannel()\r\n                    ;(t.port1.onmessage = function (t) {\r\n                      a(t.data)\r\n                    }),\r\n                      (s = function (e) {\r\n                        t.port2.postMessage(e)\r\n                      })\r\n                  })()\r\n                : f && 'onreadystatechange' in f.createElement('script')\r\n                ? (function () {\r\n                    var t = f.documentElement\r\n                    s = function (e) {\r\n                      var r = f.createElement('script')\r\n                      ;(r.onreadystatechange = function () {\r\n                        a(e), (r.onreadystatechange = null), t.removeChild(r), (r = null)\r\n                      }),\r\n                        t.appendChild(r)\r\n                    }\r\n                  })()\r\n                : (function () {\r\n                    s = function (t) {\r\n                      setTimeout(a, 0, t)\r\n                    }\r\n                  })(),\r\n              (h.setImmediate = n),\r\n              (h.clearImmediate = i)\r\n          }\r\n        })('undefined' == typeof self ? (void 0 === t ? this : t) : self)\r\n      }.call(e, r(0), r(7)))\r\n    },\r\n    function (t, e, r) {\r\n      ;(function (e) {\r\n        function r (t, e) {\r\n          function r () {\r\n            if (!i) {\r\n              if (n('throwDeprecation')) throw new Error(e)\r\n              n('traceDeprecation') ? console.trace(e) : console.warn(e), (i = !0)\r\n            }\r\n            return t.apply(this, arguments)\r\n          }\r\n          if (n('noDeprecation')) return t\r\n          var i = !1\r\n          return r\r\n        }\r\n        function n (t) {\r\n          try {\r\n            if (!e.localStorage) return !1\r\n          } catch (t) {\r\n            return !1\r\n          }\r\n          var r = e.localStorage[t]\r\n          return null != r && 'true' === String(r).toLowerCase()\r\n        }\r\n        t.exports = r\r\n      }.call(e, r(0)))\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      function n (t) {\r\n        if (!(this instanceof n)) return new n(t)\r\n        i.call(this, t)\r\n      }\r\n      t.exports = n\r\n      var i = r(39),\r\n        o = r(8)\r\n      ;(o.inherits = r(1)),\r\n        o.inherits(n, i),\r\n        (n.prototype._transform = function (t, e, r) {\r\n          r(null, t)\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      t.exports = r(21)\r\n    },\r\n    function (t, e, r) {\r\n      t.exports = r(2)\r\n    },\r\n    function (t, e, r) {\r\n      t.exports = r(20).Transform\r\n    },\r\n    function (t, e, r) {\r\n      t.exports = r(20).PassThrough\r\n    },\r\n    function (t, e) {},\r\n    function (t, e, r) {\r\n      function n (t) {\r\n        this._cbs = t || {}\r\n      }\r\n      t.exports = n\r\n      var i = r(3).EVENTS\r\n      Object.keys(i).forEach(function (t) {\r\n        if (0 === i[t])\r\n          (t = 'on' + t),\r\n            (n.prototype[t] = function () {\r\n              this._cbs[t] && this._cbs[t]()\r\n            })\r\n        else if (1 === i[t])\r\n          (t = 'on' + t),\r\n            (n.prototype[t] = function (e) {\r\n              this._cbs[t] && this._cbs[t](e)\r\n            })\r\n        else {\r\n          if (2 !== i[t]) throw Error('wrong number of arguments')\r\n          ;(t = 'on' + t),\r\n            (n.prototype[t] = function (e, r) {\r\n              this._cbs[t] && this._cbs[t](e, r)\r\n            })\r\n        }\r\n      })\r\n    },\r\n    function (t, e, r) {\r\n      function n (t, e) {\r\n        return t.children\r\n          ? t.children\r\n              .map(function (t) {\r\n                return a(t, e)\r\n              })\r\n              .join('')\r\n          : ''\r\n      }\r\n      function i (t) {\r\n        return Array.isArray(t)\r\n          ? t.map(i).join('')\r\n          : s(t) || t.type === o.CDATA\r\n          ? i(t.children)\r\n          : t.type === o.Text\r\n          ? t.data\r\n          : ''\r\n      }\r\n      var o = r(6),\r\n        a = r(23),\r\n        s = o.isTag\r\n      t.exports = { getInnerHTML: n, getOuterHTML: a, getText: i }\r\n    },\r\n    function (t, e) {\r\n      t.exports = {\r\n        Text: 'text',\r\n        Directive: 'directive',\r\n        Comment: 'comment',\r\n        Script: 'script',\r\n        Style: 'style',\r\n        Tag: 'tag',\r\n        CDATA: 'cdata',\r\n        isTag: function (t) {\r\n          return 'tag' === t.type || 'script' === t.type || 'style' === t.type\r\n        }\r\n      }\r\n    },\r\n    function (t, e, r) {\r\n      var n = r(79),\r\n        i = r(80)\r\n      ;(e.decode = function (t, e) {\r\n        return (!e || e <= 0 ? i.XML : i.HTML)(t)\r\n      }),\r\n        (e.decodeStrict = function (t, e) {\r\n          return (!e || e <= 0 ? i.XML : i.HTMLStrict)(t)\r\n        }),\r\n        (e.encode = function (t, e) {\r\n          return (!e || e <= 0 ? n.XML : n.HTML)(t)\r\n        }),\r\n        (e.encodeXML = n.XML),\r\n        (e.encodeHTML4 = e.encodeHTML5 = e.encodeHTML = n.HTML),\r\n        (e.decodeXML = e.decodeXMLStrict = i.XML),\r\n        (e.decodeHTML4 = e.decodeHTML5 = e.decodeHTML = i.HTML),\r\n        (e.decodeHTML4Strict = e.decodeHTML5Strict = e.decodeHTMLStrict = i.HTMLStrict),\r\n        (e.escape = n.escape)\r\n    },\r\n    function (t, e, r) {\r\n      function n (t) {\r\n        return Object.keys(t)\r\n          .sort()\r\n          .reduce(function (e, r) {\r\n            return (e[t[r]] = '&' + r + ';'), e\r\n          }, {})\r\n      }\r\n      function i (t) {\r\n        var e = [],\r\n          r = []\r\n        return (\r\n          Object.keys(t).forEach(function (t) {\r\n            1 === t.length ? e.push('\\\\' + t) : r.push(t)\r\n          }),\r\n          r.unshift('[' + e.join('') + ']'),\r\n          new RegExp(r.join('|'), 'g')\r\n        )\r\n      }\r\n      function o (t) {\r\n        return (\r\n          '&#x' +\r\n          t\r\n            .charCodeAt(0)\r\n            .toString(16)\r\n            .toUpperCase() +\r\n          ';'\r\n        )\r\n      }\r\n      function a (t) {\r\n        return (\r\n          '&#x' + (1024 * (t.charCodeAt(0) - 55296) + t.charCodeAt(1) - 56320 + 65536).toString(16).toUpperCase() + ';'\r\n        )\r\n      }\r\n      function s (t, e) {\r\n        function r (e) {\r\n          return t[e]\r\n        }\r\n        return function (t) {\r\n          return t\r\n            .replace(e, r)\r\n            .replace(d, a)\r\n            .replace(p, o)\r\n        }\r\n      }\r\n      function u (t) {\r\n        return t\r\n          .replace(g, o)\r\n          .replace(d, a)\r\n          .replace(p, o)\r\n      }\r\n      var c = n(r(19)),\r\n        l = i(c)\r\n      e.XML = s(c, l)\r\n      var f = n(r(18)),\r\n        h = i(f)\r\n      e.HTML = s(f, h)\r\n      var p = /[^\\0-\\x7F]/g,\r\n        d = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,\r\n        g = i(c)\r\n      e.escape = u\r\n    },\r\n    function (t, e, r) {\r\n      function n (t) {\r\n        var e = Object.keys(t).join('|'),\r\n          r = o(t)\r\n        e += '|#[xX][\\\\da-fA-F]+|#\\\\d+'\r\n        var n = new RegExp('&(?:' + e + ');', 'g')\r\n        return function (t) {\r\n          return String(t).replace(n, r)\r\n        }\r\n      }\r\n      function i (t, e) {\r\n        return t < e ? 1 : -1\r\n      }\r\n      function o (t) {\r\n        return function (e) {\r\n          return '#' === e.charAt(1)\r\n            ? c('X' === e.charAt(2) || 'x' === e.charAt(2) ? parseInt(e.substr(3), 16) : parseInt(e.substr(2), 10))\r\n            : t[e.slice(1, -1)]\r\n        }\r\n      }\r\n      var a = r(18),\r\n        s = r(33),\r\n        u = r(19),\r\n        c = r(32),\r\n        l = n(u),\r\n        f = n(a),\r\n        h = (function () {\r\n          function t (t) {\r\n            return ';' !== t.substr(-1) && (t += ';'), l(t)\r\n          }\r\n          for (var e = Object.keys(s).sort(i), r = Object.keys(a).sort(i), n = 0, u = 0; n < r.length; n++)\r\n            e[u] === r[n] ? ((r[n] += ';?'), u++) : (r[n] += ';')\r\n          var c = new RegExp('&(?:' + r.join('|') + '|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)', 'g'),\r\n            l = o(a)\r\n          return function (e) {\r\n            return String(e).replace(c, t)\r\n          }\r\n        })()\r\n      t.exports = { XML: l, HTML: h, HTMLStrict: f }\r\n    },\r\n    function (t, e) {\r\n      var r = (e.getChildren = function (t) {\r\n          return t.children\r\n        }),\r\n        n = (e.getParent = function (t) {\r\n          return t.parent\r\n        })\r\n      ;(e.getSiblings = function (t) {\r\n        var e = n(t)\r\n        return e ? r(e) : [t]\r\n      }),\r\n        (e.getAttributeValue = function (t, e) {\r\n          return t.attribs && t.attribs[e]\r\n        }),\r\n        (e.hasAttrib = function (t, e) {\r\n          return !!t.attribs && hasOwnProperty.call(t.attribs, e)\r\n        }),\r\n        (e.getName = function (t) {\r\n          return t.name\r\n        })\r\n    },\r\n    function (t, e) {\r\n      ;(e.removeElement = function (t) {\r\n        if ((t.prev && (t.prev.next = t.next), t.next && (t.next.prev = t.prev), t.parent)) {\r\n          var e = t.parent.children\r\n          e.splice(e.lastIndexOf(t), 1)\r\n        }\r\n      }),\r\n        (e.replaceElement = function (t, e) {\r\n          var r = (e.prev = t.prev)\r\n          r && (r.next = e)\r\n          var n = (e.next = t.next)\r\n          n && (n.prev = e)\r\n          var i = (e.parent = t.parent)\r\n          if (i) {\r\n            var o = i.children\r\n            o[o.lastIndexOf(t)] = e\r\n          }\r\n        }),\r\n        (e.appendChild = function (t, e) {\r\n          if (((e.parent = t), 1 !== t.children.push(e))) {\r\n            var r = t.children[t.children.length - 2]\r\n            ;(r.next = e), (e.prev = r), (e.next = null)\r\n          }\r\n        }),\r\n        (e.append = function (t, e) {\r\n          var r = t.parent,\r\n            n = t.next\r\n          if (((e.next = n), (e.prev = t), (t.next = e), (e.parent = r), n)) {\r\n            if (((n.prev = e), r)) {\r\n              var i = r.children\r\n              i.splice(i.lastIndexOf(n), 0, e)\r\n            }\r\n          } else r && r.children.push(e)\r\n        }),\r\n        (e.prepend = function (t, e) {\r\n          var r = t.parent\r\n          if (r) {\r\n            var n = r.children\r\n            n.splice(n.lastIndexOf(t), 0, e)\r\n          }\r\n          t.prev && (t.prev.next = e), (e.parent = r), (e.prev = t.prev), (e.next = t), (t.prev = e)\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      function n (t, e, r, n) {\r\n        return Array.isArray(e) || (e = [e]), ('number' == typeof n && isFinite(n)) || (n = 1 / 0), i(t, e, !1 !== r, n)\r\n      }\r\n      function i (t, e, r, n) {\r\n        for (\r\n          var o, a = [], s = 0, u = e.length;\r\n          s < u &&\r\n          !(t(e[s]) && (a.push(e[s]), --n <= 0)) &&\r\n          ((o = e[s].children),\r\n          !(r && o && o.length > 0 && ((o = i(t, o, r, n)), (a = a.concat(o)), (n -= o.length) <= 0)));\r\n          s++\r\n        );\r\n        return a\r\n      }\r\n      function o (t, e) {\r\n        for (var r = 0, n = e.length; r < n; r++) if (t(e[r])) return e[r]\r\n        return null\r\n      }\r\n      function a (t, e) {\r\n        for (var r = null, n = 0, i = e.length; n < i && !r; n++)\r\n          c(e[n]) && (t(e[n]) ? (r = e[n]) : e[n].children.length > 0 && (r = a(t, e[n].children)))\r\n        return r\r\n      }\r\n      function s (t, e) {\r\n        for (var r = 0, n = e.length; r < n; r++)\r\n          if (c(e[r]) && (t(e[r]) || (e[r].children.length > 0 && s(t, e[r].children)))) return !0\r\n        return !1\r\n      }\r\n      function u (t, e) {\r\n        for (var r = [], n = 0, i = e.length; n < i; n++)\r\n          c(e[n]) && (t(e[n]) && r.push(e[n]), e[n].children.length > 0 && (r = r.concat(u(t, e[n].children))))\r\n        return r\r\n      }\r\n      var c = r(6).isTag\r\n      t.exports = { filter: n, find: i, findOneChild: o, findOne: a, existsOne: s, findAll: u }\r\n    },\r\n    function (t, e, r) {\r\n      function n (t, e) {\r\n        return 'function' == typeof e\r\n          ? function (r) {\r\n              return r.attribs && e(r.attribs[t])\r\n            }\r\n          : function (r) {\r\n              return r.attribs && r.attribs[t] === e\r\n            }\r\n      }\r\n      function i (t, e) {\r\n        return function (r) {\r\n          return t(r) || e(r)\r\n        }\r\n      }\r\n      var o = r(6),\r\n        a = (e.isTag = o.isTag)\r\n      e.testElement = function (t, e) {\r\n        for (var r in t)\r\n          if (t.hasOwnProperty(r)) {\r\n            if ('tag_name' === r) {\r\n              if (!a(e) || !t.tag_name(e.name)) return !1\r\n            } else if ('tag_type' === r) {\r\n              if (!t.tag_type(e.type)) return !1\r\n            } else if ('tag_contains' === r) {\r\n              if (a(e) || !t.tag_contains(e.data)) return !1\r\n            } else if (!e.attribs || !t[r](e.attribs[r])) return !1\r\n          } else;\r\n        return !0\r\n      }\r\n      var s = {\r\n        tag_name: function (t) {\r\n          return 'function' == typeof t\r\n            ? function (e) {\r\n                return a(e) && t(e.name)\r\n              }\r\n            : '*' === t\r\n            ? a\r\n            : function (e) {\r\n                return a(e) && e.name === t\r\n              }\r\n        },\r\n        tag_type: function (t) {\r\n          return 'function' == typeof t\r\n            ? function (e) {\r\n                return t(e.type)\r\n              }\r\n            : function (e) {\r\n                return e.type === t\r\n              }\r\n        },\r\n        tag_contains: function (t) {\r\n          return 'function' == typeof t\r\n            ? function (e) {\r\n                return !a(e) && t(e.data)\r\n              }\r\n            : function (e) {\r\n                return !a(e) && e.data === t\r\n              }\r\n        }\r\n      }\r\n      ;(e.getElements = function (t, e, r, o) {\r\n        var a = Object.keys(t).map(function (e) {\r\n          var r = t[e]\r\n          return e in s ? s[e](r) : n(e, r)\r\n        })\r\n        return 0 === a.length ? [] : this.filter(a.reduce(i), e, r, o)\r\n      }),\r\n        (e.getElementById = function (t, e, r) {\r\n          return Array.isArray(e) || (e = [e]), this.findOne(n('id', t), e, !1 !== r)\r\n        }),\r\n        (e.getElementsByTagName = function (t, e, r, n) {\r\n          return this.filter(s.tag_name(t), e, r, n)\r\n        }),\r\n        (e.getElementsByTagType = function (t, e, r, n) {\r\n          return this.filter(s.tag_type(t), e, r, n)\r\n        })\r\n    },\r\n    function (t, e) {\r\n      e.removeSubsets = function (t) {\r\n        for (var e, r, n, i = t.length; --i > -1; ) {\r\n          for (e = r = t[i], t[i] = null, n = !0; r; ) {\r\n            if (t.indexOf(r) > -1) {\r\n              ;(n = !1), t.splice(i, 1)\r\n              break\r\n            }\r\n            r = r.parent\r\n          }\r\n          n && (t[i] = e)\r\n        }\r\n        return t\r\n      }\r\n      var r = { DISCONNECTED: 1, PRECEDING: 2, FOLLOWING: 4, CONTAINS: 8, CONTAINED_BY: 16 },\r\n        n = (e.compareDocumentPosition = function (t, e) {\r\n          var n,\r\n            i,\r\n            o,\r\n            a,\r\n            s,\r\n            u,\r\n            c = [],\r\n            l = []\r\n          if (t === e) return 0\r\n          for (n = t; n; ) c.unshift(n), (n = n.parent)\r\n          for (n = e; n; ) l.unshift(n), (n = n.parent)\r\n          for (u = 0; c[u] === l[u]; ) u++\r\n          return 0 === u\r\n            ? r.DISCONNECTED\r\n            : ((i = c[u - 1]),\r\n              (o = i.children),\r\n              (a = c[u]),\r\n              (s = l[u]),\r\n              o.indexOf(a) > o.indexOf(s)\r\n                ? i === e\r\n                  ? r.FOLLOWING | r.CONTAINED_BY\r\n                  : r.FOLLOWING\r\n                : i === t\r\n                ? r.PRECEDING | r.CONTAINS\r\n                : r.PRECEDING)\r\n        })\r\n      e.uniqueSort = function (t) {\r\n        var e,\r\n          i,\r\n          o = t.length\r\n        for (t = t.slice(); --o > -1; ) (e = t[o]), (i = t.indexOf(e)) > -1 && i < o && t.splice(o, 1)\r\n        return (\r\n          t.sort(function (t, e) {\r\n            var i = n(t, e)\r\n            return i & r.PRECEDING ? -1 : i & r.FOLLOWING ? 1 : 0\r\n          }),\r\n          t\r\n        )\r\n      }\r\n    },\r\n    function (t, e, r) {\r\n      function n (t) {\r\n        ;(this._cbs = t || {}), (this.events = [])\r\n      }\r\n      t.exports = n\r\n      var i = r(3).EVENTS\r\n      Object.keys(i).forEach(function (t) {\r\n        if (0 === i[t])\r\n          (t = 'on' + t),\r\n            (n.prototype[t] = function () {\r\n              this.events.push([t]), this._cbs[t] && this._cbs[t]()\r\n            })\r\n        else if (1 === i[t])\r\n          (t = 'on' + t),\r\n            (n.prototype[t] = function (e) {\r\n              this.events.push([t, e]), this._cbs[t] && this._cbs[t](e)\r\n            })\r\n        else {\r\n          if (2 !== i[t]) throw Error('wrong number of arguments')\r\n          ;(t = 'on' + t),\r\n            (n.prototype[t] = function (e, r) {\r\n              this.events.push([t, e, r]), this._cbs[t] && this._cbs[t](e, r)\r\n            })\r\n        }\r\n      }),\r\n        (n.prototype.onreset = function () {\r\n          ;(this.events = []), this._cbs.onreset && this._cbs.onreset()\r\n        }),\r\n        (n.prototype.restart = function () {\r\n          this._cbs.onreset && this._cbs.onreset()\r\n          for (var t = 0, e = this.events.length; t < e; t++)\r\n            if (this._cbs[this.events[t][0]]) {\r\n              var r = this.events[t].length\r\n              1 === r\r\n                ? this._cbs[this.events[t][0]]()\r\n                : 2 === r\r\n                ? this._cbs[this.events[t][0]](this.events[t][1])\r\n                : this._cbs[this.events[t][0]](this.events[t][1], this.events[t][2])\r\n            }\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      var n = r(25),\r\n        i = r(9),\r\n        o = i.isTag,\r\n        a = i.domEach,\r\n        s = Object.prototype.hasOwnProperty,\r\n        u = i.camelCase,\r\n        c = i.cssCase,\r\n        l = /\\s+/,\r\n        f = { forEach: r(16), extend: r(40), some: r(96) },\r\n        h = { null: null, true: !0, false: !1 },\r\n        p = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,\r\n        d = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\r\n        g = function (t, e) {\r\n          if (t && o(t))\r\n            return (\r\n              t.attribs || (t.attribs = {}),\r\n              e\r\n                ? s.call(t.attribs, e)\r\n                  ? p.test(e)\r\n                    ? e\r\n                    : t.attribs[e]\r\n                  : 'option' === t.name && 'value' === e\r\n                  ? n.text(t.children)\r\n                  : 'input' !== t.name || ('radio' !== t.attribs.type && 'checkbox' !== t.attribs.type) || 'value' !== e\r\n                  ? void 0\r\n                  : 'on'\r\n                : t.attribs\r\n            )\r\n        },\r\n        v = function (t, e, r) {\r\n          null === r ? w(t, e) : (t.attribs[e] = r + '')\r\n        }\r\n      e.attr = function (t, e) {\r\n        return 'object' == typeof t || void 0 !== e\r\n          ? 'function' == typeof e\r\n            ? a(this, function (r, n) {\r\n                v(n, t, e.call(n, r, n.attribs[t]))\r\n              })\r\n            : a(this, function (r, n) {\r\n                o(n) &&\r\n                  ('object' == typeof t\r\n                    ? f.forEach(t, function (t, e) {\r\n                        v(n, e, t)\r\n                      })\r\n                    : v(n, t, e))\r\n              })\r\n          : g(this[0], t)\r\n      }\r\n      var b = function (t, e) {\r\n          if (t && o(t)) return t.hasOwnProperty(e) ? t[e] : p.test(e) ? void 0 !== g(t, e) : g(t, e)\r\n        },\r\n        y = function (t, e, r) {\r\n          t[e] = p.test(e) ? !!r : r\r\n        }\r\n      e.prop = function (t, e) {\r\n        var r,\r\n          n = 0\r\n        if ('string' == typeof t && void 0 === e) {\r\n          switch (t) {\r\n            case 'style':\r\n              ;(r = this.css()),\r\n                f.forEach(r, function (t, e) {\r\n                  r[n++] = e\r\n                }),\r\n                (r.length = n)\r\n              break\r\n            case 'tagName':\r\n            case 'nodeName':\r\n              r = this[0].name.toUpperCase()\r\n              break\r\n            default:\r\n              r = b(this[0], t)\r\n          }\r\n          return r\r\n        }\r\n        if ('object' == typeof t || void 0 !== e)\r\n          return 'function' == typeof e\r\n            ? a(this, function (r, n) {\r\n                y(n, t, e.call(n, r, b(n, t)))\r\n              })\r\n            : a(this, function (r, n) {\r\n                o(n) &&\r\n                  ('object' == typeof t\r\n                    ? f.forEach(t, function (t, e) {\r\n                        y(n, e, t)\r\n                      })\r\n                    : y(n, t, e))\r\n              })\r\n      }\r\n      var m = function (t, e, r) {\r\n          if ((t.data || (t.data = {}), 'object' == typeof e)) return f.extend(t.data, e)\r\n          'string' == typeof e && void 0 !== r ? (t.data[e] = r) : 'object' == typeof e && f.extend(t.data, e)\r\n        },\r\n        _ = function (t, e) {\r\n          var r,\r\n            n,\r\n            i,\r\n            o,\r\n            a,\r\n            l,\r\n            f,\r\n            p = 1 === arguments.length\r\n          for (\r\n            p\r\n              ? ((r = Object.keys(t.attribs).filter(function (t) {\r\n                  return 'data-' === t.slice(0, 'data-'.length)\r\n                })),\r\n                (i = r.map(function (t) {\r\n                  return u(t.slice('data-'.length))\r\n                })))\r\n              : ((r = ['data-' + c(e)]), (i = [e])),\r\n              l = 0,\r\n              f = r.length;\r\n            l < f;\r\n            ++l\r\n          )\r\n            if (((n = r[l]), (o = i[l]), s.call(t.attribs, n))) {\r\n              if (((a = t.attribs[n]), s.call(h, a))) a = h[a]\r\n              else if (a === String(Number(a))) a = Number(a)\r\n              else if (d.test(a))\r\n                try {\r\n                  a = JSON.parse(a)\r\n                } catch (t) {}\r\n              t.data[o] = a\r\n            }\r\n          return p ? t.data : a\r\n        }\r\n      ;(e.data = function (t, e) {\r\n        var r = this[0]\r\n        if (r && o(r))\r\n          return (\r\n            r.data || (r.data = {}),\r\n            t\r\n              ? 'object' == typeof t || void 0 !== e\r\n                ? (a(this, function (r, n) {\r\n                    m(n, t, e)\r\n                  }),\r\n                  this)\r\n                : s.call(r.data, t)\r\n                ? r.data[t]\r\n                : _(r, t)\r\n              : _(r)\r\n          )\r\n      }),\r\n        (e.val = function (t) {\r\n          var e = 0 === arguments.length,\r\n            r = this[0]\r\n          if (r)\r\n            switch (r.name) {\r\n              case 'textarea':\r\n                return this.text(t)\r\n              case 'input':\r\n                switch (this.attr('type')) {\r\n                  case 'radio':\r\n                    return e ? this.attr('value') : (this.attr('value', t), this)\r\n                  default:\r\n                    return this.attr('value', t)\r\n                }\r\n                return\r\n              case 'select':\r\n                var n,\r\n                  i = this.find('option:selected')\r\n                if (void 0 === i) return\r\n                if (!e) {\r\n                  if (!this.attr().hasOwnProperty('multiple') && 'object' == typeof t) return this\r\n                  'object' != typeof t && (t = [t]), this.find('option').removeAttr('selected')\r\n                  for (var o = 0; o < t.length; o++) this.find('option[value=\"' + t[o] + '\"]').attr('selected', '')\r\n                  return this\r\n                }\r\n                return (\r\n                  (n = i.attr('value')),\r\n                  this.attr().hasOwnProperty('multiple') &&\r\n                    ((n = []),\r\n                    a(i, function (t, e) {\r\n                      n.push(g(e, 'value'))\r\n                    })),\r\n                  n\r\n                )\r\n              case 'option':\r\n                return e ? this.attr('value') : (this.attr('value', t), this)\r\n            }\r\n        })\r\n      var w = function (t, e) {\r\n        t.attribs && s.call(t.attribs, e) && delete t.attribs[e]\r\n      }\r\n      ;(e.removeAttr = function (t) {\r\n        return (\r\n          a(this, function (e, r) {\r\n            w(r, t)\r\n          }),\r\n          this\r\n        )\r\n      }),\r\n        (e.hasClass = function (t) {\r\n          return f.some(this, function (e) {\r\n            var r,\r\n              n = e.attribs,\r\n              i = n && n.class,\r\n              o = -1\r\n            if (i)\r\n              for (; (o = i.indexOf(t, o + 1)) > -1; )\r\n                if (((r = o + t.length), (0 === o || l.test(i[o - 1])) && (r === i.length || l.test(i[r])))) return !0\r\n          })\r\n        }),\r\n        (e.addClass = function (t) {\r\n          if ('function' == typeof t)\r\n            return a(this, function (r, n) {\r\n              var i = n.attribs.class || ''\r\n              e.addClass.call([n], t.call(n, r, i))\r\n            })\r\n          if (!t || 'string' != typeof t) return this\r\n          for (var r = t.split(l), n = this.length, i = 0; i < n; i++)\r\n            if (o(this[i])) {\r\n              var s,\r\n                u,\r\n                c = g(this[i], 'class')\r\n              if (c) {\r\n                ;(u = ' ' + c + ' '), (s = r.length)\r\n                for (var f = 0; f < s; f++) {\r\n                  var h = r[f] + ' '\r\n                  u.indexOf(' ' + h) < 0 && (u += h)\r\n                }\r\n                v(this[i], 'class', u.trim())\r\n              } else v(this[i], 'class', r.join(' ').trim())\r\n            }\r\n          return this\r\n        })\r\n      var x = function (t) {\r\n        return t ? t.trim().split(l) : []\r\n      }\r\n      ;(e.removeClass = function (t) {\r\n        var r, n, i\r\n        return 'function' == typeof t\r\n          ? a(this, function (r, n) {\r\n              e.removeClass.call([n], t.call(n, r, n.attribs.class || ''))\r\n            })\r\n          : ((r = x(t)),\r\n            (n = r.length),\r\n            (i = 0 === arguments.length),\r\n            a(this, function (t, e) {\r\n              if (o(e))\r\n                if (i) e.attribs.class = ''\r\n                else {\r\n                  for (var a, s, u = x(e.attribs.class), c = 0; c < n; c++)\r\n                    (a = u.indexOf(r[c])) >= 0 && (u.splice(a, 1), (s = !0), c--)\r\n                  s && (e.attribs.class = u.join(' '))\r\n                }\r\n            }))\r\n      }),\r\n        (e.toggleClass = function (t, r) {\r\n          if ('function' == typeof t)\r\n            return a(this, function (n, i) {\r\n              e.toggleClass.call([i], t.call(i, n, i.attribs.class || '', r), r)\r\n            })\r\n          if (!t || 'string' != typeof t) return this\r\n          for (\r\n            var n,\r\n              i,\r\n              s = t.split(l),\r\n              u = s.length,\r\n              c = 'boolean' == typeof r ? (r ? 1 : -1) : 0,\r\n              f = this.length,\r\n              h = 0;\r\n            h < f;\r\n            h++\r\n          )\r\n            if (o(this[h])) {\r\n              n = x(this[h].attribs.class)\r\n              for (var p = 0; p < u; p++)\r\n                (i = n.indexOf(s[p])), c >= 0 && i < 0 ? n.push(s[p]) : c <= 0 && i >= 0 && n.splice(i, 1)\r\n              this[h].attribs.class = n.join(' ')\r\n            }\r\n          return this\r\n        }),\r\n        (e.is = function (t) {\r\n          return !!t && this.filter(t).length > 0\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      var n = r(89),\r\n        i = r(90)\r\n      ;(t.exports = function (t) {\r\n        return i(n(t))\r\n      }),\r\n        (t.exports.parse = n),\r\n        (t.exports.compile = i)\r\n    },\r\n    function (t, e) {\r\n      function r (t) {\r\n        if ('even' === (t = t.trim().toLowerCase())) return [2, 0]\r\n        if ('odd' === t) return [2, 1]\r\n        var e = t.match(n)\r\n        if (!e) throw new SyntaxError(\"n-th rule couldn't be parsed ('\" + t + \"')\")\r\n        var r\r\n        return (\r\n          e[1] ? ((r = parseInt(e[1], 10)), isNaN(r) && (r = '-' === e[1].charAt(0) ? -1 : 1)) : (r = 0),\r\n          [r, e[3] ? parseInt((e[2] || '') + e[3], 10) : 0]\r\n        )\r\n      }\r\n      t.exports = r\r\n      var n = /^([+\\-]?\\d*n)?\\s*(?:([+\\-]?)\\s*(\\d+))?$/\r\n    },\r\n    function (t, e, r) {\r\n      function n (t) {\r\n        var e = t[0],\r\n          r = t[1] - 1\r\n        if (r < 0 && e <= 0) return a\r\n        if (-1 === e)\r\n          return function (t) {\r\n            return t <= r\r\n          }\r\n        if (0 === e)\r\n          return function (t) {\r\n            return t === r\r\n          }\r\n        if (1 === e)\r\n          return r < 0\r\n            ? o\r\n            : function (t) {\r\n                return t >= r\r\n              }\r\n        var n = r % e\r\n        return (\r\n          n < 0 && (n += e),\r\n          e > 1\r\n            ? function (t) {\r\n                return t >= r && t % e === n\r\n              }\r\n            : ((e *= -1),\r\n              function (t) {\r\n                return t <= r && t % e === n\r\n              })\r\n        )\r\n      }\r\n      t.exports = n\r\n      var i = r(10),\r\n        o = i.trueFunc,\r\n        a = i.falseFunc\r\n    },\r\n    function (t, e, r) {\r\n      function n (t, e, r) {\r\n        return i(o(t, e, r))\r\n      }\r\n      function i (t) {\r\n        return function (e) {\r\n          return g(e) && t(e)\r\n        }\r\n      }\r\n      function o (t, e, r) {\r\n        return u(p(t, e), e, r)\r\n      }\r\n      function a (t) {\r\n        return (\r\n          'pseudo' === t.type &&\r\n          ('scope' === t.name ||\r\n            (Array.isArray(t.data) &&\r\n              t.data.some(function (t) {\r\n                return t.some(a)\r\n              })))\r\n        )\r\n      }\r\n      function s (t, e) {\r\n        var r =\r\n          !!e &&\r\n          !!e.length &&\r\n          e.every(function (t) {\r\n            return t === j || !!k(t)\r\n          })\r\n        t.forEach(function (t) {\r\n          if (t.length > 0 && c(t[0]) && 'descendant' !== t[0].type);\r\n          else {\r\n            if (!r || a(t)) return\r\n            t.unshift(x)\r\n          }\r\n          t.unshift(S)\r\n        })\r\n      }\r\n      function u (t, e, r) {\r\n        ;(t = t.filter(function (t) {\r\n          return t.length > 0\r\n        })),\r\n          t.forEach(b)\r\n        var n = Array.isArray(r)\r\n        return (\r\n          (r = (e && e.context) || r),\r\n          r && !n && (r = [r]),\r\n          s(t, r),\r\n          t\r\n            .map(function (t) {\r\n              return l(t, e, r, n)\r\n            })\r\n            .reduce(f, _)\r\n        )\r\n      }\r\n      function c (t) {\r\n        return w[t.type] < 0\r\n      }\r\n      function l (t, e, r, n) {\r\n        var i = n && 'scope' === t[0].name && 'descendant' === t[1].type\r\n        return t.reduce(function (t, n, o) {\r\n          return t === _ ? t : v[n.type](t, n, e, r, i && 1 === o)\r\n        }, (e && e.rootFunc) || m)\r\n      }\r\n      function f (t, e) {\r\n        return e === _ || t === m\r\n          ? t\r\n          : t === _ || e === m\r\n          ? e\r\n          : function (r) {\r\n              return t(r) || e(r)\r\n            }\r\n      }\r\n      function h (t) {\r\n        return t.some(c)\r\n      }\r\n      ;(t.exports = n), (t.exports.compileUnsafe = o), (t.exports.compileToken = u)\r\n      var p = r(92),\r\n        d = r(4),\r\n        g = d.isTag,\r\n        v = r(93),\r\n        b = r(94),\r\n        y = r(10),\r\n        m = y.trueFunc,\r\n        _ = y.falseFunc,\r\n        w = r(44),\r\n        x = { type: 'descendant' },\r\n        S = { type: 'pseudo', name: 'scope' },\r\n        j = {},\r\n        k = d.getParent,\r\n        E = r(26),\r\n        A = E.filters,\r\n        T = d.existsOne,\r\n        g = d.isTag,\r\n        O = d.getChildren\r\n      ;(A.not = function (t, e, r, n) {\r\n        var i = { xmlMode: !(!r || !r.xmlMode), strict: !(!r || !r.strict) }\r\n        if (i.strict && (e.length > 1 || e.some(h)))\r\n          throw new SyntaxError(\"complex selectors in :not aren't allowed in strict mode\")\r\n        var o = u(e, i, n)\r\n        return o === _\r\n          ? t\r\n          : o === m\r\n          ? _\r\n          : function (e) {\r\n              return !o(e) && t(e)\r\n            }\r\n      }),\r\n        (A.has = function (t, e, r) {\r\n          var n = { xmlMode: !(!r || !r.xmlMode), strict: !(!r || !r.strict) },\r\n            o = e.some(h) ? [j] : null,\r\n            a = u(e, n, o)\r\n          return a === _\r\n            ? _\r\n            : a === m\r\n            ? function (e) {\r\n                return O(e).some(g) && t(e)\r\n              }\r\n            : ((a = i(a)),\r\n              o\r\n                ? function (e) {\r\n                    return t(e) && ((o[0] = e), T(a, O(e)))\r\n                  }\r\n                : function (e) {\r\n                    return t(e) && T(a, O(e))\r\n                  })\r\n        }),\r\n        (A.matches = function (t, e, r, n) {\r\n          return u(e, { xmlMode: !(!r || !r.xmlMode), strict: !(!r || !r.strict), rootFunc: t }, n)\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      function n (t, e, r) {\r\n        var n = '0x' + e - 65536\r\n        return n !== n || r\r\n          ? e\r\n          : n < 0\r\n          ? String.fromCharCode(n + 65536)\r\n          : String.fromCharCode((n >> 10) | 55296, (1023 & n) | 56320)\r\n      }\r\n      function i (t) {\r\n        return t.replace(l, n)\r\n      }\r\n      function o (t) {\r\n        return ' ' === t || '\\n' === t || '\\t' === t || '\\f' === t || '\\r' === t\r\n      }\r\n      function a (t, e) {\r\n        var r = []\r\n        if ('' !== (t = s(r, t + '', e))) throw new SyntaxError('Unmatched selector: ' + t)\r\n        return r\r\n      }\r\n      function s (t, e, r) {\r\n        function n () {\r\n          var t = e.match(c)[0]\r\n          return (e = e.substr(t.length)), i(t)\r\n        }\r\n        function a (t) {\r\n          for (; o(e.charAt(t)); ) t++\r\n          e = e.substr(t)\r\n        }\r\n        var l,\r\n          y,\r\n          m,\r\n          _,\r\n          w = [],\r\n          x = !1\r\n        for (a(0); '' !== e; )\r\n          if (((y = e.charAt(0)), o(y))) (x = !0), a(1)\r\n          else if (y in p) w.push({ type: p[y] }), (x = !1), a(1)\r\n          else if (',' === y) {\r\n            if (0 === w.length) throw new SyntaxError('empty sub-selector')\r\n            t.push(w), (w = []), (x = !1), a(1)\r\n          } else if ((x && (w.length > 0 && w.push({ type: 'descendant' }), (x = !1)), '*' === y))\r\n            (e = e.substr(1)), w.push({ type: 'universal' })\r\n          else if (y in d)\r\n            (e = e.substr(1)), w.push({ type: 'attribute', name: d[y][0], action: d[y][1], value: n(), ignoreCase: !1 })\r\n          else if ('[' === y) {\r\n            if (((e = e.substr(1)), !(l = e.match(f)))) throw new SyntaxError('Malformed attribute selector: ' + e)\r\n            ;(e = e.substr(l[0].length)),\r\n              (m = i(l[1])),\r\n              (r && ('lowerCaseAttributeNames' in r ? !r.lowerCaseAttributeNames : r.xmlMode)) || (m = m.toLowerCase()),\r\n              w.push({ type: 'attribute', name: m, action: h[l[2]], value: i(l[4] || l[5] || ''), ignoreCase: !!l[6] })\r\n          } else if (':' === y) {\r\n            if (':' === e.charAt(1)) {\r\n              ;(e = e.substr(2)), w.push({ type: 'pseudo-element', name: n().toLowerCase() })\r\n              continue\r\n            }\r\n            if (((e = e.substr(1)), (m = n().toLowerCase()), (l = null), '(' === e.charAt(0)))\r\n              if (m in g) {\r\n                _ = e.charAt(1)\r\n                var S = _ in b\r\n                if (((e = e.substr(S + 1)), (l = []), (e = s(l, e, r)), S)) {\r\n                  if (e.charAt(0) !== _) throw new SyntaxError('unmatched quotes in :' + m)\r\n                  e = e.substr(1)\r\n                }\r\n                if (')' !== e.charAt(0)) throw new SyntaxError('missing closing parenthesis in :' + m + ' ' + e)\r\n                e = e.substr(1)\r\n              } else {\r\n                for (var j = 1, k = 1; k > 0 && j < e.length; j++)\r\n                  '(' === e.charAt(j) ? k++ : ')' === e.charAt(j) && k--\r\n                if (k) throw new SyntaxError('parenthesis not matched')\r\n                ;(l = e.substr(1, j - 2)),\r\n                  (e = e.substr(j)),\r\n                  m in v && ((_ = l.charAt(0)), _ === l.slice(-1) && _ in b && (l = l.slice(1, -1)), (l = i(l)))\r\n              }\r\n            w.push({ type: 'pseudo', name: m, data: l })\r\n          } else {\r\n            if (!c.test(e)) return w.length && 'descendant' === w[w.length - 1].type && w.pop(), u(t, w), e\r\n            ;(m = n()),\r\n              (r && ('lowerCaseTags' in r ? !r.lowerCaseTags : r.xmlMode)) || (m = m.toLowerCase()),\r\n              w.push({ type: 'tag', name: m })\r\n          }\r\n        return u(t, w), e\r\n      }\r\n      function u (t, e) {\r\n        if (t.length > 0 && 0 === e.length) throw new SyntaxError('empty sub-selector')\r\n        t.push(e)\r\n      }\r\n      t.exports = a\r\n      var c = /^(?:\\\\.|[\\w\\-\\u00c0-\\uFFFF])+/,\r\n        l = /\\\\([\\da-f]{1,6}\\s?|(\\s)|.)/gi,\r\n        f = /^\\s*((?:\\\\.|[\\w\\u00c0-\\uFFFF\\-])+)\\s*(?:(\\S?)=\\s*(?:(['\"])(.*?)\\3|(#?(?:\\\\.|[\\w\\u00c0-\\uFFFF\\-])*)|)|)\\s*(i)?\\]/,\r\n        h = {\r\n          __proto__: null,\r\n          undefined: 'exists',\r\n          '': 'equals',\r\n          '~': 'element',\r\n          '^': 'start',\r\n          $: 'end',\r\n          '*': 'any',\r\n          '!': 'not',\r\n          '|': 'hyphen'\r\n        },\r\n        p = { __proto__: null, '>': 'child', '<': 'parent', '~': 'sibling', '+': 'adjacent' },\r\n        d = { __proto__: null, '#': ['id', 'equals'], '.': ['class', 'element'] },\r\n        g = { __proto__: null, has: !0, not: !0, matches: !0 },\r\n        v = { __proto__: null, contains: !0, icontains: !0 },\r\n        b = { __proto__: null, '\"': !0, \"'\": !0 }\r\n    },\r\n    function (t, e, r) {\r\n      var n = r(4),\r\n        i = n.isTag,\r\n        o = n.getParent,\r\n        a = n.getChildren,\r\n        s = n.getSiblings,\r\n        u = n.getName\r\n      t.exports = {\r\n        __proto__: null,\r\n        attribute: r(43).compile,\r\n        pseudo: r(26).compile,\r\n        tag: function (t, e) {\r\n          var r = e.name\r\n          return function (e) {\r\n            return u(e) === r && t(e)\r\n          }\r\n        },\r\n        descendant: function (t, e, r, n, i) {\r\n          return function (e) {\r\n            if (i && t(e)) return !0\r\n            for (var r = !1; !r && (e = o(e)); ) r = t(e)\r\n            return r\r\n          }\r\n        },\r\n        parent: function (t, e, r) {\r\n          function n (e) {\r\n            return i(e) && t(e)\r\n          }\r\n          if (r && r.strict) throw SyntaxError(\"Parent selector isn't part of CSS3\")\r\n          return function (t) {\r\n            return a(t).some(n)\r\n          }\r\n        },\r\n        child: function (t) {\r\n          return function (e) {\r\n            var r = o(e)\r\n            return !!r && t(r)\r\n          }\r\n        },\r\n        sibling: function (t) {\r\n          return function (e) {\r\n            for (var r = s(e), n = 0; n < r.length; n++)\r\n              if (i(r[n])) {\r\n                if (r[n] === e) break\r\n                if (t(r[n])) return !0\r\n              }\r\n            return !1\r\n          }\r\n        },\r\n        adjacent: function (t) {\r\n          return function (e) {\r\n            for (var r, n = s(e), o = 0; o < n.length; o++)\r\n              if (i(n[o])) {\r\n                if (n[o] === e) break\r\n                r = n[o]\r\n              }\r\n            return !!r && t(r)\r\n          }\r\n        },\r\n        universal: function (t) {\r\n          return t\r\n        }\r\n      }\r\n    },\r\n    function (t, e, r) {\r\n      function n (t) {\r\n        for (var e = t.map(i), r = 1; r < t.length; r++) {\r\n          var n = e[r]\r\n          if (!(n < 0))\r\n            for (var o = r - 1; o >= 0 && n < e[o]; o--) {\r\n              var a = t[o + 1]\r\n              ;(t[o + 1] = t[o]), (t[o] = a), (e[o + 1] = e[o]), (e[o] = n)\r\n            }\r\n        }\r\n      }\r\n      function i (t) {\r\n        var e = o[t.type]\r\n        if (e === o.attribute)\r\n          (e = a[t.action]), e === a.equals && 'id' === t.name && (e = 9), t.ignoreCase && (e >>= 1)\r\n        else if (e === o.pseudo)\r\n          if (t.data)\r\n            if ('has' === t.name || 'contains' === t.name) e = 0\r\n            else if ('matches' === t.name || 'not' === t.name) {\r\n              e = 0\r\n              for (var r = 0; r < t.data.length; r++)\r\n                if (1 === t.data[r].length) {\r\n                  var n = i(t.data[r][0])\r\n                  if (0 === n) {\r\n                    e = 0\r\n                    break\r\n                  }\r\n                  n > e && (e = n)\r\n                }\r\n              t.data.length > 1 && e > 0 && (e -= 1)\r\n            } else e = 1\r\n          else e = 3\r\n        return e\r\n      }\r\n      t.exports = n\r\n      var o = r(44),\r\n        a = { __proto__: null, exists: 10, equals: 8, not: 7, start: 6, end: 6, any: 5, hyphen: 4, element: 4 }\r\n    },\r\n    function (t, e, r) {\r\n      ;(function (t, r) {\r\n        function n (t, e, r) {\r\n          switch (r.length) {\r\n            case 0:\r\n              return t.call(e)\r\n            case 1:\r\n              return t.call(e, r[0])\r\n            case 2:\r\n              return t.call(e, r[0], r[1])\r\n            case 3:\r\n              return t.call(e, r[0], r[1], r[2])\r\n          }\r\n          return t.apply(e, r)\r\n        }\r\n        function i (t, e) {\r\n          for (var r = -1, n = Array(t); ++r < t; ) n[r] = e(r)\r\n          return n\r\n        }\r\n        function o (t, e) {\r\n          return null == t ? void 0 : t[e]\r\n        }\r\n        function a (t, e) {\r\n          return '__proto__' == e ? void 0 : t[e]\r\n        }\r\n        function s (t) {\r\n          var e = -1,\r\n            r = null == t ? 0 : t.length\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function u () {\r\n          ;(this.__data__ = be ? be(null) : {}), (this.size = 0)\r\n        }\r\n        function c (t) {\r\n          var e = this.has(t) && delete this.__data__[t]\r\n          return (this.size -= e ? 1 : 0), e\r\n        }\r\n        function l (t) {\r\n          var e = this.__data__\r\n          if (be) {\r\n            var r = e[t]\r\n            return r === xt ? void 0 : r\r\n          }\r\n          return Zt.call(e, t) ? e[t] : void 0\r\n        }\r\n        function f (t) {\r\n          var e = this.__data__\r\n          return be ? void 0 !== e[t] : Zt.call(e, t)\r\n        }\r\n        function h (t, e) {\r\n          var r = this.__data__\r\n          return (this.size += this.has(t) ? 0 : 1), (r[t] = be && void 0 === e ? xt : e), this\r\n        }\r\n        function p (t) {\r\n          var e = -1,\r\n            r = null == t ? 0 : t.length\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function d () {\r\n          ;(this.__data__ = []), (this.size = 0)\r\n        }\r\n        function g (t) {\r\n          var e = this.__data__,\r\n            r = q(e, t)\r\n          return !(r < 0) && (r == e.length - 1 ? e.pop() : le.call(e, r, 1), --this.size, !0)\r\n        }\r\n        function v (t) {\r\n          var e = this.__data__,\r\n            r = q(e, t)\r\n          return r < 0 ? void 0 : e[r][1]\r\n        }\r\n        function b (t) {\r\n          return q(this.__data__, t) > -1\r\n        }\r\n        function y (t, e) {\r\n          var r = this.__data__,\r\n            n = q(r, t)\r\n          return n < 0 ? (++this.size, r.push([t, e])) : (r[n][1] = e), this\r\n        }\r\n        function m (t) {\r\n          var e = -1,\r\n            r = null == t ? 0 : t.length\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function _ () {\r\n          ;(this.size = 0), (this.__data__ = { hash: new s(), map: new (ve || p)(), string: new s() })\r\n        }\r\n        function w (t) {\r\n          var e = J(this, t).delete(t)\r\n          return (this.size -= e ? 1 : 0), e\r\n        }\r\n        function x (t) {\r\n          return J(this, t).get(t)\r\n        }\r\n        function S (t) {\r\n          return J(this, t).has(t)\r\n        }\r\n        function j (t, e) {\r\n          var r = J(this, t),\r\n            n = r.size\r\n          return r.set(t, e), (this.size += r.size == n ? 0 : 1), this\r\n        }\r\n        function k (t) {\r\n          var e = (this.__data__ = new p(t))\r\n          this.size = e.size\r\n        }\r\n        function E () {\r\n          ;(this.__data__ = new p()), (this.size = 0)\r\n        }\r\n        function A (t) {\r\n          var e = this.__data__,\r\n            r = e.delete(t)\r\n          return (this.size = e.size), r\r\n        }\r\n        function T (t) {\r\n          return this.__data__.get(t)\r\n        }\r\n        function O (t) {\r\n          return this.__data__.has(t)\r\n        }\r\n        function L (t, e) {\r\n          var r = this.__data__\r\n          if (r instanceof p) {\r\n            var n = r.__data__\r\n            if (!ve || n.length < wt - 1) return n.push([t, e]), (this.size = ++r.size), this\r\n            r = this.__data__ = new m(n)\r\n          }\r\n          return r.set(t, e), (this.size = r.size), this\r\n        }\r\n        function C (t, e) {\r\n          var r = Se(t),\r\n            n = !r && xe(t),\r\n            o = !r && !n && je(t),\r\n            a = !r && !n && !o && ke(t),\r\n            s = r || n || o || a,\r\n            u = s ? i(t.length, String) : [],\r\n            c = u.length\r\n          for (var l in t)\r\n            (!e && !Zt.call(t, l)) ||\r\n              (s &&\r\n                ('length' == l ||\r\n                  (o && ('offset' == l || 'parent' == l)) ||\r\n                  (a && ('buffer' == l || 'byteLength' == l || 'byteOffset' == l)) ||\r\n                  K(l, c))) ||\r\n              u.push(l)\r\n          return u\r\n        }\r\n        function B (t, e, r) {\r\n          ;((void 0 === r || ut(t[e], r)) && (void 0 !== r || e in t)) || P(t, e, r)\r\n        }\r\n        function D (t, e, r) {\r\n          var n = t[e]\r\n          ;(Zt.call(t, e) && ut(n, r) && (void 0 !== r || e in t)) || P(t, e, r)\r\n        }\r\n        function q (t, e) {\r\n          for (var r = t.length; r--; ) if (ut(t[r][0], e)) return r\r\n          return -1\r\n        }\r\n        function P (t, e, r) {\r\n          '__proto__' == e && he ? he(t, e, { configurable: !0, enumerable: !0, value: r, writable: !0 }) : (t[e] = r)\r\n        }\r\n        function M (t) {\r\n          return null == t ? (void 0 === t ? Dt : Lt) : fe && fe in Object(t) ? X(t) : ot(t)\r\n        }\r\n        function R (t) {\r\n          return dt(t) && M(t) == Et\r\n        }\r\n        function I (t) {\r\n          return !(!pt(t) || rt(t)) && (ft(t) ? re : Pt).test(st(t))\r\n        }\r\n        function N (t) {\r\n          return dt(t) && ht(t.length) && !!Rt[M(t)]\r\n        }\r\n        function U (t) {\r\n          if (!pt(t)) return it(t)\r\n          var e = nt(t),\r\n            r = []\r\n          for (var n in t) ('constructor' != n || (!e && Zt.call(t, n))) && r.push(n)\r\n          return r\r\n        }\r\n        function F (t, e, r, n, i) {\r\n          t !== e &&\r\n            me(\r\n              e,\r\n              function (o, s) {\r\n                if (pt(o)) i || (i = new k()), z(t, e, s, r, F, n, i)\r\n                else {\r\n                  var u = n ? n(a(t, s), o, s + '', t, e, i) : void 0\r\n                  void 0 === u && (u = o), B(t, s, u)\r\n                }\r\n              },\r\n              bt\r\n            )\r\n        }\r\n        function z (t, e, r, n, i, o, s) {\r\n          var u = a(t, r),\r\n            c = a(e, r),\r\n            l = s.get(c)\r\n          if (l) return void B(t, r, l)\r\n          var f = o ? o(u, c, r + '', t, e, s) : void 0,\r\n            h = void 0 === f\r\n          if (h) {\r\n            var p = Se(c),\r\n              d = !p && je(c),\r\n              g = !p && !d && ke(c)\r\n            ;(f = c),\r\n              p || d || g\r\n                ? Se(u)\r\n                  ? (f = u)\r\n                  : lt(u)\r\n                  ? (f = G(u))\r\n                  : d\r\n                  ? ((h = !1), (f = $(c, !0)))\r\n                  : g\r\n                  ? ((h = !1), (f = W(c, !0)))\r\n                  : (f = [])\r\n                : gt(c) || xe(c)\r\n                ? ((f = u), xe(u) ? (f = vt(u)) : (!pt(u) || (n && ft(u))) && (f = Z(c)))\r\n                : (h = !1)\r\n          }\r\n          h && (s.set(c, f), i(f, c, n, o, s), s.delete(c)), B(t, r, f)\r\n        }\r\n        function V (t, e) {\r\n          return we(at(t, e, mt), t + '')\r\n        }\r\n        function $ (t, e) {\r\n          if (e) return t.slice()\r\n          var r = t.length,\r\n            n = ae ? ae(r) : new t.constructor(r)\r\n          return t.copy(n), n\r\n        }\r\n        function H (t) {\r\n          var e = new t.constructor(t.byteLength)\r\n          return new oe(e).set(new oe(t)), e\r\n        }\r\n        function W (t, e) {\r\n          var r = e ? H(t.buffer) : t.buffer\r\n          return new t.constructor(r, t.byteOffset, t.length)\r\n        }\r\n        function G (t, e) {\r\n          var r = -1,\r\n            n = t.length\r\n          for (e || (e = Array(n)); ++r < n; ) e[r] = t[r]\r\n          return e\r\n        }\r\n        function Y (t, e, r, n) {\r\n          var i = !r\r\n          r || (r = {})\r\n          for (var o = -1, a = e.length; ++o < a; ) {\r\n            var s = e[o],\r\n              u = n ? n(r[s], t[s], s, r, t) : void 0\r\n            void 0 === u && (u = t[s]), i ? P(r, s, u) : D(r, s, u)\r\n          }\r\n          return r\r\n        }\r\n        function J (t, e) {\r\n          var r = t.__data__\r\n          return et(e) ? r['string' == typeof e ? 'string' : 'hash'] : r.map\r\n        }\r\n        function Q (t, e) {\r\n          var r = o(t, e)\r\n          return I(r) ? r : void 0\r\n        }\r\n        function X (t) {\r\n          var e = Zt.call(t, fe),\r\n            r = t[fe]\r\n          try {\r\n            t[fe] = void 0\r\n            var n = !0\r\n          } catch (t) {}\r\n          var i = te.call(t)\r\n          return n && (e ? (t[fe] = r) : delete t[fe]), i\r\n        }\r\n        function Z (t) {\r\n          return 'function' != typeof t.constructor || nt(t) ? {} : ye(se(t))\r\n        }\r\n        function K (t, e) {\r\n          var r = typeof t\r\n          return (\r\n            !!(e = null == e ? kt : e) &&\r\n            ('number' == r || ('symbol' != r && Mt.test(t))) &&\r\n            t > -1 &&\r\n            t % 1 == 0 &&\r\n            t < e\r\n          )\r\n        }\r\n        function tt (t, e, r) {\r\n          if (!pt(r)) return !1\r\n          var n = typeof e\r\n          return !!('number' == n ? ct(r) && K(e, r.length) : 'string' == n && e in r) && ut(r[e], t)\r\n        }\r\n        function et (t) {\r\n          var e = typeof t\r\n          return 'string' == e || 'number' == e || 'symbol' == e || 'boolean' == e ? '__proto__' !== t : null === t\r\n        }\r\n        function rt (t) {\r\n          return !!Kt && Kt in t\r\n        }\r\n        function nt (t) {\r\n          var e = t && t.constructor\r\n          return t === (('function' == typeof e && e.prototype) || Jt)\r\n        }\r\n        function it (t) {\r\n          var e = []\r\n          if (null != t) for (var r in Object(t)) e.push(r)\r\n          return e\r\n        }\r\n        function ot (t) {\r\n          return te.call(t)\r\n        }\r\n        function at (t, e, r) {\r\n          return (\r\n            (e = de(void 0 === e ? t.length - 1 : e, 0)),\r\n            function () {\r\n              for (var i = arguments, o = -1, a = de(i.length - e, 0), s = Array(a); ++o < a; ) s[o] = i[e + o]\r\n              o = -1\r\n              for (var u = Array(e + 1); ++o < e; ) u[o] = i[o]\r\n              return (u[e] = r(s)), n(t, this, u)\r\n            }\r\n          )\r\n        }\r\n        function st (t) {\r\n          if (null != t) {\r\n            try {\r\n              return Xt.call(t)\r\n            } catch (t) {}\r\n            try {\r\n              return t + ''\r\n            } catch (t) {}\r\n          }\r\n          return ''\r\n        }\r\n        function ut (t, e) {\r\n          return t === e || (t !== t && e !== e)\r\n        }\r\n        function ct (t) {\r\n          return null != t && ht(t.length) && !ft(t)\r\n        }\r\n        function lt (t) {\r\n          return dt(t) && ct(t)\r\n        }\r\n        function ft (t) {\r\n          if (!pt(t)) return !1\r\n          var e = M(t)\r\n          return e == Tt || e == Ot || e == At || e == Bt\r\n        }\r\n        function ht (t) {\r\n          return 'number' == typeof t && t > -1 && t % 1 == 0 && t <= kt\r\n        }\r\n        function pt (t) {\r\n          var e = typeof t\r\n          return null != t && ('object' == e || 'function' == e)\r\n        }\r\n        function dt (t) {\r\n          return null != t && 'object' == typeof t\r\n        }\r\n        function gt (t) {\r\n          if (!dt(t) || M(t) != Ct) return !1\r\n          var e = se(t)\r\n          if (null === e) return !0\r\n          var r = Zt.call(e, 'constructor') && e.constructor\r\n          return 'function' == typeof r && r instanceof r && Xt.call(r) == ee\r\n        }\r\n        function vt (t) {\r\n          return Y(t, bt(t))\r\n        }\r\n        function bt (t) {\r\n          return ct(t) ? C(t, !0) : U(t)\r\n        }\r\n        function yt (t) {\r\n          return function () {\r\n            return t\r\n          }\r\n        }\r\n        function mt (t) {\r\n          return t\r\n        }\r\n        function _t () {\r\n          return !1\r\n        }\r\n        var wt = 200,\r\n          xt = '__lodash_hash_undefined__',\r\n          St = 800,\r\n          jt = 16,\r\n          kt = 9007199254740991,\r\n          Et = '[object Arguments]',\r\n          At = '[object AsyncFunction]',\r\n          Tt = '[object Function]',\r\n          Ot = '[object GeneratorFunction]',\r\n          Lt = '[object Null]',\r\n          Ct = '[object Object]',\r\n          Bt = '[object Proxy]',\r\n          Dt = '[object Undefined]',\r\n          qt = /[\\\\^$.*+?()[\\]{}|]/g,\r\n          Pt = /^\\[object .+?Constructor\\]$/,\r\n          Mt = /^(?:0|[1-9]\\d*)$/,\r\n          Rt = {}\r\n        ;(Rt['[object Float32Array]'] = Rt['[object Float64Array]'] = Rt['[object Int8Array]'] = Rt[\r\n          '[object Int16Array]'\r\n        ] = Rt['[object Int32Array]'] = Rt['[object Uint8Array]'] = Rt['[object Uint8ClampedArray]'] = Rt[\r\n          '[object Uint16Array]'\r\n        ] = Rt['[object Uint32Array]'] = !0),\r\n          (Rt[Et] = Rt['[object Array]'] = Rt['[object ArrayBuffer]'] = Rt['[object Boolean]'] = Rt[\r\n            '[object DataView]'\r\n          ] = Rt['[object Date]'] = Rt['[object Error]'] = Rt[Tt] = Rt['[object Map]'] = Rt['[object Number]'] = Rt[\r\n            Ct\r\n          ] = Rt['[object RegExp]'] = Rt['[object Set]'] = Rt['[object String]'] = Rt['[object WeakMap]'] = !1)\r\n        var It = 'object' == typeof t && t && t.Object === Object && t,\r\n          Nt = 'object' == typeof self && self && self.Object === Object && self,\r\n          Ut = It || Nt || Function('return this')(),\r\n          Ft = 'object' == typeof e && e && !e.nodeType && e,\r\n          zt = Ft && 'object' == typeof r && r && !r.nodeType && r,\r\n          Vt = zt && zt.exports === Ft,\r\n          $t = Vt && It.process,\r\n          Ht = (function () {\r\n            try {\r\n              return $t && $t.binding && $t.binding('util')\r\n            } catch (t) {}\r\n          })(),\r\n          Wt = Ht && Ht.isTypedArray,\r\n          Gt = Array.prototype,\r\n          Yt = Function.prototype,\r\n          Jt = Object.prototype,\r\n          Qt = Ut['__core-js_shared__'],\r\n          Xt = Yt.toString,\r\n          Zt = Jt.hasOwnProperty,\r\n          Kt = (function () {\r\n            var t = /[^.]+$/.exec((Qt && Qt.keys && Qt.keys.IE_PROTO) || '')\r\n            return t ? 'Symbol(src)_1.' + t : ''\r\n          })(),\r\n          te = Jt.toString,\r\n          ee = Xt.call(Object),\r\n          re = RegExp(\r\n            '^' +\r\n              Xt.call(Zt)\r\n                .replace(qt, '\\\\$&')\r\n                .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') +\r\n              '$'\r\n          ),\r\n          ne = Vt ? Ut.Buffer : void 0,\r\n          ie = Ut.Symbol,\r\n          oe = Ut.Uint8Array,\r\n          ae = ne ? ne.allocUnsafe : void 0,\r\n          se = (function (t, e) {\r\n            return function (r) {\r\n              return t(e(r))\r\n            }\r\n          })(Object.getPrototypeOf, Object),\r\n          ue = Object.create,\r\n          ce = Jt.propertyIsEnumerable,\r\n          le = Gt.splice,\r\n          fe = ie ? ie.toStringTag : void 0,\r\n          he = (function () {\r\n            try {\r\n              var t = Q(Object, 'defineProperty')\r\n              return t({}, '', {}), t\r\n            } catch (t) {}\r\n          })(),\r\n          pe = ne ? ne.isBuffer : void 0,\r\n          de = Math.max,\r\n          ge = Date.now,\r\n          ve = Q(Ut, 'Map'),\r\n          be = Q(Object, 'create'),\r\n          ye = (function () {\r\n            function t () {}\r\n            return function (e) {\r\n              if (!pt(e)) return {}\r\n              if (ue) return ue(e)\r\n              t.prototype = e\r\n              var r = new t()\r\n              return (t.prototype = void 0), r\r\n            }\r\n          })()\r\n        ;(s.prototype.clear = u),\r\n          (s.prototype.delete = c),\r\n          (s.prototype.get = l),\r\n          (s.prototype.has = f),\r\n          (s.prototype.set = h),\r\n          (p.prototype.clear = d),\r\n          (p.prototype.delete = g),\r\n          (p.prototype.get = v),\r\n          (p.prototype.has = b),\r\n          (p.prototype.set = y),\r\n          (m.prototype.clear = _),\r\n          (m.prototype.delete = w),\r\n          (m.prototype.get = x),\r\n          (m.prototype.has = S),\r\n          (m.prototype.set = j),\r\n          (k.prototype.clear = E),\r\n          (k.prototype.delete = A),\r\n          (k.prototype.get = T),\r\n          (k.prototype.has = O),\r\n          (k.prototype.set = L)\r\n        var me = (function (t) {\r\n            return function (e, r, n) {\r\n              for (var i = -1, o = Object(e), a = n(e), s = a.length; s--; ) {\r\n                var u = a[t ? s : ++i]\r\n                if (!1 === r(o[u], u, o)) break\r\n              }\r\n              return e\r\n            }\r\n          })(),\r\n          _e = he\r\n            ? function (t, e) {\r\n                return he(t, 'toString', { configurable: !0, enumerable: !1, value: yt(e), writable: !0 })\r\n              }\r\n            : mt,\r\n          we = (function (t) {\r\n            var e = 0,\r\n              r = 0\r\n            return function () {\r\n              var n = ge(),\r\n                i = jt - (n - r)\r\n              if (((r = n), i > 0)) {\r\n                if (++e >= St) return arguments[0]\r\n              } else e = 0\r\n              return t.apply(void 0, arguments)\r\n            }\r\n          })(_e),\r\n          xe = R(\r\n            (function () {\r\n              return arguments\r\n            })()\r\n          )\r\n            ? R\r\n            : function (t) {\r\n                return dt(t) && Zt.call(t, 'callee') && !ce.call(t, 'callee')\r\n              },\r\n          Se = Array.isArray,\r\n          je = pe || _t,\r\n          ke = Wt\r\n            ? (function (t) {\r\n                return function (e) {\r\n                  return t(e)\r\n                }\r\n              })(Wt)\r\n            : N,\r\n          Ee = (function (t) {\r\n            return V(function (e, r) {\r\n              var n = -1,\r\n                i = r.length,\r\n                o = i > 1 ? r[i - 1] : void 0,\r\n                a = i > 2 ? r[2] : void 0\r\n              for (\r\n                o = t.length > 3 && 'function' == typeof o ? (i--, o) : void 0,\r\n                  a && tt(r[0], r[1], a) && ((o = i < 3 ? void 0 : o), (i = 1)),\r\n                  e = Object(e);\r\n                ++n < i;\r\n\r\n              ) {\r\n                var s = r[n]\r\n                s && t(e, s, n, o)\r\n              }\r\n              return e\r\n            })\r\n          })(function (t, e, r) {\r\n            F(t, e, r)\r\n          })\r\n        r.exports = Ee\r\n      }.call(e, r(0), r(5)(t)))\r\n    },\r\n    function (t, e, r) {\r\n      ;(function (t, r) {\r\n        function n (t, e) {\r\n          for (var r = -1, n = t ? t.length : 0; ++r < n; ) if (e(t[r], r, t)) return !0\r\n          return !1\r\n        }\r\n        function i (t) {\r\n          return function (e) {\r\n            return null == e ? void 0 : e[t]\r\n          }\r\n        }\r\n        function o (t, e) {\r\n          for (var r = -1, n = Array(t); ++r < t; ) n[r] = e(r)\r\n          return n\r\n        }\r\n        function a (t, e) {\r\n          return null == t ? void 0 : t[e]\r\n        }\r\n        function s (t) {\r\n          var e = !1\r\n          if (null != t && 'function' != typeof t.toString)\r\n            try {\r\n              e = !!(t + '')\r\n            } catch (t) {}\r\n          return e\r\n        }\r\n        function u (t) {\r\n          var e = -1,\r\n            r = Array(t.size)\r\n          return (\r\n            t.forEach(function (t, n) {\r\n              r[++e] = [n, t]\r\n            }),\r\n            r\r\n          )\r\n        }\r\n        function c (t) {\r\n          var e = -1,\r\n            r = Array(t.size)\r\n          return (\r\n            t.forEach(function (t) {\r\n              r[++e] = t\r\n            }),\r\n            r\r\n          )\r\n        }\r\n        function l (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function f () {\r\n          this.__data__ = ze ? ze(null) : {}\r\n        }\r\n        function h (t) {\r\n          return this.has(t) && delete this.__data__[t]\r\n        }\r\n        function p (t) {\r\n          var e = this.__data__\r\n          if (ze) {\r\n            var r = e[t]\r\n            return r === It ? void 0 : r\r\n          }\r\n          return Oe.call(e, t) ? e[t] : void 0\r\n        }\r\n        function d (t) {\r\n          var e = this.__data__\r\n          return ze ? void 0 !== e[t] : Oe.call(e, t)\r\n        }\r\n        function g (t, e) {\r\n          return (this.__data__[t] = ze && void 0 === e ? It : e), this\r\n        }\r\n        function v (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function b () {\r\n          this.__data__ = []\r\n        }\r\n        function y (t) {\r\n          var e = this.__data__,\r\n            r = I(e, t)\r\n          return !(r < 0) && (r == e.length - 1 ? e.pop() : Pe.call(e, r, 1), !0)\r\n        }\r\n        function m (t) {\r\n          var e = this.__data__,\r\n            r = I(e, t)\r\n          return r < 0 ? void 0 : e[r][1]\r\n        }\r\n        function _ (t) {\r\n          return I(this.__data__, t) > -1\r\n        }\r\n        function w (t, e) {\r\n          var r = this.__data__,\r\n            n = I(r, t)\r\n          return n < 0 ? r.push([t, e]) : (r[n][1] = e), this\r\n        }\r\n        function x (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function S () {\r\n          this.__data__ = { hash: new l(), map: new (Ie || v)(), string: new l() }\r\n        }\r\n        function j (t) {\r\n          return ot(this, t).delete(t)\r\n        }\r\n        function k (t) {\r\n          return ot(this, t).get(t)\r\n        }\r\n        function E (t) {\r\n          return ot(this, t).has(t)\r\n        }\r\n        function A (t, e) {\r\n          return ot(this, t).set(t, e), this\r\n        }\r\n        function T (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.__data__ = new x(); ++e < r; ) this.add(t[e])\r\n        }\r\n        function O (t) {\r\n          return this.__data__.set(t, It), this\r\n        }\r\n        function L (t) {\r\n          return this.__data__.has(t)\r\n        }\r\n        function C (t) {\r\n          this.__data__ = new v(t)\r\n        }\r\n        function B () {\r\n          this.__data__ = new v()\r\n        }\r\n        function D (t) {\r\n          return this.__data__.delete(t)\r\n        }\r\n        function q (t) {\r\n          return this.__data__.get(t)\r\n        }\r\n        function P (t) {\r\n          return this.__data__.has(t)\r\n        }\r\n        function M (t, e) {\r\n          var r = this.__data__\r\n          if (r instanceof v) {\r\n            var n = r.__data__\r\n            if (!Ie || n.length < Mt - 1) return n.push([t, e]), this\r\n            r = this.__data__ = new x(n)\r\n          }\r\n          return r.set(t, e), this\r\n        }\r\n        function R (t, e) {\r\n          var r = er(t) || xt(t) ? o(t.length, String) : [],\r\n            n = r.length,\r\n            i = !!n\r\n          for (var a in t) (!e && !Oe.call(t, a)) || (i && ('length' == a || ct(a, n))) || r.push(a)\r\n          return r\r\n        }\r\n        function I (t, e) {\r\n          for (var r = t.length; r--; ) if (wt(t[r][0], e)) return r\r\n          return -1\r\n        }\r\n        function N (t, e) {\r\n          return t && Ze(t, e, Dt)\r\n        }\r\n        function U (t, e) {\r\n          e = ft(e, t) ? [e] : et(e)\r\n          for (var r = 0, n = e.length; null != t && r < n; ) t = t[bt(e[r++])]\r\n          return r && r == n ? t : void 0\r\n        }\r\n        function F (t) {\r\n          return Le.call(t)\r\n        }\r\n        function z (t, e) {\r\n          return null != t && e in Object(t)\r\n        }\r\n        function V (t, e, r, n, i) {\r\n          return t === e || (null == t || null == e || (!At(t) && !Tt(e)) ? t !== t && e !== e : $(t, e, V, r, n, i))\r\n        }\r\n        function $ (t, e, r, n, i, o) {\r\n          var a = er(t),\r\n            u = er(e),\r\n            c = $t,\r\n            l = $t\r\n          a || ((c = Ke(t)), (c = c == Vt ? Zt : c)), u || ((l = Ke(e)), (l = l == Vt ? Zt : l))\r\n          var f = c == Zt && !s(t),\r\n            h = l == Zt && !s(e),\r\n            p = c == l\r\n          if (p && !f) return o || (o = new C()), a || rr(t) ? rt(t, e, r, n, i, o) : nt(t, e, c, r, n, i, o)\r\n          if (!(i & Ut)) {\r\n            var d = f && Oe.call(t, '__wrapped__'),\r\n              g = h && Oe.call(e, '__wrapped__')\r\n            if (d || g) {\r\n              var v = d ? t.value() : t,\r\n                b = g ? e.value() : e\r\n              return o || (o = new C()), r(v, b, n, i, o)\r\n            }\r\n          }\r\n          return !!p && (o || (o = new C()), it(t, e, r, n, i, o))\r\n        }\r\n        function H (t, e, r, n) {\r\n          var i = r.length,\r\n            o = i,\r\n            a = !n\r\n          if (null == t) return !o\r\n          for (t = Object(t); i--; ) {\r\n            var s = r[i]\r\n            if (a && s[2] ? s[1] !== t[s[0]] : !(s[0] in t)) return !1\r\n          }\r\n          for (; ++i < o; ) {\r\n            s = r[i]\r\n            var u = s[0],\r\n              c = t[u],\r\n              l = s[1]\r\n            if (a && s[2]) {\r\n              if (void 0 === c && !(u in t)) return !1\r\n            } else {\r\n              var f = new C()\r\n              if (n) var h = n(c, l, u, t, e, f)\r\n              if (!(void 0 === h ? V(l, c, n, Nt | Ut, f) : h)) return !1\r\n            }\r\n          }\r\n          return !0\r\n        }\r\n        function W (t) {\r\n          return !(!At(t) || pt(t)) && (kt(t) || s(t) ? Ce : fe).test(yt(t))\r\n        }\r\n        function G (t) {\r\n          return Tt(t) && Et(t.length) && !!pe[Le.call(t)]\r\n        }\r\n        function Y (t) {\r\n          return 'function' == typeof t\r\n            ? t\r\n            : null == t\r\n            ? qt\r\n            : 'object' == typeof t\r\n            ? er(t)\r\n              ? X(t[0], t[1])\r\n              : Q(t)\r\n            : Pt(t)\r\n        }\r\n        function J (t) {\r\n          if (!dt(t)) return Me(t)\r\n          var e = []\r\n          for (var r in Object(t)) Oe.call(t, r) && 'constructor' != r && e.push(r)\r\n          return e\r\n        }\r\n        function Q (t) {\r\n          var e = at(t)\r\n          return 1 == e.length && e[0][2]\r\n            ? vt(e[0][0], e[0][1])\r\n            : function (r) {\r\n                return r === t || H(r, t, e)\r\n              }\r\n        }\r\n        function X (t, e) {\r\n          return ft(t) && gt(e)\r\n            ? vt(bt(t), e)\r\n            : function (r) {\r\n                var n = Ct(r, t)\r\n                return void 0 === n && n === e ? Bt(r, t) : V(e, n, void 0, Nt | Ut)\r\n              }\r\n        }\r\n        function Z (t) {\r\n          return function (e) {\r\n            return U(e, t)\r\n          }\r\n        }\r\n        function K (t, e) {\r\n          var r\r\n          return (\r\n            Xe(t, function (t, n, i) {\r\n              return !(r = e(t, n, i))\r\n            }),\r\n            !!r\r\n          )\r\n        }\r\n        function tt (t) {\r\n          if ('string' == typeof t) return t\r\n          if (Ot(t)) return Qe ? Qe.call(t) : ''\r\n          var e = t + ''\r\n          return '0' == e && 1 / t == -Ft ? '-0' : e\r\n        }\r\n        function et (t) {\r\n          return er(t) ? t : tr(t)\r\n        }\r\n        function rt (t, e, r, i, o, a) {\r\n          var s = o & Ut,\r\n            u = t.length,\r\n            c = e.length\r\n          if (u != c && !(s && c > u)) return !1\r\n          var l = a.get(t)\r\n          if (l && a.get(e)) return l == e\r\n          var f = -1,\r\n            h = !0,\r\n            p = o & Nt ? new T() : void 0\r\n          for (a.set(t, e), a.set(e, t); ++f < u; ) {\r\n            var d = t[f],\r\n              g = e[f]\r\n            if (i) var v = s ? i(g, d, f, e, t, a) : i(d, g, f, t, e, a)\r\n            if (void 0 !== v) {\r\n              if (v) continue\r\n              h = !1\r\n              break\r\n            }\r\n            if (p) {\r\n              if (\r\n                !n(e, function (t, e) {\r\n                  if (!p.has(e) && (d === t || r(d, t, i, o, a))) return p.add(e)\r\n                })\r\n              ) {\r\n                h = !1\r\n                break\r\n              }\r\n            } else if (d !== g && !r(d, g, i, o, a)) {\r\n              h = !1\r\n              break\r\n            }\r\n          }\r\n          return a.delete(t), a.delete(e), h\r\n        }\r\n        function nt (t, e, r, n, i, o, a) {\r\n          switch (r) {\r\n            case ie:\r\n              if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) return !1\r\n              ;(t = t.buffer), (e = e.buffer)\r\n            case ne:\r\n              return !(t.byteLength != e.byteLength || !n(new De(t), new De(e)))\r\n            case Ht:\r\n            case Wt:\r\n            case Xt:\r\n              return wt(+t, +e)\r\n            case Gt:\r\n              return t.name == e.name && t.message == e.message\r\n            case Kt:\r\n            case ee:\r\n              return t == e + ''\r\n            case Qt:\r\n              var s = u\r\n            case te:\r\n              var l = o & Ut\r\n              if ((s || (s = c), t.size != e.size && !l)) return !1\r\n              var f = a.get(t)\r\n              if (f) return f == e\r\n              ;(o |= Nt), a.set(t, e)\r\n              var h = rt(s(t), s(e), n, i, o, a)\r\n              return a.delete(t), h\r\n            case re:\r\n              if (Je) return Je.call(t) == Je.call(e)\r\n          }\r\n          return !1\r\n        }\r\n        function it (t, e, r, n, i, o) {\r\n          var a = i & Ut,\r\n            s = Dt(t),\r\n            u = s.length\r\n          if (u != Dt(e).length && !a) return !1\r\n          for (var c = u; c--; ) {\r\n            var l = s[c]\r\n            if (!(a ? l in e : Oe.call(e, l))) return !1\r\n          }\r\n          var f = o.get(t)\r\n          if (f && o.get(e)) return f == e\r\n          var h = !0\r\n          o.set(t, e), o.set(e, t)\r\n          for (var p = a; ++c < u; ) {\r\n            l = s[c]\r\n            var d = t[l],\r\n              g = e[l]\r\n            if (n) var v = a ? n(g, d, l, e, t, o) : n(d, g, l, t, e, o)\r\n            if (!(void 0 === v ? d === g || r(d, g, n, i, o) : v)) {\r\n              h = !1\r\n              break\r\n            }\r\n            p || (p = 'constructor' == l)\r\n          }\r\n          if (h && !p) {\r\n            var b = t.constructor,\r\n              y = e.constructor\r\n            b != y &&\r\n              'constructor' in t &&\r\n              'constructor' in e &&\r\n              !('function' == typeof b && b instanceof b && 'function' == typeof y && y instanceof y) &&\r\n              (h = !1)\r\n          }\r\n          return o.delete(t), o.delete(e), h\r\n        }\r\n        function ot (t, e) {\r\n          var r = t.__data__\r\n          return ht(e) ? r['string' == typeof e ? 'string' : 'hash'] : r.map\r\n        }\r\n        function at (t) {\r\n          for (var e = Dt(t), r = e.length; r--; ) {\r\n            var n = e[r],\r\n              i = t[n]\r\n            e[r] = [n, i, gt(i)]\r\n          }\r\n          return e\r\n        }\r\n        function st (t, e) {\r\n          var r = a(t, e)\r\n          return W(r) ? r : void 0\r\n        }\r\n        function ut (t, e, r) {\r\n          e = ft(e, t) ? [e] : et(e)\r\n          for (var n, i = -1, o = e.length; ++i < o; ) {\r\n            var a = bt(e[i])\r\n            if (!(n = null != t && r(t, a))) break\r\n            t = t[a]\r\n          }\r\n          if (n) return n\r\n          var o = t ? t.length : 0\r\n          return !!o && Et(o) && ct(a, o) && (er(t) || xt(t))\r\n        }\r\n        function ct (t, e) {\r\n          return !!(e = null == e ? zt : e) && ('number' == typeof t || he.test(t)) && t > -1 && t % 1 == 0 && t < e\r\n        }\r\n        function lt (t, e, r) {\r\n          if (!At(r)) return !1\r\n          var n = typeof e\r\n          return !!('number' == n ? St(r) && ct(e, r.length) : 'string' == n && e in r) && wt(r[e], t)\r\n        }\r\n        function ft (t, e) {\r\n          if (er(t)) return !1\r\n          var r = typeof t\r\n          return (\r\n            !('number' != r && 'symbol' != r && 'boolean' != r && null != t && !Ot(t)) ||\r\n            (ae.test(t) || !oe.test(t) || (null != e && t in Object(e)))\r\n          )\r\n        }\r\n        function ht (t) {\r\n          var e = typeof t\r\n          return 'string' == e || 'number' == e || 'symbol' == e || 'boolean' == e ? '__proto__' !== t : null === t\r\n        }\r\n        function pt (t) {\r\n          return !!Ae && Ae in t\r\n        }\r\n        function dt (t) {\r\n          var e = t && t.constructor\r\n          return t === (('function' == typeof e && e.prototype) || ke)\r\n        }\r\n        function gt (t) {\r\n          return t === t && !At(t)\r\n        }\r\n        function vt (t, e) {\r\n          return function (r) {\r\n            return null != r && (r[t] === e && (void 0 !== e || t in Object(r)))\r\n          }\r\n        }\r\n        function bt (t) {\r\n          if ('string' == typeof t || Ot(t)) return t\r\n          var e = t + ''\r\n          return '0' == e && 1 / t == -Ft ? '-0' : e\r\n        }\r\n        function yt (t) {\r\n          if (null != t) {\r\n            try {\r\n              return Te.call(t)\r\n            } catch (t) {}\r\n            try {\r\n              return t + ''\r\n            } catch (t) {}\r\n          }\r\n          return ''\r\n        }\r\n        function mt (t, e, r) {\r\n          var i = er(t) ? n : K\r\n          return r && lt(t, e, r) && (e = void 0), i(t, Y(e, 3))\r\n        }\r\n        function _t (t, e) {\r\n          if ('function' != typeof t || (e && 'function' != typeof e)) throw new TypeError(Rt)\r\n          var r = function () {\r\n            var n = arguments,\r\n              i = e ? e.apply(this, n) : n[0],\r\n              o = r.cache\r\n            if (o.has(i)) return o.get(i)\r\n            var a = t.apply(this, n)\r\n            return (r.cache = o.set(i, a)), a\r\n          }\r\n          return (r.cache = new (_t.Cache || x)()), r\r\n        }\r\n        function wt (t, e) {\r\n          return t === e || (t !== t && e !== e)\r\n        }\r\n        function xt (t) {\r\n          return jt(t) && Oe.call(t, 'callee') && (!qe.call(t, 'callee') || Le.call(t) == Vt)\r\n        }\r\n        function St (t) {\r\n          return null != t && Et(t.length) && !kt(t)\r\n        }\r\n        function jt (t) {\r\n          return Tt(t) && St(t)\r\n        }\r\n        function kt (t) {\r\n          var e = At(t) ? Le.call(t) : ''\r\n          return e == Yt || e == Jt\r\n        }\r\n        function Et (t) {\r\n          return 'number' == typeof t && t > -1 && t % 1 == 0 && t <= zt\r\n        }\r\n        function At (t) {\r\n          var e = typeof t\r\n          return !!t && ('object' == e || 'function' == e)\r\n        }\r\n        function Tt (t) {\r\n          return !!t && 'object' == typeof t\r\n        }\r\n        function Ot (t) {\r\n          return 'symbol' == typeof t || (Tt(t) && Le.call(t) == re)\r\n        }\r\n        function Lt (t) {\r\n          return null == t ? '' : tt(t)\r\n        }\r\n        function Ct (t, e, r) {\r\n          var n = null == t ? void 0 : U(t, e)\r\n          return void 0 === n ? r : n\r\n        }\r\n        function Bt (t, e) {\r\n          return null != t && ut(t, e, z)\r\n        }\r\n        function Dt (t) {\r\n          return St(t) ? R(t) : J(t)\r\n        }\r\n        function qt (t) {\r\n          return t\r\n        }\r\n        function Pt (t) {\r\n          return ft(t) ? i(bt(t)) : Z(t)\r\n        }\r\n        var Mt = 200,\r\n          Rt = 'Expected a function',\r\n          It = '__lodash_hash_undefined__',\r\n          Nt = 1,\r\n          Ut = 2,\r\n          Ft = 1 / 0,\r\n          zt = 9007199254740991,\r\n          Vt = '[object Arguments]',\r\n          $t = '[object Array]',\r\n          Ht = '[object Boolean]',\r\n          Wt = '[object Date]',\r\n          Gt = '[object Error]',\r\n          Yt = '[object Function]',\r\n          Jt = '[object GeneratorFunction]',\r\n          Qt = '[object Map]',\r\n          Xt = '[object Number]',\r\n          Zt = '[object Object]',\r\n          Kt = '[object RegExp]',\r\n          te = '[object Set]',\r\n          ee = '[object String]',\r\n          re = '[object Symbol]',\r\n          ne = '[object ArrayBuffer]',\r\n          ie = '[object DataView]',\r\n          oe = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\r\n          ae = /^\\w*$/,\r\n          se = /^\\./,\r\n          ue = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,\r\n          ce = /[\\\\^$.*+?()[\\]{}|]/g,\r\n          le = /\\\\(\\\\)?/g,\r\n          fe = /^\\[object .+?Constructor\\]$/,\r\n          he = /^(?:0|[1-9]\\d*)$/,\r\n          pe = {}\r\n        ;(pe['[object Float32Array]'] = pe['[object Float64Array]'] = pe['[object Int8Array]'] = pe[\r\n          '[object Int16Array]'\r\n        ] = pe['[object Int32Array]'] = pe['[object Uint8Array]'] = pe['[object Uint8ClampedArray]'] = pe[\r\n          '[object Uint16Array]'\r\n        ] = pe['[object Uint32Array]'] = !0),\r\n          (pe[Vt] = pe[$t] = pe[ne] = pe[Ht] = pe[ie] = pe[Wt] = pe[Gt] = pe[Yt] = pe[Qt] = pe[Xt] = pe[Zt] = pe[\r\n            Kt\r\n          ] = pe[te] = pe[ee] = pe['[object WeakMap]'] = !1)\r\n        var de = 'object' == typeof t && t && t.Object === Object && t,\r\n          ge = 'object' == typeof self && self && self.Object === Object && self,\r\n          ve = de || ge || Function('return this')(),\r\n          be = 'object' == typeof e && e && !e.nodeType && e,\r\n          ye = be && 'object' == typeof r && r && !r.nodeType && r,\r\n          me = ye && ye.exports === be,\r\n          _e = me && de.process,\r\n          we = (function () {\r\n            try {\r\n              return _e && _e.binding('util')\r\n            } catch (t) {}\r\n          })(),\r\n          xe = we && we.isTypedArray,\r\n          Se = Array.prototype,\r\n          je = Function.prototype,\r\n          ke = Object.prototype,\r\n          Ee = ve['__core-js_shared__'],\r\n          Ae = (function () {\r\n            var t = /[^.]+$/.exec((Ee && Ee.keys && Ee.keys.IE_PROTO) || '')\r\n            return t ? 'Symbol(src)_1.' + t : ''\r\n          })(),\r\n          Te = je.toString,\r\n          Oe = ke.hasOwnProperty,\r\n          Le = ke.toString,\r\n          Ce = RegExp(\r\n            '^' +\r\n              Te.call(Oe)\r\n                .replace(ce, '\\\\$&')\r\n                .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') +\r\n              '$'\r\n          ),\r\n          Be = ve.Symbol,\r\n          De = ve.Uint8Array,\r\n          qe = ke.propertyIsEnumerable,\r\n          Pe = Se.splice,\r\n          Me = (function (t, e) {\r\n            return function (r) {\r\n              return t(e(r))\r\n            }\r\n          })(Object.keys, Object),\r\n          Re = st(ve, 'DataView'),\r\n          Ie = st(ve, 'Map'),\r\n          Ne = st(ve, 'Promise'),\r\n          Ue = st(ve, 'Set'),\r\n          Fe = st(ve, 'WeakMap'),\r\n          ze = st(Object, 'create'),\r\n          Ve = yt(Re),\r\n          $e = yt(Ie),\r\n          He = yt(Ne),\r\n          We = yt(Ue),\r\n          Ge = yt(Fe),\r\n          Ye = Be ? Be.prototype : void 0,\r\n          Je = Ye ? Ye.valueOf : void 0,\r\n          Qe = Ye ? Ye.toString : void 0\r\n        ;(l.prototype.clear = f),\r\n          (l.prototype.delete = h),\r\n          (l.prototype.get = p),\r\n          (l.prototype.has = d),\r\n          (l.prototype.set = g),\r\n          (v.prototype.clear = b),\r\n          (v.prototype.delete = y),\r\n          (v.prototype.get = m),\r\n          (v.prototype.has = _),\r\n          (v.prototype.set = w),\r\n          (x.prototype.clear = S),\r\n          (x.prototype.delete = j),\r\n          (x.prototype.get = k),\r\n          (x.prototype.has = E),\r\n          (x.prototype.set = A),\r\n          (T.prototype.add = T.prototype.push = O),\r\n          (T.prototype.has = L),\r\n          (C.prototype.clear = B),\r\n          (C.prototype.delete = D),\r\n          (C.prototype.get = q),\r\n          (C.prototype.has = P),\r\n          (C.prototype.set = M)\r\n        var Xe = (function (t, e) {\r\n            return function (r, n) {\r\n              if (null == r) return r\r\n              if (!St(r)) return t(r, n)\r\n              for (var i = r.length, o = e ? i : -1, a = Object(r); (e ? o-- : ++o < i) && !1 !== n(a[o], o, a); );\r\n              return r\r\n            }\r\n          })(N),\r\n          Ze = (function (t) {\r\n            return function (e, r, n) {\r\n              for (var i = -1, o = Object(e), a = n(e), s = a.length; s--; ) {\r\n                var u = a[t ? s : ++i]\r\n                if (!1 === r(o[u], u, o)) break\r\n              }\r\n              return e\r\n            }\r\n          })(),\r\n          Ke = F\r\n        ;((Re && Ke(new Re(new ArrayBuffer(1))) != ie) ||\r\n          (Ie && Ke(new Ie()) != Qt) ||\r\n          (Ne && '[object Promise]' != Ke(Ne.resolve())) ||\r\n          (Ue && Ke(new Ue()) != te) ||\r\n          (Fe && '[object WeakMap]' != Ke(new Fe()))) &&\r\n          (Ke = function (t) {\r\n            var e = Le.call(t),\r\n              r = e == Zt ? t.constructor : void 0,\r\n              n = r ? yt(r) : void 0\r\n            if (n)\r\n              switch (n) {\r\n                case Ve:\r\n                  return ie\r\n                case $e:\r\n                  return Qt\r\n                case He:\r\n                  return '[object Promise]'\r\n                case We:\r\n                  return te\r\n                case Ge:\r\n                  return '[object WeakMap]'\r\n              }\r\n            return e\r\n          })\r\n        var tr = _t(function (t) {\r\n          t = Lt(t)\r\n          var e = []\r\n          return (\r\n            se.test(t) && e.push(''),\r\n            t.replace(ue, function (t, r, n, i) {\r\n              e.push(n ? i.replace(le, '$1') : r || t)\r\n            }),\r\n            e\r\n          )\r\n        })\r\n        _t.Cache = x\r\n        var er = Array.isArray,\r\n          rr = xe\r\n            ? (function (t) {\r\n                return function (e) {\r\n                  return t(e)\r\n                }\r\n              })(xe)\r\n            : G\r\n        r.exports = mt\r\n      }.call(e, r(0), r(5)(t)))\r\n    },\r\n    function (t, e, r) {\r\n      function n (t, r, n, i) {\r\n        for (var o = []; r && o.length < i; ) (n && !e.filter.call([r], n, t).length) || o.push(r), (r = r.parent)\r\n        return o\r\n      }\r\n      var i = r(42),\r\n        o = r(9),\r\n        a = o.domEach,\r\n        s = r(3).DomUtils.uniqueSort,\r\n        u = o.isTag,\r\n        c = { bind: r(24), forEach: r(16), reject: r(98), filter: r(99), reduce: r(100) }\r\n      ;(e.find = function (t) {\r\n        var e,\r\n          r = c.reduce(\r\n            this,\r\n            function (t, e) {\r\n              return t.concat(c.filter(e.children, u))\r\n            },\r\n            []\r\n          ),\r\n          n = this.constructor.contains\r\n        if (t && 'string' != typeof t)\r\n          return (\r\n            (e = t.cheerio ? t.get() : [t]),\r\n            this._make(\r\n              e.filter(function (t) {\r\n                var e, r\r\n                for (e = 0, r = this.length; e < r; ++e) if (n(this[e], t)) return !0\r\n              }, this)\r\n            )\r\n          )\r\n        var o = { __proto__: this.options, context: this.toArray() }\r\n        return this._make(i(t, r, o))\r\n      }),\r\n        (e.parent = function (t) {\r\n          var r = []\r\n          return (\r\n            a(this, function (t, e) {\r\n              var n = e.parent\r\n              n && r.indexOf(n) < 0 && r.push(n)\r\n            }),\r\n            arguments.length && (r = e.filter.call(r, t, this)),\r\n            this._make(r)\r\n          )\r\n        }),\r\n        (e.parents = function (t) {\r\n          var e = []\r\n          return (\r\n            this.get()\r\n              .reverse()\r\n              .forEach(function (r) {\r\n                n(this, r.parent, t, 1 / 0).forEach(function (t) {\r\n                  ;-1 === e.indexOf(t) && e.push(t)\r\n                })\r\n              }, this),\r\n            this._make(e)\r\n          )\r\n        }),\r\n        (e.parentsUntil = function (t, e) {\r\n          var r,\r\n            n,\r\n            o = []\r\n          return (\r\n            'string' == typeof t\r\n              ? (r = i(t, this.parents().toArray(), this.options)[0])\r\n              : t && t.cheerio\r\n              ? (n = t.toArray())\r\n              : t && (r = t),\r\n            this.toArray()\r\n              .reverse()\r\n              .forEach(function (t) {\r\n                for (; (t = t.parent) && ((r && t !== r) || (n && -1 === n.indexOf(t)) || (!r && !n)); )\r\n                  u(t) && -1 === o.indexOf(t) && o.push(t)\r\n              }, this),\r\n            this._make(e ? i(e, o, this.options) : o)\r\n          )\r\n        }),\r\n        (e.closest = function (t) {\r\n          var e = []\r\n          return t\r\n            ? (a(\r\n                this,\r\n                function (r, i) {\r\n                  var o = n(this, i, t, 1)[0]\r\n                  o && e.indexOf(o) < 0 && e.push(o)\r\n                }.bind(this)\r\n              ),\r\n              this._make(e))\r\n            : this._make(e)\r\n        }),\r\n        (e.next = function (t) {\r\n          if (!this[0]) return this\r\n          var r = []\r\n          return (\r\n            c.forEach(this, function (t) {\r\n              for (; (t = t.next); ) if (u(t)) return void r.push(t)\r\n            }),\r\n            t ? e.filter.call(r, t, this) : this._make(r)\r\n          )\r\n        }),\r\n        (e.nextAll = function (t) {\r\n          if (!this[0]) return this\r\n          var r = []\r\n          return (\r\n            c.forEach(this, function (t) {\r\n              for (; (t = t.next); ) u(t) && -1 === r.indexOf(t) && r.push(t)\r\n            }),\r\n            t ? e.filter.call(r, t, this) : this._make(r)\r\n          )\r\n        }),\r\n        (e.nextUntil = function (t, r) {\r\n          if (!this[0]) return this\r\n          var n,\r\n            o,\r\n            a = []\r\n          return (\r\n            'string' == typeof t\r\n              ? (n = i(t, this.nextAll().get(), this.options)[0])\r\n              : t && t.cheerio\r\n              ? (o = t.get())\r\n              : t && (n = t),\r\n            c.forEach(this, function (t) {\r\n              for (; (t = t.next) && ((n && t !== n) || (o && -1 === o.indexOf(t)) || (!n && !o)); )\r\n                u(t) && -1 === a.indexOf(t) && a.push(t)\r\n            }),\r\n            r ? e.filter.call(a, r, this) : this._make(a)\r\n          )\r\n        }),\r\n        (e.prev = function (t) {\r\n          if (!this[0]) return this\r\n          var r = []\r\n          return (\r\n            c.forEach(this, function (t) {\r\n              for (; (t = t.prev); ) if (u(t)) return void r.push(t)\r\n            }),\r\n            t ? e.filter.call(r, t, this) : this._make(r)\r\n          )\r\n        }),\r\n        (e.prevAll = function (t) {\r\n          if (!this[0]) return this\r\n          var r = []\r\n          return (\r\n            c.forEach(this, function (t) {\r\n              for (; (t = t.prev); ) u(t) && -1 === r.indexOf(t) && r.push(t)\r\n            }),\r\n            t ? e.filter.call(r, t, this) : this._make(r)\r\n          )\r\n        }),\r\n        (e.prevUntil = function (t, r) {\r\n          if (!this[0]) return this\r\n          var n,\r\n            o,\r\n            a = []\r\n          return (\r\n            'string' == typeof t\r\n              ? (n = i(t, this.prevAll().get(), this.options)[0])\r\n              : t && t.cheerio\r\n              ? (o = t.get())\r\n              : t && (n = t),\r\n            c.forEach(this, function (t) {\r\n              for (; (t = t.prev) && ((n && t !== n) || (o && -1 === o.indexOf(t)) || (!n && !o)); )\r\n                u(t) && -1 === a.indexOf(t) && a.push(t)\r\n            }),\r\n            r ? e.filter.call(a, r, this) : this._make(a)\r\n          )\r\n        }),\r\n        (e.siblings = function (t) {\r\n          var r = this.parent(),\r\n            n = c.filter(\r\n              r ? r.children() : this.siblingsAndMe(),\r\n              c.bind(function (t) {\r\n                return u(t) && !this.is(t)\r\n              }, this)\r\n            )\r\n          return void 0 !== t ? e.filter.call(n, t, this) : this._make(n)\r\n        }),\r\n        (e.children = function (t) {\r\n          var r = c.reduce(\r\n            this,\r\n            function (t, e) {\r\n              return t.concat(c.filter(e.children, u))\r\n            },\r\n            []\r\n          )\r\n          return void 0 === t ? this._make(r) : e.filter.call(r, t, this)\r\n        }),\r\n        (e.contents = function () {\r\n          return this._make(\r\n            c.reduce(\r\n              this,\r\n              function (t, e) {\r\n                return t.push.apply(t, e.children), t\r\n              },\r\n              []\r\n            )\r\n          )\r\n        }),\r\n        (e.each = function (t) {\r\n          for (var e = 0, r = this.length; e < r && !1 !== t.call(this[e], e, this[e]); ) ++e\r\n          return this\r\n        }),\r\n        (e.map = function (t) {\r\n          return this._make(\r\n            c.reduce(\r\n              this,\r\n              function (e, r, n) {\r\n                var i = t.call(r, n, r)\r\n                return null == i ? e : e.concat(i)\r\n              },\r\n              []\r\n            )\r\n          )\r\n        })\r\n      var l = function (t) {\r\n        return function (e, r) {\r\n          var n\r\n          return (\r\n            (r = r || this),\r\n            (n =\r\n              'string' == typeof e\r\n                ? i.compile(e, r.options)\r\n                : 'function' == typeof e\r\n                ? function (t, r) {\r\n                    return e.call(t, r, t)\r\n                  }\r\n                : e.cheerio\r\n                ? e.is.bind(e)\r\n                : function (t) {\r\n                    return e === t\r\n                  }),\r\n            r._make(t(this, n))\r\n          )\r\n        }\r\n      }\r\n      ;(e.filter = l(c.filter)),\r\n        (e.not = l(c.reject)),\r\n        (e.has = function (t) {\r\n          var r = this\r\n          return e.filter.call(this, function () {\r\n            return r._make(this).find(t).length > 0\r\n          })\r\n        }),\r\n        (e.first = function () {\r\n          return this.length > 1 ? this._make(this[0]) : this\r\n        }),\r\n        (e.last = function () {\r\n          return this.length > 1 ? this._make(this[this.length - 1]) : this\r\n        }),\r\n        (e.eq = function (t) {\r\n          return 0 === (t = +t) && this.length <= 1\r\n            ? this\r\n            : (t < 0 && (t = this.length + t), this[t] ? this._make(this[t]) : this._make([]))\r\n        }),\r\n        (e.get = function (t) {\r\n          return null == t ? Array.prototype.slice.call(this) : this[t < 0 ? this.length + t : t]\r\n        }),\r\n        (e.index = function (t) {\r\n          var e, r\r\n          return (\r\n            0 === arguments.length\r\n              ? ((e = this.parent().children()), (r = this[0]))\r\n              : 'string' == typeof t\r\n              ? ((e = this._make(t)), (r = this[0]))\r\n              : ((e = this), (r = t.cheerio ? t[0] : t)),\r\n            e.get().indexOf(r)\r\n          )\r\n        }),\r\n        (e.slice = function () {\r\n          return this._make([].slice.apply(this, arguments))\r\n        }),\r\n        (e.end = function () {\r\n          return this.prevObject || this._make([])\r\n        }),\r\n        (e.add = function (t, e) {\r\n          for (var r = this._make(t, e), n = s(r.get().concat(this.get())), i = 0; i < n.length; ++i) r[i] = n[i]\r\n          return (r.length = n.length), r\r\n        }),\r\n        (e.addBack = function (t) {\r\n          return this.add(arguments.length ? this.prevObject.filter(t) : this.prevObject)\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      ;(function (t, r) {\r\n        function n (t, e) {\r\n          for (var r = -1, n = t ? t.length : 0, i = 0, o = []; ++r < n; ) {\r\n            var a = t[r]\r\n            e(a, r, t) && (o[i++] = a)\r\n          }\r\n          return o\r\n        }\r\n        function i (t, e) {\r\n          for (var r = -1, n = t ? t.length : 0; ++r < n; ) if (e(t[r], r, t)) return !0\r\n          return !1\r\n        }\r\n        function o (t) {\r\n          return function (e) {\r\n            return null == e ? void 0 : e[t]\r\n          }\r\n        }\r\n        function a (t, e) {\r\n          for (var r = -1, n = Array(t); ++r < t; ) n[r] = e(r)\r\n          return n\r\n        }\r\n        function s (t, e) {\r\n          return null == t ? void 0 : t[e]\r\n        }\r\n        function u (t) {\r\n          var e = !1\r\n          if (null != t && 'function' != typeof t.toString)\r\n            try {\r\n              e = !!(t + '')\r\n            } catch (t) {}\r\n          return e\r\n        }\r\n        function c (t) {\r\n          var e = -1,\r\n            r = Array(t.size)\r\n          return (\r\n            t.forEach(function (t, n) {\r\n              r[++e] = [n, t]\r\n            }),\r\n            r\r\n          )\r\n        }\r\n        function l (t) {\r\n          var e = -1,\r\n            r = Array(t.size)\r\n          return (\r\n            t.forEach(function (t) {\r\n              r[++e] = t\r\n            }),\r\n            r\r\n          )\r\n        }\r\n        function f (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function h () {\r\n          this.__data__ = Ve ? Ve(null) : {}\r\n        }\r\n        function p (t) {\r\n          return this.has(t) && delete this.__data__[t]\r\n        }\r\n        function d (t) {\r\n          var e = this.__data__\r\n          if (Ve) {\r\n            var r = e[t]\r\n            return r === Nt ? void 0 : r\r\n          }\r\n          return Le.call(e, t) ? e[t] : void 0\r\n        }\r\n        function g (t) {\r\n          var e = this.__data__\r\n          return Ve ? void 0 !== e[t] : Le.call(e, t)\r\n        }\r\n        function v (t, e) {\r\n          return (this.__data__[t] = Ve && void 0 === e ? Nt : e), this\r\n        }\r\n        function b (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function y () {\r\n          this.__data__ = []\r\n        }\r\n        function m (t) {\r\n          var e = this.__data__,\r\n            r = N(e, t)\r\n          return !(r < 0) && (r == e.length - 1 ? e.pop() : Me.call(e, r, 1), !0)\r\n        }\r\n        function _ (t) {\r\n          var e = this.__data__,\r\n            r = N(e, t)\r\n          return r < 0 ? void 0 : e[r][1]\r\n        }\r\n        function w (t) {\r\n          return N(this.__data__, t) > -1\r\n        }\r\n        function x (t, e) {\r\n          var r = this.__data__,\r\n            n = N(r, t)\r\n          return n < 0 ? r.push([t, e]) : (r[n][1] = e), this\r\n        }\r\n        function S (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function j () {\r\n          this.__data__ = { hash: new f(), map: new (Ne || b)(), string: new f() }\r\n        }\r\n        function k (t) {\r\n          return at(this, t).delete(t)\r\n        }\r\n        function E (t) {\r\n          return at(this, t).get(t)\r\n        }\r\n        function A (t) {\r\n          return at(this, t).has(t)\r\n        }\r\n        function T (t, e) {\r\n          return at(this, t).set(t, e), this\r\n        }\r\n        function O (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.__data__ = new S(); ++e < r; ) this.add(t[e])\r\n        }\r\n        function L (t) {\r\n          return this.__data__.set(t, Nt), this\r\n        }\r\n        function C (t) {\r\n          return this.__data__.has(t)\r\n        }\r\n        function B (t) {\r\n          this.__data__ = new b(t)\r\n        }\r\n        function D () {\r\n          this.__data__ = new b()\r\n        }\r\n        function q (t) {\r\n          return this.__data__.delete(t)\r\n        }\r\n        function P (t) {\r\n          return this.__data__.get(t)\r\n        }\r\n        function M (t) {\r\n          return this.__data__.has(t)\r\n        }\r\n        function R (t, e) {\r\n          var r = this.__data__\r\n          if (r instanceof b) {\r\n            var n = r.__data__\r\n            if (!Ne || n.length < Rt - 1) return n.push([t, e]), this\r\n            r = this.__data__ = new S(n)\r\n          }\r\n          return r.set(t, e), this\r\n        }\r\n        function I (t, e) {\r\n          var r = rr(t) || St(t) ? a(t.length, String) : [],\r\n            n = r.length,\r\n            i = !!n\r\n          for (var o in t) (!e && !Le.call(t, o)) || (i && ('length' == o || lt(o, n))) || r.push(o)\r\n          return r\r\n        }\r\n        function N (t, e) {\r\n          for (var r = t.length; r--; ) if (xt(t[r][0], e)) return r\r\n          return -1\r\n        }\r\n        function U (t, e) {\r\n          var r = []\r\n          return (\r\n            Ze(t, function (t, n, i) {\r\n              e(t, n, i) && r.push(t)\r\n            }),\r\n            r\r\n          )\r\n        }\r\n        function F (t, e) {\r\n          return t && Ke(t, e, qt)\r\n        }\r\n        function z (t, e) {\r\n          e = ft(e, t) ? [e] : rt(e)\r\n          for (var r = 0, n = e.length; null != t && r < n; ) t = t[bt(e[r++])]\r\n          return r && r == n ? t : void 0\r\n        }\r\n        function V (t) {\r\n          return Ce.call(t)\r\n        }\r\n        function $ (t, e) {\r\n          return null != t && e in Object(t)\r\n        }\r\n        function H (t, e, r, n, i) {\r\n          return t === e || (null == t || null == e || (!Tt(t) && !Ot(e)) ? t !== t && e !== e : W(t, e, H, r, n, i))\r\n        }\r\n        function W (t, e, r, n, i, o) {\r\n          var a = rr(t),\r\n            s = rr(e),\r\n            c = Ht,\r\n            l = Ht\r\n          a || ((c = tr(t)), (c = c == $t ? Kt : c)), s || ((l = tr(e)), (l = l == $t ? Kt : l))\r\n          var f = c == Kt && !u(t),\r\n            h = l == Kt && !u(e),\r\n            p = c == l\r\n          if (p && !f) return o || (o = new B()), a || nr(t) ? nt(t, e, r, n, i, o) : it(t, e, c, r, n, i, o)\r\n          if (!(i & Ft)) {\r\n            var d = f && Le.call(t, '__wrapped__'),\r\n              g = h && Le.call(e, '__wrapped__')\r\n            if (d || g) {\r\n              var v = d ? t.value() : t,\r\n                b = g ? e.value() : e\r\n              return o || (o = new B()), r(v, b, n, i, o)\r\n            }\r\n          }\r\n          return !!p && (o || (o = new B()), ot(t, e, r, n, i, o))\r\n        }\r\n        function G (t, e, r, n) {\r\n          var i = r.length,\r\n            o = i,\r\n            a = !n\r\n          if (null == t) return !o\r\n          for (t = Object(t); i--; ) {\r\n            var s = r[i]\r\n            if (a && s[2] ? s[1] !== t[s[0]] : !(s[0] in t)) return !1\r\n          }\r\n          for (; ++i < o; ) {\r\n            s = r[i]\r\n            var u = s[0],\r\n              c = t[u],\r\n              l = s[1]\r\n            if (a && s[2]) {\r\n              if (void 0 === c && !(u in t)) return !1\r\n            } else {\r\n              var f = new B()\r\n              if (n) var h = n(c, l, u, t, e, f)\r\n              if (!(void 0 === h ? H(l, c, n, Ut | Ft, f) : h)) return !1\r\n            }\r\n          }\r\n          return !0\r\n        }\r\n        function Y (t) {\r\n          return !(!Tt(t) || pt(t)) && (Et(t) || u(t) ? Be : he).test(yt(t))\r\n        }\r\n        function J (t) {\r\n          return Ot(t) && At(t.length) && !!de[Ce.call(t)]\r\n        }\r\n        function Q (t) {\r\n          return 'function' == typeof t\r\n            ? t\r\n            : null == t\r\n            ? Pt\r\n            : 'object' == typeof t\r\n            ? rr(t)\r\n              ? K(t[0], t[1])\r\n              : Z(t)\r\n            : Mt(t)\r\n        }\r\n        function X (t) {\r\n          if (!dt(t)) return Re(t)\r\n          var e = []\r\n          for (var r in Object(t)) Le.call(t, r) && 'constructor' != r && e.push(r)\r\n          return e\r\n        }\r\n        function Z (t) {\r\n          var e = st(t)\r\n          return 1 == e.length && e[0][2]\r\n            ? vt(e[0][0], e[0][1])\r\n            : function (r) {\r\n                return r === t || G(r, t, e)\r\n              }\r\n        }\r\n        function K (t, e) {\r\n          return ft(t) && gt(e)\r\n            ? vt(bt(t), e)\r\n            : function (r) {\r\n                var n = Bt(r, t)\r\n                return void 0 === n && n === e ? Dt(r, t) : H(e, n, void 0, Ut | Ft)\r\n              }\r\n        }\r\n        function tt (t) {\r\n          return function (e) {\r\n            return z(e, t)\r\n          }\r\n        }\r\n        function et (t) {\r\n          if ('string' == typeof t) return t\r\n          if (Lt(t)) return Xe ? Xe.call(t) : ''\r\n          var e = t + ''\r\n          return '0' == e && 1 / t == -zt ? '-0' : e\r\n        }\r\n        function rt (t) {\r\n          return rr(t) ? t : er(t)\r\n        }\r\n        function nt (t, e, r, n, o, a) {\r\n          var s = o & Ft,\r\n            u = t.length,\r\n            c = e.length\r\n          if (u != c && !(s && c > u)) return !1\r\n          var l = a.get(t)\r\n          if (l && a.get(e)) return l == e\r\n          var f = -1,\r\n            h = !0,\r\n            p = o & Ut ? new O() : void 0\r\n          for (a.set(t, e), a.set(e, t); ++f < u; ) {\r\n            var d = t[f],\r\n              g = e[f]\r\n            if (n) var v = s ? n(g, d, f, e, t, a) : n(d, g, f, t, e, a)\r\n            if (void 0 !== v) {\r\n              if (v) continue\r\n              h = !1\r\n              break\r\n            }\r\n            if (p) {\r\n              if (\r\n                !i(e, function (t, e) {\r\n                  if (!p.has(e) && (d === t || r(d, t, n, o, a))) return p.add(e)\r\n                })\r\n              ) {\r\n                h = !1\r\n                break\r\n              }\r\n            } else if (d !== g && !r(d, g, n, o, a)) {\r\n              h = !1\r\n              break\r\n            }\r\n          }\r\n          return a.delete(t), a.delete(e), h\r\n        }\r\n        function it (t, e, r, n, i, o, a) {\r\n          switch (r) {\r\n            case oe:\r\n              if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) return !1\r\n              ;(t = t.buffer), (e = e.buffer)\r\n            case ie:\r\n              return !(t.byteLength != e.byteLength || !n(new qe(t), new qe(e)))\r\n            case Wt:\r\n            case Gt:\r\n            case Zt:\r\n              return xt(+t, +e)\r\n            case Yt:\r\n              return t.name == e.name && t.message == e.message\r\n            case te:\r\n            case re:\r\n              return t == e + ''\r\n            case Xt:\r\n              var s = c\r\n            case ee:\r\n              var u = o & Ft\r\n              if ((s || (s = l), t.size != e.size && !u)) return !1\r\n              var f = a.get(t)\r\n              if (f) return f == e\r\n              ;(o |= Ut), a.set(t, e)\r\n              var h = nt(s(t), s(e), n, i, o, a)\r\n              return a.delete(t), h\r\n            case ne:\r\n              if (Qe) return Qe.call(t) == Qe.call(e)\r\n          }\r\n          return !1\r\n        }\r\n        function ot (t, e, r, n, i, o) {\r\n          var a = i & Ft,\r\n            s = qt(t),\r\n            u = s.length\r\n          if (u != qt(e).length && !a) return !1\r\n          for (var c = u; c--; ) {\r\n            var l = s[c]\r\n            if (!(a ? l in e : Le.call(e, l))) return !1\r\n          }\r\n          var f = o.get(t)\r\n          if (f && o.get(e)) return f == e\r\n          var h = !0\r\n          o.set(t, e), o.set(e, t)\r\n          for (var p = a; ++c < u; ) {\r\n            l = s[c]\r\n            var d = t[l],\r\n              g = e[l]\r\n            if (n) var v = a ? n(g, d, l, e, t, o) : n(d, g, l, t, e, o)\r\n            if (!(void 0 === v ? d === g || r(d, g, n, i, o) : v)) {\r\n              h = !1\r\n              break\r\n            }\r\n            p || (p = 'constructor' == l)\r\n          }\r\n          if (h && !p) {\r\n            var b = t.constructor,\r\n              y = e.constructor\r\n            b != y &&\r\n              'constructor' in t &&\r\n              'constructor' in e &&\r\n              !('function' == typeof b && b instanceof b && 'function' == typeof y && y instanceof y) &&\r\n              (h = !1)\r\n          }\r\n          return o.delete(t), o.delete(e), h\r\n        }\r\n        function at (t, e) {\r\n          var r = t.__data__\r\n          return ht(e) ? r['string' == typeof e ? 'string' : 'hash'] : r.map\r\n        }\r\n        function st (t) {\r\n          for (var e = qt(t), r = e.length; r--; ) {\r\n            var n = e[r],\r\n              i = t[n]\r\n            e[r] = [n, i, gt(i)]\r\n          }\r\n          return e\r\n        }\r\n        function ut (t, e) {\r\n          var r = s(t, e)\r\n          return Y(r) ? r : void 0\r\n        }\r\n        function ct (t, e, r) {\r\n          e = ft(e, t) ? [e] : rt(e)\r\n          for (var n, i = -1, o = e.length; ++i < o; ) {\r\n            var a = bt(e[i])\r\n            if (!(n = null != t && r(t, a))) break\r\n            t = t[a]\r\n          }\r\n          if (n) return n\r\n          var o = t ? t.length : 0\r\n          return !!o && At(o) && lt(a, o) && (rr(t) || St(t))\r\n        }\r\n        function lt (t, e) {\r\n          return !!(e = null == e ? Vt : e) && ('number' == typeof t || pe.test(t)) && t > -1 && t % 1 == 0 && t < e\r\n        }\r\n        function ft (t, e) {\r\n          if (rr(t)) return !1\r\n          var r = typeof t\r\n          return (\r\n            !('number' != r && 'symbol' != r && 'boolean' != r && null != t && !Lt(t)) ||\r\n            (se.test(t) || !ae.test(t) || (null != e && t in Object(e)))\r\n          )\r\n        }\r\n        function ht (t) {\r\n          var e = typeof t\r\n          return 'string' == e || 'number' == e || 'symbol' == e || 'boolean' == e ? '__proto__' !== t : null === t\r\n        }\r\n        function pt (t) {\r\n          return !!Te && Te in t\r\n        }\r\n        function dt (t) {\r\n          var e = t && t.constructor\r\n          return t === (('function' == typeof e && e.prototype) || Ee)\r\n        }\r\n        function gt (t) {\r\n          return t === t && !Tt(t)\r\n        }\r\n        function vt (t, e) {\r\n          return function (r) {\r\n            return null != r && (r[t] === e && (void 0 !== e || t in Object(r)))\r\n          }\r\n        }\r\n        function bt (t) {\r\n          if ('string' == typeof t || Lt(t)) return t\r\n          var e = t + ''\r\n          return '0' == e && 1 / t == -zt ? '-0' : e\r\n        }\r\n        function yt (t) {\r\n          if (null != t) {\r\n            try {\r\n              return Oe.call(t)\r\n            } catch (t) {}\r\n            try {\r\n              return t + ''\r\n            } catch (t) {}\r\n          }\r\n          return ''\r\n        }\r\n        function mt (t, e) {\r\n          return (rr(t) ? n : U)(t, wt(Q(e, 3)))\r\n        }\r\n        function _t (t, e) {\r\n          if ('function' != typeof t || (e && 'function' != typeof e)) throw new TypeError(It)\r\n          var r = function () {\r\n            var n = arguments,\r\n              i = e ? e.apply(this, n) : n[0],\r\n              o = r.cache\r\n            if (o.has(i)) return o.get(i)\r\n            var a = t.apply(this, n)\r\n            return (r.cache = o.set(i, a)), a\r\n          }\r\n          return (r.cache = new (_t.Cache || S)()), r\r\n        }\r\n        function wt (t) {\r\n          if ('function' != typeof t) throw new TypeError(It)\r\n          return function () {\r\n            var e = arguments\r\n            switch (e.length) {\r\n              case 0:\r\n                return !t.call(this)\r\n              case 1:\r\n                return !t.call(this, e[0])\r\n              case 2:\r\n                return !t.call(this, e[0], e[1])\r\n              case 3:\r\n                return !t.call(this, e[0], e[1], e[2])\r\n            }\r\n            return !t.apply(this, e)\r\n          }\r\n        }\r\n        function xt (t, e) {\r\n          return t === e || (t !== t && e !== e)\r\n        }\r\n        function St (t) {\r\n          return kt(t) && Le.call(t, 'callee') && (!Pe.call(t, 'callee') || Ce.call(t) == $t)\r\n        }\r\n        function jt (t) {\r\n          return null != t && At(t.length) && !Et(t)\r\n        }\r\n        function kt (t) {\r\n          return Ot(t) && jt(t)\r\n        }\r\n        function Et (t) {\r\n          var e = Tt(t) ? Ce.call(t) : ''\r\n          return e == Jt || e == Qt\r\n        }\r\n        function At (t) {\r\n          return 'number' == typeof t && t > -1 && t % 1 == 0 && t <= Vt\r\n        }\r\n        function Tt (t) {\r\n          var e = typeof t\r\n          return !!t && ('object' == e || 'function' == e)\r\n        }\r\n        function Ot (t) {\r\n          return !!t && 'object' == typeof t\r\n        }\r\n        function Lt (t) {\r\n          return 'symbol' == typeof t || (Ot(t) && Ce.call(t) == ne)\r\n        }\r\n        function Ct (t) {\r\n          return null == t ? '' : et(t)\r\n        }\r\n        function Bt (t, e, r) {\r\n          var n = null == t ? void 0 : z(t, e)\r\n          return void 0 === n ? r : n\r\n        }\r\n        function Dt (t, e) {\r\n          return null != t && ct(t, e, $)\r\n        }\r\n        function qt (t) {\r\n          return jt(t) ? I(t) : X(t)\r\n        }\r\n        function Pt (t) {\r\n          return t\r\n        }\r\n        function Mt (t) {\r\n          return ft(t) ? o(bt(t)) : tt(t)\r\n        }\r\n        var Rt = 200,\r\n          It = 'Expected a function',\r\n          Nt = '__lodash_hash_undefined__',\r\n          Ut = 1,\r\n          Ft = 2,\r\n          zt = 1 / 0,\r\n          Vt = 9007199254740991,\r\n          $t = '[object Arguments]',\r\n          Ht = '[object Array]',\r\n          Wt = '[object Boolean]',\r\n          Gt = '[object Date]',\r\n          Yt = '[object Error]',\r\n          Jt = '[object Function]',\r\n          Qt = '[object GeneratorFunction]',\r\n          Xt = '[object Map]',\r\n          Zt = '[object Number]',\r\n          Kt = '[object Object]',\r\n          te = '[object RegExp]',\r\n          ee = '[object Set]',\r\n          re = '[object String]',\r\n          ne = '[object Symbol]',\r\n          ie = '[object ArrayBuffer]',\r\n          oe = '[object DataView]',\r\n          ae = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\r\n          se = /^\\w*$/,\r\n          ue = /^\\./,\r\n          ce = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,\r\n          le = /[\\\\^$.*+?()[\\]{}|]/g,\r\n          fe = /\\\\(\\\\)?/g,\r\n          he = /^\\[object .+?Constructor\\]$/,\r\n          pe = /^(?:0|[1-9]\\d*)$/,\r\n          de = {}\r\n        ;(de['[object Float32Array]'] = de['[object Float64Array]'] = de['[object Int8Array]'] = de[\r\n          '[object Int16Array]'\r\n        ] = de['[object Int32Array]'] = de['[object Uint8Array]'] = de['[object Uint8ClampedArray]'] = de[\r\n          '[object Uint16Array]'\r\n        ] = de['[object Uint32Array]'] = !0),\r\n          (de[$t] = de[Ht] = de[ie] = de[Wt] = de[oe] = de[Gt] = de[Yt] = de[Jt] = de[Xt] = de[Zt] = de[Kt] = de[\r\n            te\r\n          ] = de[ee] = de[re] = de['[object WeakMap]'] = !1)\r\n        var ge = 'object' == typeof t && t && t.Object === Object && t,\r\n          ve = 'object' == typeof self && self && self.Object === Object && self,\r\n          be = ge || ve || Function('return this')(),\r\n          ye = 'object' == typeof e && e && !e.nodeType && e,\r\n          me = ye && 'object' == typeof r && r && !r.nodeType && r,\r\n          _e = me && me.exports === ye,\r\n          we = _e && ge.process,\r\n          xe = (function () {\r\n            try {\r\n              return we && we.binding('util')\r\n            } catch (t) {}\r\n          })(),\r\n          Se = xe && xe.isTypedArray,\r\n          je = Array.prototype,\r\n          ke = Function.prototype,\r\n          Ee = Object.prototype,\r\n          Ae = be['__core-js_shared__'],\r\n          Te = (function () {\r\n            var t = /[^.]+$/.exec((Ae && Ae.keys && Ae.keys.IE_PROTO) || '')\r\n            return t ? 'Symbol(src)_1.' + t : ''\r\n          })(),\r\n          Oe = ke.toString,\r\n          Le = Ee.hasOwnProperty,\r\n          Ce = Ee.toString,\r\n          Be = RegExp(\r\n            '^' +\r\n              Oe.call(Le)\r\n                .replace(le, '\\\\$&')\r\n                .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') +\r\n              '$'\r\n          ),\r\n          De = be.Symbol,\r\n          qe = be.Uint8Array,\r\n          Pe = Ee.propertyIsEnumerable,\r\n          Me = je.splice,\r\n          Re = (function (t, e) {\r\n            return function (r) {\r\n              return t(e(r))\r\n            }\r\n          })(Object.keys, Object),\r\n          Ie = ut(be, 'DataView'),\r\n          Ne = ut(be, 'Map'),\r\n          Ue = ut(be, 'Promise'),\r\n          Fe = ut(be, 'Set'),\r\n          ze = ut(be, 'WeakMap'),\r\n          Ve = ut(Object, 'create'),\r\n          $e = yt(Ie),\r\n          He = yt(Ne),\r\n          We = yt(Ue),\r\n          Ge = yt(Fe),\r\n          Ye = yt(ze),\r\n          Je = De ? De.prototype : void 0,\r\n          Qe = Je ? Je.valueOf : void 0,\r\n          Xe = Je ? Je.toString : void 0\r\n        ;(f.prototype.clear = h),\r\n          (f.prototype.delete = p),\r\n          (f.prototype.get = d),\r\n          (f.prototype.has = g),\r\n          (f.prototype.set = v),\r\n          (b.prototype.clear = y),\r\n          (b.prototype.delete = m),\r\n          (b.prototype.get = _),\r\n          (b.prototype.has = w),\r\n          (b.prototype.set = x),\r\n          (S.prototype.clear = j),\r\n          (S.prototype.delete = k),\r\n          (S.prototype.get = E),\r\n          (S.prototype.has = A),\r\n          (S.prototype.set = T),\r\n          (O.prototype.add = O.prototype.push = L),\r\n          (O.prototype.has = C),\r\n          (B.prototype.clear = D),\r\n          (B.prototype.delete = q),\r\n          (B.prototype.get = P),\r\n          (B.prototype.has = M),\r\n          (B.prototype.set = R)\r\n        var Ze = (function (t, e) {\r\n            return function (r, n) {\r\n              if (null == r) return r\r\n              if (!jt(r)) return t(r, n)\r\n              for (var i = r.length, o = e ? i : -1, a = Object(r); (e ? o-- : ++o < i) && !1 !== n(a[o], o, a); );\r\n              return r\r\n            }\r\n          })(F),\r\n          Ke = (function (t) {\r\n            return function (e, r, n) {\r\n              for (var i = -1, o = Object(e), a = n(e), s = a.length; s--; ) {\r\n                var u = a[t ? s : ++i]\r\n                if (!1 === r(o[u], u, o)) break\r\n              }\r\n              return e\r\n            }\r\n          })(),\r\n          tr = V\r\n        ;((Ie && tr(new Ie(new ArrayBuffer(1))) != oe) ||\r\n          (Ne && tr(new Ne()) != Xt) ||\r\n          (Ue && '[object Promise]' != tr(Ue.resolve())) ||\r\n          (Fe && tr(new Fe()) != ee) ||\r\n          (ze && '[object WeakMap]' != tr(new ze()))) &&\r\n          (tr = function (t) {\r\n            var e = Ce.call(t),\r\n              r = e == Kt ? t.constructor : void 0,\r\n              n = r ? yt(r) : void 0\r\n            if (n)\r\n              switch (n) {\r\n                case $e:\r\n                  return oe\r\n                case He:\r\n                  return Xt\r\n                case We:\r\n                  return '[object Promise]'\r\n                case Ge:\r\n                  return ee\r\n                case Ye:\r\n                  return '[object WeakMap]'\r\n              }\r\n            return e\r\n          })\r\n        var er = _t(function (t) {\r\n          t = Ct(t)\r\n          var e = []\r\n          return (\r\n            ue.test(t) && e.push(''),\r\n            t.replace(ce, function (t, r, n, i) {\r\n              e.push(n ? i.replace(fe, '$1') : r || t)\r\n            }),\r\n            e\r\n          )\r\n        })\r\n        _t.Cache = S\r\n        var rr = Array.isArray,\r\n          nr = Se\r\n            ? (function (t) {\r\n                return function (e) {\r\n                  return t(e)\r\n                }\r\n              })(Se)\r\n            : J\r\n        r.exports = mt\r\n      }.call(e, r(0), r(5)(t)))\r\n    },\r\n    function (t, e, r) {\r\n      ;(function (t, r) {\r\n        function n (t, e) {\r\n          for (var r = -1, n = t ? t.length : 0, i = 0, o = []; ++r < n; ) {\r\n            var a = t[r]\r\n            e(a, r, t) && (o[i++] = a)\r\n          }\r\n          return o\r\n        }\r\n        function i (t, e) {\r\n          for (var r = -1, n = t ? t.length : 0; ++r < n; ) if (e(t[r], r, t)) return !0\r\n          return !1\r\n        }\r\n        function o (t) {\r\n          return function (e) {\r\n            return null == e ? void 0 : e[t]\r\n          }\r\n        }\r\n        function a (t, e) {\r\n          for (var r = -1, n = Array(t); ++r < t; ) n[r] = e(r)\r\n          return n\r\n        }\r\n        function s (t, e) {\r\n          return null == t ? void 0 : t[e]\r\n        }\r\n        function u (t) {\r\n          var e = !1\r\n          if (null != t && 'function' != typeof t.toString)\r\n            try {\r\n              e = !!(t + '')\r\n            } catch (t) {}\r\n          return e\r\n        }\r\n        function c (t) {\r\n          var e = -1,\r\n            r = Array(t.size)\r\n          return (\r\n            t.forEach(function (t, n) {\r\n              r[++e] = [n, t]\r\n            }),\r\n            r\r\n          )\r\n        }\r\n        function l (t) {\r\n          var e = -1,\r\n            r = Array(t.size)\r\n          return (\r\n            t.forEach(function (t) {\r\n              r[++e] = t\r\n            }),\r\n            r\r\n          )\r\n        }\r\n        function f (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function h () {\r\n          this.__data__ = ze ? ze(null) : {}\r\n        }\r\n        function p (t) {\r\n          return this.has(t) && delete this.__data__[t]\r\n        }\r\n        function d (t) {\r\n          var e = this.__data__\r\n          if (ze) {\r\n            var r = e[t]\r\n            return r === It ? void 0 : r\r\n          }\r\n          return Oe.call(e, t) ? e[t] : void 0\r\n        }\r\n        function g (t) {\r\n          var e = this.__data__\r\n          return ze ? void 0 !== e[t] : Oe.call(e, t)\r\n        }\r\n        function v (t, e) {\r\n          return (this.__data__[t] = ze && void 0 === e ? It : e), this\r\n        }\r\n        function b (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function y () {\r\n          this.__data__ = []\r\n        }\r\n        function m (t) {\r\n          var e = this.__data__,\r\n            r = N(e, t)\r\n          return !(r < 0) && (r == e.length - 1 ? e.pop() : Pe.call(e, r, 1), !0)\r\n        }\r\n        function _ (t) {\r\n          var e = this.__data__,\r\n            r = N(e, t)\r\n          return r < 0 ? void 0 : e[r][1]\r\n        }\r\n        function w (t) {\r\n          return N(this.__data__, t) > -1\r\n        }\r\n        function x (t, e) {\r\n          var r = this.__data__,\r\n            n = N(r, t)\r\n          return n < 0 ? r.push([t, e]) : (r[n][1] = e), this\r\n        }\r\n        function S (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function j () {\r\n          this.__data__ = { hash: new f(), map: new (Ie || b)(), string: new f() }\r\n        }\r\n        function k (t) {\r\n          return at(this, t).delete(t)\r\n        }\r\n        function E (t) {\r\n          return at(this, t).get(t)\r\n        }\r\n        function A (t) {\r\n          return at(this, t).has(t)\r\n        }\r\n        function T (t, e) {\r\n          return at(this, t).set(t, e), this\r\n        }\r\n        function O (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.__data__ = new S(); ++e < r; ) this.add(t[e])\r\n        }\r\n        function L (t) {\r\n          return this.__data__.set(t, It), this\r\n        }\r\n        function C (t) {\r\n          return this.__data__.has(t)\r\n        }\r\n        function B (t) {\r\n          this.__data__ = new b(t)\r\n        }\r\n        function D () {\r\n          this.__data__ = new b()\r\n        }\r\n        function q (t) {\r\n          return this.__data__.delete(t)\r\n        }\r\n        function P (t) {\r\n          return this.__data__.get(t)\r\n        }\r\n        function M (t) {\r\n          return this.__data__.has(t)\r\n        }\r\n        function R (t, e) {\r\n          var r = this.__data__\r\n          if (r instanceof b) {\r\n            var n = r.__data__\r\n            if (!Ie || n.length < Mt - 1) return n.push([t, e]), this\r\n            r = this.__data__ = new S(n)\r\n          }\r\n          return r.set(t, e), this\r\n        }\r\n        function I (t, e) {\r\n          var r = er(t) || xt(t) ? a(t.length, String) : [],\r\n            n = r.length,\r\n            i = !!n\r\n          for (var o in t) (!e && !Oe.call(t, o)) || (i && ('length' == o || lt(o, n))) || r.push(o)\r\n          return r\r\n        }\r\n        function N (t, e) {\r\n          for (var r = t.length; r--; ) if (wt(t[r][0], e)) return r\r\n          return -1\r\n        }\r\n        function U (t, e) {\r\n          var r = []\r\n          return (\r\n            Xe(t, function (t, n, i) {\r\n              e(t, n, i) && r.push(t)\r\n            }),\r\n            r\r\n          )\r\n        }\r\n        function F (t, e) {\r\n          return t && Ze(t, e, Dt)\r\n        }\r\n        function z (t, e) {\r\n          e = ft(e, t) ? [e] : rt(e)\r\n          for (var r = 0, n = e.length; null != t && r < n; ) t = t[bt(e[r++])]\r\n          return r && r == n ? t : void 0\r\n        }\r\n        function V (t) {\r\n          return Le.call(t)\r\n        }\r\n        function $ (t, e) {\r\n          return null != t && e in Object(t)\r\n        }\r\n        function H (t, e, r, n, i) {\r\n          return t === e || (null == t || null == e || (!At(t) && !Tt(e)) ? t !== t && e !== e : W(t, e, H, r, n, i))\r\n        }\r\n        function W (t, e, r, n, i, o) {\r\n          var a = er(t),\r\n            s = er(e),\r\n            c = $t,\r\n            l = $t\r\n          a || ((c = Ke(t)), (c = c == Vt ? Zt : c)), s || ((l = Ke(e)), (l = l == Vt ? Zt : l))\r\n          var f = c == Zt && !u(t),\r\n            h = l == Zt && !u(e),\r\n            p = c == l\r\n          if (p && !f) return o || (o = new B()), a || rr(t) ? nt(t, e, r, n, i, o) : it(t, e, c, r, n, i, o)\r\n          if (!(i & Ut)) {\r\n            var d = f && Oe.call(t, '__wrapped__'),\r\n              g = h && Oe.call(e, '__wrapped__')\r\n            if (d || g) {\r\n              var v = d ? t.value() : t,\r\n                b = g ? e.value() : e\r\n              return o || (o = new B()), r(v, b, n, i, o)\r\n            }\r\n          }\r\n          return !!p && (o || (o = new B()), ot(t, e, r, n, i, o))\r\n        }\r\n        function G (t, e, r, n) {\r\n          var i = r.length,\r\n            o = i,\r\n            a = !n\r\n          if (null == t) return !o\r\n          for (t = Object(t); i--; ) {\r\n            var s = r[i]\r\n            if (a && s[2] ? s[1] !== t[s[0]] : !(s[0] in t)) return !1\r\n          }\r\n          for (; ++i < o; ) {\r\n            s = r[i]\r\n            var u = s[0],\r\n              c = t[u],\r\n              l = s[1]\r\n            if (a && s[2]) {\r\n              if (void 0 === c && !(u in t)) return !1\r\n            } else {\r\n              var f = new B()\r\n              if (n) var h = n(c, l, u, t, e, f)\r\n              if (!(void 0 === h ? H(l, c, n, Nt | Ut, f) : h)) return !1\r\n            }\r\n          }\r\n          return !0\r\n        }\r\n        function Y (t) {\r\n          return !(!At(t) || pt(t)) && (kt(t) || u(t) ? Ce : fe).test(yt(t))\r\n        }\r\n        function J (t) {\r\n          return Tt(t) && Et(t.length) && !!pe[Le.call(t)]\r\n        }\r\n        function Q (t) {\r\n          return 'function' == typeof t\r\n            ? t\r\n            : null == t\r\n            ? qt\r\n            : 'object' == typeof t\r\n            ? er(t)\r\n              ? K(t[0], t[1])\r\n              : Z(t)\r\n            : Pt(t)\r\n        }\r\n        function X (t) {\r\n          if (!dt(t)) return Me(t)\r\n          var e = []\r\n          for (var r in Object(t)) Oe.call(t, r) && 'constructor' != r && e.push(r)\r\n          return e\r\n        }\r\n        function Z (t) {\r\n          var e = st(t)\r\n          return 1 == e.length && e[0][2]\r\n            ? vt(e[0][0], e[0][1])\r\n            : function (r) {\r\n                return r === t || G(r, t, e)\r\n              }\r\n        }\r\n        function K (t, e) {\r\n          return ft(t) && gt(e)\r\n            ? vt(bt(t), e)\r\n            : function (r) {\r\n                var n = Ct(r, t)\r\n                return void 0 === n && n === e ? Bt(r, t) : H(e, n, void 0, Nt | Ut)\r\n              }\r\n        }\r\n        function tt (t) {\r\n          return function (e) {\r\n            return z(e, t)\r\n          }\r\n        }\r\n        function et (t) {\r\n          if ('string' == typeof t) return t\r\n          if (Ot(t)) return Qe ? Qe.call(t) : ''\r\n          var e = t + ''\r\n          return '0' == e && 1 / t == -Ft ? '-0' : e\r\n        }\r\n        function rt (t) {\r\n          return er(t) ? t : tr(t)\r\n        }\r\n        function nt (t, e, r, n, o, a) {\r\n          var s = o & Ut,\r\n            u = t.length,\r\n            c = e.length\r\n          if (u != c && !(s && c > u)) return !1\r\n          var l = a.get(t)\r\n          if (l && a.get(e)) return l == e\r\n          var f = -1,\r\n            h = !0,\r\n            p = o & Nt ? new O() : void 0\r\n          for (a.set(t, e), a.set(e, t); ++f < u; ) {\r\n            var d = t[f],\r\n              g = e[f]\r\n            if (n) var v = s ? n(g, d, f, e, t, a) : n(d, g, f, t, e, a)\r\n            if (void 0 !== v) {\r\n              if (v) continue\r\n              h = !1\r\n              break\r\n            }\r\n            if (p) {\r\n              if (\r\n                !i(e, function (t, e) {\r\n                  if (!p.has(e) && (d === t || r(d, t, n, o, a))) return p.add(e)\r\n                })\r\n              ) {\r\n                h = !1\r\n                break\r\n              }\r\n            } else if (d !== g && !r(d, g, n, o, a)) {\r\n              h = !1\r\n              break\r\n            }\r\n          }\r\n          return a.delete(t), a.delete(e), h\r\n        }\r\n        function it (t, e, r, n, i, o, a) {\r\n          switch (r) {\r\n            case ie:\r\n              if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) return !1\r\n              ;(t = t.buffer), (e = e.buffer)\r\n            case ne:\r\n              return !(t.byteLength != e.byteLength || !n(new De(t), new De(e)))\r\n            case Ht:\r\n            case Wt:\r\n            case Xt:\r\n              return wt(+t, +e)\r\n            case Gt:\r\n              return t.name == e.name && t.message == e.message\r\n            case Kt:\r\n            case ee:\r\n              return t == e + ''\r\n            case Qt:\r\n              var s = c\r\n            case te:\r\n              var u = o & Ut\r\n              if ((s || (s = l), t.size != e.size && !u)) return !1\r\n              var f = a.get(t)\r\n              if (f) return f == e\r\n              ;(o |= Nt), a.set(t, e)\r\n              var h = nt(s(t), s(e), n, i, o, a)\r\n              return a.delete(t), h\r\n            case re:\r\n              if (Je) return Je.call(t) == Je.call(e)\r\n          }\r\n          return !1\r\n        }\r\n        function ot (t, e, r, n, i, o) {\r\n          var a = i & Ut,\r\n            s = Dt(t),\r\n            u = s.length\r\n          if (u != Dt(e).length && !a) return !1\r\n          for (var c = u; c--; ) {\r\n            var l = s[c]\r\n            if (!(a ? l in e : Oe.call(e, l))) return !1\r\n          }\r\n          var f = o.get(t)\r\n          if (f && o.get(e)) return f == e\r\n          var h = !0\r\n          o.set(t, e), o.set(e, t)\r\n          for (var p = a; ++c < u; ) {\r\n            l = s[c]\r\n            var d = t[l],\r\n              g = e[l]\r\n            if (n) var v = a ? n(g, d, l, e, t, o) : n(d, g, l, t, e, o)\r\n            if (!(void 0 === v ? d === g || r(d, g, n, i, o) : v)) {\r\n              h = !1\r\n              break\r\n            }\r\n            p || (p = 'constructor' == l)\r\n          }\r\n          if (h && !p) {\r\n            var b = t.constructor,\r\n              y = e.constructor\r\n            b != y &&\r\n              'constructor' in t &&\r\n              'constructor' in e &&\r\n              !('function' == typeof b && b instanceof b && 'function' == typeof y && y instanceof y) &&\r\n              (h = !1)\r\n          }\r\n          return o.delete(t), o.delete(e), h\r\n        }\r\n        function at (t, e) {\r\n          var r = t.__data__\r\n          return ht(e) ? r['string' == typeof e ? 'string' : 'hash'] : r.map\r\n        }\r\n        function st (t) {\r\n          for (var e = Dt(t), r = e.length; r--; ) {\r\n            var n = e[r],\r\n              i = t[n]\r\n            e[r] = [n, i, gt(i)]\r\n          }\r\n          return e\r\n        }\r\n        function ut (t, e) {\r\n          var r = s(t, e)\r\n          return Y(r) ? r : void 0\r\n        }\r\n        function ct (t, e, r) {\r\n          e = ft(e, t) ? [e] : rt(e)\r\n          for (var n, i = -1, o = e.length; ++i < o; ) {\r\n            var a = bt(e[i])\r\n            if (!(n = null != t && r(t, a))) break\r\n            t = t[a]\r\n          }\r\n          if (n) return n\r\n          var o = t ? t.length : 0\r\n          return !!o && Et(o) && lt(a, o) && (er(t) || xt(t))\r\n        }\r\n        function lt (t, e) {\r\n          return !!(e = null == e ? zt : e) && ('number' == typeof t || he.test(t)) && t > -1 && t % 1 == 0 && t < e\r\n        }\r\n        function ft (t, e) {\r\n          if (er(t)) return !1\r\n          var r = typeof t\r\n          return (\r\n            !('number' != r && 'symbol' != r && 'boolean' != r && null != t && !Ot(t)) ||\r\n            (ae.test(t) || !oe.test(t) || (null != e && t in Object(e)))\r\n          )\r\n        }\r\n        function ht (t) {\r\n          var e = typeof t\r\n          return 'string' == e || 'number' == e || 'symbol' == e || 'boolean' == e ? '__proto__' !== t : null === t\r\n        }\r\n        function pt (t) {\r\n          return !!Ae && Ae in t\r\n        }\r\n        function dt (t) {\r\n          var e = t && t.constructor\r\n          return t === (('function' == typeof e && e.prototype) || ke)\r\n        }\r\n        function gt (t) {\r\n          return t === t && !At(t)\r\n        }\r\n        function vt (t, e) {\r\n          return function (r) {\r\n            return null != r && (r[t] === e && (void 0 !== e || t in Object(r)))\r\n          }\r\n        }\r\n        function bt (t) {\r\n          if ('string' == typeof t || Ot(t)) return t\r\n          var e = t + ''\r\n          return '0' == e && 1 / t == -Ft ? '-0' : e\r\n        }\r\n        function yt (t) {\r\n          if (null != t) {\r\n            try {\r\n              return Te.call(t)\r\n            } catch (t) {}\r\n            try {\r\n              return t + ''\r\n            } catch (t) {}\r\n          }\r\n          return ''\r\n        }\r\n        function mt (t, e) {\r\n          return (er(t) ? n : U)(t, Q(e, 3))\r\n        }\r\n        function _t (t, e) {\r\n          if ('function' != typeof t || (e && 'function' != typeof e)) throw new TypeError(Rt)\r\n          var r = function () {\r\n            var n = arguments,\r\n              i = e ? e.apply(this, n) : n[0],\r\n              o = r.cache\r\n            if (o.has(i)) return o.get(i)\r\n            var a = t.apply(this, n)\r\n            return (r.cache = o.set(i, a)), a\r\n          }\r\n          return (r.cache = new (_t.Cache || S)()), r\r\n        }\r\n        function wt (t, e) {\r\n          return t === e || (t !== t && e !== e)\r\n        }\r\n        function xt (t) {\r\n          return jt(t) && Oe.call(t, 'callee') && (!qe.call(t, 'callee') || Le.call(t) == Vt)\r\n        }\r\n        function St (t) {\r\n          return null != t && Et(t.length) && !kt(t)\r\n        }\r\n        function jt (t) {\r\n          return Tt(t) && St(t)\r\n        }\r\n        function kt (t) {\r\n          var e = At(t) ? Le.call(t) : ''\r\n          return e == Yt || e == Jt\r\n        }\r\n        function Et (t) {\r\n          return 'number' == typeof t && t > -1 && t % 1 == 0 && t <= zt\r\n        }\r\n        function At (t) {\r\n          var e = typeof t\r\n          return !!t && ('object' == e || 'function' == e)\r\n        }\r\n        function Tt (t) {\r\n          return !!t && 'object' == typeof t\r\n        }\r\n        function Ot (t) {\r\n          return 'symbol' == typeof t || (Tt(t) && Le.call(t) == re)\r\n        }\r\n        function Lt (t) {\r\n          return null == t ? '' : et(t)\r\n        }\r\n        function Ct (t, e, r) {\r\n          var n = null == t ? void 0 : z(t, e)\r\n          return void 0 === n ? r : n\r\n        }\r\n        function Bt (t, e) {\r\n          return null != t && ct(t, e, $)\r\n        }\r\n        function Dt (t) {\r\n          return St(t) ? I(t) : X(t)\r\n        }\r\n        function qt (t) {\r\n          return t\r\n        }\r\n        function Pt (t) {\r\n          return ft(t) ? o(bt(t)) : tt(t)\r\n        }\r\n        var Mt = 200,\r\n          Rt = 'Expected a function',\r\n          It = '__lodash_hash_undefined__',\r\n          Nt = 1,\r\n          Ut = 2,\r\n          Ft = 1 / 0,\r\n          zt = 9007199254740991,\r\n          Vt = '[object Arguments]',\r\n          $t = '[object Array]',\r\n          Ht = '[object Boolean]',\r\n          Wt = '[object Date]',\r\n          Gt = '[object Error]',\r\n          Yt = '[object Function]',\r\n          Jt = '[object GeneratorFunction]',\r\n          Qt = '[object Map]',\r\n          Xt = '[object Number]',\r\n          Zt = '[object Object]',\r\n          Kt = '[object RegExp]',\r\n          te = '[object Set]',\r\n          ee = '[object String]',\r\n          re = '[object Symbol]',\r\n          ne = '[object ArrayBuffer]',\r\n          ie = '[object DataView]',\r\n          oe = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\r\n          ae = /^\\w*$/,\r\n          se = /^\\./,\r\n          ue = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,\r\n          ce = /[\\\\^$.*+?()[\\]{}|]/g,\r\n          le = /\\\\(\\\\)?/g,\r\n          fe = /^\\[object .+?Constructor\\]$/,\r\n          he = /^(?:0|[1-9]\\d*)$/,\r\n          pe = {}\r\n        ;(pe['[object Float32Array]'] = pe['[object Float64Array]'] = pe['[object Int8Array]'] = pe[\r\n          '[object Int16Array]'\r\n        ] = pe['[object Int32Array]'] = pe['[object Uint8Array]'] = pe['[object Uint8ClampedArray]'] = pe[\r\n          '[object Uint16Array]'\r\n        ] = pe['[object Uint32Array]'] = !0),\r\n          (pe[Vt] = pe[$t] = pe[ne] = pe[Ht] = pe[ie] = pe[Wt] = pe[Gt] = pe[Yt] = pe[Qt] = pe[Xt] = pe[Zt] = pe[\r\n            Kt\r\n          ] = pe[te] = pe[ee] = pe['[object WeakMap]'] = !1)\r\n        var de = 'object' == typeof t && t && t.Object === Object && t,\r\n          ge = 'object' == typeof self && self && self.Object === Object && self,\r\n          ve = de || ge || Function('return this')(),\r\n          be = 'object' == typeof e && e && !e.nodeType && e,\r\n          ye = be && 'object' == typeof r && r && !r.nodeType && r,\r\n          me = ye && ye.exports === be,\r\n          _e = me && de.process,\r\n          we = (function () {\r\n            try {\r\n              return _e && _e.binding('util')\r\n            } catch (t) {}\r\n          })(),\r\n          xe = we && we.isTypedArray,\r\n          Se = Array.prototype,\r\n          je = Function.prototype,\r\n          ke = Object.prototype,\r\n          Ee = ve['__core-js_shared__'],\r\n          Ae = (function () {\r\n            var t = /[^.]+$/.exec((Ee && Ee.keys && Ee.keys.IE_PROTO) || '')\r\n            return t ? 'Symbol(src)_1.' + t : ''\r\n          })(),\r\n          Te = je.toString,\r\n          Oe = ke.hasOwnProperty,\r\n          Le = ke.toString,\r\n          Ce = RegExp(\r\n            '^' +\r\n              Te.call(Oe)\r\n                .replace(ce, '\\\\$&')\r\n                .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') +\r\n              '$'\r\n          ),\r\n          Be = ve.Symbol,\r\n          De = ve.Uint8Array,\r\n          qe = ke.propertyIsEnumerable,\r\n          Pe = Se.splice,\r\n          Me = (function (t, e) {\r\n            return function (r) {\r\n              return t(e(r))\r\n            }\r\n          })(Object.keys, Object),\r\n          Re = ut(ve, 'DataView'),\r\n          Ie = ut(ve, 'Map'),\r\n          Ne = ut(ve, 'Promise'),\r\n          Ue = ut(ve, 'Set'),\r\n          Fe = ut(ve, 'WeakMap'),\r\n          ze = ut(Object, 'create'),\r\n          Ve = yt(Re),\r\n          $e = yt(Ie),\r\n          He = yt(Ne),\r\n          We = yt(Ue),\r\n          Ge = yt(Fe),\r\n          Ye = Be ? Be.prototype : void 0,\r\n          Je = Ye ? Ye.valueOf : void 0,\r\n          Qe = Ye ? Ye.toString : void 0\r\n        ;(f.prototype.clear = h),\r\n          (f.prototype.delete = p),\r\n          (f.prototype.get = d),\r\n          (f.prototype.has = g),\r\n          (f.prototype.set = v),\r\n          (b.prototype.clear = y),\r\n          (b.prototype.delete = m),\r\n          (b.prototype.get = _),\r\n          (b.prototype.has = w),\r\n          (b.prototype.set = x),\r\n          (S.prototype.clear = j),\r\n          (S.prototype.delete = k),\r\n          (S.prototype.get = E),\r\n          (S.prototype.has = A),\r\n          (S.prototype.set = T),\r\n          (O.prototype.add = O.prototype.push = L),\r\n          (O.prototype.has = C),\r\n          (B.prototype.clear = D),\r\n          (B.prototype.delete = q),\r\n          (B.prototype.get = P),\r\n          (B.prototype.has = M),\r\n          (B.prototype.set = R)\r\n        var Xe = (function (t, e) {\r\n            return function (r, n) {\r\n              if (null == r) return r\r\n              if (!St(r)) return t(r, n)\r\n              for (var i = r.length, o = e ? i : -1, a = Object(r); (e ? o-- : ++o < i) && !1 !== n(a[o], o, a); );\r\n              return r\r\n            }\r\n          })(F),\r\n          Ze = (function (t) {\r\n            return function (e, r, n) {\r\n              for (var i = -1, o = Object(e), a = n(e), s = a.length; s--; ) {\r\n                var u = a[t ? s : ++i]\r\n                if (!1 === r(o[u], u, o)) break\r\n              }\r\n              return e\r\n            }\r\n          })(),\r\n          Ke = V\r\n        ;((Re && Ke(new Re(new ArrayBuffer(1))) != ie) ||\r\n          (Ie && Ke(new Ie()) != Qt) ||\r\n          (Ne && '[object Promise]' != Ke(Ne.resolve())) ||\r\n          (Ue && Ke(new Ue()) != te) ||\r\n          (Fe && '[object WeakMap]' != Ke(new Fe()))) &&\r\n          (Ke = function (t) {\r\n            var e = Le.call(t),\r\n              r = e == Zt ? t.constructor : void 0,\r\n              n = r ? yt(r) : void 0\r\n            if (n)\r\n              switch (n) {\r\n                case Ve:\r\n                  return ie\r\n                case $e:\r\n                  return Qt\r\n                case He:\r\n                  return '[object Promise]'\r\n                case We:\r\n                  return te\r\n                case Ge:\r\n                  return '[object WeakMap]'\r\n              }\r\n            return e\r\n          })\r\n        var tr = _t(function (t) {\r\n          t = Lt(t)\r\n          var e = []\r\n          return (\r\n            se.test(t) && e.push(''),\r\n            t.replace(ue, function (t, r, n, i) {\r\n              e.push(n ? i.replace(le, '$1') : r || t)\r\n            }),\r\n            e\r\n          )\r\n        })\r\n        _t.Cache = S\r\n        var er = Array.isArray,\r\n          rr = xe\r\n            ? (function (t) {\r\n                return function (e) {\r\n                  return t(e)\r\n                }\r\n              })(xe)\r\n            : J\r\n        r.exports = mt\r\n      }.call(e, r(0), r(5)(t)))\r\n    },\r\n    function (t, e, r) {\r\n      ;(function (t, r) {\r\n        function n (t, e, r, n) {\r\n          var i = -1,\r\n            o = t ? t.length : 0\r\n          for (n && o && (r = t[++i]); ++i < o; ) r = e(r, t[i], i, t)\r\n          return r\r\n        }\r\n        function i (t, e) {\r\n          for (var r = -1, n = t ? t.length : 0; ++r < n; ) if (e(t[r], r, t)) return !0\r\n          return !1\r\n        }\r\n        function o (t) {\r\n          return function (e) {\r\n            return null == e ? void 0 : e[t]\r\n          }\r\n        }\r\n        function a (t, e, r, n, i) {\r\n          return (\r\n            i(t, function (t, i, o) {\r\n              r = n ? ((n = !1), t) : e(r, t, i, o)\r\n            }),\r\n            r\r\n          )\r\n        }\r\n        function s (t, e) {\r\n          for (var r = -1, n = Array(t); ++r < t; ) n[r] = e(r)\r\n          return n\r\n        }\r\n        function u (t, e) {\r\n          return null == t ? void 0 : t[e]\r\n        }\r\n        function c (t) {\r\n          var e = !1\r\n          if (null != t && 'function' != typeof t.toString)\r\n            try {\r\n              e = !!(t + '')\r\n            } catch (t) {}\r\n          return e\r\n        }\r\n        function l (t) {\r\n          var e = -1,\r\n            r = Array(t.size)\r\n          return (\r\n            t.forEach(function (t, n) {\r\n              r[++e] = [n, t]\r\n            }),\r\n            r\r\n          )\r\n        }\r\n        function f (t) {\r\n          var e = -1,\r\n            r = Array(t.size)\r\n          return (\r\n            t.forEach(function (t) {\r\n              r[++e] = t\r\n            }),\r\n            r\r\n          )\r\n        }\r\n        function h (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function p () {\r\n          this.__data__ = ze ? ze(null) : {}\r\n        }\r\n        function d (t) {\r\n          return this.has(t) && delete this.__data__[t]\r\n        }\r\n        function g (t) {\r\n          var e = this.__data__\r\n          if (ze) {\r\n            var r = e[t]\r\n            return r === It ? void 0 : r\r\n          }\r\n          return Oe.call(e, t) ? e[t] : void 0\r\n        }\r\n        function v (t) {\r\n          var e = this.__data__\r\n          return ze ? void 0 !== e[t] : Oe.call(e, t)\r\n        }\r\n        function b (t, e) {\r\n          return (this.__data__[t] = ze && void 0 === e ? It : e), this\r\n        }\r\n        function y (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function m () {\r\n          this.__data__ = []\r\n        }\r\n        function _ (t) {\r\n          var e = this.__data__,\r\n            r = U(e, t)\r\n          return !(r < 0) && (r == e.length - 1 ? e.pop() : Pe.call(e, r, 1), !0)\r\n        }\r\n        function w (t) {\r\n          var e = this.__data__,\r\n            r = U(e, t)\r\n          return r < 0 ? void 0 : e[r][1]\r\n        }\r\n        function x (t) {\r\n          return U(this.__data__, t) > -1\r\n        }\r\n        function S (t, e) {\r\n          var r = this.__data__,\r\n            n = U(r, t)\r\n          return n < 0 ? r.push([t, e]) : (r[n][1] = e), this\r\n        }\r\n        function j (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function k () {\r\n          this.__data__ = { hash: new h(), map: new (Ie || y)(), string: new h() }\r\n        }\r\n        function E (t) {\r\n          return at(this, t).delete(t)\r\n        }\r\n        function A (t) {\r\n          return at(this, t).get(t)\r\n        }\r\n        function T (t) {\r\n          return at(this, t).has(t)\r\n        }\r\n        function O (t, e) {\r\n          return at(this, t).set(t, e), this\r\n        }\r\n        function L (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.__data__ = new j(); ++e < r; ) this.add(t[e])\r\n        }\r\n        function C (t) {\r\n          return this.__data__.set(t, It), this\r\n        }\r\n        function B (t) {\r\n          return this.__data__.has(t)\r\n        }\r\n        function D (t) {\r\n          this.__data__ = new y(t)\r\n        }\r\n        function q () {\r\n          this.__data__ = new y()\r\n        }\r\n        function P (t) {\r\n          return this.__data__.delete(t)\r\n        }\r\n        function M (t) {\r\n          return this.__data__.get(t)\r\n        }\r\n        function R (t) {\r\n          return this.__data__.has(t)\r\n        }\r\n        function I (t, e) {\r\n          var r = this.__data__\r\n          if (r instanceof y) {\r\n            var n = r.__data__\r\n            if (!Ie || n.length < Mt - 1) return n.push([t, e]), this\r\n            r = this.__data__ = new j(n)\r\n          }\r\n          return r.set(t, e), this\r\n        }\r\n        function N (t, e) {\r\n          var r = er(t) || xt(t) ? s(t.length, String) : [],\r\n            n = r.length,\r\n            i = !!n\r\n          for (var o in t) (!e && !Oe.call(t, o)) || (i && ('length' == o || lt(o, n))) || r.push(o)\r\n          return r\r\n        }\r\n        function U (t, e) {\r\n          for (var r = t.length; r--; ) if (wt(t[r][0], e)) return r\r\n          return -1\r\n        }\r\n        function F (t, e) {\r\n          return t && Ze(t, e, Dt)\r\n        }\r\n        function z (t, e) {\r\n          e = ft(e, t) ? [e] : rt(e)\r\n          for (var r = 0, n = e.length; null != t && r < n; ) t = t[bt(e[r++])]\r\n          return r && r == n ? t : void 0\r\n        }\r\n        function V (t) {\r\n          return Le.call(t)\r\n        }\r\n        function $ (t, e) {\r\n          return null != t && e in Object(t)\r\n        }\r\n        function H (t, e, r, n, i) {\r\n          return t === e || (null == t || null == e || (!At(t) && !Tt(e)) ? t !== t && e !== e : W(t, e, H, r, n, i))\r\n        }\r\n        function W (t, e, r, n, i, o) {\r\n          var a = er(t),\r\n            s = er(e),\r\n            u = $t,\r\n            l = $t\r\n          a || ((u = Ke(t)), (u = u == Vt ? Zt : u)), s || ((l = Ke(e)), (l = l == Vt ? Zt : l))\r\n          var f = u == Zt && !c(t),\r\n            h = l == Zt && !c(e),\r\n            p = u == l\r\n          if (p && !f) return o || (o = new D()), a || rr(t) ? nt(t, e, r, n, i, o) : it(t, e, u, r, n, i, o)\r\n          if (!(i & Ut)) {\r\n            var d = f && Oe.call(t, '__wrapped__'),\r\n              g = h && Oe.call(e, '__wrapped__')\r\n            if (d || g) {\r\n              var v = d ? t.value() : t,\r\n                b = g ? e.value() : e\r\n              return o || (o = new D()), r(v, b, n, i, o)\r\n            }\r\n          }\r\n          return !!p && (o || (o = new D()), ot(t, e, r, n, i, o))\r\n        }\r\n        function G (t, e, r, n) {\r\n          var i = r.length,\r\n            o = i,\r\n            a = !n\r\n          if (null == t) return !o\r\n          for (t = Object(t); i--; ) {\r\n            var s = r[i]\r\n            if (a && s[2] ? s[1] !== t[s[0]] : !(s[0] in t)) return !1\r\n          }\r\n          for (; ++i < o; ) {\r\n            s = r[i]\r\n            var u = s[0],\r\n              c = t[u],\r\n              l = s[1]\r\n            if (a && s[2]) {\r\n              if (void 0 === c && !(u in t)) return !1\r\n            } else {\r\n              var f = new D()\r\n              if (n) var h = n(c, l, u, t, e, f)\r\n              if (!(void 0 === h ? H(l, c, n, Nt | Ut, f) : h)) return !1\r\n            }\r\n          }\r\n          return !0\r\n        }\r\n        function Y (t) {\r\n          return !(!At(t) || pt(t)) && (kt(t) || c(t) ? Ce : fe).test(yt(t))\r\n        }\r\n        function J (t) {\r\n          return Tt(t) && Et(t.length) && !!pe[Le.call(t)]\r\n        }\r\n        function Q (t) {\r\n          return 'function' == typeof t\r\n            ? t\r\n            : null == t\r\n            ? qt\r\n            : 'object' == typeof t\r\n            ? er(t)\r\n              ? K(t[0], t[1])\r\n              : Z(t)\r\n            : Pt(t)\r\n        }\r\n        function X (t) {\r\n          if (!dt(t)) return Me(t)\r\n          var e = []\r\n          for (var r in Object(t)) Oe.call(t, r) && 'constructor' != r && e.push(r)\r\n          return e\r\n        }\r\n        function Z (t) {\r\n          var e = st(t)\r\n          return 1 == e.length && e[0][2]\r\n            ? vt(e[0][0], e[0][1])\r\n            : function (r) {\r\n                return r === t || G(r, t, e)\r\n              }\r\n        }\r\n        function K (t, e) {\r\n          return ft(t) && gt(e)\r\n            ? vt(bt(t), e)\r\n            : function (r) {\r\n                var n = Ct(r, t)\r\n                return void 0 === n && n === e ? Bt(r, t) : H(e, n, void 0, Nt | Ut)\r\n              }\r\n        }\r\n        function tt (t) {\r\n          return function (e) {\r\n            return z(e, t)\r\n          }\r\n        }\r\n        function et (t) {\r\n          if ('string' == typeof t) return t\r\n          if (Ot(t)) return Qe ? Qe.call(t) : ''\r\n          var e = t + ''\r\n          return '0' == e && 1 / t == -Ft ? '-0' : e\r\n        }\r\n        function rt (t) {\r\n          return er(t) ? t : tr(t)\r\n        }\r\n        function nt (t, e, r, n, o, a) {\r\n          var s = o & Ut,\r\n            u = t.length,\r\n            c = e.length\r\n          if (u != c && !(s && c > u)) return !1\r\n          var l = a.get(t)\r\n          if (l && a.get(e)) return l == e\r\n          var f = -1,\r\n            h = !0,\r\n            p = o & Nt ? new L() : void 0\r\n          for (a.set(t, e), a.set(e, t); ++f < u; ) {\r\n            var d = t[f],\r\n              g = e[f]\r\n            if (n) var v = s ? n(g, d, f, e, t, a) : n(d, g, f, t, e, a)\r\n            if (void 0 !== v) {\r\n              if (v) continue\r\n              h = !1\r\n              break\r\n            }\r\n            if (p) {\r\n              if (\r\n                !i(e, function (t, e) {\r\n                  if (!p.has(e) && (d === t || r(d, t, n, o, a))) return p.add(e)\r\n                })\r\n              ) {\r\n                h = !1\r\n                break\r\n              }\r\n            } else if (d !== g && !r(d, g, n, o, a)) {\r\n              h = !1\r\n              break\r\n            }\r\n          }\r\n          return a.delete(t), a.delete(e), h\r\n        }\r\n        function it (t, e, r, n, i, o, a) {\r\n          switch (r) {\r\n            case ie:\r\n              if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) return !1\r\n              ;(t = t.buffer), (e = e.buffer)\r\n            case ne:\r\n              return !(t.byteLength != e.byteLength || !n(new De(t), new De(e)))\r\n            case Ht:\r\n            case Wt:\r\n            case Xt:\r\n              return wt(+t, +e)\r\n            case Gt:\r\n              return t.name == e.name && t.message == e.message\r\n            case Kt:\r\n            case ee:\r\n              return t == e + ''\r\n            case Qt:\r\n              var s = l\r\n            case te:\r\n              var u = o & Ut\r\n              if ((s || (s = f), t.size != e.size && !u)) return !1\r\n              var c = a.get(t)\r\n              if (c) return c == e\r\n              ;(o |= Nt), a.set(t, e)\r\n              var h = nt(s(t), s(e), n, i, o, a)\r\n              return a.delete(t), h\r\n            case re:\r\n              if (Je) return Je.call(t) == Je.call(e)\r\n          }\r\n          return !1\r\n        }\r\n        function ot (t, e, r, n, i, o) {\r\n          var a = i & Ut,\r\n            s = Dt(t),\r\n            u = s.length\r\n          if (u != Dt(e).length && !a) return !1\r\n          for (var c = u; c--; ) {\r\n            var l = s[c]\r\n            if (!(a ? l in e : Oe.call(e, l))) return !1\r\n          }\r\n          var f = o.get(t)\r\n          if (f && o.get(e)) return f == e\r\n          var h = !0\r\n          o.set(t, e), o.set(e, t)\r\n          for (var p = a; ++c < u; ) {\r\n            l = s[c]\r\n            var d = t[l],\r\n              g = e[l]\r\n            if (n) var v = a ? n(g, d, l, e, t, o) : n(d, g, l, t, e, o)\r\n            if (!(void 0 === v ? d === g || r(d, g, n, i, o) : v)) {\r\n              h = !1\r\n              break\r\n            }\r\n            p || (p = 'constructor' == l)\r\n          }\r\n          if (h && !p) {\r\n            var b = t.constructor,\r\n              y = e.constructor\r\n            b != y &&\r\n              'constructor' in t &&\r\n              'constructor' in e &&\r\n              !('function' == typeof b && b instanceof b && 'function' == typeof y && y instanceof y) &&\r\n              (h = !1)\r\n          }\r\n          return o.delete(t), o.delete(e), h\r\n        }\r\n        function at (t, e) {\r\n          var r = t.__data__\r\n          return ht(e) ? r['string' == typeof e ? 'string' : 'hash'] : r.map\r\n        }\r\n        function st (t) {\r\n          for (var e = Dt(t), r = e.length; r--; ) {\r\n            var n = e[r],\r\n              i = t[n]\r\n            e[r] = [n, i, gt(i)]\r\n          }\r\n          return e\r\n        }\r\n        function ut (t, e) {\r\n          var r = u(t, e)\r\n          return Y(r) ? r : void 0\r\n        }\r\n        function ct (t, e, r) {\r\n          e = ft(e, t) ? [e] : rt(e)\r\n          for (var n, i = -1, o = e.length; ++i < o; ) {\r\n            var a = bt(e[i])\r\n            if (!(n = null != t && r(t, a))) break\r\n            t = t[a]\r\n          }\r\n          if (n) return n\r\n          var o = t ? t.length : 0\r\n          return !!o && Et(o) && lt(a, o) && (er(t) || xt(t))\r\n        }\r\n        function lt (t, e) {\r\n          return !!(e = null == e ? zt : e) && ('number' == typeof t || he.test(t)) && t > -1 && t % 1 == 0 && t < e\r\n        }\r\n        function ft (t, e) {\r\n          if (er(t)) return !1\r\n          var r = typeof t\r\n          return (\r\n            !('number' != r && 'symbol' != r && 'boolean' != r && null != t && !Ot(t)) ||\r\n            (ae.test(t) || !oe.test(t) || (null != e && t in Object(e)))\r\n          )\r\n        }\r\n        function ht (t) {\r\n          var e = typeof t\r\n          return 'string' == e || 'number' == e || 'symbol' == e || 'boolean' == e ? '__proto__' !== t : null === t\r\n        }\r\n        function pt (t) {\r\n          return !!Ae && Ae in t\r\n        }\r\n        function dt (t) {\r\n          var e = t && t.constructor\r\n          return t === (('function' == typeof e && e.prototype) || ke)\r\n        }\r\n        function gt (t) {\r\n          return t === t && !At(t)\r\n        }\r\n        function vt (t, e) {\r\n          return function (r) {\r\n            return null != r && (r[t] === e && (void 0 !== e || t in Object(r)))\r\n          }\r\n        }\r\n        function bt (t) {\r\n          if ('string' == typeof t || Ot(t)) return t\r\n          var e = t + ''\r\n          return '0' == e && 1 / t == -Ft ? '-0' : e\r\n        }\r\n        function yt (t) {\r\n          if (null != t) {\r\n            try {\r\n              return Te.call(t)\r\n            } catch (t) {}\r\n            try {\r\n              return t + ''\r\n            } catch (t) {}\r\n          }\r\n          return ''\r\n        }\r\n        function mt (t, e, r) {\r\n          var i = er(t) ? n : a,\r\n            o = arguments.length < 3\r\n          return i(t, Q(e, 4), r, o, Xe)\r\n        }\r\n        function _t (t, e) {\r\n          if ('function' != typeof t || (e && 'function' != typeof e)) throw new TypeError(Rt)\r\n          var r = function () {\r\n            var n = arguments,\r\n              i = e ? e.apply(this, n) : n[0],\r\n              o = r.cache\r\n            if (o.has(i)) return o.get(i)\r\n            var a = t.apply(this, n)\r\n            return (r.cache = o.set(i, a)), a\r\n          }\r\n          return (r.cache = new (_t.Cache || j)()), r\r\n        }\r\n        function wt (t, e) {\r\n          return t === e || (t !== t && e !== e)\r\n        }\r\n        function xt (t) {\r\n          return jt(t) && Oe.call(t, 'callee') && (!qe.call(t, 'callee') || Le.call(t) == Vt)\r\n        }\r\n        function St (t) {\r\n          return null != t && Et(t.length) && !kt(t)\r\n        }\r\n        function jt (t) {\r\n          return Tt(t) && St(t)\r\n        }\r\n        function kt (t) {\r\n          var e = At(t) ? Le.call(t) : ''\r\n          return e == Yt || e == Jt\r\n        }\r\n        function Et (t) {\r\n          return 'number' == typeof t && t > -1 && t % 1 == 0 && t <= zt\r\n        }\r\n        function At (t) {\r\n          var e = typeof t\r\n          return !!t && ('object' == e || 'function' == e)\r\n        }\r\n        function Tt (t) {\r\n          return !!t && 'object' == typeof t\r\n        }\r\n        function Ot (t) {\r\n          return 'symbol' == typeof t || (Tt(t) && Le.call(t) == re)\r\n        }\r\n        function Lt (t) {\r\n          return null == t ? '' : et(t)\r\n        }\r\n        function Ct (t, e, r) {\r\n          var n = null == t ? void 0 : z(t, e)\r\n          return void 0 === n ? r : n\r\n        }\r\n        function Bt (t, e) {\r\n          return null != t && ct(t, e, $)\r\n        }\r\n        function Dt (t) {\r\n          return St(t) ? N(t) : X(t)\r\n        }\r\n        function qt (t) {\r\n          return t\r\n        }\r\n        function Pt (t) {\r\n          return ft(t) ? o(bt(t)) : tt(t)\r\n        }\r\n        var Mt = 200,\r\n          Rt = 'Expected a function',\r\n          It = '__lodash_hash_undefined__',\r\n          Nt = 1,\r\n          Ut = 2,\r\n          Ft = 1 / 0,\r\n          zt = 9007199254740991,\r\n          Vt = '[object Arguments]',\r\n          $t = '[object Array]',\r\n          Ht = '[object Boolean]',\r\n          Wt = '[object Date]',\r\n          Gt = '[object Error]',\r\n          Yt = '[object Function]',\r\n          Jt = '[object GeneratorFunction]',\r\n          Qt = '[object Map]',\r\n          Xt = '[object Number]',\r\n          Zt = '[object Object]',\r\n          Kt = '[object RegExp]',\r\n          te = '[object Set]',\r\n          ee = '[object String]',\r\n          re = '[object Symbol]',\r\n          ne = '[object ArrayBuffer]',\r\n          ie = '[object DataView]',\r\n          oe = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\r\n          ae = /^\\w*$/,\r\n          se = /^\\./,\r\n          ue = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,\r\n          ce = /[\\\\^$.*+?()[\\]{}|]/g,\r\n          le = /\\\\(\\\\)?/g,\r\n          fe = /^\\[object .+?Constructor\\]$/,\r\n          he = /^(?:0|[1-9]\\d*)$/,\r\n          pe = {}\r\n        ;(pe['[object Float32Array]'] = pe['[object Float64Array]'] = pe['[object Int8Array]'] = pe[\r\n          '[object Int16Array]'\r\n        ] = pe['[object Int32Array]'] = pe['[object Uint8Array]'] = pe['[object Uint8ClampedArray]'] = pe[\r\n          '[object Uint16Array]'\r\n        ] = pe['[object Uint32Array]'] = !0),\r\n          (pe[Vt] = pe[$t] = pe[ne] = pe[Ht] = pe[ie] = pe[Wt] = pe[Gt] = pe[Yt] = pe[Qt] = pe[Xt] = pe[Zt] = pe[\r\n            Kt\r\n          ] = pe[te] = pe[ee] = pe['[object WeakMap]'] = !1)\r\n        var de = 'object' == typeof t && t && t.Object === Object && t,\r\n          ge = 'object' == typeof self && self && self.Object === Object && self,\r\n          ve = de || ge || Function('return this')(),\r\n          be = 'object' == typeof e && e && !e.nodeType && e,\r\n          ye = be && 'object' == typeof r && r && !r.nodeType && r,\r\n          me = ye && ye.exports === be,\r\n          _e = me && de.process,\r\n          we = (function () {\r\n            try {\r\n              return _e && _e.binding('util')\r\n            } catch (t) {}\r\n          })(),\r\n          xe = we && we.isTypedArray,\r\n          Se = Array.prototype,\r\n          je = Function.prototype,\r\n          ke = Object.prototype,\r\n          Ee = ve['__core-js_shared__'],\r\n          Ae = (function () {\r\n            var t = /[^.]+$/.exec((Ee && Ee.keys && Ee.keys.IE_PROTO) || '')\r\n            return t ? 'Symbol(src)_1.' + t : ''\r\n          })(),\r\n          Te = je.toString,\r\n          Oe = ke.hasOwnProperty,\r\n          Le = ke.toString,\r\n          Ce = RegExp(\r\n            '^' +\r\n              Te.call(Oe)\r\n                .replace(ce, '\\\\$&')\r\n                .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') +\r\n              '$'\r\n          ),\r\n          Be = ve.Symbol,\r\n          De = ve.Uint8Array,\r\n          qe = ke.propertyIsEnumerable,\r\n          Pe = Se.splice,\r\n          Me = (function (t, e) {\r\n            return function (r) {\r\n              return t(e(r))\r\n            }\r\n          })(Object.keys, Object),\r\n          Re = ut(ve, 'DataView'),\r\n          Ie = ut(ve, 'Map'),\r\n          Ne = ut(ve, 'Promise'),\r\n          Ue = ut(ve, 'Set'),\r\n          Fe = ut(ve, 'WeakMap'),\r\n          ze = ut(Object, 'create'),\r\n          Ve = yt(Re),\r\n          $e = yt(Ie),\r\n          He = yt(Ne),\r\n          We = yt(Ue),\r\n          Ge = yt(Fe),\r\n          Ye = Be ? Be.prototype : void 0,\r\n          Je = Ye ? Ye.valueOf : void 0,\r\n          Qe = Ye ? Ye.toString : void 0\r\n        ;(h.prototype.clear = p),\r\n          (h.prototype.delete = d),\r\n          (h.prototype.get = g),\r\n          (h.prototype.has = v),\r\n          (h.prototype.set = b),\r\n          (y.prototype.clear = m),\r\n          (y.prototype.delete = _),\r\n          (y.prototype.get = w),\r\n          (y.prototype.has = x),\r\n          (y.prototype.set = S),\r\n          (j.prototype.clear = k),\r\n          (j.prototype.delete = E),\r\n          (j.prototype.get = A),\r\n          (j.prototype.has = T),\r\n          (j.prototype.set = O),\r\n          (L.prototype.add = L.prototype.push = C),\r\n          (L.prototype.has = B),\r\n          (D.prototype.clear = q),\r\n          (D.prototype.delete = P),\r\n          (D.prototype.get = M),\r\n          (D.prototype.has = R),\r\n          (D.prototype.set = I)\r\n        var Xe = (function (t, e) {\r\n            return function (r, n) {\r\n              if (null == r) return r\r\n              if (!St(r)) return t(r, n)\r\n              for (var i = r.length, o = e ? i : -1, a = Object(r); (e ? o-- : ++o < i) && !1 !== n(a[o], o, a); );\r\n              return r\r\n            }\r\n          })(F),\r\n          Ze = (function (t) {\r\n            return function (e, r, n) {\r\n              for (var i = -1, o = Object(e), a = n(e), s = a.length; s--; ) {\r\n                var u = a[t ? s : ++i]\r\n                if (!1 === r(o[u], u, o)) break\r\n              }\r\n              return e\r\n            }\r\n          })(),\r\n          Ke = V\r\n        ;((Re && Ke(new Re(new ArrayBuffer(1))) != ie) ||\r\n          (Ie && Ke(new Ie()) != Qt) ||\r\n          (Ne && '[object Promise]' != Ke(Ne.resolve())) ||\r\n          (Ue && Ke(new Ue()) != te) ||\r\n          (Fe && '[object WeakMap]' != Ke(new Fe()))) &&\r\n          (Ke = function (t) {\r\n            var e = Le.call(t),\r\n              r = e == Zt ? t.constructor : void 0,\r\n              n = r ? yt(r) : void 0\r\n            if (n)\r\n              switch (n) {\r\n                case Ve:\r\n                  return ie\r\n                case $e:\r\n                  return Qt\r\n                case He:\r\n                  return '[object Promise]'\r\n                case We:\r\n                  return te\r\n                case Ge:\r\n                  return '[object WeakMap]'\r\n              }\r\n            return e\r\n          })\r\n        var tr = _t(function (t) {\r\n          t = Lt(t)\r\n          var e = []\r\n          return (\r\n            se.test(t) && e.push(''),\r\n            t.replace(ue, function (t, r, n, i) {\r\n              e.push(n ? i.replace(le, '$1') : r || t)\r\n            }),\r\n            e\r\n          )\r\n        })\r\n        _t.Cache = j\r\n        var er = Array.isArray,\r\n          rr = xe\r\n            ? (function (t) {\r\n                return function (e) {\r\n                  return t(e)\r\n                }\r\n              })(xe)\r\n            : J\r\n        r.exports = mt\r\n      }.call(e, r(0), r(5)(t)))\r\n    },\r\n    function (t, e, r) {\r\n      var n = r(11),\r\n        i = r(25),\r\n        o = n.update,\r\n        a = n.evaluate,\r\n        s = r(9),\r\n        u = s.domEach,\r\n        c = s.cloneDom,\r\n        l = s.isHtml,\r\n        f = Array.prototype.slice,\r\n        h = { flatten: r(102), bind: r(24), forEach: r(16) }\r\n      e._makeDomArray = function (t, e) {\r\n        return null == t\r\n          ? []\r\n          : t.cheerio\r\n          ? e\r\n            ? c(t.get(), t.options)\r\n            : t.get()\r\n          : Array.isArray(t)\r\n          ? h.flatten(\r\n              t.map(function (t) {\r\n                return this._makeDomArray(t, e)\r\n              }, this)\r\n            )\r\n          : 'string' == typeof t\r\n          ? a(t, this.options)\r\n          : e\r\n          ? c([t])\r\n          : [t]\r\n      }\r\n      var p = function (t) {\r\n          return function () {\r\n            var e = f.call(arguments),\r\n              r = this.length - 1\r\n            return u(this, function (n, o) {\r\n              var a, s\r\n              ;(s = 'function' == typeof e[0] ? e[0].call(o, n, i.html(o.children)) : e),\r\n                (a = this._makeDomArray(s, n < r)),\r\n                t(a, o.children, o)\r\n            })\r\n          }\r\n        },\r\n        d = function (t, e, r, n, i) {\r\n          var o,\r\n            a,\r\n            s,\r\n            u,\r\n            c,\r\n            l = [e, r].concat(n),\r\n            f = t[e - 1] || null,\r\n            h = t[e] || null\r\n          for (o = 0, a = n.length; o < a; ++o)\r\n            (u = n[o]),\r\n              (c = u.parent || u.root),\r\n              (s = c && c.children.indexOf(n[o])),\r\n              c && s > -1 && (c.children.splice(s, 1), i === c && e > s && l[0]--),\r\n              (u.root = null),\r\n              (u.parent = i),\r\n              u.prev && (u.prev.next = u.next || null),\r\n              u.next && (u.next.prev = u.prev || null),\r\n              (u.prev = n[o - 1] || f),\r\n              (u.next = n[o + 1] || h)\r\n          return f && (f.next = n[0]), h && (h.prev = n[n.length - 1]), t.splice.apply(t, l)\r\n        }\r\n      ;(e.appendTo = function (t) {\r\n        return (\r\n          t.cheerio || (t = this.constructor.call(this.constructor, t, null, this._originalRoot)), t.append(this), this\r\n        )\r\n      }),\r\n        (e.prependTo = function (t) {\r\n          return (\r\n            t.cheerio || (t = this.constructor.call(this.constructor, t, null, this._originalRoot)),\r\n            t.prepend(this),\r\n            this\r\n          )\r\n        }),\r\n        (e.append = p(function (t, e, r) {\r\n          d(e, e.length, 0, t, r)\r\n        })),\r\n        (e.prepend = p(function (t, e, r) {\r\n          d(e, 0, 0, t, r)\r\n        })),\r\n        (e.wrap = function (t) {\r\n          var e = 'function' == typeof t && t,\r\n            r = this.length - 1\r\n          return (\r\n            h.forEach(\r\n              this,\r\n              h.bind(function (n, i) {\r\n                var a,\r\n                  s,\r\n                  u = n.parent || n.root,\r\n                  c = u.children\r\n                u &&\r\n                  (e && (t = e.call(n, i)),\r\n                  'string' != typeof t ||\r\n                    l(t) ||\r\n                    (t = this.parents()\r\n                      .last()\r\n                      .find(t)\r\n                      .clone()),\r\n                  (a = this._makeDomArray(t, i < r).slice(0, 1)),\r\n                  (s = c.indexOf(n)),\r\n                  o([n], a[0]),\r\n                  d(c, s, 0, a, u))\r\n              }, this)\r\n            ),\r\n            this\r\n          )\r\n        }),\r\n        (e.after = function () {\r\n          var t = f.call(arguments),\r\n            e = this.length - 1\r\n          return (\r\n            u(this, function (r, n) {\r\n              var o = n.parent || n.root\r\n              if (o) {\r\n                var a,\r\n                  s,\r\n                  u = o.children,\r\n                  c = u.indexOf(n)\r\n                c < 0 ||\r\n                  ((a = 'function' == typeof t[0] ? t[0].call(n, r, i.html(n.children)) : t),\r\n                  (s = this._makeDomArray(a, r < e)),\r\n                  d(u, c + 1, 0, s, o))\r\n              }\r\n            }),\r\n            this\r\n          )\r\n        }),\r\n        (e.insertAfter = function (t) {\r\n          var e = [],\r\n            r = this\r\n          return (\r\n            'string' == typeof t && (t = this.constructor.call(this.constructor, t, null, this._originalRoot)),\r\n            (t = this._makeDomArray(t)),\r\n            r.remove(),\r\n            u(t, function (t, n) {\r\n              var i = r._makeDomArray(r.clone()),\r\n                o = n.parent || n.root\r\n              if (o) {\r\n                var a = o.children,\r\n                  s = a.indexOf(n)\r\n                s < 0 || (d(a, s + 1, 0, i, o), e.push(i))\r\n              }\r\n            }),\r\n            this.constructor.call(this.constructor, this._makeDomArray(e))\r\n          )\r\n        }),\r\n        (e.before = function () {\r\n          var t = f.call(arguments),\r\n            e = this.length - 1\r\n          return (\r\n            u(this, function (r, n) {\r\n              var o = n.parent || n.root\r\n              if (o) {\r\n                var a,\r\n                  s,\r\n                  u = o.children,\r\n                  c = u.indexOf(n)\r\n                c < 0 ||\r\n                  ((a = 'function' == typeof t[0] ? t[0].call(n, r, i.html(n.children)) : t),\r\n                  (s = this._makeDomArray(a, r < e)),\r\n                  d(u, c, 0, s, o))\r\n              }\r\n            }),\r\n            this\r\n          )\r\n        }),\r\n        (e.insertBefore = function (t) {\r\n          var e = [],\r\n            r = this\r\n          return (\r\n            'string' == typeof t && (t = this.constructor.call(this.constructor, t, null, this._originalRoot)),\r\n            (t = this._makeDomArray(t)),\r\n            r.remove(),\r\n            u(t, function (t, n) {\r\n              var i = r._makeDomArray(r.clone()),\r\n                o = n.parent || n.root\r\n              if (o) {\r\n                var a = o.children,\r\n                  s = a.indexOf(n)\r\n                s < 0 || (d(a, s, 0, i, o), e.push(i))\r\n              }\r\n            }),\r\n            this.constructor.call(this.constructor, this._makeDomArray(e))\r\n          )\r\n        }),\r\n        (e.remove = function (t) {\r\n          var e = this\r\n          return (\r\n            t && (e = e.filter(t)),\r\n            u(e, function (t, e) {\r\n              var r = e.parent || e.root\r\n              if (r) {\r\n                var n = r.children,\r\n                  i = n.indexOf(e)\r\n                i < 0 ||\r\n                  (n.splice(i, 1),\r\n                  e.prev && (e.prev.next = e.next),\r\n                  e.next && (e.next.prev = e.prev),\r\n                  (e.prev = e.next = e.parent = e.root = null))\r\n              }\r\n            }),\r\n            this\r\n          )\r\n        }),\r\n        (e.replaceWith = function (t) {\r\n          var e = this\r\n          return (\r\n            u(this, function (r, n) {\r\n              var i = n.parent || n.root\r\n              if (i) {\r\n                var a,\r\n                  s = i.children,\r\n                  u = e._makeDomArray('function' == typeof t ? t.call(n, r, n) : t)\r\n                o(u, null), (a = s.indexOf(n)), d(s, a, 1, u, i), (n.parent = n.prev = n.next = n.root = null)\r\n              }\r\n            }),\r\n            this\r\n          )\r\n        }),\r\n        (e.empty = function () {\r\n          return (\r\n            u(this, function (t, e) {\r\n              h.forEach(e.children, function (t) {\r\n                t.next = t.prev = t.parent = null\r\n              }),\r\n                (e.children.length = 0)\r\n            }),\r\n            this\r\n          )\r\n        }),\r\n        (e.html = function (t) {\r\n          if (void 0 === t) return this[0] && this[0].children ? i.html(this[0].children, this.options) : null\r\n          var e = this.options\r\n          return (\r\n            u(this, function (r, n) {\r\n              h.forEach(n.children, function (t) {\r\n                t.next = t.prev = t.parent = null\r\n              })\r\n              var i = t.cheerio ? t.clone().get() : a('' + t, e)\r\n              o(i, n)\r\n            }),\r\n            this\r\n          )\r\n        }),\r\n        (e.toString = function () {\r\n          return i.html(this, this.options)\r\n        }),\r\n        (e.text = function (t) {\r\n          return void 0 === t\r\n            ? i.text(this)\r\n            : 'function' == typeof t\r\n            ? u(this, function (r, n) {\r\n                var o = [n]\r\n                return e.text.call(o, t.call(n, r, i.text(o)))\r\n              })\r\n            : (u(this, function (e, r) {\r\n                h.forEach(r.children, function (t) {\r\n                  t.next = t.prev = t.parent = null\r\n                }),\r\n                  o({ data: '' + t, type: 'text', parent: r, prev: null, next: null, children: [] }, r)\r\n              }),\r\n              this)\r\n        }),\r\n        (e.clone = function () {\r\n          return this._make(c(this.get(), this.options))\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      ;(function (e) {\r\n        function r (t, e) {\r\n          for (var r = -1, n = e.length, i = t.length; ++r < n; ) t[i + r] = e[r]\r\n          return t\r\n        }\r\n        function n (t, e, o, a, s) {\r\n          var u = -1,\r\n            c = t.length\r\n          for (o || (o = i), s || (s = []); ++u < c; ) {\r\n            var l = t[u]\r\n            e > 0 && o(l) ? (e > 1 ? n(l, e - 1, o, a, s) : r(s, l)) : a || (s[s.length] = l)\r\n          }\r\n          return s\r\n        }\r\n        function i (t) {\r\n          return E(t) || a(t) || !!(k && t && t[k])\r\n        }\r\n        function o (t) {\r\n          return (t ? t.length : 0) ? n(t, 1) : []\r\n        }\r\n        function a (t) {\r\n          return u(t) && w.call(t, 'callee') && (!j.call(t, 'callee') || x.call(t) == d)\r\n        }\r\n        function s (t) {\r\n          return null != t && l(t.length) && !c(t)\r\n        }\r\n        function u (t) {\r\n          return h(t) && s(t)\r\n        }\r\n        function c (t) {\r\n          var e = f(t) ? x.call(t) : ''\r\n          return e == g || e == v\r\n        }\r\n        function l (t) {\r\n          return 'number' == typeof t && t > -1 && t % 1 == 0 && t <= p\r\n        }\r\n        function f (t) {\r\n          var e = typeof t\r\n          return !!t && ('object' == e || 'function' == e)\r\n        }\r\n        function h (t) {\r\n          return !!t && 'object' == typeof t\r\n        }\r\n        var p = 9007199254740991,\r\n          d = '[object Arguments]',\r\n          g = '[object Function]',\r\n          v = '[object GeneratorFunction]',\r\n          b = 'object' == typeof e && e && e.Object === Object && e,\r\n          y = 'object' == typeof self && self && self.Object === Object && self,\r\n          m = b || y || Function('return this')(),\r\n          _ = Object.prototype,\r\n          w = _.hasOwnProperty,\r\n          x = _.toString,\r\n          S = m.Symbol,\r\n          j = _.propertyIsEnumerable,\r\n          k = S ? S.isConcatSpreadable : void 0,\r\n          E = Array.isArray\r\n        t.exports = o\r\n      }.call(e, r(0)))\r\n    },\r\n    function (t, e, r) {\r\n      function n (t, e, r, a) {\r\n        if ('string' == typeof e) {\r\n          var s = i(t)\r\n          'function' == typeof r && (r = r.call(t, a, s[e])),\r\n            '' === r ? delete s[e] : null != r && (s[e] = r),\r\n            (t.attribs.style = o(s))\r\n        } else\r\n          'object' == typeof e &&\r\n            Object.keys(e).forEach(function (r) {\r\n              n(t, r, e[r])\r\n            })\r\n      }\r\n      function i (t, e) {\r\n        var r = a(t.attribs.style)\r\n        return 'string' == typeof e ? r[e] : Array.isArray(e) ? u.pick(r, e) : r\r\n      }\r\n      function o (t) {\r\n        return Object.keys(t || {}).reduce(function (e, r) {\r\n          return (e += (e ? ' ' : '') + r + ': ' + t[r] + ';')\r\n        }, '')\r\n      }\r\n      function a (t) {\r\n        return (\r\n          (t = (t || '').trim()),\r\n          t\r\n            ? t.split(';').reduce(function (t, e) {\r\n                var r = e.indexOf(':')\r\n                return r < 1 || r === e.length - 1 ? t : ((t[e.slice(0, r).trim()] = e.slice(r + 1).trim()), t)\r\n              }, {})\r\n            : {}\r\n        )\r\n      }\r\n      var s = r(9).domEach,\r\n        u = { pick: r(104) },\r\n        c = Object.prototype.toString\r\n      e.css = function (t, e) {\r\n        return 2 === arguments.length || '[object Object]' === c.call(t)\r\n          ? s(this, function (r, i) {\r\n              n(i, t, e, r)\r\n            })\r\n          : i(this[0], t)\r\n      }\r\n    },\r\n    function (t, e, r) {\r\n      ;(function (e) {\r\n        function r (t, e, r) {\r\n          switch (r.length) {\r\n            case 0:\r\n              return t.call(e)\r\n            case 1:\r\n              return t.call(e, r[0])\r\n            case 2:\r\n              return t.call(e, r[0], r[1])\r\n            case 3:\r\n              return t.call(e, r[0], r[1], r[2])\r\n          }\r\n          return t.apply(e, r)\r\n        }\r\n        function n (t, e) {\r\n          for (var r = -1, n = t ? t.length : 0, i = Array(n); ++r < n; ) i[r] = e(t[r], r, t)\r\n          return i\r\n        }\r\n        function i (t, e) {\r\n          for (var r = -1, n = e.length, i = t.length; ++r < n; ) t[i + r] = e[r]\r\n          return t\r\n        }\r\n        function o (t, e, r, n, a) {\r\n          var s = -1,\r\n            c = t.length\r\n          for (r || (r = u), a || (a = []); ++s < c; ) {\r\n            var l = t[s]\r\n            e > 0 && r(l) ? (e > 1 ? o(l, e - 1, r, n, a) : i(a, l)) : n || (a[a.length] = l)\r\n          }\r\n          return a\r\n        }\r\n        function a (t, e) {\r\n          return (\r\n            (t = Object(t)),\r\n            s(t, e, function (e, r) {\r\n              return r in t\r\n            })\r\n          )\r\n        }\r\n        function s (t, e, r) {\r\n          for (var n = -1, i = e.length, o = {}; ++n < i; ) {\r\n            var a = e[n],\r\n              s = t[a]\r\n            r(s, a) && (o[a] = s)\r\n          }\r\n          return o\r\n        }\r\n        function u (t) {\r\n          return q(t) || l(t) || !!(B && t && t[B])\r\n        }\r\n        function c (t) {\r\n          if ('string' == typeof t || b(t)) return t\r\n          var e = t + ''\r\n          return '0' == e && 1 / t == -y ? '-0' : e\r\n        }\r\n        function l (t) {\r\n          return h(t) && T.call(t, 'callee') && (!C.call(t, 'callee') || O.call(t) == _)\r\n        }\r\n        function f (t) {\r\n          return null != t && d(t.length) && !p(t)\r\n        }\r\n        function h (t) {\r\n          return v(t) && f(t)\r\n        }\r\n        function p (t) {\r\n          var e = g(t) ? O.call(t) : ''\r\n          return e == w || e == x\r\n        }\r\n        function d (t) {\r\n          return 'number' == typeof t && t > -1 && t % 1 == 0 && t <= m\r\n        }\r\n        function g (t) {\r\n          var e = typeof t\r\n          return !!t && ('object' == e || 'function' == e)\r\n        }\r\n        function v (t) {\r\n          return !!t && 'object' == typeof t\r\n        }\r\n        function b (t) {\r\n          return 'symbol' == typeof t || (v(t) && O.call(t) == S)\r\n        }\r\n        var y = 1 / 0,\r\n          m = 9007199254740991,\r\n          _ = '[object Arguments]',\r\n          w = '[object Function]',\r\n          x = '[object GeneratorFunction]',\r\n          S = '[object Symbol]',\r\n          j = 'object' == typeof e && e && e.Object === Object && e,\r\n          k = 'object' == typeof self && self && self.Object === Object && self,\r\n          E = j || k || Function('return this')(),\r\n          A = Object.prototype,\r\n          T = A.hasOwnProperty,\r\n          O = A.toString,\r\n          L = E.Symbol,\r\n          C = A.propertyIsEnumerable,\r\n          B = L ? L.isConcatSpreadable : void 0,\r\n          D = Math.max,\r\n          q = Array.isArray,\r\n          P = (function (t, e) {\r\n            return (\r\n              (e = D(void 0 === e ? t.length - 1 : e, 0)),\r\n              function () {\r\n                for (var n = arguments, i = -1, o = D(n.length - e, 0), a = Array(o); ++i < o; ) a[i] = n[e + i]\r\n                i = -1\r\n                for (var s = Array(e + 1); ++i < e; ) s[i] = n[i]\r\n                return (s[e] = a), r(t, this, s)\r\n              }\r\n            )\r\n          })(function (t, e) {\r\n            return null == t ? {} : a(t, n(o(e, 1), c))\r\n          })\r\n        t.exports = P\r\n      }.call(e, r(0)))\r\n    },\r\n    function (t, e, r) {\r\n      var n = /%20/g,\r\n        i = /\\r?\\n/g,\r\n        o = { map: r(106) }\r\n      ;(e.serialize = function () {\r\n        var t = this.serializeArray()\r\n        return o\r\n          .map(t, function (t) {\r\n            return encodeURIComponent(t.name) + '=' + encodeURIComponent(t.value)\r\n          })\r\n          .join('&')\r\n          .replace(n, '+')\r\n      }),\r\n        (e.serializeArray = function () {\r\n          var t = this.constructor\r\n          return this.map(function () {\r\n            var e = this,\r\n              r = t(e)\r\n            return 'form' === e.name\r\n              ? r.find('input,select,textarea,keygen').toArray()\r\n              : r.filter('input,select,textarea,keygen').toArray()\r\n          })\r\n            .filter(\r\n              '[name!=\"\"]:not(:disabled):not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))'\r\n            )\r\n            .map(function (e, r) {\r\n              var n = t(r),\r\n                a = n.attr('name'),\r\n                s = n.val()\r\n              return null == s\r\n                ? null\r\n                : Array.isArray(s)\r\n                ? o.map(s, function (t) {\r\n                    return { name: a, value: t.replace(i, '\\r\\n') }\r\n                  })\r\n                : { name: a, value: s.replace(i, '\\r\\n') }\r\n            })\r\n            .get()\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      ;(function (t, r) {\r\n        function n (t, e) {\r\n          for (var r = -1, n = t ? t.length : 0, i = Array(n); ++r < n; ) i[r] = e(t[r], r, t)\r\n          return i\r\n        }\r\n        function i (t, e) {\r\n          for (var r = -1, n = t ? t.length : 0; ++r < n; ) if (e(t[r], r, t)) return !0\r\n          return !1\r\n        }\r\n        function o (t) {\r\n          return function (e) {\r\n            return null == e ? void 0 : e[t]\r\n          }\r\n        }\r\n        function a (t, e) {\r\n          for (var r = -1, n = Array(t); ++r < t; ) n[r] = e(r)\r\n          return n\r\n        }\r\n        function s (t, e) {\r\n          return null == t ? void 0 : t[e]\r\n        }\r\n        function u (t) {\r\n          var e = !1\r\n          if (null != t && 'function' != typeof t.toString)\r\n            try {\r\n              e = !!(t + '')\r\n            } catch (t) {}\r\n          return e\r\n        }\r\n        function c (t) {\r\n          var e = -1,\r\n            r = Array(t.size)\r\n          return (\r\n            t.forEach(function (t, n) {\r\n              r[++e] = [n, t]\r\n            }),\r\n            r\r\n          )\r\n        }\r\n        function l (t) {\r\n          var e = -1,\r\n            r = Array(t.size)\r\n          return (\r\n            t.forEach(function (t) {\r\n              r[++e] = t\r\n            }),\r\n            r\r\n          )\r\n        }\r\n        function f (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function h () {\r\n          this.__data__ = ze ? ze(null) : {}\r\n        }\r\n        function p (t) {\r\n          return this.has(t) && delete this.__data__[t]\r\n        }\r\n        function d (t) {\r\n          var e = this.__data__\r\n          if (ze) {\r\n            var r = e[t]\r\n            return r === It ? void 0 : r\r\n          }\r\n          return Oe.call(e, t) ? e[t] : void 0\r\n        }\r\n        function g (t) {\r\n          var e = this.__data__\r\n          return ze ? void 0 !== e[t] : Oe.call(e, t)\r\n        }\r\n        function v (t, e) {\r\n          return (this.__data__[t] = ze && void 0 === e ? It : e), this\r\n        }\r\n        function b (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function y () {\r\n          this.__data__ = []\r\n        }\r\n        function m (t) {\r\n          var e = this.__data__,\r\n            r = N(e, t)\r\n          return !(r < 0) && (r == e.length - 1 ? e.pop() : Pe.call(e, r, 1), !0)\r\n        }\r\n        function _ (t) {\r\n          var e = this.__data__,\r\n            r = N(e, t)\r\n          return r < 0 ? void 0 : e[r][1]\r\n        }\r\n        function w (t) {\r\n          return N(this.__data__, t) > -1\r\n        }\r\n        function x (t, e) {\r\n          var r = this.__data__,\r\n            n = N(r, t)\r\n          return n < 0 ? r.push([t, e]) : (r[n][1] = e), this\r\n        }\r\n        function S (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.clear(); ++e < r; ) {\r\n            var n = t[e]\r\n            this.set(n[0], n[1])\r\n          }\r\n        }\r\n        function j () {\r\n          this.__data__ = { hash: new f(), map: new (Ie || b)(), string: new f() }\r\n        }\r\n        function k (t) {\r\n          return at(this, t).delete(t)\r\n        }\r\n        function E (t) {\r\n          return at(this, t).get(t)\r\n        }\r\n        function A (t) {\r\n          return at(this, t).has(t)\r\n        }\r\n        function T (t, e) {\r\n          return at(this, t).set(t, e), this\r\n        }\r\n        function O (t) {\r\n          var e = -1,\r\n            r = t ? t.length : 0\r\n          for (this.__data__ = new S(); ++e < r; ) this.add(t[e])\r\n        }\r\n        function L (t) {\r\n          return this.__data__.set(t, It), this\r\n        }\r\n        function C (t) {\r\n          return this.__data__.has(t)\r\n        }\r\n        function B (t) {\r\n          this.__data__ = new b(t)\r\n        }\r\n        function D () {\r\n          this.__data__ = new b()\r\n        }\r\n        function q (t) {\r\n          return this.__data__.delete(t)\r\n        }\r\n        function P (t) {\r\n          return this.__data__.get(t)\r\n        }\r\n        function M (t) {\r\n          return this.__data__.has(t)\r\n        }\r\n        function R (t, e) {\r\n          var r = this.__data__\r\n          if (r instanceof b) {\r\n            var n = r.__data__\r\n            if (!Ie || n.length < Mt - 1) return n.push([t, e]), this\r\n            r = this.__data__ = new S(n)\r\n          }\r\n          return r.set(t, e), this\r\n        }\r\n        function I (t, e) {\r\n          var r = er(t) || xt(t) ? a(t.length, String) : [],\r\n            n = r.length,\r\n            i = !!n\r\n          for (var o in t) (!e && !Oe.call(t, o)) || (i && ('length' == o || lt(o, n))) || r.push(o)\r\n          return r\r\n        }\r\n        function N (t, e) {\r\n          for (var r = t.length; r--; ) if (wt(t[r][0], e)) return r\r\n          return -1\r\n        }\r\n        function U (t, e) {\r\n          return t && Ze(t, e, Dt)\r\n        }\r\n        function F (t, e) {\r\n          e = ft(e, t) ? [e] : rt(e)\r\n          for (var r = 0, n = e.length; null != t && r < n; ) t = t[bt(e[r++])]\r\n          return r && r == n ? t : void 0\r\n        }\r\n        function z (t) {\r\n          return Le.call(t)\r\n        }\r\n        function V (t, e) {\r\n          return null != t && e in Object(t)\r\n        }\r\n        function $ (t, e, r, n, i) {\r\n          return t === e || (null == t || null == e || (!At(t) && !Tt(e)) ? t !== t && e !== e : H(t, e, $, r, n, i))\r\n        }\r\n        function H (t, e, r, n, i, o) {\r\n          var a = er(t),\r\n            s = er(e),\r\n            c = $t,\r\n            l = $t\r\n          a || ((c = Ke(t)), (c = c == Vt ? Zt : c)), s || ((l = Ke(e)), (l = l == Vt ? Zt : l))\r\n          var f = c == Zt && !u(t),\r\n            h = l == Zt && !u(e),\r\n            p = c == l\r\n          if (p && !f) return o || (o = new B()), a || rr(t) ? nt(t, e, r, n, i, o) : it(t, e, c, r, n, i, o)\r\n          if (!(i & Ut)) {\r\n            var d = f && Oe.call(t, '__wrapped__'),\r\n              g = h && Oe.call(e, '__wrapped__')\r\n            if (d || g) {\r\n              var v = d ? t.value() : t,\r\n                b = g ? e.value() : e\r\n              return o || (o = new B()), r(v, b, n, i, o)\r\n            }\r\n          }\r\n          return !!p && (o || (o = new B()), ot(t, e, r, n, i, o))\r\n        }\r\n        function W (t, e, r, n) {\r\n          var i = r.length,\r\n            o = i,\r\n            a = !n\r\n          if (null == t) return !o\r\n          for (t = Object(t); i--; ) {\r\n            var s = r[i]\r\n            if (a && s[2] ? s[1] !== t[s[0]] : !(s[0] in t)) return !1\r\n          }\r\n          for (; ++i < o; ) {\r\n            s = r[i]\r\n            var u = s[0],\r\n              c = t[u],\r\n              l = s[1]\r\n            if (a && s[2]) {\r\n              if (void 0 === c && !(u in t)) return !1\r\n            } else {\r\n              var f = new B()\r\n              if (n) var h = n(c, l, u, t, e, f)\r\n              if (!(void 0 === h ? $(l, c, n, Nt | Ut, f) : h)) return !1\r\n            }\r\n          }\r\n          return !0\r\n        }\r\n        function G (t) {\r\n          return !(!At(t) || pt(t)) && (kt(t) || u(t) ? Ce : fe).test(yt(t))\r\n        }\r\n        function Y (t) {\r\n          return Tt(t) && Et(t.length) && !!pe[Le.call(t)]\r\n        }\r\n        function J (t) {\r\n          return 'function' == typeof t\r\n            ? t\r\n            : null == t\r\n            ? qt\r\n            : 'object' == typeof t\r\n            ? er(t)\r\n              ? K(t[0], t[1])\r\n              : Z(t)\r\n            : Pt(t)\r\n        }\r\n        function Q (t) {\r\n          if (!dt(t)) return Me(t)\r\n          var e = []\r\n          for (var r in Object(t)) Oe.call(t, r) && 'constructor' != r && e.push(r)\r\n          return e\r\n        }\r\n        function X (t, e) {\r\n          var r = -1,\r\n            n = St(t) ? Array(t.length) : []\r\n          return (\r\n            Xe(t, function (t, i, o) {\r\n              n[++r] = e(t, i, o)\r\n            }),\r\n            n\r\n          )\r\n        }\r\n        function Z (t) {\r\n          var e = st(t)\r\n          return 1 == e.length && e[0][2]\r\n            ? vt(e[0][0], e[0][1])\r\n            : function (r) {\r\n                return r === t || W(r, t, e)\r\n              }\r\n        }\r\n        function K (t, e) {\r\n          return ft(t) && gt(e)\r\n            ? vt(bt(t), e)\r\n            : function (r) {\r\n                var n = Ct(r, t)\r\n                return void 0 === n && n === e ? Bt(r, t) : $(e, n, void 0, Nt | Ut)\r\n              }\r\n        }\r\n        function tt (t) {\r\n          return function (e) {\r\n            return F(e, t)\r\n          }\r\n        }\r\n        function et (t) {\r\n          if ('string' == typeof t) return t\r\n          if (Ot(t)) return Qe ? Qe.call(t) : ''\r\n          var e = t + ''\r\n          return '0' == e && 1 / t == -Ft ? '-0' : e\r\n        }\r\n        function rt (t) {\r\n          return er(t) ? t : tr(t)\r\n        }\r\n        function nt (t, e, r, n, o, a) {\r\n          var s = o & Ut,\r\n            u = t.length,\r\n            c = e.length\r\n          if (u != c && !(s && c > u)) return !1\r\n          var l = a.get(t)\r\n          if (l && a.get(e)) return l == e\r\n          var f = -1,\r\n            h = !0,\r\n            p = o & Nt ? new O() : void 0\r\n          for (a.set(t, e), a.set(e, t); ++f < u; ) {\r\n            var d = t[f],\r\n              g = e[f]\r\n            if (n) var v = s ? n(g, d, f, e, t, a) : n(d, g, f, t, e, a)\r\n            if (void 0 !== v) {\r\n              if (v) continue\r\n              h = !1\r\n              break\r\n            }\r\n            if (p) {\r\n              if (\r\n                !i(e, function (t, e) {\r\n                  if (!p.has(e) && (d === t || r(d, t, n, o, a))) return p.add(e)\r\n                })\r\n              ) {\r\n                h = !1\r\n                break\r\n              }\r\n            } else if (d !== g && !r(d, g, n, o, a)) {\r\n              h = !1\r\n              break\r\n            }\r\n          }\r\n          return a.delete(t), a.delete(e), h\r\n        }\r\n        function it (t, e, r, n, i, o, a) {\r\n          switch (r) {\r\n            case ie:\r\n              if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) return !1\r\n              ;(t = t.buffer), (e = e.buffer)\r\n            case ne:\r\n              return !(t.byteLength != e.byteLength || !n(new De(t), new De(e)))\r\n            case Ht:\r\n            case Wt:\r\n            case Xt:\r\n              return wt(+t, +e)\r\n            case Gt:\r\n              return t.name == e.name && t.message == e.message\r\n            case Kt:\r\n            case ee:\r\n              return t == e + ''\r\n            case Qt:\r\n              var s = c\r\n            case te:\r\n              var u = o & Ut\r\n              if ((s || (s = l), t.size != e.size && !u)) return !1\r\n              var f = a.get(t)\r\n              if (f) return f == e\r\n              ;(o |= Nt), a.set(t, e)\r\n              var h = nt(s(t), s(e), n, i, o, a)\r\n              return a.delete(t), h\r\n            case re:\r\n              if (Je) return Je.call(t) == Je.call(e)\r\n          }\r\n          return !1\r\n        }\r\n        function ot (t, e, r, n, i, o) {\r\n          var a = i & Ut,\r\n            s = Dt(t),\r\n            u = s.length\r\n          if (u != Dt(e).length && !a) return !1\r\n          for (var c = u; c--; ) {\r\n            var l = s[c]\r\n            if (!(a ? l in e : Oe.call(e, l))) return !1\r\n          }\r\n          var f = o.get(t)\r\n          if (f && o.get(e)) return f == e\r\n          var h = !0\r\n          o.set(t, e), o.set(e, t)\r\n          for (var p = a; ++c < u; ) {\r\n            l = s[c]\r\n            var d = t[l],\r\n              g = e[l]\r\n            if (n) var v = a ? n(g, d, l, e, t, o) : n(d, g, l, t, e, o)\r\n            if (!(void 0 === v ? d === g || r(d, g, n, i, o) : v)) {\r\n              h = !1\r\n              break\r\n            }\r\n            p || (p = 'constructor' == l)\r\n          }\r\n          if (h && !p) {\r\n            var b = t.constructor,\r\n              y = e.constructor\r\n            b != y &&\r\n              'constructor' in t &&\r\n              'constructor' in e &&\r\n              !('function' == typeof b && b instanceof b && 'function' == typeof y && y instanceof y) &&\r\n              (h = !1)\r\n          }\r\n          return o.delete(t), o.delete(e), h\r\n        }\r\n        function at (t, e) {\r\n          var r = t.__data__\r\n          return ht(e) ? r['string' == typeof e ? 'string' : 'hash'] : r.map\r\n        }\r\n        function st (t) {\r\n          for (var e = Dt(t), r = e.length; r--; ) {\r\n            var n = e[r],\r\n              i = t[n]\r\n            e[r] = [n, i, gt(i)]\r\n          }\r\n          return e\r\n        }\r\n        function ut (t, e) {\r\n          var r = s(t, e)\r\n          return G(r) ? r : void 0\r\n        }\r\n        function ct (t, e, r) {\r\n          e = ft(e, t) ? [e] : rt(e)\r\n          for (var n, i = -1, o = e.length; ++i < o; ) {\r\n            var a = bt(e[i])\r\n            if (!(n = null != t && r(t, a))) break\r\n            t = t[a]\r\n          }\r\n          if (n) return n\r\n          var o = t ? t.length : 0\r\n          return !!o && Et(o) && lt(a, o) && (er(t) || xt(t))\r\n        }\r\n        function lt (t, e) {\r\n          return !!(e = null == e ? zt : e) && ('number' == typeof t || he.test(t)) && t > -1 && t % 1 == 0 && t < e\r\n        }\r\n        function ft (t, e) {\r\n          if (er(t)) return !1\r\n          var r = typeof t\r\n          return (\r\n            !('number' != r && 'symbol' != r && 'boolean' != r && null != t && !Ot(t)) ||\r\n            (ae.test(t) || !oe.test(t) || (null != e && t in Object(e)))\r\n          )\r\n        }\r\n        function ht (t) {\r\n          var e = typeof t\r\n          return 'string' == e || 'number' == e || 'symbol' == e || 'boolean' == e ? '__proto__' !== t : null === t\r\n        }\r\n        function pt (t) {\r\n          return !!Ae && Ae in t\r\n        }\r\n        function dt (t) {\r\n          var e = t && t.constructor\r\n          return t === (('function' == typeof e && e.prototype) || ke)\r\n        }\r\n        function gt (t) {\r\n          return t === t && !At(t)\r\n        }\r\n        function vt (t, e) {\r\n          return function (r) {\r\n            return null != r && (r[t] === e && (void 0 !== e || t in Object(r)))\r\n          }\r\n        }\r\n        function bt (t) {\r\n          if ('string' == typeof t || Ot(t)) return t\r\n          var e = t + ''\r\n          return '0' == e && 1 / t == -Ft ? '-0' : e\r\n        }\r\n        function yt (t) {\r\n          if (null != t) {\r\n            try {\r\n              return Te.call(t)\r\n            } catch (t) {}\r\n            try {\r\n              return t + ''\r\n            } catch (t) {}\r\n          }\r\n          return ''\r\n        }\r\n        function mt (t, e) {\r\n          return (er(t) ? n : X)(t, J(e, 3))\r\n        }\r\n        function _t (t, e) {\r\n          if ('function' != typeof t || (e && 'function' != typeof e)) throw new TypeError(Rt)\r\n          var r = function () {\r\n            var n = arguments,\r\n              i = e ? e.apply(this, n) : n[0],\r\n              o = r.cache\r\n            if (o.has(i)) return o.get(i)\r\n            var a = t.apply(this, n)\r\n            return (r.cache = o.set(i, a)), a\r\n          }\r\n          return (r.cache = new (_t.Cache || S)()), r\r\n        }\r\n        function wt (t, e) {\r\n          return t === e || (t !== t && e !== e)\r\n        }\r\n        function xt (t) {\r\n          return jt(t) && Oe.call(t, 'callee') && (!qe.call(t, 'callee') || Le.call(t) == Vt)\r\n        }\r\n        function St (t) {\r\n          return null != t && Et(t.length) && !kt(t)\r\n        }\r\n        function jt (t) {\r\n          return Tt(t) && St(t)\r\n        }\r\n        function kt (t) {\r\n          var e = At(t) ? Le.call(t) : ''\r\n          return e == Yt || e == Jt\r\n        }\r\n        function Et (t) {\r\n          return 'number' == typeof t && t > -1 && t % 1 == 0 && t <= zt\r\n        }\r\n        function At (t) {\r\n          var e = typeof t\r\n          return !!t && ('object' == e || 'function' == e)\r\n        }\r\n        function Tt (t) {\r\n          return !!t && 'object' == typeof t\r\n        }\r\n        function Ot (t) {\r\n          return 'symbol' == typeof t || (Tt(t) && Le.call(t) == re)\r\n        }\r\n        function Lt (t) {\r\n          return null == t ? '' : et(t)\r\n        }\r\n        function Ct (t, e, r) {\r\n          var n = null == t ? void 0 : F(t, e)\r\n          return void 0 === n ? r : n\r\n        }\r\n        function Bt (t, e) {\r\n          return null != t && ct(t, e, V)\r\n        }\r\n        function Dt (t) {\r\n          return St(t) ? I(t) : Q(t)\r\n        }\r\n        function qt (t) {\r\n          return t\r\n        }\r\n        function Pt (t) {\r\n          return ft(t) ? o(bt(t)) : tt(t)\r\n        }\r\n        var Mt = 200,\r\n          Rt = 'Expected a function',\r\n          It = '__lodash_hash_undefined__',\r\n          Nt = 1,\r\n          Ut = 2,\r\n          Ft = 1 / 0,\r\n          zt = 9007199254740991,\r\n          Vt = '[object Arguments]',\r\n          $t = '[object Array]',\r\n          Ht = '[object Boolean]',\r\n          Wt = '[object Date]',\r\n          Gt = '[object Error]',\r\n          Yt = '[object Function]',\r\n          Jt = '[object GeneratorFunction]',\r\n          Qt = '[object Map]',\r\n          Xt = '[object Number]',\r\n          Zt = '[object Object]',\r\n          Kt = '[object RegExp]',\r\n          te = '[object Set]',\r\n          ee = '[object String]',\r\n          re = '[object Symbol]',\r\n          ne = '[object ArrayBuffer]',\r\n          ie = '[object DataView]',\r\n          oe = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\r\n          ae = /^\\w*$/,\r\n          se = /^\\./,\r\n          ue = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,\r\n          ce = /[\\\\^$.*+?()[\\]{}|]/g,\r\n          le = /\\\\(\\\\)?/g,\r\n          fe = /^\\[object .+?Constructor\\]$/,\r\n          he = /^(?:0|[1-9]\\d*)$/,\r\n          pe = {}\r\n        ;(pe['[object Float32Array]'] = pe['[object Float64Array]'] = pe['[object Int8Array]'] = pe[\r\n          '[object Int16Array]'\r\n        ] = pe['[object Int32Array]'] = pe['[object Uint8Array]'] = pe['[object Uint8ClampedArray]'] = pe[\r\n          '[object Uint16Array]'\r\n        ] = pe['[object Uint32Array]'] = !0),\r\n          (pe[Vt] = pe[$t] = pe[ne] = pe[Ht] = pe[ie] = pe[Wt] = pe[Gt] = pe[Yt] = pe[Qt] = pe[Xt] = pe[Zt] = pe[\r\n            Kt\r\n          ] = pe[te] = pe[ee] = pe['[object WeakMap]'] = !1)\r\n        var de = 'object' == typeof t && t && t.Object === Object && t,\r\n          ge = 'object' == typeof self && self && self.Object === Object && self,\r\n          ve = de || ge || Function('return this')(),\r\n          be = 'object' == typeof e && e && !e.nodeType && e,\r\n          ye = be && 'object' == typeof r && r && !r.nodeType && r,\r\n          me = ye && ye.exports === be,\r\n          _e = me && de.process,\r\n          we = (function () {\r\n            try {\r\n              return _e && _e.binding('util')\r\n            } catch (t) {}\r\n          })(),\r\n          xe = we && we.isTypedArray,\r\n          Se = Array.prototype,\r\n          je = Function.prototype,\r\n          ke = Object.prototype,\r\n          Ee = ve['__core-js_shared__'],\r\n          Ae = (function () {\r\n            var t = /[^.]+$/.exec((Ee && Ee.keys && Ee.keys.IE_PROTO) || '')\r\n            return t ? 'Symbol(src)_1.' + t : ''\r\n          })(),\r\n          Te = je.toString,\r\n          Oe = ke.hasOwnProperty,\r\n          Le = ke.toString,\r\n          Ce = RegExp(\r\n            '^' +\r\n              Te.call(Oe)\r\n                .replace(ce, '\\\\$&')\r\n                .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') +\r\n              '$'\r\n          ),\r\n          Be = ve.Symbol,\r\n          De = ve.Uint8Array,\r\n          qe = ke.propertyIsEnumerable,\r\n          Pe = Se.splice,\r\n          Me = (function (t, e) {\r\n            return function (r) {\r\n              return t(e(r))\r\n            }\r\n          })(Object.keys, Object),\r\n          Re = ut(ve, 'DataView'),\r\n          Ie = ut(ve, 'Map'),\r\n          Ne = ut(ve, 'Promise'),\r\n          Ue = ut(ve, 'Set'),\r\n          Fe = ut(ve, 'WeakMap'),\r\n          ze = ut(Object, 'create'),\r\n          Ve = yt(Re),\r\n          $e = yt(Ie),\r\n          He = yt(Ne),\r\n          We = yt(Ue),\r\n          Ge = yt(Fe),\r\n          Ye = Be ? Be.prototype : void 0,\r\n          Je = Ye ? Ye.valueOf : void 0,\r\n          Qe = Ye ? Ye.toString : void 0\r\n        ;(f.prototype.clear = h),\r\n          (f.prototype.delete = p),\r\n          (f.prototype.get = d),\r\n          (f.prototype.has = g),\r\n          (f.prototype.set = v),\r\n          (b.prototype.clear = y),\r\n          (b.prototype.delete = m),\r\n          (b.prototype.get = _),\r\n          (b.prototype.has = w),\r\n          (b.prototype.set = x),\r\n          (S.prototype.clear = j),\r\n          (S.prototype.delete = k),\r\n          (S.prototype.get = E),\r\n          (S.prototype.has = A),\r\n          (S.prototype.set = T),\r\n          (O.prototype.add = O.prototype.push = L),\r\n          (O.prototype.has = C),\r\n          (B.prototype.clear = D),\r\n          (B.prototype.delete = q),\r\n          (B.prototype.get = P),\r\n          (B.prototype.has = M),\r\n          (B.prototype.set = R)\r\n        var Xe = (function (t, e) {\r\n            return function (r, n) {\r\n              if (null == r) return r\r\n              if (!St(r)) return t(r, n)\r\n              for (var i = r.length, o = e ? i : -1, a = Object(r); (e ? o-- : ++o < i) && !1 !== n(a[o], o, a); );\r\n              return r\r\n            }\r\n          })(U),\r\n          Ze = (function (t) {\r\n            return function (e, r, n) {\r\n              for (var i = -1, o = Object(e), a = n(e), s = a.length; s--; ) {\r\n                var u = a[t ? s : ++i]\r\n                if (!1 === r(o[u], u, o)) break\r\n              }\r\n              return e\r\n            }\r\n          })(),\r\n          Ke = z\r\n        ;((Re && Ke(new Re(new ArrayBuffer(1))) != ie) ||\r\n          (Ie && Ke(new Ie()) != Qt) ||\r\n          (Ne && '[object Promise]' != Ke(Ne.resolve())) ||\r\n          (Ue && Ke(new Ue()) != te) ||\r\n          (Fe && '[object WeakMap]' != Ke(new Fe()))) &&\r\n          (Ke = function (t) {\r\n            var e = Le.call(t),\r\n              r = e == Zt ? t.constructor : void 0,\r\n              n = r ? yt(r) : void 0\r\n            if (n)\r\n              switch (n) {\r\n                case Ve:\r\n                  return ie\r\n                case $e:\r\n                  return Qt\r\n                case He:\r\n                  return '[object Promise]'\r\n                case We:\r\n                  return te\r\n                case Ge:\r\n                  return '[object WeakMap]'\r\n              }\r\n            return e\r\n          })\r\n        var tr = _t(function (t) {\r\n          t = Lt(t)\r\n          var e = []\r\n          return (\r\n            se.test(t) && e.push(''),\r\n            t.replace(ue, function (t, r, n, i) {\r\n              e.push(n ? i.replace(le, '$1') : r || t)\r\n            }),\r\n            e\r\n          )\r\n        })\r\n        _t.Cache = S\r\n        var er = Array.isArray,\r\n          rr = xe\r\n            ? (function (t) {\r\n                return function (e) {\r\n                  return t(e)\r\n                }\r\n              })(xe)\r\n            : Y\r\n        r.exports = mt\r\n      }.call(e, r(0), r(5)(t)))\r\n    },\r\n    function (t, e) {\r\n      t.exports = {\r\n        _from: 'cheerio@0.22.0',\r\n        _id: 'cheerio@0.22.0',\r\n        _inBundle: !1,\r\n        _integrity: 'sha1-qbqoYKP5tZWmuBsahocxIe06Jp4=',\r\n        _location: '/cheerio',\r\n        _phantomChildren: {},\r\n        _requested: {\r\n          type: 'version',\r\n          registry: !0,\r\n          raw: 'cheerio@0.22.0',\r\n          name: 'cheerio',\r\n          escapedName: 'cheerio',\r\n          rawSpec: '0.22.0',\r\n          saveSpec: null,\r\n          fetchSpec: '0.22.0'\r\n        },\r\n        _requiredBy: ['/juice'],\r\n        _resolved: 'https://registry.npmjs.org/cheerio/-/cheerio-0.22.0.tgz',\r\n        _shasum: 'a9baa860a3f9b595a6b81b1a86873121ed3a269e',\r\n        _spec: 'cheerio@0.22.0',\r\n        _where: '/Users/artur/Sites/grapesjs-plugins/grapesjs-preset-newsletter/node_modules/juice',\r\n        author: { name: 'Matt Mueller', email: 'mattmuelle@gmail.com', url: 'mat.io' },\r\n        bugs: { url: 'https://github.com/cheeriojs/cheerio/issues' },\r\n        bundleDependencies: !1,\r\n        dependencies: {\r\n          'css-select': '~1.2.0',\r\n          'dom-serializer': '~0.1.0',\r\n          entities: '~1.1.1',\r\n          htmlparser2: '^3.9.1',\r\n          'lodash.assignin': '^4.0.9',\r\n          'lodash.bind': '^4.1.4',\r\n          'lodash.defaults': '^4.0.1',\r\n          'lodash.filter': '^4.4.0',\r\n          'lodash.flatten': '^4.2.0',\r\n          'lodash.foreach': '^4.3.0',\r\n          'lodash.map': '^4.4.0',\r\n          'lodash.merge': '^4.4.0',\r\n          'lodash.pick': '^4.2.1',\r\n          'lodash.reduce': '^4.4.0',\r\n          'lodash.reject': '^4.4.0',\r\n          'lodash.some': '^4.4.0'\r\n        },\r\n        deprecated: !1,\r\n        description: 'Tiny, fast, and elegant implementation of core jQuery designed specifically for the server',\r\n        devDependencies: {\r\n          benchmark: '^2.1.0',\r\n          coveralls: '^2.11.9',\r\n          'expect.js': '~0.3.1',\r\n          istanbul: '^0.4.3',\r\n          jquery: '^3.0.0',\r\n          jsdom: '^9.2.1',\r\n          jshint: '^2.9.2',\r\n          mocha: '^2.5.3',\r\n          xyz: '~0.5.0'\r\n        },\r\n        engines: { node: '>= 0.6' },\r\n        files: ['index.js', 'lib'],\r\n        homepage: 'https://github.com/cheeriojs/cheerio#readme',\r\n        keywords: ['htmlparser', 'jquery', 'selector', 'scraper', 'parser', 'html'],\r\n        license: 'MIT',\r\n        main: './index.js',\r\n        name: 'cheerio',\r\n        repository: { type: 'git', url: 'git://github.com/cheeriojs/cheerio.git' },\r\n        scripts: { test: 'make test' },\r\n        version: '0.22.0'\r\n      }\r\n    },\r\n    function (t, e, r) {\r\n      t.exports = { lex: r(45), parse: r(109), stringify: r(110) }\r\n    },\r\n    function (t, e, r) {\r\n      function n (t, e) {\r\n        var r\r\n        e || (e = {}), (w = !!e.comments), (S = !!e.position), (x = 0), (j = Array.isArray(t) ? t.slice() : _(t))\r\n        var n,\r\n          i,\r\n          a = []\r\n        for (y && (r = Date.now()); (i = o()); ) (n = p(i)) && a.push(n)\r\n        return y && m('ran in', Date.now() - r + 'ms'), { type: 'stylesheet', stylesheet: { rules: a } }\r\n      }\r\n      function i (t, e) {\r\n        e || (e = {})\r\n        for (var r, n = ['type', 'name', 'value'], i = {}, o = 0; o < n.length; ++o)\r\n          (r = n[o]), t[r] && (i[r] = e[r] || t[r])\r\n        for (n = Object.keys(e), o = 0; o < n.length; ++o) (r = n[o]), i[r] || (i[r] = e[r])\r\n        return S && (i.position = { start: t.start, end: t.end }), b && m('astNode:', JSON.stringify(i, null, 2)), i\r\n      }\r\n      function o () {\r\n        var t = j.shift()\r\n        return b && m('next:', JSON.stringify(t, null, 2)), t\r\n      }\r\n      function a (t) {\r\n        x += 1\r\n        var e = {}\r\n        switch (t.type) {\r\n          case 'font-face':\r\n          case 'viewport':\r\n            e.declarations = g()\r\n            break\r\n          case 'page':\r\n            ;(e.prefix = t.prefix), (e.declarations = g())\r\n            break\r\n          default:\r\n            ;(e.prefix = t.prefix), (e.rules = v())\r\n        }\r\n        return i(t, e)\r\n      }\r\n      function s (t) {\r\n        return i(t)\r\n      }\r\n      function u (t) {\r\n        return i(t)\r\n      }\r\n      function c (t) {\r\n        return i(t, { text: t.text })\r\n      }\r\n      function l (t) {\r\n        return i(t)\r\n      }\r\n      function f (t) {\r\n        return i(t)\r\n      }\r\n      function h (t) {\r\n        function e (t) {\r\n          return t.trim()\r\n        }\r\n        return i(t, { type: 'rule', selectors: t.text.split(',').map(e), declarations: g() })\r\n      }\r\n      function p (t) {\r\n        switch (t.type) {\r\n          case 'property':\r\n            return f(t)\r\n          case 'selector':\r\n            return h(t)\r\n          case 'at-group-end':\r\n            return void (x -= 1)\r\n          case 'media':\r\n          case 'keyframes':\r\n            return a(t)\r\n          case 'comment':\r\n            if (w) return c(t)\r\n            break\r\n          case 'charset':\r\n            return u(t)\r\n          case 'import':\r\n            return s(t)\r\n          case 'namespace':\r\n            return l(t)\r\n          case 'font-face':\r\n          case 'supports':\r\n          case 'viewport':\r\n          case 'document':\r\n          case 'page':\r\n            return a(t)\r\n        }\r\n        b && m('parseToken: unexpected token:', JSON.stringify(t))\r\n      }\r\n      function d (t) {\r\n        for (var e, r, n = []; (r = o()) && t && t(r); ) (e = p(r)) && n.push(e)\r\n        return r && 'end' !== r.type && j.unshift(r), n\r\n      }\r\n      function g () {\r\n        return d(function (t) {\r\n          return 'property' === t.type || 'comment' === t.type\r\n        })\r\n      }\r\n      function v () {\r\n        return d(function () {\r\n          return x\r\n        })\r\n      }\r\n      var b = !1,\r\n        y = !1,\r\n        m = r(28)('parse'),\r\n        _ = r(45)\r\n      t.exports = n\r\n      var w, x, S, j\r\n    },\r\n    function (t, e, r) {\r\n      function n (t, e) {\r\n        var r\r\n        e || (e = {}),\r\n          (b = e.indentation || ''),\r\n          (v = !!e.compress),\r\n          (g = !!e.comments),\r\n          v ? (y = m = '') : ((y = '\\n'), (m = ' ')),\r\n          w && (r = Date.now())\r\n        var n = c(t.stylesheet.rules, p)\r\n          .join('\\n')\r\n          .trim()\r\n        return w && x('ran in', Date.now() - r + 'ms'), n\r\n      }\r\n      function i (t) {\r\n        return this.level || (this.level = 1), t ? void (this.level += t) : v ? '' : Array(this.level).join(b || '')\r\n      }\r\n      function o (t) {\r\n        return '@' + t.type + ' ' + t.value + ';' + y\r\n      }\r\n      function a (t) {\r\n        var e = '',\r\n          r = t.prefix || ''\r\n        t.name && (e = ' ' + t.name)\r\n        var n = 'page' !== t.type\r\n        return '@' + r + t.type + e + m + l(t, n) + y\r\n      }\r\n      function s (t) {\r\n        return g ? '/*' + (t.text || '') + '*/' + y : ''\r\n      }\r\n      function u (t) {\r\n        var e\r\n        return (\r\n          t.selectors ? (e = t.selectors.join(',' + y)) : ((e = '@' + t.type), (e += t.name ? ' ' + t.name : '')),\r\n          i() + e + m + l(t) + y\r\n        )\r\n      }\r\n      function c (t, e) {\r\n        return t.reduce(function (t, r) {\r\n          var n = 'comment' === r.type ? s(r) : e(r)\r\n          return n && t.push(n), t\r\n        }, [])\r\n      }\r\n      function l (t, e) {\r\n        var r = t.declarations,\r\n          n = h\r\n        return t.rules && ((r = t.rules), (n = u)), (r = f(r, n)), r && (r = y + r + (e ? '' : y)), '{' + r + i() + '}'\r\n      }\r\n      function f (t, e) {\r\n        if (!t) return ''\r\n        i(1)\r\n        var r = c(t, e)\r\n        return i(-1), r.length ? r.join(y) : ''\r\n      }\r\n      function h (t) {\r\n        if ('property' === t.type) return d(t)\r\n        _ && x('stringifyDeclaration: unexpected node:', JSON.stringify(t))\r\n      }\r\n      function p (t) {\r\n        switch (t.type) {\r\n          case 'rule':\r\n            return u(t)\r\n          case 'media':\r\n          case 'keyframes':\r\n            return a(t)\r\n          case 'comment':\r\n            return s(t)\r\n          case 'import':\r\n          case 'charset':\r\n          case 'namespace':\r\n            return o(t)\r\n          case 'font-face':\r\n          case 'supports':\r\n          case 'viewport':\r\n          case 'document':\r\n          case 'page':\r\n            return a(t)\r\n        }\r\n        _ && x('stringifyNode: unexpected node: ' + JSON.stringify(t))\r\n      }\r\n      function d (t) {\r\n        var e = t.name ? t.name + ':' + m : ''\r\n        return i() + e + t.value + ';'\r\n      }\r\n      var g,\r\n        v,\r\n        b,\r\n        y,\r\n        m,\r\n        _ = !1,\r\n        w = !1,\r\n        x = r(28)('stringify')\r\n      t.exports = n\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      function n (t, e) {\r\n        ;(this.text = t), (this.spec = void 0), (this.styleAttribute = e || !1)\r\n      }\r\n      function i (t) {\r\n        try {\r\n          return o(t)[0]\r\n        } catch (t) {\r\n          return []\r\n        }\r\n      }\r\n      var o = r(112)\r\n      ;(t.exports = n),\r\n        (n.prototype.parsed = function () {\r\n          return this.tokens || (this.tokens = i(this.text)), this.tokens\r\n        }),\r\n        (n.prototype.specificity = function () {\r\n          function t (r, n) {\r\n            for (var o = n || i(r), a = [e ? 1 : 0, 0, 0, 0], s = [], u = 0; u < o.length; u++) {\r\n              var c = o[u],\r\n                l = c.pseudos\r\n              if (\r\n                (c.id && a[1]++,\r\n                c.attributes && (a[2] += c.attributes.length),\r\n                c.classList && (a[2] += c.classList.length),\r\n                c.tag && '*' !== c.tag && a[3]++,\r\n                l)\r\n              ) {\r\n                a[3] += l.length\r\n                for (var f = 0; f < l.length; f++) 'not' === l[f].name && (s.push(l[f].value), a[3]--)\r\n              }\r\n            }\r\n            for (var h = s.length; h--; ) for (var p = t(s[h]), d = 4; d--; ) a[d] += p[d]\r\n            return a\r\n          }\r\n          var e = this.styleAttribute\r\n          return this.spec || (this.spec = t(this.text, this.parsed())), this.spec\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      var n = /([-.*+?^${}()|[\\]\\/\\\\])/g,\r\n        i = /\\\\/g,\r\n        o = function (t) {\r\n          return (t + '').replace(n, '\\\\$1')\r\n        },\r\n        a = function (t) {\r\n          return (t + '').replace(i, '')\r\n        },\r\n        s = RegExp(\r\n          '^(?:\\\\s*(,)\\\\s*|\\\\s*(<combinator>+)\\\\s*|(\\\\s+)|(<unicode>+|\\\\*)|\\\\#(<unicode>+)|\\\\.(<unicode>+)|\\\\[\\\\s*(<unicode1>+)(?:\\\\s*([*^$!~|]?=)(?:\\\\s*(?:([\"\\']?)(.*?)\\\\9)))?\\\\s*\\\\](?!\\\\])|(:+)(<unicode>+)(?:\\\\((?:(?:([\"\\'])([^\\\\13]*)\\\\13)|((?:\\\\([^)]+\\\\)|[^()]*)+))\\\\))?)'\r\n            .replace(/<combinator>/, '[' + o('>+~`!@$%^&={}\\\\;</') + ']')\r\n            .replace(/<unicode>/g, '(?:[\\\\w\\\\u00a1-\\\\uFFFF-]|\\\\\\\\[^\\\\s0-9a-f])')\r\n            .replace(/<unicode1>/g, '(?:[:\\\\w\\\\u00a1-\\\\uFFFF-]|\\\\\\\\[^\\\\s0-9a-f])')\r\n        ),\r\n        u = function (t) {\r\n          ;(this.combinator = t || ' '), (this.tag = '*')\r\n        }\r\n      u.prototype.toString = function () {\r\n        if (!this.raw) {\r\n          var t,\r\n            e,\r\n            r = ''\r\n          if (\r\n            ((r += this.tag || '*'),\r\n            this.id && (r += '#' + this.id),\r\n            this.classes && (r += '.' + this.classList.join('.')),\r\n            this.attributes)\r\n          )\r\n            for (t = 0; (e = this.attributes[t++]); )\r\n              r += '[' + e.name + (e.operator ? e.operator + '\"' + e.value + '\"' : '') + ']'\r\n          if (this.pseudos)\r\n            for (t = 0; (e = this.pseudos[t++]); ) (r += ':' + e.name), e.value && (r += '(' + e.value + ')')\r\n          this.raw = r\r\n        }\r\n        return this.raw\r\n      }\r\n      var c = function () {\r\n        this.length = 0\r\n      }\r\n      c.prototype.toString = function () {\r\n        if (!this.raw) {\r\n          for (var t, e = '', r = 0; (t = this[r++]); )\r\n            1 !== r && (e += ' '), ' ' !== t.combinator && (e += t.combinator + ' '), (e += t)\r\n          this.raw = e\r\n        }\r\n        return this.raw\r\n      }\r\n      var l = function (t, e, r, n, i, s, l, f, h, p, d, g, v, b, y, m) {\r\n          var _, w\r\n          if ((e || !this.length) && ((_ = this[this.length++] = new c()), e)) return ''\r\n          if (\r\n            (_ || (_ = this[this.length - 1]),\r\n            (r || n || !_.length) && (w = _[_.length++] = new u(r)),\r\n            w || (w = _[_.length - 1]),\r\n            i)\r\n          )\r\n            w.tag = a(i)\r\n          else if (s) w.id = a(s)\r\n          else if (l) {\r\n            var x = a(l),\r\n              S = w.classes || (w.classes = {})\r\n            if (!S[x]) {\r\n              S[x] = o(l)\r\n              var j = w.classList || (w.classList = [])\r\n              j.push(x), j.sort()\r\n            }\r\n          } else\r\n            v\r\n              ? ((m = m || y),\r\n                (w.pseudos || (w.pseudos = [])).push({\r\n                  type: 1 == g.length ? 'class' : 'element',\r\n                  name: a(v),\r\n                  escapedName: o(v),\r\n                  value: m ? a(m) : null,\r\n                  escapedValue: m ? o(m) : null\r\n                }))\r\n              : f &&\r\n                ((d = d ? o(d) : null),\r\n                (w.attributes || (w.attributes = [])).push({\r\n                  operator: h,\r\n                  name: a(f),\r\n                  escapedName: o(f),\r\n                  value: d ? a(d) : null,\r\n                  escapedValue: d ? o(d) : null\r\n                }))\r\n          return ''\r\n        },\r\n        f = function (t) {\r\n          this.length = 0\r\n          for (var e, r = this, n = t; t; ) {\r\n            if (\r\n              (e = t.replace(s, function () {\r\n                return l.apply(r, arguments)\r\n              })) === t\r\n            )\r\n              throw new Error(n + ' is an invalid expression')\r\n            t = e\r\n          }\r\n        }\r\n      f.prototype.toString = function () {\r\n        if (!this.raw) {\r\n          for (var t, e = [], r = 0; (t = this[r++]); ) e.push(t)\r\n          this.raw = e.join(', ')\r\n        }\r\n        return this.raw\r\n      }\r\n      var h = {},\r\n        p = function (t) {\r\n          return null == t ? null : ((t = ('' + t).replace(/^\\s+|\\s+$/g, '')), h[t] || (h[t] = new f(t)))\r\n        }\r\n      t.exports = p\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      function n (t, e, r, n, i) {\r\n        ;(this.prop = t),\r\n          (this.value = e),\r\n          (this.selector = r),\r\n          (this.priority = n || 0),\r\n          (this.additionalPriority = i || [])\r\n      }\r\n      t.exports = n\r\n      var i = r(27)\r\n      ;(n.prototype.compareFunc = function (t) {\r\n        var e = []\r\n        e.push.apply(e, this.selector.specificity()), e.push.apply(e, this.additionalPriority), (e[0] += this.priority)\r\n        var r = []\r\n        return (\r\n          r.push.apply(r, t.selector.specificity()),\r\n          r.push.apply(r, t.additionalPriority),\r\n          (r[0] += t.priority),\r\n          i.compareFunc(e, r)\r\n        )\r\n      }),\r\n        (n.prototype.compare = function (t) {\r\n          return 1 === this.compareFunc(t) ? this : t\r\n        }),\r\n        (n.prototype.toString = function () {\r\n          return this.prop + ': ' + this.value.replace(/['\"]+/g, '') + ';'\r\n        })\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      var n = r(27)\r\n      t.exports = function (t) {\r\n        function e (e, o, s) {\r\n          function u (r) {\r\n            for (var o = r[0], u = r[1], c = new n.Selector(o), l = c.parsed(), f = i(l), h = 0; h < l.length; ++h) {\r\n              var p = l[h]\r\n              if (p.pseudos)\r\n                for (var d = 0; d < p.pseudos.length; ++d) {\r\n                  var b = p.pseudos[d]\r\n                  if (t.ignoredPseudos.indexOf(b.name) >= 0) return\r\n                }\r\n            }\r\n            if (f) {\r\n              var y = l[l.length - 1],\r\n                m = y.pseudos\r\n              ;(y.pseudos = a(y.pseudos)), (o = l.toString()), (y.pseudos = m)\r\n            }\r\n            var _\r\n            try {\r\n              _ = e(o)\r\n            } catch (t) {\r\n              return\r\n            }\r\n            _.each(function () {\r\n              function r (e, r) {\r\n                for (var o = 0, a = e.length; o < a; o++)\r\n                  if ('property' == e[o].type) {\r\n                    var u = e[o].name,\r\n                      c = e[o].value,\r\n                      l = null !== e[o].value.match(/!important$/)\r\n                    l && !s.preserveImportant && (c = c.replace(/\\s*!important$/, ''))\r\n                    var f = [e[o].position.start.line, e[o].position.start.col],\r\n                      h = new n.Property(u, c, r, l ? 2 : 0, f),\r\n                      p = i.styleProps[u]\r\n                    t.excludedProperties.indexOf(u) < 0 &&\r\n                      ((p && p.compare(h) === h) || !p) &&\r\n                      (p && p.selector !== r ? delete i.styleProps[u] : p && (h.nextProp = p), (i.styleProps[u] = h))\r\n                  }\r\n              }\r\n              var i = this\r\n              if (!(i.name && t.nonVisualElements.indexOf(i.name.toUpperCase()) >= 0)) {\r\n                if (f) {\r\n                  var o = 'pseudo' + f,\r\n                    a = i[o]\r\n                  a ||\r\n                    ((a = i[o] = e('<span />').get(0)),\r\n                    (a.pseudoElementType = f),\r\n                    (a.pseudoElementParent = i),\r\n                    (i[o] = a)),\r\n                    (i = a)\r\n                }\r\n                if (!i.styleProps) {\r\n                  if (((i.styleProps = {}), e(i).attr(v))) {\r\n                    var l = '* { ' + e(i).attr(v) + ' } '\r\n                    r(n.parseCSS(l)[0][1], new n.Selector('<style>', !0))\r\n                  }\r\n                  g.push(i)\r\n                }\r\n                r(u, c)\r\n              }\r\n            })\r\n          }\r\n          function c (t) {\r\n            var r = (Object.keys(t.styleProps).length, [])\r\n            Object.keys(t.styleProps).forEach(function (e) {\r\n              for (var n = t.styleProps[e]; void 0 !== n; ) r.push(n), (n = n.nextProp)\r\n            }),\r\n              r.sort(function (t, e) {\r\n                return t.compareFunc(e)\r\n              })\r\n            var n = r\r\n              .filter(function (t) {\r\n                return 'content' !== t.prop\r\n              })\r\n              .map(function (t) {\r\n                return t.prop + ': ' + t.value.replace(/[\"]/g, \"'\") + ';'\r\n              })\r\n              .join(' ')\r\n            n && e(t).attr(v, n)\r\n          }\r\n          function l (t) {\r\n            if (t.pseudoElementType && t.styleProps.content) {\r\n              var n = r(t.styleProps.content.value)\r\n              n.img ? ((t.name = 'img'), e(t).attr('src', n.img)) : e(t).text(n)\r\n              var i = t.pseudoElementParent\r\n              'before' === t.pseudoElementType ? e(i).prepend(t) : e(i).append(t)\r\n            }\r\n          }\r\n          function f (r, n) {\r\n            if (r.name) {\r\n              var i = r.name.toUpperCase()\r\n              if (t[n + 'Elements'].indexOf(i) > -1)\r\n                for (var o in r.styleProps)\r\n                  if (r.styleProps[o].prop === n) {\r\n                    if (r.styleProps[o].value.match(/px/)) {\r\n                      var a = r.styleProps[o].value.replace('px', '')\r\n                      return void e(r).attr(n, a)\r\n                    }\r\n                    if (t.tableElements.indexOf(i) > -1 && r.styleProps[o].value.match(/\\%/))\r\n                      return void e(r).attr(n, r.styleProps[o].value)\r\n                  }\r\n            }\r\n          }\r\n          function h (t) {\r\n            return 0 !== t.indexOf('url(') ? t : t.replace(/^url\\(([\"'])?([^\"']+)\\1\\)$/, '$2')\r\n          }\r\n          function p (r) {\r\n            if (r.name) {\r\n              var n = r.name.toUpperCase(),\r\n                i = Object.keys(t.styleToAttribute)\r\n              if (t.tableElements.indexOf(n) > -1)\r\n                for (var o in r.styleProps)\r\n                  if (i.indexOf(r.styleProps[o].prop) > -1) {\r\n                    var a = t.styleToAttribute[r.styleProps[o].prop],\r\n                      s = r.styleProps[o].value\r\n                    'background' === a && (s = h(s)), e(r).attr(a, s)\r\n                  }\r\n            }\r\n          }\r\n          s = s || {}\r\n          var d = n.parseCSS(o),\r\n            g = [],\r\n            v = 'style'\r\n          if (\r\n            (s.styleAttributeName && (v = s.styleAttributeName),\r\n            d.forEach(u),\r\n            g.forEach(c),\r\n            s.inlinePseudoElements && g.forEach(l),\r\n            s.applyWidthAttributes &&\r\n              g.forEach(function (t) {\r\n                f(t, 'width')\r\n              }),\r\n            s.applyHeightAttributes &&\r\n              g.forEach(function (t) {\r\n                f(t, 'height')\r\n              }),\r\n            s.applyAttributesTableElements && g.forEach(p),\r\n            s.insertPreservedExtraCss && s.extraCss)\r\n          ) {\r\n            var b = n.getPreservedText(s.extraCss, {\r\n              mediaQueries: s.preserveMediaQueries,\r\n              fontFaces: s.preserveFontFaces\r\n            })\r\n            if (b) {\r\n              var y = null\r\n              !0 !== s.insertPreservedExtraCss\r\n                ? (y = e(s.insertPreservedExtraCss))\r\n                : ((y = e('head')), y.length || (y = e('body')), y.length || (y = e.root())),\r\n                y.first().append('<style>' + b + '</style>')\r\n            }\r\n          }\r\n        }\r\n        function r (t) {\r\n          if ('none' === t || 'normal' === t) return ''\r\n          var e = t.match(/^\\s*url\\s*\\(\\s*(.*?)\\s*\\)\\s*$/i)\r\n          if (e) {\r\n            return { img: e[1].replace(/^['\"]|['\"]$/g, '') }\r\n          }\r\n          return (t = t.slice(1, t.length - 1)), (t = t.replace(/\\\\/g, ''))\r\n        }\r\n        function i (t) {\r\n          if (0 !== t.length) {\r\n            var e = t[t.length - 1].pseudos\r\n            if (e) for (var r = 0; r < e.length; r++) if (o(e[r])) return e[r].name\r\n          }\r\n        }\r\n        function o (t) {\r\n          return 'before' === t.name || 'after' === t.name\r\n        }\r\n        function a (t) {\r\n          return t.filter(function (t) {\r\n            return !o(t)\r\n          })\r\n        }\r\n        function s (t, r) {\r\n          r = n.getDefaultOptions(r)\r\n          var i = c(t, r)\r\n          return (i += '\\n' + r.extraCss), e(t, i, r), t\r\n        }\r\n        function u (t, e) {\r\n          var r,\r\n            i,\r\n            o,\r\n            a = [],\r\n            s = t('style')\r\n          return (\r\n            s.each(function () {\r\n              if (((o = this), (r = o.childNodes), 1 === r.length)) {\r\n                if (\r\n                  ((i = r[0].data),\r\n                  e.applyStyleTags && void 0 === t(o).attr('data-embed') && a.push(i),\r\n                  e.removeStyleTags && void 0 === t(o).attr('data-embed'))\r\n                ) {\r\n                  var s = n.getPreservedText(o.childNodes[0].nodeValue, {\r\n                    mediaQueries: e.preserveMediaQueries,\r\n                    fontFaces: e.preserveFontFaces\r\n                  })\r\n                  s ? (o.childNodes[0].nodeValue = s) : t(o).remove()\r\n                }\r\n                t(o).removeAttr('data-embed')\r\n              }\r\n            }),\r\n            a\r\n          )\r\n        }\r\n        function c (t, e) {\r\n          return u(t, e).join('\\n')\r\n        }\r\n        return (\r\n          (t.ignoredPseudos = ['hover', 'active', 'focus', 'visited', 'link']),\r\n          (t.widthElements = ['TABLE', 'TD', 'IMG']),\r\n          (t.heightElements = ['TABLE', 'TD', 'IMG']),\r\n          (t.tableElements = [\r\n            'TABLE',\r\n            'TD',\r\n            'TH',\r\n            'TR',\r\n            'TD',\r\n            'CAPTION',\r\n            'COLGROUP',\r\n            'COL',\r\n            'THEAD',\r\n            'TBODY',\r\n            'TFOOT'\r\n          ]),\r\n          (t.nonVisualElements = ['HEAD', 'TITLE', 'BASE', 'LINK', 'STYLE', 'META', 'SCRIPT', 'NOSCRIPT']),\r\n          (t.styleToAttribute = {\r\n            'background-color': 'bgcolor',\r\n            'background-image': 'background',\r\n            'text-align': 'align',\r\n            'vertical-align': 'valign'\r\n          }),\r\n          (t.excludedProperties = []),\r\n          (t.juiceDocument = s),\r\n          (t.inlineDocument = e),\r\n          t\r\n        )\r\n      }\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      var n\r\n      void 0 !==\r\n        (n = function () {\r\n          return function () {\r\n            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n              e = '',\r\n              r = '',\r\n              n = t.editor,\r\n              i = t.tableStyle || {},\r\n              o = t.cellStyle || {},\r\n              a = n.BlockManager\r\n            for (var s in i) e += s + ': ' + i[s] + '; '\r\n            for (var u in o) r += u + ': ' + o[u] + '; '\r\n            a.getAll().reset(),\r\n              a.add('sect100', {\r\n                label: t.sect100BlkLabel,\r\n                category: t.categoryLabel,\r\n                attributes: { class: 'gjs-fonts gjs-f-b1' },\r\n                content:\r\n                  '<table style=\"' +\r\n                  e +\r\n                  '\">\\n        <tr>\\n          <td style=\"' +\r\n                  r +\r\n                  '\"></td>\\n        </tr>\\n        </table>'\r\n              }),\r\n              a.add('sect50', {\r\n                label: t.sect50BlkLabel,\r\n                category: t.categoryLabel,\r\n                attributes: { class: 'gjs-fonts gjs-f-b2' },\r\n                content:\r\n                  '<table style=\"' +\r\n                  e +\r\n                  '\">\\n        <tr>\\n          <td style=\"' +\r\n                  r +\r\n                  ' width: 50%\"></td>\\n          <td style=\"' +\r\n                  r +\r\n                  ' width: 50%\"></td>\\n        </tr>\\n        </table>'\r\n              }),\r\n              a.add('sect30', {\r\n                label: t.sect30BlkLabel,\r\n                category: t.categoryLabel,\r\n                attributes: { class: 'gjs-fonts gjs-f-b3' },\r\n                content:\r\n                  '<table style=\"' +\r\n                  e +\r\n                  '\">\\n        <tr>\\n          <td style=\"' +\r\n                  r +\r\n                  ' width: 33.3333%\"></td>\\n          <td style=\"' +\r\n                  r +\r\n                  ' width: 33.3333%\"></td>\\n          <td style=\"' +\r\n                  r +\r\n                  ' width: 33.3333%\"></td>\\n        </tr>\\n        </table>'\r\n              }),\r\n              a.add('sect37', {\r\n                label: t.sect37BlkLabel,\r\n                category: t.categoryLabel,\r\n                attributes: { class: 'gjs-fonts gjs-f-b37' },\r\n                content:\r\n                  '<table style=\"' +\r\n                  e +\r\n                  '\">\\n        <tr>\\n          <td style=\"' +\r\n                  r +\r\n                  ' width:30%\"></td>\\n          <td style=\"' +\r\n                  r +\r\n                  ' width:70%\"></td>\\n        </tr>\\n        </table>'\r\n              }),\r\n              a.add('button', {\r\n                label: t.buttonBlkLabel,\r\n                category: t.categoryLabel,\r\n                content: '<a class=\"button\">Button</a>',\r\n                attributes: { class: 'gjs-fonts gjs-f-button' }\r\n              }),\r\n              a.add('divider', {\r\n                label: t.dividerBlkLabel,\r\n                category: t.categoryLabel,\r\n                content:\r\n                  '<table style=\"width: 100%; margin-top: 10px; margin-bottom: 10px;\">\\n        <tr>\\n          <td class=\"divider\"></td>\\n        </tr>\\n      </table>\\n      <style>\\n      .divider {\\n        background-color: rgba(0, 0, 0, 0.1);\\n        height: 1px;\\n      }\\n      </style>',\r\n                attributes: { class: 'gjs-fonts gjs-f-divider' }\r\n              }),\r\n              a.add('text', {\r\n                label: t.textBlkLabel,\r\n                category: t.categoryLabel,\r\n                attributes: { class: 'gjs-fonts gjs-f-text' },\r\n                content: {\r\n                  type: 'text',\r\n                  content: 'Insert your text here',\r\n                  style: { padding: '10px' },\r\n                  activeOnRender: 1\r\n                }\r\n              }),\r\n              a.add('text-sect', {\r\n                label: t.textSectionBlkLabel,\r\n                category: t.categoryLabel,\r\n                content:\r\n                  '<h1 class=\"heading\">Insert title here</h1><p class=\"paragraph\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>',\r\n                attributes: { class: 'gjs-fonts gjs-f-h1p' }\r\n              }),\r\n              a.add('image', {\r\n                label: t.imageBlkLabel,\r\n                category: t.categoryLabel,\r\n                attributes: { class: 'gjs-fonts gjs-f-image' },\r\n                content: { type: 'image', style: { color: 'black' }, activeOnRender: 1 }\r\n              }),\r\n              a.add('quote', {\r\n                label: t.quoteBlkLabel,\r\n                category: t.categoryLabel,\r\n                content:\r\n                  '<blockquote class=\"quote\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit</blockquote>',\r\n                attributes: { class: 'fa fa-quote-right' }\r\n              }),\r\n              a.add('link', {\r\n                label: t.linkBlkLabel,\r\n                category: t.categoryLabel,\r\n                attributes: { class: 'fa fa-link' },\r\n                content: { type: 'link', content: 'Link', style: { color: '#3b97e3' } }\r\n              }),\r\n              a.add('link-block', {\r\n                label: t.linkBlockBlkLabel,\r\n                category: t.categoryLabel,\r\n                attributes: { class: 'fa fa-link' },\r\n                content: {\r\n                  type: 'link',\r\n                  editable: !1,\r\n                  droppable: !0,\r\n                  style: { display: 'inline-block', padding: '5px', 'min-height': '50px', 'min-width': '50px' }\r\n                }\r\n              })\r\n            var c =\r\n              '<table class=\"grid-item-card\">\\n        <tr>\\n          <td class=\"grid-item-card-cell\">\\n            <img class=\"grid-item-image\" src=\"http://placehold.it/250x150/78c5d6/fff/\" alt=\"Image\"/>\\n            <table class=\"grid-item-card-body\">\\n              <tr>\\n                <td class=\"grid-item-card-content\">\\n                  <h1 class=\"card-title\">Title here</h1>\\n                  <p class=\"card-text\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>\\n                </td>\\n              </tr>\\n            </table>\\n          </td>\\n        </tr>\\n      </table>'\r\n            a.add('grid-items', {\r\n              label: t.gridItemsBlkLabel,\r\n              category: t.categoryLabel,\r\n              content:\r\n                '<table class=\"grid-item-row\">\\n        <tr>\\n          <td class=\"grid-item-cell2-l\">' +\r\n                c +\r\n                '</td>\\n          <td class=\"grid-item-cell2-r\">' +\r\n                c +\r\n                '</td>\\n        </tr>\\n      </table>',\r\n              attributes: { class: 'fa fa-th' }\r\n            })\r\n            var l =\r\n              '<table class=\"list-item\">\\n        <tr>\\n          <td class=\"list-item-cell\">\\n            <table class=\"list-item-content\">\\n              <tr class=\"list-item-row\">\\n                <td class=\"list-cell-left\">\\n                  <img class=\"list-item-image\" src=\"http://placehold.it/150x150/78c5d6/fff/\" alt=\"Image\"/>\\n                </td>\\n                <td class=\"list-cell-right\">\\n                  <h1 class=\"card-title\">Title here</h1>\\n                  <p class=\"card-text\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>\\n                </td>\\n              </tr>\\n            </table>\\n          </td>\\n        </tr>\\n      </table>'\r\n            a.add('list-items', {\r\n              label: t.listItemsBlkLabel,\r\n              category: t.categoryLabel,\r\n              content: l + l,\r\n              attributes: { class: 'fa fa-th-list' }\r\n            })\r\n          }\r\n        }.call(e, r, e, t)) && (t.exports = n)\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      function n (t, e, r) {\r\n        return (\r\n          e in t\r\n            ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 })\r\n            : (t[e] = r),\r\n          t\r\n        )\r\n      }\r\n      var i\r\n      void 0 !==\r\n        (i = function () {\r\n          var t = function (t) {\r\n            t.each(function (t) {\r\n              var e = t.get('attributes')\r\n              ;(e['data-tooltip-pos'] = 'bottom'), t.set('attributes', e)\r\n            })\r\n          }\r\n          return function () {\r\n            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n              r = e.editor,\r\n              i = r.Panels,\r\n              o = i.getPanel('options')\r\n            if (\r\n              (i.addButton('options', {\r\n                id: e.cmdOpenImport,\r\n                className: 'fa fa-download',\r\n                command: e.cmdOpenImport,\r\n                attributes: n({}, 'title', e.modalTitleImport)\r\n              }),\r\n              i.addButton('options', {\r\n                id: e.cmdTglImages,\r\n                className: 'fa fa-warning',\r\n                command: e.cmdTglImages,\r\n                attributes: n({}, 'title', e.cmtTglImagesLabel)\r\n              }),\r\n              o)\r\n            ) {\r\n              var a = o.get('buttons')\r\n              a.each(function (t) {\r\n                var e = t.get('attributes')\r\n                ;(e['data-tooltip-pos'] = 'bottom'), t.set('attributes', e)\r\n              })\r\n              var s = i.addButton('options', 'preview')\r\n              s && a.remove(s)\r\n            }\r\n            var u = i.getPanel('commands')\r\n            if (u) {\r\n              var c = u.get('buttons')\r\n              c.reset(),\r\n                c.add([\r\n                  {\r\n                    id: 'undo',\r\n                    className: 'fa fa-undo',\r\n                    command: 'undo',\r\n                    attributes: n({}, 'title', e.cmdBtnUndoLabel)\r\n                  },\r\n                  {\r\n                    id: 'redo',\r\n                    className: 'fa fa-repeat',\r\n                    command: 'redo',\r\n                    attributes: n({}, 'title', e.cmdBtnRedoLabel)\r\n                  }\r\n                ]),\r\n                t(c)\r\n            }\r\n            r.getConfig().showDevices = 0\r\n            var l = i.addPanel({ id: 'devices-c' }),\r\n              f = l.get('buttons')\r\n            l.get('buttons').add([\r\n              {\r\n                id: 'deviceDesktop',\r\n                command: 'set-device-desktop',\r\n                className: 'fa fa-desktop',\r\n                attributes: n({}, 'title', e.cmdBtnDesktopLabel),\r\n                active: 1\r\n              },\r\n              {\r\n                id: 'deviceTablet',\r\n                command: 'set-device-tablet',\r\n                className: 'fa fa-tablet',\r\n                attributes: n({}, 'title', e.cmdBtnTabletLabel)\r\n              },\r\n              {\r\n                id: 'deviceMobile',\r\n                command: 'set-device-mobile',\r\n                className: 'fa fa-mobile',\r\n                attributes: n({}, 'title', e.cmdBtnMobileLabel)\r\n              }\r\n            ]),\r\n              t(f)\r\n          }\r\n        }.call(e, r, e, t)) && (t.exports = i)\r\n    },\r\n    function (t, e, r) {\r\n      'use strict'\r\n      var n\r\n      void 0 !==\r\n        (n = function () {\r\n          return function () {\r\n            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n              e = t.editor,\r\n              r = e.StyleManager.getSectors()\r\n            e.on('load', function () {\r\n              r.reset(), r.add(t.styleManagerSectors)\r\n            })\r\n          }\r\n        }.call(e, r, e, t)) && (t.exports = n)\r\n    }\r\n  ])\r\n})\r\n\n\n//# sourceURL=webpack:///./src/public/js/vendor/grapesjs/grapesjs-preset-email.min.js?");

/***/ }),

/***/ "./src/public/js/vendor/handlebars/handlebars.js":
/*!*******************************************************!*\
  !*** ./src/public/js/vendor/handlebars/handlebars.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*\r\n *       .                             .o8                     oooo\r\n *    .o8                             \"888                     `888\r\n *  .o888oo oooo d8b oooo  oooo   .oooo888   .ooooo.   .oooo.o  888  oooo\r\n *    888   `888\"\"8P `888  `888  d88' `888  d88' `88b d88(  \"8  888 .8P'\r\n *    888    888      888   888  888   888  888ooo888 `\"Y88b.   888888.\r\n *    888 .  888      888   888  888   888  888    .o o.  )88b  888 `88b.\r\n *    \"888\" d888b     `V88V\"V8P' `Y8bod88P\" `Y8bod8P' 8\"\"888P' o888o o888o\r\n *  ========================================================================\r\n *  Author:     Chris Brame\r\n *  Updated:    1/25/19 1:42 AM\r\n *  Copyright (c) 2014-2019. All rights reserved.\r\n */\r\n\r\n/**!\r\n\r\n @license\r\n handlebars v4.0.12\r\n\r\nCopyright (C) 2011-2017 by Yehuda Katz\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in\r\nall copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\nTHE SOFTWARE.\r\n\r\n*/\r\n;(function webpackUniversalModuleDefinition (root, factory) {\r\n  if (true) module.exports = factory()\r\n  else {}\r\n})(this, function () {\r\n  return /******/ (function (modules) {\r\n    // webpackBootstrap\r\n    /******/ // The module cache\r\n    /******/ var installedModules = {} // The require function\r\n\r\n    /******/ /******/ function __webpack_require__ (moduleId) {\r\n      /******/ // Check if module is in cache\r\n      /******/ if (installedModules[moduleId]) /******/ return installedModules[moduleId].exports // Create a new module (and put it into the cache)\r\n\r\n      /******/ /******/ var module = (installedModules[moduleId] = {\r\n        /******/ exports: {},\r\n        /******/ id: moduleId,\r\n        /******/ loaded: false\r\n        /******/\r\n      }) // Execute the module function\r\n\r\n      /******/ /******/ modules[moduleId].call(module.exports, module, module.exports, __webpack_require__) // Flag the module as loaded\r\n\r\n      /******/ /******/ module.loaded = true // Return the exports of the module\r\n\r\n      /******/ /******/ return module.exports\r\n      /******/\r\n    } // expose the modules object (__webpack_modules__)\r\n\r\n    /******/ /******/ __webpack_require__.m = modules // expose the module cache\r\n\r\n    /******/ /******/ __webpack_require__.c = installedModules // __webpack_public_path__\r\n\r\n    /******/ /******/ __webpack_require__.p = '' // Load entry module and return exports\r\n\r\n    /******/ /******/ return __webpack_require__(0)\r\n    /******/\r\n  })(\r\n    /************************************************************************/\r\n    /******/ [\r\n      /* 0 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        var _interopRequireDefault = __webpack_require__(1)['default']\r\n\r\n        exports.__esModule = true\r\n\r\n        var _handlebarsRuntime = __webpack_require__(2)\r\n\r\n        var _handlebarsRuntime2 = _interopRequireDefault(_handlebarsRuntime)\r\n\r\n        // Compiler imports\r\n\r\n        var _handlebarsCompilerAst = __webpack_require__(35)\r\n\r\n        var _handlebarsCompilerAst2 = _interopRequireDefault(_handlebarsCompilerAst)\r\n\r\n        var _handlebarsCompilerBase = __webpack_require__(36)\r\n\r\n        var _handlebarsCompilerCompiler = __webpack_require__(41)\r\n\r\n        var _handlebarsCompilerJavascriptCompiler = __webpack_require__(42)\r\n\r\n        var _handlebarsCompilerJavascriptCompiler2 = _interopRequireDefault(_handlebarsCompilerJavascriptCompiler)\r\n\r\n        var _handlebarsCompilerVisitor = __webpack_require__(39)\r\n\r\n        var _handlebarsCompilerVisitor2 = _interopRequireDefault(_handlebarsCompilerVisitor)\r\n\r\n        var _handlebarsNoConflict = __webpack_require__(34)\r\n\r\n        var _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict)\r\n\r\n        var _create = _handlebarsRuntime2['default'].create\r\n        function create () {\r\n          var hb = _create()\r\n\r\n          hb.compile = function (input, options) {\r\n            return _handlebarsCompilerCompiler.compile(input, options, hb)\r\n          }\r\n          hb.precompile = function (input, options) {\r\n            return _handlebarsCompilerCompiler.precompile(input, options, hb)\r\n          }\r\n\r\n          hb.AST = _handlebarsCompilerAst2['default']\r\n          hb.Compiler = _handlebarsCompilerCompiler.Compiler\r\n          hb.JavaScriptCompiler = _handlebarsCompilerJavascriptCompiler2['default']\r\n          hb.Parser = _handlebarsCompilerBase.parser\r\n          hb.parse = _handlebarsCompilerBase.parse\r\n\r\n          return hb\r\n        }\r\n\r\n        var inst = create()\r\n        inst.create = create\r\n\r\n        _handlebarsNoConflict2['default'](inst)\r\n\r\n        inst.Visitor = _handlebarsCompilerVisitor2['default']\r\n\r\n        inst['default'] = inst\r\n\r\n        exports['default'] = inst\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 1 */\r\n      /***/ function (module, exports) {\r\n        'use strict'\r\n\r\n        exports['default'] = function (obj) {\r\n          return obj && obj.__esModule\r\n            ? obj\r\n            : {\r\n                default: obj\r\n              }\r\n        }\r\n\r\n        exports.__esModule = true\r\n\r\n        /***/\r\n      },\r\n      /* 2 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        var _interopRequireWildcard = __webpack_require__(3)['default']\r\n\r\n        var _interopRequireDefault = __webpack_require__(1)['default']\r\n\r\n        exports.__esModule = true\r\n\r\n        var _handlebarsBase = __webpack_require__(4)\r\n\r\n        var base = _interopRequireWildcard(_handlebarsBase)\r\n\r\n        // Each of these augment the Handlebars object. No need to setup here.\r\n        // (This is done to easily share code between commonjs and browse envs)\r\n\r\n        var _handlebarsSafeString = __webpack_require__(21)\r\n\r\n        var _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString)\r\n\r\n        var _handlebarsException = __webpack_require__(6)\r\n\r\n        var _handlebarsException2 = _interopRequireDefault(_handlebarsException)\r\n\r\n        var _handlebarsUtils = __webpack_require__(5)\r\n\r\n        var Utils = _interopRequireWildcard(_handlebarsUtils)\r\n\r\n        var _handlebarsRuntime = __webpack_require__(22)\r\n\r\n        var runtime = _interopRequireWildcard(_handlebarsRuntime)\r\n\r\n        var _handlebarsNoConflict = __webpack_require__(34)\r\n\r\n        var _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict)\r\n\r\n        // For compatibility and usage outside of module systems, make the Handlebars object a namespace\r\n        function create () {\r\n          var hb = new base.HandlebarsEnvironment()\r\n\r\n          Utils.extend(hb, base)\r\n          hb.SafeString = _handlebarsSafeString2['default']\r\n          hb.Exception = _handlebarsException2['default']\r\n          hb.Utils = Utils\r\n          hb.escapeExpression = Utils.escapeExpression\r\n\r\n          hb.VM = runtime\r\n          hb.template = function (spec) {\r\n            return runtime.template(spec, hb)\r\n          }\r\n\r\n          return hb\r\n        }\r\n\r\n        var inst = create()\r\n        inst.create = create\r\n\r\n        _handlebarsNoConflict2['default'](inst)\r\n\r\n        inst['default'] = inst\r\n\r\n        exports['default'] = inst\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 3 */\r\n      /***/ function (module, exports) {\r\n        'use strict'\r\n\r\n        exports['default'] = function (obj) {\r\n          if (obj && obj.__esModule) {\r\n            return obj\r\n          } else {\r\n            var newObj = {}\r\n\r\n            if (obj != null) {\r\n              for (var key in obj) {\r\n                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]\r\n              }\r\n            }\r\n\r\n            newObj['default'] = obj\r\n            return newObj\r\n          }\r\n        }\r\n\r\n        exports.__esModule = true\r\n\r\n        /***/\r\n      },\r\n      /* 4 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        var _interopRequireDefault = __webpack_require__(1)['default']\r\n\r\n        exports.__esModule = true\r\n        exports.HandlebarsEnvironment = HandlebarsEnvironment\r\n\r\n        var _utils = __webpack_require__(5)\r\n\r\n        var _exception = __webpack_require__(6)\r\n\r\n        var _exception2 = _interopRequireDefault(_exception)\r\n\r\n        var _helpers = __webpack_require__(10)\r\n\r\n        var _decorators = __webpack_require__(18)\r\n\r\n        var _logger = __webpack_require__(20)\r\n\r\n        var _logger2 = _interopRequireDefault(_logger)\r\n\r\n        var VERSION = '4.0.12'\r\n        exports.VERSION = VERSION\r\n        var COMPILER_REVISION = 7\r\n\r\n        exports.COMPILER_REVISION = COMPILER_REVISION\r\n        var REVISION_CHANGES = {\r\n          1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\r\n          2: '== 1.0.0-rc.3',\r\n          3: '== 1.0.0-rc.4',\r\n          4: '== 1.x.x',\r\n          5: '== 2.0.0-alpha.x',\r\n          6: '>= 2.0.0-beta.1',\r\n          7: '>= 4.0.0'\r\n        }\r\n\r\n        exports.REVISION_CHANGES = REVISION_CHANGES\r\n        var objectType = '[object Object]'\r\n\r\n        function HandlebarsEnvironment (helpers, partials, decorators) {\r\n          this.helpers = helpers || {}\r\n          this.partials = partials || {}\r\n          this.decorators = decorators || {}\r\n\r\n          _helpers.registerDefaultHelpers(this)\r\n          _decorators.registerDefaultDecorators(this)\r\n        }\r\n\r\n        HandlebarsEnvironment.prototype = {\r\n          constructor: HandlebarsEnvironment,\r\n\r\n          logger: _logger2['default'],\r\n          log: _logger2['default'].log,\r\n\r\n          registerHelper: function registerHelper (name, fn) {\r\n            if (_utils.toString.call(name) === objectType) {\r\n              if (fn) {\r\n                throw new _exception2['default']('Arg not supported with multiple helpers')\r\n              }\r\n              _utils.extend(this.helpers, name)\r\n            } else {\r\n              this.helpers[name] = fn\r\n            }\r\n          },\r\n          unregisterHelper: function unregisterHelper (name) {\r\n            delete this.helpers[name]\r\n          },\r\n\r\n          registerPartial: function registerPartial (name, partial) {\r\n            if (_utils.toString.call(name) === objectType) {\r\n              _utils.extend(this.partials, name)\r\n            } else {\r\n              if (typeof partial === 'undefined') {\r\n                throw new _exception2['default']('Attempting to register a partial called \"' + name + '\" as undefined')\r\n              }\r\n              this.partials[name] = partial\r\n            }\r\n          },\r\n          unregisterPartial: function unregisterPartial (name) {\r\n            delete this.partials[name]\r\n          },\r\n\r\n          registerDecorator: function registerDecorator (name, fn) {\r\n            if (_utils.toString.call(name) === objectType) {\r\n              if (fn) {\r\n                throw new _exception2['default']('Arg not supported with multiple decorators')\r\n              }\r\n              _utils.extend(this.decorators, name)\r\n            } else {\r\n              this.decorators[name] = fn\r\n            }\r\n          },\r\n          unregisterDecorator: function unregisterDecorator (name) {\r\n            delete this.decorators[name]\r\n          }\r\n        }\r\n\r\n        var log = _logger2['default'].log\r\n\r\n        exports.log = log\r\n        exports.createFrame = _utils.createFrame\r\n        exports.logger = _logger2['default']\r\n\r\n        /***/\r\n      },\r\n      /* 5 */\r\n      /***/ function (module, exports) {\r\n        'use strict'\r\n\r\n        exports.__esModule = true\r\n        exports.extend = extend\r\n        exports.indexOf = indexOf\r\n        exports.escapeExpression = escapeExpression\r\n        exports.isEmpty = isEmpty\r\n        exports.createFrame = createFrame\r\n        exports.blockParams = blockParams\r\n        exports.appendContextPath = appendContextPath\r\n        var escape = {\r\n          '&': '&amp;',\r\n          '<': '&lt;',\r\n          '>': '&gt;',\r\n          '\"': '&quot;',\r\n          \"'\": '&#x27;',\r\n          '`': '&#x60;',\r\n          '=': '&#x3D;'\r\n        }\r\n\r\n        var badChars = /[&<>\"'`=]/g,\r\n          possible = /[&<>\"'`=]/\r\n\r\n        function escapeChar (chr) {\r\n          return escape[chr]\r\n        }\r\n\r\n        function extend (obj /* , ...source */) {\r\n          for (var i = 1; i < arguments.length; i++) {\r\n            for (var key in arguments[i]) {\r\n              if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\r\n                obj[key] = arguments[i][key]\r\n              }\r\n            }\r\n          }\r\n\r\n          return obj\r\n        }\r\n\r\n        var toString = Object.prototype.toString\r\n\r\n        exports.toString = toString\r\n        // Sourced from lodash\r\n        // https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\r\n        /* eslint-disable func-style */\r\n        var isFunction = function isFunction (value) {\r\n          return typeof value === 'function'\r\n        }\r\n        // fallback for older versions of Chrome and Safari\r\n        /* istanbul ignore next */\r\n        if (isFunction(/x/)) {\r\n          exports.isFunction = isFunction = function (value) {\r\n            return typeof value === 'function' && toString.call(value) === '[object Function]'\r\n          }\r\n        }\r\n        exports.isFunction = isFunction\r\n\r\n        /* eslint-enable func-style */\r\n\r\n        /* istanbul ignore next */\r\n        var isArray =\r\n          Array.isArray ||\r\n          function (value) {\r\n            return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false\r\n          }\r\n\r\n        exports.isArray = isArray\r\n        // Older IE versions do not directly support indexOf so we must implement our own, sadly.\r\n\r\n        function indexOf (array, value) {\r\n          for (var i = 0, len = array.length; i < len; i++) {\r\n            if (array[i] === value) {\r\n              return i\r\n            }\r\n          }\r\n          return -1\r\n        }\r\n\r\n        function escapeExpression (string) {\r\n          if (typeof string !== 'string') {\r\n            // don't escape SafeStrings, since they're already safe\r\n            if (string && string.toHTML) {\r\n              return string.toHTML()\r\n            } else if (string == null) {\r\n              return ''\r\n            } else if (!string) {\r\n              return string + ''\r\n            }\r\n\r\n            // Force a string conversion as this will be done by the append regardless and\r\n            // the regex test will do this transparently behind the scenes, causing issues if\r\n            // an object's to string has escaped characters in it.\r\n            string = '' + string\r\n          }\r\n\r\n          if (!possible.test(string)) {\r\n            return string\r\n          }\r\n          return string.replace(badChars, escapeChar)\r\n        }\r\n\r\n        function isEmpty (value) {\r\n          if (!value && value !== 0) {\r\n            return true\r\n          } else if (isArray(value) && value.length === 0) {\r\n            return true\r\n          } else {\r\n            return false\r\n          }\r\n        }\r\n\r\n        function createFrame (object) {\r\n          var frame = extend({}, object)\r\n          frame._parent = object\r\n          return frame\r\n        }\r\n\r\n        function blockParams (params, ids) {\r\n          params.path = ids\r\n          return params\r\n        }\r\n\r\n        function appendContextPath (contextPath, id) {\r\n          return (contextPath ? contextPath + '.' : '') + id\r\n        }\r\n\r\n        /***/\r\n      },\r\n      /* 6 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        var _Object$defineProperty = __webpack_require__(7)['default']\r\n\r\n        exports.__esModule = true\r\n\r\n        var errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack']\r\n\r\n        function Exception (message, node) {\r\n          var loc = node && node.loc,\r\n            line = undefined,\r\n            column = undefined\r\n          if (loc) {\r\n            line = loc.start.line\r\n            column = loc.start.column\r\n\r\n            message += ' - ' + line + ':' + column\r\n          }\r\n\r\n          var tmp = Error.prototype.constructor.call(this, message)\r\n\r\n          // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\r\n          for (var idx = 0; idx < errorProps.length; idx++) {\r\n            this[errorProps[idx]] = tmp[errorProps[idx]]\r\n          }\r\n\r\n          /* istanbul ignore else */\r\n          if (Error.captureStackTrace) {\r\n            Error.captureStackTrace(this, Exception)\r\n          }\r\n\r\n          try {\r\n            if (loc) {\r\n              this.lineNumber = line\r\n\r\n              // Work around issue under safari where we can't directly set the column value\r\n              /* istanbul ignore next */\r\n              if (_Object$defineProperty) {\r\n                Object.defineProperty(this, 'column', {\r\n                  value: column,\r\n                  enumerable: true\r\n                })\r\n              } else {\r\n                this.column = column\r\n              }\r\n            }\r\n          } catch (nop) {\r\n            /* Ignore if the browser is very particular */\r\n          }\r\n        }\r\n\r\n        Exception.prototype = new Error()\r\n\r\n        exports['default'] = Exception\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 7 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        module.exports = { default: __webpack_require__(8), __esModule: true }\r\n\r\n        /***/\r\n      },\r\n      /* 8 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        var $ = __webpack_require__(9)\r\n        module.exports = function defineProperty (it, key, desc) {\r\n          return $.setDesc(it, key, desc)\r\n        }\r\n\r\n        /***/\r\n      },\r\n      /* 9 */\r\n      /***/ function (module, exports) {\r\n        var $Object = Object\r\n        module.exports = {\r\n          create: $Object.create,\r\n          getProto: $Object.getPrototypeOf,\r\n          isEnum: {}.propertyIsEnumerable,\r\n          getDesc: $Object.getOwnPropertyDescriptor,\r\n          setDesc: $Object.defineProperty,\r\n          setDescs: $Object.defineProperties,\r\n          getKeys: $Object.keys,\r\n          getNames: $Object.getOwnPropertyNames,\r\n          getSymbols: $Object.getOwnPropertySymbols,\r\n          each: [].forEach\r\n        }\r\n\r\n        /***/\r\n      },\r\n      /* 10 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        var _interopRequireDefault = __webpack_require__(1)['default']\r\n\r\n        exports.__esModule = true\r\n        exports.registerDefaultHelpers = registerDefaultHelpers\r\n\r\n        var _helpersBlockHelperMissing = __webpack_require__(11)\r\n\r\n        var _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing)\r\n\r\n        var _helpersEach = __webpack_require__(12)\r\n\r\n        var _helpersEach2 = _interopRequireDefault(_helpersEach)\r\n\r\n        var _helpersHelperMissing = __webpack_require__(13)\r\n\r\n        var _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing)\r\n\r\n        var _helpersIf = __webpack_require__(14)\r\n\r\n        var _helpersIf2 = _interopRequireDefault(_helpersIf)\r\n\r\n        var _helpersLog = __webpack_require__(15)\r\n\r\n        var _helpersLog2 = _interopRequireDefault(_helpersLog)\r\n\r\n        var _helpersLookup = __webpack_require__(16)\r\n\r\n        var _helpersLookup2 = _interopRequireDefault(_helpersLookup)\r\n\r\n        var _helpersWith = __webpack_require__(17)\r\n\r\n        var _helpersWith2 = _interopRequireDefault(_helpersWith)\r\n\r\n        function registerDefaultHelpers (instance) {\r\n          _helpersBlockHelperMissing2['default'](instance)\r\n          _helpersEach2['default'](instance)\r\n          _helpersHelperMissing2['default'](instance)\r\n          _helpersIf2['default'](instance)\r\n          _helpersLog2['default'](instance)\r\n          _helpersLookup2['default'](instance)\r\n          _helpersWith2['default'](instance)\r\n        }\r\n\r\n        /***/\r\n      },\r\n      /* 11 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        exports.__esModule = true\r\n\r\n        var _utils = __webpack_require__(5)\r\n\r\n        exports['default'] = function (instance) {\r\n          instance.registerHelper('blockHelperMissing', function (context, options) {\r\n            var inverse = options.inverse,\r\n              fn = options.fn\r\n\r\n            if (context === true) {\r\n              return fn(this)\r\n            } else if (context === false || context == null) {\r\n              return inverse(this)\r\n            } else if (_utils.isArray(context)) {\r\n              if (context.length > 0) {\r\n                if (options.ids) {\r\n                  options.ids = [options.name]\r\n                }\r\n\r\n                return instance.helpers.each(context, options)\r\n              } else {\r\n                return inverse(this)\r\n              }\r\n            } else {\r\n              if (options.data && options.ids) {\r\n                var data = _utils.createFrame(options.data)\r\n                data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name)\r\n                options = { data: data }\r\n              }\r\n\r\n              return fn(context, options)\r\n            }\r\n          })\r\n        }\r\n\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 12 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        var _interopRequireDefault = __webpack_require__(1)['default']\r\n\r\n        exports.__esModule = true\r\n\r\n        var _utils = __webpack_require__(5)\r\n\r\n        var _exception = __webpack_require__(6)\r\n\r\n        var _exception2 = _interopRequireDefault(_exception)\r\n\r\n        exports['default'] = function (instance) {\r\n          instance.registerHelper('each', function (context, options) {\r\n            if (!options) {\r\n              throw new _exception2['default']('Must pass iterator to #each')\r\n            }\r\n\r\n            var fn = options.fn,\r\n              inverse = options.inverse,\r\n              i = 0,\r\n              ret = '',\r\n              data = undefined,\r\n              contextPath = undefined\r\n\r\n            if (options.data && options.ids) {\r\n              contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.'\r\n            }\r\n\r\n            if (_utils.isFunction(context)) {\r\n              context = context.call(this)\r\n            }\r\n\r\n            if (options.data) {\r\n              data = _utils.createFrame(options.data)\r\n            }\r\n\r\n            function execIteration (field, index, last) {\r\n              if (data) {\r\n                data.key = field\r\n                data.index = index\r\n                data.first = index === 0\r\n                data.last = !!last\r\n\r\n                if (contextPath) {\r\n                  data.contextPath = contextPath + field\r\n                }\r\n              }\r\n\r\n              ret =\r\n                ret +\r\n                fn(context[field], {\r\n                  data: data,\r\n                  blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\r\n                })\r\n            }\r\n\r\n            if (context && typeof context === 'object') {\r\n              if (_utils.isArray(context)) {\r\n                for (var j = context.length; i < j; i++) {\r\n                  if (i in context) {\r\n                    execIteration(i, i, i === context.length - 1)\r\n                  }\r\n                }\r\n              } else {\r\n                var priorKey = undefined\r\n\r\n                for (var key in context) {\r\n                  if (context.hasOwnProperty(key)) {\r\n                    // We're running the iterations one step out of sync so we can detect\r\n                    // the last iteration without have to scan the object twice and create\r\n                    // an itermediate keys array.\r\n                    if (priorKey !== undefined) {\r\n                      execIteration(priorKey, i - 1)\r\n                    }\r\n                    priorKey = key\r\n                    i++\r\n                  }\r\n                }\r\n                if (priorKey !== undefined) {\r\n                  execIteration(priorKey, i - 1, true)\r\n                }\r\n              }\r\n            }\r\n\r\n            if (i === 0) {\r\n              ret = inverse(this)\r\n            }\r\n\r\n            return ret\r\n          })\r\n        }\r\n\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 13 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        var _interopRequireDefault = __webpack_require__(1)['default']\r\n\r\n        exports.__esModule = true\r\n\r\n        var _exception = __webpack_require__(6)\r\n\r\n        var _exception2 = _interopRequireDefault(_exception)\r\n\r\n        exports['default'] = function (instance) {\r\n          instance.registerHelper('helperMissing', function () /* [args, ]options */ {\r\n            if (arguments.length === 1) {\r\n              // A missing field in a {{foo}} construct.\r\n              return undefined\r\n            } else {\r\n              // Someone is actually trying to call something, blow up.\r\n              throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"')\r\n            }\r\n          })\r\n        }\r\n\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 14 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        exports.__esModule = true\r\n\r\n        var _utils = __webpack_require__(5)\r\n\r\n        exports['default'] = function (instance) {\r\n          instance.registerHelper('if', function (conditional, options) {\r\n            if (_utils.isFunction(conditional)) {\r\n              conditional = conditional.call(this)\r\n            }\r\n\r\n            // Default behavior is to render the positive path if the value is truthy and not empty.\r\n            // The `includeZero` option may be set to treat the condtional as purely not empty based on the\r\n            // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\r\n            if ((!options.hash.includeZero && !conditional) || _utils.isEmpty(conditional)) {\r\n              return options.inverse(this)\r\n            } else {\r\n              return options.fn(this)\r\n            }\r\n          })\r\n\r\n          instance.registerHelper('unless', function (conditional, options) {\r\n            return instance.helpers['if'].call(this, conditional, {\r\n              fn: options.inverse,\r\n              inverse: options.fn,\r\n              hash: options.hash\r\n            })\r\n          })\r\n        }\r\n\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 15 */\r\n      /***/ function (module, exports) {\r\n        'use strict'\r\n\r\n        exports.__esModule = true\r\n\r\n        exports['default'] = function (instance) {\r\n          instance.registerHelper('log', function () /* message, options */ {\r\n            var args = [undefined],\r\n              options = arguments[arguments.length - 1]\r\n            for (var i = 0; i < arguments.length - 1; i++) {\r\n              args.push(arguments[i])\r\n            }\r\n\r\n            var level = 1\r\n            if (options.hash.level != null) {\r\n              level = options.hash.level\r\n            } else if (options.data && options.data.level != null) {\r\n              level = options.data.level\r\n            }\r\n            args[0] = level\r\n\r\n            instance.log.apply(instance, args)\r\n          })\r\n        }\r\n\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 16 */\r\n      /***/ function (module, exports) {\r\n        'use strict'\r\n\r\n        exports.__esModule = true\r\n\r\n        exports['default'] = function (instance) {\r\n          instance.registerHelper('lookup', function (obj, field) {\r\n            return obj && obj[field]\r\n          })\r\n        }\r\n\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 17 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        exports.__esModule = true\r\n\r\n        var _utils = __webpack_require__(5)\r\n\r\n        exports['default'] = function (instance) {\r\n          instance.registerHelper('with', function (context, options) {\r\n            if (_utils.isFunction(context)) {\r\n              context = context.call(this)\r\n            }\r\n\r\n            var fn = options.fn\r\n\r\n            if (!_utils.isEmpty(context)) {\r\n              var data = options.data\r\n              if (options.data && options.ids) {\r\n                data = _utils.createFrame(options.data)\r\n                data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0])\r\n              }\r\n\r\n              return fn(context, {\r\n                data: data,\r\n                blockParams: _utils.blockParams([context], [data && data.contextPath])\r\n              })\r\n            } else {\r\n              return options.inverse(this)\r\n            }\r\n          })\r\n        }\r\n\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 18 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        var _interopRequireDefault = __webpack_require__(1)['default']\r\n\r\n        exports.__esModule = true\r\n        exports.registerDefaultDecorators = registerDefaultDecorators\r\n\r\n        var _decoratorsInline = __webpack_require__(19)\r\n\r\n        var _decoratorsInline2 = _interopRequireDefault(_decoratorsInline)\r\n\r\n        function registerDefaultDecorators (instance) {\r\n          _decoratorsInline2['default'](instance)\r\n        }\r\n\r\n        /***/\r\n      },\r\n      /* 19 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        exports.__esModule = true\r\n\r\n        var _utils = __webpack_require__(5)\r\n\r\n        exports['default'] = function (instance) {\r\n          instance.registerDecorator('inline', function (fn, props, container, options) {\r\n            var ret = fn\r\n            if (!props.partials) {\r\n              props.partials = {}\r\n              ret = function (context, options) {\r\n                // Create a new partials stack frame prior to exec.\r\n                var original = container.partials\r\n                container.partials = _utils.extend({}, original, props.partials)\r\n                var ret = fn(context, options)\r\n                container.partials = original\r\n                return ret\r\n              }\r\n            }\r\n\r\n            props.partials[options.args[0]] = options.fn\r\n\r\n            return ret\r\n          })\r\n        }\r\n\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 20 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        exports.__esModule = true\r\n\r\n        var _utils = __webpack_require__(5)\r\n\r\n        var logger = {\r\n          methodMap: ['debug', 'info', 'warn', 'error'],\r\n          level: 'info',\r\n\r\n          // Maps a given level value to the `methodMap` indexes above.\r\n          lookupLevel: function lookupLevel (level) {\r\n            if (typeof level === 'string') {\r\n              var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase())\r\n              if (levelMap >= 0) {\r\n                level = levelMap\r\n              } else {\r\n                level = parseInt(level, 10)\r\n              }\r\n            }\r\n\r\n            return level\r\n          },\r\n\r\n          // Can be overridden in the host environment\r\n          log: function log (level) {\r\n            level = logger.lookupLevel(level)\r\n\r\n            if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\r\n              var method = logger.methodMap[level]\r\n              if (!console[method]) {\r\n                // eslint-disable-line no-console\r\n                method = 'log'\r\n              }\r\n\r\n              for (\r\n                var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1;\r\n                _key < _len;\r\n                _key++\r\n              ) {\r\n                message[_key - 1] = arguments[_key]\r\n              }\r\n\r\n              console[method].apply(console, message) // eslint-disable-line no-console\r\n            }\r\n          }\r\n        }\r\n\r\n        exports['default'] = logger\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 21 */\r\n      /***/ function (module, exports) {\r\n        // Build out our basic SafeString type\r\n        'use strict'\r\n\r\n        exports.__esModule = true\r\n        function SafeString (string) {\r\n          this.string = string\r\n        }\r\n\r\n        SafeString.prototype.toString = SafeString.prototype.toHTML = function () {\r\n          return '' + this.string\r\n        }\r\n\r\n        exports['default'] = SafeString\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 22 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        var _Object$seal = __webpack_require__(23)['default']\r\n\r\n        var _interopRequireWildcard = __webpack_require__(3)['default']\r\n\r\n        var _interopRequireDefault = __webpack_require__(1)['default']\r\n\r\n        exports.__esModule = true\r\n        exports.checkRevision = checkRevision\r\n        exports.template = template\r\n        exports.wrapProgram = wrapProgram\r\n        exports.resolvePartial = resolvePartial\r\n        exports.invokePartial = invokePartial\r\n        exports.noop = noop\r\n\r\n        var _utils = __webpack_require__(5)\r\n\r\n        var Utils = _interopRequireWildcard(_utils)\r\n\r\n        var _exception = __webpack_require__(6)\r\n\r\n        var _exception2 = _interopRequireDefault(_exception)\r\n\r\n        var _base = __webpack_require__(4)\r\n\r\n        function checkRevision (compilerInfo) {\r\n          var compilerRevision = (compilerInfo && compilerInfo[0]) || 1,\r\n            currentRevision = _base.COMPILER_REVISION\r\n\r\n          if (compilerRevision !== currentRevision) {\r\n            if (compilerRevision < currentRevision) {\r\n              var runtimeVersions = _base.REVISION_CHANGES[currentRevision],\r\n                compilerVersions = _base.REVISION_CHANGES[compilerRevision]\r\n              throw new _exception2['default'](\r\n                'Template was precompiled with an older version of Handlebars than the current runtime. ' +\r\n                  'Please update your precompiler to a newer version (' +\r\n                  runtimeVersions +\r\n                  ') or downgrade your runtime to an older version (' +\r\n                  compilerVersions +\r\n                  ').'\r\n              )\r\n            } else {\r\n              // Use the embedded version info since the runtime doesn't know about this revision yet\r\n              throw new _exception2['default'](\r\n                'Template was precompiled with a newer version of Handlebars than the current runtime. ' +\r\n                  'Please update your runtime to a newer version (' +\r\n                  compilerInfo[1] +\r\n                  ').'\r\n              )\r\n            }\r\n          }\r\n        }\r\n\r\n        function template (templateSpec, env) {\r\n          /* istanbul ignore next */\r\n          if (!env) {\r\n            throw new _exception2['default']('No environment passed to template')\r\n          }\r\n          if (!templateSpec || !templateSpec.main) {\r\n            throw new _exception2['default']('Unknown template object: ' + typeof templateSpec)\r\n          }\r\n\r\n          templateSpec.main.decorator = templateSpec.main_d\r\n\r\n          // Note: Using env.VM references rather than local var references throughout this section to allow\r\n          // for external users to override these as psuedo-supported APIs.\r\n          env.VM.checkRevision(templateSpec.compiler)\r\n\r\n          function invokePartialWrapper (partial, context, options) {\r\n            if (options.hash) {\r\n              context = Utils.extend({}, context, options.hash)\r\n              if (options.ids) {\r\n                options.ids[0] = true\r\n              }\r\n            }\r\n\r\n            partial = env.VM.resolvePartial.call(this, partial, context, options)\r\n            var result = env.VM.invokePartial.call(this, partial, context, options)\r\n\r\n            if (result == null && env.compile) {\r\n              options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env)\r\n              result = options.partials[options.name](context, options)\r\n            }\r\n            if (result != null) {\r\n              if (options.indent) {\r\n                var lines = result.split('\\n')\r\n                for (var i = 0, l = lines.length; i < l; i++) {\r\n                  if (!lines[i] && i + 1 === l) {\r\n                    break\r\n                  }\r\n\r\n                  lines[i] = options.indent + lines[i]\r\n                }\r\n                result = lines.join('\\n')\r\n              }\r\n              return result\r\n            } else {\r\n              throw new _exception2['default'](\r\n                'The partial ' + options.name + ' could not be compiled when running in runtime-only mode'\r\n              )\r\n            }\r\n          }\r\n\r\n          // Just add water\r\n          var container = {\r\n            strict: function strict (obj, name) {\r\n              if (!(name in obj)) {\r\n                throw new _exception2['default']('\"' + name + '\" not defined in ' + obj)\r\n              }\r\n              return obj[name]\r\n            },\r\n            lookup: function lookup (depths, name) {\r\n              var len = depths.length\r\n              for (var i = 0; i < len; i++) {\r\n                if (depths[i] && depths[i][name] != null) {\r\n                  return depths[i][name]\r\n                }\r\n              }\r\n            },\r\n            lambda: function lambda (current, context) {\r\n              return typeof current === 'function' ? current.call(context) : current\r\n            },\r\n\r\n            escapeExpression: Utils.escapeExpression,\r\n            invokePartial: invokePartialWrapper,\r\n\r\n            fn: function fn (i) {\r\n              var ret = templateSpec[i]\r\n              ret.decorator = templateSpec[i + '_d']\r\n              return ret\r\n            },\r\n\r\n            programs: [],\r\n            program: function program (i, data, declaredBlockParams, blockParams, depths) {\r\n              var programWrapper = this.programs[i],\r\n                fn = this.fn(i)\r\n              if (data || depths || blockParams || declaredBlockParams) {\r\n                programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths)\r\n              } else if (!programWrapper) {\r\n                programWrapper = this.programs[i] = wrapProgram(this, i, fn)\r\n              }\r\n              return programWrapper\r\n            },\r\n\r\n            data: function data (value, depth) {\r\n              while (value && depth--) {\r\n                value = value._parent\r\n              }\r\n              return value\r\n            },\r\n            merge: function merge (param, common) {\r\n              var obj = param || common\r\n\r\n              if (param && common && param !== common) {\r\n                obj = Utils.extend({}, common, param)\r\n              }\r\n\r\n              return obj\r\n            },\r\n            // An empty object to use as replacement for null-contexts\r\n            nullContext: _Object$seal({}),\r\n\r\n            noop: env.VM.noop,\r\n            compilerInfo: templateSpec.compiler\r\n          }\r\n\r\n          function ret (context) {\r\n            var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1]\r\n\r\n            var data = options.data\r\n\r\n            ret._setup(options)\r\n            if (!options.partial && templateSpec.useData) {\r\n              data = initData(context, data)\r\n            }\r\n            var depths = undefined,\r\n              blockParams = templateSpec.useBlockParams ? [] : undefined\r\n            if (templateSpec.useDepths) {\r\n              if (options.depths) {\r\n                depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths\r\n              } else {\r\n                depths = [context]\r\n              }\r\n            }\r\n\r\n            function main (context /*, options*/) {\r\n              return (\r\n                '' +\r\n                templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths)\r\n              )\r\n            }\r\n            main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams)\r\n            return main(context, options)\r\n          }\r\n          ret.isTop = true\r\n\r\n          ret._setup = function (options) {\r\n            if (!options.partial) {\r\n              container.helpers = container.merge(options.helpers, env.helpers)\r\n\r\n              if (templateSpec.usePartial) {\r\n                container.partials = container.merge(options.partials, env.partials)\r\n              }\r\n              if (templateSpec.usePartial || templateSpec.useDecorators) {\r\n                container.decorators = container.merge(options.decorators, env.decorators)\r\n              }\r\n            } else {\r\n              container.helpers = options.helpers\r\n              container.partials = options.partials\r\n              container.decorators = options.decorators\r\n            }\r\n          }\r\n\r\n          ret._child = function (i, data, blockParams, depths) {\r\n            if (templateSpec.useBlockParams && !blockParams) {\r\n              throw new _exception2['default']('must pass block params')\r\n            }\r\n            if (templateSpec.useDepths && !depths) {\r\n              throw new _exception2['default']('must pass parent depths')\r\n            }\r\n\r\n            return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths)\r\n          }\r\n          return ret\r\n        }\r\n\r\n        function wrapProgram (container, i, fn, data, declaredBlockParams, blockParams, depths) {\r\n          function prog (context) {\r\n            var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1]\r\n\r\n            var currentDepths = depths\r\n            if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {\r\n              currentDepths = [context].concat(depths)\r\n            }\r\n\r\n            return fn(\r\n              container,\r\n              context,\r\n              container.helpers,\r\n              container.partials,\r\n              options.data || data,\r\n              blockParams && [options.blockParams].concat(blockParams),\r\n              currentDepths\r\n            )\r\n          }\r\n\r\n          prog = executeDecorators(fn, prog, container, depths, data, blockParams)\r\n\r\n          prog.program = i\r\n          prog.depth = depths ? depths.length : 0\r\n          prog.blockParams = declaredBlockParams || 0\r\n          return prog\r\n        }\r\n\r\n        function resolvePartial (partial, context, options) {\r\n          if (!partial) {\r\n            if (options.name === '@partial-block') {\r\n              partial = options.data['partial-block']\r\n            } else {\r\n              partial = options.partials[options.name]\r\n            }\r\n          } else if (!partial.call && !options.name) {\r\n            // This is a dynamic partial that returned a string\r\n            options.name = partial\r\n            partial = options.partials[partial]\r\n          }\r\n          return partial\r\n        }\r\n\r\n        function invokePartial (partial, context, options) {\r\n          // Use the current closure context to save the partial-block if this partial\r\n          var currentPartialBlock = options.data && options.data['partial-block']\r\n          options.partial = true\r\n          if (options.ids) {\r\n            options.data.contextPath = options.ids[0] || options.data.contextPath\r\n          }\r\n\r\n          var partialBlock = undefined\r\n          if (options.fn && options.fn !== noop) {\r\n            ;(function () {\r\n              options.data = _base.createFrame(options.data)\r\n              // Wrapper function to get access to currentPartialBlock from the closure\r\n              var fn = options.fn\r\n              partialBlock = options.data['partial-block'] = function partialBlockWrapper (context) {\r\n                var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1]\r\n\r\n                // Restore the partial-block from the closure for the execution of the block\r\n                // i.e. the part inside the block of the partial call.\r\n                options.data = _base.createFrame(options.data)\r\n                options.data['partial-block'] = currentPartialBlock\r\n                return fn(context, options)\r\n              }\r\n              if (fn.partials) {\r\n                options.partials = Utils.extend({}, options.partials, fn.partials)\r\n              }\r\n            })()\r\n          }\r\n\r\n          if (partial === undefined && partialBlock) {\r\n            partial = partialBlock\r\n          }\r\n\r\n          if (partial === undefined) {\r\n            throw new _exception2['default']('The partial ' + options.name + ' could not be found')\r\n          } else if (partial instanceof Function) {\r\n            return partial(context, options)\r\n          }\r\n        }\r\n\r\n        function noop () {\r\n          return ''\r\n        }\r\n\r\n        function initData (context, data) {\r\n          if (!data || !('root' in data)) {\r\n            data = data ? _base.createFrame(data) : {}\r\n            data.root = context\r\n          }\r\n          return data\r\n        }\r\n\r\n        function executeDecorators (fn, prog, container, depths, data, blockParams) {\r\n          if (fn.decorator) {\r\n            var props = {}\r\n            prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths)\r\n            Utils.extend(prog, props)\r\n          }\r\n          return prog\r\n        }\r\n\r\n        /***/\r\n      },\r\n      /* 23 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        module.exports = { default: __webpack_require__(24), __esModule: true }\r\n\r\n        /***/\r\n      },\r\n      /* 24 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        __webpack_require__(25)\r\n        module.exports = __webpack_require__(30).Object.seal\r\n\r\n        /***/\r\n      },\r\n      /* 25 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        // 19.1.2.17 Object.seal(O)\r\n        var isObject = __webpack_require__(26)\r\n\r\n        __webpack_require__(27)('seal', function ($seal) {\r\n          return function seal (it) {\r\n            return $seal && isObject(it) ? $seal(it) : it\r\n          }\r\n        })\r\n\r\n        /***/\r\n      },\r\n      /* 26 */\r\n      /***/ function (module, exports) {\r\n        module.exports = function (it) {\r\n          return typeof it === 'object' ? it !== null : typeof it === 'function'\r\n        }\r\n\r\n        /***/\r\n      },\r\n      /* 27 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        // most Object methods by ES6 should accept primitives\r\n        var $export = __webpack_require__(28),\r\n          core = __webpack_require__(30),\r\n          fails = __webpack_require__(33)\r\n        module.exports = function (KEY, exec) {\r\n          var fn = (core.Object || {})[KEY] || Object[KEY],\r\n            exp = {}\r\n          exp[KEY] = exec(fn)\r\n          $export(\r\n            $export.S +\r\n              $export.F *\r\n                fails(function () {\r\n                  fn(1)\r\n                }),\r\n            'Object',\r\n            exp\r\n          )\r\n        }\r\n\r\n        /***/\r\n      },\r\n      /* 28 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        var global = __webpack_require__(29),\r\n          core = __webpack_require__(30),\r\n          ctx = __webpack_require__(31),\r\n          PROTOTYPE = 'prototype'\r\n\r\n        var $export = function (type, name, source) {\r\n          var IS_FORCED = type & $export.F,\r\n            IS_GLOBAL = type & $export.G,\r\n            IS_STATIC = type & $export.S,\r\n            IS_PROTO = type & $export.P,\r\n            IS_BIND = type & $export.B,\r\n            IS_WRAP = type & $export.W,\r\n            exports = IS_GLOBAL ? core : core[name] || (core[name] = {}),\r\n            target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE],\r\n            key,\r\n            own,\r\n            out\r\n          if (IS_GLOBAL) source = name\r\n          for (key in source) {\r\n            // contains in native\r\n            own = !IS_FORCED && target && key in target\r\n            if (own && key in exports) continue\r\n            // export native or passed\r\n            out = own ? target[key] : source[key]\r\n            // prevent global pollution for namespaces\r\n            exports[key] =\r\n              IS_GLOBAL && typeof target[key] != 'function'\r\n                ? source[key]\r\n                : // bind timers to global for call from export context\r\n                IS_BIND && own\r\n                ? ctx(out, global)\r\n                : // wrap global constructors for prevent change them in library\r\n                IS_WRAP && target[key] == out\r\n                ? (function (C) {\r\n                    var F = function (param) {\r\n                      return this instanceof C ? new C(param) : C(param)\r\n                    }\r\n                    F[PROTOTYPE] = C[PROTOTYPE]\r\n                    return F\r\n                    // make static versions for prototype methods\r\n                  })(out)\r\n                : IS_PROTO && typeof out == 'function'\r\n                ? ctx(Function.call, out)\r\n                : out\r\n            if (IS_PROTO) (exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out\r\n          }\r\n        }\r\n        // type bitmap\r\n        $export.F = 1 // forced\r\n        $export.G = 2 // global\r\n        $export.S = 4 // static\r\n        $export.P = 8 // proto\r\n        $export.B = 16 // bind\r\n        $export.W = 32 // wrap\r\n        module.exports = $export\r\n\r\n        /***/\r\n      },\r\n      /* 29 */\r\n      /***/ function (module, exports) {\r\n        // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\r\n        var global = (module.exports =\r\n          typeof window != 'undefined' && window.Math == Math\r\n            ? window\r\n            : typeof self != 'undefined' && self.Math == Math\r\n            ? self\r\n            : Function('return this')())\r\n        if (typeof __g == 'number') __g = global // eslint-disable-line no-undef\r\n\r\n        /***/\r\n      },\r\n      /* 30 */\r\n      /***/ function (module, exports) {\r\n        var core = (module.exports = { version: '1.2.6' })\r\n        if (typeof __e == 'number') __e = core // eslint-disable-line no-undef\r\n\r\n        /***/\r\n      },\r\n      /* 31 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        // optional / simple context binding\r\n        var aFunction = __webpack_require__(32)\r\n        module.exports = function (fn, that, length) {\r\n          aFunction(fn)\r\n          if (that === undefined) return fn\r\n          switch (length) {\r\n            case 1:\r\n              return function (a) {\r\n                return fn.call(that, a)\r\n              }\r\n            case 2:\r\n              return function (a, b) {\r\n                return fn.call(that, a, b)\r\n              }\r\n            case 3:\r\n              return function (a, b, c) {\r\n                return fn.call(that, a, b, c)\r\n              }\r\n          }\r\n          return function (/* ...args */) {\r\n            return fn.apply(that, arguments)\r\n          }\r\n        }\r\n\r\n        /***/\r\n      },\r\n      /* 32 */\r\n      /***/ function (module, exports) {\r\n        module.exports = function (it) {\r\n          if (typeof it != 'function') throw TypeError(it + ' is not a function!')\r\n          return it\r\n        }\r\n\r\n        /***/\r\n      },\r\n      /* 33 */\r\n      /***/ function (module, exports) {\r\n        module.exports = function (exec) {\r\n          try {\r\n            return !!exec()\r\n          } catch (e) {\r\n            return true\r\n          }\r\n        }\r\n\r\n        /***/\r\n      },\r\n      /* 34 */\r\n      /***/ function (module, exports) {\r\n        /* WEBPACK VAR INJECTION */ ;(function (global) {\r\n          /* global window */\r\n          'use strict'\r\n\r\n          exports.__esModule = true\r\n\r\n          exports['default'] = function (Handlebars) {\r\n            /* istanbul ignore next */\r\n            var root = typeof global !== 'undefined' ? global : window,\r\n              $Handlebars = root.Handlebars\r\n            /* istanbul ignore next */\r\n            Handlebars.noConflict = function () {\r\n              if (root.Handlebars === Handlebars) {\r\n                root.Handlebars = $Handlebars\r\n              }\r\n              return Handlebars\r\n            }\r\n          }\r\n\r\n          module.exports = exports['default']\r\n          /* WEBPACK VAR INJECTION */\r\n        }.call(\r\n          exports,\r\n          (function () {\r\n            return this\r\n          })()\r\n        ))\r\n\r\n        /***/\r\n      },\r\n      /* 35 */\r\n      /***/ function (module, exports) {\r\n        'use strict'\r\n\r\n        exports.__esModule = true\r\n        var AST = {\r\n          // Public API used to evaluate derived attributes regarding AST nodes\r\n          helpers: {\r\n            // a mustache is definitely a helper if:\r\n            // * it is an eligible helper, and\r\n            // * it has at least one parameter or hash segment\r\n            helperExpression: function helperExpression (node) {\r\n              return (\r\n                node.type === 'SubExpression' ||\r\n                ((node.type === 'MustacheStatement' || node.type === 'BlockStatement') &&\r\n                  !!((node.params && node.params.length) || node.hash))\r\n              )\r\n            },\r\n\r\n            scopedId: function scopedId (path) {\r\n              return /^\\.|this\\b/.test(path.original)\r\n            },\r\n\r\n            // an ID is simple if it only has one part, and that part is not\r\n            // `..` or `this`.\r\n            simpleId: function simpleId (path) {\r\n              return path.parts.length === 1 && !AST.helpers.scopedId(path) && !path.depth\r\n            }\r\n          }\r\n        }\r\n\r\n        // Must be exported as an object rather than the root of the module as the jison lexer\r\n        // must modify the object to operate properly.\r\n        exports['default'] = AST\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 36 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        var _interopRequireDefault = __webpack_require__(1)['default']\r\n\r\n        var _interopRequireWildcard = __webpack_require__(3)['default']\r\n\r\n        exports.__esModule = true\r\n        exports.parse = parse\r\n\r\n        var _parser = __webpack_require__(37)\r\n\r\n        var _parser2 = _interopRequireDefault(_parser)\r\n\r\n        var _whitespaceControl = __webpack_require__(38)\r\n\r\n        var _whitespaceControl2 = _interopRequireDefault(_whitespaceControl)\r\n\r\n        var _helpers = __webpack_require__(40)\r\n\r\n        var Helpers = _interopRequireWildcard(_helpers)\r\n\r\n        var _utils = __webpack_require__(5)\r\n\r\n        exports.parser = _parser2['default']\r\n\r\n        var yy = {}\r\n        _utils.extend(yy, Helpers)\r\n\r\n        function parse (input, options) {\r\n          // Just return if an already-compiled AST was passed in.\r\n          if (input.type === 'Program') {\r\n            return input\r\n          }\r\n\r\n          _parser2['default'].yy = yy\r\n\r\n          // Altering the shared object here, but this is ok as parser is a sync operation\r\n          yy.locInfo = function (locInfo) {\r\n            return new yy.SourceLocation(options && options.srcName, locInfo)\r\n          }\r\n\r\n          var strip = new _whitespaceControl2['default'](options)\r\n          return strip.accept(_parser2['default'].parse(input))\r\n        }\r\n\r\n        /***/\r\n      },\r\n      /* 37 */\r\n      /***/ function (module, exports) {\r\n        // File ignored in coverage tests via setting in .istanbul.yml\r\n        /* Jison generated parser */\r\n        'use strict'\r\n\r\n        exports.__esModule = true\r\n        var handlebars = (function () {\r\n          var parser = {\r\n            trace: function trace () {},\r\n            yy: {},\r\n            symbols_: {\r\n              error: 2,\r\n              root: 3,\r\n              program: 4,\r\n              EOF: 5,\r\n              program_repetition0: 6,\r\n              statement: 7,\r\n              mustache: 8,\r\n              block: 9,\r\n              rawBlock: 10,\r\n              partial: 11,\r\n              partialBlock: 12,\r\n              content: 13,\r\n              COMMENT: 14,\r\n              CONTENT: 15,\r\n              openRawBlock: 16,\r\n              rawBlock_repetition_plus0: 17,\r\n              END_RAW_BLOCK: 18,\r\n              OPEN_RAW_BLOCK: 19,\r\n              helperName: 20,\r\n              openRawBlock_repetition0: 21,\r\n              openRawBlock_option0: 22,\r\n              CLOSE_RAW_BLOCK: 23,\r\n              openBlock: 24,\r\n              block_option0: 25,\r\n              closeBlock: 26,\r\n              openInverse: 27,\r\n              block_option1: 28,\r\n              OPEN_BLOCK: 29,\r\n              openBlock_repetition0: 30,\r\n              openBlock_option0: 31,\r\n              openBlock_option1: 32,\r\n              CLOSE: 33,\r\n              OPEN_INVERSE: 34,\r\n              openInverse_repetition0: 35,\r\n              openInverse_option0: 36,\r\n              openInverse_option1: 37,\r\n              openInverseChain: 38,\r\n              OPEN_INVERSE_CHAIN: 39,\r\n              openInverseChain_repetition0: 40,\r\n              openInverseChain_option0: 41,\r\n              openInverseChain_option1: 42,\r\n              inverseAndProgram: 43,\r\n              INVERSE: 44,\r\n              inverseChain: 45,\r\n              inverseChain_option0: 46,\r\n              OPEN_ENDBLOCK: 47,\r\n              OPEN: 48,\r\n              mustache_repetition0: 49,\r\n              mustache_option0: 50,\r\n              OPEN_UNESCAPED: 51,\r\n              mustache_repetition1: 52,\r\n              mustache_option1: 53,\r\n              CLOSE_UNESCAPED: 54,\r\n              OPEN_PARTIAL: 55,\r\n              partialName: 56,\r\n              partial_repetition0: 57,\r\n              partial_option0: 58,\r\n              openPartialBlock: 59,\r\n              OPEN_PARTIAL_BLOCK: 60,\r\n              openPartialBlock_repetition0: 61,\r\n              openPartialBlock_option0: 62,\r\n              param: 63,\r\n              sexpr: 64,\r\n              OPEN_SEXPR: 65,\r\n              sexpr_repetition0: 66,\r\n              sexpr_option0: 67,\r\n              CLOSE_SEXPR: 68,\r\n              hash: 69,\r\n              hash_repetition_plus0: 70,\r\n              hashSegment: 71,\r\n              ID: 72,\r\n              EQUALS: 73,\r\n              blockParams: 74,\r\n              OPEN_BLOCK_PARAMS: 75,\r\n              blockParams_repetition_plus0: 76,\r\n              CLOSE_BLOCK_PARAMS: 77,\r\n              path: 78,\r\n              dataName: 79,\r\n              STRING: 80,\r\n              NUMBER: 81,\r\n              BOOLEAN: 82,\r\n              UNDEFINED: 83,\r\n              NULL: 84,\r\n              DATA: 85,\r\n              pathSegments: 86,\r\n              SEP: 87,\r\n              $accept: 0,\r\n              $end: 1\r\n            },\r\n            terminals_: {\r\n              2: 'error',\r\n              5: 'EOF',\r\n              14: 'COMMENT',\r\n              15: 'CONTENT',\r\n              18: 'END_RAW_BLOCK',\r\n              19: 'OPEN_RAW_BLOCK',\r\n              23: 'CLOSE_RAW_BLOCK',\r\n              29: 'OPEN_BLOCK',\r\n              33: 'CLOSE',\r\n              34: 'OPEN_INVERSE',\r\n              39: 'OPEN_INVERSE_CHAIN',\r\n              44: 'INVERSE',\r\n              47: 'OPEN_ENDBLOCK',\r\n              48: 'OPEN',\r\n              51: 'OPEN_UNESCAPED',\r\n              54: 'CLOSE_UNESCAPED',\r\n              55: 'OPEN_PARTIAL',\r\n              60: 'OPEN_PARTIAL_BLOCK',\r\n              65: 'OPEN_SEXPR',\r\n              68: 'CLOSE_SEXPR',\r\n              72: 'ID',\r\n              73: 'EQUALS',\r\n              75: 'OPEN_BLOCK_PARAMS',\r\n              77: 'CLOSE_BLOCK_PARAMS',\r\n              80: 'STRING',\r\n              81: 'NUMBER',\r\n              82: 'BOOLEAN',\r\n              83: 'UNDEFINED',\r\n              84: 'NULL',\r\n              85: 'DATA',\r\n              87: 'SEP'\r\n            },\r\n            productions_: [\r\n              0,\r\n              [3, 2],\r\n              [4, 1],\r\n              [7, 1],\r\n              [7, 1],\r\n              [7, 1],\r\n              [7, 1],\r\n              [7, 1],\r\n              [7, 1],\r\n              [7, 1],\r\n              [13, 1],\r\n              [10, 3],\r\n              [16, 5],\r\n              [9, 4],\r\n              [9, 4],\r\n              [24, 6],\r\n              [27, 6],\r\n              [38, 6],\r\n              [43, 2],\r\n              [45, 3],\r\n              [45, 1],\r\n              [26, 3],\r\n              [8, 5],\r\n              [8, 5],\r\n              [11, 5],\r\n              [12, 3],\r\n              [59, 5],\r\n              [63, 1],\r\n              [63, 1],\r\n              [64, 5],\r\n              [69, 1],\r\n              [71, 3],\r\n              [74, 3],\r\n              [20, 1],\r\n              [20, 1],\r\n              [20, 1],\r\n              [20, 1],\r\n              [20, 1],\r\n              [20, 1],\r\n              [20, 1],\r\n              [56, 1],\r\n              [56, 1],\r\n              [79, 2],\r\n              [78, 1],\r\n              [86, 3],\r\n              [86, 1],\r\n              [6, 0],\r\n              [6, 2],\r\n              [17, 1],\r\n              [17, 2],\r\n              [21, 0],\r\n              [21, 2],\r\n              [22, 0],\r\n              [22, 1],\r\n              [25, 0],\r\n              [25, 1],\r\n              [28, 0],\r\n              [28, 1],\r\n              [30, 0],\r\n              [30, 2],\r\n              [31, 0],\r\n              [31, 1],\r\n              [32, 0],\r\n              [32, 1],\r\n              [35, 0],\r\n              [35, 2],\r\n              [36, 0],\r\n              [36, 1],\r\n              [37, 0],\r\n              [37, 1],\r\n              [40, 0],\r\n              [40, 2],\r\n              [41, 0],\r\n              [41, 1],\r\n              [42, 0],\r\n              [42, 1],\r\n              [46, 0],\r\n              [46, 1],\r\n              [49, 0],\r\n              [49, 2],\r\n              [50, 0],\r\n              [50, 1],\r\n              [52, 0],\r\n              [52, 2],\r\n              [53, 0],\r\n              [53, 1],\r\n              [57, 0],\r\n              [57, 2],\r\n              [58, 0],\r\n              [58, 1],\r\n              [61, 0],\r\n              [61, 2],\r\n              [62, 0],\r\n              [62, 1],\r\n              [66, 0],\r\n              [66, 2],\r\n              [67, 0],\r\n              [67, 1],\r\n              [70, 1],\r\n              [70, 2],\r\n              [76, 1],\r\n              [76, 2]\r\n            ],\r\n            performAction: function anonymous (\r\n              yytext,\r\n              yyleng,\r\n              yylineno,\r\n              yy,\r\n              yystate,\r\n              $$,\r\n              _$\r\n              /**/\r\n            ) {\r\n              var $0 = $$.length - 1\r\n              switch (yystate) {\r\n                case 1:\r\n                  return $$[$0 - 1]\r\n                  break\r\n                case 2:\r\n                  this.$ = yy.prepareProgram($$[$0])\r\n                  break\r\n                case 3:\r\n                  this.$ = $$[$0]\r\n                  break\r\n                case 4:\r\n                  this.$ = $$[$0]\r\n                  break\r\n                case 5:\r\n                  this.$ = $$[$0]\r\n                  break\r\n                case 6:\r\n                  this.$ = $$[$0]\r\n                  break\r\n                case 7:\r\n                  this.$ = $$[$0]\r\n                  break\r\n                case 8:\r\n                  this.$ = $$[$0]\r\n                  break\r\n                case 9:\r\n                  this.$ = {\r\n                    type: 'CommentStatement',\r\n                    value: yy.stripComment($$[$0]),\r\n                    strip: yy.stripFlags($$[$0], $$[$0]),\r\n                    loc: yy.locInfo(this._$)\r\n                  }\r\n\r\n                  break\r\n                case 10:\r\n                  this.$ = {\r\n                    type: 'ContentStatement',\r\n                    original: $$[$0],\r\n                    value: $$[$0],\r\n                    loc: yy.locInfo(this._$)\r\n                  }\r\n\r\n                  break\r\n                case 11:\r\n                  this.$ = yy.prepareRawBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$)\r\n                  break\r\n                case 12:\r\n                  this.$ = { path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1] }\r\n                  break\r\n                case 13:\r\n                  this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], false, this._$)\r\n                  break\r\n                case 14:\r\n                  this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], true, this._$)\r\n                  break\r\n                case 15:\r\n                  this.$ = {\r\n                    open: $$[$0 - 5],\r\n                    path: $$[$0 - 4],\r\n                    params: $$[$0 - 3],\r\n                    hash: $$[$0 - 2],\r\n                    blockParams: $$[$0 - 1],\r\n                    strip: yy.stripFlags($$[$0 - 5], $$[$0])\r\n                  }\r\n                  break\r\n                case 16:\r\n                  this.$ = {\r\n                    path: $$[$0 - 4],\r\n                    params: $$[$0 - 3],\r\n                    hash: $$[$0 - 2],\r\n                    blockParams: $$[$0 - 1],\r\n                    strip: yy.stripFlags($$[$0 - 5], $$[$0])\r\n                  }\r\n                  break\r\n                case 17:\r\n                  this.$ = {\r\n                    path: $$[$0 - 4],\r\n                    params: $$[$0 - 3],\r\n                    hash: $$[$0 - 2],\r\n                    blockParams: $$[$0 - 1],\r\n                    strip: yy.stripFlags($$[$0 - 5], $$[$0])\r\n                  }\r\n                  break\r\n                case 18:\r\n                  this.$ = { strip: yy.stripFlags($$[$0 - 1], $$[$0 - 1]), program: $$[$0] }\r\n                  break\r\n                case 19:\r\n                  var inverse = yy.prepareBlock($$[$0 - 2], $$[$0 - 1], $$[$0], $$[$0], false, this._$),\r\n                    program = yy.prepareProgram([inverse], $$[$0 - 1].loc)\r\n                  program.chained = true\r\n\r\n                  this.$ = { strip: $$[$0 - 2].strip, program: program, chain: true }\r\n\r\n                  break\r\n                case 20:\r\n                  this.$ = $$[$0]\r\n                  break\r\n                case 21:\r\n                  this.$ = { path: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 2], $$[$0]) }\r\n                  break\r\n                case 22:\r\n                  this.$ = yy.prepareMustache(\r\n                    $$[$0 - 3],\r\n                    $$[$0 - 2],\r\n                    $$[$0 - 1],\r\n                    $$[$0 - 4],\r\n                    yy.stripFlags($$[$0 - 4], $$[$0]),\r\n                    this._$\r\n                  )\r\n                  break\r\n                case 23:\r\n                  this.$ = yy.prepareMustache(\r\n                    $$[$0 - 3],\r\n                    $$[$0 - 2],\r\n                    $$[$0 - 1],\r\n                    $$[$0 - 4],\r\n                    yy.stripFlags($$[$0 - 4], $$[$0]),\r\n                    this._$\r\n                  )\r\n                  break\r\n                case 24:\r\n                  this.$ = {\r\n                    type: 'PartialStatement',\r\n                    name: $$[$0 - 3],\r\n                    params: $$[$0 - 2],\r\n                    hash: $$[$0 - 1],\r\n                    indent: '',\r\n                    strip: yy.stripFlags($$[$0 - 4], $$[$0]),\r\n                    loc: yy.locInfo(this._$)\r\n                  }\r\n\r\n                  break\r\n                case 25:\r\n                  this.$ = yy.preparePartialBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$)\r\n                  break\r\n                case 26:\r\n                  this.$ = {\r\n                    path: $$[$0 - 3],\r\n                    params: $$[$0 - 2],\r\n                    hash: $$[$0 - 1],\r\n                    strip: yy.stripFlags($$[$0 - 4], $$[$0])\r\n                  }\r\n                  break\r\n                case 27:\r\n                  this.$ = $$[$0]\r\n                  break\r\n                case 28:\r\n                  this.$ = $$[$0]\r\n                  break\r\n                case 29:\r\n                  this.$ = {\r\n                    type: 'SubExpression',\r\n                    path: $$[$0 - 3],\r\n                    params: $$[$0 - 2],\r\n                    hash: $$[$0 - 1],\r\n                    loc: yy.locInfo(this._$)\r\n                  }\r\n\r\n                  break\r\n                case 30:\r\n                  this.$ = { type: 'Hash', pairs: $$[$0], loc: yy.locInfo(this._$) }\r\n                  break\r\n                case 31:\r\n                  this.$ = { type: 'HashPair', key: yy.id($$[$0 - 2]), value: $$[$0], loc: yy.locInfo(this._$) }\r\n                  break\r\n                case 32:\r\n                  this.$ = yy.id($$[$0 - 1])\r\n                  break\r\n                case 33:\r\n                  this.$ = $$[$0]\r\n                  break\r\n                case 34:\r\n                  this.$ = $$[$0]\r\n                  break\r\n                case 35:\r\n                  this.$ = { type: 'StringLiteral', value: $$[$0], original: $$[$0], loc: yy.locInfo(this._$) }\r\n                  break\r\n                case 36:\r\n                  this.$ = {\r\n                    type: 'NumberLiteral',\r\n                    value: Number($$[$0]),\r\n                    original: Number($$[$0]),\r\n                    loc: yy.locInfo(this._$)\r\n                  }\r\n                  break\r\n                case 37:\r\n                  this.$ = {\r\n                    type: 'BooleanLiteral',\r\n                    value: $$[$0] === 'true',\r\n                    original: $$[$0] === 'true',\r\n                    loc: yy.locInfo(this._$)\r\n                  }\r\n                  break\r\n                case 38:\r\n                  this.$ = { type: 'UndefinedLiteral', original: undefined, value: undefined, loc: yy.locInfo(this._$) }\r\n                  break\r\n                case 39:\r\n                  this.$ = { type: 'NullLiteral', original: null, value: null, loc: yy.locInfo(this._$) }\r\n                  break\r\n                case 40:\r\n                  this.$ = $$[$0]\r\n                  break\r\n                case 41:\r\n                  this.$ = $$[$0]\r\n                  break\r\n                case 42:\r\n                  this.$ = yy.preparePath(true, $$[$0], this._$)\r\n                  break\r\n                case 43:\r\n                  this.$ = yy.preparePath(false, $$[$0], this._$)\r\n                  break\r\n                case 44:\r\n                  $$[$0 - 2].push({ part: yy.id($$[$0]), original: $$[$0], separator: $$[$0 - 1] })\r\n                  this.$ = $$[$0 - 2]\r\n                  break\r\n                case 45:\r\n                  this.$ = [{ part: yy.id($$[$0]), original: $$[$0] }]\r\n                  break\r\n                case 46:\r\n                  this.$ = []\r\n                  break\r\n                case 47:\r\n                  $$[$0 - 1].push($$[$0])\r\n                  break\r\n                case 48:\r\n                  this.$ = [$$[$0]]\r\n                  break\r\n                case 49:\r\n                  $$[$0 - 1].push($$[$0])\r\n                  break\r\n                case 50:\r\n                  this.$ = []\r\n                  break\r\n                case 51:\r\n                  $$[$0 - 1].push($$[$0])\r\n                  break\r\n                case 58:\r\n                  this.$ = []\r\n                  break\r\n                case 59:\r\n                  $$[$0 - 1].push($$[$0])\r\n                  break\r\n                case 64:\r\n                  this.$ = []\r\n                  break\r\n                case 65:\r\n                  $$[$0 - 1].push($$[$0])\r\n                  break\r\n                case 70:\r\n                  this.$ = []\r\n                  break\r\n                case 71:\r\n                  $$[$0 - 1].push($$[$0])\r\n                  break\r\n                case 78:\r\n                  this.$ = []\r\n                  break\r\n                case 79:\r\n                  $$[$0 - 1].push($$[$0])\r\n                  break\r\n                case 82:\r\n                  this.$ = []\r\n                  break\r\n                case 83:\r\n                  $$[$0 - 1].push($$[$0])\r\n                  break\r\n                case 86:\r\n                  this.$ = []\r\n                  break\r\n                case 87:\r\n                  $$[$0 - 1].push($$[$0])\r\n                  break\r\n                case 90:\r\n                  this.$ = []\r\n                  break\r\n                case 91:\r\n                  $$[$0 - 1].push($$[$0])\r\n                  break\r\n                case 94:\r\n                  this.$ = []\r\n                  break\r\n                case 95:\r\n                  $$[$0 - 1].push($$[$0])\r\n                  break\r\n                case 98:\r\n                  this.$ = [$$[$0]]\r\n                  break\r\n                case 99:\r\n                  $$[$0 - 1].push($$[$0])\r\n                  break\r\n                case 100:\r\n                  this.$ = [$$[$0]]\r\n                  break\r\n                case 101:\r\n                  $$[$0 - 1].push($$[$0])\r\n                  break\r\n              }\r\n            },\r\n            table: [\r\n              {\r\n                3: 1,\r\n                4: 2,\r\n                5: [2, 46],\r\n                6: 3,\r\n                14: [2, 46],\r\n                15: [2, 46],\r\n                19: [2, 46],\r\n                29: [2, 46],\r\n                34: [2, 46],\r\n                48: [2, 46],\r\n                51: [2, 46],\r\n                55: [2, 46],\r\n                60: [2, 46]\r\n              },\r\n              { 1: [3] },\r\n              { 5: [1, 4] },\r\n              {\r\n                5: [2, 2],\r\n                7: 5,\r\n                8: 6,\r\n                9: 7,\r\n                10: 8,\r\n                11: 9,\r\n                12: 10,\r\n                13: 11,\r\n                14: [1, 12],\r\n                15: [1, 20],\r\n                16: 17,\r\n                19: [1, 23],\r\n                24: 15,\r\n                27: 16,\r\n                29: [1, 21],\r\n                34: [1, 22],\r\n                39: [2, 2],\r\n                44: [2, 2],\r\n                47: [2, 2],\r\n                48: [1, 13],\r\n                51: [1, 14],\r\n                55: [1, 18],\r\n                59: 19,\r\n                60: [1, 24]\r\n              },\r\n              { 1: [2, 1] },\r\n              {\r\n                5: [2, 47],\r\n                14: [2, 47],\r\n                15: [2, 47],\r\n                19: [2, 47],\r\n                29: [2, 47],\r\n                34: [2, 47],\r\n                39: [2, 47],\r\n                44: [2, 47],\r\n                47: [2, 47],\r\n                48: [2, 47],\r\n                51: [2, 47],\r\n                55: [2, 47],\r\n                60: [2, 47]\r\n              },\r\n              {\r\n                5: [2, 3],\r\n                14: [2, 3],\r\n                15: [2, 3],\r\n                19: [2, 3],\r\n                29: [2, 3],\r\n                34: [2, 3],\r\n                39: [2, 3],\r\n                44: [2, 3],\r\n                47: [2, 3],\r\n                48: [2, 3],\r\n                51: [2, 3],\r\n                55: [2, 3],\r\n                60: [2, 3]\r\n              },\r\n              {\r\n                5: [2, 4],\r\n                14: [2, 4],\r\n                15: [2, 4],\r\n                19: [2, 4],\r\n                29: [2, 4],\r\n                34: [2, 4],\r\n                39: [2, 4],\r\n                44: [2, 4],\r\n                47: [2, 4],\r\n                48: [2, 4],\r\n                51: [2, 4],\r\n                55: [2, 4],\r\n                60: [2, 4]\r\n              },\r\n              {\r\n                5: [2, 5],\r\n                14: [2, 5],\r\n                15: [2, 5],\r\n                19: [2, 5],\r\n                29: [2, 5],\r\n                34: [2, 5],\r\n                39: [2, 5],\r\n                44: [2, 5],\r\n                47: [2, 5],\r\n                48: [2, 5],\r\n                51: [2, 5],\r\n                55: [2, 5],\r\n                60: [2, 5]\r\n              },\r\n              {\r\n                5: [2, 6],\r\n                14: [2, 6],\r\n                15: [2, 6],\r\n                19: [2, 6],\r\n                29: [2, 6],\r\n                34: [2, 6],\r\n                39: [2, 6],\r\n                44: [2, 6],\r\n                47: [2, 6],\r\n                48: [2, 6],\r\n                51: [2, 6],\r\n                55: [2, 6],\r\n                60: [2, 6]\r\n              },\r\n              {\r\n                5: [2, 7],\r\n                14: [2, 7],\r\n                15: [2, 7],\r\n                19: [2, 7],\r\n                29: [2, 7],\r\n                34: [2, 7],\r\n                39: [2, 7],\r\n                44: [2, 7],\r\n                47: [2, 7],\r\n                48: [2, 7],\r\n                51: [2, 7],\r\n                55: [2, 7],\r\n                60: [2, 7]\r\n              },\r\n              {\r\n                5: [2, 8],\r\n                14: [2, 8],\r\n                15: [2, 8],\r\n                19: [2, 8],\r\n                29: [2, 8],\r\n                34: [2, 8],\r\n                39: [2, 8],\r\n                44: [2, 8],\r\n                47: [2, 8],\r\n                48: [2, 8],\r\n                51: [2, 8],\r\n                55: [2, 8],\r\n                60: [2, 8]\r\n              },\r\n              {\r\n                5: [2, 9],\r\n                14: [2, 9],\r\n                15: [2, 9],\r\n                19: [2, 9],\r\n                29: [2, 9],\r\n                34: [2, 9],\r\n                39: [2, 9],\r\n                44: [2, 9],\r\n                47: [2, 9],\r\n                48: [2, 9],\r\n                51: [2, 9],\r\n                55: [2, 9],\r\n                60: [2, 9]\r\n              },\r\n              {\r\n                20: 25,\r\n                72: [1, 35],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              {\r\n                20: 36,\r\n                72: [1, 35],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              {\r\n                4: 37,\r\n                6: 3,\r\n                14: [2, 46],\r\n                15: [2, 46],\r\n                19: [2, 46],\r\n                29: [2, 46],\r\n                34: [2, 46],\r\n                39: [2, 46],\r\n                44: [2, 46],\r\n                47: [2, 46],\r\n                48: [2, 46],\r\n                51: [2, 46],\r\n                55: [2, 46],\r\n                60: [2, 46]\r\n              },\r\n              {\r\n                4: 38,\r\n                6: 3,\r\n                14: [2, 46],\r\n                15: [2, 46],\r\n                19: [2, 46],\r\n                29: [2, 46],\r\n                34: [2, 46],\r\n                44: [2, 46],\r\n                47: [2, 46],\r\n                48: [2, 46],\r\n                51: [2, 46],\r\n                55: [2, 46],\r\n                60: [2, 46]\r\n              },\r\n              { 13: 40, 15: [1, 20], 17: 39 },\r\n              {\r\n                20: 42,\r\n                56: 41,\r\n                64: 43,\r\n                65: [1, 44],\r\n                72: [1, 35],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              {\r\n                4: 45,\r\n                6: 3,\r\n                14: [2, 46],\r\n                15: [2, 46],\r\n                19: [2, 46],\r\n                29: [2, 46],\r\n                34: [2, 46],\r\n                47: [2, 46],\r\n                48: [2, 46],\r\n                51: [2, 46],\r\n                55: [2, 46],\r\n                60: [2, 46]\r\n              },\r\n              {\r\n                5: [2, 10],\r\n                14: [2, 10],\r\n                15: [2, 10],\r\n                18: [2, 10],\r\n                19: [2, 10],\r\n                29: [2, 10],\r\n                34: [2, 10],\r\n                39: [2, 10],\r\n                44: [2, 10],\r\n                47: [2, 10],\r\n                48: [2, 10],\r\n                51: [2, 10],\r\n                55: [2, 10],\r\n                60: [2, 10]\r\n              },\r\n              {\r\n                20: 46,\r\n                72: [1, 35],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              {\r\n                20: 47,\r\n                72: [1, 35],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              {\r\n                20: 48,\r\n                72: [1, 35],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              {\r\n                20: 42,\r\n                56: 49,\r\n                64: 43,\r\n                65: [1, 44],\r\n                72: [1, 35],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              {\r\n                33: [2, 78],\r\n                49: 50,\r\n                65: [2, 78],\r\n                72: [2, 78],\r\n                80: [2, 78],\r\n                81: [2, 78],\r\n                82: [2, 78],\r\n                83: [2, 78],\r\n                84: [2, 78],\r\n                85: [2, 78]\r\n              },\r\n              {\r\n                23: [2, 33],\r\n                33: [2, 33],\r\n                54: [2, 33],\r\n                65: [2, 33],\r\n                68: [2, 33],\r\n                72: [2, 33],\r\n                75: [2, 33],\r\n                80: [2, 33],\r\n                81: [2, 33],\r\n                82: [2, 33],\r\n                83: [2, 33],\r\n                84: [2, 33],\r\n                85: [2, 33]\r\n              },\r\n              {\r\n                23: [2, 34],\r\n                33: [2, 34],\r\n                54: [2, 34],\r\n                65: [2, 34],\r\n                68: [2, 34],\r\n                72: [2, 34],\r\n                75: [2, 34],\r\n                80: [2, 34],\r\n                81: [2, 34],\r\n                82: [2, 34],\r\n                83: [2, 34],\r\n                84: [2, 34],\r\n                85: [2, 34]\r\n              },\r\n              {\r\n                23: [2, 35],\r\n                33: [2, 35],\r\n                54: [2, 35],\r\n                65: [2, 35],\r\n                68: [2, 35],\r\n                72: [2, 35],\r\n                75: [2, 35],\r\n                80: [2, 35],\r\n                81: [2, 35],\r\n                82: [2, 35],\r\n                83: [2, 35],\r\n                84: [2, 35],\r\n                85: [2, 35]\r\n              },\r\n              {\r\n                23: [2, 36],\r\n                33: [2, 36],\r\n                54: [2, 36],\r\n                65: [2, 36],\r\n                68: [2, 36],\r\n                72: [2, 36],\r\n                75: [2, 36],\r\n                80: [2, 36],\r\n                81: [2, 36],\r\n                82: [2, 36],\r\n                83: [2, 36],\r\n                84: [2, 36],\r\n                85: [2, 36]\r\n              },\r\n              {\r\n                23: [2, 37],\r\n                33: [2, 37],\r\n                54: [2, 37],\r\n                65: [2, 37],\r\n                68: [2, 37],\r\n                72: [2, 37],\r\n                75: [2, 37],\r\n                80: [2, 37],\r\n                81: [2, 37],\r\n                82: [2, 37],\r\n                83: [2, 37],\r\n                84: [2, 37],\r\n                85: [2, 37]\r\n              },\r\n              {\r\n                23: [2, 38],\r\n                33: [2, 38],\r\n                54: [2, 38],\r\n                65: [2, 38],\r\n                68: [2, 38],\r\n                72: [2, 38],\r\n                75: [2, 38],\r\n                80: [2, 38],\r\n                81: [2, 38],\r\n                82: [2, 38],\r\n                83: [2, 38],\r\n                84: [2, 38],\r\n                85: [2, 38]\r\n              },\r\n              {\r\n                23: [2, 39],\r\n                33: [2, 39],\r\n                54: [2, 39],\r\n                65: [2, 39],\r\n                68: [2, 39],\r\n                72: [2, 39],\r\n                75: [2, 39],\r\n                80: [2, 39],\r\n                81: [2, 39],\r\n                82: [2, 39],\r\n                83: [2, 39],\r\n                84: [2, 39],\r\n                85: [2, 39]\r\n              },\r\n              {\r\n                23: [2, 43],\r\n                33: [2, 43],\r\n                54: [2, 43],\r\n                65: [2, 43],\r\n                68: [2, 43],\r\n                72: [2, 43],\r\n                75: [2, 43],\r\n                80: [2, 43],\r\n                81: [2, 43],\r\n                82: [2, 43],\r\n                83: [2, 43],\r\n                84: [2, 43],\r\n                85: [2, 43],\r\n                87: [1, 51]\r\n              },\r\n              { 72: [1, 35], 86: 52 },\r\n              {\r\n                23: [2, 45],\r\n                33: [2, 45],\r\n                54: [2, 45],\r\n                65: [2, 45],\r\n                68: [2, 45],\r\n                72: [2, 45],\r\n                75: [2, 45],\r\n                80: [2, 45],\r\n                81: [2, 45],\r\n                82: [2, 45],\r\n                83: [2, 45],\r\n                84: [2, 45],\r\n                85: [2, 45],\r\n                87: [2, 45]\r\n              },\r\n              {\r\n                52: 53,\r\n                54: [2, 82],\r\n                65: [2, 82],\r\n                72: [2, 82],\r\n                80: [2, 82],\r\n                81: [2, 82],\r\n                82: [2, 82],\r\n                83: [2, 82],\r\n                84: [2, 82],\r\n                85: [2, 82]\r\n              },\r\n              { 25: 54, 38: 56, 39: [1, 58], 43: 57, 44: [1, 59], 45: 55, 47: [2, 54] },\r\n              { 28: 60, 43: 61, 44: [1, 59], 47: [2, 56] },\r\n              { 13: 63, 15: [1, 20], 18: [1, 62] },\r\n              { 15: [2, 48], 18: [2, 48] },\r\n              {\r\n                33: [2, 86],\r\n                57: 64,\r\n                65: [2, 86],\r\n                72: [2, 86],\r\n                80: [2, 86],\r\n                81: [2, 86],\r\n                82: [2, 86],\r\n                83: [2, 86],\r\n                84: [2, 86],\r\n                85: [2, 86]\r\n              },\r\n              {\r\n                33: [2, 40],\r\n                65: [2, 40],\r\n                72: [2, 40],\r\n                80: [2, 40],\r\n                81: [2, 40],\r\n                82: [2, 40],\r\n                83: [2, 40],\r\n                84: [2, 40],\r\n                85: [2, 40]\r\n              },\r\n              {\r\n                33: [2, 41],\r\n                65: [2, 41],\r\n                72: [2, 41],\r\n                80: [2, 41],\r\n                81: [2, 41],\r\n                82: [2, 41],\r\n                83: [2, 41],\r\n                84: [2, 41],\r\n                85: [2, 41]\r\n              },\r\n              {\r\n                20: 65,\r\n                72: [1, 35],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              { 26: 66, 47: [1, 67] },\r\n              {\r\n                30: 68,\r\n                33: [2, 58],\r\n                65: [2, 58],\r\n                72: [2, 58],\r\n                75: [2, 58],\r\n                80: [2, 58],\r\n                81: [2, 58],\r\n                82: [2, 58],\r\n                83: [2, 58],\r\n                84: [2, 58],\r\n                85: [2, 58]\r\n              },\r\n              {\r\n                33: [2, 64],\r\n                35: 69,\r\n                65: [2, 64],\r\n                72: [2, 64],\r\n                75: [2, 64],\r\n                80: [2, 64],\r\n                81: [2, 64],\r\n                82: [2, 64],\r\n                83: [2, 64],\r\n                84: [2, 64],\r\n                85: [2, 64]\r\n              },\r\n              {\r\n                21: 70,\r\n                23: [2, 50],\r\n                65: [2, 50],\r\n                72: [2, 50],\r\n                80: [2, 50],\r\n                81: [2, 50],\r\n                82: [2, 50],\r\n                83: [2, 50],\r\n                84: [2, 50],\r\n                85: [2, 50]\r\n              },\r\n              {\r\n                33: [2, 90],\r\n                61: 71,\r\n                65: [2, 90],\r\n                72: [2, 90],\r\n                80: [2, 90],\r\n                81: [2, 90],\r\n                82: [2, 90],\r\n                83: [2, 90],\r\n                84: [2, 90],\r\n                85: [2, 90]\r\n              },\r\n              {\r\n                20: 75,\r\n                33: [2, 80],\r\n                50: 72,\r\n                63: 73,\r\n                64: 76,\r\n                65: [1, 44],\r\n                69: 74,\r\n                70: 77,\r\n                71: 78,\r\n                72: [1, 79],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              { 72: [1, 80] },\r\n              {\r\n                23: [2, 42],\r\n                33: [2, 42],\r\n                54: [2, 42],\r\n                65: [2, 42],\r\n                68: [2, 42],\r\n                72: [2, 42],\r\n                75: [2, 42],\r\n                80: [2, 42],\r\n                81: [2, 42],\r\n                82: [2, 42],\r\n                83: [2, 42],\r\n                84: [2, 42],\r\n                85: [2, 42],\r\n                87: [1, 51]\r\n              },\r\n              {\r\n                20: 75,\r\n                53: 81,\r\n                54: [2, 84],\r\n                63: 82,\r\n                64: 76,\r\n                65: [1, 44],\r\n                69: 83,\r\n                70: 77,\r\n                71: 78,\r\n                72: [1, 79],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              { 26: 84, 47: [1, 67] },\r\n              { 47: [2, 55] },\r\n              {\r\n                4: 85,\r\n                6: 3,\r\n                14: [2, 46],\r\n                15: [2, 46],\r\n                19: [2, 46],\r\n                29: [2, 46],\r\n                34: [2, 46],\r\n                39: [2, 46],\r\n                44: [2, 46],\r\n                47: [2, 46],\r\n                48: [2, 46],\r\n                51: [2, 46],\r\n                55: [2, 46],\r\n                60: [2, 46]\r\n              },\r\n              { 47: [2, 20] },\r\n              {\r\n                20: 86,\r\n                72: [1, 35],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              {\r\n                4: 87,\r\n                6: 3,\r\n                14: [2, 46],\r\n                15: [2, 46],\r\n                19: [2, 46],\r\n                29: [2, 46],\r\n                34: [2, 46],\r\n                47: [2, 46],\r\n                48: [2, 46],\r\n                51: [2, 46],\r\n                55: [2, 46],\r\n                60: [2, 46]\r\n              },\r\n              { 26: 88, 47: [1, 67] },\r\n              { 47: [2, 57] },\r\n              {\r\n                5: [2, 11],\r\n                14: [2, 11],\r\n                15: [2, 11],\r\n                19: [2, 11],\r\n                29: [2, 11],\r\n                34: [2, 11],\r\n                39: [2, 11],\r\n                44: [2, 11],\r\n                47: [2, 11],\r\n                48: [2, 11],\r\n                51: [2, 11],\r\n                55: [2, 11],\r\n                60: [2, 11]\r\n              },\r\n              { 15: [2, 49], 18: [2, 49] },\r\n              {\r\n                20: 75,\r\n                33: [2, 88],\r\n                58: 89,\r\n                63: 90,\r\n                64: 76,\r\n                65: [1, 44],\r\n                69: 91,\r\n                70: 77,\r\n                71: 78,\r\n                72: [1, 79],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              {\r\n                65: [2, 94],\r\n                66: 92,\r\n                68: [2, 94],\r\n                72: [2, 94],\r\n                80: [2, 94],\r\n                81: [2, 94],\r\n                82: [2, 94],\r\n                83: [2, 94],\r\n                84: [2, 94],\r\n                85: [2, 94]\r\n              },\r\n              {\r\n                5: [2, 25],\r\n                14: [2, 25],\r\n                15: [2, 25],\r\n                19: [2, 25],\r\n                29: [2, 25],\r\n                34: [2, 25],\r\n                39: [2, 25],\r\n                44: [2, 25],\r\n                47: [2, 25],\r\n                48: [2, 25],\r\n                51: [2, 25],\r\n                55: [2, 25],\r\n                60: [2, 25]\r\n              },\r\n              {\r\n                20: 93,\r\n                72: [1, 35],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              {\r\n                20: 75,\r\n                31: 94,\r\n                33: [2, 60],\r\n                63: 95,\r\n                64: 76,\r\n                65: [1, 44],\r\n                69: 96,\r\n                70: 77,\r\n                71: 78,\r\n                72: [1, 79],\r\n                75: [2, 60],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              {\r\n                20: 75,\r\n                33: [2, 66],\r\n                36: 97,\r\n                63: 98,\r\n                64: 76,\r\n                65: [1, 44],\r\n                69: 99,\r\n                70: 77,\r\n                71: 78,\r\n                72: [1, 79],\r\n                75: [2, 66],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              {\r\n                20: 75,\r\n                22: 100,\r\n                23: [2, 52],\r\n                63: 101,\r\n                64: 76,\r\n                65: [1, 44],\r\n                69: 102,\r\n                70: 77,\r\n                71: 78,\r\n                72: [1, 79],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              {\r\n                20: 75,\r\n                33: [2, 92],\r\n                62: 103,\r\n                63: 104,\r\n                64: 76,\r\n                65: [1, 44],\r\n                69: 105,\r\n                70: 77,\r\n                71: 78,\r\n                72: [1, 79],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              { 33: [1, 106] },\r\n              {\r\n                33: [2, 79],\r\n                65: [2, 79],\r\n                72: [2, 79],\r\n                80: [2, 79],\r\n                81: [2, 79],\r\n                82: [2, 79],\r\n                83: [2, 79],\r\n                84: [2, 79],\r\n                85: [2, 79]\r\n              },\r\n              { 33: [2, 81] },\r\n              {\r\n                23: [2, 27],\r\n                33: [2, 27],\r\n                54: [2, 27],\r\n                65: [2, 27],\r\n                68: [2, 27],\r\n                72: [2, 27],\r\n                75: [2, 27],\r\n                80: [2, 27],\r\n                81: [2, 27],\r\n                82: [2, 27],\r\n                83: [2, 27],\r\n                84: [2, 27],\r\n                85: [2, 27]\r\n              },\r\n              {\r\n                23: [2, 28],\r\n                33: [2, 28],\r\n                54: [2, 28],\r\n                65: [2, 28],\r\n                68: [2, 28],\r\n                72: [2, 28],\r\n                75: [2, 28],\r\n                80: [2, 28],\r\n                81: [2, 28],\r\n                82: [2, 28],\r\n                83: [2, 28],\r\n                84: [2, 28],\r\n                85: [2, 28]\r\n              },\r\n              { 23: [2, 30], 33: [2, 30], 54: [2, 30], 68: [2, 30], 71: 107, 72: [1, 108], 75: [2, 30] },\r\n              { 23: [2, 98], 33: [2, 98], 54: [2, 98], 68: [2, 98], 72: [2, 98], 75: [2, 98] },\r\n              {\r\n                23: [2, 45],\r\n                33: [2, 45],\r\n                54: [2, 45],\r\n                65: [2, 45],\r\n                68: [2, 45],\r\n                72: [2, 45],\r\n                73: [1, 109],\r\n                75: [2, 45],\r\n                80: [2, 45],\r\n                81: [2, 45],\r\n                82: [2, 45],\r\n                83: [2, 45],\r\n                84: [2, 45],\r\n                85: [2, 45],\r\n                87: [2, 45]\r\n              },\r\n              {\r\n                23: [2, 44],\r\n                33: [2, 44],\r\n                54: [2, 44],\r\n                65: [2, 44],\r\n                68: [2, 44],\r\n                72: [2, 44],\r\n                75: [2, 44],\r\n                80: [2, 44],\r\n                81: [2, 44],\r\n                82: [2, 44],\r\n                83: [2, 44],\r\n                84: [2, 44],\r\n                85: [2, 44],\r\n                87: [2, 44]\r\n              },\r\n              { 54: [1, 110] },\r\n              {\r\n                54: [2, 83],\r\n                65: [2, 83],\r\n                72: [2, 83],\r\n                80: [2, 83],\r\n                81: [2, 83],\r\n                82: [2, 83],\r\n                83: [2, 83],\r\n                84: [2, 83],\r\n                85: [2, 83]\r\n              },\r\n              { 54: [2, 85] },\r\n              {\r\n                5: [2, 13],\r\n                14: [2, 13],\r\n                15: [2, 13],\r\n                19: [2, 13],\r\n                29: [2, 13],\r\n                34: [2, 13],\r\n                39: [2, 13],\r\n                44: [2, 13],\r\n                47: [2, 13],\r\n                48: [2, 13],\r\n                51: [2, 13],\r\n                55: [2, 13],\r\n                60: [2, 13]\r\n              },\r\n              { 38: 56, 39: [1, 58], 43: 57, 44: [1, 59], 45: 112, 46: 111, 47: [2, 76] },\r\n              {\r\n                33: [2, 70],\r\n                40: 113,\r\n                65: [2, 70],\r\n                72: [2, 70],\r\n                75: [2, 70],\r\n                80: [2, 70],\r\n                81: [2, 70],\r\n                82: [2, 70],\r\n                83: [2, 70],\r\n                84: [2, 70],\r\n                85: [2, 70]\r\n              },\r\n              { 47: [2, 18] },\r\n              {\r\n                5: [2, 14],\r\n                14: [2, 14],\r\n                15: [2, 14],\r\n                19: [2, 14],\r\n                29: [2, 14],\r\n                34: [2, 14],\r\n                39: [2, 14],\r\n                44: [2, 14],\r\n                47: [2, 14],\r\n                48: [2, 14],\r\n                51: [2, 14],\r\n                55: [2, 14],\r\n                60: [2, 14]\r\n              },\r\n              { 33: [1, 114] },\r\n              {\r\n                33: [2, 87],\r\n                65: [2, 87],\r\n                72: [2, 87],\r\n                80: [2, 87],\r\n                81: [2, 87],\r\n                82: [2, 87],\r\n                83: [2, 87],\r\n                84: [2, 87],\r\n                85: [2, 87]\r\n              },\r\n              { 33: [2, 89] },\r\n              {\r\n                20: 75,\r\n                63: 116,\r\n                64: 76,\r\n                65: [1, 44],\r\n                67: 115,\r\n                68: [2, 96],\r\n                69: 117,\r\n                70: 77,\r\n                71: 78,\r\n                72: [1, 79],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              { 33: [1, 118] },\r\n              { 32: 119, 33: [2, 62], 74: 120, 75: [1, 121] },\r\n              {\r\n                33: [2, 59],\r\n                65: [2, 59],\r\n                72: [2, 59],\r\n                75: [2, 59],\r\n                80: [2, 59],\r\n                81: [2, 59],\r\n                82: [2, 59],\r\n                83: [2, 59],\r\n                84: [2, 59],\r\n                85: [2, 59]\r\n              },\r\n              { 33: [2, 61], 75: [2, 61] },\r\n              { 33: [2, 68], 37: 122, 74: 123, 75: [1, 121] },\r\n              {\r\n                33: [2, 65],\r\n                65: [2, 65],\r\n                72: [2, 65],\r\n                75: [2, 65],\r\n                80: [2, 65],\r\n                81: [2, 65],\r\n                82: [2, 65],\r\n                83: [2, 65],\r\n                84: [2, 65],\r\n                85: [2, 65]\r\n              },\r\n              { 33: [2, 67], 75: [2, 67] },\r\n              { 23: [1, 124] },\r\n              {\r\n                23: [2, 51],\r\n                65: [2, 51],\r\n                72: [2, 51],\r\n                80: [2, 51],\r\n                81: [2, 51],\r\n                82: [2, 51],\r\n                83: [2, 51],\r\n                84: [2, 51],\r\n                85: [2, 51]\r\n              },\r\n              { 23: [2, 53] },\r\n              { 33: [1, 125] },\r\n              {\r\n                33: [2, 91],\r\n                65: [2, 91],\r\n                72: [2, 91],\r\n                80: [2, 91],\r\n                81: [2, 91],\r\n                82: [2, 91],\r\n                83: [2, 91],\r\n                84: [2, 91],\r\n                85: [2, 91]\r\n              },\r\n              { 33: [2, 93] },\r\n              {\r\n                5: [2, 22],\r\n                14: [2, 22],\r\n                15: [2, 22],\r\n                19: [2, 22],\r\n                29: [2, 22],\r\n                34: [2, 22],\r\n                39: [2, 22],\r\n                44: [2, 22],\r\n                47: [2, 22],\r\n                48: [2, 22],\r\n                51: [2, 22],\r\n                55: [2, 22],\r\n                60: [2, 22]\r\n              },\r\n              { 23: [2, 99], 33: [2, 99], 54: [2, 99], 68: [2, 99], 72: [2, 99], 75: [2, 99] },\r\n              { 73: [1, 109] },\r\n              {\r\n                20: 75,\r\n                63: 126,\r\n                64: 76,\r\n                65: [1, 44],\r\n                72: [1, 35],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              {\r\n                5: [2, 23],\r\n                14: [2, 23],\r\n                15: [2, 23],\r\n                19: [2, 23],\r\n                29: [2, 23],\r\n                34: [2, 23],\r\n                39: [2, 23],\r\n                44: [2, 23],\r\n                47: [2, 23],\r\n                48: [2, 23],\r\n                51: [2, 23],\r\n                55: [2, 23],\r\n                60: [2, 23]\r\n              },\r\n              { 47: [2, 19] },\r\n              { 47: [2, 77] },\r\n              {\r\n                20: 75,\r\n                33: [2, 72],\r\n                41: 127,\r\n                63: 128,\r\n                64: 76,\r\n                65: [1, 44],\r\n                69: 129,\r\n                70: 77,\r\n                71: 78,\r\n                72: [1, 79],\r\n                75: [2, 72],\r\n                78: 26,\r\n                79: 27,\r\n                80: [1, 28],\r\n                81: [1, 29],\r\n                82: [1, 30],\r\n                83: [1, 31],\r\n                84: [1, 32],\r\n                85: [1, 34],\r\n                86: 33\r\n              },\r\n              {\r\n                5: [2, 24],\r\n                14: [2, 24],\r\n                15: [2, 24],\r\n                19: [2, 24],\r\n                29: [2, 24],\r\n                34: [2, 24],\r\n                39: [2, 24],\r\n                44: [2, 24],\r\n                47: [2, 24],\r\n                48: [2, 24],\r\n                51: [2, 24],\r\n                55: [2, 24],\r\n                60: [2, 24]\r\n              },\r\n              { 68: [1, 130] },\r\n              {\r\n                65: [2, 95],\r\n                68: [2, 95],\r\n                72: [2, 95],\r\n                80: [2, 95],\r\n                81: [2, 95],\r\n                82: [2, 95],\r\n                83: [2, 95],\r\n                84: [2, 95],\r\n                85: [2, 95]\r\n              },\r\n              { 68: [2, 97] },\r\n              {\r\n                5: [2, 21],\r\n                14: [2, 21],\r\n                15: [2, 21],\r\n                19: [2, 21],\r\n                29: [2, 21],\r\n                34: [2, 21],\r\n                39: [2, 21],\r\n                44: [2, 21],\r\n                47: [2, 21],\r\n                48: [2, 21],\r\n                51: [2, 21],\r\n                55: [2, 21],\r\n                60: [2, 21]\r\n              },\r\n              { 33: [1, 131] },\r\n              { 33: [2, 63] },\r\n              { 72: [1, 133], 76: 132 },\r\n              { 33: [1, 134] },\r\n              { 33: [2, 69] },\r\n              { 15: [2, 12] },\r\n              {\r\n                14: [2, 26],\r\n                15: [2, 26],\r\n                19: [2, 26],\r\n                29: [2, 26],\r\n                34: [2, 26],\r\n                47: [2, 26],\r\n                48: [2, 26],\r\n                51: [2, 26],\r\n                55: [2, 26],\r\n                60: [2, 26]\r\n              },\r\n              { 23: [2, 31], 33: [2, 31], 54: [2, 31], 68: [2, 31], 72: [2, 31], 75: [2, 31] },\r\n              { 33: [2, 74], 42: 135, 74: 136, 75: [1, 121] },\r\n              {\r\n                33: [2, 71],\r\n                65: [2, 71],\r\n                72: [2, 71],\r\n                75: [2, 71],\r\n                80: [2, 71],\r\n                81: [2, 71],\r\n                82: [2, 71],\r\n                83: [2, 71],\r\n                84: [2, 71],\r\n                85: [2, 71]\r\n              },\r\n              { 33: [2, 73], 75: [2, 73] },\r\n              {\r\n                23: [2, 29],\r\n                33: [2, 29],\r\n                54: [2, 29],\r\n                65: [2, 29],\r\n                68: [2, 29],\r\n                72: [2, 29],\r\n                75: [2, 29],\r\n                80: [2, 29],\r\n                81: [2, 29],\r\n                82: [2, 29],\r\n                83: [2, 29],\r\n                84: [2, 29],\r\n                85: [2, 29]\r\n              },\r\n              {\r\n                14: [2, 15],\r\n                15: [2, 15],\r\n                19: [2, 15],\r\n                29: [2, 15],\r\n                34: [2, 15],\r\n                39: [2, 15],\r\n                44: [2, 15],\r\n                47: [2, 15],\r\n                48: [2, 15],\r\n                51: [2, 15],\r\n                55: [2, 15],\r\n                60: [2, 15]\r\n              },\r\n              { 72: [1, 138], 77: [1, 137] },\r\n              { 72: [2, 100], 77: [2, 100] },\r\n              {\r\n                14: [2, 16],\r\n                15: [2, 16],\r\n                19: [2, 16],\r\n                29: [2, 16],\r\n                34: [2, 16],\r\n                44: [2, 16],\r\n                47: [2, 16],\r\n                48: [2, 16],\r\n                51: [2, 16],\r\n                55: [2, 16],\r\n                60: [2, 16]\r\n              },\r\n              { 33: [1, 139] },\r\n              { 33: [2, 75] },\r\n              { 33: [2, 32] },\r\n              { 72: [2, 101], 77: [2, 101] },\r\n              {\r\n                14: [2, 17],\r\n                15: [2, 17],\r\n                19: [2, 17],\r\n                29: [2, 17],\r\n                34: [2, 17],\r\n                39: [2, 17],\r\n                44: [2, 17],\r\n                47: [2, 17],\r\n                48: [2, 17],\r\n                51: [2, 17],\r\n                55: [2, 17],\r\n                60: [2, 17]\r\n              }\r\n            ],\r\n            defaultActions: {\r\n              4: [2, 1],\r\n              55: [2, 55],\r\n              57: [2, 20],\r\n              61: [2, 57],\r\n              74: [2, 81],\r\n              83: [2, 85],\r\n              87: [2, 18],\r\n              91: [2, 89],\r\n              102: [2, 53],\r\n              105: [2, 93],\r\n              111: [2, 19],\r\n              112: [2, 77],\r\n              117: [2, 97],\r\n              120: [2, 63],\r\n              123: [2, 69],\r\n              124: [2, 12],\r\n              136: [2, 75],\r\n              137: [2, 32]\r\n            },\r\n            parseError: function parseError (str, hash) {\r\n              throw new Error(str)\r\n            },\r\n            parse: function parse (input) {\r\n              var self = this,\r\n                stack = [0],\r\n                vstack = [null],\r\n                lstack = [],\r\n                table = this.table,\r\n                yytext = '',\r\n                yylineno = 0,\r\n                yyleng = 0,\r\n                recovering = 0,\r\n                TERROR = 2,\r\n                EOF = 1\r\n              this.lexer.setInput(input)\r\n              this.lexer.yy = this.yy\r\n              this.yy.lexer = this.lexer\r\n              this.yy.parser = this\r\n              if (typeof this.lexer.yylloc == 'undefined') this.lexer.yylloc = {}\r\n              var yyloc = this.lexer.yylloc\r\n              lstack.push(yyloc)\r\n              var ranges = this.lexer.options && this.lexer.options.ranges\r\n              if (typeof this.yy.parseError === 'function') this.parseError = this.yy.parseError\r\n              function popStack (n) {\r\n                stack.length = stack.length - 2 * n\r\n                vstack.length = vstack.length - n\r\n                lstack.length = lstack.length - n\r\n              }\r\n              function lex () {\r\n                var token\r\n                token = self.lexer.lex() || 1\r\n                if (typeof token !== 'number') {\r\n                  token = self.symbols_[token] || token\r\n                }\r\n                return token\r\n              }\r\n              var symbol,\r\n                preErrorSymbol,\r\n                state,\r\n                action,\r\n                a,\r\n                r,\r\n                yyval = {},\r\n                p,\r\n                len,\r\n                newState,\r\n                expected\r\n              while (true) {\r\n                state = stack[stack.length - 1]\r\n                if (this.defaultActions[state]) {\r\n                  action = this.defaultActions[state]\r\n                } else {\r\n                  if (symbol === null || typeof symbol == 'undefined') {\r\n                    symbol = lex()\r\n                  }\r\n                  action = table[state] && table[state][symbol]\r\n                }\r\n                if (typeof action === 'undefined' || !action.length || !action[0]) {\r\n                  var errStr = ''\r\n                  if (!recovering) {\r\n                    expected = []\r\n                    for (p in table[state])\r\n                      if (this.terminals_[p] && p > 2) {\r\n                        expected.push(\"'\" + this.terminals_[p] + \"'\")\r\n                      }\r\n                    if (this.lexer.showPosition) {\r\n                      errStr =\r\n                        'Parse error on line ' +\r\n                        (yylineno + 1) +\r\n                        ':\\n' +\r\n                        this.lexer.showPosition() +\r\n                        '\\nExpecting ' +\r\n                        expected.join(', ') +\r\n                        \", got '\" +\r\n                        (this.terminals_[symbol] || symbol) +\r\n                        \"'\"\r\n                    } else {\r\n                      errStr =\r\n                        'Parse error on line ' +\r\n                        (yylineno + 1) +\r\n                        ': Unexpected ' +\r\n                        (symbol == 1 ? 'end of input' : \"'\" + (this.terminals_[symbol] || symbol) + \"'\")\r\n                    }\r\n                    this.parseError(errStr, {\r\n                      text: this.lexer.match,\r\n                      token: this.terminals_[symbol] || symbol,\r\n                      line: this.lexer.yylineno,\r\n                      loc: yyloc,\r\n                      expected: expected\r\n                    })\r\n                  }\r\n                }\r\n                if (action[0] instanceof Array && action.length > 1) {\r\n                  throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol)\r\n                }\r\n                switch (action[0]) {\r\n                  case 1:\r\n                    stack.push(symbol)\r\n                    vstack.push(this.lexer.yytext)\r\n                    lstack.push(this.lexer.yylloc)\r\n                    stack.push(action[1])\r\n                    symbol = null\r\n                    if (!preErrorSymbol) {\r\n                      yyleng = this.lexer.yyleng\r\n                      yytext = this.lexer.yytext\r\n                      yylineno = this.lexer.yylineno\r\n                      yyloc = this.lexer.yylloc\r\n                      if (recovering > 0) recovering--\r\n                    } else {\r\n                      symbol = preErrorSymbol\r\n                      preErrorSymbol = null\r\n                    }\r\n                    break\r\n                  case 2:\r\n                    len = this.productions_[action[1]][1]\r\n                    yyval.$ = vstack[vstack.length - len]\r\n                    yyval._$ = {\r\n                      first_line: lstack[lstack.length - (len || 1)].first_line,\r\n                      last_line: lstack[lstack.length - 1].last_line,\r\n                      first_column: lstack[lstack.length - (len || 1)].first_column,\r\n                      last_column: lstack[lstack.length - 1].last_column\r\n                    }\r\n                    if (ranges) {\r\n                      yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]]\r\n                    }\r\n                    r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack)\r\n                    if (typeof r !== 'undefined') {\r\n                      return r\r\n                    }\r\n                    if (len) {\r\n                      stack = stack.slice(0, -1 * len * 2)\r\n                      vstack = vstack.slice(0, -1 * len)\r\n                      lstack = lstack.slice(0, -1 * len)\r\n                    }\r\n                    stack.push(this.productions_[action[1]][0])\r\n                    vstack.push(yyval.$)\r\n                    lstack.push(yyval._$)\r\n                    newState = table[stack[stack.length - 2]][stack[stack.length - 1]]\r\n                    stack.push(newState)\r\n                    break\r\n                  case 3:\r\n                    return true\r\n                }\r\n              }\r\n              return true\r\n            }\r\n          }\r\n          /* Jison generated lexer */\r\n          var lexer = (function () {\r\n            var lexer = {\r\n              EOF: 1,\r\n              parseError: function parseError (str, hash) {\r\n                if (this.yy.parser) {\r\n                  this.yy.parser.parseError(str, hash)\r\n                } else {\r\n                  throw new Error(str)\r\n                }\r\n              },\r\n              setInput: function setInput (input) {\r\n                this._input = input\r\n                this._more = this._less = this.done = false\r\n                this.yylineno = this.yyleng = 0\r\n                this.yytext = this.matched = this.match = ''\r\n                this.conditionStack = ['INITIAL']\r\n                this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }\r\n                if (this.options.ranges) this.yylloc.range = [0, 0]\r\n                this.offset = 0\r\n                return this\r\n              },\r\n              input: function input () {\r\n                var ch = this._input[0]\r\n                this.yytext += ch\r\n                this.yyleng++\r\n                this.offset++\r\n                this.match += ch\r\n                this.matched += ch\r\n                var lines = ch.match(/(?:\\r\\n?|\\n).*/g)\r\n                if (lines) {\r\n                  this.yylineno++\r\n                  this.yylloc.last_line++\r\n                } else {\r\n                  this.yylloc.last_column++\r\n                }\r\n                if (this.options.ranges) this.yylloc.range[1]++\r\n\r\n                this._input = this._input.slice(1)\r\n                return ch\r\n              },\r\n              unput: function unput (ch) {\r\n                var len = ch.length\r\n                var lines = ch.split(/(?:\\r\\n?|\\n)/g)\r\n\r\n                this._input = ch + this._input\r\n                this.yytext = this.yytext.substr(0, this.yytext.length - len - 1)\r\n                //this.yyleng -= len;\r\n                this.offset -= len\r\n                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g)\r\n                this.match = this.match.substr(0, this.match.length - 1)\r\n                this.matched = this.matched.substr(0, this.matched.length - 1)\r\n\r\n                if (lines.length - 1) this.yylineno -= lines.length - 1\r\n                var r = this.yylloc.range\r\n\r\n                this.yylloc = {\r\n                  first_line: this.yylloc.first_line,\r\n                  last_line: this.yylineno + 1,\r\n                  first_column: this.yylloc.first_column,\r\n                  last_column: lines\r\n                    ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) +\r\n                      oldLines[oldLines.length - lines.length].length -\r\n                      lines[0].length\r\n                    : this.yylloc.first_column - len\r\n                }\r\n\r\n                if (this.options.ranges) {\r\n                  this.yylloc.range = [r[0], r[0] + this.yyleng - len]\r\n                }\r\n                return this\r\n              },\r\n              more: function more () {\r\n                this._more = true\r\n                return this\r\n              },\r\n              less: function less (n) {\r\n                this.unput(this.match.slice(n))\r\n              },\r\n              pastInput: function pastInput () {\r\n                var past = this.matched.substr(0, this.matched.length - this.match.length)\r\n                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, '')\r\n              },\r\n              upcomingInput: function upcomingInput () {\r\n                var next = this.match\r\n                if (next.length < 20) {\r\n                  next += this._input.substr(0, 20 - next.length)\r\n                }\r\n                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, '')\r\n              },\r\n              showPosition: function showPosition () {\r\n                var pre = this.pastInput()\r\n                var c = new Array(pre.length + 1).join('-')\r\n                return pre + this.upcomingInput() + '\\n' + c + '^'\r\n              },\r\n              next: function next () {\r\n                if (this.done) {\r\n                  return this.EOF\r\n                }\r\n                if (!this._input) this.done = true\r\n\r\n                var token, match, tempMatch, index, col, lines\r\n                if (!this._more) {\r\n                  this.yytext = ''\r\n                  this.match = ''\r\n                }\r\n                var rules = this._currentRules()\r\n                for (var i = 0; i < rules.length; i++) {\r\n                  tempMatch = this._input.match(this.rules[rules[i]])\r\n                  if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\r\n                    match = tempMatch\r\n                    index = i\r\n                    if (!this.options.flex) break\r\n                  }\r\n                }\r\n                if (match) {\r\n                  lines = match[0].match(/(?:\\r\\n?|\\n).*/g)\r\n                  if (lines) this.yylineno += lines.length\r\n                  this.yylloc = {\r\n                    first_line: this.yylloc.last_line,\r\n                    last_line: this.yylineno + 1,\r\n                    first_column: this.yylloc.last_column,\r\n                    last_column: lines\r\n                      ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length\r\n                      : this.yylloc.last_column + match[0].length\r\n                  }\r\n                  this.yytext += match[0]\r\n                  this.match += match[0]\r\n                  this.matches = match\r\n                  this.yyleng = this.yytext.length\r\n                  if (this.options.ranges) {\r\n                    this.yylloc.range = [this.offset, (this.offset += this.yyleng)]\r\n                  }\r\n                  this._more = false\r\n                  this._input = this._input.slice(match[0].length)\r\n                  this.matched += match[0]\r\n                  token = this.performAction.call(\r\n                    this,\r\n                    this.yy,\r\n                    this,\r\n                    rules[index],\r\n                    this.conditionStack[this.conditionStack.length - 1]\r\n                  )\r\n                  if (this.done && this._input) this.done = false\r\n                  if (token) return token\r\n                  else return\r\n                }\r\n                if (this._input === '') {\r\n                  return this.EOF\r\n                } else {\r\n                  return this.parseError(\r\n                    'Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(),\r\n                    { text: '', token: null, line: this.yylineno }\r\n                  )\r\n                }\r\n              },\r\n              lex: function lex () {\r\n                var r = this.next()\r\n                if (typeof r !== 'undefined') {\r\n                  return r\r\n                } else {\r\n                  return this.lex()\r\n                }\r\n              },\r\n              begin: function begin (condition) {\r\n                this.conditionStack.push(condition)\r\n              },\r\n              popState: function popState () {\r\n                return this.conditionStack.pop()\r\n              },\r\n              _currentRules: function _currentRules () {\r\n                return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules\r\n              },\r\n              topState: function topState () {\r\n                return this.conditionStack[this.conditionStack.length - 2]\r\n              },\r\n              pushState: function begin (condition) {\r\n                this.begin(condition)\r\n              }\r\n            }\r\n            lexer.options = {}\r\n            lexer.performAction = function anonymous (\r\n              yy,\r\n              yy_,\r\n              $avoiding_name_collisions,\r\n              YY_START\r\n              /**/\r\n            ) {\r\n              function strip (start, end) {\r\n                return (yy_.yytext = yy_.yytext.substr(start, yy_.yyleng - end))\r\n              }\r\n\r\n              var YYSTATE = YY_START\r\n              switch ($avoiding_name_collisions) {\r\n                case 0:\r\n                  if (yy_.yytext.slice(-2) === '\\\\\\\\') {\r\n                    strip(0, 1)\r\n                    this.begin('mu')\r\n                  } else if (yy_.yytext.slice(-1) === '\\\\') {\r\n                    strip(0, 1)\r\n                    this.begin('emu')\r\n                  } else {\r\n                    this.begin('mu')\r\n                  }\r\n                  if (yy_.yytext) return 15\r\n\r\n                  break\r\n                case 1:\r\n                  return 15\r\n                  break\r\n                case 2:\r\n                  this.popState()\r\n                  return 15\r\n\r\n                  break\r\n                case 3:\r\n                  this.begin('raw')\r\n                  return 15\r\n                  break\r\n                case 4:\r\n                  this.popState()\r\n                  // Should be using `this.topState()` below, but it currently\r\n                  // returns the second top instead of the first top. Opened an\r\n                  // issue about it at https://github.com/zaach/jison/issues/291\r\n                  if (this.conditionStack[this.conditionStack.length - 1] === 'raw') {\r\n                    return 15\r\n                  } else {\r\n                    yy_.yytext = yy_.yytext.substr(5, yy_.yyleng - 9)\r\n                    return 'END_RAW_BLOCK'\r\n                  }\r\n\r\n                  break\r\n                case 5:\r\n                  return 15\r\n                  break\r\n                case 6:\r\n                  this.popState()\r\n                  return 14\r\n\r\n                  break\r\n                case 7:\r\n                  return 65\r\n                  break\r\n                case 8:\r\n                  return 68\r\n                  break\r\n                case 9:\r\n                  return 19\r\n                  break\r\n                case 10:\r\n                  this.popState()\r\n                  this.begin('raw')\r\n                  return 23\r\n\r\n                  break\r\n                case 11:\r\n                  return 55\r\n                  break\r\n                case 12:\r\n                  return 60\r\n                  break\r\n                case 13:\r\n                  return 29\r\n                  break\r\n                case 14:\r\n                  return 47\r\n                  break\r\n                case 15:\r\n                  this.popState()\r\n                  return 44\r\n                  break\r\n                case 16:\r\n                  this.popState()\r\n                  return 44\r\n                  break\r\n                case 17:\r\n                  return 34\r\n                  break\r\n                case 18:\r\n                  return 39\r\n                  break\r\n                case 19:\r\n                  return 51\r\n                  break\r\n                case 20:\r\n                  return 48\r\n                  break\r\n                case 21:\r\n                  this.unput(yy_.yytext)\r\n                  this.popState()\r\n                  this.begin('com')\r\n\r\n                  break\r\n                case 22:\r\n                  this.popState()\r\n                  return 14\r\n\r\n                  break\r\n                case 23:\r\n                  return 48\r\n                  break\r\n                case 24:\r\n                  return 73\r\n                  break\r\n                case 25:\r\n                  return 72\r\n                  break\r\n                case 26:\r\n                  return 72\r\n                  break\r\n                case 27:\r\n                  return 87\r\n                  break\r\n                case 28:\r\n                  // ignore whitespace\r\n                  break\r\n                case 29:\r\n                  this.popState()\r\n                  return 54\r\n                  break\r\n                case 30:\r\n                  this.popState()\r\n                  return 33\r\n                  break\r\n                case 31:\r\n                  yy_.yytext = strip(1, 2).replace(/\\\\\"/g, '\"')\r\n                  return 80\r\n                  break\r\n                case 32:\r\n                  yy_.yytext = strip(1, 2).replace(/\\\\'/g, \"'\")\r\n                  return 80\r\n                  break\r\n                case 33:\r\n                  return 85\r\n                  break\r\n                case 34:\r\n                  return 82\r\n                  break\r\n                case 35:\r\n                  return 82\r\n                  break\r\n                case 36:\r\n                  return 83\r\n                  break\r\n                case 37:\r\n                  return 84\r\n                  break\r\n                case 38:\r\n                  return 81\r\n                  break\r\n                case 39:\r\n                  return 75\r\n                  break\r\n                case 40:\r\n                  return 77\r\n                  break\r\n                case 41:\r\n                  return 72\r\n                  break\r\n                case 42:\r\n                  yy_.yytext = yy_.yytext.replace(/\\\\([\\\\\\]])/g, '$1')\r\n                  return 72\r\n                  break\r\n                case 43:\r\n                  return 'INVALID'\r\n                  break\r\n                case 44:\r\n                  return 5\r\n                  break\r\n              }\r\n            }\r\n            lexer.rules = [\r\n              /^(?:[^\\x00]*?(?=(\\{\\{)))/,\r\n              /^(?:[^\\x00]+)/,\r\n              /^(?:[^\\x00]{2,}?(?=(\\{\\{|\\\\\\{\\{|\\\\\\\\\\{\\{|$)))/,\r\n              /^(?:\\{\\{\\{\\{(?=[^\\/]))/,\r\n              /^(?:\\{\\{\\{\\{\\/[^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=[=}\\s\\/.])\\}\\}\\}\\})/,\r\n              /^(?:[^\\x00]*?(?=(\\{\\{\\{\\{)))/,\r\n              /^(?:[\\s\\S]*?--(~)?\\}\\})/,\r\n              /^(?:\\()/,\r\n              /^(?:\\))/,\r\n              /^(?:\\{\\{\\{\\{)/,\r\n              /^(?:\\}\\}\\}\\})/,\r\n              /^(?:\\{\\{(~)?>)/,\r\n              /^(?:\\{\\{(~)?#>)/,\r\n              /^(?:\\{\\{(~)?#\\*?)/,\r\n              /^(?:\\{\\{(~)?\\/)/,\r\n              /^(?:\\{\\{(~)?\\^\\s*(~)?\\}\\})/,\r\n              /^(?:\\{\\{(~)?\\s*else\\s*(~)?\\}\\})/,\r\n              /^(?:\\{\\{(~)?\\^)/,\r\n              /^(?:\\{\\{(~)?\\s*else\\b)/,\r\n              /^(?:\\{\\{(~)?\\{)/,\r\n              /^(?:\\{\\{(~)?&)/,\r\n              /^(?:\\{\\{(~)?!--)/,\r\n              /^(?:\\{\\{(~)?![\\s\\S]*?\\}\\})/,\r\n              /^(?:\\{\\{(~)?\\*?)/,\r\n              /^(?:=)/,\r\n              /^(?:\\.\\.)/,\r\n              /^(?:\\.(?=([=~}\\s\\/.)|])))/,\r\n              /^(?:[\\/.])/,\r\n              /^(?:\\s+)/,\r\n              /^(?:\\}(~)?\\}\\})/,\r\n              /^(?:(~)?\\}\\})/,\r\n              /^(?:\"(\\\\[\"]|[^\"])*\")/,\r\n              /^(?:'(\\\\[']|[^'])*')/,\r\n              /^(?:@)/,\r\n              /^(?:true(?=([~}\\s)])))/,\r\n              /^(?:false(?=([~}\\s)])))/,\r\n              /^(?:undefined(?=([~}\\s)])))/,\r\n              /^(?:null(?=([~}\\s)])))/,\r\n              /^(?:-?[0-9]+(?:\\.[0-9]+)?(?=([~}\\s)])))/,\r\n              /^(?:as\\s+\\|)/,\r\n              /^(?:\\|)/,\r\n              /^(?:([^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=([=~}\\s\\/.)|]))))/,\r\n              /^(?:\\[(\\\\\\]|[^\\]])*\\])/,\r\n              /^(?:.)/,\r\n              /^(?:$)/\r\n            ]\r\n            lexer.conditions = {\r\n              mu: {\r\n                rules: [\r\n                  7,\r\n                  8,\r\n                  9,\r\n                  10,\r\n                  11,\r\n                  12,\r\n                  13,\r\n                  14,\r\n                  15,\r\n                  16,\r\n                  17,\r\n                  18,\r\n                  19,\r\n                  20,\r\n                  21,\r\n                  22,\r\n                  23,\r\n                  24,\r\n                  25,\r\n                  26,\r\n                  27,\r\n                  28,\r\n                  29,\r\n                  30,\r\n                  31,\r\n                  32,\r\n                  33,\r\n                  34,\r\n                  35,\r\n                  36,\r\n                  37,\r\n                  38,\r\n                  39,\r\n                  40,\r\n                  41,\r\n                  42,\r\n                  43,\r\n                  44\r\n                ],\r\n                inclusive: false\r\n              },\r\n              emu: { rules: [2], inclusive: false },\r\n              com: { rules: [6], inclusive: false },\r\n              raw: { rules: [3, 4, 5], inclusive: false },\r\n              INITIAL: { rules: [0, 1, 44], inclusive: true }\r\n            }\r\n            return lexer\r\n          })()\r\n          parser.lexer = lexer\r\n          function Parser () {\r\n            this.yy = {}\r\n          }\r\n          Parser.prototype = parser\r\n          parser.Parser = Parser\r\n          return new Parser()\r\n        })()\r\n        exports['default'] = handlebars\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 38 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        var _interopRequireDefault = __webpack_require__(1)['default']\r\n\r\n        exports.__esModule = true\r\n\r\n        var _visitor = __webpack_require__(39)\r\n\r\n        var _visitor2 = _interopRequireDefault(_visitor)\r\n\r\n        function WhitespaceControl () {\r\n          var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0]\r\n\r\n          this.options = options\r\n        }\r\n        WhitespaceControl.prototype = new _visitor2['default']()\r\n\r\n        WhitespaceControl.prototype.Program = function (program) {\r\n          var doStandalone = !this.options.ignoreStandalone\r\n\r\n          var isRoot = !this.isRootSeen\r\n          this.isRootSeen = true\r\n\r\n          var body = program.body\r\n          for (var i = 0, l = body.length; i < l; i++) {\r\n            var current = body[i],\r\n              strip = this.accept(current)\r\n\r\n            if (!strip) {\r\n              continue\r\n            }\r\n\r\n            var _isPrevWhitespace = isPrevWhitespace(body, i, isRoot),\r\n              _isNextWhitespace = isNextWhitespace(body, i, isRoot),\r\n              openStandalone = strip.openStandalone && _isPrevWhitespace,\r\n              closeStandalone = strip.closeStandalone && _isNextWhitespace,\r\n              inlineStandalone = strip.inlineStandalone && _isPrevWhitespace && _isNextWhitespace\r\n\r\n            if (strip.close) {\r\n              omitRight(body, i, true)\r\n            }\r\n            if (strip.open) {\r\n              omitLeft(body, i, true)\r\n            }\r\n\r\n            if (doStandalone && inlineStandalone) {\r\n              omitRight(body, i)\r\n\r\n              if (omitLeft(body, i)) {\r\n                // If we are on a standalone node, save the indent info for partials\r\n                if (current.type === 'PartialStatement') {\r\n                  // Pull out the whitespace from the final line\r\n                  current.indent = /([ \\t]+$)/.exec(body[i - 1].original)[1]\r\n                }\r\n              }\r\n            }\r\n            if (doStandalone && openStandalone) {\r\n              omitRight((current.program || current.inverse).body)\r\n\r\n              // Strip out the previous content node if it's whitespace only\r\n              omitLeft(body, i)\r\n            }\r\n            if (doStandalone && closeStandalone) {\r\n              // Always strip the next node\r\n              omitRight(body, i)\r\n\r\n              omitLeft((current.inverse || current.program).body)\r\n            }\r\n          }\r\n\r\n          return program\r\n        }\r\n\r\n        WhitespaceControl.prototype.BlockStatement = WhitespaceControl.prototype.DecoratorBlock = WhitespaceControl.prototype.PartialBlockStatement = function (\r\n          block\r\n        ) {\r\n          this.accept(block.program)\r\n          this.accept(block.inverse)\r\n\r\n          // Find the inverse program that is involed with whitespace stripping.\r\n          var program = block.program || block.inverse,\r\n            inverse = block.program && block.inverse,\r\n            firstInverse = inverse,\r\n            lastInverse = inverse\r\n\r\n          if (inverse && inverse.chained) {\r\n            firstInverse = inverse.body[0].program\r\n\r\n            // Walk the inverse chain to find the last inverse that is actually in the chain.\r\n            while (lastInverse.chained) {\r\n              lastInverse = lastInverse.body[lastInverse.body.length - 1].program\r\n            }\r\n          }\r\n\r\n          var strip = {\r\n            open: block.openStrip.open,\r\n            close: block.closeStrip.close,\r\n\r\n            // Determine the standalone candiacy. Basically flag our content as being possibly standalone\r\n            // so our parent can determine if we actually are standalone\r\n            openStandalone: isNextWhitespace(program.body),\r\n            closeStandalone: isPrevWhitespace((firstInverse || program).body)\r\n          }\r\n\r\n          if (block.openStrip.close) {\r\n            omitRight(program.body, null, true)\r\n          }\r\n\r\n          if (inverse) {\r\n            var inverseStrip = block.inverseStrip\r\n\r\n            if (inverseStrip.open) {\r\n              omitLeft(program.body, null, true)\r\n            }\r\n\r\n            if (inverseStrip.close) {\r\n              omitRight(firstInverse.body, null, true)\r\n            }\r\n            if (block.closeStrip.open) {\r\n              omitLeft(lastInverse.body, null, true)\r\n            }\r\n\r\n            // Find standalone else statments\r\n            if (\r\n              !this.options.ignoreStandalone &&\r\n              isPrevWhitespace(program.body) &&\r\n              isNextWhitespace(firstInverse.body)\r\n            ) {\r\n              omitLeft(program.body)\r\n              omitRight(firstInverse.body)\r\n            }\r\n          } else if (block.closeStrip.open) {\r\n            omitLeft(program.body, null, true)\r\n          }\r\n\r\n          return strip\r\n        }\r\n\r\n        WhitespaceControl.prototype.Decorator = WhitespaceControl.prototype.MustacheStatement = function (mustache) {\r\n          return mustache.strip\r\n        }\r\n\r\n        WhitespaceControl.prototype.PartialStatement = WhitespaceControl.prototype.CommentStatement = function (node) {\r\n          /* istanbul ignore next */\r\n          var strip = node.strip || {}\r\n          return {\r\n            inlineStandalone: true,\r\n            open: strip.open,\r\n            close: strip.close\r\n          }\r\n        }\r\n\r\n        function isPrevWhitespace (body, i, isRoot) {\r\n          if (i === undefined) {\r\n            i = body.length\r\n          }\r\n\r\n          // Nodes that end with newlines are considered whitespace (but are special\r\n          // cased for strip operations)\r\n          var prev = body[i - 1],\r\n            sibling = body[i - 2]\r\n          if (!prev) {\r\n            return isRoot\r\n          }\r\n\r\n          if (prev.type === 'ContentStatement') {\r\n            return (sibling || !isRoot ? /\\r?\\n\\s*?$/ : /(^|\\r?\\n)\\s*?$/).test(prev.original)\r\n          }\r\n        }\r\n        function isNextWhitespace (body, i, isRoot) {\r\n          if (i === undefined) {\r\n            i = -1\r\n          }\r\n\r\n          var next = body[i + 1],\r\n            sibling = body[i + 2]\r\n          if (!next) {\r\n            return isRoot\r\n          }\r\n\r\n          if (next.type === 'ContentStatement') {\r\n            return (sibling || !isRoot ? /^\\s*?\\r?\\n/ : /^\\s*?(\\r?\\n|$)/).test(next.original)\r\n          }\r\n        }\r\n\r\n        // Marks the node to the right of the position as omitted.\r\n        // I.e. {{foo}}' ' will mark the ' ' node as omitted.\r\n        //\r\n        // If i is undefined, then the first child will be marked as such.\r\n        //\r\n        // If mulitple is truthy then all whitespace will be stripped out until non-whitespace\r\n        // content is met.\r\n        function omitRight (body, i, multiple) {\r\n          var current = body[i == null ? 0 : i + 1]\r\n          if (!current || current.type !== 'ContentStatement' || (!multiple && current.rightStripped)) {\r\n            return\r\n          }\r\n\r\n          var original = current.value\r\n          current.value = current.value.replace(multiple ? /^\\s+/ : /^[ \\t]*\\r?\\n?/, '')\r\n          current.rightStripped = current.value !== original\r\n        }\r\n\r\n        // Marks the node to the left of the position as omitted.\r\n        // I.e. ' '{{foo}} will mark the ' ' node as omitted.\r\n        //\r\n        // If i is undefined then the last child will be marked as such.\r\n        //\r\n        // If mulitple is truthy then all whitespace will be stripped out until non-whitespace\r\n        // content is met.\r\n        function omitLeft (body, i, multiple) {\r\n          var current = body[i == null ? body.length - 1 : i - 1]\r\n          if (!current || current.type !== 'ContentStatement' || (!multiple && current.leftStripped)) {\r\n            return\r\n          }\r\n\r\n          // We omit the last node if it's whitespace only and not preceeded by a non-content node.\r\n          var original = current.value\r\n          current.value = current.value.replace(multiple ? /\\s+$/ : /[ \\t]+$/, '')\r\n          current.leftStripped = current.value !== original\r\n          return current.leftStripped\r\n        }\r\n\r\n        exports['default'] = WhitespaceControl\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 39 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        var _interopRequireDefault = __webpack_require__(1)['default']\r\n\r\n        exports.__esModule = true\r\n\r\n        var _exception = __webpack_require__(6)\r\n\r\n        var _exception2 = _interopRequireDefault(_exception)\r\n\r\n        function Visitor () {\r\n          this.parents = []\r\n        }\r\n\r\n        Visitor.prototype = {\r\n          constructor: Visitor,\r\n          mutating: false,\r\n\r\n          // Visits a given value. If mutating, will replace the value if necessary.\r\n          acceptKey: function acceptKey (node, name) {\r\n            var value = this.accept(node[name])\r\n            if (this.mutating) {\r\n              // Hacky sanity check: This may have a few false positives for type for the helper\r\n              // methods but will generally do the right thing without a lot of overhead.\r\n              if (value && !Visitor.prototype[value.type]) {\r\n                throw new _exception2['default'](\r\n                  'Unexpected node type \"' + value.type + '\" found when accepting ' + name + ' on ' + node.type\r\n                )\r\n              }\r\n              node[name] = value\r\n            }\r\n          },\r\n\r\n          // Performs an accept operation with added sanity check to ensure\r\n          // required keys are not removed.\r\n          acceptRequired: function acceptRequired (node, name) {\r\n            this.acceptKey(node, name)\r\n\r\n            if (!node[name]) {\r\n              throw new _exception2['default'](node.type + ' requires ' + name)\r\n            }\r\n          },\r\n\r\n          // Traverses a given array. If mutating, empty respnses will be removed\r\n          // for child elements.\r\n          acceptArray: function acceptArray (array) {\r\n            for (var i = 0, l = array.length; i < l; i++) {\r\n              this.acceptKey(array, i)\r\n\r\n              if (!array[i]) {\r\n                array.splice(i, 1)\r\n                i--\r\n                l--\r\n              }\r\n            }\r\n          },\r\n\r\n          accept: function accept (object) {\r\n            if (!object) {\r\n              return\r\n            }\r\n\r\n            /* istanbul ignore next: Sanity code */\r\n            if (!this[object.type]) {\r\n              throw new _exception2['default']('Unknown type: ' + object.type, object)\r\n            }\r\n\r\n            if (this.current) {\r\n              this.parents.unshift(this.current)\r\n            }\r\n            this.current = object\r\n\r\n            var ret = this[object.type](object)\r\n\r\n            this.current = this.parents.shift()\r\n\r\n            if (!this.mutating || ret) {\r\n              return ret\r\n            } else if (ret !== false) {\r\n              return object\r\n            }\r\n          },\r\n\r\n          Program: function Program (program) {\r\n            this.acceptArray(program.body)\r\n          },\r\n\r\n          MustacheStatement: visitSubExpression,\r\n          Decorator: visitSubExpression,\r\n\r\n          BlockStatement: visitBlock,\r\n          DecoratorBlock: visitBlock,\r\n\r\n          PartialStatement: visitPartial,\r\n          PartialBlockStatement: function PartialBlockStatement (partial) {\r\n            visitPartial.call(this, partial)\r\n\r\n            this.acceptKey(partial, 'program')\r\n          },\r\n\r\n          ContentStatement: function ContentStatement () /* content */ {},\r\n          CommentStatement: function CommentStatement () /* comment */ {},\r\n\r\n          SubExpression: visitSubExpression,\r\n\r\n          PathExpression: function PathExpression () /* path */ {},\r\n\r\n          StringLiteral: function StringLiteral () /* string */ {},\r\n          NumberLiteral: function NumberLiteral () /* number */ {},\r\n          BooleanLiteral: function BooleanLiteral () /* bool */ {},\r\n          UndefinedLiteral: function UndefinedLiteral () /* literal */ {},\r\n          NullLiteral: function NullLiteral () /* literal */ {},\r\n\r\n          Hash: function Hash (hash) {\r\n            this.acceptArray(hash.pairs)\r\n          },\r\n          HashPair: function HashPair (pair) {\r\n            this.acceptRequired(pair, 'value')\r\n          }\r\n        }\r\n\r\n        function visitSubExpression (mustache) {\r\n          this.acceptRequired(mustache, 'path')\r\n          this.acceptArray(mustache.params)\r\n          this.acceptKey(mustache, 'hash')\r\n        }\r\n        function visitBlock (block) {\r\n          visitSubExpression.call(this, block)\r\n\r\n          this.acceptKey(block, 'program')\r\n          this.acceptKey(block, 'inverse')\r\n        }\r\n        function visitPartial (partial) {\r\n          this.acceptRequired(partial, 'name')\r\n          this.acceptArray(partial.params)\r\n          this.acceptKey(partial, 'hash')\r\n        }\r\n\r\n        exports['default'] = Visitor\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 40 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        var _interopRequireDefault = __webpack_require__(1)['default']\r\n\r\n        exports.__esModule = true\r\n        exports.SourceLocation = SourceLocation\r\n        exports.id = id\r\n        exports.stripFlags = stripFlags\r\n        exports.stripComment = stripComment\r\n        exports.preparePath = preparePath\r\n        exports.prepareMustache = prepareMustache\r\n        exports.prepareRawBlock = prepareRawBlock\r\n        exports.prepareBlock = prepareBlock\r\n        exports.prepareProgram = prepareProgram\r\n        exports.preparePartialBlock = preparePartialBlock\r\n\r\n        var _exception = __webpack_require__(6)\r\n\r\n        var _exception2 = _interopRequireDefault(_exception)\r\n\r\n        function validateClose (open, close) {\r\n          close = close.path ? close.path.original : close\r\n\r\n          if (open.path.original !== close) {\r\n            var errorNode = { loc: open.path.loc }\r\n\r\n            throw new _exception2['default'](open.path.original + \" doesn't match \" + close, errorNode)\r\n          }\r\n        }\r\n\r\n        function SourceLocation (source, locInfo) {\r\n          this.source = source\r\n          this.start = {\r\n            line: locInfo.first_line,\r\n            column: locInfo.first_column\r\n          }\r\n          this.end = {\r\n            line: locInfo.last_line,\r\n            column: locInfo.last_column\r\n          }\r\n        }\r\n\r\n        function id (token) {\r\n          if (/^\\[.*\\]$/.test(token)) {\r\n            return token.substr(1, token.length - 2)\r\n          } else {\r\n            return token\r\n          }\r\n        }\r\n\r\n        function stripFlags (open, close) {\r\n          return {\r\n            open: open.charAt(2) === '~',\r\n            close: close.charAt(close.length - 3) === '~'\r\n          }\r\n        }\r\n\r\n        function stripComment (comment) {\r\n          return comment.replace(/^\\{\\{~?!-?-?/, '').replace(/-?-?~?\\}\\}$/, '')\r\n        }\r\n\r\n        function preparePath (data, parts, loc) {\r\n          loc = this.locInfo(loc)\r\n\r\n          var original = data ? '@' : '',\r\n            dig = [],\r\n            depth = 0\r\n\r\n          for (var i = 0, l = parts.length; i < l; i++) {\r\n            var part = parts[i].part,\r\n              // If we have [] syntax then we do not treat path references as operators,\r\n              // i.e. foo.[this] resolves to approximately context.foo['this']\r\n              isLiteral = parts[i].original !== part\r\n            original += (parts[i].separator || '') + part\r\n\r\n            if (!isLiteral && (part === '..' || part === '.' || part === 'this')) {\r\n              if (dig.length > 0) {\r\n                throw new _exception2['default']('Invalid path: ' + original, { loc: loc })\r\n              } else if (part === '..') {\r\n                depth++\r\n              }\r\n            } else {\r\n              dig.push(part)\r\n            }\r\n          }\r\n\r\n          return {\r\n            type: 'PathExpression',\r\n            data: data,\r\n            depth: depth,\r\n            parts: dig,\r\n            original: original,\r\n            loc: loc\r\n          }\r\n        }\r\n\r\n        function prepareMustache (path, params, hash, open, strip, locInfo) {\r\n          // Must use charAt to support IE pre-10\r\n          var escapeFlag = open.charAt(3) || open.charAt(2),\r\n            escaped = escapeFlag !== '{' && escapeFlag !== '&'\r\n\r\n          var decorator = /\\*/.test(open)\r\n          return {\r\n            type: decorator ? 'Decorator' : 'MustacheStatement',\r\n            path: path,\r\n            params: params,\r\n            hash: hash,\r\n            escaped: escaped,\r\n            strip: strip,\r\n            loc: this.locInfo(locInfo)\r\n          }\r\n        }\r\n\r\n        function prepareRawBlock (openRawBlock, contents, close, locInfo) {\r\n          validateClose(openRawBlock, close)\r\n\r\n          locInfo = this.locInfo(locInfo)\r\n          var program = {\r\n            type: 'Program',\r\n            body: contents,\r\n            strip: {},\r\n            loc: locInfo\r\n          }\r\n\r\n          return {\r\n            type: 'BlockStatement',\r\n            path: openRawBlock.path,\r\n            params: openRawBlock.params,\r\n            hash: openRawBlock.hash,\r\n            program: program,\r\n            openStrip: {},\r\n            inverseStrip: {},\r\n            closeStrip: {},\r\n            loc: locInfo\r\n          }\r\n        }\r\n\r\n        function prepareBlock (openBlock, program, inverseAndProgram, close, inverted, locInfo) {\r\n          if (close && close.path) {\r\n            validateClose(openBlock, close)\r\n          }\r\n\r\n          var decorator = /\\*/.test(openBlock.open)\r\n\r\n          program.blockParams = openBlock.blockParams\r\n\r\n          var inverse = undefined,\r\n            inverseStrip = undefined\r\n\r\n          if (inverseAndProgram) {\r\n            if (decorator) {\r\n              throw new _exception2['default']('Unexpected inverse block on decorator', inverseAndProgram)\r\n            }\r\n\r\n            if (inverseAndProgram.chain) {\r\n              inverseAndProgram.program.body[0].closeStrip = close.strip\r\n            }\r\n\r\n            inverseStrip = inverseAndProgram.strip\r\n            inverse = inverseAndProgram.program\r\n          }\r\n\r\n          if (inverted) {\r\n            inverted = inverse\r\n            inverse = program\r\n            program = inverted\r\n          }\r\n\r\n          return {\r\n            type: decorator ? 'DecoratorBlock' : 'BlockStatement',\r\n            path: openBlock.path,\r\n            params: openBlock.params,\r\n            hash: openBlock.hash,\r\n            program: program,\r\n            inverse: inverse,\r\n            openStrip: openBlock.strip,\r\n            inverseStrip: inverseStrip,\r\n            closeStrip: close && close.strip,\r\n            loc: this.locInfo(locInfo)\r\n          }\r\n        }\r\n\r\n        function prepareProgram (statements, loc) {\r\n          if (!loc && statements.length) {\r\n            var firstLoc = statements[0].loc,\r\n              lastLoc = statements[statements.length - 1].loc\r\n\r\n            /* istanbul ignore else */\r\n            if (firstLoc && lastLoc) {\r\n              loc = {\r\n                source: firstLoc.source,\r\n                start: {\r\n                  line: firstLoc.start.line,\r\n                  column: firstLoc.start.column\r\n                },\r\n                end: {\r\n                  line: lastLoc.end.line,\r\n                  column: lastLoc.end.column\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          return {\r\n            type: 'Program',\r\n            body: statements,\r\n            strip: {},\r\n            loc: loc\r\n          }\r\n        }\r\n\r\n        function preparePartialBlock (open, program, close, locInfo) {\r\n          validateClose(open, close)\r\n\r\n          return {\r\n            type: 'PartialBlockStatement',\r\n            name: open.path,\r\n            params: open.params,\r\n            hash: open.hash,\r\n            program: program,\r\n            openStrip: open.strip,\r\n            closeStrip: close && close.strip,\r\n            loc: this.locInfo(locInfo)\r\n          }\r\n        }\r\n\r\n        /***/\r\n      },\r\n      /* 41 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        /* eslint-disable new-cap */\r\n\r\n        'use strict'\r\n\r\n        var _interopRequireDefault = __webpack_require__(1)['default']\r\n\r\n        exports.__esModule = true\r\n        exports.Compiler = Compiler\r\n        exports.precompile = precompile\r\n        exports.compile = compile\r\n\r\n        var _exception = __webpack_require__(6)\r\n\r\n        var _exception2 = _interopRequireDefault(_exception)\r\n\r\n        var _utils = __webpack_require__(5)\r\n\r\n        var _ast = __webpack_require__(35)\r\n\r\n        var _ast2 = _interopRequireDefault(_ast)\r\n\r\n        var slice = [].slice\r\n\r\n        function Compiler () {}\r\n\r\n        // the foundHelper register will disambiguate helper lookup from finding a\r\n        // function in a context. This is necessary for mustache compatibility, which\r\n        // requires that context functions in blocks are evaluated by blockHelperMissing,\r\n        // and then proceed as if the resulting value was provided to blockHelperMissing.\r\n\r\n        Compiler.prototype = {\r\n          compiler: Compiler,\r\n\r\n          equals: function equals (other) {\r\n            var len = this.opcodes.length\r\n            if (other.opcodes.length !== len) {\r\n              return false\r\n            }\r\n\r\n            for (var i = 0; i < len; i++) {\r\n              var opcode = this.opcodes[i],\r\n                otherOpcode = other.opcodes[i]\r\n              if (opcode.opcode !== otherOpcode.opcode || !argEquals(opcode.args, otherOpcode.args)) {\r\n                return false\r\n              }\r\n            }\r\n\r\n            // We know that length is the same between the two arrays because they are directly tied\r\n            // to the opcode behavior above.\r\n            len = this.children.length\r\n            for (var i = 0; i < len; i++) {\r\n              if (!this.children[i].equals(other.children[i])) {\r\n                return false\r\n              }\r\n            }\r\n\r\n            return true\r\n          },\r\n\r\n          guid: 0,\r\n\r\n          compile: function compile (program, options) {\r\n            this.sourceNode = []\r\n            this.opcodes = []\r\n            this.children = []\r\n            this.options = options\r\n            this.stringParams = options.stringParams\r\n            this.trackIds = options.trackIds\r\n\r\n            options.blockParams = options.blockParams || []\r\n\r\n            // These changes will propagate to the other compiler components\r\n            var knownHelpers = options.knownHelpers\r\n            options.knownHelpers = {\r\n              helperMissing: true,\r\n              blockHelperMissing: true,\r\n              each: true,\r\n              if: true,\r\n              unless: true,\r\n              with: true,\r\n              log: true,\r\n              lookup: true\r\n            }\r\n            if (knownHelpers) {\r\n              // the next line should use \"Object.keys\", but the code has been like this a long time and changing it, might\r\n              // cause backwards-compatibility issues... It's an old library...\r\n              // eslint-disable-next-line guard-for-in\r\n              for (var _name in knownHelpers) {\r\n                this.options.knownHelpers[_name] = knownHelpers[_name]\r\n              }\r\n            }\r\n\r\n            return this.accept(program)\r\n          },\r\n\r\n          compileProgram: function compileProgram (program) {\r\n            var childCompiler = new this.compiler(),\r\n              // eslint-disable-line new-cap\r\n              result = childCompiler.compile(program, this.options),\r\n              guid = this.guid++\r\n\r\n            this.usePartial = this.usePartial || result.usePartial\r\n\r\n            this.children[guid] = result\r\n            this.useDepths = this.useDepths || result.useDepths\r\n\r\n            return guid\r\n          },\r\n\r\n          accept: function accept (node) {\r\n            /* istanbul ignore next: Sanity code */\r\n            if (!this[node.type]) {\r\n              throw new _exception2['default']('Unknown type: ' + node.type, node)\r\n            }\r\n\r\n            this.sourceNode.unshift(node)\r\n            var ret = this[node.type](node)\r\n            this.sourceNode.shift()\r\n            return ret\r\n          },\r\n\r\n          Program: function Program (program) {\r\n            this.options.blockParams.unshift(program.blockParams)\r\n\r\n            var body = program.body,\r\n              bodyLength = body.length\r\n            for (var i = 0; i < bodyLength; i++) {\r\n              this.accept(body[i])\r\n            }\r\n\r\n            this.options.blockParams.shift()\r\n\r\n            this.isSimple = bodyLength === 1\r\n            this.blockParams = program.blockParams ? program.blockParams.length : 0\r\n\r\n            return this\r\n          },\r\n\r\n          BlockStatement: function BlockStatement (block) {\r\n            transformLiteralToPath(block)\r\n\r\n            var program = block.program,\r\n              inverse = block.inverse\r\n\r\n            program = program && this.compileProgram(program)\r\n            inverse = inverse && this.compileProgram(inverse)\r\n\r\n            var type = this.classifySexpr(block)\r\n\r\n            if (type === 'helper') {\r\n              this.helperSexpr(block, program, inverse)\r\n            } else if (type === 'simple') {\r\n              this.simpleSexpr(block)\r\n\r\n              // now that the simple mustache is resolved, we need to\r\n              // evaluate it by executing `blockHelperMissing`\r\n              this.opcode('pushProgram', program)\r\n              this.opcode('pushProgram', inverse)\r\n              this.opcode('emptyHash')\r\n              this.opcode('blockValue', block.path.original)\r\n            } else {\r\n              this.ambiguousSexpr(block, program, inverse)\r\n\r\n              // now that the simple mustache is resolved, we need to\r\n              // evaluate it by executing `blockHelperMissing`\r\n              this.opcode('pushProgram', program)\r\n              this.opcode('pushProgram', inverse)\r\n              this.opcode('emptyHash')\r\n              this.opcode('ambiguousBlockValue')\r\n            }\r\n\r\n            this.opcode('append')\r\n          },\r\n\r\n          DecoratorBlock: function DecoratorBlock (decorator) {\r\n            var program = decorator.program && this.compileProgram(decorator.program)\r\n            var params = this.setupFullMustacheParams(decorator, program, undefined),\r\n              path = decorator.path\r\n\r\n            this.useDecorators = true\r\n            this.opcode('registerDecorator', params.length, path.original)\r\n          },\r\n\r\n          PartialStatement: function PartialStatement (partial) {\r\n            this.usePartial = true\r\n\r\n            var program = partial.program\r\n            if (program) {\r\n              program = this.compileProgram(partial.program)\r\n            }\r\n\r\n            var params = partial.params\r\n            if (params.length > 1) {\r\n              throw new _exception2['default']('Unsupported number of partial arguments: ' + params.length, partial)\r\n            } else if (!params.length) {\r\n              if (this.options.explicitPartialContext) {\r\n                this.opcode('pushLiteral', 'undefined')\r\n              } else {\r\n                params.push({ type: 'PathExpression', parts: [], depth: 0 })\r\n              }\r\n            }\r\n\r\n            var partialName = partial.name.original,\r\n              isDynamic = partial.name.type === 'SubExpression'\r\n            if (isDynamic) {\r\n              this.accept(partial.name)\r\n            }\r\n\r\n            this.setupFullMustacheParams(partial, program, undefined, true)\r\n\r\n            var indent = partial.indent || ''\r\n            if (this.options.preventIndent && indent) {\r\n              this.opcode('appendContent', indent)\r\n              indent = ''\r\n            }\r\n\r\n            this.opcode('invokePartial', isDynamic, partialName, indent)\r\n            this.opcode('append')\r\n          },\r\n          PartialBlockStatement: function PartialBlockStatement (partialBlock) {\r\n            this.PartialStatement(partialBlock)\r\n          },\r\n\r\n          MustacheStatement: function MustacheStatement (mustache) {\r\n            this.SubExpression(mustache)\r\n\r\n            if (mustache.escaped && !this.options.noEscape) {\r\n              this.opcode('appendEscaped')\r\n            } else {\r\n              this.opcode('append')\r\n            }\r\n          },\r\n          Decorator: function Decorator (decorator) {\r\n            this.DecoratorBlock(decorator)\r\n          },\r\n\r\n          ContentStatement: function ContentStatement (content) {\r\n            if (content.value) {\r\n              this.opcode('appendContent', content.value)\r\n            }\r\n          },\r\n\r\n          CommentStatement: function CommentStatement () {},\r\n\r\n          SubExpression: function SubExpression (sexpr) {\r\n            transformLiteralToPath(sexpr)\r\n            var type = this.classifySexpr(sexpr)\r\n\r\n            if (type === 'simple') {\r\n              this.simpleSexpr(sexpr)\r\n            } else if (type === 'helper') {\r\n              this.helperSexpr(sexpr)\r\n            } else {\r\n              this.ambiguousSexpr(sexpr)\r\n            }\r\n          },\r\n          ambiguousSexpr: function ambiguousSexpr (sexpr, program, inverse) {\r\n            var path = sexpr.path,\r\n              name = path.parts[0],\r\n              isBlock = program != null || inverse != null\r\n\r\n            this.opcode('getContext', path.depth)\r\n\r\n            this.opcode('pushProgram', program)\r\n            this.opcode('pushProgram', inverse)\r\n\r\n            path.strict = true\r\n            this.accept(path)\r\n\r\n            this.opcode('invokeAmbiguous', name, isBlock)\r\n          },\r\n\r\n          simpleSexpr: function simpleSexpr (sexpr) {\r\n            var path = sexpr.path\r\n            path.strict = true\r\n            this.accept(path)\r\n            this.opcode('resolvePossibleLambda')\r\n          },\r\n\r\n          helperSexpr: function helperSexpr (sexpr, program, inverse) {\r\n            var params = this.setupFullMustacheParams(sexpr, program, inverse),\r\n              path = sexpr.path,\r\n              name = path.parts[0]\r\n\r\n            if (this.options.knownHelpers[name]) {\r\n              this.opcode('invokeKnownHelper', params.length, name)\r\n            } else if (this.options.knownHelpersOnly) {\r\n              throw new _exception2['default'](\r\n                'You specified knownHelpersOnly, but used the unknown helper ' + name,\r\n                sexpr\r\n              )\r\n            } else {\r\n              path.strict = true\r\n              path.falsy = true\r\n\r\n              this.accept(path)\r\n              this.opcode('invokeHelper', params.length, path.original, _ast2['default'].helpers.simpleId(path))\r\n            }\r\n          },\r\n\r\n          PathExpression: function PathExpression (path) {\r\n            this.addDepth(path.depth)\r\n            this.opcode('getContext', path.depth)\r\n\r\n            var name = path.parts[0],\r\n              scoped = _ast2['default'].helpers.scopedId(path),\r\n              blockParamId = !path.depth && !scoped && this.blockParamIndex(name)\r\n\r\n            if (blockParamId) {\r\n              this.opcode('lookupBlockParam', blockParamId, path.parts)\r\n            } else if (!name) {\r\n              // Context reference, i.e. `{{foo .}}` or `{{foo ..}}`\r\n              this.opcode('pushContext')\r\n            } else if (path.data) {\r\n              this.options.data = true\r\n              this.opcode('lookupData', path.depth, path.parts, path.strict)\r\n            } else {\r\n              this.opcode('lookupOnContext', path.parts, path.falsy, path.strict, scoped)\r\n            }\r\n          },\r\n\r\n          StringLiteral: function StringLiteral (string) {\r\n            this.opcode('pushString', string.value)\r\n          },\r\n\r\n          NumberLiteral: function NumberLiteral (number) {\r\n            this.opcode('pushLiteral', number.value)\r\n          },\r\n\r\n          BooleanLiteral: function BooleanLiteral (bool) {\r\n            this.opcode('pushLiteral', bool.value)\r\n          },\r\n\r\n          UndefinedLiteral: function UndefinedLiteral () {\r\n            this.opcode('pushLiteral', 'undefined')\r\n          },\r\n\r\n          NullLiteral: function NullLiteral () {\r\n            this.opcode('pushLiteral', 'null')\r\n          },\r\n\r\n          Hash: function Hash (hash) {\r\n            var pairs = hash.pairs,\r\n              i = 0,\r\n              l = pairs.length\r\n\r\n            this.opcode('pushHash')\r\n\r\n            for (; i < l; i++) {\r\n              this.pushParam(pairs[i].value)\r\n            }\r\n            while (i--) {\r\n              this.opcode('assignToHash', pairs[i].key)\r\n            }\r\n            this.opcode('popHash')\r\n          },\r\n\r\n          // HELPERS\r\n          opcode: function opcode (name) {\r\n            this.opcodes.push({ opcode: name, args: slice.call(arguments, 1), loc: this.sourceNode[0].loc })\r\n          },\r\n\r\n          addDepth: function addDepth (depth) {\r\n            if (!depth) {\r\n              return\r\n            }\r\n\r\n            this.useDepths = true\r\n          },\r\n\r\n          classifySexpr: function classifySexpr (sexpr) {\r\n            var isSimple = _ast2['default'].helpers.simpleId(sexpr.path)\r\n\r\n            var isBlockParam = isSimple && !!this.blockParamIndex(sexpr.path.parts[0])\r\n\r\n            // a mustache is an eligible helper if:\r\n            // * its id is simple (a single part, not `this` or `..`)\r\n            var isHelper = !isBlockParam && _ast2['default'].helpers.helperExpression(sexpr)\r\n\r\n            // if a mustache is an eligible helper but not a definite\r\n            // helper, it is ambiguous, and will be resolved in a later\r\n            // pass or at runtime.\r\n            var isEligible = !isBlockParam && (isHelper || isSimple)\r\n\r\n            // if ambiguous, we can possibly resolve the ambiguity now\r\n            // An eligible helper is one that does not have a complex path, i.e. `this.foo`, `../foo` etc.\r\n            if (isEligible && !isHelper) {\r\n              var _name2 = sexpr.path.parts[0],\r\n                options = this.options\r\n\r\n              if (options.knownHelpers[_name2]) {\r\n                isHelper = true\r\n              } else if (options.knownHelpersOnly) {\r\n                isEligible = false\r\n              }\r\n            }\r\n\r\n            if (isHelper) {\r\n              return 'helper'\r\n            } else if (isEligible) {\r\n              return 'ambiguous'\r\n            } else {\r\n              return 'simple'\r\n            }\r\n          },\r\n\r\n          pushParams: function pushParams (params) {\r\n            for (var i = 0, l = params.length; i < l; i++) {\r\n              this.pushParam(params[i])\r\n            }\r\n          },\r\n\r\n          pushParam: function pushParam (val) {\r\n            var value = val.value != null ? val.value : val.original || ''\r\n\r\n            if (this.stringParams) {\r\n              if (value.replace) {\r\n                value = value.replace(/^(\\.?\\.\\/)*/g, '').replace(/\\//g, '.')\r\n              }\r\n\r\n              if (val.depth) {\r\n                this.addDepth(val.depth)\r\n              }\r\n              this.opcode('getContext', val.depth || 0)\r\n              this.opcode('pushStringParam', value, val.type)\r\n\r\n              if (val.type === 'SubExpression') {\r\n                // SubExpressions get evaluated and passed in\r\n                // in string params mode.\r\n                this.accept(val)\r\n              }\r\n            } else {\r\n              if (this.trackIds) {\r\n                var blockParamIndex = undefined\r\n                if (val.parts && !_ast2['default'].helpers.scopedId(val) && !val.depth) {\r\n                  blockParamIndex = this.blockParamIndex(val.parts[0])\r\n                }\r\n                if (blockParamIndex) {\r\n                  var blockParamChild = val.parts.slice(1).join('.')\r\n                  this.opcode('pushId', 'BlockParam', blockParamIndex, blockParamChild)\r\n                } else {\r\n                  value = val.original || value\r\n                  if (value.replace) {\r\n                    value = value\r\n                      .replace(/^this(?:\\.|$)/, '')\r\n                      .replace(/^\\.\\//, '')\r\n                      .replace(/^\\.$/, '')\r\n                  }\r\n\r\n                  this.opcode('pushId', val.type, value)\r\n                }\r\n              }\r\n              this.accept(val)\r\n            }\r\n          },\r\n\r\n          setupFullMustacheParams: function setupFullMustacheParams (sexpr, program, inverse, omitEmpty) {\r\n            var params = sexpr.params\r\n            this.pushParams(params)\r\n\r\n            this.opcode('pushProgram', program)\r\n            this.opcode('pushProgram', inverse)\r\n\r\n            if (sexpr.hash) {\r\n              this.accept(sexpr.hash)\r\n            } else {\r\n              this.opcode('emptyHash', omitEmpty)\r\n            }\r\n\r\n            return params\r\n          },\r\n\r\n          blockParamIndex: function blockParamIndex (name) {\r\n            for (var depth = 0, len = this.options.blockParams.length; depth < len; depth++) {\r\n              var blockParams = this.options.blockParams[depth],\r\n                param = blockParams && _utils.indexOf(blockParams, name)\r\n              if (blockParams && param >= 0) {\r\n                return [depth, param]\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        function precompile (input, options, env) {\r\n          if (input == null || (typeof input !== 'string' && input.type !== 'Program')) {\r\n            throw new _exception2['default'](\r\n              'You must pass a string or Handlebars AST to Handlebars.precompile. You passed ' + input\r\n            )\r\n          }\r\n\r\n          options = options || {}\r\n          if (!('data' in options)) {\r\n            options.data = true\r\n          }\r\n          if (options.compat) {\r\n            options.useDepths = true\r\n          }\r\n\r\n          var ast = env.parse(input, options),\r\n            environment = new env.Compiler().compile(ast, options)\r\n          return new env.JavaScriptCompiler().compile(environment, options)\r\n        }\r\n\r\n        function compile (input, options, env) {\r\n          if (options === undefined) options = {}\r\n\r\n          if (input == null || (typeof input !== 'string' && input.type !== 'Program')) {\r\n            throw new _exception2['default'](\r\n              'You must pass a string or Handlebars AST to Handlebars.compile. You passed ' + input\r\n            )\r\n          }\r\n\r\n          options = _utils.extend({}, options)\r\n          if (!('data' in options)) {\r\n            options.data = true\r\n          }\r\n          if (options.compat) {\r\n            options.useDepths = true\r\n          }\r\n\r\n          var compiled = undefined\r\n\r\n          function compileInput () {\r\n            var ast = env.parse(input, options),\r\n              environment = new env.Compiler().compile(ast, options),\r\n              templateSpec = new env.JavaScriptCompiler().compile(environment, options, undefined, true)\r\n            return env.template(templateSpec)\r\n          }\r\n\r\n          // Template is only compiled on first use and cached after that point.\r\n          function ret (context, execOptions) {\r\n            if (!compiled) {\r\n              compiled = compileInput()\r\n            }\r\n            return compiled.call(this, context, execOptions)\r\n          }\r\n          ret._setup = function (setupOptions) {\r\n            if (!compiled) {\r\n              compiled = compileInput()\r\n            }\r\n            return compiled._setup(setupOptions)\r\n          }\r\n          ret._child = function (i, data, blockParams, depths) {\r\n            if (!compiled) {\r\n              compiled = compileInput()\r\n            }\r\n            return compiled._child(i, data, blockParams, depths)\r\n          }\r\n          return ret\r\n        }\r\n\r\n        function argEquals (a, b) {\r\n          if (a === b) {\r\n            return true\r\n          }\r\n\r\n          if (_utils.isArray(a) && _utils.isArray(b) && a.length === b.length) {\r\n            for (var i = 0; i < a.length; i++) {\r\n              if (!argEquals(a[i], b[i])) {\r\n                return false\r\n              }\r\n            }\r\n            return true\r\n          }\r\n        }\r\n\r\n        function transformLiteralToPath (sexpr) {\r\n          if (!sexpr.path.parts) {\r\n            var literal = sexpr.path\r\n            // Casting to string here to make false and 0 literal values play nicely with the rest\r\n            // of the system.\r\n            sexpr.path = {\r\n              type: 'PathExpression',\r\n              data: false,\r\n              depth: 0,\r\n              parts: [literal.original + ''],\r\n              original: literal.original + '',\r\n              loc: literal.loc\r\n            }\r\n          }\r\n        }\r\n\r\n        /***/\r\n      },\r\n      /* 42 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        'use strict'\r\n\r\n        var _interopRequireDefault = __webpack_require__(1)['default']\r\n\r\n        exports.__esModule = true\r\n\r\n        var _base = __webpack_require__(4)\r\n\r\n        var _exception = __webpack_require__(6)\r\n\r\n        var _exception2 = _interopRequireDefault(_exception)\r\n\r\n        var _utils = __webpack_require__(5)\r\n\r\n        var _codeGen = __webpack_require__(43)\r\n\r\n        var _codeGen2 = _interopRequireDefault(_codeGen)\r\n\r\n        function Literal (value) {\r\n          this.value = value\r\n        }\r\n\r\n        function JavaScriptCompiler () {}\r\n\r\n        JavaScriptCompiler.prototype = {\r\n          // PUBLIC API: You can override these methods in a subclass to provide\r\n          // alternative compiled forms for name lookup and buffering semantics\r\n          nameLookup: function nameLookup (parent, name /* , type*/) {\r\n            if (JavaScriptCompiler.isValidJavaScriptVariableName(name)) {\r\n              return [parent, '.', name]\r\n            } else {\r\n              return [parent, '[', JSON.stringify(name), ']']\r\n            }\r\n          },\r\n          depthedLookup: function depthedLookup (name) {\r\n            return [this.aliasable('container.lookup'), '(depths, \"', name, '\")']\r\n          },\r\n\r\n          compilerInfo: function compilerInfo () {\r\n            var revision = _base.COMPILER_REVISION,\r\n              versions = _base.REVISION_CHANGES[revision]\r\n            return [revision, versions]\r\n          },\r\n\r\n          appendToBuffer: function appendToBuffer (source, location, explicit) {\r\n            // Force a source as this simplifies the merge logic.\r\n            if (!_utils.isArray(source)) {\r\n              source = [source]\r\n            }\r\n            source = this.source.wrap(source, location)\r\n\r\n            if (this.environment.isSimple) {\r\n              return ['return ', source, ';']\r\n            } else if (explicit) {\r\n              // This is a case where the buffer operation occurs as a child of another\r\n              // construct, generally braces. We have to explicitly output these buffer\r\n              // operations to ensure that the emitted code goes in the correct location.\r\n              return ['buffer += ', source, ';']\r\n            } else {\r\n              source.appendToBuffer = true\r\n              return source\r\n            }\r\n          },\r\n\r\n          initializeBuffer: function initializeBuffer () {\r\n            return this.quotedString('')\r\n          },\r\n          // END PUBLIC API\r\n\r\n          compile: function compile (environment, options, context, asObject) {\r\n            this.environment = environment\r\n            this.options = options\r\n            this.stringParams = this.options.stringParams\r\n            this.trackIds = this.options.trackIds\r\n            this.precompile = !asObject\r\n\r\n            this.name = this.environment.name\r\n            this.isChild = !!context\r\n            this.context = context || {\r\n              decorators: [],\r\n              programs: [],\r\n              environments: []\r\n            }\r\n\r\n            this.preamble()\r\n\r\n            this.stackSlot = 0\r\n            this.stackVars = []\r\n            this.aliases = {}\r\n            this.registers = { list: [] }\r\n            this.hashes = []\r\n            this.compileStack = []\r\n            this.inlineStack = []\r\n            this.blockParams = []\r\n\r\n            this.compileChildren(environment, options)\r\n\r\n            this.useDepths = this.useDepths || environment.useDepths || environment.useDecorators || this.options.compat\r\n            this.useBlockParams = this.useBlockParams || environment.useBlockParams\r\n\r\n            var opcodes = environment.opcodes,\r\n              opcode = undefined,\r\n              firstLoc = undefined,\r\n              i = undefined,\r\n              l = undefined\r\n\r\n            for (i = 0, l = opcodes.length; i < l; i++) {\r\n              opcode = opcodes[i]\r\n\r\n              this.source.currentLocation = opcode.loc\r\n              firstLoc = firstLoc || opcode.loc\r\n              this[opcode.opcode].apply(this, opcode.args)\r\n            }\r\n\r\n            // Flush any trailing content that might be pending.\r\n            this.source.currentLocation = firstLoc\r\n            this.pushSource('')\r\n\r\n            /* istanbul ignore next */\r\n            if (this.stackSlot || this.inlineStack.length || this.compileStack.length) {\r\n              throw new _exception2['default']('Compile completed with content left on stack')\r\n            }\r\n\r\n            if (!this.decorators.isEmpty()) {\r\n              this.useDecorators = true\r\n\r\n              this.decorators.prepend('var decorators = container.decorators;\\n')\r\n              this.decorators.push('return fn;')\r\n\r\n              if (asObject) {\r\n                this.decorators = Function.apply(this, [\r\n                  'fn',\r\n                  'props',\r\n                  'container',\r\n                  'depth0',\r\n                  'data',\r\n                  'blockParams',\r\n                  'depths',\r\n                  this.decorators.merge()\r\n                ])\r\n              } else {\r\n                this.decorators.prepend('function(fn, props, container, depth0, data, blockParams, depths) {\\n')\r\n                this.decorators.push('}\\n')\r\n                this.decorators = this.decorators.merge()\r\n              }\r\n            } else {\r\n              this.decorators = undefined\r\n            }\r\n\r\n            var fn = this.createFunctionContext(asObject)\r\n            if (!this.isChild) {\r\n              var ret = {\r\n                compiler: this.compilerInfo(),\r\n                main: fn\r\n              }\r\n\r\n              if (this.decorators) {\r\n                ret.main_d = this.decorators // eslint-disable-line camelcase\r\n                ret.useDecorators = true\r\n              }\r\n\r\n              var _context = this.context\r\n              var programs = _context.programs\r\n              var decorators = _context.decorators\r\n\r\n              for (i = 0, l = programs.length; i < l; i++) {\r\n                if (programs[i]) {\r\n                  ret[i] = programs[i]\r\n                  if (decorators[i]) {\r\n                    ret[i + '_d'] = decorators[i]\r\n                    ret.useDecorators = true\r\n                  }\r\n                }\r\n              }\r\n\r\n              if (this.environment.usePartial) {\r\n                ret.usePartial = true\r\n              }\r\n              if (this.options.data) {\r\n                ret.useData = true\r\n              }\r\n              if (this.useDepths) {\r\n                ret.useDepths = true\r\n              }\r\n              if (this.useBlockParams) {\r\n                ret.useBlockParams = true\r\n              }\r\n              if (this.options.compat) {\r\n                ret.compat = true\r\n              }\r\n\r\n              if (!asObject) {\r\n                ret.compiler = JSON.stringify(ret.compiler)\r\n\r\n                this.source.currentLocation = { start: { line: 1, column: 0 } }\r\n                ret = this.objectLiteral(ret)\r\n\r\n                if (options.srcName) {\r\n                  ret = ret.toStringWithSourceMap({ file: options.destName })\r\n                  ret.map = ret.map && ret.map.toString()\r\n                } else {\r\n                  ret = ret.toString()\r\n                }\r\n              } else {\r\n                ret.compilerOptions = this.options\r\n              }\r\n\r\n              return ret\r\n            } else {\r\n              return fn\r\n            }\r\n          },\r\n\r\n          preamble: function preamble () {\r\n            // track the last context pushed into place to allow skipping the\r\n            // getContext opcode when it would be a noop\r\n            this.lastContext = 0\r\n            this.source = new _codeGen2['default'](this.options.srcName)\r\n            this.decorators = new _codeGen2['default'](this.options.srcName)\r\n          },\r\n\r\n          createFunctionContext: function createFunctionContext (asObject) {\r\n            var varDeclarations = ''\r\n\r\n            var locals = this.stackVars.concat(this.registers.list)\r\n            if (locals.length > 0) {\r\n              varDeclarations += ', ' + locals.join(', ')\r\n            }\r\n\r\n            // Generate minimizer alias mappings\r\n            //\r\n            // When using true SourceNodes, this will update all references to the given alias\r\n            // as the source nodes are reused in situ. For the non-source node compilation mode,\r\n            // aliases will not be used, but this case is already being run on the client and\r\n            // we aren't concern about minimizing the template size.\r\n            var aliasCount = 0\r\n            for (var alias in this.aliases) {\r\n              // eslint-disable-line guard-for-in\r\n              var node = this.aliases[alias]\r\n\r\n              if (this.aliases.hasOwnProperty(alias) && node.children && node.referenceCount > 1) {\r\n                varDeclarations += ', alias' + ++aliasCount + '=' + alias\r\n                node.children[0] = 'alias' + aliasCount\r\n              }\r\n            }\r\n\r\n            var params = ['container', 'depth0', 'helpers', 'partials', 'data']\r\n\r\n            if (this.useBlockParams || this.useDepths) {\r\n              params.push('blockParams')\r\n            }\r\n            if (this.useDepths) {\r\n              params.push('depths')\r\n            }\r\n\r\n            // Perform a second pass over the output to merge content when possible\r\n            var source = this.mergeSource(varDeclarations)\r\n\r\n            if (asObject) {\r\n              params.push(source)\r\n\r\n              return Function.apply(this, params)\r\n            } else {\r\n              return this.source.wrap(['function(', params.join(','), ') {\\n  ', source, '}'])\r\n            }\r\n          },\r\n          mergeSource: function mergeSource (varDeclarations) {\r\n            var isSimple = this.environment.isSimple,\r\n              appendOnly = !this.forceBuffer,\r\n              appendFirst = undefined,\r\n              sourceSeen = undefined,\r\n              bufferStart = undefined,\r\n              bufferEnd = undefined\r\n            this.source.each(function (line) {\r\n              if (line.appendToBuffer) {\r\n                if (bufferStart) {\r\n                  line.prepend('  + ')\r\n                } else {\r\n                  bufferStart = line\r\n                }\r\n                bufferEnd = line\r\n              } else {\r\n                if (bufferStart) {\r\n                  if (!sourceSeen) {\r\n                    appendFirst = true\r\n                  } else {\r\n                    bufferStart.prepend('buffer += ')\r\n                  }\r\n                  bufferEnd.add(';')\r\n                  bufferStart = bufferEnd = undefined\r\n                }\r\n\r\n                sourceSeen = true\r\n                if (!isSimple) {\r\n                  appendOnly = false\r\n                }\r\n              }\r\n            })\r\n\r\n            if (appendOnly) {\r\n              if (bufferStart) {\r\n                bufferStart.prepend('return ')\r\n                bufferEnd.add(';')\r\n              } else if (!sourceSeen) {\r\n                this.source.push('return \"\";')\r\n              }\r\n            } else {\r\n              varDeclarations += ', buffer = ' + (appendFirst ? '' : this.initializeBuffer())\r\n\r\n              if (bufferStart) {\r\n                bufferStart.prepend('return buffer + ')\r\n                bufferEnd.add(';')\r\n              } else {\r\n                this.source.push('return buffer;')\r\n              }\r\n            }\r\n\r\n            if (varDeclarations) {\r\n              this.source.prepend('var ' + varDeclarations.substring(2) + (appendFirst ? '' : ';\\n'))\r\n            }\r\n\r\n            return this.source.merge()\r\n          },\r\n\r\n          // [blockValue]\r\n          //\r\n          // On stack, before: hash, inverse, program, value\r\n          // On stack, after: return value of blockHelperMissing\r\n          //\r\n          // The purpose of this opcode is to take a block of the form\r\n          // `{{#this.foo}}...{{/this.foo}}`, resolve the value of `foo`, and\r\n          // replace it on the stack with the result of properly\r\n          // invoking blockHelperMissing.\r\n          blockValue: function blockValue (name) {\r\n            var blockHelperMissing = this.aliasable('helpers.blockHelperMissing'),\r\n              params = [this.contextName(0)]\r\n            this.setupHelperArgs(name, 0, params)\r\n\r\n            var blockName = this.popStack()\r\n            params.splice(1, 0, blockName)\r\n\r\n            this.push(this.source.functionCall(blockHelperMissing, 'call', params))\r\n          },\r\n\r\n          // [ambiguousBlockValue]\r\n          //\r\n          // On stack, before: hash, inverse, program, value\r\n          // Compiler value, before: lastHelper=value of last found helper, if any\r\n          // On stack, after, if no lastHelper: same as [blockValue]\r\n          // On stack, after, if lastHelper: value\r\n          ambiguousBlockValue: function ambiguousBlockValue () {\r\n            // We're being a bit cheeky and reusing the options value from the prior exec\r\n            var blockHelperMissing = this.aliasable('helpers.blockHelperMissing'),\r\n              params = [this.contextName(0)]\r\n            this.setupHelperArgs('', 0, params, true)\r\n\r\n            this.flushInline()\r\n\r\n            var current = this.topStack()\r\n            params.splice(1, 0, current)\r\n\r\n            this.pushSource([\r\n              'if (!',\r\n              this.lastHelper,\r\n              ') { ',\r\n              current,\r\n              ' = ',\r\n              this.source.functionCall(blockHelperMissing, 'call', params),\r\n              '}'\r\n            ])\r\n          },\r\n\r\n          // [appendContent]\r\n          //\r\n          // On stack, before: ...\r\n          // On stack, after: ...\r\n          //\r\n          // Appends the string value of `content` to the current buffer\r\n          appendContent: function appendContent (content) {\r\n            if (this.pendingContent) {\r\n              content = this.pendingContent + content\r\n            } else {\r\n              this.pendingLocation = this.source.currentLocation\r\n            }\r\n\r\n            this.pendingContent = content\r\n          },\r\n\r\n          // [append]\r\n          //\r\n          // On stack, before: value, ...\r\n          // On stack, after: ...\r\n          //\r\n          // Coerces `value` to a String and appends it to the current buffer.\r\n          //\r\n          // If `value` is truthy, or 0, it is coerced into a string and appended\r\n          // Otherwise, the empty string is appended\r\n          append: function append () {\r\n            if (this.isInline()) {\r\n              this.replaceStack(function (current) {\r\n                return [' != null ? ', current, ' : \"\"']\r\n              })\r\n\r\n              this.pushSource(this.appendToBuffer(this.popStack()))\r\n            } else {\r\n              var local = this.popStack()\r\n              this.pushSource(['if (', local, ' != null) { ', this.appendToBuffer(local, undefined, true), ' }'])\r\n              if (this.environment.isSimple) {\r\n                this.pushSource(['else { ', this.appendToBuffer(\"''\", undefined, true), ' }'])\r\n              }\r\n            }\r\n          },\r\n\r\n          // [appendEscaped]\r\n          //\r\n          // On stack, before: value, ...\r\n          // On stack, after: ...\r\n          //\r\n          // Escape `value` and append it to the buffer\r\n          appendEscaped: function appendEscaped () {\r\n            this.pushSource(\r\n              this.appendToBuffer([this.aliasable('container.escapeExpression'), '(', this.popStack(), ')'])\r\n            )\r\n          },\r\n\r\n          // [getContext]\r\n          //\r\n          // On stack, before: ...\r\n          // On stack, after: ...\r\n          // Compiler value, after: lastContext=depth\r\n          //\r\n          // Set the value of the `lastContext` compiler value to the depth\r\n          getContext: function getContext (depth) {\r\n            this.lastContext = depth\r\n          },\r\n\r\n          // [pushContext]\r\n          //\r\n          // On stack, before: ...\r\n          // On stack, after: currentContext, ...\r\n          //\r\n          // Pushes the value of the current context onto the stack.\r\n          pushContext: function pushContext () {\r\n            this.pushStackLiteral(this.contextName(this.lastContext))\r\n          },\r\n\r\n          // [lookupOnContext]\r\n          //\r\n          // On stack, before: ...\r\n          // On stack, after: currentContext[name], ...\r\n          //\r\n          // Looks up the value of `name` on the current context and pushes\r\n          // it onto the stack.\r\n          lookupOnContext: function lookupOnContext (parts, falsy, strict, scoped) {\r\n            var i = 0\r\n\r\n            if (!scoped && this.options.compat && !this.lastContext) {\r\n              // The depthed query is expected to handle the undefined logic for the root level that\r\n              // is implemented below, so we evaluate that directly in compat mode\r\n              this.push(this.depthedLookup(parts[i++]))\r\n            } else {\r\n              this.pushContext()\r\n            }\r\n\r\n            this.resolvePath('context', parts, i, falsy, strict)\r\n          },\r\n\r\n          // [lookupBlockParam]\r\n          //\r\n          // On stack, before: ...\r\n          // On stack, after: blockParam[name], ...\r\n          //\r\n          // Looks up the value of `parts` on the given block param and pushes\r\n          // it onto the stack.\r\n          lookupBlockParam: function lookupBlockParam (blockParamId, parts) {\r\n            this.useBlockParams = true\r\n\r\n            this.push(['blockParams[', blockParamId[0], '][', blockParamId[1], ']'])\r\n            this.resolvePath('context', parts, 1)\r\n          },\r\n\r\n          // [lookupData]\r\n          //\r\n          // On stack, before: ...\r\n          // On stack, after: data, ...\r\n          //\r\n          // Push the data lookup operator\r\n          lookupData: function lookupData (depth, parts, strict) {\r\n            if (!depth) {\r\n              this.pushStackLiteral('data')\r\n            } else {\r\n              this.pushStackLiteral('container.data(data, ' + depth + ')')\r\n            }\r\n\r\n            this.resolvePath('data', parts, 0, true, strict)\r\n          },\r\n\r\n          resolvePath: function resolvePath (type, parts, i, falsy, strict) {\r\n            // istanbul ignore next\r\n\r\n            var _this = this\r\n\r\n            if (this.options.strict || this.options.assumeObjects) {\r\n              this.push(strictLookup(this.options.strict && strict, this, parts, type))\r\n              return\r\n            }\r\n\r\n            var len = parts.length\r\n            for (; i < len; i++) {\r\n              /* eslint-disable no-loop-func */\r\n              this.replaceStack(function (current) {\r\n                var lookup = _this.nameLookup(current, parts[i], type)\r\n                // We want to ensure that zero and false are handled properly if the context (falsy flag)\r\n                // needs to have the special handling for these values.\r\n                if (!falsy) {\r\n                  return [' != null ? ', lookup, ' : ', current]\r\n                } else {\r\n                  // Otherwise we can use generic falsy handling\r\n                  return [' && ', lookup]\r\n                }\r\n              })\r\n              /* eslint-enable no-loop-func */\r\n            }\r\n          },\r\n\r\n          // [resolvePossibleLambda]\r\n          //\r\n          // On stack, before: value, ...\r\n          // On stack, after: resolved value, ...\r\n          //\r\n          // If the `value` is a lambda, replace it on the stack by\r\n          // the return value of the lambda\r\n          resolvePossibleLambda: function resolvePossibleLambda () {\r\n            this.push([this.aliasable('container.lambda'), '(', this.popStack(), ', ', this.contextName(0), ')'])\r\n          },\r\n\r\n          // [pushStringParam]\r\n          //\r\n          // On stack, before: ...\r\n          // On stack, after: string, currentContext, ...\r\n          //\r\n          // This opcode is designed for use in string mode, which\r\n          // provides the string value of a parameter along with its\r\n          // depth rather than resolving it immediately.\r\n          pushStringParam: function pushStringParam (string, type) {\r\n            this.pushContext()\r\n            this.pushString(type)\r\n\r\n            // If it's a subexpression, the string result\r\n            // will be pushed after this opcode.\r\n            if (type !== 'SubExpression') {\r\n              if (typeof string === 'string') {\r\n                this.pushString(string)\r\n              } else {\r\n                this.pushStackLiteral(string)\r\n              }\r\n            }\r\n          },\r\n\r\n          emptyHash: function emptyHash (omitEmpty) {\r\n            if (this.trackIds) {\r\n              this.push('{}') // hashIds\r\n            }\r\n            if (this.stringParams) {\r\n              this.push('{}') // hashContexts\r\n              this.push('{}') // hashTypes\r\n            }\r\n            this.pushStackLiteral(omitEmpty ? 'undefined' : '{}')\r\n          },\r\n          pushHash: function pushHash () {\r\n            if (this.hash) {\r\n              this.hashes.push(this.hash)\r\n            }\r\n            this.hash = { values: [], types: [], contexts: [], ids: [] }\r\n          },\r\n          popHash: function popHash () {\r\n            var hash = this.hash\r\n            this.hash = this.hashes.pop()\r\n\r\n            if (this.trackIds) {\r\n              this.push(this.objectLiteral(hash.ids))\r\n            }\r\n            if (this.stringParams) {\r\n              this.push(this.objectLiteral(hash.contexts))\r\n              this.push(this.objectLiteral(hash.types))\r\n            }\r\n\r\n            this.push(this.objectLiteral(hash.values))\r\n          },\r\n\r\n          // [pushString]\r\n          //\r\n          // On stack, before: ...\r\n          // On stack, after: quotedString(string), ...\r\n          //\r\n          // Push a quoted version of `string` onto the stack\r\n          pushString: function pushString (string) {\r\n            this.pushStackLiteral(this.quotedString(string))\r\n          },\r\n\r\n          // [pushLiteral]\r\n          //\r\n          // On stack, before: ...\r\n          // On stack, after: value, ...\r\n          //\r\n          // Pushes a value onto the stack. This operation prevents\r\n          // the compiler from creating a temporary variable to hold\r\n          // it.\r\n          pushLiteral: function pushLiteral (value) {\r\n            this.pushStackLiteral(value)\r\n          },\r\n\r\n          // [pushProgram]\r\n          //\r\n          // On stack, before: ...\r\n          // On stack, after: program(guid), ...\r\n          //\r\n          // Push a program expression onto the stack. This takes\r\n          // a compile-time guid and converts it into a runtime-accessible\r\n          // expression.\r\n          pushProgram: function pushProgram (guid) {\r\n            if (guid != null) {\r\n              this.pushStackLiteral(this.programExpression(guid))\r\n            } else {\r\n              this.pushStackLiteral(null)\r\n            }\r\n          },\r\n\r\n          // [registerDecorator]\r\n          //\r\n          // On stack, before: hash, program, params..., ...\r\n          // On stack, after: ...\r\n          //\r\n          // Pops off the decorator's parameters, invokes the decorator,\r\n          // and inserts the decorator into the decorators list.\r\n          registerDecorator: function registerDecorator (paramSize, name) {\r\n            var foundDecorator = this.nameLookup('decorators', name, 'decorator'),\r\n              options = this.setupHelperArgs(name, paramSize)\r\n\r\n            this.decorators.push([\r\n              'fn = ',\r\n              this.decorators.functionCall(foundDecorator, '', ['fn', 'props', 'container', options]),\r\n              ' || fn;'\r\n            ])\r\n          },\r\n\r\n          // [invokeHelper]\r\n          //\r\n          // On stack, before: hash, inverse, program, params..., ...\r\n          // On stack, after: result of helper invocation\r\n          //\r\n          // Pops off the helper's parameters, invokes the helper,\r\n          // and pushes the helper's return value onto the stack.\r\n          //\r\n          // If the helper is not found, `helperMissing` is called.\r\n          invokeHelper: function invokeHelper (paramSize, name, isSimple) {\r\n            var nonHelper = this.popStack(),\r\n              helper = this.setupHelper(paramSize, name),\r\n              simple = isSimple ? [helper.name, ' || '] : ''\r\n\r\n            var lookup = ['('].concat(simple, nonHelper)\r\n            if (!this.options.strict) {\r\n              lookup.push(' || ', this.aliasable('helpers.helperMissing'))\r\n            }\r\n            lookup.push(')')\r\n\r\n            this.push(this.source.functionCall(lookup, 'call', helper.callParams))\r\n          },\r\n\r\n          // [invokeKnownHelper]\r\n          //\r\n          // On stack, before: hash, inverse, program, params..., ...\r\n          // On stack, after: result of helper invocation\r\n          //\r\n          // This operation is used when the helper is known to exist,\r\n          // so a `helperMissing` fallback is not required.\r\n          invokeKnownHelper: function invokeKnownHelper (paramSize, name) {\r\n            var helper = this.setupHelper(paramSize, name)\r\n            this.push(this.source.functionCall(helper.name, 'call', helper.callParams))\r\n          },\r\n\r\n          // [invokeAmbiguous]\r\n          //\r\n          // On stack, before: hash, inverse, program, params..., ...\r\n          // On stack, after: result of disambiguation\r\n          //\r\n          // This operation is used when an expression like `{{foo}}`\r\n          // is provided, but we don't know at compile-time whether it\r\n          // is a helper or a path.\r\n          //\r\n          // This operation emits more code than the other options,\r\n          // and can be avoided by passing the `knownHelpers` and\r\n          // `knownHelpersOnly` flags at compile-time.\r\n          invokeAmbiguous: function invokeAmbiguous (name, helperCall) {\r\n            this.useRegister('helper')\r\n\r\n            var nonHelper = this.popStack()\r\n\r\n            this.emptyHash()\r\n            var helper = this.setupHelper(0, name, helperCall)\r\n\r\n            var helperName = (this.lastHelper = this.nameLookup('helpers', name, 'helper'))\r\n\r\n            var lookup = ['(', '(helper = ', helperName, ' || ', nonHelper, ')']\r\n            if (!this.options.strict) {\r\n              lookup[0] = '(helper = '\r\n              lookup.push(' != null ? helper : ', this.aliasable('helpers.helperMissing'))\r\n            }\r\n\r\n            this.push([\r\n              '(',\r\n              lookup,\r\n              helper.paramsInit ? ['),(', helper.paramsInit] : [],\r\n              '),',\r\n              '(typeof helper === ',\r\n              this.aliasable('\"function\"'),\r\n              ' ? ',\r\n              this.source.functionCall('helper', 'call', helper.callParams),\r\n              ' : helper))'\r\n            ])\r\n          },\r\n\r\n          // [invokePartial]\r\n          //\r\n          // On stack, before: context, ...\r\n          // On stack after: result of partial invocation\r\n          //\r\n          // This operation pops off a context, invokes a partial with that context,\r\n          // and pushes the result of the invocation back.\r\n          invokePartial: function invokePartial (isDynamic, name, indent) {\r\n            var params = [],\r\n              options = this.setupParams(name, 1, params)\r\n\r\n            if (isDynamic) {\r\n              name = this.popStack()\r\n              delete options.name\r\n            }\r\n\r\n            if (indent) {\r\n              options.indent = JSON.stringify(indent)\r\n            }\r\n            options.helpers = 'helpers'\r\n            options.partials = 'partials'\r\n            options.decorators = 'container.decorators'\r\n\r\n            if (!isDynamic) {\r\n              params.unshift(this.nameLookup('partials', name, 'partial'))\r\n            } else {\r\n              params.unshift(name)\r\n            }\r\n\r\n            if (this.options.compat) {\r\n              options.depths = 'depths'\r\n            }\r\n            options = this.objectLiteral(options)\r\n            params.push(options)\r\n\r\n            this.push(this.source.functionCall('container.invokePartial', '', params))\r\n          },\r\n\r\n          // [assignToHash]\r\n          //\r\n          // On stack, before: value, ..., hash, ...\r\n          // On stack, after: ..., hash, ...\r\n          //\r\n          // Pops a value off the stack and assigns it to the current hash\r\n          assignToHash: function assignToHash (key) {\r\n            var value = this.popStack(),\r\n              context = undefined,\r\n              type = undefined,\r\n              id = undefined\r\n\r\n            if (this.trackIds) {\r\n              id = this.popStack()\r\n            }\r\n            if (this.stringParams) {\r\n              type = this.popStack()\r\n              context = this.popStack()\r\n            }\r\n\r\n            var hash = this.hash\r\n            if (context) {\r\n              hash.contexts[key] = context\r\n            }\r\n            if (type) {\r\n              hash.types[key] = type\r\n            }\r\n            if (id) {\r\n              hash.ids[key] = id\r\n            }\r\n            hash.values[key] = value\r\n          },\r\n\r\n          pushId: function pushId (type, name, child) {\r\n            if (type === 'BlockParam') {\r\n              this.pushStackLiteral(\r\n                'blockParams[' +\r\n                  name[0] +\r\n                  '].path[' +\r\n                  name[1] +\r\n                  ']' +\r\n                  (child ? ' + ' + JSON.stringify('.' + child) : '')\r\n              )\r\n            } else if (type === 'PathExpression') {\r\n              this.pushString(name)\r\n            } else if (type === 'SubExpression') {\r\n              this.pushStackLiteral('true')\r\n            } else {\r\n              this.pushStackLiteral('null')\r\n            }\r\n          },\r\n\r\n          // HELPERS\r\n\r\n          compiler: JavaScriptCompiler,\r\n\r\n          compileChildren: function compileChildren (environment, options) {\r\n            var children = environment.children,\r\n              child = undefined,\r\n              compiler = undefined\r\n\r\n            for (var i = 0, l = children.length; i < l; i++) {\r\n              child = children[i]\r\n              compiler = new this.compiler() // eslint-disable-line new-cap\r\n\r\n              var existing = this.matchExistingProgram(child)\r\n\r\n              if (existing == null) {\r\n                this.context.programs.push('') // Placeholder to prevent name conflicts for nested children\r\n                var index = this.context.programs.length\r\n                child.index = index\r\n                child.name = 'program' + index\r\n                this.context.programs[index] = compiler.compile(child, options, this.context, !this.precompile)\r\n                this.context.decorators[index] = compiler.decorators\r\n                this.context.environments[index] = child\r\n\r\n                this.useDepths = this.useDepths || compiler.useDepths\r\n                this.useBlockParams = this.useBlockParams || compiler.useBlockParams\r\n                child.useDepths = this.useDepths\r\n                child.useBlockParams = this.useBlockParams\r\n              } else {\r\n                child.index = existing.index\r\n                child.name = 'program' + existing.index\r\n\r\n                this.useDepths = this.useDepths || existing.useDepths\r\n                this.useBlockParams = this.useBlockParams || existing.useBlockParams\r\n              }\r\n            }\r\n          },\r\n          matchExistingProgram: function matchExistingProgram (child) {\r\n            for (var i = 0, len = this.context.environments.length; i < len; i++) {\r\n              var environment = this.context.environments[i]\r\n              if (environment && environment.equals(child)) {\r\n                return environment\r\n              }\r\n            }\r\n          },\r\n\r\n          programExpression: function programExpression (guid) {\r\n            var child = this.environment.children[guid],\r\n              programParams = [child.index, 'data', child.blockParams]\r\n\r\n            if (this.useBlockParams || this.useDepths) {\r\n              programParams.push('blockParams')\r\n            }\r\n            if (this.useDepths) {\r\n              programParams.push('depths')\r\n            }\r\n\r\n            return 'container.program(' + programParams.join(', ') + ')'\r\n          },\r\n\r\n          useRegister: function useRegister (name) {\r\n            if (!this.registers[name]) {\r\n              this.registers[name] = true\r\n              this.registers.list.push(name)\r\n            }\r\n          },\r\n\r\n          push: function push (expr) {\r\n            if (!(expr instanceof Literal)) {\r\n              expr = this.source.wrap(expr)\r\n            }\r\n\r\n            this.inlineStack.push(expr)\r\n            return expr\r\n          },\r\n\r\n          pushStackLiteral: function pushStackLiteral (item) {\r\n            this.push(new Literal(item))\r\n          },\r\n\r\n          pushSource: function pushSource (source) {\r\n            if (this.pendingContent) {\r\n              this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent), this.pendingLocation))\r\n              this.pendingContent = undefined\r\n            }\r\n\r\n            if (source) {\r\n              this.source.push(source)\r\n            }\r\n          },\r\n\r\n          replaceStack: function replaceStack (callback) {\r\n            var prefix = ['('],\r\n              stack = undefined,\r\n              createdStack = undefined,\r\n              usedLiteral = undefined\r\n\r\n            /* istanbul ignore next */\r\n            if (!this.isInline()) {\r\n              throw new _exception2['default']('replaceStack on non-inline')\r\n            }\r\n\r\n            // We want to merge the inline statement into the replacement statement via ','\r\n            var top = this.popStack(true)\r\n\r\n            if (top instanceof Literal) {\r\n              // Literals do not need to be inlined\r\n              stack = [top.value]\r\n              prefix = ['(', stack]\r\n              usedLiteral = true\r\n            } else {\r\n              // Get or create the current stack name for use by the inline\r\n              createdStack = true\r\n              var _name = this.incrStack()\r\n\r\n              prefix = ['((', this.push(_name), ' = ', top, ')']\r\n              stack = this.topStack()\r\n            }\r\n\r\n            var item = callback.call(this, stack)\r\n\r\n            if (!usedLiteral) {\r\n              this.popStack()\r\n            }\r\n            if (createdStack) {\r\n              this.stackSlot--\r\n            }\r\n            this.push(prefix.concat(item, ')'))\r\n          },\r\n\r\n          incrStack: function incrStack () {\r\n            this.stackSlot++\r\n            if (this.stackSlot > this.stackVars.length) {\r\n              this.stackVars.push('stack' + this.stackSlot)\r\n            }\r\n            return this.topStackName()\r\n          },\r\n          topStackName: function topStackName () {\r\n            return 'stack' + this.stackSlot\r\n          },\r\n          flushInline: function flushInline () {\r\n            var inlineStack = this.inlineStack\r\n            this.inlineStack = []\r\n            for (var i = 0, len = inlineStack.length; i < len; i++) {\r\n              var entry = inlineStack[i]\r\n              /* istanbul ignore if */\r\n              if (entry instanceof Literal) {\r\n                this.compileStack.push(entry)\r\n              } else {\r\n                var stack = this.incrStack()\r\n                this.pushSource([stack, ' = ', entry, ';'])\r\n                this.compileStack.push(stack)\r\n              }\r\n            }\r\n          },\r\n          isInline: function isInline () {\r\n            return this.inlineStack.length\r\n          },\r\n\r\n          popStack: function popStack (wrapped) {\r\n            var inline = this.isInline(),\r\n              item = (inline ? this.inlineStack : this.compileStack).pop()\r\n\r\n            if (!wrapped && item instanceof Literal) {\r\n              return item.value\r\n            } else {\r\n              if (!inline) {\r\n                /* istanbul ignore next */\r\n                if (!this.stackSlot) {\r\n                  throw new _exception2['default']('Invalid stack pop')\r\n                }\r\n                this.stackSlot--\r\n              }\r\n              return item\r\n            }\r\n          },\r\n\r\n          topStack: function topStack () {\r\n            var stack = this.isInline() ? this.inlineStack : this.compileStack,\r\n              item = stack[stack.length - 1]\r\n\r\n            /* istanbul ignore if */\r\n            if (item instanceof Literal) {\r\n              return item.value\r\n            } else {\r\n              return item\r\n            }\r\n          },\r\n\r\n          contextName: function contextName (context) {\r\n            if (this.useDepths && context) {\r\n              return 'depths[' + context + ']'\r\n            } else {\r\n              return 'depth' + context\r\n            }\r\n          },\r\n\r\n          quotedString: function quotedString (str) {\r\n            return this.source.quotedString(str)\r\n          },\r\n\r\n          objectLiteral: function objectLiteral (obj) {\r\n            return this.source.objectLiteral(obj)\r\n          },\r\n\r\n          aliasable: function aliasable (name) {\r\n            var ret = this.aliases[name]\r\n            if (ret) {\r\n              ret.referenceCount++\r\n              return ret\r\n            }\r\n\r\n            ret = this.aliases[name] = this.source.wrap(name)\r\n            ret.aliasable = true\r\n            ret.referenceCount = 1\r\n\r\n            return ret\r\n          },\r\n\r\n          setupHelper: function setupHelper (paramSize, name, blockHelper) {\r\n            var params = [],\r\n              paramsInit = this.setupHelperArgs(name, paramSize, params, blockHelper)\r\n            var foundHelper = this.nameLookup('helpers', name, 'helper'),\r\n              callContext = this.aliasable(\r\n                this.contextName(0) + ' != null ? ' + this.contextName(0) + ' : (container.nullContext || {})'\r\n              )\r\n\r\n            return {\r\n              params: params,\r\n              paramsInit: paramsInit,\r\n              name: foundHelper,\r\n              callParams: [callContext].concat(params)\r\n            }\r\n          },\r\n\r\n          setupParams: function setupParams (helper, paramSize, params) {\r\n            var options = {},\r\n              contexts = [],\r\n              types = [],\r\n              ids = [],\r\n              objectArgs = !params,\r\n              param = undefined\r\n\r\n            if (objectArgs) {\r\n              params = []\r\n            }\r\n\r\n            options.name = this.quotedString(helper)\r\n            options.hash = this.popStack()\r\n\r\n            if (this.trackIds) {\r\n              options.hashIds = this.popStack()\r\n            }\r\n            if (this.stringParams) {\r\n              options.hashTypes = this.popStack()\r\n              options.hashContexts = this.popStack()\r\n            }\r\n\r\n            var inverse = this.popStack(),\r\n              program = this.popStack()\r\n\r\n            // Avoid setting fn and inverse if neither are set. This allows\r\n            // helpers to do a check for `if (options.fn)`\r\n            if (program || inverse) {\r\n              options.fn = program || 'container.noop'\r\n              options.inverse = inverse || 'container.noop'\r\n            }\r\n\r\n            // The parameters go on to the stack in order (making sure that they are evaluated in order)\r\n            // so we need to pop them off the stack in reverse order\r\n            var i = paramSize\r\n            while (i--) {\r\n              param = this.popStack()\r\n              params[i] = param\r\n\r\n              if (this.trackIds) {\r\n                ids[i] = this.popStack()\r\n              }\r\n              if (this.stringParams) {\r\n                types[i] = this.popStack()\r\n                contexts[i] = this.popStack()\r\n              }\r\n            }\r\n\r\n            if (objectArgs) {\r\n              options.args = this.source.generateArray(params)\r\n            }\r\n\r\n            if (this.trackIds) {\r\n              options.ids = this.source.generateArray(ids)\r\n            }\r\n            if (this.stringParams) {\r\n              options.types = this.source.generateArray(types)\r\n              options.contexts = this.source.generateArray(contexts)\r\n            }\r\n\r\n            if (this.options.data) {\r\n              options.data = 'data'\r\n            }\r\n            if (this.useBlockParams) {\r\n              options.blockParams = 'blockParams'\r\n            }\r\n            return options\r\n          },\r\n\r\n          setupHelperArgs: function setupHelperArgs (helper, paramSize, params, useRegister) {\r\n            var options = this.setupParams(helper, paramSize, params)\r\n            options = this.objectLiteral(options)\r\n            if (useRegister) {\r\n              this.useRegister('options')\r\n              params.push('options')\r\n              return ['options=', options]\r\n            } else if (params) {\r\n              params.push(options)\r\n              return ''\r\n            } else {\r\n              return options\r\n            }\r\n          }\r\n        }\r\n        ;(function () {\r\n          var reservedWords = (\r\n            'break else new var' +\r\n            ' case finally return void' +\r\n            ' catch for switch while' +\r\n            ' continue function this with' +\r\n            ' default if throw' +\r\n            ' delete in try' +\r\n            ' do instanceof typeof' +\r\n            ' abstract enum int short' +\r\n            ' boolean export interface static' +\r\n            ' byte extends long super' +\r\n            ' char final native synchronized' +\r\n            ' class float package throws' +\r\n            ' const goto private transient' +\r\n            ' debugger implements protected volatile' +\r\n            ' double import public let yield await' +\r\n            ' null true false'\r\n          ).split(' ')\r\n\r\n          var compilerWords = (JavaScriptCompiler.RESERVED_WORDS = {})\r\n\r\n          for (var i = 0, l = reservedWords.length; i < l; i++) {\r\n            compilerWords[reservedWords[i]] = true\r\n          }\r\n        })()\r\n\r\n        JavaScriptCompiler.isValidJavaScriptVariableName = function (name) {\r\n          return !JavaScriptCompiler.RESERVED_WORDS[name] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name)\r\n        }\r\n\r\n        function strictLookup (requireTerminal, compiler, parts, type) {\r\n          var stack = compiler.popStack(),\r\n            i = 0,\r\n            len = parts.length\r\n          if (requireTerminal) {\r\n            len--\r\n          }\r\n\r\n          for (; i < len; i++) {\r\n            stack = compiler.nameLookup(stack, parts[i], type)\r\n          }\r\n\r\n          if (requireTerminal) {\r\n            return [compiler.aliasable('container.strict'), '(', stack, ', ', compiler.quotedString(parts[i]), ')']\r\n          } else {\r\n            return stack\r\n          }\r\n        }\r\n\r\n        exports['default'] = JavaScriptCompiler\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      },\r\n      /* 43 */\r\n      /***/ function (module, exports, __webpack_require__) {\r\n        /* global define */\r\n        'use strict'\r\n\r\n        exports.__esModule = true\r\n\r\n        var _utils = __webpack_require__(5)\r\n\r\n        var SourceNode = undefined\r\n\r\n        try {\r\n          /* istanbul ignore next */\r\n          if (false) { var SourceMap; }\r\n        } catch (err) {}\r\n        /* NOP */\r\n\r\n        /* istanbul ignore if: tested but not covered in istanbul due to dist build  */\r\n        if (!SourceNode) {\r\n          SourceNode = function (line, column, srcFile, chunks) {\r\n            this.src = ''\r\n            if (chunks) {\r\n              this.add(chunks)\r\n            }\r\n          }\r\n          /* istanbul ignore next */\r\n          SourceNode.prototype = {\r\n            add: function add (chunks) {\r\n              if (_utils.isArray(chunks)) {\r\n                chunks = chunks.join('')\r\n              }\r\n              this.src += chunks\r\n            },\r\n            prepend: function prepend (chunks) {\r\n              if (_utils.isArray(chunks)) {\r\n                chunks = chunks.join('')\r\n              }\r\n              this.src = chunks + this.src\r\n            },\r\n            toStringWithSourceMap: function toStringWithSourceMap () {\r\n              return { code: this.toString() }\r\n            },\r\n            toString: function toString () {\r\n              return this.src\r\n            }\r\n          }\r\n        }\r\n\r\n        function castChunk (chunk, codeGen, loc) {\r\n          if (_utils.isArray(chunk)) {\r\n            var ret = []\r\n\r\n            for (var i = 0, len = chunk.length; i < len; i++) {\r\n              ret.push(codeGen.wrap(chunk[i], loc))\r\n            }\r\n            return ret\r\n          } else if (typeof chunk === 'boolean' || typeof chunk === 'number') {\r\n            // Handle primitives that the SourceNode will throw up on\r\n            return chunk + ''\r\n          }\r\n          return chunk\r\n        }\r\n\r\n        function CodeGen (srcFile) {\r\n          this.srcFile = srcFile\r\n          this.source = []\r\n        }\r\n\r\n        CodeGen.prototype = {\r\n          isEmpty: function isEmpty () {\r\n            return !this.source.length\r\n          },\r\n          prepend: function prepend (source, loc) {\r\n            this.source.unshift(this.wrap(source, loc))\r\n          },\r\n          push: function push (source, loc) {\r\n            this.source.push(this.wrap(source, loc))\r\n          },\r\n\r\n          merge: function merge () {\r\n            var source = this.empty()\r\n            this.each(function (line) {\r\n              source.add(['  ', line, '\\n'])\r\n            })\r\n            return source\r\n          },\r\n\r\n          each: function each (iter) {\r\n            for (var i = 0, len = this.source.length; i < len; i++) {\r\n              iter(this.source[i])\r\n            }\r\n          },\r\n\r\n          empty: function empty () {\r\n            var loc = this.currentLocation || { start: {} }\r\n            return new SourceNode(loc.start.line, loc.start.column, this.srcFile)\r\n          },\r\n          wrap: function wrap (chunk) {\r\n            var loc =\r\n              arguments.length <= 1 || arguments[1] === undefined ? this.currentLocation || { start: {} } : arguments[1]\r\n\r\n            if (chunk instanceof SourceNode) {\r\n              return chunk\r\n            }\r\n\r\n            chunk = castChunk(chunk, this, loc)\r\n\r\n            return new SourceNode(loc.start.line, loc.start.column, this.srcFile, chunk)\r\n          },\r\n\r\n          functionCall: function functionCall (fn, type, params) {\r\n            params = this.generateList(params)\r\n            return this.wrap([fn, type ? '.' + type + '(' : '(', params, ')'])\r\n          },\r\n\r\n          quotedString: function quotedString (str) {\r\n            return (\r\n              '\"' +\r\n              (str + '')\r\n                .replace(/\\\\/g, '\\\\\\\\')\r\n                .replace(/\"/g, '\\\\\"')\r\n                .replace(/\\n/g, '\\\\n')\r\n                .replace(/\\r/g, '\\\\r')\r\n                .replace(/\\u2028/g, '\\\\u2028') // Per Ecma-262 7.3 + 7.8.4\r\n                .replace(/\\u2029/g, '\\\\u2029') +\r\n              '\"'\r\n            )\r\n          },\r\n\r\n          objectLiteral: function objectLiteral (obj) {\r\n            var pairs = []\r\n\r\n            for (var key in obj) {\r\n              if (obj.hasOwnProperty(key)) {\r\n                var value = castChunk(obj[key], this)\r\n                if (value !== 'undefined') {\r\n                  pairs.push([this.quotedString(key), ':', value])\r\n                }\r\n              }\r\n            }\r\n\r\n            var ret = this.generateList(pairs)\r\n            ret.prepend('{')\r\n            ret.add('}')\r\n            return ret\r\n          },\r\n\r\n          generateList: function generateList (entries) {\r\n            var ret = this.empty()\r\n\r\n            for (var i = 0, len = entries.length; i < len; i++) {\r\n              if (i) {\r\n                ret.add(',')\r\n              }\r\n\r\n              ret.add(castChunk(entries[i], this))\r\n            }\r\n\r\n            return ret\r\n          },\r\n\r\n          generateArray: function generateArray (entries) {\r\n            var ret = this.generateList(entries)\r\n            ret.prepend('[')\r\n            ret.add(']')\r\n\r\n            return ret\r\n          }\r\n        }\r\n\r\n        exports['default'] = CodeGen\r\n        module.exports = exports['default']\r\n\r\n        /***/\r\n      }\r\n      /******/\r\n    ]\r\n  )\r\n})\r\n\n\n//# sourceURL=webpack:///./src/public/js/vendor/handlebars/handlebars.js?");

/***/ }),

/***/ "./src/public/js/vendor/history/jquery.history.js":
/*!********************************************************!*\
  !*** ./src/public/js/vendor/history/jquery.history.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(__webpack_provided_window_dot_jQuery) {typeof JSON!=\"object\"&&(JSON={}),function(){\"use strict\";function f(e){return e<10?\"0\"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'\"'+e.replace(escapable,function(e){var t=meta[e];return typeof t==\"string\"?t:\"\\\\u\"+(\"0000\"+e.charCodeAt(0).toString(16)).slice(-4)})+'\"':'\"'+e+'\"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a==\"object\"&&typeof a.toJSON==\"function\"&&(a=a.toJSON(e)),typeof rep==\"function\"&&(a=rep.call(t,e,a));switch(typeof a){case\"string\":return quote(a);case\"number\":return isFinite(a)?String(a):\"null\";case\"boolean\":case\"null\":return String(a);case\"object\":if(!a)return\"null\";gap+=indent,u=[];if(Object.prototype.toString.apply(a)===\"[object Array]\"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||\"null\";return i=u.length===0?\"[]\":gap?\"[\\n\"+gap+u.join(\",\\n\"+gap)+\"\\n\"+o+\"]\":\"[\"+u.join(\",\")+\"]\",gap=o,i}if(rep&&typeof rep==\"object\"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]==\"string\"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?\": \":\":\")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?\": \":\":\")+i));return i=u.length===0?\"{}\":gap?\"{\\n\"+gap+u.join(\",\\n\"+gap)+\"\\n\"+o+\"}\":\"{\"+u.join(\",\")+\"}\",gap=o,i}}typeof Date.prototype.toJSON!=\"function\"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+\"-\"+f(this.getUTCMonth()+1)+\"-\"+f(this.getUTCDate())+\"T\"+f(this.getUTCHours())+\":\"+f(this.getUTCMinutes())+\":\"+f(this.getUTCSeconds())+\"Z\":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,escapable=/[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,gap,indent,meta={\"\\b\":\"\\\\b\",\"\t\":\"\\\\t\",\"\\n\":\"\\\\n\",\"\\f\":\"\\\\f\",\"\\r\":\"\\\\r\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"},rep;typeof JSON.stringify!=\"function\"&&(JSON.stringify=function(e,t,n){var r;gap=\"\",indent=\"\";if(typeof n==\"number\")for(r=0;r<n;r+=1)indent+=\" \";else typeof n==\"string\"&&(indent=n);rep=t;if(!t||typeof t==\"function\"||typeof t==\"object\"&&typeof t.length==\"number\")return str(\"\",{\"\":e});throw new Error(\"JSON.stringify\")}),typeof JSON.parse!=\"function\"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i==\"object\")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return\"\\\\u\"+(\"0000\"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\\],:{}\\s]*$/.test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,\"@\").replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\"]\").replace(/(?:^|:|,)(?:\\s*\\[)+/g,\"\")))return j=eval(\"(\"+text+\")\"),typeof reviver==\"function\"?walk({\"\":j},\"\"):j;throw new SyntaxError(\"JSON.parse\")})}(),function(e,t){\"use strict\";var n=e.History=e.History||{},r=__webpack_provided_window_dot_jQuery;if(typeof n.Adapter!=\"undefined\")throw new Error(\"History.js Adapter has already been loaded...\");n.Adapter={bind:function(e,t,n){r(e).bind(t,n)},trigger:function(e,t,n){r(e).trigger(t,n)},extractEventData:function(e,n,r){var i=n&&n.originalEvent&&n.originalEvent[e]||r&&r[e]||t;return i},onDomLoad:function(e){r(e)}},typeof n.init!=\"undefined\"&&n.init()}(window),function(e,t){\"use strict\";var n=e.document,r=e.setTimeout||r,i=e.clearTimeout||i,s=e.setInterval||s,o=e.History=e.History||{};if(typeof o.initHtml4!=\"undefined\")throw new Error(\"History.js HTML4 Support has already been loaded...\");o.initHtml4=function(){if(typeof o.initHtml4.initialized!=\"undefined\")return!1;o.initHtml4.initialized=!0,o.enabled=!0,o.savedHashes=[],o.isLastHash=function(e){var t=o.getHashByIndex(),n;return n=e===t,n},o.isHashEqual=function(e,t){return e=encodeURIComponent(e).replace(/%25/g,\"%\"),t=encodeURIComponent(t).replace(/%25/g,\"%\"),e===t},o.saveHash=function(e){return o.isLastHash(e)?!1:(o.savedHashes.push(e),!0)},o.getHashByIndex=function(e){var t=null;return typeof e==\"undefined\"?t=o.savedHashes[o.savedHashes.length-1]:e<0?t=o.savedHashes[o.savedHashes.length+e]:t=o.savedHashes[e],t},o.discardedHashes={},o.discardedStates={},o.discardState=function(e,t,n){var r=o.getHashByState(e),i;return i={discardedState:e,backState:n,forwardState:t},o.discardedStates[r]=i,!0},o.discardHash=function(e,t,n){var r={discardedHash:e,backState:n,forwardState:t};return o.discardedHashes[e]=r,!0},o.discardedState=function(e){var t=o.getHashByState(e),n;return n=o.discardedStates[t]||!1,n},o.discardedHash=function(e){var t=o.discardedHashes[e]||!1;return t},o.recycleState=function(e){var t=o.getHashByState(e);return o.discardedState(e)&&delete o.discardedStates[t],!0},o.emulated.hashChange&&(o.hashChangeInit=function(){o.checkerFunction=null;var t=\"\",r,i,u,a,f=Boolean(o.getHash());return o.isInternetExplorer()?(r=\"historyjs-iframe\",i=n.createElement(\"iframe\"),i.setAttribute(\"id\",r),i.setAttribute(\"src\",\"#\"),i.style.display=\"none\",n.body.appendChild(i),i.contentWindow.document.open(),i.contentWindow.document.close(),u=\"\",a=!1,o.checkerFunction=function(){if(a)return!1;a=!0;var n=o.getHash(),r=o.getHash(i.contentWindow.document);return n!==t?(t=n,r!==n&&(u=r=n,i.contentWindow.document.open(),i.contentWindow.document.close(),i.contentWindow.document.location.hash=o.escapeHash(n)),o.Adapter.trigger(e,\"hashchange\")):r!==u&&(u=r,f&&r===\"\"?o.back():o.setHash(r,!1)),a=!1,!0}):o.checkerFunction=function(){var n=o.getHash()||\"\";return n!==t&&(t=n,o.Adapter.trigger(e,\"hashchange\")),!0},o.intervalList.push(s(o.checkerFunction,o.options.hashChangeInterval)),!0},o.Adapter.onDomLoad(o.hashChangeInit)),o.emulated.pushState&&(o.onHashChange=function(t){var n=t&&t.newURL||o.getLocationHref(),r=o.getHashByUrl(n),i=null,s=null,u=null,a;return o.isLastHash(r)?(o.busy(!1),!1):(o.doubleCheckComplete(),o.saveHash(r),r&&o.isTraditionalAnchor(r)?(o.Adapter.trigger(e,\"anchorchange\"),o.busy(!1),!1):(i=o.extractState(o.getFullUrl(r||o.getLocationHref()),!0),o.isLastSavedState(i)?(o.busy(!1),!1):(s=o.getHashByState(i),a=o.discardedState(i),a?(o.getHashByIndex(-2)===o.getHashByState(a.forwardState)?o.back(!1):o.forward(!1),!1):(o.pushState(i.data,i.title,encodeURI(i.url),!1),!0))))},o.Adapter.bind(e,\"hashchange\",o.onHashChange),o.pushState=function(t,n,r,i){r=encodeURI(r).replace(/%25/g,\"%\");if(o.getHashByUrl(r))throw new Error(\"History.js does not support states with fragment-identifiers (hashes/anchors).\");if(i!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.pushState,args:arguments,queue:i}),!1;o.busy(!0);var s=o.createStateObject(t,n,r),u=o.getHashByState(s),a=o.getState(!1),f=o.getHashByState(a),l=o.getHash(),c=o.expectedStateId==s.id;return o.storeState(s),o.expectedStateId=s.id,o.recycleState(s),o.setTitle(s),u===f?(o.busy(!1),!1):(o.saveState(s),c||o.Adapter.trigger(e,\"statechange\"),!o.isHashEqual(u,l)&&!o.isHashEqual(u,o.getShortUrl(o.getLocationHref()))&&o.setHash(u,!1),o.busy(!1),!0)},o.replaceState=function(t,n,r,i){r=encodeURI(r).replace(/%25/g,\"%\");if(o.getHashByUrl(r))throw new Error(\"History.js does not support states with fragment-identifiers (hashes/anchors).\");if(i!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.replaceState,args:arguments,queue:i}),!1;o.busy(!0);var s=o.createStateObject(t,n,r),u=o.getHashByState(s),a=o.getState(!1),f=o.getHashByState(a),l=o.getStateByIndex(-2);return o.discardState(a,s,l),u===f?(o.storeState(s),o.expectedStateId=s.id,o.recycleState(s),o.setTitle(s),o.saveState(s),o.Adapter.trigger(e,\"statechange\"),o.busy(!1)):o.pushState(s.data,s.title,s.url,!1),!0}),o.emulated.pushState&&o.getHash()&&!o.emulated.hashChange&&o.Adapter.onDomLoad(function(){o.Adapter.trigger(e,\"hashchange\")})},typeof o.init!=\"undefined\"&&o.init()}(window),function(e,t){\"use strict\";var n=e.console||t,r=e.document,i=e.navigator,s=!1,o=e.setTimeout,u=e.clearTimeout,a=e.setInterval,f=e.clearInterval,l=e.JSON,c=e.alert,h=e.History=e.History||{},p=e.history;try{s=e.sessionStorage,s.setItem(\"TEST\",\"1\"),s.removeItem(\"TEST\")}catch(d){s=!1}l.stringify=l.stringify||l.encode,l.parse=l.parse||l.decode;if(typeof h.init!=\"undefined\")throw new Error(\"History.js Core has already been loaded...\");h.init=function(e){return typeof h.Adapter==\"undefined\"?!1:(typeof h.initCore!=\"undefined\"&&h.initCore(),typeof h.initHtml4!=\"undefined\"&&h.initHtml4(),!0)},h.initCore=function(d){if(typeof h.initCore.initialized!=\"undefined\")return!1;h.initCore.initialized=!0,h.options=h.options||{},h.options.hashChangeInterval=h.options.hashChangeInterval||100,h.options.safariPollInterval=h.options.safariPollInterval||500,h.options.doubleCheckInterval=h.options.doubleCheckInterval||500,h.options.disableSuid=h.options.disableSuid||!1,h.options.storeInterval=h.options.storeInterval||1e3,h.options.busyDelay=h.options.busyDelay||250,h.options.debug=h.options.debug||!1,h.options.initialTitle=h.options.initialTitle||r.title,h.options.html4Mode=h.options.html4Mode||!1,h.options.delayInit=h.options.delayInit||!1,h.intervalList=[],h.clearAllIntervals=function(){var e,t=h.intervalList;if(typeof t!=\"undefined\"&&t!==null){for(e=0;e<t.length;e++)f(t[e]);h.intervalList=null}},h.debug=function(){(h.options.debug||!1)&&h.log.apply(h,arguments)},h.log=function(){var e=typeof n!=\"undefined\"&&typeof n.log!=\"undefined\"&&typeof n.log.apply!=\"undefined\",t=r.getElementById(\"log\"),i,s,o,u,a;e?(u=Array.prototype.slice.call(arguments),i=u.shift(),typeof n.debug!=\"undefined\"?n.debug.apply(n,[i,u]):n.log.apply(n,[i,u])):i=\"\\n\"+arguments[0]+\"\\n\";for(s=1,o=arguments.length;s<o;++s){a=arguments[s];if(typeof a==\"object\"&&typeof l!=\"undefined\")try{a=l.stringify(a)}catch(f){}i+=\"\\n\"+a+\"\\n\"}return t?(t.value+=i+\"\\n-----\\n\",t.scrollTop=t.scrollHeight-t.clientHeight):e||c(i),!0},h.getInternetExplorerMajorVersion=function(){var e=h.getInternetExplorerMajorVersion.cached=typeof h.getInternetExplorerMajorVersion.cached!=\"undefined\"?h.getInternetExplorerMajorVersion.cached:function(){var e=3,t=r.createElement(\"div\"),n=t.getElementsByTagName(\"i\");while((t.innerHTML=\"<!--[if gt IE \"+ ++e+\"]><i></i><![endif]-->\")&&n[0]);return e>4?e:!1}();return e},h.isInternetExplorer=function(){var e=h.isInternetExplorer.cached=typeof h.isInternetExplorer.cached!=\"undefined\"?h.isInternetExplorer.cached:Boolean(h.getInternetExplorerMajorVersion());return e},h.options.html4Mode?h.emulated={pushState:!0,hashChange:!0}:h.emulated={pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!/ Mobile\\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(i.userAgent)&&!/AppleWebKit\\/5([0-2]|3[0-2])/i.test(i.userAgent)),hashChange:Boolean(!(\"onhashchange\"in e||\"onhashchange\"in r)||h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8)},h.enabled=!h.emulated.pushState,h.bugs={setHash:Boolean(!h.emulated.pushState&&i.vendor===\"Apple Computer, Inc.\"&&/AppleWebKit\\/5([0-2]|3[0-3])/.test(i.userAgent)),safariPoll:Boolean(!h.emulated.pushState&&i.vendor===\"Apple Computer, Inc.\"&&/AppleWebKit\\/5([0-2]|3[0-3])/.test(i.userAgent)),ieDoubleCheck:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<7)},h.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},h.cloneObject=function(e){var t,n;return e?(t=l.stringify(e),n=l.parse(t)):n={},n},h.getRootUrl=function(){var e=r.location.protocol+\"//\"+(r.location.hostname||r.location.host);if(r.location.port||!1)e+=\":\"+r.location.port;return e+=\"/\",e},h.getBaseHref=function(){var e=r.getElementsByTagName(\"base\"),t=null,n=\"\";return e.length===1&&(t=e[0],n=t.href.replace(/[^\\/]+$/,\"\")),n=n.replace(/\\/+$/,\"\"),n&&(n+=\"/\"),n},h.getBaseUrl=function(){var e=h.getBaseHref()||h.getBasePageUrl()||h.getRootUrl();return e},h.getPageUrl=function(){var e=h.getState(!1,!1),t=(e||{}).url||h.getLocationHref(),n;return n=t.replace(/\\/+$/,\"\").replace(/[^\\/]+$/,function(e,t,n){return/\\./.test(e)?e:e+\"/\"}),n},h.getBasePageUrl=function(){var e=h.getLocationHref().replace(/[#\\?].*/,\"\").replace(/[^\\/]+$/,function(e,t,n){return/[^\\/]$/.test(e)?\"\":e}).replace(/\\/+$/,\"\")+\"/\";return e},h.getFullUrl=function(e,t){var n=e,r=e.substring(0,1);return t=typeof t==\"undefined\"?!0:t,/[a-z]+\\:\\/\\//.test(e)||(r===\"/\"?n=h.getRootUrl()+e.replace(/^\\/+/,\"\"):r===\"#\"?n=h.getPageUrl().replace(/#.*/,\"\")+e:r===\"?\"?n=h.getPageUrl().replace(/[\\?#].*/,\"\")+e:t?n=h.getBaseUrl()+e.replace(/^(\\.\\/)+/,\"\"):n=h.getBasePageUrl()+e.replace(/^(\\.\\/)+/,\"\")),n.replace(/\\#$/,\"\")},h.getShortUrl=function(e){var t=e,n=h.getBaseUrl(),r=h.getRootUrl();return h.emulated.pushState&&(t=t.replace(n,\"\")),t=t.replace(r,\"/\"),h.isTraditionalAnchor(t)&&(t=\"./\"+t),t=t.replace(/^(\\.\\/)+/g,\"./\").replace(/\\#$/,\"\"),t},h.getLocationHref=function(e){return e=e||r,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,\"\"))===e.location.hash?e.location.href:e.URL.indexOf(\"#\")==-1&&e.location.href.indexOf(\"#\")!=-1?e.location.href:e.URL||e.location.href},h.store={},h.idToState=h.idToState||{},h.stateToId=h.stateToId||{},h.urlToId=h.urlToId||{},h.storedStates=h.storedStates||[],h.savedStates=h.savedStates||[],h.normalizeStore=function(){h.store.idToState=h.store.idToState||{},h.store.urlToId=h.store.urlToId||{},h.store.stateToId=h.store.stateToId||{}},h.getState=function(e,t){typeof e==\"undefined\"&&(e=!0),typeof t==\"undefined\"&&(t=!0);var n=h.getLastSavedState();return!n&&t&&(n=h.createStateObject()),e&&(n=h.cloneObject(n),n.url=n.cleanUrl||n.url),n},h.getIdByState=function(e){var t=h.extractId(e.url),n;if(!t){n=h.getStateString(e);if(typeof h.stateToId[n]!=\"undefined\")t=h.stateToId[n];else if(typeof h.store.stateToId[n]!=\"undefined\")t=h.store.stateToId[n];else{for(;;){t=(new Date).getTime()+String(Math.random()).replace(/\\D/g,\"\");if(typeof h.idToState[t]==\"undefined\"&&typeof h.store.idToState[t]==\"undefined\")break}h.stateToId[n]=t,h.idToState[t]=e}}return t},h.normalizeState=function(e){var t,n;if(!e||typeof e!=\"object\")e={};if(typeof e.normalized!=\"undefined\")return e;if(!e.data||typeof e.data!=\"object\")e.data={};return t={},t.normalized=!0,t.title=e.title||\"\",t.url=h.getFullUrl(e.url?e.url:h.getLocationHref()),t.hash=h.getShortUrl(t.url),t.data=h.cloneObject(e.data),t.id=h.getIdByState(t),t.cleanUrl=t.url.replace(/\\??\\&_suid.*/,\"\"),t.url=t.cleanUrl,n=!h.isEmptyObject(t.data),(t.title||n)&&h.options.disableSuid!==!0&&(t.hash=h.getShortUrl(t.url).replace(/\\??\\&_suid.*/,\"\"),/\\?/.test(t.hash)||(t.hash+=\"?\"),t.hash+=\"&_suid=\"+t.id),t.hashedUrl=h.getFullUrl(t.hash),(h.emulated.pushState||h.bugs.safariPoll)&&h.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t},h.createStateObject=function(e,t,n){var r={data:e,title:t,url:n};return r=h.normalizeState(r),r},h.getStateById=function(e){e=String(e);var n=h.idToState[e]||h.store.idToState[e]||t;return n},h.getStateString=function(e){var t,n,r;return t=h.normalizeState(e),n={data:t.data,title:e.title,url:e.url},r=l.stringify(n),r},h.getStateId=function(e){var t,n;return t=h.normalizeState(e),n=t.id,n},h.getHashByState=function(e){var t,n;return t=h.normalizeState(e),n=t.hash,n},h.extractId=function(e){var t,n,r,i;return e.indexOf(\"#\")!=-1?i=e.split(\"#\")[0]:i=e,n=/(.*)\\&_suid=([0-9]+)$/.exec(i),r=n?n[1]||e:e,t=n?String(n[2]||\"\"):\"\",t||!1},h.isTraditionalAnchor=function(e){var t=!/[\\/\\?\\.]/.test(e);return t},h.extractState=function(e,t){var n=null,r,i;return t=t||!1,r=h.extractId(e),r&&(n=h.getStateById(r)),n||(i=h.getFullUrl(e),r=h.getIdByUrl(i)||!1,r&&(n=h.getStateById(r)),!n&&t&&!h.isTraditionalAnchor(e)&&(n=h.createStateObject(null,null,i))),n},h.getIdByUrl=function(e){var n=h.urlToId[e]||h.store.urlToId[e]||t;return n},h.getLastSavedState=function(){return h.savedStates[h.savedStates.length-1]||t},h.getLastStoredState=function(){return h.storedStates[h.storedStates.length-1]||t},h.hasUrlDuplicate=function(e){var t=!1,n;return n=h.extractState(e.url),t=n&&n.id!==e.id,t},h.storeState=function(e){return h.urlToId[e.url]=e.id,h.storedStates.push(h.cloneObject(e)),e},h.isLastSavedState=function(e){var t=!1,n,r,i;return h.savedStates.length&&(n=e.id,r=h.getLastSavedState(),i=r.id,t=n===i),t},h.saveState=function(e){return h.isLastSavedState(e)?!1:(h.savedStates.push(h.cloneObject(e)),!0)},h.getStateByIndex=function(e){var t=null;return typeof e==\"undefined\"?t=h.savedStates[h.savedStates.length-1]:e<0?t=h.savedStates[h.savedStates.length+e]:t=h.savedStates[e],t},h.getCurrentIndex=function(){var e=null;return h.savedStates.length<1?e=0:e=h.savedStates.length-1,e},h.getHash=function(e){var t=h.getLocationHref(e),n;return n=h.getHashByUrl(t),n},h.unescapeHash=function(e){var t=h.normalizeHash(e);return t=decodeURIComponent(t),t},h.normalizeHash=function(e){var t=e.replace(/[^#]*#/,\"\").replace(/#.*/,\"\");return t},h.setHash=function(e,t){var n,i;return t!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.setHash,args:arguments,queue:t}),!1):(h.busy(!0),n=h.extractState(e,!0),n&&!h.emulated.pushState?h.pushState(n.data,n.title,n.url,!1):h.getHash()!==e&&(h.bugs.setHash?(i=h.getPageUrl(),h.pushState(null,null,i+\"#\"+e,!1)):r.location.hash=e),h)},h.escapeHash=function(t){var n=h.normalizeHash(t);return n=e.encodeURIComponent(n),h.bugs.hashEscape||(n=n.replace(/\\%21/g,\"!\").replace(/\\%26/g,\"&\").replace(/\\%3D/g,\"=\").replace(/\\%3F/g,\"?\")),n},h.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,\"$2\");return t=h.unescapeHash(t),t},h.setTitle=function(e){var t=e.title,n;t||(n=h.getStateByIndex(0),n&&n.url===e.url&&(t=n.title||h.options.initialTitle));try{r.getElementsByTagName(\"title\")[0].innerHTML=t.replace(\"<\",\"&lt;\").replace(\">\",\"&gt;\").replace(\" & \",\" &amp; \")}catch(i){}return r.title=t,h},h.queues=[],h.busy=function(e){typeof e!=\"undefined\"?h.busy.flag=e:typeof h.busy.flag==\"undefined\"&&(h.busy.flag=!1);if(!h.busy.flag){u(h.busy.timeout);var t=function(){var e,n,r;if(h.busy.flag)return;for(e=h.queues.length-1;e>=0;--e){n=h.queues[e];if(n.length===0)continue;r=n.shift(),h.fireQueueItem(r),h.busy.timeout=o(t,h.options.busyDelay)}};h.busy.timeout=o(t,h.options.busyDelay)}return h.busy.flag},h.busy.flag=!1,h.fireQueueItem=function(e){return e.callback.apply(e.scope||h,e.args||[])},h.pushQueue=function(e){return h.queues[e.queue||0]=h.queues[e.queue||0]||[],h.queues[e.queue||0].push(e),h},h.queue=function(e,t){return typeof e==\"function\"&&(e={callback:e}),typeof t!=\"undefined\"&&(e.queue=t),h.busy()?h.pushQueue(e):h.fireQueueItem(e),h},h.clearQueue=function(){return h.busy.flag=!1,h.queues=[],h},h.stateChanged=!1,h.doubleChecker=!1,h.doubleCheckComplete=function(){return h.stateChanged=!0,h.doubleCheckClear(),h},h.doubleCheckClear=function(){return h.doubleChecker&&(u(h.doubleChecker),h.doubleChecker=!1),h},h.doubleCheck=function(e){return h.stateChanged=!1,h.doubleCheckClear(),h.bugs.ieDoubleCheck&&(h.doubleChecker=o(function(){return h.doubleCheckClear(),h.stateChanged||e(),!0},h.options.doubleCheckInterval)),h},h.safariStatePoll=function(){var t=h.extractState(h.getLocationHref()),n;if(!h.isLastSavedState(t))return n=t,n||(n=h.createStateObject()),h.Adapter.trigger(e,\"popstate\"),h;return},h.back=function(e){return e!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.back,args:arguments,queue:e}),!1):(h.busy(!0),h.doubleCheck(function(){h.back(!1)}),p.go(-1),!0)},h.forward=function(e){return e!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.forward,args:arguments,queue:e}),!1):(h.busy(!0),h.doubleCheck(function(){h.forward(!1)}),p.go(1),!0)},h.go=function(e,t){var n;if(e>0)for(n=1;n<=e;++n)h.forward(t);else{if(!(e<0))throw new Error(\"History.go: History.go requires a positive or negative integer passed.\");for(n=-1;n>=e;--n)h.back(t)}return h};if(h.emulated.pushState){var v=function(){};h.pushState=h.pushState||v,h.replaceState=h.replaceState||v}else h.onPopState=function(t,n){var r=!1,i=!1,s,o;return h.doubleCheckComplete(),s=h.getHash(),s?(o=h.extractState(s||h.getLocationHref(),!0),o?h.replaceState(o.data,o.title,o.url,!1):(h.Adapter.trigger(e,\"anchorchange\"),h.busy(!1)),h.expectedStateId=!1,!1):(r=h.Adapter.extractEventData(\"state\",t,n)||!1,r?i=h.getStateById(r):h.expectedStateId?i=h.getStateById(h.expectedStateId):i=h.extractState(h.getLocationHref()),i||(i=h.createStateObject(null,null,h.getLocationHref())),h.expectedStateId=!1,h.isLastSavedState(i)?(h.busy(!1),!1):(h.storeState(i),h.saveState(i),h.setTitle(i),h.Adapter.trigger(e,\"statechange\"),h.busy(!1),!0))},h.Adapter.bind(e,\"popstate\",h.onPopState),h.pushState=function(t,n,r,i){if(h.getHashByUrl(r)&&h.emulated.pushState)throw new Error(\"History.js does not support states with fragement-identifiers (hashes/anchors).\");if(i!==!1&&h.busy())return h.pushQueue({scope:h,callback:h.pushState,args:arguments,queue:i}),!1;h.busy(!0);var s=h.createStateObject(t,n,r);return h.isLastSavedState(s)?h.busy(!1):(h.storeState(s),h.expectedStateId=s.id,p.pushState(s.id,s.title,s.url),h.Adapter.trigger(e,\"popstate\")),!0},h.replaceState=function(t,n,r,i){if(h.getHashByUrl(r)&&h.emulated.pushState)throw new Error(\"History.js does not support states with fragement-identifiers (hashes/anchors).\");if(i!==!1&&h.busy())return h.pushQueue({scope:h,callback:h.replaceState,args:arguments,queue:i}),!1;h.busy(!0);var s=h.createStateObject(t,n,r);return h.isLastSavedState(s)?h.busy(!1):(h.storeState(s),h.expectedStateId=s.id,p.replaceState(s.id,s.title,s.url),h.Adapter.trigger(e,\"popstate\")),!0};if(s){try{h.store=l.parse(s.getItem(\"History.store\"))||{}}catch(m){h.store={}}h.normalizeStore()}else h.store={},h.normalizeStore();h.Adapter.bind(e,\"unload\",h.clearAllIntervals),h.saveState(h.storeState(h.extractState(h.getLocationHref(),!0))),s&&(h.onUnload=function(){var e,t,n;try{e=l.parse(s.getItem(\"History.store\"))||{}}catch(r){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in h.idToState){if(!h.idToState.hasOwnProperty(t))continue;e.idToState[t]=h.idToState[t]}for(t in h.urlToId){if(!h.urlToId.hasOwnProperty(t))continue;e.urlToId[t]=h.urlToId[t]}for(t in h.stateToId){if(!h.stateToId.hasOwnProperty(t))continue;e.stateToId[t]=h.stateToId[t]}h.store=e,h.normalizeStore(),n=l.stringify(e);try{s.setItem(\"History.store\",n)}catch(i){if(i.code!==DOMException.QUOTA_EXCEEDED_ERR)throw i;s.length&&(s.removeItem(\"History.store\"),s.setItem(\"History.store\",n))}},h.intervalList.push(a(h.onUnload,h.options.storeInterval)),h.Adapter.bind(e,\"beforeunload\",h.onUnload),h.Adapter.bind(e,\"unload\",h.onUnload));if(!h.emulated.pushState){h.bugs.safariPoll&&h.intervalList.push(a(h.safariStatePoll,h.options.safariPollInterval));if(i.vendor===\"Apple Computer, Inc.\"||(i.appCodeName||\"\")===\"Mozilla\")h.Adapter.bind(e,\"hashchange\",function(){h.Adapter.trigger(e,\"popstate\")}),h.getHash()&&h.Adapter.onDomLoad(function(){h.Adapter.trigger(e,\"hashchange\")})}},(!h.options||!h.options.delayInit)&&h.init()}(window)\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\")))\n\n//# sourceURL=webpack:///./src/public/js/vendor/history/jquery.history.js?");

/***/ }),

/***/ "./src/public/js/vendor/qrcode/jquery.qrcode.min.js":
/*!**********************************************************!*\
  !*** ./src/public/js/vendor/qrcode/jquery.qrcode.min.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(jQuery) {(function(r){r.fn.qrcode=function(h){var s;function u(a){this.mode=s;this.data=a}function o(a,c){this.typeNumber=a;this.errorCorrectLevel=c;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function q(a,c){if(void 0==a.length)throw Error(a.length+\"/\"+c);for(var d=0;d<a.length&&0==a[d];)d++;this.num=Array(a.length-d+c);for(var b=0;b<a.length-d;b++)this.num[b]=a[b+d]}function p(a,c){this.totalCount=a;this.dataCount=c}function t(){this.buffer=[];this.length=0}u.prototype={getLength:function(){return this.data.length},\r\n    write:function(a){for(var c=0;c<this.data.length;c++)a.put(this.data.charCodeAt(c),8)}};o.prototype={addData:function(a){this.dataList.push(new u(a));this.dataCache=null},isDark:function(a,c){if(0>a||this.moduleCount<=a||0>c||this.moduleCount<=c)throw Error(a+\",\"+c);return this.modules[a][c]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var a=1,a=1;40>a;a++){for(var c=p.getRSBlocks(a,this.errorCorrectLevel),d=new t,b=0,e=0;e<c.length;e++)b+=c[e].dataCount;\r\n    for(e=0;e<this.dataList.length;e++)c=this.dataList[e],d.put(c.mode,4),d.put(c.getLength(),j.getLengthInBits(c.mode,a)),c.write(d);if(d.getLengthInBits()<=8*b)break}this.typeNumber=a}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,c){this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=Array(this.moduleCount);for(var b=0;b<this.moduleCount;b++)this.modules[d][b]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-\r\n    7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(a,c);7<=this.typeNumber&&this.setupTypeNumber(a);null==this.dataCache&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,c)},setupPositionProbePattern:function(a,c){for(var d=-1;7>=d;d++)if(!(-1>=a+d||this.moduleCount<=a+d))for(var b=-1;7>=b;b++)-1>=c+b||this.moduleCount<=c+b||(this.modules[a+d][c+b]=\r\n    0<=d&&6>=d&&(0==b||6==b)||0<=b&&6>=b&&(0==d||6==d)||2<=d&&4>=d&&2<=b&&4>=b?!0:!1)},getBestMaskPattern:function(){for(var a=0,c=0,d=0;8>d;d++){this.makeImpl(!0,d);var b=j.getLostPoint(this);if(0==d||a>b)a=b,c=d}return c},createMovieClip:function(a,c,d){a=a.createEmptyMovieClip(c,d);this.make();for(c=0;c<this.modules.length;c++)for(var d=1*c,b=0;b<this.modules[c].length;b++){var e=1*b;this.modules[c][b]&&(a.beginFill(0,100),a.moveTo(e,d),a.lineTo(e+1,d),a.lineTo(e+1,d+1),a.lineTo(e,d+1),a.endFill())}return a},\r\n    setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(a=8;a<this.moduleCount-8;a++)null==this.modules[6][a]&&(this.modules[6][a]=0==a%2)},setupPositionAdjustPattern:function(){for(var a=j.getPatternPosition(this.typeNumber),c=0;c<a.length;c++)for(var d=0;d<a.length;d++){var b=a[c],e=a[d];if(null==this.modules[b][e])for(var f=-2;2>=f;f++)for(var i=-2;2>=i;i++)this.modules[b+f][e+i]=-2==f||2==f||-2==i||2==i||0==f&&0==i?!0:!1}},setupTypeNumber:function(a){for(var c=\r\n        j.getBCHTypeNumber(this.typeNumber),d=0;18>d;d++){var b=!a&&1==(c>>d&1);this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=b}for(d=0;18>d;d++)b=!a&&1==(c>>d&1),this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=b},setupTypeInfo:function(a,c){for(var d=j.getBCHTypeInfo(this.errorCorrectLevel<<3|c),b=0;15>b;b++){var e=!a&&1==(d>>b&1);6>b?this.modules[b][8]=e:8>b?this.modules[b+1][8]=e:this.modules[this.moduleCount-15+b][8]=e}for(b=0;15>b;b++)e=!a&&1==(d>>b&1),8>b?this.modules[8][this.moduleCount-\r\n    b-1]=e:9>b?this.modules[8][15-b-1+1]=e:this.modules[8][15-b-1]=e;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,c){for(var d=-1,b=this.moduleCount-1,e=7,f=0,i=this.moduleCount-1;0<i;i-=2)for(6==i&&i--;;){for(var g=0;2>g;g++)if(null==this.modules[b][i-g]){var n=!1;f<a.length&&(n=1==(a[f]>>>e&1));j.getMask(c,b,i-g)&&(n=!n);this.modules[b][i-g]=n;e--; -1==e&&(f++,e=7)}b+=d;if(0>b||this.moduleCount<=b){b-=d;d=-d;break}}}};o.PAD0=236;o.PAD1=17;o.createData=function(a,c,d){for(var c=p.getRSBlocks(a,\r\n    c),b=new t,e=0;e<d.length;e++){var f=d[e];b.put(f.mode,4);b.put(f.getLength(),j.getLengthInBits(f.mode,a));f.write(b)}for(e=a=0;e<c.length;e++)a+=c[e].dataCount;if(b.getLengthInBits()>8*a)throw Error(\"code length overflow. (\"+b.getLengthInBits()+\">\"+8*a+\")\");for(b.getLengthInBits()+4<=8*a&&b.put(0,4);0!=b.getLengthInBits()%8;)b.putBit(!1);for(;!(b.getLengthInBits()>=8*a);){b.put(o.PAD0,8);if(b.getLengthInBits()>=8*a)break;b.put(o.PAD1,8)}return o.createBytes(b,c)};o.createBytes=function(a,c){for(var d=\r\n    0,b=0,e=0,f=Array(c.length),i=Array(c.length),g=0;g<c.length;g++){var n=c[g].dataCount,h=c[g].totalCount-n,b=Math.max(b,n),e=Math.max(e,h);f[g]=Array(n);for(var k=0;k<f[g].length;k++)f[g][k]=255&a.buffer[k+d];d+=n;k=j.getErrorCorrectPolynomial(h);n=(new q(f[g],k.getLength()-1)).mod(k);i[g]=Array(k.getLength()-1);for(k=0;k<i[g].length;k++)h=k+n.getLength()-i[g].length,i[g][k]=0<=h?n.get(h):0}for(k=g=0;k<c.length;k++)g+=c[k].totalCount;d=Array(g);for(k=n=0;k<b;k++)for(g=0;g<c.length;g++)k<f[g].length&&\r\n(d[n++]=f[g][k]);for(k=0;k<e;k++)for(g=0;g<c.length;g++)k<i[g].length&&(d[n++]=i[g][k]);return d};s=4;for(var j={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,\r\n    78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var c=a<<10;0<=j.getBCHDigit(c)-j.getBCHDigit(j.G15);)c^=j.G15<<j.getBCHDigit(c)-j.getBCHDigit(j.G15);return(a<<10|c)^j.G15_MASK},getBCHTypeNumber:function(a){for(var c=a<<12;0<=j.getBCHDigit(c)-\r\nj.getBCHDigit(j.G18);)c^=j.G18<<j.getBCHDigit(c)-j.getBCHDigit(j.G18);return a<<12|c},getBCHDigit:function(a){for(var c=0;0!=a;)c++,a>>>=1;return c},getPatternPosition:function(a){return j.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,c,d){switch(a){case 0:return 0==(c+d)%2;case 1:return 0==c%2;case 2:return 0==d%3;case 3:return 0==(c+d)%3;case 4:return 0==(Math.floor(c/2)+Math.floor(d/3))%2;case 5:return 0==c*d%2+c*d%3;case 6:return 0==(c*d%2+c*d%3)%2;case 7:return 0==(c*d%3+(c+d)%2)%2;default:throw Error(\"bad maskPattern:\"+\r\n    a);}},getErrorCorrectPolynomial:function(a){for(var c=new q([1],0),d=0;d<a;d++)c=c.multiply(new q([1,l.gexp(d)],0));return c},getLengthInBits:function(a,c){if(1<=c&&10>c)switch(a){case 1:return 10;case 2:return 9;case s:return 8;case 8:return 8;default:throw Error(\"mode:\"+a);}else if(27>c)switch(a){case 1:return 12;case 2:return 11;case s:return 16;case 8:return 10;default:throw Error(\"mode:\"+a);}else if(41>c)switch(a){case 1:return 14;case 2:return 13;case s:return 16;case 8:return 12;default:throw Error(\"mode:\"+\r\n    a);}else throw Error(\"type:\"+c);},getLostPoint:function(a){for(var c=a.getModuleCount(),d=0,b=0;b<c;b++)for(var e=0;e<c;e++){for(var f=0,i=a.isDark(b,e),g=-1;1>=g;g++)if(!(0>b+g||c<=b+g))for(var h=-1;1>=h;h++)0>e+h||c<=e+h||0==g&&0==h||i==a.isDark(b+g,e+h)&&f++;5<f&&(d+=3+f-5)}for(b=0;b<c-1;b++)for(e=0;e<c-1;e++)if(f=0,a.isDark(b,e)&&f++,a.isDark(b+1,e)&&f++,a.isDark(b,e+1)&&f++,a.isDark(b+1,e+1)&&f++,0==f||4==f)d+=3;for(b=0;b<c;b++)for(e=0;e<c-6;e++)a.isDark(b,e)&&!a.isDark(b,e+1)&&a.isDark(b,e+\r\n    2)&&a.isDark(b,e+3)&&a.isDark(b,e+4)&&!a.isDark(b,e+5)&&a.isDark(b,e+6)&&(d+=40);for(e=0;e<c;e++)for(b=0;b<c-6;b++)a.isDark(b,e)&&!a.isDark(b+1,e)&&a.isDark(b+2,e)&&a.isDark(b+3,e)&&a.isDark(b+4,e)&&!a.isDark(b+5,e)&&a.isDark(b+6,e)&&(d+=40);for(e=f=0;e<c;e++)for(b=0;b<c;b++)a.isDark(b,e)&&f++;a=Math.abs(100*f/c/c-50)/5;return d+10*a}},l={glog:function(a){if(1>a)throw Error(\"glog(\"+a+\")\");return l.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;256<=a;)a-=255;return l.EXP_TABLE[a]},EXP_TABLE:Array(256),\r\n    LOG_TABLE:Array(256)},m=0;8>m;m++)l.EXP_TABLE[m]=1<<m;for(m=8;256>m;m++)l.EXP_TABLE[m]=l.EXP_TABLE[m-4]^l.EXP_TABLE[m-5]^l.EXP_TABLE[m-6]^l.EXP_TABLE[m-8];for(m=0;255>m;m++)l.LOG_TABLE[l.EXP_TABLE[m]]=m;q.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var c=Array(this.getLength()+a.getLength()-1),d=0;d<this.getLength();d++)for(var b=0;b<a.getLength();b++)c[d+b]^=l.gexp(l.glog(this.get(d))+l.glog(a.get(b)));return new q(c,0)},mod:function(a){if(0>\r\n    this.getLength()-a.getLength())return this;for(var c=l.glog(this.get(0))-l.glog(a.get(0)),d=Array(this.getLength()),b=0;b<this.getLength();b++)d[b]=this.get(b);for(b=0;b<a.getLength();b++)d[b]^=l.gexp(l.glog(a.get(b))+c);return(new q(d,0)).mod(a)}};p.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],\r\n    [4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,\r\n        116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,\r\n        43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,\r\n        3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,\r\n        55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,\r\n        45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];p.getRSBlocks=function(a,c){var d=p.getRsBlockTable(a,c);if(void 0==d)throw Error(\"bad rs block @ typeNumber:\"+a+\"/errorCorrectLevel:\"+c);for(var b=d.length/3,e=[],f=0;f<b;f++)for(var h=d[3*f+0],g=d[3*f+1],j=d[3*f+2],l=0;l<h;l++)e.push(new p(g,j));return e};p.getRsBlockTable=function(a,c){switch(c){case 1:return p.RS_BLOCK_TABLE[4*(a-1)+0];case 0:return p.RS_BLOCK_TABLE[4*(a-1)+1];case 3:return p.RS_BLOCK_TABLE[4*\r\n(a-1)+2];case 2:return p.RS_BLOCK_TABLE[4*(a-1)+3]}};t.prototype={get:function(a){return 1==(this.buffer[Math.floor(a/8)]>>>7-a%8&1)},put:function(a,c){for(var d=0;d<c;d++)this.putBit(1==(a>>>c-d-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var c=Math.floor(this.length/8);this.buffer.length<=c&&this.buffer.push(0);a&&(this.buffer[c]|=128>>>this.length%8);this.length++}};\"string\"===typeof h&&(h={text:h});h=r.extend({},{render:\"canvas\",width:256,height:256,typeNumber:-1,\r\n    correctLevel:2,background:\"#ffffff\",foreground:\"#000000\"},h);return this.each(function(){var a;if(\"canvas\"==h.render){a=new o(h.typeNumber,h.correctLevel);a.addData(h.text);a.make();var c=document.createElement(\"canvas\");c.width=h.width;c.height=h.height;for(var d=c.getContext(\"2d\"),b=h.width/a.getModuleCount(),e=h.height/a.getModuleCount(),f=0;f<a.getModuleCount();f++)for(var i=0;i<a.getModuleCount();i++){d.fillStyle=a.isDark(f,i)?h.foreground:h.background;var g=Math.ceil((i+1)*b)-Math.floor(i*b),\r\n    j=Math.ceil((f+1)*b)-Math.floor(f*b);d.fillRect(Math.round(i*b),Math.round(f*e),g,j)}}else{a=new o(h.typeNumber,h.correctLevel);a.addData(h.text);a.make();c=r(\"<table></table>\").css(\"width\",h.width+\"px\").css(\"height\",h.height+\"px\").css(\"border\",\"0px\").css(\"border-collapse\",\"collapse\").css(\"background-color\",h.background);d=h.width/a.getModuleCount();b=h.height/a.getModuleCount();for(e=0;e<a.getModuleCount();e++){f=r(\"<tr></tr>\").css(\"height\",b+\"px\").appendTo(c);for(i=0;i<a.getModuleCount();i++)r(\"<td></td>\").css(\"width\",\r\n    d+\"px\").css(\"background-color\",a.isDark(e,i)?h.foreground:h.background).appendTo(f)}}a=c;jQuery(a).appendTo(this)})}})(jQuery);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./src/public/js/vendor/jquery/jquery.js\")))\n\n//# sourceURL=webpack:///./src/public/js/vendor/qrcode/jquery.qrcode.min.js?");

/***/ }),

/***/ "./src/public/js/vendor/shepherd/js/shepherd.min.js":
/*!**********************************************************!*\
  !*** ./src/public/js/vendor/shepherd/js/shepherd.min.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!function(t,e){ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! tether */ \"./src/public/js/vendor/tether/tether.min.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (e),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):undefined}(this,function(t){\"use strict\";function e(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function n(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t){return\"undefined\"==typeof t}function r(t){return t&&t.constructor===Array}function o(t){return t&&t.constructor===Object}function s(t){return\"object\"==typeof t}function h(t){var e=document.createElement(\"div\");return e.innerHTML=t,e.children[0]}function c(t,e){var n=void 0;return i(t.matches)?i(t.matchesSelector)?i(t.msMatchesSelector)?i(t.webkitMatchesSelector)?i(t.mozMatchesSelector)?i(t.oMatchesSelector)||(n=t.oMatchesSelector):n=t.mozMatchesSelector:n=t.webkitMatchesSelector:n=t.msMatchesSelector:n=t.matchesSelector:n=t.matches,n.call(t,e)}function l(t){if(s(t))return t.hasOwnProperty(\"element\")&&t.hasOwnProperty(\"on\")?t:null;var e=S.exec(t);if(!e)return null;var n=e[2];return\"[\"===n[0]&&(n=n.substring(1,n.length-1)),{element:e[1],on:n}}function a(t,e){if(null===t||i(t))return t;if(s(t))return t;for(var n=t.split(\" \"),r={},o=e.length-1,h=n.length-1;h>=0;h--){if(0===o){r[e[o]]=n.slice(0,h+1).join(\" \");break}r[e[o]]=n[h],o--}return r}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),d=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var h=Object.getOwnPropertyDescriptor(r,o);if(void 0!==h){if(\"value\"in h)return h.value;var c=h.get;if(void 0===c)return;return c.call(s)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=o,n=s,i=!0,h=l=void 0}},p=t.Utils,f=p.Evented,v=p.addClass,m=p.extend,y=p.hasClass,g=p.removeClass,b=p.uniqueId,w=new f,k={\"top right\":\"bottom left\",\"top left\":\"bottom right\",\"top center\":\"bottom center\",\"middle right\":\"middle left\",\"middle left\":\"middle right\",\"middle center\":\"middle center\",\"bottom left\":\"top right\",\"bottom right\":\"top left\",\"bottom center\":\"top center\",top:\"bottom center\",left:\"middle right\",right:\"middle left\",bottom:\"top center\",center:\"middle center\",middle:\"middle center\"},S=/^(.+) (top|left|right|bottom|center|\\[[a-z ]+\\])$/,O=function(s){function p(t,n){return e(this,p),d(Object.getPrototypeOf(p.prototype),\"constructor\",this).call(this,t,n),this.tour=t,this.bindMethods(),this.setOptions(n),this}return n(p,s),u(p,[{key:\"bindMethods\",value:function(){var t=this,e=[\"_show\",\"show\",\"hide\",\"isOpen\",\"cancel\",\"complete\",\"scrollTo\",\"destroy\",\"render\"];e.map(function(e){t[e]=t[e].bind(t)})}},{key:\"setOptions\",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t,this.destroy(),this.id=this.options.id||this.id||\"step-\"+b();var e=this.options.when;if(e)for(var n in e)if({}.hasOwnProperty.call(e,n)){var s=e[n];this.on(n,s,this)}var h=JSON.stringify(this.options.buttons),c=i(h)||\"true\"===h,l=\"{}\"===h||\"[]\"===h||\"null\"===h||\"false\"===h,a=!c&&r(this.options.buttons),u=!c&&o(this.options.buttons);c?this.options.buttons=[{text:\"Next\",action:this.tour.next,classes:\"btn\"}]:!l&&u?this.options.buttons=[this.options.buttons]:!l&&a||(this.options.buttons=!1)}},{key:\"getTour\",value:function(){return this.tour}},{key:\"bindAdvance\",value:function(){var t=this,e=a(this.options.advanceOn,[\"selector\",\"event\"]),n=e.event,r=e.selector,o=function(e){t.isOpen()&&(i(r)?t.el&&e.target===t.el&&t.tour.next():c(e.target,r)&&t.tour.next())};document.body.addEventListener(n,o),this.on(\"destroy\",function(){return document.body.removeEventListener(n,o)})}},{key:\"getAttachTo\",value:function(){var t=l(this.options.attachTo)||{},e=m({},t);return\"string\"==typeof t.element&&(e.element=document.querySelector(t.element),e.element||console.error(\"The element for this Shepherd step was not found \"+t.element)),e}},{key:\"setupTether\",value:function(){if(i(t))throw new Error(\"Using the attachment feature of Shepherd requires the Tether library\");var e=this.getAttachTo(),n=k[e.on]||k.right;i(e.element)&&(e.element=\"viewport\",n=\"middle center\");var r={classPrefix:\"shepherd\",element:this.el,constraints:[{to:\"window\",pin:!0,attachment:\"together\"}],target:e.element,offset:e.offset||\"0 0\",attachment:n};this.tether&&this.tether.destroy(),this.tether=new t(m(r,this.options.tetherOptions))}},{key:\"show\",value:function(){var t=this;if(!i(this.options.beforeShowPromise)){var e=this.options.beforeShowPromise();if(!i(e))return e.then(function(){return t._show()})}this._show()}},{key:\"_show\",value:function(){var t=this;this.trigger(\"before-show\"),this.el||this.render(),v(this.el,\"shepherd-open\"),document.body.setAttribute(\"data-shepherd-step\",this.id),this.setupTether(),this.options.scrollTo&&setTimeout(function(){t.scrollTo()}),this.trigger(\"show\")}},{key:\"hide\",value:function(){this.trigger(\"before-hide\"),g(this.el,\"shepherd-open\"),document.body.removeAttribute(\"data-shepherd-step\"),this.tether&&this.tether.destroy(),this.tether=null,this.trigger(\"hide\")}},{key:\"isOpen\",value:function(){return this.el&&y(this.el,\"shepherd-open\")}},{key:\"cancel\",value:function(){this.tour.cancel(),this.trigger(\"cancel\")}},{key:\"complete\",value:function(){this.tour.complete(),this.trigger(\"complete\")}},{key:\"scrollTo\",value:function(){var t=this.getAttachTo(),e=t.element;i(this.options.scrollToHandler)?i(e)||e.scrollIntoView():this.options.scrollToHandler(e)}},{key:\"destroy\",value:function(){!i(this.el)&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),delete this.el),this.tether&&this.tether.destroy(),this.tether=null,this.trigger(\"destroy\")}},{key:\"render\",value:function(){var t=this;i(this.el)||this.destroy(),this.el=h(\"<div class='shepherd-step \"+(this.options.classes||\"\")+\"' data-id='\"+this.id+\"' \"+(this.options.idAttribute?'id=\"'+this.options.idAttribute+'\"':\"\")+\"></div>\");var e=document.createElement(\"div\");e.className=\"shepherd-content\",this.el.appendChild(e);var n=document.createElement(\"header\");if(e.appendChild(n),this.options.title&&(n.innerHTML+=\"<h3 class='shepherd-title'>\"+this.options.title+\"</h3>\",this.el.className+=\" shepherd-has-title\"),this.options.showCancelLink){var r=h(\"<a href class='shepherd-cancel-link'></a>\");n.appendChild(r),this.el.className+=\" shepherd-has-cancel-link\",this.bindCancelLink(r)}i(this.options.text)||!function(){var n=h(\"<div class='shepherd-text'></div>\"),i=t.options.text;\"function\"==typeof i&&(i=i.call(t,n)),i instanceof HTMLElement?n.appendChild(i):(\"string\"==typeof i&&(i=[i]),i.map(function(t){n.innerHTML+=\"<p>\"+t+\"</p>\"})),e.appendChild(n)}(),this.options.buttons&&!function(){var n=document.createElement(\"footer\"),i=h(\"<ul class='shepherd-buttons'></ul>\");t.options.buttons.map(function(e){var n=h(\"<li><a class='shepherd-button \"+(e.classes||\"\")+\"'>\"+e.text+\"</a>\");i.appendChild(n),t.bindButtonEvents(e,n.querySelector(\"a\"))}),n.appendChild(i),e.appendChild(n)}(),document.body.appendChild(this.el),this.setupTether(),this.options.advanceOn&&this.bindAdvance()}},{key:\"bindCancelLink\",value:function(t){var e=this;t.addEventListener(\"click\",function(t){t.preventDefault(),e.cancel()})}},{key:\"bindButtonEvents\",value:function(t,e){var n=this;t.events=t.events||{},i(t.action)||(t.events.click=t.action);for(var r in t.events)if({}.hasOwnProperty.call(t.events,r)){var o=t.events[r];\"string\"==typeof o&&!function(){var t=o;o=function(){return n.tour.show(t)}}(),e.addEventListener(r,o)}this.on(\"destroy\",function(){for(var n in t.events)if({}.hasOwnProperty.call(t.events,n)){var i=t.events[n];e.removeEventListener(n,i)}})}}]),p}(f),T=function(t){function r(){var t=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e(this,r),d(Object.getPrototypeOf(r.prototype),\"constructor\",this).call(this,n),this.bindMethods(),this.options=n,this.steps=this.options.steps||[];var i=[\"complete\",\"cancel\",\"hide\",\"start\",\"show\",\"active\",\"inactive\"];return i.map(function(e){!function(e){t.on(e,function(n){n=n||{},n.tour=t,w.trigger(e,n)})}(e)}),this}return n(r,t),u(r,[{key:\"bindMethods\",value:function(){var t=this,e=[\"next\",\"back\",\"cancel\",\"complete\",\"hide\"];e.map(function(e){t[e]=t[e].bind(t)})}},{key:\"addStep\",value:function(t,e){return i(e)&&(e=t),e instanceof O?e.tour=this:(\"string\"!=typeof t&&\"number\"!=typeof t||(e.id=t.toString()),e=m({},this.options.defaults,e),e=new O(this,e)),this.steps.push(e),this}},{key:\"removeStep\",value:function(t){for(var e=this.getCurrentStep(),n=0;n<this.steps.length;++n){var i=this.steps[n];if(i.id===t){i.isOpen()&&i.hide(),i.destroy(),this.steps.splice(n,1);break}}e&&e.id===t&&(this.currentStep=void 0,this.steps.length?this.show(0):this.hide())}},{key:\"getById\",value:function(t){for(var e=0;e<this.steps.length;++e){var n=this.steps[e];if(n.id===t)return n}}},{key:\"getCurrentStep\",value:function(){return this.currentStep}},{key:\"next\",value:function(){var t=this.steps.indexOf(this.currentStep);t===this.steps.length-1?(this.hide(t),this.trigger(\"complete\"),this.done()):this.show(t+1,!0)}},{key:\"back\",value:function(){var t=this.steps.indexOf(this.currentStep);this.show(t-1,!1)}},{key:\"cancel\",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger(\"cancel\"),this.done()}},{key:\"complete\",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger(\"complete\"),this.done()}},{key:\"hide\",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger(\"hide\"),this.done()}},{key:\"done\",value:function(){w.activeTour=null,g(document.body,\"shepherd-active\"),this.trigger(\"inactive\",{tour:this})}},{key:\"show\",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]||arguments[1];this.currentStep?this.currentStep.hide():(v(document.body,\"shepherd-active\"),this.trigger(\"active\",{tour:this})),w.activeTour=this;var n=void 0;if(n=\"string\"==typeof t?this.getById(t):this.steps[t])if(i(n.options.showOn)||n.options.showOn())this.trigger(\"show\",{step:n,previous:this.currentStep}),this.currentStep&&this.currentStep.hide(),this.currentStep=n,n.show();else{var r=this.steps.indexOf(n),o=e?r+1:r-1;this.show(o,e)}}},{key:\"start\",value:function(){this.trigger(\"start\"),this.currentStep=null,this.next()}}]),r}(f);return m(w,{Tour:T,Step:O,Evented:f}),w});\n\n//# sourceURL=webpack:///./src/public/js/vendor/shepherd/js/shepherd.min.js?");

/***/ }),

/***/ "./src/public/js/vendor/tomarkdown/tomarkdown.js":
/*!*******************************************************!*\
  !*** ./src/public/js/vendor/tomarkdown/tomarkdown.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var require;var require;(function(f){if(true){module.exports=f()}else { var g; }})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return require(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\r\n    /*\r\n     * to-markdown - an HTML to Markdown converter\r\n     *\r\n     * Copyright 2011-15, Dom Christie\r\n     * Licenced under the MIT licence\r\n     *\r\n     */\r\n\r\n    'use strict';\r\n\r\n    var toMarkdown;\r\n    var converters;\r\n    var mdConverters = require('./lib/md-converters');\r\n    var gfmConverters = require('./lib/gfm-converters');\r\n    var collapse = require('collapse-whitespace');\r\n\r\n    /*\r\n     * Set up window and document for Node.js\r\n     */\r\n\r\n    var _window = (typeof window !== 'undefined' ? window : this), _document;\r\n    if (typeof document === 'undefined') {\r\n        _document = require('jsdom').jsdom();\r\n    }\r\n    else {\r\n        _document = document;\r\n    }\r\n\r\n    /*\r\n     * Utilities\r\n     */\r\n\r\n    function trim(string) {\r\n        return string.replace(/^[ \\r\\n\\t]+|[ \\r\\n\\t]+$/g, '');\r\n    }\r\n\r\n    var blocks = ['address', 'article', 'aside', 'audio', 'blockquote', 'body',\r\n        'canvas', 'center', 'dd', 'dir', 'div', 'dl', 'dt', 'fieldset', 'figcaption',\r\n        'figure', 'footer', 'form', 'frameset', 'h1', 'h2', 'h3', 'h4','h5', 'h6',\r\n        'header', 'hgroup', 'hr', 'html', 'isindex', 'li', 'main', 'menu', 'nav',\r\n        'noframes', 'noscript', 'ol', 'output', 'p', 'pre', 'section', 'table',\r\n        'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'ul'\r\n    ];\r\n\r\n    function isBlock(node) {\r\n        return blocks.indexOf(node.nodeName.toLowerCase()) !== -1;\r\n    }\r\n\r\n    var voids = [\r\n        'area', 'base', 'br', 'col', 'command', 'embed', 'hr', 'img', 'input',\r\n        'keygen', 'link', 'meta', 'param', 'source', 'track', 'wbr'\r\n    ];\r\n\r\n    function isVoid(node) {\r\n        return voids.indexOf(node.nodeName.toLowerCase()) !== -1;\r\n    }\r\n\r\n    /*\r\n     * Parsing HTML strings\r\n     */\r\n\r\n    function canParseHtml() {\r\n        var Parser = _window.DOMParser, canParse = false;\r\n\r\n        // Adapted from https://gist.github.com/1129031\r\n        // Firefox/Opera/IE throw errors on unsupported types\r\n        try {\r\n            // WebKit returns null on unsupported types\r\n            if (new Parser().parseFromString('', 'text/html')) {\r\n                canParse = true;\r\n            }\r\n        } catch (e) {}\r\n        return canParse;\r\n    }\r\n\r\n    function createHtmlParser() {\r\n        var Parser = function () {};\r\n\r\n        Parser.prototype.parseFromString = function (string) {\r\n            var newDoc = _document.implementation.createHTMLDocument('');\r\n\r\n            if (string.toLowerCase().indexOf('<!doctype') > -1) {\r\n                newDoc.documentElement.innerHTML = string;\r\n            }\r\n            else {\r\n                newDoc.body.innerHTML = string;\r\n            }\r\n            return newDoc;\r\n        };\r\n        return Parser;\r\n    }\r\n\r\n    var HtmlParser = canParseHtml() ? _window.DOMParser : createHtmlParser();\r\n\r\n    function htmlToDom(string) {\r\n        var tree = new HtmlParser().parseFromString(string, 'text/html');\r\n        collapse(tree, isBlock);\r\n        return tree;\r\n    }\r\n\r\n    /*\r\n     * Flattens DOM tree into single array\r\n     */\r\n\r\n    function bfsOrder(node) {\r\n        var inqueue = [node],\r\n            outqueue = [],\r\n            elem, children, i;\r\n\r\n        while (inqueue.length > 0) {\r\n            elem = inqueue.shift();\r\n            outqueue.push(elem);\r\n            children = elem.childNodes;\r\n            for (i = 0 ; i < children.length; i++) {\r\n                if (children[i].nodeType === 1) { inqueue.push(children[i]); }\r\n            }\r\n        }\r\n        outqueue.shift();\r\n        return outqueue;\r\n    }\r\n\r\n    /*\r\n     * Contructs a Markdown string of replacement text for a given node\r\n     */\r\n\r\n    function getContent(node) {\r\n        var text = '';\r\n        for (var i = 0; i < node.childNodes.length; i++) {\r\n            if (node.childNodes[i].nodeType === 1) {\r\n                text += node.childNodes[i]._replacement;\r\n            }\r\n            else if (node.childNodes[i].nodeType === 3) {\r\n                text += node.childNodes[i].data;\r\n            }\r\n            else { continue; }\r\n        }\r\n        return text;\r\n    }\r\n\r\n    /*\r\n     * Returns the HTML string of an element with its contents converted\r\n     */\r\n\r\n    function outer(node, content) {\r\n        return node.cloneNode(false).outerHTML.replace('><', '>'+ content +'<');\r\n    }\r\n\r\n    function canConvert(node, filter) {\r\n        if (typeof filter === 'string') {\r\n            return filter === node.nodeName.toLowerCase();\r\n        }\r\n        if (Array.isArray(filter)) {\r\n            return filter.indexOf(node.nodeName.toLowerCase()) !== -1;\r\n        }\r\n        else if (typeof filter === 'function') {\r\n            return filter.call(toMarkdown, node);\r\n        }\r\n        else {\r\n            throw new TypeError('`filter` needs to be a string, array, or function');\r\n        }\r\n    }\r\n\r\n    function isFlankedByWhitespace(side, node) {\r\n        var sibling, regExp, isFlanked;\r\n\r\n        if (side === 'left') {\r\n            sibling = node.previousSibling;\r\n            regExp = / $/;\r\n        }\r\n        else {\r\n            sibling = node.nextSibling;\r\n            regExp = /^ /;\r\n        }\r\n\r\n        if (sibling) {\r\n            if (sibling.nodeType === 3) {\r\n                isFlanked = regExp.test(sibling.nodeValue);\r\n            }\r\n            else if(sibling.nodeType === 1 && !isBlock(sibling)) {\r\n                isFlanked = regExp.test(sibling.textContent);\r\n            }\r\n        }\r\n        return isFlanked;\r\n    }\r\n\r\n    function flankingWhitespace(node) {\r\n        var leading = '', trailing = '';\r\n\r\n        if (!isBlock(node)) {\r\n            var hasLeading = /^[ \\r\\n\\t]/.test(node.innerHTML),\r\n                hasTrailing = /[ \\r\\n\\t]$/.test(node.innerHTML);\r\n\r\n            if (hasLeading && !isFlankedByWhitespace('left', node)) {\r\n                leading = ' ';\r\n            }\r\n            if (hasTrailing && !isFlankedByWhitespace('right', node)) {\r\n                trailing = ' ';\r\n            }\r\n        }\r\n\r\n        return { leading: leading, trailing: trailing };\r\n    }\r\n\r\n    /*\r\n     * Finds a Markdown converter, gets the replacement, and sets it on\r\n     * `_replacement`\r\n     */\r\n\r\n    function process(node) {\r\n        var replacement, content = getContent(node);\r\n\r\n        for (var i = 0; i < converters.length; i++) {\r\n            var converter = converters[i];\r\n\r\n            if (canConvert(node, converter.filter)) {\r\n                if (typeof converter.replacement !== 'function') {\r\n                    throw new TypeError(\r\n                        '`replacement` needs to be a function that returns a string'\r\n                    );\r\n                }\r\n\r\n                var whitespace = flankingWhitespace(node);\r\n\r\n                if (whitespace.leading || whitespace.trailing) {\r\n                    content = trim(content);\r\n                }\r\n                replacement = whitespace.leading +\r\n                    converter.replacement.call(toMarkdown, content, node) +\r\n                    whitespace.trailing;\r\n                break;\r\n            }\r\n        }\r\n\r\n        // Remove blank nodes\r\n        if (!isVoid(node) && !/A/.test(node.nodeName) && /^\\s*$/i.test(content)) {\r\n            replacement = '';\r\n        }\r\n\r\n        node._replacement = replacement;\r\n    }\r\n\r\n    toMarkdown = function (input, options) {\r\n        options = options || {};\r\n\r\n        if (typeof input !== 'string') {\r\n            throw new TypeError(input + ' is not a string');\r\n        }\r\n\r\n        // Escape potential ol triggers\r\n        input = input.replace(/(\\d+)\\. /g, '$1\\\\. ');\r\n\r\n        var clone = htmlToDom(input).body,\r\n            nodes = bfsOrder(clone),\r\n            output;\r\n\r\n        converters = mdConverters.slice(0);\r\n        if (options.gfm) {\r\n            converters = gfmConverters.concat(converters);\r\n        }\r\n\r\n        if (options.converters) {\r\n            converters = options.converters.concat(converters);\r\n        }\r\n\r\n        // Process through nodes in reverse (so deepest child elements are first).\r\n        for (var i = nodes.length - 1; i >= 0; i--) {\r\n            process(nodes[i]);\r\n        }\r\n        output = getContent(clone);\r\n\r\n        return output.replace(/^[\\t\\r\\n]+|[\\t\\r\\n\\s]+$/g, '')\r\n            .replace(/\\n\\s+\\n/g, '\\n\\n')\r\n            .replace(/\\n{3,}/g, '\\n\\n');\r\n    };\r\n\r\n    toMarkdown.isBlock = isBlock;\r\n    toMarkdown.isVoid = isVoid;\r\n    toMarkdown.trim = trim;\r\n    toMarkdown.outer = outer;\r\n\r\n    module.exports = toMarkdown;\r\n\r\n},{\"./lib/gfm-converters\":2,\"./lib/md-converters\":3,\"collapse-whitespace\":5,\"jsdom\":6}],2:[function(require,module,exports){\r\n    'use strict';\r\n\r\n    function cell(content, node) {\r\n        var index = Array.prototype.indexOf.call(node.parentNode.childNodes, node);\r\n        var prefix = ' ';\r\n        if (index === 0) { prefix = '| '; }\r\n        return prefix + content + ' |';\r\n    }\r\n\r\n    var highlightRegEx = /highlight highlight-(\\S+)/;\r\n\r\n    module.exports = [\r\n        {\r\n            filter: 'br',\r\n            replacement: function () {\r\n                return '\\n';\r\n            }\r\n        },\r\n        {\r\n            filter: ['del', 's', 'strike'],\r\n            replacement: function (content) {\r\n                return '~~' + content + '~~';\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: function (node) {\r\n                return node.type === 'checkbox' && node.parentNode.nodeName === 'LI';\r\n            },\r\n            replacement: function (content, node) {\r\n                return (node.checked ? '[x]' : '[ ]') + ' ';\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: ['th', 'td'],\r\n            replacement: function (content, node) {\r\n                return cell(content, node);\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: 'tr',\r\n            replacement: function (content, node) {\r\n                var borderCells = '';\r\n                var alignMap = { left: ':--', right: '--:', center: ':-:' };\r\n\r\n                if (node.parentNode.nodeName === 'THEAD') {\r\n                    for (var i = 0; i < node.childNodes.length; i++) {\r\n                        var align = node.childNodes[i].attributes.align;\r\n                        var border = '---';\r\n\r\n                        if (align) { border = alignMap[align.value] || border; }\r\n\r\n                        borderCells += cell(border, node.childNodes[i]);\r\n                    }\r\n                }\r\n                return '\\n' + content + (borderCells ? '\\n' + borderCells : '');\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: 'table',\r\n            replacement: function (content) {\r\n                return '\\n\\n' + content + '\\n\\n';\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: ['thead', 'tbody', 'tfoot'],\r\n            replacement: function (content) {\r\n                return content;\r\n            }\r\n        },\r\n\r\n        // Fenced code blocks\r\n        {\r\n            filter: function (node) {\r\n                return node.nodeName === 'PRE' &&\r\n                    node.firstChild &&\r\n                    node.firstChild.nodeName === 'CODE';\r\n            },\r\n            replacement: function(content, node) {\r\n                return '\\n\\n```\\n' + node.firstChild.textContent + '\\n```\\n\\n';\r\n            }\r\n        },\r\n\r\n        // Syntax-highlighted code blocks\r\n        {\r\n            filter: function (node) {\r\n                return node.nodeName === 'PRE' &&\r\n                    node.parentNode.nodeName === 'DIV' &&\r\n                    highlightRegEx.test(node.parentNode.className);\r\n            },\r\n            replacement: function (content, node) {\r\n                var language = node.parentNode.className.match(highlightRegEx)[1];\r\n                return '\\n\\n```' + language + '\\n' + node.textContent + '\\n```\\n\\n';\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: function (node) {\r\n                return node.nodeName === 'DIV' &&\r\n                    highlightRegEx.test(node.className);\r\n            },\r\n            replacement: function (content) {\r\n                return '\\n\\n' + content + '\\n\\n';\r\n            }\r\n        }\r\n    ];\r\n\r\n},{}],3:[function(require,module,exports){\r\n    'use strict';\r\n\r\n    module.exports = [\r\n        {\r\n            filter: 'p',\r\n            replacement: function (content) {\r\n                return '\\n\\n' + content + '\\n\\n';\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: 'br',\r\n            replacement: function () {\r\n                return '  \\n';\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: ['h1', 'h2', 'h3', 'h4','h5', 'h6'],\r\n            replacement: function(content, node) {\r\n                var hLevel = node.nodeName.charAt(1);\r\n                var hPrefix = '';\r\n                for(var i = 0; i < hLevel; i++) {\r\n                    hPrefix += '#';\r\n                }\r\n                return '\\n\\n' + hPrefix + ' ' + content + '\\n\\n';\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: 'hr',\r\n            replacement: function () {\r\n                return '\\n\\n* * *\\n\\n';\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: ['em', 'i'],\r\n            replacement: function (content) {\r\n                return '_' + content + '_';\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: ['strong', 'b'],\r\n            replacement: function (content) {\r\n                return '**' + content + '**';\r\n            }\r\n        },\r\n\r\n        // Inline code\r\n        {\r\n            filter: function (node) {\r\n                var hasSiblings = node.previousSibling || node.nextSibling;\r\n                var isCodeBlock = node.parentNode.nodeName === 'PRE' && !hasSiblings;\r\n\r\n                return node.nodeName === 'CODE' && !isCodeBlock;\r\n            },\r\n            replacement: function(content) {\r\n                return '`' + content + '`';\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: function (node) {\r\n                return node.nodeName === 'A' && node.getAttribute('href');\r\n            },\r\n            replacement: function(content, node) {\r\n                var titlePart = node.title ? ' \"'+ node.title +'\"' : '';\r\n                return '[' + content + '](' + node.getAttribute('href') + titlePart + ')';\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: 'img',\r\n            replacement: function(content, node) {\r\n                var alt = node.alt || '';\r\n                var src = node.getAttribute('src') || '';\r\n                var title = node.title || '';\r\n                var titlePart = title ? ' \"'+ title +'\"' : '';\r\n                return src ? '![' + alt + ']' + '(' + src + titlePart + ')' : '';\r\n            }\r\n        },\r\n\r\n        // Code blocks\r\n        {\r\n            filter: function (node) {\r\n                return node.nodeName === 'PRE' && node.firstChild.nodeName === 'CODE';\r\n            },\r\n            replacement: function(content, node) {\r\n                return '\\n\\n    ' + node.firstChild.textContent.replace(/\\n/g, '\\n    ') + '\\n\\n';\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: 'blockquote',\r\n            replacement: function (content) {\r\n                content = this.trim(content);\r\n                content = content.replace(/\\n{3,}/g, '\\n\\n');\r\n                content = content.replace(/^/gm, '> ');\r\n                return '\\n\\n' + content + '\\n\\n';\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: 'li',\r\n            replacement: function (content, node) {\r\n                content = content.replace(/^\\s+/, '').replace(/\\n/gm, '\\n    ');\r\n                var prefix = '*   ';\r\n                var parent = node.parentNode;\r\n                var index = Array.prototype.indexOf.call(parent.children, node) + 1;\r\n\r\n                prefix = /ol/i.test(parent.nodeName) ? index + '.  ' : '*   ';\r\n                return prefix + content;\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: ['ul', 'ol'],\r\n            replacement: function (content, node) {\r\n                var strings = [];\r\n                for (var i = 0; i < node.childNodes.length; i++) {\r\n                    strings.push(node.childNodes[i]._replacement);\r\n                }\r\n\r\n                if (/li/i.test(node.parentNode.nodeName)) {\r\n                    return '\\n' + strings.join('\\n');\r\n                }\r\n                return '\\n\\n' + strings.join('\\n') + '\\n\\n';\r\n            }\r\n        },\r\n\r\n        {\r\n            filter: function (node) {\r\n                return this.isBlock(node);\r\n            },\r\n            replacement: function (content, node) {\r\n                return '\\n\\n' + this.outer(node, content) + '\\n\\n';\r\n            }\r\n        },\r\n\r\n        // Anything else!\r\n        {\r\n            filter: function () {\r\n                return true;\r\n            },\r\n            replacement: function (content, node) {\r\n                return this.outer(node, content);\r\n            }\r\n        }\r\n    ];\r\n},{}],4:[function(require,module,exports){\r\n    /**\r\n     * This file automatically generated from `build.js`.\r\n     * Do not manually edit.\r\n     */\r\n\r\n    module.exports = [\r\n        \"address\",\r\n        \"article\",\r\n        \"aside\",\r\n        \"audio\",\r\n        \"blockquote\",\r\n        \"canvas\",\r\n        \"dd\",\r\n        \"div\",\r\n        \"dl\",\r\n        \"fieldset\",\r\n        \"figcaption\",\r\n        \"figure\",\r\n        \"footer\",\r\n        \"form\",\r\n        \"h1\",\r\n        \"h2\",\r\n        \"h3\",\r\n        \"h4\",\r\n        \"h5\",\r\n        \"h6\",\r\n        \"header\",\r\n        \"hgroup\",\r\n        \"hr\",\r\n        \"noscript\",\r\n        \"ol\",\r\n        \"output\",\r\n        \"p\",\r\n        \"pre\",\r\n        \"section\",\r\n        \"table\",\r\n        \"tfoot\",\r\n        \"ul\",\r\n        \"video\"\r\n    ];\r\n\r\n},{}],5:[function(require,module,exports){\r\n    'use strict';\r\n\r\n    var blocks = require('block-elements').map(function (name) {\r\n        return name.toUpperCase()\r\n    })\r\n\r\n    function defaultBlockTest (node) {\r\n        return isElem(node) && blocks.indexOf(node.nodeName) >= 0\r\n    }\r\n\r\n    function isText (node) {\r\n        return node && node.nodeType === 3 // Node.TEXT_NODE\r\n    }\r\n\r\n    function isElem (node) {\r\n        return node && node.nodeType === 1 // Node.ELEMENT_NODE\r\n    }\r\n\r\n    /**\r\n     * whitespace(elem [, isBlock]) removes extraneous whitespace from an\r\n     * the given element. The function isBlock may optionally be passed in\r\n     * to determine whether or not an element is a block element; if none\r\n     * is provided, defaults to using the list of block elements provided\r\n     * by the `block-elements` module.\r\n     *\r\n     * @param {Element} root\r\n     * @param {Function} isBlock\r\n     */\r\n    function whitespace (root, isBlock) {\r\n        var startSpace = /^ /,\r\n            endSpace = / $/,\r\n            nextNode,\r\n            prevNode,\r\n            prevText,\r\n            node,\r\n            text\r\n\r\n        if (typeof isBlock !== 'function')\r\n            isBlock = defaultBlockTest\r\n\r\n        function next (node) {\r\n            while (node && node !== root) {\r\n                if (node.nextSibling)\r\n                    return node.nextSibling\r\n\r\n                node = node.parentNode\r\n                if (prevText && isBlock(node)) {\r\n                    prevText.data = prevText.data.replace(/[ \\r\\n\\t]$/, '')\r\n                    prevText = null\r\n                }\r\n            }\r\n\r\n            return null\r\n        }\r\n\r\n        function first (node) {\r\n            return node.firstChild ? node.firstChild : next(node)\r\n        }\r\n\r\n        function remove (node) {\r\n            var nextNode = next(node)\r\n\r\n            node.parentNode.removeChild(node)\r\n            return nextNode\r\n        }\r\n\r\n        if (root.nodeName === 'PRE') return\r\n\r\n        // Join adjacent text nodes and whatnot.\r\n        root.normalize()\r\n\r\n        node = first(root)\r\n        while (node) {\r\n            prevNode = node.previousSibling\r\n            nextNode = node.nextSibling\r\n\r\n            if (isText(node)) {\r\n                text = node.data.replace(/[ \\r\\n\\t]+/g, ' ')\r\n\r\n                if (!prevText || prevNode && isBlock(prevNode))\r\n                    text = text.replace(startSpace, '')\r\n                if (nextNode && isBlock(nextNode))\r\n                    text = text.replace(endSpace, '')\r\n\r\n                if (prevText && endSpace.test(prevText.data) &&\r\n                    startSpace.test(text))\r\n                    text = text.substr(1)\r\n\r\n                if (text) {\r\n                    node.data = text\r\n                    prevText = node\r\n                    node = next(node)\r\n                } else {\r\n                    node = remove(node)\r\n                }\r\n            } else if (isElem(node)) {\r\n                if (node.nodeName === 'PRE') {\r\n                    node = next(node)\r\n                    continue\r\n                }\r\n\r\n                if (prevText && isBlock(node)) {\r\n                    prevText.data = prevText.data.replace(endSpace, '')\r\n                    prevText = null\r\n                }\r\n\r\n                node = first(node)\r\n            } else {\r\n                node = remove(node)\r\n            }\r\n        }\r\n\r\n        // Trim trailing space from last text node\r\n        if (prevText)\r\n            prevText.data = prevText.data.replace(endSpace, '')\r\n    }\r\n\r\n    module.exports = whitespace\r\n\r\n},{\"block-elements\":4}],6:[function(require,module,exports){\r\n\r\n},{}]},{},[1])(1)\r\n});\n\n//# sourceURL=webpack:///./src/public/js/vendor/tomarkdown/tomarkdown.js?");

/***/ })

}]);